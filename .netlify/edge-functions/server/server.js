globalThis._importMeta_={url:"file:///_entry.js",env:{}};const e={};let t,n;function defaultSetTimeout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(t===setTimeout)return setTimeout(e,0);if((t===defaultSetTimeout||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch{try{return t.call(null,e,0)}catch{return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:defaultSetTimeout}catch{t=defaultSetTimeout}try{n="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch{n=defaultClearTimeout}}();let l,i=[],s=!1,o=-1;function cleanUpNextTick(){s&&l&&(s=!1,l.length>0?i=[...l,...i]:o=-1,i.length>0&&drainQueue())}function drainQueue(){if(s)return;const e=runTimeout(cleanUpNextTick);s=!0;let t=i.length;for(;t;){for(l=i,i=[];++o<t;)l&&l[o].run();o=-1,t=i.length}l=null,s=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===defaultClearTimeout||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch{try{return n.call(null,e)}catch{return n.call(this,e)}}}(e)}function Item(e,t){this.fun=e,this.array=t}e.nextTick=function(e){const t=Array.from({length:arguments.length-1});if(arguments.length>1)for(let e=1;e<arguments.length;e++)t[e-1]=arguments[e];i.push(new Item(e,t)),1!==i.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},e.title="unenv";const u=Object.create(null),d=globalThis.process?.env,_getEnv=e=>d||globalThis.__env__||(e?u:globalThis);function noop$5(){return e}e.env=new Proxy(u,{get:(e,t)=>_getEnv()[t]??u[t],has:(e,t)=>t in _getEnv()||t in u,set:(e,t,n)=>(_getEnv(!0)[t]=n,!0),deleteProperty(e,t){delete _getEnv(!0)[t]},ownKeys(){const e=_getEnv();return Object.keys(e)}}),e.argv=[],e.version="",e.versions={},e.on=noop$5,e.addListener=noop$5,e.once=noop$5,e.off=noop$5,e.removeListener=noop$5,e.removeAllListeners=noop$5,e.emit=noop$5,e.prependListener=noop$5,e.prependOnceListener=noop$5,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("[unenv] process.binding is not supported")};let h="/";e.cwd=function(){return h},e.chdir=function(e){h=e},e.umask=function(){return 0};const m="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof global?global:{};m.process=m.process||e;const b=m.process;function createNotImplementedError(e){throw new Error(`[unenv] ${e} is not implemented yet!`)}function notImplemented(e){return Object.assign((()=>{throw createNotImplementedError(e)}),{__unenv__:!0})}Object.assign(b.env,Deno.env.toObject());const V=[],g=[],f="undefined"==typeof Uint8Array?Array:Uint8Array,S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(let e=0,t=64;e<t;++e)V[e]=S[e],g[S.charCodeAt(e)]=e;function toByteArray(e){let t;const n=function(e){const t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");let n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}(e),l=n[0],i=n[1],s=new f(function(e,t,n){return 3*(t+n)/4-n}(0,l,i));let o=0;const u=i>0?l-4:l;let d;for(d=0;d<u;d+=4)t=g[e.charCodeAt(d)]<<18|g[e.charCodeAt(d+1)]<<12|g[e.charCodeAt(d+2)]<<6|g[e.charCodeAt(d+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=255&t;return 2===i&&(t=g[e.charCodeAt(d)]<<2|g[e.charCodeAt(d+1)]>>4,s[o++]=255&t),1===i&&(t=g[e.charCodeAt(d)]<<10|g[e.charCodeAt(d+1)]<<4|g[e.charCodeAt(d+2)]>>2,s[o++]=t>>8&255,s[o++]=255&t),s}function encodeChunk(e,t,n){let l;const i=[];for(let o=t;o<n;o+=3)l=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(V[(s=l)>>18&63]+V[s>>12&63]+V[s>>6&63]+V[63&s]);var s;return i.join("")}function fromByteArray(e){let t;const n=e.length,l=n%3,i=[],s=16383;for(let t=0,o=n-l;t<o;t+=s)i.push(encodeChunk(e,t,t+s>o?o:t+s));return 1===l?(t=e[n-1],i.push(V[t>>2]+V[t<<4&63]+"==")):2===l&&(t=(e[n-2]<<8)+e[n-1],i.push(V[t>>10]+V[t>>4&63]+V[t<<2&63]+"=")),i.join("")}function read(e,t,n,l,i){let s,o;const u=8*i-l-1,d=(1<<u)-1,h=d>>1;let m=-7,b=n?i-1:0;const V=n?-1:1;let g=e[t+b];for(b+=V,s=g&(1<<-m)-1,g>>=-m,m+=u;m>0;)s=256*s+e[t+b],b+=V,m-=8;for(o=s&(1<<-m)-1,s>>=-m,m+=l;m>0;)o=256*o+e[t+b],b+=V,m-=8;if(0===s)s=1-h;else{if(s===d)return o?Number.NaN:(g?-1:1)*Number.POSITIVE_INFINITY;o+=Math.pow(2,l),s-=h}return(g?-1:1)*o*Math.pow(2,s-l)}function write(e,t,n,l,i,s){let o,u,d,h=8*s-i-1;const m=(1<<h)-1,b=m>>1,V=23===i?Math.pow(2,-24)-Math.pow(2,-77):0;let g=l?0:s-1;const f=l?1:-1,S=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),Number.isNaN(t)||t===Number.POSITIVE_INFINITY?(u=Number.isNaN(t)?1:0,o=m):(o=Math.floor(Math.log2(t)),t*(d=Math.pow(2,-o))<1&&(o--,d*=2),(t+=o+b>=1?V/d:V*Math.pow(2,1-b))*d>=2&&(o++,d/=2),o+b>=m?(u=0,o=m):o+b>=1?(u=(t*d-1)*Math.pow(2,i),o+=b):(u=t*Math.pow(2,b-1)*Math.pow(2,i),o=0));i>=8;)e[n+g]=255&u,g+=f,u/=256,i-=8;for(o=o<<i|u,h+=i;h>0;)e[n+g]=255&o,g+=f,o/=256,h-=8;e[n+g-f]|=128*S}g["-".charCodeAt(0)]=62,g["_".charCodeAt(0)]=63;const L="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,v=2147483647;function createBuffer(e){if(e>v)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,Buffer$1.prototype),t}function Buffer$1(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(e)}return from$1(e,t,n)}function from$1(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!Buffer$1.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|byteLength(e,t);let l=createBuffer(n);const i=l.write(e,t);i!==n&&(l=l.slice(0,i));return l}(e,t);if(ArrayBuffer.isView(e))return function(e){if(isInstance(e,Uint8Array)){const t=new Uint8Array(e);return fromArrayBuffer(t.buffer,t.byteOffset,t.byteLength)}return fromArrayLike$1(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(isInstance(e,ArrayBuffer)||e&&isInstance(e.buffer,ArrayBuffer))return fromArrayBuffer(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(isInstance(e,SharedArrayBuffer)||e&&isInstance(e.buffer,SharedArrayBuffer)))return fromArrayBuffer(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const l=e.valueOf&&e.valueOf();if(null!=l&&l!==e)return Buffer$1.from(l,t,n);const i=function(e){if(Buffer$1.isBuffer(e)){const t=0|checked(e.length),n=createBuffer(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||numberIsNaN(e.length)?createBuffer(0):fromArrayLike$1(e);if("Buffer"===e.type&&Array.isArray(e.data))return fromArrayLike$1(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return Buffer$1.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function allocUnsafe(e){return assertSize(e),createBuffer(e<0?0:0|checked(e))}function fromArrayLike$1(e){const t=e.length<0?0:0|checked(e.length),n=createBuffer(t);for(let l=0;l<t;l+=1)n[l]=255&e[l];return n}function fromArrayBuffer(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let l;return l=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(l,Buffer$1.prototype),l}function checked(e){if(e>=v)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+v.toString(16)+" bytes");return 0|e}function byteLength(e,t){if(Buffer$1.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||isInstance(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,l=arguments.length>2&&!0===arguments[2];if(!l&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return base64ToBytes(e).length;default:if(i)return l?-1:utf8ToBytes(e).length;t=(""+t).toLowerCase(),i=!0}}function slowToString(e,t,n){let l=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,n);case"utf8":case"utf-8":return utf8Slice(this,t,n);case"ascii":return asciiSlice(this,t,n);case"latin1":case"binary":return latin1Slice(this,t,n);case"base64":return base64Slice(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,n);default:if(l)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),l=!0}}function swap(e,t,n){const l=e[t];e[t]=e[n],e[n]=l}function bidirectionalIndexOf(e,t,n,l,i){if(0===e.length)return-1;if("string"==typeof n?(l=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),numberIsNaN(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=Buffer$1.from(t,l)),Buffer$1.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,n,l,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):arrayIndexOf(e,[t],n,l,i);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,n,l,i){let s,o=1,u=e.length,d=t.length;if(void 0!==l&&("ucs2"===(l=String(l).toLowerCase())||"ucs-2"===l||"utf16le"===l||"utf-16le"===l)){if(e.length<2||t.length<2)return-1;o=2,u/=2,d/=2,n/=2}function read(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let l=-1;for(s=n;s<u;s++)if(read(e,s)===read(t,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===d)return l*o}else-1!==l&&(s-=s-l),l=-1}else for(n+d>u&&(n=u-d),s=n;s>=0;s--){let n=!0;for(let l=0;l<d;l++)if(read(e,s+l)!==read(t,l)){n=!1;break}if(n)return s}return-1}function hexWrite(e,t,n,l){n=Number(n)||0;const i=e.length-n;l?(l=Number(l))>i&&(l=i):l=i;const s=t.length;let o;for(l>s/2&&(l=s/2),o=0;o<l;++o){const l=Number.parseInt(t.slice(2*o,2*o+2),16);if(numberIsNaN(l))return o;e[n+o]=l}return o}function utf8Write(e,t,n,l){return blitBuffer(utf8ToBytes(t,e.length-n),e,n,l)}function asciiWrite(e,t,n,l){return blitBuffer(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,l)}function base64Write(e,t,n,l){return blitBuffer(base64ToBytes(t),e,n,l)}function ucs2Write(e,t,n,l){return blitBuffer(function(e,t){let n,l,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),l=n>>8,i=n%256,s.push(i,l);return s}(t,e.length-n),e,n,l)}function base64Slice(e,t,n){return 0===t&&n===e.length?fromByteArray(e):fromByteArray(e.slice(t,n))}function utf8Slice(e,t,n){n=Math.min(e.length,n);const l=[];let i=t;for(;i<n;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=n){let n,l,u,d;switch(o){case 1:t<128&&(s=t);break;case 2:n=e[i+1],128==(192&n)&&(d=(31&t)<<6|63&n,d>127&&(s=d));break;case 3:n=e[i+1],l=e[i+2],128==(192&n)&&128==(192&l)&&(d=(15&t)<<12|(63&n)<<6|63&l,d>2047&&(d<55296||d>57343)&&(s=d));break;case 4:n=e[i+1],l=e[i+2],u=e[i+3],128==(192&n)&&128==(192&l)&&128==(192&u)&&(d=(15&t)<<18|(63&n)<<12|(63&l)<<6|63&u,d>65535&&d<1114112&&(s=d))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,l.push(s>>>10&1023|55296),s=56320|1023&s),l.push(s),i+=o}return function(e){const t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);let n="",l=0;for(;l<t;)n+=String.fromCharCode.apply(String,e.slice(l,l+=k));return n}(l)}Buffer$1.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}(),Buffer$1.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This environment lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer$1.prototype,"parent",{enumerable:!0,get:function(){if(Buffer$1.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer$1.prototype,"offset",{enumerable:!0,get:function(){if(Buffer$1.isBuffer(this))return this.byteOffset}}),Buffer$1.poolSize=8192,Buffer$1.from=function(e,t,n){return from$1(e,t,n)},Object.setPrototypeOf(Buffer$1.prototype,Uint8Array.prototype),Object.setPrototypeOf(Buffer$1,Uint8Array),Buffer$1.alloc=function(e,t,n){return function(e,t,n){return assertSize(e),e<=0?createBuffer(e):void 0!==t?"string"==typeof n?createBuffer(e).fill(t,n):createBuffer(e).fill(t):createBuffer(e)}(e,t,n)},Buffer$1.allocUnsafe=function(e){return allocUnsafe(e)},Buffer$1.allocUnsafeSlow=function(e){return allocUnsafe(e)},Buffer$1.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==Buffer$1.prototype},Buffer$1.compare=function(e,t){if(isInstance(e,Uint8Array)&&(e=Buffer$1.from(e,e.offset,e.byteLength)),isInstance(t,Uint8Array)&&(t=Buffer$1.from(t,t.offset,t.byteLength)),!Buffer$1.isBuffer(e)||!Buffer$1.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,l=t.length;for(let i=0,s=Math.min(n,l);i<s;++i)if(e[i]!==t[i]){n=e[i],l=t[i];break}return n<l?-1:l<n?1:0},Buffer$1.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer$1.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer$1.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const l=Buffer$1.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(isInstance(t,Uint8Array))i+t.length>l.length?(Buffer$1.isBuffer(t)||(t=Buffer$1.from(t.buffer,t.byteOffset,t.byteLength)),t.copy(l,i)):Uint8Array.prototype.set.call(l,t,i);else{if(!Buffer$1.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(l,i)}i+=t.length}return l},Buffer$1.byteLength=byteLength,Buffer$1.prototype._isBuffer=!0,Buffer$1.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer$1.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer$1.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer$1.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):Reflect.apply(slowToString,this,arguments)},Buffer$1.prototype.toLocaleString=Buffer$1.prototype.toString,Buffer$1.prototype.equals=function(e){if(!Buffer$1.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer$1.compare(this,e)},Buffer$1.prototype.inspect=function(){let e="";return e=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(e+=" ... "),"<Buffer "+e+">"},L&&(Buffer$1.prototype[L]=Buffer$1.prototype.inspect),Buffer$1.prototype.compare=function(e,t,n,l,i){if(isInstance(e,Uint8Array)&&(e=Buffer$1.from(e,e.offset,e.byteLength)),!Buffer$1.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===l&&(l=0),void 0===i&&(i=this.length),t<0||n>e.length||l<0||i>this.length)throw new RangeError("out of range index");if(l>=i&&t>=n)return 0;if(l>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let s=(i>>>=0)-(l>>>=0),o=(n>>>=0)-(t>>>=0);const u=Math.min(s,o),d=this.slice(l,i),h=e.slice(t,n);for(let e=0;e<u;++e)if(d[e]!==h[e]){s=d[e],o=h[e];break}return s<o?-1:o<s?1:0},Buffer$1.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},Buffer$1.prototype.indexOf=function(e,t,n){return bidirectionalIndexOf(this,e,t,n,!0)},Buffer$1.prototype.lastIndexOf=function(e,t,n){return bidirectionalIndexOf(this,e,t,n,!1)},Buffer$1.prototype.write=function(e,t,n,l){if(void 0===t)l="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)l=t,n=this.length,t=0;else{if(!Number.isFinite(t))throw new TypeError("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,Number.isFinite(n)?(n>>>=0,void 0===l&&(l="utf8")):(l=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");l||(l="utf8");let s=!1;for(;;)switch(l){case"hex":return hexWrite(this,e,t,n);case"utf8":case"utf-8":return utf8Write(this,e,t,n);case"ascii":case"latin1":case"binary":return asciiWrite(this,e,t,n);case"base64":return base64Write(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+l);l=(""+l).toLowerCase(),s=!0}},Buffer$1.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const k=4096;function asciiSlice(e,t,n){let l="";n=Math.min(e.length,n);for(let i=t;i<n;++i)l+=String.fromCharCode(127&e[i]);return l}function latin1Slice(e,t,n){let l="";n=Math.min(e.length,n);for(let i=t;i<n;++i)l+=String.fromCharCode(e[i]);return l}function hexSlice(e,t,n){const l=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>l)&&(n=l);let i="";for(let l=t;l<n;++l)i+=z[e[l]];return i}function utf16leSlice(e,t,n){const l=e.slice(t,n);let i="";for(let e=0;e<l.length-1;e+=2)i+=String.fromCharCode(l[e]+256*l[e+1]);return i}function checkOffset(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,n,l,i,s){if(!Buffer$1.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+l>e.length)throw new RangeError("Index out of range")}function wrtBigUInt64LE(e,t,n,l,i){checkIntBI(t,l,i,e,n,7);let s=Number(t&BigInt(4294967295));e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function wrtBigUInt64BE(e,t,n,l,i){checkIntBI(t,l,i,e,n,7);let s=Number(t&BigInt(4294967295));e[n+7]=s,s>>=8,e[n+6]=s,s>>=8,e[n+5]=s,s>>=8,e[n+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}function checkIEEE754(e,t,n,l,i,s){if(n+l>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function writeFloat(e,t,n,l,i){return t=+t,n>>>=0,i||checkIEEE754(e,0,n,4),write(e,t,n,l,23,4),n+4}function writeDouble(e,t,n,l,i){return t=+t,n>>>=0,i||checkIEEE754(e,0,n,8),write(e,t,n,l,52,8),n+8}Buffer$1.prototype.slice=function(e,t){const n=this.length;(e=Math.trunc(e))<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:Math.trunc(t))<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const l=this.subarray(e,t);return Object.setPrototypeOf(l,Buffer$1.prototype),l},Buffer$1.prototype.readUintLE=Buffer$1.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||checkOffset(e,t,this.length);let l=this[e],i=1,s=0;for(;++s<t&&(i*=256);)l+=this[e+s]*i;return l},Buffer$1.prototype.readUintBE=Buffer$1.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||checkOffset(e,t,this.length);let l=this[e+--t],i=1;for(;t>0&&(i*=256);)l+=this[e+--t]*i;return l},Buffer$1.prototype.readUint8=Buffer$1.prototype.readUInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),this[e]},Buffer$1.prototype.readUint16LE=Buffer$1.prototype.readUInt16LE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer$1.prototype.readUint16BE=Buffer$1.prototype.readUInt16BE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer$1.prototype.readUint32LE=Buffer$1.prototype.readUInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer$1.prototype.readUint32BE=Buffer$1.prototype.readUInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer$1.prototype.readBigUInt64LE=defineBigIntMethod((function(e){validateNumber(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||boundsError(e,this.length-8);const l=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(l)+(BigInt(i)<<BigInt(32))})),Buffer$1.prototype.readBigUInt64BE=defineBigIntMethod((function(e){validateNumber(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||boundsError(e,this.length-8);const l=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(l)<<BigInt(32))+BigInt(i)})),Buffer$1.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||checkOffset(e,t,this.length);let l=this[e],i=1,s=0;for(;++s<t&&(i*=256);)l+=this[e+s]*i;return i*=128,l>=i&&(l-=Math.pow(2,8*t)),l},Buffer$1.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||checkOffset(e,t,this.length);let l=t,i=1,s=this[e+--l];for(;l>0&&(i*=256);)s+=this[e+--l]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},Buffer$1.prototype.readInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer$1.prototype.readInt16LE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Buffer$1.prototype.readInt16BE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Buffer$1.prototype.readInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer$1.prototype.readInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer$1.prototype.readBigInt64LE=defineBigIntMethod((function(e){validateNumber(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||boundsError(e,this.length-8);const l=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(l)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),Buffer$1.prototype.readBigInt64BE=defineBigIntMethod((function(e){validateNumber(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||boundsError(e,this.length-8);const l=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(l)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),Buffer$1.prototype.readFloatLE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),read(this,e,!0,23,4)},Buffer$1.prototype.readFloatBE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),read(this,e,!1,23,4)},Buffer$1.prototype.readDoubleLE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),read(this,e,!0,52,8)},Buffer$1.prototype.readDoubleBE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),read(this,e,!1,52,8)},Buffer$1.prototype.writeUintLE=Buffer$1.prototype.writeUIntLE=function(e,t,n,l){if(e=+e,t>>>=0,n>>>=0,!l){checkInt(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},Buffer$1.prototype.writeUintBE=Buffer$1.prototype.writeUIntBE=function(e,t,n,l){if(e=+e,t>>>=0,n>>>=0,!l){checkInt(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},Buffer$1.prototype.writeUint8=Buffer$1.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||checkInt(this,e,t,1,255,0),this[t]=255&e,t+1},Buffer$1.prototype.writeUint16LE=Buffer$1.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||checkInt(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer$1.prototype.writeUint16BE=Buffer$1.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||checkInt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer$1.prototype.writeUint32LE=Buffer$1.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||checkInt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Buffer$1.prototype.writeUint32BE=Buffer$1.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||checkInt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer$1.prototype.writeBigUInt64LE=defineBigIntMethod((function(e,t=0){return wrtBigUInt64LE(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),Buffer$1.prototype.writeBigUInt64BE=defineBigIntMethod((function(e,t=0){return wrtBigUInt64BE(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),Buffer$1.prototype.writeIntLE=function(e,t,n,l){if(e=+e,t>>>=0,!l){const l=Math.pow(2,8*n-1);checkInt(this,e,t,n,l-1,-l)}let i=0,s=1,o=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=Math.trunc(e/s)-o&255;return t+n},Buffer$1.prototype.writeIntBE=function(e,t,n,l){if(e=+e,t>>>=0,!l){const l=Math.pow(2,8*n-1);checkInt(this,e,t,n,l-1,-l)}let i=n-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=Math.trunc(e/s)-o&255;return t+n},Buffer$1.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||checkInt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer$1.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||checkInt(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer$1.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||checkInt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer$1.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||checkInt(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Buffer$1.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer$1.prototype.writeBigInt64LE=defineBigIntMethod((function(e,t=0){return wrtBigUInt64LE(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),Buffer$1.prototype.writeBigInt64BE=defineBigIntMethod((function(e,t=0){return wrtBigUInt64BE(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),Buffer$1.prototype.writeFloatLE=function(e,t,n){return writeFloat(this,e,t,!0,n)},Buffer$1.prototype.writeFloatBE=function(e,t,n){return writeFloat(this,e,t,!1,n)},Buffer$1.prototype.writeDoubleLE=function(e,t,n){return writeDouble(this,e,t,!0,n)},Buffer$1.prototype.writeDoubleBE=function(e,t,n){return writeDouble(this,e,t,!1,n)},Buffer$1.prototype.copy=function(e,t,n,l){if(!Buffer$1.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),l||0===l||(l=this.length),t>=e.length&&(t=e.length),t||(t=0),l>0&&l<n&&(l=n),l===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("sourceEnd out of bounds");l>this.length&&(l=this.length),e.length-t<l-n&&(l=e.length-t+n);const i=l-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,l):Uint8Array.prototype.set.call(e,this.subarray(n,l),t),i},Buffer$1.prototype.fill=function(e,t,n,l){if("string"==typeof e){if("string"==typeof t?(l=t,t=0,n=this.length):"string"==typeof n&&(l=n,n=this.length),void 0!==l&&"string"!=typeof l)throw new TypeError("encoding must be a string");if("string"==typeof l&&!Buffer$1.isEncoding(l))throw new TypeError("Unknown encoding: "+l);if(1===e.length){const t=e.charCodeAt(0);("utf8"===l&&t<128||"latin1"===l)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const s=Buffer$1.isBuffer(e)?e:Buffer$1.from(e,l),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=s[i%o]}return this};const C={};function E$1(e,t,n){C[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:Reflect.apply(t,this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function addNumericalSeparator(e){let t="",n=e.length;const l="-"===e[0]?1:0;for(;n>=l+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function checkIntBI(e,t,n,l,i,s){if(e>n||e<t){const l="bigint"==typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${l} and < 2${l} ** ${8*(s+1)}${l}`:`>= -(2${l} ** ${8*(s+1)-1}${l}) and < 2 ** ${8*(s+1)-1}${l}`:`>= ${t}${l} and <= ${n}${l}`,new C.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){validateNumber(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||boundsError(t,e.length-(n+1))}(l,i,s)}function validateNumber(e,t){if("number"!=typeof e)throw new C.ERR_INVALID_ARG_TYPE(t,"number",e)}function boundsError(e,t,n){if(Math.floor(e)!==e)throw validateNumber(e,n),new C.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new C.ERR_BUFFER_OUT_OF_BOUNDS;throw new C.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}E$1("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),E$1("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),E$1("ERR_OUT_OF_RANGE",(function(e,t,n){let l=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=addNumericalSeparator(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=addNumericalSeparator(i)),i+="n"),l+=` It must be ${t}. Received ${i}`,l}),RangeError);const F=/[^\w+/-]/g;function utf8ToBytes(e,t){let n;t=t||Number.POSITIVE_INFINITY;const l=e.length;let i=null;const s=[];for(let o=0;o<l;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===l){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function base64ToBytes(e){return toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function blitBuffer(e,t,n,l){let i;for(i=0;i<l&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function isInstance(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function numberIsNaN(e){return e!=e}const z=function(){const e="0123456789abcdef",t=Array.from({length:256});for(let n=0;n<16;++n){const l=16*n;for(let i=0;i<16;++i)t[l+i]=e[n]+e[i]}return t}();function defineBigIntMethod(e){return"undefined"==typeof BigInt?BufferBigIntNotDefined:e}function BufferBigIntNotDefined(){throw new Error("BigInt not supported")}const E=globalThis.Buffer||Buffer$1;notImplemented("buffer.resolveObjectURL"),notImplemented("buffer.transcode"),notImplemented("buffer.isUtf8"),notImplemented("buffer.isAscii");const w=/#/g,j=/&/g,_=/\//g,D=/=/g,$=/\+/g,ee=/%5e/gi,te=/%60/gi,ne=/%7c/gi,le=/%20/gi;function encodeQueryValue(e){return(t="string"==typeof e?e:JSON.stringify(e),encodeURI(""+t).replace(ne,"|")).replace($,"%2B").replace(le,"+").replace(w,"%23").replace(j,"%26").replace(te,"`").replace(ee,"^").replace(_,"%2F");var t}function encodeQueryKey(e){return encodeQueryValue(e).replace(D,"%3D")}function decode$1(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function decodeQueryValue(e){return decode$1(e.replace($," "))}function parseQuery(e=""){const t={};"?"===e[0]&&(e=e.slice(1));for(const n of e.split("&")){const e=n.match(/([^=]+)=?(.*)/)||[];if(e.length<2)continue;const l=decode$1(e[1].replace($," "));if("__proto__"===l||"constructor"===l)continue;const i=decodeQueryValue(e[2]||"");void 0===t[l]?t[l]=i:Array.isArray(t[l])?t[l].push(i):t[l]=[t[l],i]}return t}function stringifyQuery(e){return Object.keys(e).filter((t=>void 0!==e[t])).map((t=>{return n=t,"number"!=typeof(l=e[t])&&"boolean"!=typeof l||(l=String(l)),l?Array.isArray(l)?l.map((e=>`${encodeQueryKey(n)}=${encodeQueryValue(e)}`)).join("&"):`${encodeQueryKey(n)}=${encodeQueryValue(l)}`:encodeQueryKey(n);var n,l})).filter(Boolean).join("&")}const ie=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,se=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,oe=/^([/\\]\s*){2,}[^/\\]/,ce=/\/$|\/\?|\/#/,ae=/^\.?\//;function hasProtocol(e,t={}){return"boolean"==typeof t&&(t={acceptRelative:t}),t.strict?ie.test(e):se.test(e)||!!t.acceptRelative&&oe.test(e)}function hasTrailingSlash(e="",t){return t?ce.test(e):e.endsWith("/")}function withoutTrailingSlash(e="",t){if(!t)return(hasTrailingSlash(e)?e.slice(0,-1):e)||"/";if(!hasTrailingSlash(e,!0))return e||"/";let n=e,l="";const i=e.indexOf("#");i>=0&&(n=e.slice(0,i),l=e.slice(i));const[s,...o]=n.split("?");return(s.slice(0,-1)||"/")+(o.length>0?`?${o.join("?")}`:"")+l}function withTrailingSlash(e="",t){if(!t)return e.endsWith("/")?e:e+"/";if(hasTrailingSlash(e,!0))return e||"/";let n=e,l="";const i=e.indexOf("#");if(i>=0&&(n=e.slice(0,i),l=e.slice(i),!n))return l;const[s,...o]=n.split("?");return s+"/"+(o.length>0?`?${o.join("?")}`:"")+l}function withoutBase(e,t){if(isEmptyURL(t))return e;const n=withoutTrailingSlash(t);if(!e.startsWith(n))return e;const l=e.slice(n.length);return"/"===l[0]?l:"/"+l}function withQuery(e,t){const n=parseURL(e),l={...parseQuery(n.search),...t};return n.search=stringifyQuery(l),function(e){const t=e.pathname||"",n=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",l=e.hash||"",i=e.auth?e.auth+"@":"",s=e.host||"",o=e.protocol||e[re]?(e.protocol||"")+"//":"";return o+i+s+t+n+l}(n)}function getQuery(e){return parseQuery(parseURL(e).search)}function isEmptyURL(e){return!e||"/"===e}function joinURL(e,...t){let n=e||"";for(const e of t.filter((e=>function(e){return e&&"/"!==e}(e))))if(n){const t=e.replace(ae,"");n=withTrailingSlash(n)+t}else n=e;return n}const re=Symbol.for("ufo:protocolRelative");function parseURL(e="",t){const n=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,e,t=""]=n;return{protocol:e.toLowerCase(),pathname:t,href:e+t,auth:"",host:"",search:"",hash:""}}if(!hasProtocol(e,{acceptRelative:!0}))return t?parseURL(t+e):parsePath(e);const[,l="",i,s=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,o="",u=""]=s.match(/([^#/?]*)(.*)?/)||[],{pathname:d,search:h,hash:m}=parsePath(u.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:l.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:o,pathname:d,search:h,hash:m,[re]:!l}}function parsePath(e=""){const[t="",n="",l=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:n,hash:l}}const ue=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function objectHash(e,t){const n=createHasher(t=t?{...ue,...t}:ue);return n.dispatch(e),n.toString()}const de=Object.freeze(["prototype","__proto__","constructor"]);function createHasher(e){let t="",n=new Map;const write=e=>{t+=e};return{toString:()=>t,getContext:()=>n,dispatch(t){e.replacer&&(t=e.replacer(t));return this[null===t?"null":typeof t](t)},object(t){if(t&&"function"==typeof t.toJSON)return this.object(t.toJSON());const l=Object.prototype.toString.call(t);let i="";const s=l.length;i=s<10?"unknown:["+l+"]":l.slice(8,s-1),i=i.toLowerCase();let o=null;if(void 0!==(o=n.get(t)))return this.dispatch("[CIRCULAR:"+o+"]");if(n.set(t,n.size),void 0!==E&&E.isBuffer&&E.isBuffer(t))return write("buffer:"),write(t.toString("utf8"));if("object"!==i&&"function"!==i&&"asyncfunction"!==i)this[i]?this[i](t):e.ignoreUnknown||this.unkown(t,i);else{let n=Object.keys(t);e.unorderedObjects&&(n=n.sort());let l=[];!1===e.respectType||isNativeFunction(t)||(l=de),e.excludeKeys&&(n=n.filter((t=>!e.excludeKeys(t))),l=l.filter((t=>!e.excludeKeys(t)))),write("object:"+(n.length+l.length)+":");const dispatchForKey=n=>{this.dispatch(n),write(":"),e.excludeValues||this.dispatch(t[n]),write(",")};for(const e of n)dispatchForKey(e);for(const e of l)dispatchForKey(e)}},array(t,l){if(l=void 0===l?!1!==e.unorderedArrays:l,write("array:"+t.length+":"),!l||t.length<=1){for(const e of t)this.dispatch(e);return}const i=new Map,s=t.map((t=>{const n=createHasher(e);n.dispatch(t);for(const[e,t]of n.getContext())i.set(e,t);return n.toString()}));return n=i,s.sort(),this.array(s,!1)},date:e=>write("date:"+e.toJSON()),symbol:e=>write("symbol:"+e.toString()),unkown(e,t){if(write(t),e)return write(":"),e&&"function"==typeof e.entries?this.array(Array.from(e.entries()),!0):void 0},error:e=>write("error:"+e.toString()),boolean:e=>write("bool:"+e),string(e){write("string:"+e.length+":"),write(e)},function(t){write("fn:"),isNativeFunction(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this.object(t)},number:e=>write("number:"+e),xml:e=>write("xml:"+e.toString()),null:()=>write("Null"),undefined:()=>write("Undefined"),regexp:e=>write("regex:"+e.toString()),uint8array(e){return write("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},uint8clampedarray(e){return write("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},int8array(e){return write("int8array:"),this.dispatch(Array.prototype.slice.call(e))},uint16array(e){return write("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},int16array(e){return write("int16array:"),this.dispatch(Array.prototype.slice.call(e))},uint32array(e){return write("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},int32array(e){return write("int32array:"),this.dispatch(Array.prototype.slice.call(e))},float32array(e){return write("float32array:"),this.dispatch(Array.prototype.slice.call(e))},float64array(e){return write("float64array:"),this.dispatch(Array.prototype.slice.call(e))},arraybuffer(e){return write("arraybuffer:"),this.dispatch(new Uint8Array(e))},url:e=>write("url:"+e.toString()),map(t){write("map:");const n=[...t];return this.array(n,!1!==e.unorderedSets)},set(t){write("set:");const n=[...t];return this.array(n,!1!==e.unorderedSets)},file(e){return write("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},blob(){if(e.ignoreUnknown)return write("[blob]");throw new Error('Hashing Blob objects is currently not supported\nUse "options.replacer" or "options.ignoreUnknown"\n')},domwindow:()=>write("domwindow"),bigint:e=>write("bigint:"+e.toString()),process:()=>write("process"),timer:()=>write("timer"),pipe:()=>write("pipe"),tcp:()=>write("tcp"),udp:()=>write("udp"),tty:()=>write("tty"),statwatcher:()=>write("statwatcher"),securecontext:()=>write("securecontext"),connection:()=>write("connection"),zlib:()=>write("zlib"),context:()=>write("context"),nodescript:()=>write("nodescript"),httpparser:()=>write("httpparser"),dataview:()=>write("dataview"),signal:()=>write("signal"),fsevent:()=>write("fsevent"),tlswrap:()=>write("tlswrap")}}const he="[native code] }",me=he.length;function isNativeFunction(e){return"function"==typeof e&&Function.prototype.toString.call(e).slice(-me)===he}class WordArray{constructor(e,t){e=this.words=e||[],this.sigBytes=void 0===t?4*e.length:t}toString(e){return(e||pe).stringify(this)}concat(e){if(this.clamp(),this.sigBytes%4)for(let t=0;t<e.sigBytes;t++){const n=e.words[t>>>2]>>>24-t%4*8&255;this.words[this.sigBytes+t>>>2]|=n<<24-(this.sigBytes+t)%4*8}else for(let t=0;t<e.sigBytes;t+=4)this.words[this.sigBytes+t>>>2]=e.words[t>>>2];return this.sigBytes+=e.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new WordArray([...this.words])}}const pe={stringify(e){const t=[];for(let n=0;n<e.sigBytes;n++){const l=e.words[n>>>2]>>>24-n%4*8&255;t.push((l>>>4).toString(16),(15&l).toString(16))}return t.join("")}},Ze={stringify(e){const t=[];for(let n=0;n<e.sigBytes;n+=3){const l=(e.words[n>>>2]>>>24-n%4*8&255)<<16|(e.words[n+1>>>2]>>>24-(n+1)%4*8&255)<<8|e.words[n+2>>>2]>>>24-(n+2)%4*8&255;for(let i=0;i<4&&8*n+6*i<8*e.sigBytes;i++)t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l>>>6*(3-i)&63))}return t.join("")}},ye={parse(e){const t=e.length,n=[];for(let l=0;l<t;l++)n[l>>>2]|=(255&e.charCodeAt(l))<<24-l%4*8;return new WordArray(n,t)}},Ge={parse:e=>ye.parse(unescape(encodeURIComponent(e)))};class BufferedBlockAlgorithm{constructor(){this._data=new WordArray,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=16}reset(){this._data=new WordArray,this._nDataBytes=0}_append(e){"string"==typeof e&&(e=Ge.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_doProcessBlock(e,t){}_process(e){let t,n=this._data.sigBytes/(4*this.blockSize);n=e?Math.ceil(n):Math.max((0|n)-this._minBufferSize,0);const l=n*this.blockSize,i=Math.min(4*l,this._data.sigBytes);if(l){for(let e=0;e<l;e+=this.blockSize)this._doProcessBlock(this._data.words,e);t=this._data.words.splice(0,l),this._data.sigBytes-=i}return new WordArray(t,i)}}class Hasher extends BufferedBlockAlgorithm{update(e){return this._append(e),this._process(),this}finalize(e){e&&this._append(e)}}const Xe=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Ve=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],We=[];class SHA256 extends Hasher{constructor(){super(...arguments),this._hash=new WordArray([...Xe])}reset(){super.reset(),this._hash=new WordArray([...Xe])}_doProcessBlock(e,t){const n=this._hash.words;let l=n[0],i=n[1],s=n[2],o=n[3],u=n[4],d=n[5],h=n[6],m=n[7];for(let n=0;n<64;n++){if(n<16)We[n]=0|e[t+n];else{const e=We[n-15],t=(e<<25|e>>>7)^(e<<14|e>>>18)^e>>>3,l=We[n-2],i=(l<<15|l>>>17)^(l<<13|l>>>19)^l>>>10;We[n]=t+We[n-7]+i+We[n-16]}const b=l&i^l&s^i&s,V=(l<<30|l>>>2)^(l<<19|l>>>13)^(l<<10|l>>>22),g=m+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&d^~u&h)+Ve[n]+We[n];m=h,h=d,d=u,u=o+g|0,o=s,s=i,i=l,l=g+(V+b)|0}n[0]=n[0]+l|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+o|0,n[4]=n[4]+u|0,n[5]=n[5]+d|0,n[6]=n[6]+h|0,n[7]=n[7]+m|0}finalize(e){super.finalize(e);const t=8*this._nDataBytes,n=8*this._data.sigBytes;return this._data.words[n>>>5]|=128<<24-n%32,this._data.words[14+(n+64>>>9<<4)]=Math.floor(t/4294967296),this._data.words[15+(n+64>>>9<<4)]=t,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash}}function hash(e,t={}){const n="string"==typeof e?e:objectHash(e,t);return(l=n,(new SHA256).finalize(l).toString(Ze)).slice(0,10);var l}const Re={NORMAL:0,WILDCARD:1,PLACEHOLDER:2};function createRouter$1(e={}){const t={options:e,rootNode:createRadixNode(),staticRoutesMap:{}},normalizeTrailingSlash=t=>e.strictTrailingSlash?t:t.replace(/\/$/,"")||"/";if(e.routes)for(const n in e.routes)insert(t,normalizeTrailingSlash(n),e.routes[n]);return{ctx:t,lookup:e=>function(e,t){const n=e.staticRoutesMap[t];if(n)return n.data;const l=t.split("/"),i={};let s=!1,o=null,u=e.rootNode,d=null;for(let e=0;e<l.length;e++){const t=l[e];null!==u.wildcardChildNode&&(o=u.wildcardChildNode,d=l.slice(e).join("/"));const n=u.children.get(t);if(void 0!==n)u=n;else{if(u=u.placeholderChildNode,null===u)break;i[u.paramName]=t,s=!0}}null!==u&&null!==u.data||null===o||(u=o,i[u.paramName||"_"]=d,s=!0);if(!u)return null;if(s)return{...u.data,params:s?i:void 0};return u.data}(t,normalizeTrailingSlash(e)),insert:(e,n)=>insert(t,normalizeTrailingSlash(e),n),remove:e=>function(e,t){let n=!1;const l=t.split("/");let i=e.rootNode;for(const e of l)if(i=i.children.get(e),!i)return n;if(i.data){const e=l[l.length-1];if(i.data=null,0===Object.keys(i.children).length){const t=i.parent;t.children.delete(e),t.wildcardChildNode=null,t.placeholderChildNode=null}n=!0}return n}(t,normalizeTrailingSlash(e))}}function insert(e,t,n){let l=!0;const i=t.split("/");let s=e.rootNode,o=0;for(const e of i){let t;if(t=s.children.get(e))s=t;else{const n=getNodeType(e);t=createRadixNode({type:n,parent:s}),s.children.set(e,t),n===Re.PLACEHOLDER?(t.paramName="*"===e?"_"+o++:e.slice(1),s.placeholderChildNode=t,l=!1):n===Re.WILDCARD&&(s.wildcardChildNode=t,t.paramName=e.slice(3)||"_",l=!1),s=t}}return s.data=n,!0===l&&(e.staticRoutesMap[t]=s),s}function createRadixNode(e={}){return{type:e.type||Re.NORMAL,parent:e.parent||null,children:new Map,data:e.data||null,paramName:e.paramName||null,wildcardChildNode:null,placeholderChildNode:null}}function getNodeType(e){return e.startsWith("**")?Re.WILDCARD:":"===e[0]||"*"===e?Re.PLACEHOLDER:Re.NORMAL}function toRouteMatcher(e){return function(e){return{ctx:{table:e},matchAll:t=>_matchRoutes(t,e)}}(_routerNodeToTable("",e.ctx.rootNode))}function _matchRoutes(e,t){const n=[];for(const[l,i]of _sortRoutesMap(t.wildcard))e.startsWith(l)&&n.push(i);for(const[l,i]of _sortRoutesMap(t.dynamic))if(e.startsWith(l+"/")){const t="/"+e.slice(l.length).split("/").splice(2).join("/");n.push(..._matchRoutes(t,i))}const l=t.static.get(e);return l&&n.push(l),n.filter(Boolean)}function _sortRoutesMap(e){return[...e.entries()].sort(((e,t)=>e[0].length-t[0].length))}function _routerNodeToTable(e,t){const n={static:new Map,wildcard:new Map,dynamic:new Map};return function _addNode(e,t){if(e)if(t.type!==Re.NORMAL||e.includes("*")||e.includes(":")){if(t.type===Re.WILDCARD)n.wildcard.set(e.replace("/**",""),t.data);else if(t.type===Re.PLACEHOLDER){const l=_routerNodeToTable("",t);return t.data&&l.static.set("/",t.data),void n.dynamic.set(e.replace(/\/\*|\/:\w+/,""),l)}}else n.static.set(e,t.data);for(const[n,l]of t.children.entries())_addNode(`${e}/${n}`.replace("//","/"),l)}(e,t),n}const ge=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Ie=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,fe=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jsonParseTransform(e,t){if(!("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t))return t;!function(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}(e)}function destr(e,t={}){if("string"!=typeof e)return e;const n=e.trim();if('"'===e[0]&&e.endsWith('"')&&!e.includes("\\"))return n.slice(1,-1);if(n.length<=9){const e=n.toLowerCase();if("true"===e)return!0;if("false"===e)return!1;if("undefined"===e)return;if("null"===e)return null;if("nan"===e)return Number.NaN;if("infinity"===e)return Number.POSITIVE_INFINITY;if("-infinity"===e)return Number.NEGATIVE_INFINITY}if(!fe.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(ge.test(e)||Ie.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,jsonParseTransform)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}function isPlainObject(e){if(null===e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&(!(Symbol.iterator in e)&&(!(Symbol.toStringTag in e)||"[object Module]"===Object.prototype.toString.call(e)))}function _defu(e,t,n=".",l){if(!isPlainObject(t))return _defu(e,{},n,l);const i=Object.assign({},t);for(const t in e){if("__proto__"===t||"constructor"===t)continue;const s=e[t];null!=s&&(l&&l(i,t,s,n)||(Array.isArray(s)&&Array.isArray(i[t])?i[t]=[...s,...i[t]]:isPlainObject(s)&&isPlainObject(i[t])?i[t]=_defu(s,i[t],(n?`${n}.`:"")+t.toString(),l):i[t]=s))}return i}function createDefu(e){return(...t)=>t.reduce(((t,n)=>_defu(t,n,"",e)),{})}const Se=createDefu(),Le=createDefu(((e,t,n)=>{if(void 0!==e[t]&&"function"==typeof n)return e[t]=n(e[t]),!0}));let Ye=10,Ke=class{__unenv__=!0;_events=Object.create(null);_maxListeners;static get defaultMaxListeners(){return Ye}static set defaultMaxListeners(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Ye=e}setMaxListeners(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this}getMaxListeners(){return _getMaxListeners(this)}emit(e,...t){if(!this._events[e]||0===this._events[e].length)return!1;if("error"===e){let e;if(t.length>0&&(e=t[0]),e instanceof Error)throw e;const n=new Error("Unhandled error."+(e?" ("+e.message+")":""));throw n.context=e,n}for(const n of this._events[e])(n.listener||n).apply(this,t);return!0}addListener(e,t){return _addListener(this,e,t,!1)}on(e,t){return _addListener(this,e,t,!1)}prependListener(e,t){return _addListener(this,e,t,!0)}once(e,t){return this.on(e,_wrapOnce(this,e,t))}prependOnceListener(e,t){return this.prependListener(e,_wrapOnce(this,e,t))}removeListener(e,t){return function(e,t,n){if(_checkListener(n),!e._events[t]||0===e._events[t].length)return e;const l=e._events[t].length;if(e._events[t]=e._events[t].filter((e=>e!==n)),l===e._events[t].length)return e;e._events.removeListener&&e.emit("removeListener",t,n.listener||n);0===e._events[t].length&&delete e._events[t];return e}(this,e,t)}off(e,t){return this.removeListener(e,t)}removeAllListeners(e){return function(e,t){if(!e._events[t]||0===e._events[t].length)return e;if(e._events.removeListener)for(const n of e._events[t])e.emit("removeListener",t,n.listener||n);return delete e._events[t],e}(this,e)}listeners(e){return _listeners(this,e,!0)}rawListeners(e){return _listeners(this,e,!1)}listenerCount(e){return this.rawListeners(e).length}eventNames(){return Object.keys(this._events)}};function _addListener(e,t,n,l){_checkListener(n),void 0!==e._events.newListener&&e.emit("newListener",t,n.listener||n),e._events[t]||(e._events[t]=[]),l?e._events[t].unshift(n):e._events[t].push(n);const i=_getMaxListeners(e);if(i>0&&e._events[t].length>i&&!e._events[t].warned){e._events[t].warned=!0;const n=new Error(`[unenv] Possible EventEmitter memory leak detected. ${e._events[t].length} ${t} listeners added. Use emitter.setMaxListeners() to increase limit`);n.name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=e._events[t]?.length,console.warn(n)}return e}function _wrapOnce(e,t,n){let l=!1;const wrapper=(...i)=>{if(!l)return e.removeListener(t,wrapper),l=!0,0===i.length?n.call(e):n.apply(e,i)};return wrapper.listener=n,wrapper}function _getMaxListeners(e){return e._maxListeners??Ke.defaultMaxListeners}function _listeners(e,t,n){let l=e._events[t];return"function"==typeof l&&(l=[l]),n?l.map((e=>e.listener||e)):l}function _checkListener(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}const xe=globalThis.EventEmitter||Ke;class _Readable extends xe{__unenv__=!0;readableEncoding=null;readableEnded=!0;readableFlowing=!1;readableHighWaterMark=0;readableLength=0;readableObjectMode=!1;readableAborted=!1;readableDidRead=!1;closed=!1;errored=null;readable=!1;destroyed=!1;static from(e,t){return new _Readable(t)}constructor(e){super()}_read(e){}read(e){}setEncoding(e){return this}pause(){return this}resume(){return this}isPaused(){return!0}unpipe(e){return this}unshift(e,t){}wrap(e){return this}push(e,t){return!1}_destroy(e,t){this.removeAllListeners()}destroy(e){return this.destroyed=!0,this._destroy(e),this}pipe(e,t){return{}}compose(e,t){throw new Error("[unenv] Method not implemented.")}[Symbol.asyncDispose](){return this.destroy(),Promise.resolve()}async*[Symbol.asyncIterator](){throw createNotImplementedError("Readable.asyncIterator")}iterator(e){throw createNotImplementedError("Readable.iterator")}map(e,t){throw createNotImplementedError("Readable.map")}filter(e,t){throw createNotImplementedError("Readable.filter")}forEach(e,t){throw createNotImplementedError("Readable.forEach")}reduce(e,t,n){throw createNotImplementedError("Readable.reduce")}find(e,t){throw createNotImplementedError("Readable.find")}findIndex(e,t){throw createNotImplementedError("Readable.findIndex")}some(e,t){throw createNotImplementedError("Readable.some")}toArray(e){throw createNotImplementedError("Readable.toArray")}every(e,t){throw createNotImplementedError("Readable.every")}flatMap(e,t){throw createNotImplementedError("Readable.flatMap")}drop(e,t){throw createNotImplementedError("Readable.drop")}take(e,t){throw createNotImplementedError("Readable.take")}asIndexedPairs(e){throw createNotImplementedError("Readable.asIndexedPairs")}}const Ne=globalThis.Readable||_Readable;const Te=globalThis.Writable||class extends xe{__unenv__=!0;writable=!0;writableEnded=!1;writableFinished=!1;writableHighWaterMark=0;writableLength=0;writableObjectMode=!1;writableCorked=0;closed=!1;errored=null;writableNeedDrain=!1;destroyed=!1;_data;_encoding="utf-8";constructor(e){super()}pipe(e,t){return{}}_write(e,t,n){if(this.writableEnded)n&&n();else{if(void 0===this._data)this._data=e;else{const n="string"==typeof this._data?E.from(this._data,this._encoding||t||"utf8"):this._data,l="string"==typeof e?E.from(e,t||this._encoding||"utf8"):e;this._data=E.concat([n,l])}this._encoding=t,n&&n()}}_writev(e,t){}_destroy(e,t){}_final(e){}write(e,t,n){const l="string"==typeof t?this._encoding:"utf-8",i="function"==typeof t?t:"function"==typeof n?n:void 0;return this._write(e,l,i),!0}setDefaultEncoding(e){return this}end(e,t,n){const l="function"==typeof e?e:"function"==typeof t?t:"function"==typeof n?n:void 0;if(this.writableEnded)return l&&l(),this;const i=e===l?void 0:e;if(i){const e=t===l?void 0:t;this.write(i,e,l)}return this.writableEnded=!0,this.writableFinished=!0,this.emit("close"),this.emit("finish"),this}cork(){}uncork(){}destroy(e){return this.destroyed=!0,delete this._data,this.removeAllListeners(),this}compose(e,t){throw new Error("[h3] Method not implemented.")}},ve=class{allowHalfOpen=!0;_destroy;constructor(e=new Ne,t=new Te){Object.assign(this,e),Object.assign(this,t),this._destroy=function(...e){return function(...t){for(const n of e)n(...t)}}(e._destroy,t._destroy)}};function getDuplex(){return Object.assign(ve.prototype,Ne.prototype),Object.assign(ve.prototype,Te.prototype),ve}const ke=getDuplex(),Ce=globalThis.Duplex||ke;class Socket extends Ce{__unenv__=!0;bufferSize=0;bytesRead=0;bytesWritten=0;connecting=!1;destroyed=!1;pending=!1;localAddress="";localPort=0;remoteAddress="";remoteFamily="";remotePort=0;autoSelectFamilyAttemptedAddresses=[];readyState="readOnly";constructor(e){super()}write(e,t,n){return!1}connect(e,t,n){return this}end(e,t,n){return this}setEncoding(e){return this}pause(){return this}resume(){return this}setTimeout(e,t){return this}setNoDelay(e){return this}setKeepAlive(e,t){return this}address(){return{}}unref(){return this}ref(){return this}destroySoon(){this.destroy()}resetAndDestroy(){const e=new Error("ERR_SOCKET_CLOSED");return e.code="ERR_SOCKET_CLOSED",this.destroy(e),this}}class IncomingMessage extends Ne{__unenv__={};aborted=!1;httpVersion="1.1";httpVersionMajor=1;httpVersionMinor=1;complete=!0;connection;socket;headers={};trailers={};method="GET";url="/";statusCode=200;statusMessage="";closed=!1;errored=null;readable=!1;constructor(e){super(),this.socket=this.connection=e||new Socket}get rawHeaders(){return function(e){const t=[];for(const n in e)if(Array.isArray(e[n]))for(const l of e[n])t.push(n,l);else t.push(n,e[n]);return t}(this.headers)}get rawTrailers(){return[]}setTimeout(e,t){return this}get headersDistinct(){return _distinct(this.headers)}get trailersDistinct(){return _distinct(this.trailers)}}function _distinct(e){const t={};for(const[n,l]of Object.entries(e))n&&(t[n]=(Array.isArray(l)?l:[l]).filter(Boolean));return t}class ServerResponse extends Te{__unenv__=!0;statusCode=200;statusMessage="";upgrading=!1;chunkedEncoding=!1;shouldKeepAlive=!1;useChunkedEncodingByDefault=!1;sendDate=!1;finished=!1;headersSent=!1;strictContentLength=!1;connection=null;socket=null;req;_headers={};constructor(e){super(),this.req=e}assignSocket(e){e._httpMessage=this,this.socket=e,this.connection=e,this.emit("socket",e),this._flush()}_flush(){this.flushHeaders()}detachSocket(e){}writeContinue(e){}writeHead(e,t,n){e&&(this.statusCode=e),"string"==typeof t&&(this.statusMessage=t,t=void 0);const l=n||t;if(l)if(Array.isArray(l));else for(const e in l)this.setHeader(e,l[e]);return this.headersSent=!0,this}writeProcessing(){}setTimeout(e,t){return this}appendHeader(e,t){e=e.toLowerCase();const n=this._headers[e],l=[...Array.isArray(n)?n:[n],...Array.isArray(t)?t:[t]].filter(Boolean);return this._headers[e]=l.length>1?l:l[0],this}setHeader(e,t){return this._headers[e.toLowerCase()]=t,this}getHeader(e){return this._headers[e.toLowerCase()]}getHeaders(){return this._headers}getHeaderNames(){return Object.keys(this._headers)}hasHeader(e){return e.toLowerCase()in this._headers}removeHeader(e){delete this._headers[e.toLowerCase()]}addTrailers(e){}flushHeaders(){}writeEarlyHints(e,t){"function"==typeof t&&t()}}function hasProp(e,t){try{return t in e}catch{return!1}}var He=Object.defineProperty,__publicField$2=(e,t,n)=>(((e,t,n)=>{t in e?He(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class H3Error extends Error{constructor(e,t={}){super(e,t),__publicField$2(this,"statusCode",500),__publicField$2(this,"fatal",!1),__publicField$2(this,"unhandled",!1),__publicField$2(this,"statusMessage"),__publicField$2(this,"data"),__publicField$2(this,"cause"),t.cause&&!this.cause&&(this.cause=t.cause)}toJSON(){const e={message:this.message,statusCode:sanitizeStatusCode(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=sanitizeStatusMessage(this.statusMessage)),void 0!==this.data&&(e.data=this.data),e}}function createError(e){if("string"==typeof e)return new H3Error(e);if(isError(e))return e;const t=new H3Error(e.message??e.statusMessage??"",{cause:e.cause||e});if(hasProp(e,"stack"))try{Object.defineProperty(t,"stack",{get:()=>e.stack})}catch{try{t.stack=e.stack}catch{}}if(e.data&&(t.data=e.data),e.statusCode?t.statusCode=sanitizeStatusCode(e.statusCode,t.statusCode):e.status&&(t.statusCode=sanitizeStatusCode(e.status,t.statusCode)),e.statusMessage?t.statusMessage=e.statusMessage:e.statusText&&(t.statusMessage=e.statusText),t.statusMessage){const e=t.statusMessage;sanitizeStatusMessage(t.statusMessage)!==e&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return void 0!==e.fatal&&(t.fatal=e.fatal),void 0!==e.unhandled&&(t.unhandled=e.unhandled),t}function isError(e){return!0===e?.constructor?.__h3_error__}function getRequestHeaders(e){const t={};for(const n in e.node.req.headers){const l=e.node.req.headers[n];t[n]=Array.isArray(l)?l.filter(Boolean).join(", "):l}return t}__publicField$2(H3Error,"__h3_error__",!0);const Je=Symbol.for("h3RawBody"),Fe=["PATCH","POST","PUT","DELETE"];function readRawBody(e,t="utf8"){!function(e,t,n){if(!function(e,t,n){if(n&&"HEAD"===e.method)return!0;if("string"==typeof t){if(e.method===t)return!0}else if(t.includes(e.method))return!0;return!1}(e,t,n))throw createError({statusCode:405,statusMessage:"HTTP method is not allowed."})}(e,Fe);const n=e._requestBody||e.web?.request?.body||e.node.req[Je]||e.node.req.rawBody||e.node.req.body;if(n){const e=Promise.resolve(n).then((e=>E.isBuffer(e)?e:"function"==typeof e.pipeTo?new Promise(((t,n)=>{const l=[];e.pipeTo(new WritableStream({write(e){l.push(e)},close(){t(E.concat(l))},abort(e){n(e)}})).catch(n)})):"function"==typeof e.pipe?new Promise(((t,n)=>{const l=[];e.on("data",(e=>{l.push(e)})).on("end",(()=>{t(E.concat(l))})).on("error",n)})):e.constructor===Object?E.from(JSON.stringify(e)):E.from(e)));return t?e.then((e=>e.toString(t))):e}if(!Number.parseInt(e.node.req.headers["content-length"]||""))return Promise.resolve(void 0);const l=e.node.req[Je]=new Promise(((t,n)=>{const l=[];e.node.req.on("error",(e=>{n(e)})).on("data",(e=>{l.push(e)})).on("end",(()=>{t(E.concat(l))}))}));return t?l.then((e=>e.toString(t))):l}function handleCacheHeaders(e,t){const n=["public",...t.cacheControls||[]];let l=!1;if(void 0!==t.maxAge&&n.push("max-age="+ +t.maxAge,"s-maxage="+ +t.maxAge),t.modifiedTime){const n=new Date(t.modifiedTime),i=e.node.req.headers["if-modified-since"];e.node.res.setHeader("last-modified",n.toUTCString()),i&&new Date(i)>=t.modifiedTime&&(l=!0)}if(t.etag){e.node.res.setHeader("etag",t.etag);e.node.req.headers["if-none-match"]===t.etag&&(l=!0)}return e.node.res.setHeader("cache-control",n.join(", ")),!!l&&(e.node.res.statusCode=304,e.handled||e.node.res.end(),!0)}const ze={html:"text/html",json:"application/json"},Ue=/[^\u0009\u0020-\u007E]/g;function sanitizeStatusMessage(e=""){return e.replace(Ue,"")}function sanitizeStatusCode(e,t=200){return e?("string"==typeof e&&(e=Number.parseInt(e,10)),e<100||e>999?t:e):t}function splitCookiesString(e){if(Array.isArray(e))return e.flatMap((e=>splitCookiesString(e)));if("string"!=typeof e)return[];const t=[];let n,l,i,s,o,u=0;const skipWhitespace=()=>{for(;u<e.length&&/\s/.test(e.charAt(u));)u+=1;return u<e.length};for(;u<e.length;){for(n=u,o=!1;skipWhitespace();)if(l=e.charAt(u),","===l){for(i=u,u+=1,skipWhitespace(),s=u;u<e.length&&(l=e.charAt(u),"="!==l&&";"!==l&&","!==l);)u+=1;u<e.length&&"="===e.charAt(u)?(o=!0,u=s,t.push(e.slice(n,i)),n=u):u=i+1}else u+=1;(!o||u>=e.length)&&t.push(e.slice(n,e.length))}return t}const Ee="undefined"==typeof setImmediate?e=>e():setImmediate;function send(e,t,n){return n&&function(e,t){t&&304!==e.node.res.statusCode&&!e.node.res.getHeader("content-type")&&e.node.res.setHeader("content-type",t)}(e,n),new Promise((n=>{Ee((()=>{e.handled||e.node.res.end(t),n()}))}))}function setResponseStatus(e,t,n){t&&(e.node.res.statusCode=sanitizeStatusCode(t,e.node.res.statusCode)),n&&(e.node.res.statusMessage=sanitizeStatusMessage(n))}const setHeaders=function(e,t){for(const[n,l]of Object.entries(t))e.node.res.setHeader(n,l)};function setResponseHeader(e,t,n){e.node.res.setHeader(t,n)}function sendStream(e,t){if(!t||"object"!=typeof t)throw new Error("[h3] Invalid stream provided.");if(e.node.res._data=t,!e.node.res.socket)return e._handled=!0,Promise.resolve();if(hasProp(t,"pipeTo")&&"function"==typeof t.pipeTo)return t.pipeTo(new WritableStream({write(t){e.node.res.write(t)}})).then((()=>{e.node.res.end()}));if(hasProp(t,"pipe")&&"function"==typeof t.pipe)return new Promise(((n,l)=>{t.pipe(e.node.res),t.on&&(t.on("end",(()=>{e.node.res.end(),n()})),t.on("error",(e=>{l(e)}))),e.node.res.on("close",(()=>{t.abort&&t.abort()}))}));throw new Error("[h3] Invalid or incompatible stream provided.")}function sendWebResponse(e,t){for(const[n,l]of t.headers)"set-cookie"===n?e.node.res.appendHeader(n,splitCookiesString(l)):e.node.res.setHeader(n,l);if(t.status&&(e.node.res.statusCode=sanitizeStatusCode(t.status,e.node.res.statusCode)),t.statusText&&(e.node.res.statusMessage=sanitizeStatusMessage(t.statusText)),t.redirected&&e.node.res.setHeader("location",t.url),t.body)return sendStream(e,t.body);e.node.res.end()}const Me=new Set(["PATCH","POST","PUT","DELETE"]),we=new Set(["transfer-encoding","connection","keep-alive","upgrade","expect","host","accept"]);async function proxyRequest(e,t,n={}){let l,i;Me.has(e.method)&&(n.streamRequest?(l=function(e){if(!Fe.includes(e.method))return;const t=e.web?.request?.body||e._requestBody;return t||(Je in e.node.req||"rawBody"in e.node.req||"body"in e.node.req||"__unenv__"in e.node.req?new ReadableStream({async start(t){const n=await readRawBody(e,!1);n&&t.enqueue(n),t.close()}}):new ReadableStream({start:t=>{e.node.req.on("data",(e=>{t.enqueue(e)})),e.node.req.on("end",(()=>{t.close()})),e.node.req.on("error",(e=>{t.error(e)}))}}))}(e),i="half"):l=await readRawBody(e,!1).catch((()=>{})));const s=n.fetchOptions?.method||e.method,o=function(e,...t){const n=t.filter(Boolean);if(0===n.length)return e;const l=new Headers(e);for(const e of n)for(const[t,n]of Object.entries(e))void 0!==n&&l.set(t,n);return l}(getProxyRequestHeaders(e),n.fetchOptions?.headers,n.headers);return async function(e,t,n={}){const l=await _getFetch(n.fetch)(t,{headers:n.headers,ignoreResponseError:!0,...n.fetchOptions});e.node.res.statusCode=sanitizeStatusCode(l.status,e.node.res.statusCode),e.node.res.statusMessage=sanitizeStatusMessage(l.statusText);const i=[];for(const[t,n]of l.headers.entries())"content-encoding"!==t&&"content-length"!==t&&("set-cookie"!==t?e.node.res.setHeader(t,n):i.push(...splitCookiesString(n)));i.length>0&&e.node.res.setHeader("set-cookie",i.map((e=>(n.cookieDomainRewrite&&(e=rewriteCookieProperty(e,n.cookieDomainRewrite,"domain")),n.cookiePathRewrite&&(e=rewriteCookieProperty(e,n.cookiePathRewrite,"path")),e))));n.onResponse&&await n.onResponse(e,l);if(void 0!==l._data)return l._data;if(e.handled)return;if(!1===n.sendStream){const t=new Uint8Array(await l.arrayBuffer());return e.node.res.end(t)}if(l.body)for await(const t of l.body)e.node.res.write(t);return e.node.res.end()}(e,t,{...n,fetchOptions:{method:s,body:l,duplex:i,...n.fetchOptions,headers:o}})}function getProxyRequestHeaders(e){const t=Object.create(null),n=getRequestHeaders(e);for(const e in n)we.has(e)||(t[e]=n[e]);return t}function fetchWithEvent(e,t,n,l){return _getFetch(l?.fetch)(t,{...n,context:n?.context||e.context,headers:{...getProxyRequestHeaders(e),...n?.headers}})}function _getFetch(e){if(e)return e;if(globalThis.fetch)return globalThis.fetch;throw new Error("fetch is not available. Try importing `node-fetch-native/polyfill` for Node.js.")}function rewriteCookieProperty(e,t,n){const l="string"==typeof t?{"*":t}:t;return e.replace(new RegExp(`(;\\s*${n}=)([^;]+)`,"gi"),((e,t,n)=>{let i;if(n in l)i=l[n];else{if(!("*"in l))return e;i=l["*"]}return i?t+i:""}))}var Pe=Object.defineProperty,__publicField=(e,t,n)=>(((e,t,n)=>{t in e?Pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class H3Event{constructor(e,t){__publicField(this,"__is_event__",!0),__publicField(this,"node"),__publicField(this,"web"),__publicField(this,"context",{}),__publicField(this,"_method"),__publicField(this,"_path"),__publicField(this,"_headers"),__publicField(this,"_requestBody"),__publicField(this,"_handled",!1),this.node={req:e,res:t}}get method(){return this._method||(this._method=(this.node.req.method||"GET").toUpperCase()),this._method}get path(){return this._path||this.node.req.url||"/"}get headers(){return this._headers||(this._headers=function(e){const t=new Headers;for(const[n,l]of Object.entries(e))if(Array.isArray(l))for(const e of l)t.append(n,e);else l&&t.set(n,l);return t}(this.node.req.headers)),this._headers}get handled(){return this._handled||this.node.res.writableEnded||this.node.res.headersSent}respondWith(e){return Promise.resolve(e).then((e=>sendWebResponse(this,e)))}toString(){return`[${this.method}] ${this.path}`}toJSON(){return this.toString()}get req(){return this.node.req}get res(){return this.node.res}}function isEvent(e){return hasProp(e,"__is_event__")}function createEvent(e,t){return new H3Event(e,t)}function defineEventHandler(e){if("function"==typeof e)return e.__is_handler__=!0,e;const t={onRequest:_normalizeArray(e.onRequest),onBeforeResponse:_normalizeArray(e.onBeforeResponse)},_handler=n=>async function(e,t,n){if(n.onRequest)for(const t of n.onRequest)if(await t(e),e.handled)return;const l=await t(e),i={body:l};if(n.onBeforeResponse)for(const t of n.onBeforeResponse)await t(e,i);return i.body}(n,e.handler,t);return _handler.__is_handler__=!0,_handler.__resolve__=e.handler.__resolve__,_handler.__websocket__=e.websocket,_handler}function _normalizeArray(e){return e?Array.isArray(e)?e:[e]:void 0}const je=defineEventHandler;function isEventHandler(e){return hasProp(e,"__is_handler__")}function toEventHandler(e,t,n){return isEventHandler(e)||console.warn("[h3] Implicit event handler conversion is deprecated. Use `eventHandler()` or `fromNodeMiddleware()` to define event handlers.",n&&"/"!==n?`\n     Route: ${n}`:"",`\n     Handler: ${e}`),e}const lazyEventHandler=function(e){let t,n;const resolveHandler=()=>n?Promise.resolve(n):(t||(t=Promise.resolve(e()).then((e=>{const t=e.default||e;if("function"!=typeof t)throw new TypeError("Invalid lazy handler result. It should be a function:",t);return n={handler:toEventHandler(e.default||e)},n}))),t),l=je((e=>n?n.handler(e):resolveHandler().then((t=>t.handler(e)))));return l.__resolve__=resolveHandler,l};function createApp(e={}){const t=[],n=function(e,t){const n=t.debug?2:void 0;return je((async l=>{l.node.req.originalUrl=l.node.req.originalUrl||l.node.req.url||"/";const i=l._path||l.node.req.url||"/";let s;t.onRequest&&await t.onRequest(l);for(const o of e){if(o.route.length>1){if(!i.startsWith(o.route))continue;s=i.slice(o.route.length)||"/"}else s=i;if(o.match&&!o.match(s,l))continue;l._path=s,l.node.req.url=s;const e=await o.handler(l),u=void 0===e?void 0:await e;if(void 0!==u){const e={body:u};return t.onBeforeResponse&&await t.onBeforeResponse(l,e),await handleHandlerResponse(l,e.body,n),void(t.onAfterResponse&&await t.onAfterResponse(l,e))}if(l.handled)return void(t.onAfterResponse&&await t.onAfterResponse(l,void 0))}if(!l.handled)throw createError({statusCode:404,statusMessage:`Cannot find any path matching ${l.path||"/"}.`});t.onAfterResponse&&await t.onAfterResponse(l,void 0)}))}(t,e),l=function(e){return async t=>{let n;for(const l of e){if("/"===l.route&&!l.handler.__resolve__)continue;if(!t.startsWith(l.route))continue;if(n=t.slice(l.route.length)||"/",l.match&&!l.match(n,void 0))continue;let e={route:l.route,handler:l.handler};if(e.handler.__resolve__){const t=await e.handler.__resolve__(n);if(!t)continue;e={...e,...t,route:joinURL(e.route||"/",t.route||"/")}}return e}}}(t);n.__resolve__=l;const i=function(e){let t;return()=>(t||(t=e()),t)}((()=>{return t=l,{...e.websocket,async resolve(e){const{pathname:n}=parseURL(e.url||"/"),l=await t(n);return l?.handler?.__websocket__||{}}};var t})),s={use:(e,t,n)=>use(s,e,t,n),resolve:l,handler:n,stack:t,options:e,get websocket(){return i()}};return s}function use(e,t,n,l){if(Array.isArray(t))for(const i of t)use(e,i,n,l);else if(Array.isArray(n))for(const i of n)use(e,t,i,l);else"string"==typeof t?e.stack.push(normalizeLayer({...l,route:t,handler:n})):"function"==typeof t?e.stack.push(normalizeLayer({...n,handler:t})):e.stack.push(normalizeLayer({...t}));return e}function normalizeLayer(e){let t=e.handler;return t.handler&&(t=t.handler),e.lazy?t=lazyEventHandler(t):isEventHandler(t)||(t=toEventHandler(t,0,e.route)),{route:withoutTrailingSlash(e.route),match:e.match,handler:t}}function handleHandlerResponse(e,t,n){if(null===t)return function(e,t){if(e.handled)return;t||200===e.node.res.statusCode||(t=e.node.res.statusCode);const n=sanitizeStatusCode(t,204);204===n&&e.node.res.removeHeader("content-length"),e.node.res.writeHead(n),e.node.res.end()}(e);if(t){if(l=t,"undefined"!=typeof Response&&l instanceof Response)return sendWebResponse(e,t);if(function(e){if(!e||"object"!=typeof e)return!1;if("function"==typeof e.pipe){if("function"==typeof e._read)return!0;if("function"==typeof e.abort)return!0}return"function"==typeof e.pipeTo}(t))return sendStream(e,t);if(t.buffer)return send(e,t);if(t.arrayBuffer&&"function"==typeof t.arrayBuffer)return t.arrayBuffer().then((n=>send(e,E.from(n),t.type)));if(t instanceof Error)throw createError(t);if("function"==typeof t.end)return!0}var l;const i=typeof t;if("string"===i)return send(e,t,ze.html);if("object"===i||"boolean"===i||"number"===i)return send(e,JSON.stringify(t,void 0,n),ze.json);if("bigint"===i)return send(e,t.toString(),ze.json);throw createError({statusCode:500,statusMessage:`[h3] Cannot send ${i} as response.`})}const Be=["connect","delete","get","head","options","post","put","trace","patch"];function toNodeListener(e){return async function(t,n){const l=createEvent(t,n);try{await e.handler(l)}catch(t){const n=createError(t);if(isError(t)||(n.unhandled=!0),e.options.onError&&await e.options.onError(n,l),l.handled)return;(n.unhandled||n.fatal)&&console.error("[h3]",n.fatal?"[fatal]":"[unhandled]",n),await function(e,t,n){if(e.handled)return;const l=isError(t)?t:createError(t),i={statusCode:l.statusCode,statusMessage:l.statusMessage,stack:[],data:l.data};if(n&&(i.stack=(l.stack||"").split("\n").map((e=>e.trim()))),e.handled)return;setResponseStatus(e,Number.parseInt(l.statusCode),l.statusMessage),e.node.res.setHeader("content-type",ze.json),e.node.res.end(JSON.stringify(i,void 0,2))}(l,n,!!e.options.debug)}}}class FetchError extends Error{constructor(e,t){super(e,t),this.name="FetchError",t?.cause&&!this.cause&&(this.cause=t.cause)}}const Qe=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function isPayloadMethod(e="GET"){return Qe.has(e.toUpperCase())}const _e=new Set(["image/svg","application/xml","application/xhtml","application/html"]),De=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function mergeFetchOptions(e,t,n=globalThis.Headers){const l={...t,...e};if(t?.params&&e?.params&&(l.params={...t?.params,...e?.params}),t?.query&&e?.query&&(l.query={...t?.query,...e?.query}),t?.headers&&e?.headers){l.headers=new n(t?.headers||{});for(const[t,i]of new n(e?.headers||{}))l.headers.set(t,i)}return l}const Oe=new Set([408,409,425,429,500,502,503,504]),Ae=new Set([101,204,205,304]);function createFetch$1(e={}){const{fetch:t=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:l=globalThis.AbortController}=e;async function onError(e){const t=e.error&&"AbortError"===e.error.name&&!e.options.timeout||!1;if(!1!==e.options.retry&&!t){let t;t="number"==typeof e.options.retry?e.options.retry:isPayloadMethod(e.options.method)?0:1;const n=e.response&&e.response.status||500;if(t>0&&(Array.isArray(e.options.retryStatusCodes)?e.options.retryStatusCodes.includes(n):Oe.has(n))){const n=e.options.retryDelay||0;return n>0&&await new Promise((e=>setTimeout(e,n))),$fetchRaw(e.request,{...e.options,retry:t-1,timeout:e.options.timeout})}}const n=function(e){const t=e.error?.message||e.error?.toString()||"",n=e.request?.method||e.options?.method||"GET",l=e.request?.url||String(e.request)||"/",i=`[${n}] ${JSON.stringify(l)}`,s=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",o=new FetchError(`${i}: ${s}${t?` ${t}`:""}`,e.error?{cause:e.error}:void 0);for(const t of["request","options","response"])Object.defineProperty(o,t,{get:()=>e[t]});for(const[t,n]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(o,t,{get:()=>e.response&&e.response[n]});return o}(e);throw Error.captureStackTrace&&Error.captureStackTrace(n,$fetchRaw),n}const $fetchRaw=async function(i,s={}){const o={request:i,options:mergeFetchOptions(s,e.defaults,n),response:void 0,error:void 0};if(o.options.method=o.options.method?.toUpperCase(),o.options.onRequest&&await o.options.onRequest(o),"string"==typeof o.request&&(o.options.baseURL&&(o.request=function(e,t){if(isEmptyURL(t)||hasProtocol(e))return e;const n=withoutTrailingSlash(t);return e.startsWith(n)?e:joinURL(n,e)}(o.request,o.options.baseURL)),(o.options.query||o.options.params)&&(o.request=withQuery(o.request,{...o.options.params,...o.options.query}))),o.options.body&&isPayloadMethod(o.options.method)&&(!function(e){if(void 0===e)return!1;const t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!e.buffer&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}(o.options.body)?("pipeTo"in o.options.body&&"function"==typeof o.options.body.pipeTo||"function"==typeof o.options.body.pipe)&&("duplex"in o.options||(o.options.duplex="half")):(o.options.body="string"==typeof o.options.body?o.options.body:JSON.stringify(o.options.body),o.options.headers=new n(o.options.headers||{}),o.options.headers.has("content-type")||o.options.headers.set("content-type","application/json"),o.options.headers.has("accept")||o.options.headers.set("accept","application/json"))),!o.options.signal&&o.options.timeout){const e=new l;setTimeout((()=>e.abort()),o.options.timeout),o.options.signal=e.signal}try{o.response=await t(o.request,o.options)}catch(e){return o.error=e,o.options.onRequestError&&await o.options.onRequestError(o),await onError(o)}if(o.response.body&&!Ae.has(o.response.status)&&"HEAD"!==o.options.method){const e=(o.options.parseResponse?"json":o.options.responseType)||function(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return De.test(t)?"json":_e.has(t)||t.startsWith("text/")?"text":"blob"}(o.response.headers.get("content-type")||"");switch(e){case"json":{const e=await o.response.text(),t=o.options.parseResponse||destr;o.response._data=t(e);break}case"stream":o.response._data=o.response.body;break;default:o.response._data=await o.response[e]()}}return o.options.onResponse&&await o.options.onResponse(o),!o.options.ignoreResponseError&&o.response.status>=400&&o.response.status<600?(o.options.onResponseError&&await o.options.onResponseError(o),await onError(o)):o.response},$fetch=async function(e,t){return(await $fetchRaw(e,t))._data};return $fetch.raw=$fetchRaw,$fetch.native=(...e)=>t(...e),$fetch.create=(t={})=>createFetch$1({...e,defaults:{...e.defaults,...t}}),$fetch}const qe=function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}(),$e=qe.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),et=qe.Headers,tt=qe.AbortController;createFetch$1({fetch:$e,Headers:et,AbortController:tt});const nt=new Set([101,204,205,304]);function flatHooks(e,t={},n){for(const l in e){const i=e[l],s=n?`${n}:${l}`:l;"object"==typeof i&&null!==i?flatHooks(i,t,s):"function"==typeof i&&(t[s]=i)}return t}const lt={run:e=>e()},it=void 0!==console.createTask?console.createTask:()=>lt;function serialTaskCaller(e,t){const n=t.shift(),l=it(n);return e.reduce(((e,n)=>e.then((()=>l.run((()=>n(...t)))))),Promise.resolve())}function parallelTaskCaller(e,t){const n=t.shift(),l=it(n);return Promise.all(e.map((e=>l.run((()=>e(...t))))))}function callEachWith(e,t){for(const n of[...e])n(t)}class Hookable{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,t,n={}){if(!e||"function"!=typeof t)return()=>{};const l=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!n.allowDeprecated){let e=i.message;e||(e=`${l} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(e)||(console.warn(e),this._deprecatedMessages.add(e))}if(!t.name)try{Object.defineProperty(t,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(t),()=>{t&&(this.removeHook(e,t),t=void 0)}}hookOnce(e,t){let n,_function=(...e)=>("function"==typeof n&&n(),n=void 0,_function=void 0,t(...e));return n=this.hook(e,_function),n}removeHook(e,t){if(this._hooks[e]){const n=this._hooks[e].indexOf(t);-1!==n&&this._hooks[e].splice(n,1),0===this._hooks[e].length&&delete this._hooks[e]}}deprecateHook(e,t){this._deprecatedHooks[e]="string"==typeof t?{to:t}:t;const n=this._hooks[e]||[];delete this._hooks[e];for(const t of n)this.hook(e,t)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const t in e)this.deprecateHook(t,e[t])}addHooks(e){const t=flatHooks(e),n=Object.keys(t).map((e=>this.hook(e,t[e])));return()=>{for(const e of n.splice(0,n.length))e()}}removeHooks(e){const t=flatHooks(e);for(const e in t)this.removeHook(e,t[e])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...t){return t.unshift(e),this.callHookWith(serialTaskCaller,e,...t)}callHookParallel(e,...t){return t.unshift(e),this.callHookWith(parallelTaskCaller,e,...t)}callHookWith(e,t,...n){const l=this._before||this._after?{name:t,args:n,context:{}}:void 0;this._before&&callEachWith(this._before,l);const i=e(t in this._hooks?[...this._hooks[t]]:[],n);return i instanceof Promise?i.finally((()=>{this._after&&l&&callEachWith(this._after,l)})):(this._after&&l&&callEachWith(this._after,l),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(void 0!==this._before){const t=this._before.indexOf(e);-1!==t&&this._before.splice(t,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(void 0!==this._after){const t=this._after.indexOf(e);-1!==t&&this._after.splice(t,1)}}}}function klona(e){if("object"!=typeof e)return e;var t,n,l=Object.prototype.toString.call(e);if("[object Object]"===l){if(e.constructor!==Object&&"function"==typeof e.constructor)for(t in n=new e.constructor,e)e.hasOwnProperty(t)&&n[t]!==e[t]&&(n[t]=klona(e[t]));else for(t in n={},e)"__proto__"===t?Object.defineProperty(n,t,{value:klona(e[t]),configurable:!0,enumerable:!0,writable:!0}):n[t]=klona(e[t]);return n}if("[object Array]"===l){for(t=e.length,n=Array(t);t--;)n[t]=klona(e[t]);return n}return"[object Set]"===l?(n=new Set,e.forEach((function(e){n.add(klona(e))})),n):"[object Map]"===l?(n=new Map,e.forEach((function(e,t){n.set(klona(t),klona(e))})),n):"[object Date]"===l?new Date(+e):"[object RegExp]"===l?((n=new RegExp(e.source,e.flags)).lastIndex=e.lastIndex,n):"[object DataView]"===l?new e.constructor(klona(e.buffer)):"[object ArrayBuffer]"===l?e.slice(0):"Array]"===l.slice(-6)?new e.constructor(e):e}const st=/\d/,ot=["-","_","/","."];function isUppercase(e=""){if(!st.test(e))return e!==e.toLowerCase()}function kebabCase(e,t){return e?(Array.isArray(e)?e:function(e,t){const n=t??ot,l=[];if(!e||"string"!=typeof e)return l;let i,s,o="";for(const t of e){const e=n.includes(t);if(!0===e){l.push(o),o="",i=void 0;continue}const u=isUppercase(t);if(!1===s){if(!1===i&&!0===u){l.push(o),o=t,i=u;continue}if(!0===i&&!1===u&&o.length>1){const e=o.at(-1);l.push(o.slice(0,Math.max(0,o.length-1))),o=e+t,i=u;continue}}o+=t,i=u,s=e}return l.push(o),l}(e)).map((e=>e.toLowerCase())).join(t??"-"):""}function getEnv(e,t){const n=function(e){return kebabCase(e||"","_")}(e).toUpperCase();return destr(b.env[t.prefix+n]??b.env[t.altPrefix+n])}function _isObject(e){return"object"==typeof e&&!Array.isArray(e)}function applyEnv(e,t,n=""){for(const l in e){const i=n?`${n}_${l}`:l,s=getEnv(i,t);_isObject(e[l])?_isObject(s)?(e[l]={...e[l],...s},applyEnv(e[l],t,i)):void 0===s?applyEnv(e[l],t,i):e[l]=s??e[l]:e[l]=s??e[l],t.envExpansion&&"string"==typeof e[l]&&(e[l]=e[l].replace(ct,((e,t)=>b.env[t]||e)))}return e}const ct=/{{(.*?)}}/g;const at=Le({}),rt={app:{baseURL:"/"},nitro:{routeRules:{}}},ut={prefix:"NITRO_",altPrefix:rt.nitro.envPrefix??b.env.NITRO_ENV_PREFIX??"_",envExpansion:rt.nitro.envExpansion??b.env.NITRO_ENV_EXPANSION??!1},dt=_deepFreeze(applyEnv(klona(rt),ut));function useRuntimeConfig(e){if(!e)return dt;if(e.context.nitro.runtimeConfig)return e.context.nitro.runtimeConfig;const t=klona(rt);return applyEnv(t,ut),e.context.nitro.runtimeConfig=t,t}function _deepFreeze(e){const t=Object.getOwnPropertyNames(e);for(const n of t){const t=e[n];t&&"object"==typeof t&&_deepFreeze(t)}return Object.freeze(e)}function asyncCall(e,...t){try{return(n=e(...t))&&"function"==typeof n.then?n:Promise.resolve(n)}catch(e){return Promise.reject(e)}var n}function stringify$2(e){if(function(e){const t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return stringify$2(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function checkBufferSupport(){if(void 0===typeof E)throw new TypeError("[unstorage] Buffer is not supported!")}_deepFreeze(klona(at)),new Proxy(Object.create(null),{get:(e,t)=>{console.warn("Please use `useRuntimeConfig()` instead of accessing config directly.");const n=useRuntimeConfig();if(t in n)return n[t]}});const ht="base64:";const mt=["hasItem","getItem","getItemRaw","setItem","setItemRaw","removeItem","getMeta","setMeta","removeMeta","getKeys","clear","mount","unmount"];function normalizeKey$1(e){return e?e.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function joinKeys(...e){return normalizeKey$1(e.join(":"))}function normalizeBaseKey(e){return(e=normalizeKey$1(e))?e+":":""}const memory=()=>{const e=new Map;return{name:"memory",options:{},hasItem:t=>e.has(t),getItem:t=>e.get(t)??null,getItemRaw:t=>e.get(t)??null,setItem(t,n){e.set(t,n)},setItemRaw(t,n){e.set(t,n)},removeItem(t){e.delete(t)},getKeys:()=>Array.from(e.keys()),clear(){e.clear()},dispose(){e.clear()}}};function watch(e,t,n){return e.watch?e.watch(((e,l)=>t(e,n+l))):()=>{}}async function dispose(e){"function"==typeof e.dispose&&await asyncCall(e.dispose)}const bt={"public:analog.svg":{import:()=>Promise.resolve().then((function(){return ft})).then((e=>e.default||e)),meta:{type:"image/svg+xml",etag:'"2f59-onYRgu96DadF9OF8r3hf4CPH2vk"',mtime:"2024-02-28T01:59:56.314Z"}},"public:index.html":{import:()=>Promise.resolve().then((function(){return Lt})).then((e=>e.default||e)),meta:{type:"text/html; charset=utf-8",etag:'"1ea-KpaZMdswxJLAa1K6JELZ27YuF+0"',mtime:"2024-03-04T04:33:30.078Z"}},"public:vite.svg":{import:()=>Promise.resolve().then((function(){return Kt})).then((e=>e.default||e)),meta:{type:"image/svg+xml",etag:'"5d9-9/Odcje3kalF1Spc16j7Nl8xM2Y"',mtime:"2024-02-28T01:59:56.318Z"}},"public:assets:analogjs-content-Cnm5KQCW.js":{import:()=>Promise.resolve().then((function(){return Nt})).then((e=>e.default||e)),meta:{type:"text/javascript; charset=utf-8",etag:'"21c5c-2l+RajMrnb5uf1TwTWrS3cNWxhU"',mtime:"2024-03-04T04:33:30.078Z"}},"public:assets:favicon-BYy3mmNz.ico":{import:()=>Promise.resolve().then((function(){return vt})).then((e=>e.default||e)),meta:{type:"image/vnd.microsoft.icon",etag:'"3b4-Ivako7yq+vsCVODy+kzrieUF6LI"',mtime:"2024-03-04T04:33:30.078Z"}},"public:assets:index-z7pQ7NGC.css":{import:()=>Promise.resolve().then((function(){return kt})).then((e=>e.default||e)),meta:{type:"text/css; charset=utf-8",etag:'"15c0-7ZWimTC9TmNWpVSGDCfXRGbmMoA"',mtime:"2024-03-04T04:33:30.078Z"}},"public:assets:index-zB45RZ9U.js":{import:()=>Promise.resolve().then((function(){return Ht})).then((e=>e.default||e)),meta:{type:"text/javascript; charset=utf-8",etag:'"96bc1-YWNRcEMDt2n/Y4Fk/AO83SlVQdI"',mtime:"2024-03-04T04:33:30.078Z"}},"public:assets:index.page-xm-UjLEh.js":{import:()=>Promise.resolve().then((function(){return Ft})).then((e=>e.default||e)),meta:{type:"text/javascript; charset=utf-8",etag:'"1879-G3uqAyfBb1IwwNwjLmSm60T8XVQ"',mtime:"2024-03-04T04:33:30.078Z"}}},normalizeKey=function(e){return e?e.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""},pt={getKeys:()=>Promise.resolve(Object.keys(bt)),hasItem:e=>(e=normalizeKey(e),Promise.resolve(e in bt)),getItem:e=>(e=normalizeKey(e),Promise.resolve(bt[e]?bt[e].import():null)),getMeta:e=>(e=normalizeKey(e),Promise.resolve(bt[e]?bt[e].meta:{}))},Zt=function(e={}){const t={mounts:{"":e.driver||memory()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},getMount=e=>{for(const n of t.mountpoints)if(e.startsWith(n))return{base:n,relativeKey:e.slice(n.length),driver:t.mounts[n]};return{base:"",relativeKey:e,driver:t.mounts[""]}},getMounts=(e,n)=>t.mountpoints.filter((t=>t.startsWith(e)||n&&e.startsWith(t))).map((n=>({relativeBase:e.length>n.length?e.slice(n.length):void 0,mountpoint:n,driver:t.mounts[n]}))),onChange=(e,n)=>{if(t.watching){n=normalizeKey$1(n);for(const l of t.watchListeners)l(e,n)}},stopWatch=async()=>{if(t.watching){for(const e in t.unwatch)await t.unwatch[e]();t.unwatch={},t.watching=!1}},runBatch=(e,t,n)=>{const l=new Map,getBatch=e=>{let t=l.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},l.set(e.base,t)),t};for(const n of e){const e="string"==typeof n,l=normalizeKey$1(e?n:n.key),i=e?void 0:n.value,s=e||!n.options?t:{...t,...n.options},o=getMount(l);getBatch(o).items.push({key:l,value:i,relativeKey:o.relativeKey,options:s})}return Promise.all([...l.values()].map((e=>n(e)))).then((e=>e.flat()))},n={hasItem(e,t={}){e=normalizeKey$1(e);const{relativeKey:n,driver:l}=getMount(e);return asyncCall(l.hasItem,n,t)},getItem(e,t={}){e=normalizeKey$1(e);const{relativeKey:n,driver:l}=getMount(e);return asyncCall(l.getItem,n,t).then((e=>destr(e)))},getItems:(e,t)=>runBatch(e,t,(e=>e.driver.getItems?asyncCall(e.driver.getItems,e.items.map((e=>({key:e.relativeKey,options:e.options}))),t).then((t=>t.map((t=>({key:joinKeys(e.base,t.key),value:destr(t.value)}))))):Promise.all(e.items.map((t=>asyncCall(e.driver.getItem,t.relativeKey,t.options).then((e=>({key:t.key,value:destr(e)})))))))),getItemRaw(e,t={}){e=normalizeKey$1(e);const{relativeKey:n,driver:l}=getMount(e);return l.getItemRaw?asyncCall(l.getItemRaw,n,t):asyncCall(l.getItem,n,t).then((e=>function(e){return"string"!=typeof e?e:e.startsWith(ht)?(checkBufferSupport(),E.from(e.slice(ht.length),"base64")):e}(e)))},async setItem(e,t,l={}){if(void 0===t)return n.removeItem(e);e=normalizeKey$1(e);const{relativeKey:i,driver:s}=getMount(e);s.setItem&&(await asyncCall(s.setItem,i,stringify$2(t),l),s.watch||onChange("update",e))},async setItems(e,t){await runBatch(e,t,(async e=>{e.driver.setItems&&await asyncCall(e.driver.setItems,e.items.map((e=>({key:e.relativeKey,value:stringify$2(e.value),options:e.options}))),t),e.driver.setItem&&await Promise.all(e.items.map((t=>asyncCall(e.driver.setItem,t.relativeKey,stringify$2(t.value),t.options))))}))},async setItemRaw(e,t,l={}){if(void 0===t)return n.removeItem(e,l);e=normalizeKey$1(e);const{relativeKey:i,driver:s}=getMount(e);if(s.setItemRaw)await asyncCall(s.setItemRaw,i,t,l);else{if(!s.setItem)return;await asyncCall(s.setItem,i,function(e){if("string"==typeof e)return e;checkBufferSupport();const t=E.from(e).toString("base64");return ht+t}(t),l)}s.watch||onChange("update",e)},async removeItem(e,t={}){"boolean"==typeof t&&(t={removeMeta:t}),e=normalizeKey$1(e);const{relativeKey:n,driver:l}=getMount(e);l.removeItem&&(await asyncCall(l.removeItem,n,t),(t.removeMeta||t.removeMata)&&await asyncCall(l.removeItem,n+"$",t),l.watch||onChange("remove",e))},async getMeta(e,t={}){"boolean"==typeof t&&(t={nativeOnly:t}),e=normalizeKey$1(e);const{relativeKey:n,driver:l}=getMount(e),i=Object.create(null);if(l.getMeta&&Object.assign(i,await asyncCall(l.getMeta,n,t)),!t.nativeOnly){const e=await asyncCall(l.getItem,n+"$",t).then((e=>destr(e)));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(i,e))}return i},setMeta(e,t,n={}){return this.setItem(e+"$",t,n)},removeMeta(e,t={}){return this.removeItem(e+"$",t)},async getKeys(e,t={}){e=normalizeBaseKey(e);const n=getMounts(e,!0);let l=[];const i=[];for(const e of n){const n=(await asyncCall(e.driver.getKeys,e.relativeBase,t)).map((t=>e.mountpoint+normalizeKey$1(t))).filter((e=>!l.some((t=>e.startsWith(t)))));i.push(...n),l=[e.mountpoint,...l.filter((t=>!t.startsWith(e.mountpoint)))]}return e?i.filter((t=>t.startsWith(e)&&!t.endsWith("$"))):i.filter((e=>!e.endsWith("$")))},async clear(e,t={}){e=normalizeBaseKey(e),await Promise.all(getMounts(e,!1).map((async e=>{if(e.driver.clear)return asyncCall(e.driver.clear,e.relativeBase,t);if(e.driver.removeItem){const n=await e.driver.getKeys(e.relativeBase||"",t);return Promise.all(n.map((n=>e.driver.removeItem(n,t))))}})))},async dispose(){await Promise.all(Object.values(t.mounts).map((e=>dispose(e))))},watch:async e=>(await(async()=>{if(!t.watching){t.watching=!0;for(const e in t.mounts)t.unwatch[e]=await watch(t.mounts[e],onChange,e)}})(),t.watchListeners.push(e),async()=>{t.watchListeners=t.watchListeners.filter((t=>t!==e)),0===t.watchListeners.length&&await stopWatch()}),async unwatch(){t.watchListeners=[],await stopWatch()},mount(e,l){if((e=normalizeBaseKey(e))&&t.mounts[e])throw new Error(`already mounted at ${e}`);return e&&(t.mountpoints.push(e),t.mountpoints.sort(((e,t)=>t.length-e.length))),t.mounts[e]=l,t.watching&&Promise.resolve(watch(l,onChange,e)).then((n=>{t.unwatch[e]=n})).catch(console.error),n},async unmount(e,n=!0){(e=normalizeBaseKey(e))&&t.mounts[e]&&(t.watching&&e in t.unwatch&&(t.unwatch[e](),delete t.unwatch[e]),n&&await dispose(t.mounts[e]),t.mountpoints=t.mountpoints.filter((t=>t!==e)),delete t.mounts[e])},getMount(e=""){e=normalizeKey$1(e)+":";const t=getMount(e);return{driver:t.driver,base:t.base}},getMounts(e="",t={}){e=normalizeKey$1(e);return getMounts(e,t.parents).map((e=>({driver:e.driver,base:e.mountpoint})))}};return n}({});function useStorage(e=""){return e?function(e,t){if(!(t=normalizeBaseKey(t)))return e;const n={...e};for(const l of mt)n[l]=(n="",...i)=>e[l](t+n,...i);return n.getKeys=(n="",...l)=>e.getKeys(t+n,...l).then((e=>e.map((e=>e.slice(t.length))))),n}(Zt,e):Zt}Zt.mount("/assets",pt);const yt={name:"_",base:"/cache",swr:!0,maxAge:1};const cachedFunction=function(e,t={}){t={...yt,...t};const n={},l=t.group||"nitro/functions",i=t.name||e.name||"_",s=t.integrity||hash([e,t]),o=t.validate||(e=>void 0!==e.value);return async(...u)=>{if(await(t.shouldBypassCache?.(...u)))return e(...u);const d=await(t.getKey||getKey)(...u),h=await(t.shouldInvalidateCache?.(...u)),m=await async function(e,u,d,h){const m=[t.base,l,i,e+".json"].filter(Boolean).join(":").replace(/:\/$/,":index");let b=await useStorage().getItem(m)||{};if("object"!=typeof b){b={};const e=new Error("Malformed data read from cache.");console.error("[nitro] [cache]",e),useNitroApp().captureError(e,{event:h,tags:["cache"]})}const V=1e3*(t.maxAge??t.maxAge??0);V&&(b.expires=Date.now()+V);const g=d||b.integrity!==s||V&&Date.now()-(b.mtime||0)>V||!1===o(b),f=g?(async()=>{const l=n[e];l||(void 0!==b.value&&(t.staleMaxAge||0)>=0&&!1===t.swr&&(b.value=void 0,b.integrity=void 0,b.mtime=void 0,b.expires=void 0),n[e]=Promise.resolve(u()));try{b.value=await n[e]}catch(t){throw l||delete n[e],t}if(!l&&(b.mtime=Date.now(),b.integrity=s,delete n[e],!1!==o(b))){const e=useStorage().setItem(m,b).catch((e=>{console.error("[nitro] [cache] Cache write error.",e),useNitroApp().captureError(e,{event:h,tags:["cache"]})}));h&&h.waitUntil&&h.waitUntil(e)}})():Promise.resolve();return void 0===b.value?await f:g&&h&&h.waitUntil&&h.waitUntil(f),t.swr&&!1!==o(b)?(f.catch((e=>{console.error("[nitro] [cache] SWR handler error.",e),useNitroApp().captureError(e,{event:h,tags:["cache"]})})),b):f.then((()=>b))}(d,(()=>e(...u)),h,u[0]&&isEvent(u[0])?u[0]:void 0);let b=m.value;return t.transform&&(b=await t.transform(m,...u)||b),b}};function getKey(...e){return e.length>0?hash(e,{}):""}function escapeKey(e){return String(e).replace(/\W/g,"")}function cloneWithProxy(e,t){return new Proxy(e,{get:(e,n,l)=>n in t?t[n]:Reflect.get(e,n,l),set:(e,n,l,i)=>n in t?(t[n]=l,!0):Reflect.set(e,n,l,i)})}const cachedEventHandler=function(e,t=yt){const n=(t.varies||[]).filter(Boolean).map((e=>e.toLowerCase())).sort(),l={...t,getKey:async e=>{const l=await(t.getKey?.(e));if(l)return escapeKey(l);const i=e.node.req.originalUrl||e.node.req.url||e.path,s=`${escapeKey(decodeURI(parseURL(i).pathname)).slice(0,16)||"index"}.${hash(i)}`,o=n.map((t=>[t,e.node.req.headers[t]])).map((([e,t])=>`${escapeKey(e)}.${hash(t)}`));return[s,...o].join(":")},validate:e=>!!e.value&&(!(e.value.code>=400)&&(void 0!==e.value.body&&("undefined"!==e.value.headers.etag&&"undefined"!==e.value.headers["last-modified"]))),group:t.group||"nitro/handlers",integrity:t.integrity||hash([e,t])},i=cachedFunction((async l=>{const i={};for(const e of n)i[e]=l.node.req.headers[e];const s=cloneWithProxy(l.node.req,{headers:i}),o={};let u;const d=cloneWithProxy(l.node.res,{statusCode:200,writableEnded:!1,writableFinished:!1,headersSent:!1,closed:!1,getHeader:e=>o[e],setHeader(e,t){return o[e]=t,this},getHeaderNames:()=>Object.keys(o),hasHeader:e=>e in o,removeHeader(e){delete o[e]},getHeaders:()=>o,end(e,t,n){return"string"==typeof e&&(u=e),"function"==typeof t&&t(),"function"==typeof n&&n(),this},write(e,t,n){return"string"==typeof e&&(u=e),"function"==typeof t&&t(),"function"==typeof n&&n(),this},writeHead(e,t){if(this.statusCode=e,t)for(const e in t)this.setHeader(e,t[e]);return this}}),h=createEvent(s,d);h.fetch=(e,t)=>fetchWithEvent(h,e,t,{fetch:useNitroApp().localFetch}),h.$fetch=(e,t)=>fetchWithEvent(h,e,t,{fetch:globalThis.$fetch}),h.context=l.context;const m=await e(h)||u,b=h.node.res.getHeaders();b.etag=String(b.Etag||b.etag||`W/"${hash(m)}"`),b["last-modified"]=String(b["Last-Modified"]||b["last-modified"]||(new Date).toUTCString());const V=[];t.swr?(t.maxAge&&V.push(`s-maxage=${t.maxAge}`),t.staleMaxAge?V.push(`stale-while-revalidate=${t.staleMaxAge}`):V.push("stale-while-revalidate")):t.maxAge&&V.push(`max-age=${t.maxAge}`),V.length>0&&(b["cache-control"]=V.join(", "));return{code:h.node.res.statusCode,headers:b,body:m}}),l);return defineEventHandler((async n=>{if(t.headersOnly){if(handleCacheHeaders(n,{maxAge:t.maxAge}))return;return e(n)}const l=await i(n);if(n.node.res.headersSent||n.node.res.writableEnded)return l.body;if(!handleCacheHeaders(n,{modifiedTime:new Date(l.headers["last-modified"]),etag:l.headers.etag,maxAge:t.maxAge})){n.node.res.statusCode=l.code;for(const e in l.headers){const t=l.headers[e];"set-cookie"===e?n.node.res.appendHeader(e,splitCookiesString(t)):n.node.res.setHeader(e,t)}return l.body}}))};function hasReqHeader(e,t,n){const l=function(e,t){return getRequestHeaders(e)[t.toLowerCase()]}(e,t);return l&&"string"==typeof l&&l.toLowerCase().includes(n)}function joinHeaders(e){return Array.isArray(e)?e.join(", "):String(e)}function normalizeCookieHeader(e=""){return splitCookiesString(joinHeaders(e))}function normalizeCookieHeaders(e){const t=new Headers;for(const[n,l]of e)if("set-cookie"===n)for(const e of normalizeCookieHeader(l))t.append("set-cookie",e);else t.set(n,joinHeaders(l));return t}const Gt=toRouteMatcher(createRouter$1({routes:useRuntimeConfig().nitro.routeRules}));function createRouteRulesHandler(e){return je((t=>{const n=function(e){e.context._nitro=e.context._nitro||{},e.context._nitro.routeRules||(e.context._nitro.routeRules=getRouteRulesForPath(withoutBase(e.path.split("?")[0],useRuntimeConfig().app.baseURL)));return e.context._nitro.routeRules}(t);if(n.headers&&setHeaders(t,n.headers),n.redirect){let e=n.redirect.to;if(e.endsWith("/**")){let l=t.path;const i=n.redirect._redirectStripBase;i&&(l=withoutBase(l,i)),e=joinURL(e.slice(0,-3),l)}else if(t.path.includes("?")){e=withQuery(e,getQuery(t.path))}return function(e,t,n=302){return e.node.res.statusCode=sanitizeStatusCode(n,e.node.res.statusCode),e.node.res.setHeader("location",t),send(e,`<!DOCTYPE html><html><head><meta http-equiv="refresh" content="0; url=${t.replace(/"/g,"%22")}"></head></html>`,ze.html)}(t,e,n.redirect.statusCode)}if(n.proxy){let l=n.proxy.to;if(l.endsWith("/**")){let e=t.path;const i=n.proxy._proxyStripBase;i&&(e=withoutBase(e,i)),l=joinURL(l.slice(0,-3),e)}else if(t.path.includes("?")){l=withQuery(l,getQuery(t.path))}return proxyRequest(t,l,{fetch:e.localFetch,...n.proxy})}}))}function getRouteRulesForPath(e){return Se({},...Gt.matchAll(e).reverse())}const Xt=[];const errorHandler$1=function(e,t){const{stack:n,statusCode:l,statusMessage:i,message:s}=function(e){const t="function"==typeof b.cwd?b.cwd():"/",n=(e.stack||"").split("\n").splice(1).filter((e=>e.includes("at "))).map((e=>({text:e.replace(t+"/","./").replace("webpack:/","").replace("file://","").trim(),internal:e.includes("node_modules")&&!e.includes(".cache")||e.includes("internal")||e.includes("new Promise")}))),l=e.statusCode||500;return{stack:n,statusCode:l,statusMessage:e.statusMessage??(404===l?"Not Found":""),message:e.message||e.toString()}}(e),o={url:t.path||"",statusCode:l,statusMessage:i,message:s,stack:void 0};if(e.unhandled||e.fatal){const t=["[nitro]","[request error]",e.unhandled&&"[unhandled]",e.fatal&&"[fatal]"].filter(Boolean).join(" ");console.error(t,e.message+"\n"+n.map((e=>"  "+e.text)).join("  \n"))}return setResponseStatus(t,l,i),function(e){return!hasReqHeader(e,"accept","text/html")&&(hasReqHeader(e,"accept","application/json")||hasReqHeader(e,"user-agent","curl/")||hasReqHeader(e,"user-agent","httpie/")||hasReqHeader(e,"sec-fetch-mode","cors")||e.path.startsWith("/api/")||e.path.endsWith(".json"))}(t)?(setResponseHeader(t,"Content-Type","application/json"),send(t,JSON.stringify(o))):(setResponseHeader(t,"Content-Type","text/html"),send(t,function(e){const t=e.statusCode||500,n=e.statusMessage||"Request Error";return`<!DOCTYPE html>\n  <html lang="en">\n  <head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1">\n    <title>${t} ${n}</title>\n    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico/css/pico.min.css">\n  </head>\n  <body>\n    <main class="container">\n      <dialog open>\n        <article>\n          <header>\n            <h2>${t} ${n}</h2>\n          </header>\n          <code>\n            ${e.message}<br><br>\n            ${"\n"+(e.stack||[]).map((e=>`&nbsp;&nbsp;${e}`)).join("<br>")}\n          </code>\n          <footer>\n            <a href="/" onclick="event.preventDefault();history.back();">Go Back</a>\n          </footer>\n        </article>\n      </dialog>\n    </main>\n  </body>\n</html>\n`}(o)))};const Vt=[{route:"/v1/hello",handler:()=>Promise.resolve().then((function(){return Ut})),lazy:!0,middleware:!1,method:void 0},{route:"",handler:je((async e=>{const t=`/${globalThis._importMeta_.env.RUNTIME_CONFIG?.apiPrefix??"api"}`;if(e.node.req.url?.startsWith(t)){const n=e.node.req.url?.replace(t,"");return"GET"!==e.node.req.method||e.node.req.url?.endsWith(".xml")?proxyRequest(e,n,{fetch:$fetch.native}):$fetch(n,{headers:e.node.req.headers})}})),lazy:!1,middleware:!0,method:void 0},{route:"/**",handler:()=>Promise.resolve().then((function(){return py})),lazy:!0,middleware:!1,method:void 0}];const Wt=function(){const e=useRuntimeConfig(),t=new Hookable,captureError=(e,n={})=>{const l=t.callHookParallel("error",e,n).catch((e=>{console.error("Error while capturing another error",e)}));if(n.event&&isEvent(n.event)){const t=n.event.context.nitro?.errors;t&&t.push({error:e,context:n}),n.event.waitUntil&&n.event.waitUntil(l)}},n=createApp({debug:destr(!1),onError:(e,t)=>(captureError(e,{event:t,tags:["request"]}),errorHandler$1(e,t)),onRequest:async e=>{await Wt.hooks.callHook("request",e).catch((t=>{captureError(t,{event:e,tags:["request"]})}))},onBeforeResponse:async(e,t)=>{await Wt.hooks.callHook("beforeResponse",e,t).catch((t=>{captureError(t,{event:e,tags:["request","response"]})}))},onAfterResponse:async(e,t)=>{await Wt.hooks.callHook("afterResponse",e,t).catch((t=>{captureError(t,{event:e,tags:["request","response"]})}))}}),l=function(e={}){const t=createRouter$1({}),n={};let l;const i={},addRoute=(e,l,s)=>{let o=n[e];if(o||(n[e]=o={path:e,handlers:{}},t.insert(e,o)),Array.isArray(s))for(const t of s)addRoute(e,l,t);else o.handlers[s]=toEventHandler(l,0,e);return i};i.use=i.add=(e,t,n)=>addRoute(e,t,n||"all");for(const e of Be)i[e]=(t,n)=>i.add(t,n,e);const matchHandler=(e="/",n="get")=>{const i=e.indexOf("?");-1!==i&&(e=e.slice(0,Math.max(0,i)));const s=t.lookup(e);if(!s||!s.handlers)return{error:createError({statusCode:404,name:"Not Found",statusMessage:`Cannot find any route matching ${e||"/"}.`})};let o=s.handlers[n]||s.handlers.all;if(!o){l||(l=toRouteMatcher(t));const i=l.matchAll(e).reverse();for(const e of i){if(e.handlers[n]){o=e.handlers[n],s.handlers[n]=s.handlers[n]||o;break}if(e.handlers.all){o=e.handlers.all,s.handlers.all=s.handlers.all||o;break}}}return o?{matched:s,handler:o}:{error:createError({statusCode:405,name:"Method Not Allowed",statusMessage:`Method ${n} is not allowed on this route.`})}},s=e.preemptive||e.preemtive;return i.handler=je((e=>{const t=matchHandler(e.path,e.method.toLowerCase());if("error"in t){if(s)throw t.error;return}e.context.matchedRoute=t.matched;const n=t.matched.params||{};return e.context.params=n,Promise.resolve(t.handler(e)).then((e=>void 0===e&&s?null:e))})),i.handler.__resolve__=async e=>{e=function(e=""){return function(e=""){return e.startsWith("/")}(e)?e:"/"+e}(e);const t=matchHandler(e);if("error"in t)return;let n={route:t.matched.path,handler:t.handler};if(t.handler.__resolve__){const l=await t.handler.__resolve__(e);if(!l)return;n={...n,...l}}return n},i}({preemptive:!0}),i=(s=toNodeListener(n),function(e){const t=new IncomingMessage,n=new ServerResponse(t);if(t.url=e.url||"/",t.method=e.method||"GET",t.headers={},e.headers){const n="function"==typeof e.headers.entries?e.headers.entries():Object.entries(e.headers);for(const[e,l]of n)l&&(t.headers[e.toLowerCase()]=l)}return t.headers.host=t.headers.host||e.host||"localhost",t.connection.encrypted=t.connection.encrypted||"https"===e.protocol,t.body=e.body||null,t.__unenv__=e.context,s(t,n).then((()=>{let e=n._data;(nt.has(n.statusCode)||"HEAD"===t.method.toUpperCase())&&(e=null,delete n._headers["content-length"]);const l={body:e,headers:n._headers,status:n.statusCode,statusText:n.statusMessage};return t.destroy(),n.destroy(),l}))});var s;const o=function(e,t=global.fetch){return async function(n,l){const i=n.toString();if(!i.startsWith("/"))return t(i,l);try{const t=await e({url:i,...l});return new Response(t.body,{status:t.status,statusText:t.statusText,headers:Object.fromEntries(Object.entries(t.headers).map((([e,t])=>[e,Array.isArray(t)?t.join(","):String(t)||""])))})}catch(e){return new Response(e.toString(),{status:Number.parseInt(e.statusCode||e.code)||500,statusText:e.statusText})}}}(i,globalThis.fetch),localFetch=(e,t)=>o(e,t).then((e=>function(e){return e.headers.has("set-cookie")?new Response(e.body,{status:e.status,statusText:e.statusText,headers:normalizeCookieHeaders(e.headers)}):e}(e))),u=createFetch$1({fetch:localFetch,Headers:et,defaults:{baseURL:e.app.baseURL}});globalThis.$fetch=u,n.use(createRouteRulesHandler({localFetch:localFetch})),n.use(je((e=>{e.context.nitro=e.context.nitro||{errors:[]};const t=e.node.req?.__unenv__;t&&Object.assign(e.context,t),e.fetch=(t,n)=>fetchWithEvent(e,t,n,{fetch:localFetch}),e.$fetch=(t,n)=>fetchWithEvent(e,t,n,{fetch:u}),e.waitUntil=n=>{e.context.nitro._waitUntilPromises||(e.context.nitro._waitUntilPromises=[]),e.context.nitro._waitUntilPromises.push(n),t?.waitUntil&&t.waitUntil(n)},e.captureError=(t,n)=>{captureError(t,{event:e,...n})}})));for(const t of Vt){let i=t.lazy?lazyEventHandler(t.handler):t.handler;if(t.middleware||!t.route){const l=(e.app.baseURL+(t.route||"/")).replace(/\/+/g,"/");n.use(l,i)}else{const e=getRouteRulesForPath(t.route.replace(/:\w+|\*\*/g,"_"));e.cache&&(i=cachedEventHandler(i,{group:"nitro/routes",...e.cache})),l.use(t.route,i,t.method)}}n.use(e.app.baseURL,l.handler);const d={hooks:t,h3App:n,router:l,localCall:i,localFetch:localFetch,captureError:captureError};for(const e of Xt)try{e(d)}catch(e){throw captureError(e,{tags:["plugin"]}),e}return d}(),useNitroApp=()=>Wt,Rt={"/.gitkeep":{type:"text/plain; charset=utf-8",etag:'"0-2jmj7l5rSw0yVb/vlWAYkK/YBwk"',mtime:"2024-02-28T01:59:56.262Z",size:0,path:"../../../dist/analog/public/.gitkeep"},"/analog.svg":{type:"image/svg+xml",etag:'"2f59-onYRgu96DadF9OF8r3hf4CPH2vk"',mtime:"2024-02-28T01:59:56.314Z",size:12121,path:"../../../dist/analog/public/analog.svg"},"/vite.svg":{type:"image/svg+xml",etag:'"5d9-9/Odcje3kalF1Spc16j7Nl8xM2Y"',mtime:"2024-02-28T01:59:56.318Z",size:1497,path:"../../../dist/analog/public/vite.svg"},"/assets/analogjs-content-Cnm5KQCW.js":{type:"text/javascript; charset=utf-8",etag:'"21c5c-2l+RajMrnb5uf1TwTWrS3cNWxhU"',mtime:"2024-03-04T04:33:30.078Z",size:138332,path:"../../../dist/analog/public/assets/analogjs-content-Cnm5KQCW.js"},"/assets/favicon-BYy3mmNz.ico":{type:"image/vnd.microsoft.icon",etag:'"3b4-Ivako7yq+vsCVODy+kzrieUF6LI"',mtime:"2024-03-04T04:33:30.078Z",size:948,path:"../../../dist/analog/public/assets/favicon-BYy3mmNz.ico"},"/assets/index-z7pQ7NGC.css":{type:"text/css; charset=utf-8",etag:'"15c0-7ZWimTC9TmNWpVSGDCfXRGbmMoA"',mtime:"2024-03-04T04:33:30.078Z",size:5568,path:"../../../dist/analog/public/assets/index-z7pQ7NGC.css"},"/assets/index-zB45RZ9U.js":{type:"text/javascript; charset=utf-8",etag:'"96bc1-YWNRcEMDt2n/Y4Fk/AO83SlVQdI"',mtime:"2024-03-04T04:33:30.078Z",size:617409,path:"../../../dist/analog/public/assets/index-zB45RZ9U.js"},"/assets/index.page-xm-UjLEh.js":{type:"text/javascript; charset=utf-8",etag:'"1879-G3uqAyfBb1IwwNwjLmSm60T8XVQ"',mtime:"2024-03-04T04:33:30.078Z",size:6265,path:"../../../dist/analog/public/assets/index.page-xm-UjLEh.js"}},gt={};async function netlifyEdge(e,t){const n=new URL(e.url);if(function(e=""){if(Rt[e])return!0;for(const t in gt)if(e.startsWith(t))return!0;return!1}(n.pathname))return;let l;return e.headers.has("x-forwarded-proto")||"https:"!==n.protocol||e.headers.set("x-forwarded-proto","https"),e.body&&(l=await e.arrayBuffer()),Wt.localFetch(n.pathname+n.search,{host:n.hostname,protocol:n.protocol,headers:e.headers,method:e.method,redirect:e.redirect,body:l})}function base64ToUint8Array(e){const t=atob(e),n=t.length,l=new Uint8Array(n);for(let e=0;e<n;e++)l[e]=t.charCodeAt(e);return l}const It=base64ToUint8Array("PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTY0IiB6b29tQW5kUGFuPSJtYWduaWZ5IiB2aWV3Qm94PSIwIDAgNDIyLjg4IDM0My40OTk5OTUiIGhlaWdodD0iNDU4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2ZXJzaW9uPSIxLjAiPjxkZWZzPjxjbGlwUGF0aCBpZD0iaWQxIj48cGF0aCBkPSJNIDEyNy4yOTY4NzUgNzUuMzc1IEwgMzQ3LjU3MDMxMiA3NS4zNzUgTCAzNDcuNTcwMzEyIDI2Ny41MjczNDQgTCAxMjcuMjk2ODc1IDI2Ny41MjczNDQgWiBNIDEyNy4yOTY4NzUgNzUuMzc1ICIgY2xpcC1ydWxlPSJub256ZXJvIi8+PC9jbGlwUGF0aD48Y2xpcFBhdGggaWQ9ImlkMiI+PHBhdGggZD0iTSA3NS44NzEwOTQgMTA0IEwgMjYzLjMzNTkzOCAxMDQgTCAyNjMuMzM1OTM4IDI2OC4wMzEyNSBMIDc1Ljg3MTA5NCAyNjguMDMxMjUgWiBNIDc1Ljg3MTA5NCAxMDQgIiBjbGlwLXJ1bGU9Im5vbnplcm8iLz48L2NsaXBQYXRoPjxjbGlwUGF0aCBpZD0iaWQzIj48cGF0aCBkPSJNIDEwNSAxNjkuMDIzNDM4IEwgMzE1IDE2OS4wMjM0MzggTCAzMTUgMjU2Ljg5ODQzOCBMIDEwNSAyNTYuODk4NDM4IFogTSAxMDUgMTY5LjAyMzQzOCAiIGNsaXAtcnVsZT0ibm9uemVybyIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGNsaXAtcGF0aD0idXJsKCNpZDEpIj48cGF0aCBmaWxsPSIjYzMwZjJlIiBkPSJNIDIzNy40MzM1OTQgNzUuMzc4OTA2IEwgMzQ3LjU3MDMxMiAyNjcuNTI3MzQ0IEwgMTI3LjI5Njg3NSAyNjcuNTI3MzQ0IEwgMjM3LjQzMzU5NCA3NS4zNzg5MDYgIiBmaWxsLW9wYWNpdHk9IjEiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvZz48ZyBjbGlwLXBhdGg9InVybCgjaWQyKSI+PHBhdGggZmlsbD0iI2RkMDMzMCIgZD0iTSAxNjkuNjAxNTYyIDEwNCBMIDI2My4zMzIwMzEgMjY4LjAzMTI1IEwgNzUuODcxMDk0IDI2OC4wMzEyNSBMIDE2OS42MDE1NjIgMTA0ICIgZmlsbC1vcGFjaXR5PSIxIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L2c+PHBhdGggZmlsbD0iI2ZmZmZmZiIgZD0iTSAzMjguODk0NTMxIDIxOC45Njg3NSBMIDk1LjE1MjM0NCAyMTguOTY4NzUgTCA5NS4xNTIzNDQgMjE2LjQwMjM0NCBMIDMyOC44OTQ1MzEgMjE2LjQwMjM0NCBMIDMyOC44OTQ1MzEgMjE4Ljk2ODc1ICIgZmlsbC1vcGFjaXR5PSIxIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48ZyBjbGlwLXBhdGg9InVybCgjaWQzKSI+PHBhdGggZmlsbD0iI2ZmZmZmZiIgZD0iTSAyOTIuNzg1MTU2IDI1Ni41MTE3MTkgQyAyOTEuODcxMDk0IDI1Ni41MTE3MTkgMjkxLjAxMTcxOSAyNTYuMTMyODEyIDI5MC4yOTI5NjkgMjU1LjQxNDA2MiBDIDI4NiAyNTEuMTAxNTYyIDI4NS44MTI1IDIzMy41NjY0MDYgMjg2LjAxOTUzMSAyMDcuMzA0Njg4IEMgMjg2LjEzNjcxOSAxOTIuOTUzMTI1IDI4Ni4yOTI5NjkgMTczLjI5Njg3NSAyODQuMDAzOTA2IDE3MS43NDYwOTQgQyAyODEuNzY5NTMxIDE3Mi42NzE4NzUgMjgxLjU0Njg3NSAxODguOTEwMTU2IDI4MS40MDIzNDQgMTk5LjY2MDE1NiBDIDI4MS4yMzA0NjkgMjEyLjE2Nzk2OSAyODEuMDU0Njg4IDIyNS4xMDkzNzUgMjc5LjAyMzQzOCAyMzEuNjk5MjE5IEMgMjc4LjQxNzk2OSAyMzMuNjUyMzQ0IDI3Ny42MzY3MTkgMjM1LjQ0MTQwNiAyNzYuMDY2NDA2IDIzNS4yOTY4NzUgQyAyNzMuODUxNTYyIDIzNS4xMDE1NjIgMjczLjEzNjcxOSAyMzEuNjA1NDY5IDI3MS40ODQzNzUgMjE3LjgwODU5NCBDIDI3MC43OTY4NzUgMjEyLjA3ODEyNSAyNzAuMDg1OTM4IDIwNi4xNTYyNSAyNjkuMjUzOTA2IDIwMy44NjMyODEgQyAyNjkuMTQ0NTMxIDIwMy41NzQyMTkgMjY5LjA1MDc4MSAyMDMuMzQzNzUgMjY4Ljk2ODc1IDIwMy4xNjQwNjIgQyAyNjguMDgyMDMxIDIwNS4xNjc5NjkgMjY3LjA1ODU5NCAyMTAuNjc1NzgxIDI2Ni4zNDc2NTYgMjE0LjUgQyAyNjUuMzYzMjgxIDIxOS43ODEyNSAyNjQuNDMzNTk0IDIyNC43Njk1MzEgMjYzLjI2OTUzMSAyMjYuOTQ1MzEyIEMgMjYyLjM3MTA5NCAyMjguNjE3MTg4IDI2MC45NDUzMTIgMjMwLjc5Njg3NSAyNTguOTUzMTI1IDIzMC4zNzUgQyAyNTYuMjM4MjgxIDIyOS44MDQ2ODggMjU1LjQyNTc4MSAyMjQuMzMyMDMxIDI1NS4xODM1OTQgMjIxLjEyMTA5NCBDIDI1NS4xODM1OTQgMTk0LjEwNTQ2OSAyNTEuNjQ4NDM4IDE5MC45NjA5MzggMjUwLjk0MTQwNiAxOTAuNjA1NDY5IEwgMjUwLjgyODEyNSAxOTAuNjkxNDA2IEwgMjUwLjY1NjI1IDE5MC42NTIzNDQgQyAyNDguMTMyODEyIDE5MS43NTM5MDYgMjQ3Ljk5NjA5NCAyMDAuNTE1NjI1IDI0Ny44NjcxODggMjA4Ljk4ODI4MSBDIDI0Ny43NjU2MjUgMjE1LjIwMzEyNSAyNDcuNjU2MjUgMjIyLjI0NjA5NCAyNDYuNzUgMjI4LjgzNTkzOCBDIDI0NS41NzQyMTkgMjM3LjM3ODkwNiAyNDQuMTUyMzQ0IDIzOS4wMjczNDQgMjQyLjM4MjgxMiAyMzguOTI1NzgxIEMgMjM4LjMwODU5NCAyMzguNjQ4NDM4IDIzOC4xOTE0MDYgMjI0LjYxNzE4OCAyMzguMTkxNDA2IDIyMy4wMTk1MzEgQyAyMzguMTkxNDA2IDIyMi41MTk1MzEgMjM4LjIwMzEyNSAyMjEuOTI5Njg4IDIzOC4yMTg3NSAyMjEuMjc3MzQ0IEMgMjM4LjI5Njg3NSAyMTguMDExNzE5IDIzOC40Mzc1IDIxMS45Mzc1IDIzNi40Mjk2ODggMjEwLjAyMzQzOCBDIDIzNi4xNjQwNjIgMjA5Ljc2OTUzMSAyMzUuNzg5MDYyIDIwOS40NzY1NjIgMjM1LjQ5NjA5NCAyMDkuNTU4NTk0IEMgMjM0LjA2NjQwNiAyMDkuOTE3OTY5IDIzMi41ODIwMzEgMjE0LjU2MjUgMjMyLjA4OTg0NCAyMTYuMDg5ODQ0IEMgMjMxLjkzMzU5NCAyMTYuNTc0MjE5IDIzMS44MDg1OTQgMjE2Ljk3MjY1NiAyMzEuNzAzMTI1IDIxNy4yNDYwOTQgQyAyMzEuNjIxMDk0IDIxNy40NzI2NTYgMjMxLjUxNTYyNSAyMTcuNzkyOTY5IDIzMS4zOTA2MjUgMjE4LjE3OTY4OCBDIDIzMC4zMDg1OTQgMjIxLjQ2NDg0NCAyMjkuMDc4MTI1IDIyNC43NDIxODggMjI2Ljk3NjU2MiAyMjUuNTUwNzgxIEMgMjI2LjE5OTIxOSAyMjUuODUxNTYyIDIyNS4zODY3MTkgMjI1Ljc4NTE1NiAyMjQuNjI1IDIyNS4zNTU0NjkgQyAyMjMuNjEzMjgxIDIyNC43ODEyNSAyMjIuNzg5MDYyIDIyMy42MDkzNzUgMjIyLjAxOTUzMSAyMjEuNjYwMTU2IEMgMjIxLjU5NzY1NiAyMjAuNTgyMDMxIDIyMS4yMzgyODEgMjE5LjQ4ODI4MSAyMjAuODcxMDk0IDIxOC4zOTA2MjUgQyAyMjAuNDI1NzgxIDIxNy4wNTA3ODEgMjE5Ljk2ODc1IDIxNS42NjQwNjIgMjE5LjQwMjM0NCAyMTQuMzQ3NjU2IEMgMjE4Ljk1NzAzMSAyMTMuMzI0MjE5IDIxNy44NDc2NTYgMjEyLjg2MzI4MSAyMTYuNDMzNTk0IDIxMy4xMTMyODEgQyAyMTMuNDk2MDk0IDIxMy42MzY3MTkgMjEzLjAwMzkwNiAyMTYuNjA1NDY5IDIxMi41ODk4NDQgMjIxLjA3NDIxOSBDIDIxMi41MTU2MjUgMjIxLjg1MTU2MiAyMTIuNDQ1MzEyIDIyMi42MTMyODEgMjEyLjM0NzY1NiAyMjMuMzMyMDMxIEMgMjEyLjMzNTkzOCAyMjMuNTQyOTY5IDIxMS44MTY0MDYgMjMwLjEwMTU2MiAyMTEuNDg0Mzc1IDIzMi4xODc1IEMgMjEwLjU2NjQwNiAyMzcuOTA2MjUgMjA5LjM1OTM3NSAyNDAuMTYwMTU2IDIwNy4zNTU0NjkgMjM5Ljk5NjA5NCBDIDIwMi40MTAxNTYgMjM5LjU3NDIxOSAyMDAuMTQwNjI1IDIxNy44ODI4MTIgMjAwLjI2MTcxOSAyMDguNzE4NzUgQyAyMDAuMzU1NDY5IDIwMS43MjI2NTYgMTk5LjA4OTg0NCAxOTkuMTY3OTY5IDE5OC4zMzIwMzEgMTk4Ljc2MTcxOSBDIDE5OC4yNTM5MDYgMTk4LjcyNjU2MiAxOTguMTMyODEyIDE5OC42NjAxNTYgMTk3Ljg0Mzc1IDE5OC44NjMyODEgQyAxOTYuOTQ5MjE5IDE5OS40Njg3NSAxOTYuMTUyMzQ0IDIwMS4zNTU0NjkgMTk2LjM5ODQzOCAyMDMuMzM1OTM4IEMgMTk5LjEyMTA5NCAyMjQuOTAyMzQ0IDE5Ny4xMTMyODEgMjQ5LjYwMTU2MiAxOTIuMTk1MzEyIDI1NS4xNjQwNjIgQyAxOTAuNjQ0NTMxIDI1Ni45MTQwNjIgMTg4LjUzNTE1NiAyNTYuODkwNjI1IDE4Ny4wNjY0MDYgMjU1LjQxNDA2MiBDIDE4Mi43Njk1MzEgMjUxLjEwMTU2MiAxODIuNTg5ODQ0IDIzMy41NjY0MDYgMTgyLjc5Mjk2OSAyMDcuMzA0Njg4IEMgMTgyLjkxMDE1NiAxOTIuOTUzMTI1IDE4My4wNjI1IDE3My4yOTY4NzUgMTgwLjc3NzM0NCAxNzEuNzQ2MDk0IEMgMTc4LjU0Mjk2OSAxNzIuNjcxODc1IDE3OC4zMjQyMTkgMTg4LjkxMDE1NiAxNzguMTc1NzgxIDE5OS42NjAxNTYgQyAxNzguMDAzOTA2IDIxMi4xNjc5NjkgMTc3LjgyODEyNSAyMjUuMTA5Mzc1IDE3NS43OTI5NjkgMjMxLjY5OTIxOSBDIDE3NS4xODc1IDIzMy42NTIzNDQgMTc0LjQwNjI1IDIzNS40NDE0MDYgMTcyLjgzOTg0NCAyMzUuMjk2ODc1IEMgMTcwLjYyMTA5NCAyMzUuMTAxNTYyIDE2OS45MTAxNTYgMjMxLjYwNTQ2OSAxNjguMjUzOTA2IDIxNy44MDg1OTQgQyAxNjcuNTY2NDA2IDIxMi4wNzgxMjUgMTY2Ljg1NTQ2OSAyMDYuMTU2MjUgMTY2LjAyMzQzOCAyMDMuODYzMjgxIEMgMTY1LjkxNzk2OSAyMDMuNTc0MjE5IDE2NS44MjQyMTkgMjAzLjM0Mzc1IDE2NS43MzgyODEgMjAzLjE2NDA2MiBDIDE2NC44NTU0NjkgMjA1LjE2Nzk2OSAxNjMuODMyMDMxIDIxMC42NzU3ODEgMTYzLjEyMTA5NCAyMTQuNSBDIDE2Mi4xMzY3MTkgMjE5Ljc4MTI1IDE2MS4yMDcwMzEgMjI0Ljc2OTUzMSAxNjAuMDM5MDYyIDIyNi45NDUzMTIgQyAxNTkuMTQwNjI1IDIyOC42MTcxODggMTU3LjcxNDg0NCAyMzAuNzk2ODc1IDE1NS43MjY1NjIgMjMwLjM3NSBDIDE1My4wMTE3MTkgMjI5LjgwNDY4OCAxNTIuMTk5MjE5IDIyNC4zMzIwMzEgMTUxLjk1NzAzMSAyMjEuMTIxMDk0IEMgMTUxLjk1MzEyNSAxOTQuMTA1NDY5IDE0OC40MjE4NzUgMTkwLjk2MDkzOCAxNDcuNzE0ODQ0IDE5MC42MDU0NjkgTCAxNDcuNjAxNTYyIDE5MC42OTE0MDYgTCAxNDcuNDI1NzgxIDE5MC42NTIzNDQgQyAxNDQuOTA2MjUgMTkxLjc1MzkwNiAxNDQuNzY5NTMxIDIwMC41MTU2MjUgMTQ0LjYzNjcxOSAyMDguOTg4MjgxIEMgMTQ0LjUzOTA2MiAyMTUuMjAzMTI1IDE0NC40Mjk2ODggMjIyLjI0NjA5NCAxNDMuNTIzNDM4IDIyOC44MzU5MzggQyAxNDIuMzQ3NjU2IDIzNy4zNzg5MDYgMTQwLjkzNzUgMjM5LjA0Mjk2OSAxMzkuMTYwMTU2IDIzOC45MjU3ODEgQyAxMzUuMDc4MTI1IDIzOC42NDg0MzggMTM0Ljk2MDkzOCAyMjQuNjE3MTg4IDEzNC45NjA5MzggMjIzLjAxOTUzMSBDIDEzNC45NjA5MzggMjIyLjUxOTUzMSAxMzQuOTc2NTYyIDIyMS45Mjk2ODggMTM0Ljk5MjE4OCAyMjEuMjc3MzQ0IEMgMTM1LjA3MDMxMiAyMTguMDExNzE5IDEzNS4yMTA5MzggMjExLjkzNzUgMTMzLjIwMzEyNSAyMTAuMDIzNDM4IEMgMTMyLjkzNzUgMjA5Ljc2OTUzMSAxMzIuNTYyNSAyMDkuNDc2NTYyIDEzMi4yNjk1MzEgMjA5LjU1ODU5NCBDIDEzMC44Mzk4NDQgMjA5LjkxNzk2OSAxMjkuMzUxNTYyIDIxNC41NjI1IDEyOC44NjcxODggMjE2LjA4OTg0NCBDIDEyOC43MTA5MzggMjE2LjU3MDMxMiAxMjguNTc4MTI1IDIxNi45NzI2NTYgMTI4LjQ4MDQ2OSAyMTcuMjQ2MDk0IEMgMTI4LjM5NDUzMSAyMTcuNDY4NzUgMTI4LjI4OTA2MiAyMTcuNzg5MDYyIDEyOC4xNjQwNjIgMjE4LjE3NTc4MSBDIDEyNy4wODIwMzEgMjIxLjQ2MDkzOCAxMjUuODUxNTYyIDIyNC43NDIxODggMTIzLjc1MzkwNiAyMjUuNTUwNzgxIEMgMTIyLjk3MjY1NiAyMjUuODUxNTYyIDEyMi4xNTYyNSAyMjUuNzg1MTU2IDEyMS4zOTg0MzggMjI1LjM1NTQ2OSBDIDEyMC4zODY3MTkgMjI0Ljc4MTI1IDExOS41NTg1OTQgMjIzLjYwOTM3NSAxMTguNzkyOTY5IDIyMS42NjAxNTYgQyAxMTguMzcxMDk0IDIyMC41ODIwMzEgMTE4LjAwNzgxMiAyMTkuNDg4MjgxIDExNy42NDQ1MzEgMjE4LjM5MDYyNSBDIDExNy4xOTkyMTkgMjE3LjA1MDc4MSAxMTYuNzM4MjgxIDIxNS42NjQwNjIgMTE2LjE3MTg3NSAyMTQuMzQ3NjU2IEMgMTE1LjczMDQ2OSAyMTMuMzI0MjE5IDExNC42MTcxODggMjEyLjg2MzI4MSAxMTMuMjAzMTI1IDIxMy4xMTMyODEgQyAxMDkuODIwMzEyIDIxMy43MTQ4NDQgMTA5LjAxOTUzMSAyMTcuOTEwMTU2IDEwOC4zNzUgMjIyLjkxNzk2OSBMIDEwOC4yNjE3MTkgMjIzLjgwODU5NCBMIDEwNS43MDMxMjUgMjIzLjQ2ODc1IEwgMTA1LjgyNDIxOSAyMjIuNTkzNzUgQyAxMDYuMzgyODEyIDIxOC4yMDMxMjUgMTA3LjIzNDM3NSAyMTEuNTY2NDA2IDExMi43NTM5MDYgMjEwLjU4OTg0NCBDIDExNS4zNTE1NjIgMjEwLjEyODkwNiAxMTcuNjIxMDk0IDIxMS4yMDcwMzEgMTE4LjUzNTE1NiAyMTMuMzMyMDMxIEMgMTE5LjE0ODQzOCAyMTQuNzUzOTA2IDExOS42Mjg5MDYgMjE2LjE5MTQwNiAxMjAuMDg5ODQ0IDIxNy41ODU5MzggQyAxMjAuNDMzNTk0IDIxOC42MzY3MTkgMTIwLjc4NTE1NiAyMTkuNjg3NSAxMjEuMTkxNDA2IDIyMC43MjY1NjIgQyAxMjEuOTA2MjUgMjIyLjUzOTA2MiAxMjIuNDYwOTM4IDIyMy4wMDc4MTIgMTIyLjY2Nzk2OSAyMjMuMTIxMDk0IEMgMTIzLjk2MDkzOCAyMjIuNzE4NzUgMTI1LjI4MTI1IDIxOC42OTkyMTkgMTI1LjcxODc1IDIxNy4zNzUgQyAxMjUuODU1NDY5IDIxNi45NDkyMTkgMTI1Ljk3MjY1NiAyMTYuNTk3NjU2IDEyNi4wNjY0MDYgMjE2LjM0NzY1NiBDIDEyNi4xNTYyNSAyMTYuMTAxNTYyIDEyNi4yNzM0MzggMjE1Ljc0MjE4OCAxMjYuNDE0MDYyIDIxNS4zMDg1OTQgQyAxMjcuNTc4MTI1IDIxMS42Njc5NjkgMTI5LjAzOTA2MiAyMDcuNzI2NTYyIDEzMS42MzI4MTIgMjA3LjA3MDMxMiBDIDEzMi40MjU3ODEgMjA2Ljg2NzE4OCAxMzMuNjUyMzQ0IDIwNi44OTQ1MzEgMTM0Ljk4NDM3NSAyMDguMTY3OTY5IEMgMTM3LjgxMjUgMjEwLjg2NzE4OCAxMzcuNjY0MDYyIDIxNy4xNjc5NjkgMTM3LjU2NjQwNiAyMjEuMzM5ODQ0IEMgMTM3LjU1MDc4MSAyMjEuOTY0ODQ0IDEzNy41MzUxNTYgMjIyLjUzNTE1NiAxMzcuNTM1MTU2IDIyMy4wMTk1MzEgQyAxMzcuNTM1MTU2IDIyOS42NzU3ODEgMTM4LjUyMzQzOCAyMzQuMzI4MTI1IDEzOS4yNzczNDQgMjM1LjkyNTc4MSBDIDEzOS42Njc5NjkgMjM1LjEwOTM3NSAxNDAuMzM1OTM4IDIzMy4xMzI4MTIgMTQwLjk3MjY1NiAyMjguNDg4MjgxIEMgMTQxLjg1NTQ2OSAyMjIuMDUwNzgxIDE0MS45Njg3NSAyMTUuMDg5ODQ0IDE0Mi4wNjI1IDIwOC45NDkyMTkgQyAxNDIuMjM0Mzc1IDE5OC4wODIwMzEgMTQyLjM1NTQ2OSAxOTAuMjAzMTI1IDE0Ni4yODkwNjIgMTg4LjM1MTU2MiBDIDE0Ni44NzUgMTg3Ljk5MjE4OCAxNDcuODQ3NjU2IDE4Ny43OTY4NzUgMTQ4Ljg3NSAxODguMzE2NDA2IEMgMTUyLjY3OTY4OCAxOTAuMjMwNDY5IDE1NC41MjczNDQgMjAwLjkyOTY4OCAxNTQuNTI3MzQ0IDIyMS4wMjM0MzggQyAxNTQuNzY1NjI1IDIyNC4xMjg5MDYgMTU1LjYwMTU2MiAyMjcuMzk4NDM4IDE1Ni4yODkwNjIgMjI3Ljg2NzE4OCBDIDE1Ni4yOTI5NjkgMjI3Ljc5Njg3NSAxNTYuODUxNTYyIDIyNy40NTMxMjUgMTU3Ljc2OTUzMSAyMjUuNzM0Mzc1IEMgMTU4Ljc1IDIyMy45MTAxNTYgMTU5LjcyNjU2MiAyMTguNjYwMTU2IDE2MC41ODU5MzggMjE0LjAzMTI1IEMgMTYyLjQ4ODI4MSAyMDMuODI4MTI1IDE2My4zNTE1NjIgMjAwLjI0NjA5NCAxNjUuNjAxNTYyIDIwMC4wNTg1OTQgQyAxNjcuMzE2NDA2IDE5OS44OTA2MjUgMTY4LjEwOTM3NSAyMDIuMDcwMzEyIDE2OC40NDE0MDYgMjAyLjk4ODI4MSBDIDE2OS4zNzg5MDYgMjA1LjU1ODU5NCAxNzAuMDc0MjE5IDIxMS4zNTkzNzUgMTcwLjgwODU5NCAyMTcuNTAzOTA2IEMgMTcxLjM4MjgxMiAyMjIuMjY5NTMxIDE3Mi4xOTkyMTkgMjI5LjA3NDIxOSAxNzMuMDMxMjUgMjMxLjgyODEyNSBDIDE3My4xMjEwOTQgMjMxLjU4NTkzOCAxNzMuMjIyNjU2IDIzMS4yOTY4NzUgMTczLjMzMjAzMSAyMzAuOTQxNDA2IEMgMTc1LjI1NzgxMiAyMjQuNzAzMTI1IDE3NS40MzM1OTQgMjExLjk1NzAzMSAxNzUuNjAxNTYyIDE5OS42MjUgQyAxNzUuODM1OTM4IDE4Mi40OTYwOTQgMTc2LjEzNjcxOSAxNzEuODgyODEyIDE3OS4yNjE3MTkgMTY5LjY2Nzk2OSBDIDE3OS45NTcwMzEgMTY5LjE3NTc4MSAxODAuODA0Njg4IDE2OS4wNTQ2ODggMTgxLjYzMjgxMiAxNjkuMzMyMDMxIEMgMTg1LjI5Mjk2OSAxNzAuNTQ2ODc1IDE4NS41NzQyMTkgMTgxLjI3NzM0NCAxODUuMzY3MTg4IDIwNy4zMjgxMjUgQyAxODUuMjE4NzUgMjI2LjIxODc1IDE4NS4wMzUxNTYgMjQ5LjczMDQ2OSAxODguODk0NTMxIDI1My42MDU0NjkgQyAxODkuMjMwNDY5IDI1My45NDUzMTIgMTg5LjQ2ODc1IDI1My45NDUzMTIgMTg5LjU1NDY4OCAyNTMuOTQ1MzEyIEMgMTg5LjczNDM3NSAyNTMuOTQ1MzEyIDE4OS45OTIxODggMjUzLjc3MzQzOCAxOTAuMjY1NjI1IDI1My40NjQ4NDQgQyAxOTQuMTcxODc1IDI0OS4wNDY4NzUgMTk2LjY0NDUzMSAyMjUuODQ3NjU2IDE5My44NDM3NSAyMDMuNjYwMTU2IEMgMTkzLjQ5NjA5NCAyMDAuODk4NDM4IDE5NC41NjI1IDE5Ny45OTYwOTQgMTk2LjM4MjgxMiAxOTYuNzQ2MDk0IEMgMTk3LjM4NjcxOSAxOTYuMDU0Njg4IDE5OC41NDI5NjkgMTk1Ljk2NDg0NCAxOTkuNTQyOTY5IDE5Ni41IEMgMjAxLjgyMDMxMiAxOTcuNzEwOTM4IDIwMi45MjU3ODEgMjAxLjgzMjAzMSAyMDIuODM1OTM4IDIwOC43NTM5MDYgQyAyMDIuNjc1NzgxIDIyMC44Mzk4NDQgMjA1LjU3ODEyNSAyMzQuOTg0Mzc1IDIwNy40NzI2NTYgMjM3LjI0MjE4OCBDIDIwNy43NzM0MzggMjM2Ljc0MjE4OCAyMDguMzY3MTg4IDIzNS4zNzEwOTQgMjA4LjkzNzUgMjMxLjc4MTI1IEMgMjA5LjI1NzgxMiAyMjkuNzk2ODc1IDIwOS43ODUxNTYgMjIzLjEyODkwNiAyMDkuNzkyOTY5IDIyMy4wNjI1IEMgMjA5Ljg4NjcxOSAyMjIuMzA4NTk0IDIwOS45NTcwMzEgMjIxLjU3ODEyNSAyMTAuMDIzNDM4IDIyMC44MzU5MzggQyAyMTAuNDE0MDYyIDIxNi42NzE4NzUgMjEwLjg5NDUzMSAyMTEuNDkyMTg4IDIxNS45ODA0NjkgMjEwLjU4OTg0NCBDIDIxOC41NzQyMTkgMjEwLjEyODkwNiAyMjAuODQzNzUgMjExLjIwMzEyNSAyMjEuNzYxNzE5IDIxMy4zMzIwMzEgQyAyMjIuMzc1IDIxNC43NTM5MDYgMjIyLjg1MTU2MiAyMTYuMTkxNDA2IDIyMy4zMTI1IDIxNy41ODU5MzggQyAyMjMuNjY0MDYyIDIxOC42MzY3MTkgMjI0LjAxNTYyNSAyMTkuNjg3NSAyMjQuNDIxODc1IDIyMC43MjY1NjIgQyAyMjUuMTMyODEyIDIyMi41MzkwNjIgMjI1LjY5MTQwNiAyMjMuMDA3ODEyIDIyNS44OTQ1MzEgMjIzLjEyMTA5NCBDIDIyNy4xODc1IDIyMi43MTg3NSAyMjguNTExNzE5IDIxOC42OTkyMTkgMjI4Ljk0NTMxMiAyMTcuMzc4OTA2IEMgMjI5LjA4NTkzOCAyMTYuOTUzMTI1IDIyOS4yMDMxMjUgMjE2LjU5NzY1NiAyMjkuMjkyOTY5IDIxNi4zNDc2NTYgQyAyMjkuMzg2NzE5IDIxNi4xMDU0NjkgMjI5LjUgMjE1Ljc0MjE4OCAyMjkuNjM2NzE5IDIxNS4zMDg1OTQgQyAyMzAuODA0Njg4IDIxMS42Njc5NjkgMjMyLjI2NTYyNSAyMDcuNzI2NTYyIDIzNC44NjMyODEgMjA3LjA3MDMxMiBDIDIzNS42NDg0MzggMjA2Ljg2NzE4OCAyMzYuODc4OTA2IDIwNi44OTQ1MzEgMjM4LjIxMDkzOCAyMDguMTY3OTY5IEMgMjQxLjAzOTA2MiAyMTAuODY3MTg4IDI0MC44OTA2MjUgMjE3LjE2Nzk2OSAyNDAuNzk2ODc1IDIyMS4zMzk4NDQgQyAyNDAuNzc3MzQ0IDIyMS45NjQ4NDQgMjQwLjc2MTcxOSAyMjIuNTM1MTU2IDI0MC43NjE3MTkgMjIzLjAxOTUzMSBDIDI0MC43NjE3MTkgMjI5LjY3NTc4MSAyNDEuNzUgMjM0LjMyODEyNSAyNDIuNTAzOTA2IDIzNS45MjU3ODEgQyAyNDIuODkwNjI1IDIzNS4xMDkzNzUgMjQzLjU1ODU5NCAyMzMuMTMyODEyIDI0NC4yMDMxMjUgMjI4LjQ4ODI4MSBDIDI0NS4wODU5MzggMjIyLjA1MDc4MSAyNDUuMTkxNDA2IDIxNS4wODk4NDQgMjQ1LjI5Mjk2OSAyMDguOTQ5MjE5IEMgMjQ1LjQ2MDkzOCAxOTguMDgyMDMxIDI0NS41ODIwMzEgMTkwLjIwMzEyNSAyNDkuNTE1NjI1IDE4OC4zNTE1NjIgQyAyNTAuMTAxNTYyIDE4Ny45OTIxODggMjUxLjA3NDIxOSAxODcuNzk2ODc1IDI1Mi4xMDU0NjkgMTg4LjMxNjQwNiBDIDI1NS45MDYyNSAxOTAuMjMwNDY5IDI1Ny43NTc4MTIgMjAwLjkyOTY4OCAyNTcuNzU3ODEyIDIyMS4wMjM0MzggQyAyNTcuOTk2MDk0IDIyNC4xMjg5MDYgMjU4LjgzMjAzMSAyMjcuMzk4NDM4IDI1OS41MTU2MjUgMjI3Ljg2NzE4OCBDIDI1OS41MjM0MzggMjI3Ljc5Njg3NSAyNjAuMDc0MjE5IDIyNy40NTMxMjUgMjYxIDIyNS43MzQzNzUgQyAyNjEuOTgwNDY5IDIyMy45MTAxNTYgMjYyLjk1MzEyNSAyMTguNjYwMTU2IDI2My44MTY0MDYgMjE0LjAzMTI1IEMgMjY1LjcxMDkzOCAyMDMuODI4MTI1IDI2Ni41NzgxMjUgMjAwLjI0NjA5NCAyNjguODI4MTI1IDIwMC4wNTg1OTQgQyAyNzAuNTQ2ODc1IDE5OS44OTA2MjUgMjcxLjMzOTg0NCAyMDIuMDcwMzEyIDI3MS42NzE4NzUgMjAyLjk4ODI4MSBDIDI3Mi42MDU0NjkgMjA1LjU1ODU5NCAyNzMuMzAwNzgxIDIxMS4zNTkzNzUgMjc0LjA0Mjk2OSAyMTcuNTAzOTA2IEMgMjc0LjYwOTM3NSAyMjIuMjY5NTMxIDI3NS40MjU3ODEgMjI5LjA3NDIxOSAyNzYuMjYxNzE5IDIzMS44MjgxMjUgQyAyNzYuMzQ3NjU2IDIzMS41ODU5MzggMjc2LjQ0OTIxOSAyMzEuMjk2ODc1IDI3Ni41NTg1OTQgMjMwLjk0MTQwNiBDIDI3OC40ODQzNzUgMjI0LjcwMzEyNSAyNzguNjU2MjUgMjExLjk1NzAzMSAyNzguODI4MTI1IDE5OS42MjUgQyAyNzkuMDU4NTk0IDE4Mi40OTYwOTQgMjc5LjM2MzI4MSAxNzEuODgyODEyIDI4Mi40ODgyODEgMTY5LjY2Nzk2OSBDIDI4My4xODc1IDE2OS4xNzU3ODEgMjg0LjAzMTI1IDE2OS4wNTQ2ODggMjg0Ljg1OTM3NSAxNjkuMzMyMDMxIEMgMjg4LjUyMzQzOCAxNzAuNTQ2ODc1IDI4OC44MDQ2ODggMTgxLjI3NzM0NCAyODguNTkzNzUgMjA3LjMyODEyNSBDIDI4OC40NDUzMTIgMjI2LjIxODc1IDI4OC4yNjE3MTkgMjQ5LjczMDQ2OSAyOTIuMTE3MTg4IDI1My42MDU0NjkgQyAyOTIuNDYwOTM4IDI1My45NDUzMTIgMjkyLjY5NTMxMiAyNTMuOTQ1MzEyIDI5Mi43ODUxNTYgMjUzLjk0NTMxMiBDIDI5Mi45NjA5MzggMjUzLjk0NTMxMiAyOTMuMjE4NzUgMjUzLjc3MzQzOCAyOTMuNDg4MjgxIDI1My40NjQ4NDQgQyAyOTcuNDAyMzQ0IDI0OS4wNDY4NzUgMjk5Ljg3MTA5NCAyMjUuODQ3NjU2IDI5Ny4wNzAzMTIgMjAzLjY2MDE1NiBDIDI5Ni43MDcwMzEgMjAwLjc2OTUzMSAyOTcuNTI3MzQ0IDE5Ny44NTU0NjkgMjk5LjAyMzQzOCAxOTYuNzM0Mzc1IEMgMjk5Ljc3NzM0NCAxOTYuMTY0MDYyIDMwMC42OTUzMTIgMTk2LjA0Njg3NSAzMDEuNTM5MDYyIDE5Ni40MDIzNDQgQyAzMDMuNzE4NzUgMTk3LjMzMjAzMSAzMDUuMTk1MzEyIDIwMS4zMTY0MDYgMzA2LjA1NDY4OCAyMDguNTg5ODQ0IEMgMzA2LjQxNDA2MiAyMTEuNjM2NzE5IDMwNi43MzQzNzUgMjE0LjkyOTY4OCAzMDcuMDQyOTY5IDIxOC4xNzk2ODggQyAzMDcuNzIyNjU2IDIyNS4yNzM0MzggMzA4LjY0NDUzMSAyMzQuODMyMDMxIDMwOS44OTA2MjUgMjM2LjkzMzU5NCBDIDMxMC4yNzM0MzggMjM2LjQ0NTMxMiAzMTEuMDU0Njg4IDIzNS4xMjUgMzEyLjIxNDg0NCAyMzEuNTg1OTM4IEwgMzE0LjY2NDA2MiAyMzIuMzg2NzE5IEMgMzEyLjg2MzI4MSAyMzcuODU5Mzc1IDMxMS40NTMxMjUgMjM5LjkyMTg3NSAzMDkuNjE3MTg4IDIzOS43MTA5MzggQyAzMDYuNzYxNzE5IDIzOS4zOTQ1MzEgMzA1LjkzNzUgMjMzLjYyNSAzMDQuNDgwNDY5IDIxOC40MjU3ODEgQyAzMDQuMTcxODc1IDIxNS4xOTE0MDYgMzAzLjg1NTQ2OSAyMTEuOTE3OTY5IDMwMy40OTYwOTQgMjA4Ljg4NjcxOSBDIDMwMi40MDIzNDQgMTk5LjYwOTM3NSAzMDAuNTQyOTY5IDE5OC43Njk1MzEgMzAwLjUyMzQzOCAxOTguNzYxNzE5IEMgMzAwLjE2MDE1NiAxOTguOTQ1MzEyIDI5OS4zMTY0MDYgMjAwLjg3NSAyOTkuNjI4OTA2IDIwMy4zMzU5MzggQyAzMDIuMzQzNzUgMjI0LjkwMjM0NCAzMDAuMzQzNzUgMjQ5LjYwNTQ2OSAyOTUuNDIxODc1IDI1NS4xNjQwNjIgQyAyOTQuNjI4OTA2IDI1Ni4wNTg1OTQgMjkzLjczODI4MSAyNTYuNTExNzE5IDI5Mi43ODUxNTYgMjU2LjUxMTcxOSAiIGZpbGwtb3BhY2l0eT0iMSIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9nPjwvc3ZnPg=="),ft=Object.freeze(Object.defineProperty({__proto__:null,default:It},Symbol.toStringTag,{value:"Module"})),St='<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <title>MyApp</title>\n    <base href="/" />\n    <meta name="viewport" content="width=device-width, initial-scale=1" />\n    <link rel="icon" type="image/x-icon" href="/assets/favicon-BYy3mmNz.ico" />\n    <script type="module" crossorigin src="/assets/index-zB45RZ9U.js"><\/script>\n    <link rel="stylesheet" crossorigin href="/assets/index-z7pQ7NGC.css">\n  </head>\n  <body>\n    <app-root></app-root>\n  </body>\n</html>\n',Lt=Object.freeze(Object.defineProperty({__proto__:null,default:St},Symbol.toStringTag,{value:"Module"})),Yt=base64ToUint8Array("PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIiBjbGFzcz0iaWNvbmlmeSBpY29uaWZ5LS1sb2dvcyIgd2lkdGg9IjMxLjg4IiBoZWlnaHQ9IjMyIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2aWV3Qm94PSIwIDAgMjU2IDI1NyI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJJY29uaWZ5SWQxODEzMDg4ZmUxZmJjMDFmYjQ2NiIgeDE9Ii0uODI4JSIgeDI9IjU3LjYzNiUiIHkxPSI3LjY1MiUiIHkyPSI3OC40MTElIj48c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjNDFEMUZGIj48L3N0b3A+PHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjQkQzNEZFIj48L3N0b3A+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9Ikljb25pZnlJZDE4MTMwODhmZTFmYmMwMWZiNDY3IiB4MT0iNDMuMzc2JSIgeDI9IjUwLjMxNiUiIHkxPSIyLjI0MiUiIHkyPSI4OS4wMyUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNGRkVBODMiPjwvc3RvcD48c3RvcCBvZmZzZXQ9IjguMzMzJSIgc3RvcC1jb2xvcj0iI0ZGREQzNSI+PC9zdG9wPjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI0ZGQTgwMCI+PC9zdG9wPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxwYXRoIGZpbGw9InVybCgjSWNvbmlmeUlkMTgxMzA4OGZlMWZiYzAxZmI0NjYpIiBkPSJNMjU1LjE1MyAzNy45MzhMMTM0Ljg5NyAyNTIuOTc2Yy0yLjQ4MyA0LjQ0LTguODYyIDQuNDY2LTExLjM4Mi4wNDhMLjg3NSAzNy45NThjLTIuNzQ2LTQuODE0IDEuMzcxLTEwLjY0NiA2LjgyNy05LjY3bDEyMC4zODUgMjEuNTE3YTYuNTM3IDYuNTM3IDAgMCAwIDIuMzIyLS4wMDRsMTE3Ljg2Ny0yMS40ODNjNS40MzgtLjk5MSA5LjU3NCA0Ljc5NiA2Ljg3NyA5LjYyWiI+PC9wYXRoPjxwYXRoIGZpbGw9InVybCgjSWNvbmlmeUlkMTgxMzA4OGZlMWZiYzAxZmI0NjcpIiBkPSJNMTg1LjQzMi4wNjNMOTYuNDQgMTcuNTAxYTMuMjY4IDMuMjY4IDAgMCAwLTIuNjM0IDMuMDE0bC01LjQ3NCA5Mi40NTZhMy4yNjggMy4yNjggMCAwIDAgMy45OTcgMy4zNzhsMjQuNzc3LTUuNzE4YzIuMzE4LS41MzUgNC40MTMgMS41MDcgMy45MzYgMy44MzhsLTcuMzYxIDM2LjA0N2MtLjQ5NSAyLjQyNiAxLjc4MiA0LjUgNC4xNTEgMy43OGwxNS4zMDQtNC42NDljMi4zNzItLjcyIDQuNjUyIDEuMzYgNC4xNSAzLjc4OGwtMTEuNjk4IDU2LjYyMWMtLjczMiAzLjU0MiAzLjk3OSA1LjQ3MyA1Ljk0MyAyLjQzN2wxLjMxMy0yLjAyOGw3Mi41MTYtMTQ0LjcyYzEuMjE1LTIuNDIzLS44OC01LjE4Ni0zLjU0LTQuNjcybC0yNS41MDUgNC45MjJjLTIuMzk2LjQ2Mi00LjQzNS0xLjc3LTMuNzU5LTQuMTE0bDE2LjY0Ni01Ny43MDVjLjY3Ny0yLjM1LTEuMzctNC41ODMtMy43NjktNC4xMTNaIj48L3BhdGg+PC9zdmc+"),Kt=Object.freeze(Object.defineProperty({__proto__:null,default:Yt},Symbol.toStringTag,{value:"Module"})),xt=base64ToUint8Array("dmFyIENlPShlLG4sdCk9Pm5ldyBQcm9taXNlKChyLGkpPT57dmFyIHU9bz0+e3RyeXtzKHQubmV4dChvKSl9Y2F0Y2gobCl7aShsKX19LGE9bz0+e3RyeXtzKHQudGhyb3cobykpfWNhdGNoKGwpe2kobCl9fSxzPW89Pm8uZG9uZT9yKG8udmFsdWUpOlByb21pc2UucmVzb2x2ZShvLnZhbHVlKS50aGVuKHUsYSk7cygodD10LmFwcGx5KGUsbikpLm5leHQoKSl9KTtpbXBvcnR7XyBhcyB6LGEgYXMgdXIsaSBhcyBSLEQgYXMgYXIsdCBhcyBzcixPIGFzIFFuLMm1IGFzIG9yLEkgYXMgSmUsQSBhcyBlbixtIGFzIEJlLHMgYXMgbHIsYiBhcyBubixjIGFzIFZuLGQgYXMgSm4sZSBhcyBldCxmIGFzIG50LGcgYXMgdHQsaCBhcyBydCxqIGFzIGNyLGsgYXMgcHIsbCBhcyBmcixuIGFzIGhyLG8gYXMgZHIsTCBhcyBncixSIGFzIG1yLHAgYXMgRnIscSBhcyAkZSxQIGFzIGl0LHIgYXMgdXQsTiBhcyBEcix1IGFzIEFyLHYgYXMgeHIsdyBhcyBicix4IGFzIEVyLHkgYXMgYXR9ZnJvbSIuL2luZGV4LXpCNDVSWjlVLmpzIjtmdW5jdGlvbiBzdChlLG4pe2lmKG4uaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBpbml0aWFsaXplIHRoZSBzYW1lIHByaXZhdGUgZWxlbWVudHMgdHdpY2Ugb24gYW4gb2JqZWN0Iil9ZnVuY3Rpb24ga3IoZSxuLHQpe3N0KGUsbiksbi5zZXQoZSx0KX12YXIgeG49dHlwZW9mIGdsb2JhbFRoaXM8InUiP2dsb2JhbFRoaXM6dHlwZW9mIHdpbmRvdzwidSI/d2luZG93OnR5cGVvZiBnbG9iYWw8InUiP2dsb2JhbDp0eXBlb2Ygc2VsZjwidSI/c2VsZjp7fTtmdW5jdGlvbiB5cihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSwiZGVmYXVsdCIpP2UuZGVmYXVsdDplfXZhciB0bj17ZXhwb3J0czp7fX0sJD17fSxtZT17fSxIPXt9O2Z1bmN0aW9uIG90KGUpe3JldHVybiB0eXBlb2YgZT4idSJ8fGU9PT1udWxsfWZ1bmN0aW9uIENyKGUpe3JldHVybiB0eXBlb2YgZT09Im9iamVjdCImJmUhPT1udWxsfWZ1bmN0aW9uIHdyKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP2U6b3QoZSk/W106W2VdfWZ1bmN0aW9uIHZyKGUsbil7dmFyIHQscixpLHU7aWYobilmb3IodT1PYmplY3Qua2V5cyhuKSx0PTAscj11Lmxlbmd0aDt0PHI7dCs9MSlpPXVbdF0sZVtpXT1uW2ldO3JldHVybiBlfWZ1bmN0aW9uIF9yKGUsbil7dmFyIHQ9IiIscjtmb3Iocj0wO3I8bjtyKz0xKXQrPWU7cmV0dXJuIHR9ZnVuY3Rpb24gU3IoZSl7cmV0dXJuIGU9PT0wJiZOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk9PT0xL2V9SC5pc05vdGhpbmc9b3Q7SC5pc09iamVjdD1DcjtILnRvQXJyYXk9d3I7SC5yZXBlYXQ9X3I7SC5pc05lZ2F0aXZlWmVybz1TcjtILmV4dGVuZD12cjtmdW5jdGlvbiBkZShlLG4pe0Vycm9yLmNhbGwodGhpcyksdGhpcy5uYW1lPSJZQU1MRXhjZXB0aW9uIix0aGlzLnJlYXNvbj1lLHRoaXMubWFyaz1uLHRoaXMubWVzc2FnZT0odGhpcy5yZWFzb258fCIodW5rbm93biByZWFzb24pIikrKHRoaXMubWFyaz8iICIrdGhpcy5tYXJrLnRvU3RyaW5nKCk6IiIpLEVycm9yLmNhcHR1cmVTdGFja1RyYWNlP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsdGhpcy5jb25zdHJ1Y3Rvcik6dGhpcy5zdGFjaz1uZXcgRXJyb3IoKS5zdGFja3x8IiJ9ZGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtkZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZGU7ZGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMubmFtZSsiOiAiO3JldHVybiB0Kz10aGlzLnJlYXNvbnx8Iih1bmtub3duIHJlYXNvbikiLCFuJiZ0aGlzLm1hcmsmJih0Kz0iICIrdGhpcy5tYXJrLnRvU3RyaW5nKCkpLHR9O3ZhciBGZT1kZSxibj1IO2Z1bmN0aW9uIHJuKGUsbix0LHIsaSl7dGhpcy5uYW1lPWUsdGhpcy5idWZmZXI9bix0aGlzLnBvc2l0aW9uPXQsdGhpcy5saW5lPXIsdGhpcy5jb2x1bW49aX1ybi5wcm90b3R5cGUuZ2V0U25pcHBldD1mdW5jdGlvbihuLHQpe3ZhciByLGksdSxhLHM7aWYoIXRoaXMuYnVmZmVyKXJldHVybiBudWxsO2ZvcihuPW58fDQsdD10fHw3NSxyPSIiLGk9dGhpcy5wb3NpdGlvbjtpPjAmJmBcMFxyCsKFXHUyMDI4XHUyMDI5YC5pbmRleE9mKHRoaXMuYnVmZmVyLmNoYXJBdChpLTEpKT09PS0xOylpZihpLT0xLHRoaXMucG9zaXRpb24taT50LzItMSl7cj0iIC4uLiAiLGkrPTU7YnJlYWt9Zm9yKHU9IiIsYT10aGlzLnBvc2l0aW9uO2E8dGhpcy5idWZmZXIubGVuZ3RoJiZgXDBccgrChVx1MjAyOFx1MjAyOWAuaW5kZXhPZih0aGlzLmJ1ZmZlci5jaGFyQXQoYSkpPT09LTE7KWlmKGErPTEsYS10aGlzLnBvc2l0aW9uPnQvMi0xKXt1PSIgLi4uICIsYS09NTticmVha31yZXR1cm4gcz10aGlzLmJ1ZmZlci5zbGljZShpLGEpLGJuLnJlcGVhdCgiICIsbikrcitzK3UrYApgK2JuLnJlcGVhdCgiICIsbit0aGlzLnBvc2l0aW9uLWkrci5sZW5ndGgpKyJeIn07cm4ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKG4pe3ZhciB0LHI9IiI7cmV0dXJuIHRoaXMubmFtZSYmKHIrPSdpbiAiJyt0aGlzLm5hbWUrJyIgJykscis9ImF0IGxpbmUgIisodGhpcy5saW5lKzEpKyIsIGNvbHVtbiAiKyh0aGlzLmNvbHVtbisxKSxufHwodD10aGlzLmdldFNuaXBwZXQoKSx0JiYocis9YDoKYCt0KSkscn07dmFyIFRyPXJuLEVuPUZlLEJyPVsia2luZCIsInJlc29sdmUiLCJjb25zdHJ1Y3QiLCJpbnN0YW5jZU9mIiwicHJlZGljYXRlIiwicmVwcmVzZW50IiwiZGVmYXVsdFN0eWxlIiwic3R5bGVBbGlhc2VzIl0sJHI9WyJzY2FsYXIiLCJzZXF1ZW5jZSIsIm1hcHBpbmciXTtmdW5jdGlvbiBJcihlKXt2YXIgbj17fTtyZXR1cm4gZSE9PW51bGwmJk9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7ZVt0XS5mb3JFYWNoKGZ1bmN0aW9uKHIpe25bU3RyaW5nKHIpXT10fSl9KSxufWZ1bmN0aW9uIFJyKGUsbil7aWYobj1ufHx7fSxPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKEJyLmluZGV4T2YodCk9PT0tMSl0aHJvdyBuZXcgRW4oJ1Vua25vd24gb3B0aW9uICInK3QrJyIgaXMgbWV0IGluIGRlZmluaXRpb24gb2YgIicrZSsnIiBZQU1MIHR5cGUuJyl9KSx0aGlzLnRhZz1lLHRoaXMua2luZD1uLmtpbmR8fG51bGwsdGhpcy5yZXNvbHZlPW4ucmVzb2x2ZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdGhpcy5jb25zdHJ1Y3Q9bi5jb25zdHJ1Y3R8fGZ1bmN0aW9uKHQpe3JldHVybiB0fSx0aGlzLmluc3RhbmNlT2Y9bi5pbnN0YW5jZU9mfHxudWxsLHRoaXMucHJlZGljYXRlPW4ucHJlZGljYXRlfHxudWxsLHRoaXMucmVwcmVzZW50PW4ucmVwcmVzZW50fHxudWxsLHRoaXMuZGVmYXVsdFN0eWxlPW4uZGVmYXVsdFN0eWxlfHxudWxsLHRoaXMuc3R5bGVBbGlhc2VzPUlyKG4uc3R5bGVBbGlhc2VzfHxudWxsKSwkci5pbmRleE9mKHRoaXMua2luZCk9PT0tMSl0aHJvdyBuZXcgRW4oJ1Vua25vd24ga2luZCAiJyt0aGlzLmtpbmQrJyIgaXMgc3BlY2lmaWVkIGZvciAiJytlKyciIFlBTUwgdHlwZS4nKX12YXIgTz1Scixrbj1ILHZlPUZlLE9yPU87ZnVuY3Rpb24gS2UoZSxuLHQpe3ZhciByPVtdO3JldHVybiBlLmluY2x1ZGUuZm9yRWFjaChmdW5jdGlvbihpKXt0PUtlKGksbix0KX0pLGVbbl0uZm9yRWFjaChmdW5jdGlvbihpKXt0LmZvckVhY2goZnVuY3Rpb24odSxhKXt1LnRhZz09PWkudGFnJiZ1LmtpbmQ9PT1pLmtpbmQmJnIucHVzaChhKX0pLHQucHVzaChpKX0pLHQuZmlsdGVyKGZ1bmN0aW9uKGksdSl7cmV0dXJuIHIuaW5kZXhPZih1KT09PS0xfSl9ZnVuY3Rpb24gTHIoKXt2YXIgZT17c2NhbGFyOnt9LHNlcXVlbmNlOnt9LG1hcHBpbmc6e30sZmFsbGJhY2s6e319LG4sdDtmdW5jdGlvbiByKGkpe2VbaS5raW5kXVtpLnRhZ109ZS5mYWxsYmFja1tpLnRhZ109aX1mb3Iobj0wLHQ9YXJndW1lbnRzLmxlbmd0aDtuPHQ7bis9MSlhcmd1bWVudHNbbl0uZm9yRWFjaChyKTtyZXR1cm4gZX1mdW5jdGlvbiBhZShlKXt0aGlzLmluY2x1ZGU9ZS5pbmNsdWRlfHxbXSx0aGlzLmltcGxpY2l0PWUuaW1wbGljaXR8fFtdLHRoaXMuZXhwbGljaXQ9ZS5leHBsaWNpdHx8W10sdGhpcy5pbXBsaWNpdC5mb3JFYWNoKGZ1bmN0aW9uKG4pe2lmKG4ubG9hZEtpbmQmJm4ubG9hZEtpbmQhPT0ic2NhbGFyIil0aHJvdyBuZXcgdmUoIlRoZXJlIGlzIGEgbm9uLXNjYWxhciB0eXBlIGluIHRoZSBpbXBsaWNpdCBsaXN0IG9mIGEgc2NoZW1hLiBJbXBsaWNpdCByZXNvbHZpbmcgb2Ygc3VjaCB0eXBlcyBpcyBub3Qgc3VwcG9ydGVkLiIpfSksdGhpcy5jb21waWxlZEltcGxpY2l0PUtlKHRoaXMsImltcGxpY2l0IixbXSksdGhpcy5jb21waWxlZEV4cGxpY2l0PUtlKHRoaXMsImV4cGxpY2l0IixbXSksdGhpcy5jb21waWxlZFR5cGVNYXA9THIodGhpcy5jb21waWxlZEltcGxpY2l0LHRoaXMuY29tcGlsZWRFeHBsaWNpdCl9YWUuREVGQVVMVD1udWxsO2FlLmNyZWF0ZT1mdW5jdGlvbigpe3ZhciBuLHQ7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMTpuPWFlLkRFRkFVTFQsdD1hcmd1bWVudHNbMF07YnJlYWs7Y2FzZSAyOm49YXJndW1lbnRzWzBdLHQ9YXJndW1lbnRzWzFdO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IHZlKCJXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIGZvciBTY2hlbWEuY3JlYXRlIGZ1bmN0aW9uIil9aWYobj1rbi50b0FycmF5KG4pLHQ9a24udG9BcnJheSh0KSwhbi5ldmVyeShmdW5jdGlvbihyKXtyZXR1cm4gciBpbnN0YW5jZW9mIGFlfSkpdGhyb3cgbmV3IHZlKCJTcGVjaWZpZWQgbGlzdCBvZiBzdXBlciBzY2hlbWFzIChvciBhIHNpbmdsZSBTY2hlbWEgb2JqZWN0KSBjb250YWlucyBhIG5vbi1TY2hlbWEgb2JqZWN0LiIpO2lmKCF0LmV2ZXJ5KGZ1bmN0aW9uKHIpe3JldHVybiByIGluc3RhbmNlb2YgT3J9KSl0aHJvdyBuZXcgdmUoIlNwZWNpZmllZCBsaXN0IG9mIFlBTUwgdHlwZXMgKG9yIGEgc2luZ2xlIFR5cGUgb2JqZWN0KSBjb250YWlucyBhIG5vbi1UeXBlIG9iamVjdC4iKTtyZXR1cm4gbmV3IGFlKHtpbmNsdWRlOm4sZXhwbGljaXQ6dH0pfTt2YXIgcGU9YWUsUHI9TyxOcj1uZXcgUHIoInRhZzp5YW1sLm9yZywyMDAyOnN0ciIse2tpbmQ6InNjYWxhciIsY29uc3RydWN0OmZ1bmN0aW9uKGUpe3JldHVybiBlIT09bnVsbD9lOiIifX0pLE1yPU8senI9bmV3IE1yKCJ0YWc6eWFtbC5vcmcsMjAwMjpzZXEiLHtraW5kOiJzZXF1ZW5jZSIsY29uc3RydWN0OmZ1bmN0aW9uKGUpe3JldHVybiBlIT09bnVsbD9lOltdfX0pLGpyPU8sSHI9bmV3IGpyKCJ0YWc6eWFtbC5vcmcsMjAwMjptYXAiLHtraW5kOiJtYXBwaW5nIixjb25zdHJ1Y3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1udWxsP2U6e319fSksVXI9cGUsdW49bmV3IFVyKHtleHBsaWNpdDpbTnIsenIsSHJdfSksWXI9TztmdW5jdGlvbiBxcihlKXtpZihlPT09bnVsbClyZXR1cm4hMDt2YXIgbj1lLmxlbmd0aDtyZXR1cm4gbj09PTEmJmU9PT0ifiJ8fG49PT00JiYoZT09PSJudWxsInx8ZT09PSJOdWxsInx8ZT09PSJOVUxMIil9ZnVuY3Rpb24gR3IoKXtyZXR1cm4gbnVsbH1mdW5jdGlvbiBacihlKXtyZXR1cm4gZT09PW51bGx9dmFyIEtyPW5ldyBZcigidGFnOnlhbWwub3JnLDIwMDI6bnVsbCIse2tpbmQ6InNjYWxhciIscmVzb2x2ZTpxcixjb25zdHJ1Y3Q6R3IscHJlZGljYXRlOlpyLHJlcHJlc2VudDp7Y2Fub25pY2FsOmZ1bmN0aW9uKCl7cmV0dXJuIn4ifSxsb3dlcmNhc2U6ZnVuY3Rpb24oKXtyZXR1cm4ibnVsbCJ9LHVwcGVyY2FzZTpmdW5jdGlvbigpe3JldHVybiJOVUxMIn0sY2FtZWxjYXNlOmZ1bmN0aW9uKCl7cmV0dXJuIk51bGwifX0sZGVmYXVsdFN0eWxlOiJsb3dlcmNhc2UifSksV3I9TztmdW5jdGlvbiBYcihlKXtpZihlPT09bnVsbClyZXR1cm4hMTt2YXIgbj1lLmxlbmd0aDtyZXR1cm4gbj09PTQmJihlPT09InRydWUifHxlPT09IlRydWUifHxlPT09IlRSVUUiKXx8bj09PTUmJihlPT09ImZhbHNlInx8ZT09PSJGYWxzZSJ8fGU9PT0iRkFMU0UiKX1mdW5jdGlvbiBRcihlKXtyZXR1cm4gZT09PSJ0cnVlInx8ZT09PSJUcnVlInx8ZT09PSJUUlVFIn1mdW5jdGlvbiBWcihlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpPT09IltvYmplY3QgQm9vbGVhbl0ifXZhciBKcj1uZXcgV3IoInRhZzp5YW1sLm9yZywyMDAyOmJvb2wiLHtraW5kOiJzY2FsYXIiLHJlc29sdmU6WHIsY29uc3RydWN0OlFyLHByZWRpY2F0ZTpWcixyZXByZXNlbnQ6e2xvd2VyY2FzZTpmdW5jdGlvbihlKXtyZXR1cm4gZT8idHJ1ZSI6ImZhbHNlIn0sdXBwZXJjYXNlOmZ1bmN0aW9uKGUpe3JldHVybiBlPyJUUlVFIjoiRkFMU0UifSxjYW1lbGNhc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/IlRydWUiOiJGYWxzZSJ9fSxkZWZhdWx0U3R5bGU6Imxvd2VyY2FzZSJ9KSxlaT1ILG5pPU87ZnVuY3Rpb24gdGkoZSl7cmV0dXJuIDQ4PD1lJiZlPD01N3x8NjU8PWUmJmU8PTcwfHw5Nzw9ZSYmZTw9MTAyfWZ1bmN0aW9uIHJpKGUpe3JldHVybiA0ODw9ZSYmZTw9NTV9ZnVuY3Rpb24gaWkoZSl7cmV0dXJuIDQ4PD1lJiZlPD01N31mdW5jdGlvbiB1aShlKXtpZihlPT09bnVsbClyZXR1cm4hMTt2YXIgbj1lLmxlbmd0aCx0PTAscj0hMSxpO2lmKCFuKXJldHVybiExO2lmKGk9ZVt0XSwoaT09PSItInx8aT09PSIrIikmJihpPWVbKyt0XSksaT09PSIwIil7aWYodCsxPT09bilyZXR1cm4hMDtpZihpPWVbKyt0XSxpPT09ImIiKXtmb3IodCsrO3Q8bjt0KyspaWYoaT1lW3RdLGkhPT0iXyIpe2lmKGkhPT0iMCImJmkhPT0iMSIpcmV0dXJuITE7cj0hMH1yZXR1cm4gciYmaSE9PSJfIn1pZihpPT09IngiKXtmb3IodCsrO3Q8bjt0KyspaWYoaT1lW3RdLGkhPT0iXyIpe2lmKCF0aShlLmNoYXJDb2RlQXQodCkpKXJldHVybiExO3I9ITB9cmV0dXJuIHImJmkhPT0iXyJ9Zm9yKDt0PG47dCsrKWlmKGk9ZVt0XSxpIT09Il8iKXtpZighcmkoZS5jaGFyQ29kZUF0KHQpKSlyZXR1cm4hMTtyPSEwfXJldHVybiByJiZpIT09Il8ifWlmKGk9PT0iXyIpcmV0dXJuITE7Zm9yKDt0PG47dCsrKWlmKGk9ZVt0XSxpIT09Il8iKXtpZihpPT09IjoiKWJyZWFrO2lmKCFpaShlLmNoYXJDb2RlQXQodCkpKXJldHVybiExO3I9ITB9cmV0dXJuIXJ8fGk9PT0iXyI/ITE6aSE9PSI6Ij8hMDovXig6WzAtNV0/WzAtOV0pKyQvLnRlc3QoZS5zbGljZSh0KSl9ZnVuY3Rpb24gYWkoZSl7dmFyIG49ZSx0PTEscixpLHU9W107cmV0dXJuIG4uaW5kZXhPZigiXyIpIT09LTEmJihuPW4ucmVwbGFjZSgvXy9nLCIiKSkscj1uWzBdLChyPT09Ii0ifHxyPT09IisiKSYmKHI9PT0iLSImJih0PS0xKSxuPW4uc2xpY2UoMSkscj1uWzBdKSxuPT09IjAiPzA6cj09PSIwIj9uWzFdPT09ImIiP3QqcGFyc2VJbnQobi5zbGljZSgyKSwyKTpuWzFdPT09IngiP3QqcGFyc2VJbnQobiwxNik6dCpwYXJzZUludChuLDgpOm4uaW5kZXhPZigiOiIpIT09LTE/KG4uc3BsaXQoIjoiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3UudW5zaGlmdChwYXJzZUludChhLDEwKSl9KSxuPTAsaT0xLHUuZm9yRWFjaChmdW5jdGlvbihhKXtuKz1hKmksaSo9NjB9KSx0Km4pOnQqcGFyc2VJbnQobiwxMCl9ZnVuY3Rpb24gc2koZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKT09PSJbb2JqZWN0IE51bWJlcl0iJiZlJTE9PT0wJiYhZWkuaXNOZWdhdGl2ZVplcm8oZSl9dmFyIG9pPW5ldyBuaSgidGFnOnlhbWwub3JnLDIwMDI6aW50Iix7a2luZDoic2NhbGFyIixyZXNvbHZlOnVpLGNvbnN0cnVjdDphaSxwcmVkaWNhdGU6c2kscmVwcmVzZW50OntiaW5hcnk6ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PTA/IjBiIitlLnRvU3RyaW5nKDIpOiItMGIiK2UudG9TdHJpbmcoMikuc2xpY2UoMSl9LG9jdGFsOmZ1bmN0aW9uKGUpe3JldHVybiBlPj0wPyIwIitlLnRvU3RyaW5nKDgpOiItMCIrZS50b1N0cmluZyg4KS5zbGljZSgxKX0sZGVjaW1hbDpmdW5jdGlvbihlKXtyZXR1cm4gZS50b1N0cmluZygxMCl9LGhleGFkZWNpbWFsOmZ1bmN0aW9uKGUpe3JldHVybiBlPj0wPyIweCIrZS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKToiLTB4IitlLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpLnNsaWNlKDEpfX0sZGVmYXVsdFN0eWxlOiJkZWNpbWFsIixzdHlsZUFsaWFzZXM6e2JpbmFyeTpbMiwiYmluIl0sb2N0YWw6WzgsIm9jdCJdLGRlY2ltYWw6WzEwLCJkZWMiXSxoZXhhZGVjaW1hbDpbMTYsImhleCJdfX0pLGx0PUgsbGk9TyxjaT1uZXcgUmVnRXhwKCJeKD86Wy0rXT8oPzowfFsxLTldWzAtOV9dKikoPzpcXC5bMC05X10qKT8oPzpbZUVdWy0rXT9bMC05XSspP3xcXC5bMC05X10rKD86W2VFXVstK10/WzAtOV0rKT98Wy0rXT9bMC05XVswLTlfXSooPzo6WzAtNV0/WzAtOV0pK1xcLlswLTlfXSp8Wy0rXT9cXC4oPzppbmZ8SW5mfElORil8XFwuKD86bmFufE5hTnxOQU4pKSQiKTtmdW5jdGlvbiBwaShlKXtyZXR1cm4hKGU9PT1udWxsfHwhY2kudGVzdChlKXx8ZVtlLmxlbmd0aC0xXT09PSJfIil9ZnVuY3Rpb24gZmkoZSl7dmFyIG4sdCxyLGk7cmV0dXJuIG49ZS5yZXBsYWNlKC9fL2csIiIpLnRvTG93ZXJDYXNlKCksdD1uWzBdPT09Ii0iPy0xOjEsaT1bXSwiKy0iLmluZGV4T2YoblswXSk+PTAmJihuPW4uc2xpY2UoMSkpLG49PT0iLmluZiI/dD09PTE/TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZOk51bWJlci5ORUdBVElWRV9JTkZJTklUWTpuPT09Ii5uYW4iP05hTjpuLmluZGV4T2YoIjoiKT49MD8obi5zcGxpdCgiOiIpLmZvckVhY2goZnVuY3Rpb24odSl7aS51bnNoaWZ0KHBhcnNlRmxvYXQodSwxMCkpfSksbj0wLHI9MSxpLmZvckVhY2goZnVuY3Rpb24odSl7bis9dSpyLHIqPTYwfSksdCpuKTp0KnBhcnNlRmxvYXQobiwxMCl9dmFyIGhpPS9eWy0rXT9bMC05XStlLztmdW5jdGlvbiBkaShlLG4pe3ZhciB0O2lmKGlzTmFOKGUpKXN3aXRjaChuKXtjYXNlImxvd2VyY2FzZSI6cmV0dXJuIi5uYW4iO2Nhc2UidXBwZXJjYXNlIjpyZXR1cm4iLk5BTiI7Y2FzZSJjYW1lbGNhc2UiOnJldHVybiIuTmFOIn1lbHNlIGlmKE51bWJlci5QT1NJVElWRV9JTkZJTklUWT09PWUpc3dpdGNoKG4pe2Nhc2UibG93ZXJjYXNlIjpyZXR1cm4iLmluZiI7Y2FzZSJ1cHBlcmNhc2UiOnJldHVybiIuSU5GIjtjYXNlImNhbWVsY2FzZSI6cmV0dXJuIi5JbmYifWVsc2UgaWYoTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZPT09ZSlzd2l0Y2gobil7Y2FzZSJsb3dlcmNhc2UiOnJldHVybiItLmluZiI7Y2FzZSJ1cHBlcmNhc2UiOnJldHVybiItLklORiI7Y2FzZSJjYW1lbGNhc2UiOnJldHVybiItLkluZiJ9ZWxzZSBpZihsdC5pc05lZ2F0aXZlWmVybyhlKSlyZXR1cm4iLTAuMCI7cmV0dXJuIHQ9ZS50b1N0cmluZygxMCksaGkudGVzdCh0KT90LnJlcGxhY2UoImUiLCIuZSIpOnR9ZnVuY3Rpb24gZ2koZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKT09PSJbb2JqZWN0IE51bWJlcl0iJiYoZSUxIT09MHx8bHQuaXNOZWdhdGl2ZVplcm8oZSkpfXZhciBtaT1uZXcgbGkoInRhZzp5YW1sLm9yZywyMDAyOmZsb2F0Iix7a2luZDoic2NhbGFyIixyZXNvbHZlOnBpLGNvbnN0cnVjdDpmaSxwcmVkaWNhdGU6Z2kscmVwcmVzZW50OmRpLGRlZmF1bHRTdHlsZToibG93ZXJjYXNlIn0pLEZpPXBlLGN0PW5ldyBGaSh7aW5jbHVkZTpbdW5dLGltcGxpY2l0OltLcixKcixvaSxtaV19KSxEaT1wZSxwdD1uZXcgRGkoe2luY2x1ZGU6W2N0XX0pLEFpPU8sZnQ9bmV3IFJlZ0V4cCgiXihbMC05XVswLTldWzAtOV1bMC05XSktKFswLTldWzAtOV0pLShbMC05XVswLTldKSQiKSxodD1uZXcgUmVnRXhwKCJeKFswLTldWzAtOV1bMC05XVswLTldKS0oWzAtOV1bMC05XT8pLShbMC05XVswLTldPykoPzpbVHRdfFsgXFx0XSspKFswLTldWzAtOV0/KTooWzAtOV1bMC05XSk6KFswLTldWzAtOV0pKD86XFwuKFswLTldKikpPyg/OlsgXFx0XSooWnwoWy0rXSkoWzAtOV1bMC05XT8pKD86OihbMC05XVswLTldKSk/KSk/JCIpO2Z1bmN0aW9uIHhpKGUpe3JldHVybiBlPT09bnVsbD8hMTpmdC5leGVjKGUpIT09bnVsbHx8aHQuZXhlYyhlKSE9PW51bGx9ZnVuY3Rpb24gYmkoZSl7dmFyIG4sdCxyLGksdSxhLHMsbz0wLGw9bnVsbCxwLGYsZztpZihuPWZ0LmV4ZWMoZSksbj09PW51bGwmJihuPWh0LmV4ZWMoZSkpLG49PT1udWxsKXRocm93IG5ldyBFcnJvcigiRGF0ZSByZXNvbHZlIGVycm9yIik7aWYodD0rblsxXSxyPStuWzJdLTEsaT0rblszXSwhbls0XSlyZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEModCxyLGkpKTtpZih1PStuWzRdLGE9K25bNV0scz0rbls2XSxuWzddKXtmb3Iobz1uWzddLnNsaWNlKDAsMyk7by5sZW5ndGg8Mzspbys9IjAiO289K299cmV0dXJuIG5bOV0mJihwPStuWzEwXSxmPSsoblsxMV18fDApLGw9KHAqNjArZikqNmU0LG5bOV09PT0iLSImJihsPS1sKSksZz1uZXcgRGF0ZShEYXRlLlVUQyh0LHIsaSx1LGEscyxvKSksbCYmZy5zZXRUaW1lKGcuZ2V0VGltZSgpLWwpLGd9ZnVuY3Rpb24gRWkoZSl7cmV0dXJuIGUudG9JU09TdHJpbmcoKX12YXIga2k9bmV3IEFpKCJ0YWc6eWFtbC5vcmcsMjAwMjp0aW1lc3RhbXAiLHtraW5kOiJzY2FsYXIiLHJlc29sdmU6eGksY29uc3RydWN0OmJpLGluc3RhbmNlT2Y6RGF0ZSxyZXByZXNlbnQ6RWl9KSx5aT1PO2Z1bmN0aW9uIENpKGUpe3JldHVybiBlPT09Ijw8Inx8ZT09PW51bGx9dmFyIHdpPW5ldyB5aSgidGFnOnlhbWwub3JnLDIwMDI6bWVyZ2UiLHtraW5kOiJzY2FsYXIiLHJlc29sdmU6Q2l9KTtmdW5jdGlvbiBkdChlKXt0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBkeW5hbWljYWxseSByZXF1aXJlICInK2UrJyIuIFBsZWFzZSBjb25maWd1cmUgdGhlIGR5bmFtaWNSZXF1aXJlVGFyZ2V0cyBvci9hbmQgaWdub3JlRHluYW1pY1JlcXVpcmVzIG9wdGlvbiBvZiBAcm9sbHVwL3BsdWdpbi1jb21tb25qcyBhcHByb3ByaWF0ZWx5IGZvciB0aGlzIHJlcXVpcmUgY2FsbCB0byB3b3JrLicpfXZhciBlZTt0cnl7dmFyIHZpPWR0O2VlPXZpKCJidWZmZXIiKS5CdWZmZXJ9Y2F0Y2h7fXZhciBfaT1PLGFuPWBBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPQpccmA7ZnVuY3Rpb24gU2koZSl7aWYoZT09PW51bGwpcmV0dXJuITE7dmFyIG4sdCxyPTAsaT1lLmxlbmd0aCx1PWFuO2Zvcih0PTA7dDxpO3QrKylpZihuPXUuaW5kZXhPZihlLmNoYXJBdCh0KSksIShuPjY0KSl7aWYobjwwKXJldHVybiExO3IrPTZ9cmV0dXJuIHIlOD09PTB9ZnVuY3Rpb24gVGkoZSl7dmFyIG4sdCxyPWUucmVwbGFjZSgvW1xyXG49XS9nLCIiKSxpPXIubGVuZ3RoLHU9YW4sYT0wLHM9W107Zm9yKG49MDtuPGk7bisrKW4lND09PTAmJm4mJihzLnB1c2goYT4+MTYmMjU1KSxzLnB1c2goYT4+OCYyNTUpLHMucHVzaChhJjI1NSkpLGE9YTw8Nnx1LmluZGV4T2Yoci5jaGFyQXQobikpO3JldHVybiB0PWklNCo2LHQ9PT0wPyhzLnB1c2goYT4+MTYmMjU1KSxzLnB1c2goYT4+OCYyNTUpLHMucHVzaChhJjI1NSkpOnQ9PT0xOD8ocy5wdXNoKGE+PjEwJjI1NSkscy5wdXNoKGE+PjImMjU1KSk6dD09PTEyJiZzLnB1c2goYT4+NCYyNTUpLGVlP2VlLmZyb20/ZWUuZnJvbShzKTpuZXcgZWUocyk6c31mdW5jdGlvbiBCaShlKXt2YXIgbj0iIix0PTAscixpLHU9ZS5sZW5ndGgsYT1hbjtmb3Iocj0wO3I8dTtyKyspciUzPT09MCYmciYmKG4rPWFbdD4+MTgmNjNdLG4rPWFbdD4+MTImNjNdLG4rPWFbdD4+NiY2M10sbis9YVt0JjYzXSksdD0odDw8OCkrZVtyXTtyZXR1cm4gaT11JTMsaT09PTA/KG4rPWFbdD4+MTgmNjNdLG4rPWFbdD4+MTImNjNdLG4rPWFbdD4+NiY2M10sbis9YVt0JjYzXSk6aT09PTI/KG4rPWFbdD4+MTAmNjNdLG4rPWFbdD4+NCY2M10sbis9YVt0PDwyJjYzXSxuKz1hWzY0XSk6aT09PTEmJihuKz1hW3Q+PjImNjNdLG4rPWFbdDw8NCY2M10sbis9YVs2NF0sbis9YVs2NF0pLG59ZnVuY3Rpb24gJGkoZSl7cmV0dXJuIGVlJiZlZS5pc0J1ZmZlcihlKX12YXIgSWk9bmV3IF9pKCJ0YWc6eWFtbC5vcmcsMjAwMjpiaW5hcnkiLHtraW5kOiJzY2FsYXIiLHJlc29sdmU6U2ksY29uc3RydWN0OlRpLHByZWRpY2F0ZTokaSxyZXByZXNlbnQ6Qml9KSxSaT1PLE9pPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksTGk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztmdW5jdGlvbiBQaShlKXtpZihlPT09bnVsbClyZXR1cm4hMDt2YXIgbj1bXSx0LHIsaSx1LGEscz1lO2Zvcih0PTAscj1zLmxlbmd0aDt0PHI7dCs9MSl7aWYoaT1zW3RdLGE9ITEsTGkuY2FsbChpKSE9PSJbb2JqZWN0IE9iamVjdF0iKXJldHVybiExO2Zvcih1IGluIGkpaWYoT2kuY2FsbChpLHUpKWlmKCFhKWE9ITA7ZWxzZSByZXR1cm4hMTtpZighYSlyZXR1cm4hMTtpZihuLmluZGV4T2YodSk9PT0tMSluLnB1c2godSk7ZWxzZSByZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBOaShlKXtyZXR1cm4gZSE9PW51bGw/ZTpbXX12YXIgTWk9bmV3IFJpKCJ0YWc6eWFtbC5vcmcsMjAwMjpvbWFwIix7a2luZDoic2VxdWVuY2UiLHJlc29sdmU6UGksY29uc3RydWN0Ok5pfSksemk9TyxqaT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2Z1bmN0aW9uIEhpKGUpe2lmKGU9PT1udWxsKXJldHVybiEwO3ZhciBuLHQscixpLHUsYT1lO2Zvcih1PW5ldyBBcnJheShhLmxlbmd0aCksbj0wLHQ9YS5sZW5ndGg7bjx0O24rPTEpe2lmKHI9YVtuXSxqaS5jYWxsKHIpIT09IltvYmplY3QgT2JqZWN0XSJ8fChpPU9iamVjdC5rZXlzKHIpLGkubGVuZ3RoIT09MSkpcmV0dXJuITE7dVtuXT1baVswXSxyW2lbMF1dXX1yZXR1cm4hMH1mdW5jdGlvbiBVaShlKXtpZihlPT09bnVsbClyZXR1cm5bXTt2YXIgbix0LHIsaSx1LGE9ZTtmb3IodT1uZXcgQXJyYXkoYS5sZW5ndGgpLG49MCx0PWEubGVuZ3RoO248dDtuKz0xKXI9YVtuXSxpPU9iamVjdC5rZXlzKHIpLHVbbl09W2lbMF0scltpWzBdXV07cmV0dXJuIHV9dmFyIFlpPW5ldyB6aSgidGFnOnlhbWwub3JnLDIwMDI6cGFpcnMiLHtraW5kOiJzZXF1ZW5jZSIscmVzb2x2ZTpIaSxjb25zdHJ1Y3Q6VWl9KSxxaT1PLEdpPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7ZnVuY3Rpb24gWmkoZSl7aWYoZT09PW51bGwpcmV0dXJuITA7dmFyIG4sdD1lO2ZvcihuIGluIHQpaWYoR2kuY2FsbCh0LG4pJiZ0W25dIT09bnVsbClyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBLaShlKXtyZXR1cm4gZSE9PW51bGw/ZTp7fX12YXIgV2k9bmV3IHFpKCJ0YWc6eWFtbC5vcmcsMjAwMjpzZXQiLHtraW5kOiJtYXBwaW5nIixyZXNvbHZlOlppLGNvbnN0cnVjdDpLaX0pLFhpPXBlLERlPW5ldyBYaSh7aW5jbHVkZTpbcHRdLGltcGxpY2l0OltraSx3aV0sZXhwbGljaXQ6W0lpLE1pLFlpLFdpXX0pLFFpPU87ZnVuY3Rpb24gVmkoKXtyZXR1cm4hMH1mdW5jdGlvbiBKaSgpe31mdW5jdGlvbiBldSgpe3JldHVybiIifWZ1bmN0aW9uIG51KGUpe3JldHVybiB0eXBlb2YgZT4idSJ9dmFyIHR1PW5ldyBRaSgidGFnOnlhbWwub3JnLDIwMDI6anMvdW5kZWZpbmVkIix7a2luZDoic2NhbGFyIixyZXNvbHZlOlZpLGNvbnN0cnVjdDpKaSxwcmVkaWNhdGU6bnUscmVwcmVzZW50OmV1fSkscnU9TztmdW5jdGlvbiBpdShlKXtpZihlPT09bnVsbHx8ZS5sZW5ndGg9PT0wKXJldHVybiExO3ZhciBuPWUsdD0vXC8oW2dpbV0qKSQvLmV4ZWMoZSkscj0iIjtyZXR1cm4hKG5bMF09PT0iLyImJih0JiYocj10WzFdKSxyLmxlbmd0aD4zfHxuW24ubGVuZ3RoLXIubGVuZ3RoLTFdIT09Ii8iKSl9ZnVuY3Rpb24gdXUoZSl7dmFyIG49ZSx0PS9cLyhbZ2ltXSopJC8uZXhlYyhlKSxyPSIiO3JldHVybiBuWzBdPT09Ii8iJiYodCYmKHI9dFsxXSksbj1uLnNsaWNlKDEsbi5sZW5ndGgtci5sZW5ndGgtMSkpLG5ldyBSZWdFeHAobixyKX1mdW5jdGlvbiBhdShlKXt2YXIgbj0iLyIrZS5zb3VyY2UrIi8iO3JldHVybiBlLmdsb2JhbCYmKG4rPSJnIiksZS5tdWx0aWxpbmUmJihuKz0ibSIpLGUuaWdub3JlQ2FzZSYmKG4rPSJpIiksbn1mdW5jdGlvbiBzdShlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpPT09IltvYmplY3QgUmVnRXhwXSJ9dmFyIG91PW5ldyBydSgidGFnOnlhbWwub3JnLDIwMDI6anMvcmVnZXhwIix7a2luZDoic2NhbGFyIixyZXNvbHZlOml1LGNvbnN0cnVjdDp1dSxwcmVkaWNhdGU6c3UscmVwcmVzZW50OmF1fSksSWU7dHJ5e3ZhciBsdT1kdDtJZT1sdSgiZXNwcmltYSIpfWNhdGNoe3R5cGVvZiB3aW5kb3c8InUiJiYoSWU9d2luZG93LmVzcHJpbWEpfXZhciBjdT1PO2Z1bmN0aW9uIHB1KGUpe2lmKGU9PT1udWxsKXJldHVybiExO3RyeXt2YXIgbj0iKCIrZSsiKSIsdD1JZS5wYXJzZShuLHtyYW5nZTohMH0pO3JldHVybiEodC50eXBlIT09IlByb2dyYW0ifHx0LmJvZHkubGVuZ3RoIT09MXx8dC5ib2R5WzBdLnR5cGUhPT0iRXhwcmVzc2lvblN0YXRlbWVudCJ8fHQuYm9keVswXS5leHByZXNzaW9uLnR5cGUhPT0iQXJyb3dGdW5jdGlvbkV4cHJlc3Npb24iJiZ0LmJvZHlbMF0uZXhwcmVzc2lvbi50eXBlIT09IkZ1bmN0aW9uRXhwcmVzc2lvbiIpfWNhdGNoe3JldHVybiExfX1mdW5jdGlvbiBmdShlKXt2YXIgbj0iKCIrZSsiKSIsdD1JZS5wYXJzZShuLHtyYW5nZTohMH0pLHI9W10saTtpZih0LnR5cGUhPT0iUHJvZ3JhbSJ8fHQuYm9keS5sZW5ndGghPT0xfHx0LmJvZHlbMF0udHlwZSE9PSJFeHByZXNzaW9uU3RhdGVtZW50Inx8dC5ib2R5WzBdLmV4cHJlc3Npb24udHlwZSE9PSJBcnJvd0Z1bmN0aW9uRXhwcmVzc2lvbiImJnQuYm9keVswXS5leHByZXNzaW9uLnR5cGUhPT0iRnVuY3Rpb25FeHByZXNzaW9uIil0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byByZXNvbHZlIGZ1bmN0aW9uIik7cmV0dXJuIHQuYm9keVswXS5leHByZXNzaW9uLnBhcmFtcy5mb3JFYWNoKGZ1bmN0aW9uKHUpe3IucHVzaCh1Lm5hbWUpfSksaT10LmJvZHlbMF0uZXhwcmVzc2lvbi5ib2R5LnJhbmdlLHQuYm9keVswXS5leHByZXNzaW9uLmJvZHkudHlwZT09PSJCbG9ja1N0YXRlbWVudCI/bmV3IEZ1bmN0aW9uKHIsbi5zbGljZShpWzBdKzEsaVsxXS0xKSk6bmV3IEZ1bmN0aW9uKHIsInJldHVybiAiK24uc2xpY2UoaVswXSxpWzFdKSl9ZnVuY3Rpb24gaHUoZSl7cmV0dXJuIGUudG9TdHJpbmcoKX1mdW5jdGlvbiBkdShlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpPT09IltvYmplY3QgRnVuY3Rpb25dIn12YXIgZ3U9bmV3IGN1KCJ0YWc6eWFtbC5vcmcsMjAwMjpqcy9mdW5jdGlvbiIse2tpbmQ6InNjYWxhciIscmVzb2x2ZTpwdSxjb25zdHJ1Y3Q6ZnUscHJlZGljYXRlOmR1LHJlcHJlc2VudDpodX0pLHluPXBlLHplPXluLkRFRkFVTFQ9bmV3IHluKHtpbmNsdWRlOltEZV0sZXhwbGljaXQ6W3R1LG91LGd1XX0pLEs9SCxndD1GZSxtdT1UcixtdD1EZSxGdT16ZSxWPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksUmU9MSxGdD0yLER0PTMsT2U9NCxaZT0xLER1PTIsQ249MyxBdT0vW1x4MDAtXHgwOFx4MEJceDBDXHgwRS1ceDFGXHg3Ri1ceDg0XHg4Ni1ceDlGXHVGRkZFXHVGRkZGXXxbXHVEODAwLVx1REJGRl0oPyFbXHVEQzAwLVx1REZGRl0pfCg/OlteXHVEODAwLVx1REJGRl18XilbXHVEQzAwLVx1REZGRl0vLHh1PS9bXHg4NVx1MjAyOFx1MjAyOV0vLGJ1PS9bLFxbXF1ce1x9XS8sQXQ9L14oPzohfCEhfCFbYS16XC1dKyEpJC9pLHh0PS9eKD86IXxbXixcW1xdXHtcfV0pKD86JVswLTlhLWZdezJ9fFswLTlhLXpcLSM7XC9cPzpAJj1cK1wkLF9cLiF+XConXChcKVxbXF1dKSokL2k7ZnVuY3Rpb24gd24oZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1mdW5jdGlvbiBaKGUpe3JldHVybiBlPT09MTB8fGU9PT0xM31mdW5jdGlvbiBuZShlKXtyZXR1cm4gZT09PTl8fGU9PT0zMn1mdW5jdGlvbiBqKGUpe3JldHVybiBlPT09OXx8ZT09PTMyfHxlPT09MTB8fGU9PT0xM31mdW5jdGlvbiBzZShlKXtyZXR1cm4gZT09PTQ0fHxlPT09OTF8fGU9PT05M3x8ZT09PTEyM3x8ZT09PTEyNX1mdW5jdGlvbiBFdShlKXt2YXIgbjtyZXR1cm4gNDg8PWUmJmU8PTU3P2UtNDg6KG49ZXwzMiw5Nzw9biYmbjw9MTAyP24tOTcrMTA6LTEpfWZ1bmN0aW9uIGt1KGUpe3JldHVybiBlPT09MTIwPzI6ZT09PTExNz80OmU9PT04NT84OjB9ZnVuY3Rpb24geXUoZSl7cmV0dXJuIDQ4PD1lJiZlPD01Nz9lLTQ4Oi0xfWZ1bmN0aW9uIHZuKGUpe3JldHVybiBlPT09NDg/IlwwIjplPT09OTc/Ilx4MDciOmU9PT05OD8iXGIiOmU9PT0xMTZ8fGU9PT05PyIJIjplPT09MTEwP2AKYDplPT09MTE4PyJcdiI6ZT09PTEwMj8iXGYiOmU9PT0xMTQ/IlxyIjplPT09MTAxPyJceDFCIjplPT09MzI/IiAiOmU9PT0zND8nIic6ZT09PTQ3PyIvIjplPT09OTI/IlxcIjplPT09Nzg/IsKFIjplPT09OTU/IsKgIjplPT09NzY/Ilx1MjAyOCI6ZT09PTgwPyJcdTIwMjkiOiIifWZ1bmN0aW9uIEN1KGUpe3JldHVybiBlPD02NTUzNT9TdHJpbmcuZnJvbUNoYXJDb2RlKGUpOlN0cmluZy5mcm9tQ2hhckNvZGUoKGUtNjU1MzY+PjEwKSs1NTI5NiwoZS02NTUzNiYxMDIzKSs1NjMyMCl9dmFyIGJ0PW5ldyBBcnJheSgyNTYpLEV0PW5ldyBBcnJheSgyNTYpO2Zvcih2YXIgdWU9MDt1ZTwyNTY7dWUrKylidFt1ZV09dm4odWUpPzE6MCxFdFt1ZV09dm4odWUpO2Z1bmN0aW9uIHd1KGUsbil7dGhpcy5pbnB1dD1lLHRoaXMuZmlsZW5hbWU9bi5maWxlbmFtZXx8bnVsbCx0aGlzLnNjaGVtYT1uLnNjaGVtYXx8RnUsdGhpcy5vbldhcm5pbmc9bi5vbldhcm5pbmd8fG51bGwsdGhpcy5sZWdhY3k9bi5sZWdhY3l8fCExLHRoaXMuanNvbj1uLmpzb258fCExLHRoaXMubGlzdGVuZXI9bi5saXN0ZW5lcnx8bnVsbCx0aGlzLmltcGxpY2l0VHlwZXM9dGhpcy5zY2hlbWEuY29tcGlsZWRJbXBsaWNpdCx0aGlzLnR5cGVNYXA9dGhpcy5zY2hlbWEuY29tcGlsZWRUeXBlTWFwLHRoaXMubGVuZ3RoPWUubGVuZ3RoLHRoaXMucG9zaXRpb249MCx0aGlzLmxpbmU9MCx0aGlzLmxpbmVTdGFydD0wLHRoaXMubGluZUluZGVudD0wLHRoaXMuZG9jdW1lbnRzPVtdfWZ1bmN0aW9uIGt0KGUsbil7cmV0dXJuIG5ldyBndChuLG5ldyBtdShlLmZpbGVuYW1lLGUuaW5wdXQsZS5wb3NpdGlvbixlLmxpbmUsZS5wb3NpdGlvbi1lLmxpbmVTdGFydCkpfWZ1bmN0aW9uIHkoZSxuKXt0aHJvdyBrdChlLG4pfWZ1bmN0aW9uIExlKGUsbil7ZS5vbldhcm5pbmcmJmUub25XYXJuaW5nLmNhbGwobnVsbCxrdChlLG4pKX12YXIgX249e1lBTUw6ZnVuY3Rpb24obix0LHIpe3ZhciBpLHUsYTtuLnZlcnNpb24hPT1udWxsJiZ5KG4sImR1cGxpY2F0aW9uIG9mICVZQU1MIGRpcmVjdGl2ZSIpLHIubGVuZ3RoIT09MSYmeShuLCJZQU1MIGRpcmVjdGl2ZSBhY2NlcHRzIGV4YWN0bHkgb25lIGFyZ3VtZW50IiksaT0vXihbMC05XSspXC4oWzAtOV0rKSQvLmV4ZWMoclswXSksaT09PW51bGwmJnkobiwiaWxsLWZvcm1lZCBhcmd1bWVudCBvZiB0aGUgWUFNTCBkaXJlY3RpdmUiKSx1PXBhcnNlSW50KGlbMV0sMTApLGE9cGFyc2VJbnQoaVsyXSwxMCksdSE9PTEmJnkobiwidW5hY2NlcHRhYmxlIFlBTUwgdmVyc2lvbiBvZiB0aGUgZG9jdW1lbnQiKSxuLnZlcnNpb249clswXSxuLmNoZWNrTGluZUJyZWFrcz1hPDIsYSE9PTEmJmEhPT0yJiZMZShuLCJ1bnN1cHBvcnRlZCBZQU1MIHZlcnNpb24gb2YgdGhlIGRvY3VtZW50Iil9LFRBRzpmdW5jdGlvbihuLHQscil7dmFyIGksdTtyLmxlbmd0aCE9PTImJnkobiwiVEFHIGRpcmVjdGl2ZSBhY2NlcHRzIGV4YWN0bHkgdHdvIGFyZ3VtZW50cyIpLGk9clswXSx1PXJbMV0sQXQudGVzdChpKXx8eShuLCJpbGwtZm9ybWVkIHRhZyBoYW5kbGUgKGZpcnN0IGFyZ3VtZW50KSBvZiB0aGUgVEFHIGRpcmVjdGl2ZSIpLFYuY2FsbChuLnRhZ01hcCxpKSYmeShuLCd0aGVyZSBpcyBhIHByZXZpb3VzbHkgZGVjbGFyZWQgc3VmZml4IGZvciAiJytpKyciIHRhZyBoYW5kbGUnKSx4dC50ZXN0KHUpfHx5KG4sImlsbC1mb3JtZWQgdGFnIHByZWZpeCAoc2Vjb25kIGFyZ3VtZW50KSBvZiB0aGUgVEFHIGRpcmVjdGl2ZSIpLG4udGFnTWFwW2ldPXV9fTtmdW5jdGlvbiBRKGUsbix0LHIpe3ZhciBpLHUsYSxzO2lmKG48dCl7aWYocz1lLmlucHV0LnNsaWNlKG4sdCkscilmb3IoaT0wLHU9cy5sZW5ndGg7aTx1O2krPTEpYT1zLmNoYXJDb2RlQXQoaSksYT09PTl8fDMyPD1hJiZhPD0xMTE0MTExfHx5KGUsImV4cGVjdGVkIHZhbGlkIEpTT04gY2hhcmFjdGVyIik7ZWxzZSBBdS50ZXN0KHMpJiZ5KGUsInRoZSBzdHJlYW0gY29udGFpbnMgbm9uLXByaW50YWJsZSBjaGFyYWN0ZXJzIik7ZS5yZXN1bHQrPXN9fWZ1bmN0aW9uIFNuKGUsbix0LHIpe3ZhciBpLHUsYSxzO2ZvcihLLmlzT2JqZWN0KHQpfHx5KGUsImNhbm5vdCBtZXJnZSBtYXBwaW5nczsgdGhlIHByb3ZpZGVkIHNvdXJjZSBvYmplY3QgaXMgdW5hY2NlcHRhYmxlIiksaT1PYmplY3Qua2V5cyh0KSxhPTAscz1pLmxlbmd0aDthPHM7YSs9MSl1PWlbYV0sVi5jYWxsKG4sdSl8fChuW3VdPXRbdV0sclt1XT0hMCl9ZnVuY3Rpb24gb2UoZSxuLHQscixpLHUsYSxzKXt2YXIgbyxsO2lmKEFycmF5LmlzQXJyYXkoaSkpZm9yKGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaSksbz0wLGw9aS5sZW5ndGg7bzxsO28rPTEpQXJyYXkuaXNBcnJheShpW29dKSYmeShlLCJuZXN0ZWQgYXJyYXlzIGFyZSBub3Qgc3VwcG9ydGVkIGluc2lkZSBrZXlzIiksdHlwZW9mIGk9PSJvYmplY3QiJiZ3bihpW29dKT09PSJbb2JqZWN0IE9iamVjdF0iJiYoaVtvXT0iW29iamVjdCBPYmplY3RdIik7aWYodHlwZW9mIGk9PSJvYmplY3QiJiZ3bihpKT09PSJbb2JqZWN0IE9iamVjdF0iJiYoaT0iW29iamVjdCBPYmplY3RdIiksaT1TdHJpbmcoaSksbj09PW51bGwmJihuPXt9KSxyPT09InRhZzp5YW1sLm9yZywyMDAyOm1lcmdlIilpZihBcnJheS5pc0FycmF5KHUpKWZvcihvPTAsbD11Lmxlbmd0aDtvPGw7bys9MSlTbihlLG4sdVtvXSx0KTtlbHNlIFNuKGUsbix1LHQpO2Vsc2UhZS5qc29uJiYhVi5jYWxsKHQsaSkmJlYuY2FsbChuLGkpJiYoZS5saW5lPWF8fGUubGluZSxlLnBvc2l0aW9uPXN8fGUucG9zaXRpb24seShlLCJkdXBsaWNhdGVkIG1hcHBpbmcga2V5IikpLG5baV09dSxkZWxldGUgdFtpXTtyZXR1cm4gbn1mdW5jdGlvbiBzbihlKXt2YXIgbjtuPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKSxuPT09MTA/ZS5wb3NpdGlvbisrOm49PT0xMz8oZS5wb3NpdGlvbisrLGUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKT09PTEwJiZlLnBvc2l0aW9uKyspOnkoZSwiYSBsaW5lIGJyZWFrIGlzIGV4cGVjdGVkIiksZS5saW5lKz0xLGUubGluZVN0YXJ0PWUucG9zaXRpb259ZnVuY3Rpb24gSShlLG4sdCl7Zm9yKHZhciByPTAsaT1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbik7aSE9PTA7KXtmb3IoO25lKGkpOylpPWUuaW5wdXQuY2hhckNvZGVBdCgrK2UucG9zaXRpb24pO2lmKG4mJmk9PT0zNSlkbyBpPWUuaW5wdXQuY2hhckNvZGVBdCgrK2UucG9zaXRpb24pO3doaWxlKGkhPT0xMCYmaSE9PTEzJiZpIT09MCk7aWYoWihpKSlmb3Ioc24oZSksaT1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbikscisrLGUubGluZUluZGVudD0wO2k9PT0zMjspZS5saW5lSW5kZW50KyssaT1lLmlucHV0LmNoYXJDb2RlQXQoKytlLnBvc2l0aW9uKTtlbHNlIGJyZWFrfXJldHVybiB0IT09LTEmJnIhPT0wJiZlLmxpbmVJbmRlbnQ8dCYmTGUoZSwiZGVmaWNpZW50IGluZGVudGF0aW9uIikscn1mdW5jdGlvbiBqZShlKXt2YXIgbj1lLnBvc2l0aW9uLHQ7cmV0dXJuIHQ9ZS5pbnB1dC5jaGFyQ29kZUF0KG4pLCEhKCh0PT09NDV8fHQ9PT00NikmJnQ9PT1lLmlucHV0LmNoYXJDb2RlQXQobisxKSYmdD09PWUuaW5wdXQuY2hhckNvZGVBdChuKzIpJiYobis9Myx0PWUuaW5wdXQuY2hhckNvZGVBdChuKSx0PT09MHx8aih0KSkpfWZ1bmN0aW9uIG9uKGUsbil7bj09PTE/ZS5yZXN1bHQrPSIgIjpuPjEmJihlLnJlc3VsdCs9Sy5yZXBlYXQoYApgLG4tMSkpfWZ1bmN0aW9uIHZ1KGUsbix0KXt2YXIgcixpLHUsYSxzLG8sbCxwLGY9ZS5raW5kLGc9ZS5yZXN1bHQsZDtpZihkPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKSxqKGQpfHxzZShkKXx8ZD09PTM1fHxkPT09Mzh8fGQ9PT00Mnx8ZD09PTMzfHxkPT09MTI0fHxkPT09NjJ8fGQ9PT0zOXx8ZD09PTM0fHxkPT09Mzd8fGQ9PT02NHx8ZD09PTk2fHwoZD09PTYzfHxkPT09NDUpJiYoaT1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbisxKSxqKGkpfHx0JiZzZShpKSkpcmV0dXJuITE7Zm9yKGUua2luZD0ic2NhbGFyIixlLnJlc3VsdD0iIix1PWE9ZS5wb3NpdGlvbixzPSExO2QhPT0wOyl7aWYoZD09PTU4KXtpZihpPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKzEpLGooaSl8fHQmJnNlKGkpKWJyZWFrfWVsc2UgaWYoZD09PTM1KXtpZihyPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uLTEpLGoocikpYnJlYWt9ZWxzZXtpZihlLnBvc2l0aW9uPT09ZS5saW5lU3RhcnQmJmplKGUpfHx0JiZzZShkKSlicmVhaztpZihaKGQpKWlmKG89ZS5saW5lLGw9ZS5saW5lU3RhcnQscD1lLmxpbmVJbmRlbnQsSShlLCExLC0xKSxlLmxpbmVJbmRlbnQ+PW4pe3M9ITAsZD1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbik7Y29udGludWV9ZWxzZXtlLnBvc2l0aW9uPWEsZS5saW5lPW8sZS5saW5lU3RhcnQ9bCxlLmxpbmVJbmRlbnQ9cDticmVha319cyYmKFEoZSx1LGEsITEpLG9uKGUsZS5saW5lLW8pLHU9YT1lLnBvc2l0aW9uLHM9ITEpLG5lKGQpfHwoYT1lLnBvc2l0aW9uKzEpLGQ9ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbil9cmV0dXJuIFEoZSx1LGEsITEpLGUucmVzdWx0PyEwOihlLmtpbmQ9ZixlLnJlc3VsdD1nLCExKX1mdW5jdGlvbiBfdShlLG4pe3ZhciB0LHIsaTtpZih0PWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKSx0IT09MzkpcmV0dXJuITE7Zm9yKGUua2luZD0ic2NhbGFyIixlLnJlc3VsdD0iIixlLnBvc2l0aW9uKysscj1pPWUucG9zaXRpb247KHQ9ZS5pbnB1dC5jaGFyQ29kZUF0KGUucG9zaXRpb24pKSE9PTA7KWlmKHQ9PT0zOSlpZihRKGUscixlLnBvc2l0aW9uLCEwKSx0PWUuaW5wdXQuY2hhckNvZGVBdCgrK2UucG9zaXRpb24pLHQ9PT0zOSlyPWUucG9zaXRpb24sZS5wb3NpdGlvbisrLGk9ZS5wb3NpdGlvbjtlbHNlIHJldHVybiEwO2Vsc2UgWih0KT8oUShlLHIsaSwhMCksb24oZSxJKGUsITEsbikpLHI9aT1lLnBvc2l0aW9uKTplLnBvc2l0aW9uPT09ZS5saW5lU3RhcnQmJmplKGUpP3koZSwidW5leHBlY3RlZCBlbmQgb2YgdGhlIGRvY3VtZW50IHdpdGhpbiBhIHNpbmdsZSBxdW90ZWQgc2NhbGFyIik6KGUucG9zaXRpb24rKyxpPWUucG9zaXRpb24pO3koZSwidW5leHBlY3RlZCBlbmQgb2YgdGhlIHN0cmVhbSB3aXRoaW4gYSBzaW5nbGUgcXVvdGVkIHNjYWxhciIpfWZ1bmN0aW9uIFN1KGUsbil7dmFyIHQscixpLHUsYSxzO2lmKHM9ZS5pbnB1dC5jaGFyQ29kZUF0KGUucG9zaXRpb24pLHMhPT0zNClyZXR1cm4hMTtmb3IoZS5raW5kPSJzY2FsYXIiLGUucmVzdWx0PSIiLGUucG9zaXRpb24rKyx0PXI9ZS5wb3NpdGlvbjsocz1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbikpIT09MDspe2lmKHM9PT0zNClyZXR1cm4gUShlLHQsZS5wb3NpdGlvbiwhMCksZS5wb3NpdGlvbisrLCEwO2lmKHM9PT05Mil7aWYoUShlLHQsZS5wb3NpdGlvbiwhMCkscz1lLmlucHV0LmNoYXJDb2RlQXQoKytlLnBvc2l0aW9uKSxaKHMpKUkoZSwhMSxuKTtlbHNlIGlmKHM8MjU2JiZidFtzXSllLnJlc3VsdCs9RXRbc10sZS5wb3NpdGlvbisrO2Vsc2UgaWYoKGE9a3UocykpPjApe2ZvcihpPWEsdT0wO2k+MDtpLS0pcz1lLmlucHV0LmNoYXJDb2RlQXQoKytlLnBvc2l0aW9uKSwoYT1FdShzKSk+PTA/dT0odTw8NCkrYTp5KGUsImV4cGVjdGVkIGhleGFkZWNpbWFsIGNoYXJhY3RlciIpO2UucmVzdWx0Kz1DdSh1KSxlLnBvc2l0aW9uKyt9ZWxzZSB5KGUsInVua25vd24gZXNjYXBlIHNlcXVlbmNlIik7dD1yPWUucG9zaXRpb259ZWxzZSBaKHMpPyhRKGUsdCxyLCEwKSxvbihlLEkoZSwhMSxuKSksdD1yPWUucG9zaXRpb24pOmUucG9zaXRpb249PT1lLmxpbmVTdGFydCYmamUoZSk/eShlLCJ1bmV4cGVjdGVkIGVuZCBvZiB0aGUgZG9jdW1lbnQgd2l0aGluIGEgZG91YmxlIHF1b3RlZCBzY2FsYXIiKTooZS5wb3NpdGlvbisrLHI9ZS5wb3NpdGlvbil9eShlLCJ1bmV4cGVjdGVkIGVuZCBvZiB0aGUgc3RyZWFtIHdpdGhpbiBhIGRvdWJsZSBxdW90ZWQgc2NhbGFyIil9ZnVuY3Rpb24gVHUoZSxuKXt2YXIgdD0hMCxyLGk9ZS50YWcsdSxhPWUuYW5jaG9yLHMsbyxsLHAsZixnPXt9LGQsdixDLHg7aWYoeD1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbikseD09PTkxKW89OTMsZj0hMSx1PVtdO2Vsc2UgaWYoeD09PTEyMylvPTEyNSxmPSEwLHU9e307ZWxzZSByZXR1cm4hMTtmb3IoZS5hbmNob3IhPT1udWxsJiYoZS5hbmNob3JNYXBbZS5hbmNob3JdPXUpLHg9ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbik7eCE9PTA7KXtpZihJKGUsITAsbikseD1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbikseD09PW8pcmV0dXJuIGUucG9zaXRpb24rKyxlLnRhZz1pLGUuYW5jaG9yPWEsZS5raW5kPWY/Im1hcHBpbmciOiJzZXF1ZW5jZSIsZS5yZXN1bHQ9dSwhMDt0fHx5KGUsIm1pc3NlZCBjb21tYSBiZXR3ZWVuIGZsb3cgY29sbGVjdGlvbiBlbnRyaWVzIiksdj1kPUM9bnVsbCxsPXA9ITEseD09PTYzJiYocz1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbisxKSxqKHMpJiYobD1wPSEwLGUucG9zaXRpb24rKyxJKGUsITAsbikpKSxyPWUubGluZSxsZShlLG4sUmUsITEsITApLHY9ZS50YWcsZD1lLnJlc3VsdCxJKGUsITAsbikseD1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbiksKHB8fGUubGluZT09PXIpJiZ4PT09NTgmJihsPSEwLHg9ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbiksSShlLCEwLG4pLGxlKGUsbixSZSwhMSwhMCksQz1lLnJlc3VsdCksZj9vZShlLHUsZyx2LGQsQyk6bD91LnB1c2gob2UoZSxudWxsLGcsdixkLEMpKTp1LnB1c2goZCksSShlLCEwLG4pLHg9ZS5pbnB1dC5jaGFyQ29kZUF0KGUucG9zaXRpb24pLHg9PT00ND8odD0hMCx4PWUuaW5wdXQuY2hhckNvZGVBdCgrK2UucG9zaXRpb24pKTp0PSExfXkoZSwidW5leHBlY3RlZCBlbmQgb2YgdGhlIHN0cmVhbSB3aXRoaW4gYSBmbG93IGNvbGxlY3Rpb24iKX1mdW5jdGlvbiBCdShlLG4pe3ZhciB0LHIsaT1aZSx1PSExLGE9ITEscz1uLG89MCxsPSExLHAsZjtpZihmPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKSxmPT09MTI0KXI9ITE7ZWxzZSBpZihmPT09NjIpcj0hMDtlbHNlIHJldHVybiExO2ZvcihlLmtpbmQ9InNjYWxhciIsZS5yZXN1bHQ9IiI7ZiE9PTA7KWlmKGY9ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbiksZj09PTQzfHxmPT09NDUpWmU9PT1pP2k9Zj09PTQzP0NuOkR1OnkoZSwicmVwZWF0IG9mIGEgY2hvbXBpbmcgbW9kZSBpZGVudGlmaWVyIik7ZWxzZSBpZigocD15dShmKSk+PTApcD09PTA/eShlLCJiYWQgZXhwbGljaXQgaW5kZW50YXRpb24gd2lkdGggb2YgYSBibG9jayBzY2FsYXI7IGl0IGNhbm5vdCBiZSBsZXNzIHRoYW4gb25lIik6YT95KGUsInJlcGVhdCBvZiBhbiBpbmRlbnRhdGlvbiB3aWR0aCBpZGVudGlmaWVyIik6KHM9bitwLTEsYT0hMCk7ZWxzZSBicmVhaztpZihuZShmKSl7ZG8gZj1lLmlucHV0LmNoYXJDb2RlQXQoKytlLnBvc2l0aW9uKTt3aGlsZShuZShmKSk7aWYoZj09PTM1KWRvIGY9ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbik7d2hpbGUoIVooZikmJmYhPT0wKX1mb3IoO2YhPT0wOyl7Zm9yKHNuKGUpLGUubGluZUluZGVudD0wLGY9ZS5pbnB1dC5jaGFyQ29kZUF0KGUucG9zaXRpb24pOyghYXx8ZS5saW5lSW5kZW50PHMpJiZmPT09MzI7KWUubGluZUluZGVudCsrLGY9ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbik7aWYoIWEmJmUubGluZUluZGVudD5zJiYocz1lLmxpbmVJbmRlbnQpLFooZikpe28rKztjb250aW51ZX1pZihlLmxpbmVJbmRlbnQ8cyl7aT09PUNuP2UucmVzdWx0Kz1LLnJlcGVhdChgCmAsdT8xK286byk6aT09PVplJiZ1JiYoZS5yZXN1bHQrPWAKYCk7YnJlYWt9Zm9yKHI/bmUoZik/KGw9ITAsZS5yZXN1bHQrPUsucmVwZWF0KGAKYCx1PzErbzpvKSk6bD8obD0hMSxlLnJlc3VsdCs9Sy5yZXBlYXQoYApgLG8rMSkpOm89PT0wP3UmJihlLnJlc3VsdCs9IiAiKTplLnJlc3VsdCs9Sy5yZXBlYXQoYApgLG8pOmUucmVzdWx0Kz1LLnJlcGVhdChgCmAsdT8xK286byksdT0hMCxhPSEwLG89MCx0PWUucG9zaXRpb247IVooZikmJmYhPT0wOylmPWUuaW5wdXQuY2hhckNvZGVBdCgrK2UucG9zaXRpb24pO1EoZSx0LGUucG9zaXRpb24sITEpfXJldHVybiEwfWZ1bmN0aW9uIFRuKGUsbil7dmFyIHQscj1lLnRhZyxpPWUuYW5jaG9yLHU9W10sYSxzPSExLG87Zm9yKGUuYW5jaG9yIT09bnVsbCYmKGUuYW5jaG9yTWFwW2UuYW5jaG9yXT11KSxvPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKTtvIT09MCYmIShvIT09NDV8fChhPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKzEpLCFqKGEpKSk7KXtpZihzPSEwLGUucG9zaXRpb24rKyxJKGUsITAsLTEpJiZlLmxpbmVJbmRlbnQ8PW4pe3UucHVzaChudWxsKSxvPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKTtjb250aW51ZX1pZih0PWUubGluZSxsZShlLG4sRHQsITEsITApLHUucHVzaChlLnJlc3VsdCksSShlLCEwLC0xKSxvPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKSwoZS5saW5lPT09dHx8ZS5saW5lSW5kZW50Pm4pJiZvIT09MCl5KGUsImJhZCBpbmRlbnRhdGlvbiBvZiBhIHNlcXVlbmNlIGVudHJ5Iik7ZWxzZSBpZihlLmxpbmVJbmRlbnQ8bilicmVha31yZXR1cm4gcz8oZS50YWc9cixlLmFuY2hvcj1pLGUua2luZD0ic2VxdWVuY2UiLGUucmVzdWx0PXUsITApOiExfWZ1bmN0aW9uICR1KGUsbix0KXt2YXIgcixpLHUsYSxzPWUudGFnLG89ZS5hbmNob3IsbD17fSxwPXt9LGY9bnVsbCxnPW51bGwsZD1udWxsLHY9ITEsQz0hMSx4O2ZvcihlLmFuY2hvciE9PW51bGwmJihlLmFuY2hvck1hcFtlLmFuY2hvcl09bCkseD1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbik7eCE9PTA7KXtpZihyPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKzEpLHU9ZS5saW5lLGE9ZS5wb3NpdGlvbiwoeD09PTYzfHx4PT09NTgpJiZqKHIpKXg9PT02Mz8odiYmKG9lKGUsbCxwLGYsZyxudWxsKSxmPWc9ZD1udWxsKSxDPSEwLHY9ITAsaT0hMCk6dj8odj0hMSxpPSEwKTp5KGUsImluY29tcGxldGUgZXhwbGljaXQgbWFwcGluZyBwYWlyOyBhIGtleSBub2RlIGlzIG1pc3NlZDsgb3IgZm9sbG93ZWQgYnkgYSBub24tdGFidWxhdGVkIGVtcHR5IGxpbmUiKSxlLnBvc2l0aW9uKz0xLHg9cjtlbHNlIGlmKGxlKGUsdCxGdCwhMSwhMCkpaWYoZS5saW5lPT09dSl7Zm9yKHg9ZS5pbnB1dC5jaGFyQ29kZUF0KGUucG9zaXRpb24pO25lKHgpOyl4PWUuaW5wdXQuY2hhckNvZGVBdCgrK2UucG9zaXRpb24pO2lmKHg9PT01OCl4PWUuaW5wdXQuY2hhckNvZGVBdCgrK2UucG9zaXRpb24pLGooeCl8fHkoZSwiYSB3aGl0ZXNwYWNlIGNoYXJhY3RlciBpcyBleHBlY3RlZCBhZnRlciB0aGUga2V5LXZhbHVlIHNlcGFyYXRvciB3aXRoaW4gYSBibG9jayBtYXBwaW5nIiksdiYmKG9lKGUsbCxwLGYsZyxudWxsKSxmPWc9ZD1udWxsKSxDPSEwLHY9ITEsaT0hMSxmPWUudGFnLGc9ZS5yZXN1bHQ7ZWxzZSBpZihDKXkoZSwiY2FuIG5vdCByZWFkIGFuIGltcGxpY2l0IG1hcHBpbmcgcGFpcjsgYSBjb2xvbiBpcyBtaXNzZWQiKTtlbHNlIHJldHVybiBlLnRhZz1zLGUuYW5jaG9yPW8sITB9ZWxzZSBpZihDKXkoZSwiY2FuIG5vdCByZWFkIGEgYmxvY2sgbWFwcGluZyBlbnRyeTsgYSBtdWx0aWxpbmUga2V5IG1heSBub3QgYmUgYW4gaW1wbGljaXQga2V5Iik7ZWxzZSByZXR1cm4gZS50YWc9cyxlLmFuY2hvcj1vLCEwO2Vsc2UgYnJlYWs7aWYoKGUubGluZT09PXV8fGUubGluZUluZGVudD5uKSYmKGxlKGUsbixPZSwhMCxpKSYmKHY/Zz1lLnJlc3VsdDpkPWUucmVzdWx0KSx2fHwob2UoZSxsLHAsZixnLGQsdSxhKSxmPWc9ZD1udWxsKSxJKGUsITAsLTEpLHg9ZS5pbnB1dC5jaGFyQ29kZUF0KGUucG9zaXRpb24pKSxlLmxpbmVJbmRlbnQ+biYmeCE9PTApeShlLCJiYWQgaW5kZW50YXRpb24gb2YgYSBtYXBwaW5nIGVudHJ5Iik7ZWxzZSBpZihlLmxpbmVJbmRlbnQ8bilicmVha31yZXR1cm4gdiYmb2UoZSxsLHAsZixnLG51bGwpLEMmJihlLnRhZz1zLGUuYW5jaG9yPW8sZS5raW5kPSJtYXBwaW5nIixlLnJlc3VsdD1sKSxDfWZ1bmN0aW9uIEl1KGUpe3ZhciBuLHQ9ITEscj0hMSxpLHUsYTtpZihhPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKSxhIT09MzMpcmV0dXJuITE7aWYoZS50YWchPT1udWxsJiZ5KGUsImR1cGxpY2F0aW9uIG9mIGEgdGFnIHByb3BlcnR5IiksYT1lLmlucHV0LmNoYXJDb2RlQXQoKytlLnBvc2l0aW9uKSxhPT09NjA/KHQ9ITAsYT1lLmlucHV0LmNoYXJDb2RlQXQoKytlLnBvc2l0aW9uKSk6YT09PTMzPyhyPSEwLGk9IiEhIixhPWUuaW5wdXQuY2hhckNvZGVBdCgrK2UucG9zaXRpb24pKTppPSIhIixuPWUucG9zaXRpb24sdCl7ZG8gYT1lLmlucHV0LmNoYXJDb2RlQXQoKytlLnBvc2l0aW9uKTt3aGlsZShhIT09MCYmYSE9PTYyKTtlLnBvc2l0aW9uPGUubGVuZ3RoPyh1PWUuaW5wdXQuc2xpY2UobixlLnBvc2l0aW9uKSxhPWUuaW5wdXQuY2hhckNvZGVBdCgrK2UucG9zaXRpb24pKTp5KGUsInVuZXhwZWN0ZWQgZW5kIG9mIHRoZSBzdHJlYW0gd2l0aGluIGEgdmVyYmF0aW0gdGFnIil9ZWxzZXtmb3IoO2EhPT0wJiYhaihhKTspYT09PTMzJiYocj95KGUsInRhZyBzdWZmaXggY2Fubm90IGNvbnRhaW4gZXhjbGFtYXRpb24gbWFya3MiKTooaT1lLmlucHV0LnNsaWNlKG4tMSxlLnBvc2l0aW9uKzEpLEF0LnRlc3QoaSl8fHkoZSwibmFtZWQgdGFnIGhhbmRsZSBjYW5ub3QgY29udGFpbiBzdWNoIGNoYXJhY3RlcnMiKSxyPSEwLG49ZS5wb3NpdGlvbisxKSksYT1lLmlucHV0LmNoYXJDb2RlQXQoKytlLnBvc2l0aW9uKTt1PWUuaW5wdXQuc2xpY2UobixlLnBvc2l0aW9uKSxidS50ZXN0KHUpJiZ5KGUsInRhZyBzdWZmaXggY2Fubm90IGNvbnRhaW4gZmxvdyBpbmRpY2F0b3IgY2hhcmFjdGVycyIpfXJldHVybiB1JiYheHQudGVzdCh1KSYmeShlLCJ0YWcgbmFtZSBjYW5ub3QgY29udGFpbiBzdWNoIGNoYXJhY3RlcnM6ICIrdSksdD9lLnRhZz11OlYuY2FsbChlLnRhZ01hcCxpKT9lLnRhZz1lLnRhZ01hcFtpXSt1Omk9PT0iISI/ZS50YWc9IiEiK3U6aT09PSIhISI/ZS50YWc9InRhZzp5YW1sLm9yZywyMDAyOiIrdTp5KGUsJ3VuZGVjbGFyZWQgdGFnIGhhbmRsZSAiJytpKyciJyksITB9ZnVuY3Rpb24gUnUoZSl7dmFyIG4sdDtpZih0PWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKSx0IT09MzgpcmV0dXJuITE7Zm9yKGUuYW5jaG9yIT09bnVsbCYmeShlLCJkdXBsaWNhdGlvbiBvZiBhbiBhbmNob3IgcHJvcGVydHkiKSx0PWUuaW5wdXQuY2hhckNvZGVBdCgrK2UucG9zaXRpb24pLG49ZS5wb3NpdGlvbjt0IT09MCYmIWoodCkmJiFzZSh0KTspdD1lLmlucHV0LmNoYXJDb2RlQXQoKytlLnBvc2l0aW9uKTtyZXR1cm4gZS5wb3NpdGlvbj09PW4mJnkoZSwibmFtZSBvZiBhbiBhbmNob3Igbm9kZSBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGNoYXJhY3RlciIpLGUuYW5jaG9yPWUuaW5wdXQuc2xpY2UobixlLnBvc2l0aW9uKSwhMH1mdW5jdGlvbiBPdShlKXt2YXIgbix0LHI7aWYocj1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbiksciE9PTQyKXJldHVybiExO2ZvcihyPWUuaW5wdXQuY2hhckNvZGVBdCgrK2UucG9zaXRpb24pLG49ZS5wb3NpdGlvbjtyIT09MCYmIWoocikmJiFzZShyKTspcj1lLmlucHV0LmNoYXJDb2RlQXQoKytlLnBvc2l0aW9uKTtyZXR1cm4gZS5wb3NpdGlvbj09PW4mJnkoZSwibmFtZSBvZiBhbiBhbGlhcyBub2RlIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgY2hhcmFjdGVyIiksdD1lLmlucHV0LnNsaWNlKG4sZS5wb3NpdGlvbiksVi5jYWxsKGUuYW5jaG9yTWFwLHQpfHx5KGUsJ3VuaWRlbnRpZmllZCBhbGlhcyAiJyt0KyciJyksZS5yZXN1bHQ9ZS5hbmNob3JNYXBbdF0sSShlLCEwLC0xKSwhMH1mdW5jdGlvbiBsZShlLG4sdCxyLGkpe3ZhciB1LGEscyxvPTEsbD0hMSxwPSExLGYsZyxkLHYsQztpZihlLmxpc3RlbmVyIT09bnVsbCYmZS5saXN0ZW5lcigib3BlbiIsZSksZS50YWc9bnVsbCxlLmFuY2hvcj1udWxsLGUua2luZD1udWxsLGUucmVzdWx0PW51bGwsdT1hPXM9T2U9PT10fHxEdD09PXQsciYmSShlLCEwLC0xKSYmKGw9ITAsZS5saW5lSW5kZW50Pm4/bz0xOmUubGluZUluZGVudD09PW4/bz0wOmUubGluZUluZGVudDxuJiYobz0tMSkpLG89PT0xKWZvcig7SXUoZSl8fFJ1KGUpOylJKGUsITAsLTEpPyhsPSEwLHM9dSxlLmxpbmVJbmRlbnQ+bj9vPTE6ZS5saW5lSW5kZW50PT09bj9vPTA6ZS5saW5lSW5kZW50PG4mJihvPS0xKSk6cz0hMTtpZihzJiYocz1sfHxpKSwobz09PTF8fE9lPT09dCkmJihSZT09PXR8fEZ0PT09dD92PW46dj1uKzEsQz1lLnBvc2l0aW9uLWUubGluZVN0YXJ0LG89PT0xP3MmJihUbihlLEMpfHwkdShlLEMsdikpfHxUdShlLHYpP3A9ITA6KGEmJkJ1KGUsdil8fF91KGUsdil8fFN1KGUsdik/cD0hMDpPdShlKT8ocD0hMCwoZS50YWchPT1udWxsfHxlLmFuY2hvciE9PW51bGwpJiZ5KGUsImFsaWFzIG5vZGUgc2hvdWxkIG5vdCBoYXZlIGFueSBwcm9wZXJ0aWVzIikpOnZ1KGUsdixSZT09PXQpJiYocD0hMCxlLnRhZz09PW51bGwmJihlLnRhZz0iPyIpKSxlLmFuY2hvciE9PW51bGwmJihlLmFuY2hvck1hcFtlLmFuY2hvcl09ZS5yZXN1bHQpKTpvPT09MCYmKHA9cyYmVG4oZSxDKSkpLGUudGFnIT09bnVsbCYmZS50YWchPT0iISIpaWYoZS50YWc9PT0iPyIpe2ZvcihlLnJlc3VsdCE9PW51bGwmJmUua2luZCE9PSJzY2FsYXIiJiZ5KGUsJ3VuYWNjZXB0YWJsZSBub2RlIGtpbmQgZm9yICE8Pz4gdGFnOyBpdCBzaG91bGQgYmUgInNjYWxhciIsIG5vdCAiJytlLmtpbmQrJyInKSxmPTAsZz1lLmltcGxpY2l0VHlwZXMubGVuZ3RoO2Y8ZztmKz0xKWlmKGQ9ZS5pbXBsaWNpdFR5cGVzW2ZdLGQucmVzb2x2ZShlLnJlc3VsdCkpe2UucmVzdWx0PWQuY29uc3RydWN0KGUucmVzdWx0KSxlLnRhZz1kLnRhZyxlLmFuY2hvciE9PW51bGwmJihlLmFuY2hvck1hcFtlLmFuY2hvcl09ZS5yZXN1bHQpO2JyZWFrfX1lbHNlIFYuY2FsbChlLnR5cGVNYXBbZS5raW5kfHwiZmFsbGJhY2siXSxlLnRhZyk/KGQ9ZS50eXBlTWFwW2Uua2luZHx8ImZhbGxiYWNrIl1bZS50YWddLGUucmVzdWx0IT09bnVsbCYmZC5raW5kIT09ZS5raW5kJiZ5KGUsInVuYWNjZXB0YWJsZSBub2RlIGtpbmQgZm9yICE8IitlLnRhZysnPiB0YWc7IGl0IHNob3VsZCBiZSAiJytkLmtpbmQrJyIsIG5vdCAiJytlLmtpbmQrJyInKSxkLnJlc29sdmUoZS5yZXN1bHQpPyhlLnJlc3VsdD1kLmNvbnN0cnVjdChlLnJlc3VsdCksZS5hbmNob3IhPT1udWxsJiYoZS5hbmNob3JNYXBbZS5hbmNob3JdPWUucmVzdWx0KSk6eShlLCJjYW5ub3QgcmVzb2x2ZSBhIG5vZGUgd2l0aCAhPCIrZS50YWcrIj4gZXhwbGljaXQgdGFnIikpOnkoZSwidW5rbm93biB0YWcgITwiK2UudGFnKyI+Iik7cmV0dXJuIGUubGlzdGVuZXIhPT1udWxsJiZlLmxpc3RlbmVyKCJjbG9zZSIsZSksZS50YWchPT1udWxsfHxlLmFuY2hvciE9PW51bGx8fHB9ZnVuY3Rpb24gTHUoZSl7dmFyIG49ZS5wb3NpdGlvbix0LHIsaSx1PSExLGE7Zm9yKGUudmVyc2lvbj1udWxsLGUuY2hlY2tMaW5lQnJlYWtzPWUubGVnYWN5LGUudGFnTWFwPXt9LGUuYW5jaG9yTWFwPXt9OyhhPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKSkhPT0wJiYoSShlLCEwLC0xKSxhPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKSwhKGUubGluZUluZGVudD4wfHxhIT09MzcpKTspe2Zvcih1PSEwLGE9ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbiksdD1lLnBvc2l0aW9uO2EhPT0wJiYhaihhKTspYT1lLmlucHV0LmNoYXJDb2RlQXQoKytlLnBvc2l0aW9uKTtmb3Iocj1lLmlucHV0LnNsaWNlKHQsZS5wb3NpdGlvbiksaT1bXSxyLmxlbmd0aDwxJiZ5KGUsImRpcmVjdGl2ZSBuYW1lIG11c3Qgbm90IGJlIGxlc3MgdGhhbiBvbmUgY2hhcmFjdGVyIGluIGxlbmd0aCIpO2EhPT0wOyl7Zm9yKDtuZShhKTspYT1lLmlucHV0LmNoYXJDb2RlQXQoKytlLnBvc2l0aW9uKTtpZihhPT09MzUpe2RvIGE9ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbik7d2hpbGUoYSE9PTAmJiFaKGEpKTticmVha31pZihaKGEpKWJyZWFrO2Zvcih0PWUucG9zaXRpb247YSE9PTAmJiFqKGEpOylhPWUuaW5wdXQuY2hhckNvZGVBdCgrK2UucG9zaXRpb24pO2kucHVzaChlLmlucHV0LnNsaWNlKHQsZS5wb3NpdGlvbikpfWEhPT0wJiZzbihlKSxWLmNhbGwoX24scik/X25bcl0oZSxyLGkpOkxlKGUsJ3Vua25vd24gZG9jdW1lbnQgZGlyZWN0aXZlICInK3IrJyInKX1pZihJKGUsITAsLTEpLGUubGluZUluZGVudD09PTAmJmUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKT09PTQ1JiZlLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbisxKT09PTQ1JiZlLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbisyKT09PTQ1PyhlLnBvc2l0aW9uKz0zLEkoZSwhMCwtMSkpOnUmJnkoZSwiZGlyZWN0aXZlcyBlbmQgbWFyayBpcyBleHBlY3RlZCIpLGxlKGUsZS5saW5lSW5kZW50LTEsT2UsITEsITApLEkoZSwhMCwtMSksZS5jaGVja0xpbmVCcmVha3MmJnh1LnRlc3QoZS5pbnB1dC5zbGljZShuLGUucG9zaXRpb24pKSYmTGUoZSwibm9uLUFTQ0lJIGxpbmUgYnJlYWtzIGFyZSBpbnRlcnByZXRlZCBhcyBjb250ZW50IiksZS5kb2N1bWVudHMucHVzaChlLnJlc3VsdCksZS5wb3NpdGlvbj09PWUubGluZVN0YXJ0JiZqZShlKSl7ZS5pbnB1dC5jaGFyQ29kZUF0KGUucG9zaXRpb24pPT09NDYmJihlLnBvc2l0aW9uKz0zLEkoZSwhMCwtMSkpO3JldHVybn1pZihlLnBvc2l0aW9uPGUubGVuZ3RoLTEpeShlLCJlbmQgb2YgdGhlIHN0cmVhbSBvciBhIGRvY3VtZW50IHNlcGFyYXRvciBpcyBleHBlY3RlZCIpO2Vsc2UgcmV0dXJufWZ1bmN0aW9uIHl0KGUsbil7ZT1TdHJpbmcoZSksbj1ufHx7fSxlLmxlbmd0aCE9PTAmJihlLmNoYXJDb2RlQXQoZS5sZW5ndGgtMSkhPT0xMCYmZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpIT09MTMmJihlKz1gCmApLGUuY2hhckNvZGVBdCgwKT09PTY1Mjc5JiYoZT1lLnNsaWNlKDEpKSk7dmFyIHQ9bmV3IHd1KGUsbikscj1lLmluZGV4T2YoIlwwIik7Zm9yKHIhPT0tMSYmKHQucG9zaXRpb249cix5KHQsIm51bGwgYnl0ZSBpcyBub3QgYWxsb3dlZCBpbiBpbnB1dCIpKSx0LmlucHV0Kz0iXDAiO3QuaW5wdXQuY2hhckNvZGVBdCh0LnBvc2l0aW9uKT09PTMyOyl0LmxpbmVJbmRlbnQrPTEsdC5wb3NpdGlvbis9MTtmb3IoO3QucG9zaXRpb248dC5sZW5ndGgtMTspTHUodCk7cmV0dXJuIHQuZG9jdW1lbnRzfWZ1bmN0aW9uIEN0KGUsbix0KXtuIT09bnVsbCYmdHlwZW9mIG49PSJvYmplY3QiJiZ0eXBlb2YgdD4idSImJih0PW4sbj1udWxsKTt2YXIgcj15dChlLHQpO2lmKHR5cGVvZiBuIT0iZnVuY3Rpb24iKXJldHVybiByO2Zvcih2YXIgaT0wLHU9ci5sZW5ndGg7aTx1O2krPTEpbihyW2ldKX1mdW5jdGlvbiB3dChlLG4pe3ZhciB0PXl0KGUsbik7aWYodC5sZW5ndGghPT0wKXtpZih0Lmxlbmd0aD09PTEpcmV0dXJuIHRbMF07dGhyb3cgbmV3IGd0KCJleHBlY3RlZCBhIHNpbmdsZSBkb2N1bWVudCBpbiB0aGUgc3RyZWFtLCBidXQgZm91bmQgbW9yZSIpfX1mdW5jdGlvbiBQdShlLG4sdCl7cmV0dXJuIHR5cGVvZiBuPT0ib2JqZWN0IiYmbiE9PW51bGwmJnR5cGVvZiB0PiJ1IiYmKHQ9bixuPW51bGwpLEN0KGUsbixLLmV4dGVuZCh7c2NoZW1hOm10fSx0KSl9ZnVuY3Rpb24gTnUoZSxuKXtyZXR1cm4gd3QoZSxLLmV4dGVuZCh7c2NoZW1hOm10fSxuKSl9bWUubG9hZEFsbD1DdDttZS5sb2FkPXd0O21lLnNhZmVMb2FkQWxsPVB1O21lLnNhZmVMb2FkPU51O3ZhciBsbj17fSxBZT1ILHhlPUZlLE11PXplLHp1PURlLHZ0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsX3Q9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxqdT05LGdlPTEwLEh1PTEzLFV1PTMyLFl1PTMzLHF1PTM0LFN0PTM1LEd1PTM3LFp1PTM4LEt1PTM5LFd1PTQyLFR0PTQ0LFh1PTQ1LEJ0PTU4LFF1PTYxLFZ1PTYyLEp1PTYzLGVhPTY0LCR0PTkxLEl0PTkzLG5hPTk2LFJ0PTEyMyx0YT0xMjQsT3Q9MTI1LE09e307TVswXT0iXFwwIjtNWzddPSJcXGEiO01bOF09IlxcYiI7TVs5XT0iXFx0IjtNWzEwXT0iXFxuIjtNWzExXT0iXFx2IjtNWzEyXT0iXFxmIjtNWzEzXT0iXFxyIjtNWzI3XT0iXFxlIjtNWzM0XT0nXFwiJztNWzkyXT0iXFxcXCI7TVsxMzNdPSJcXE4iO01bMTYwXT0iXFxfIjtNWzgyMzJdPSJcXEwiO01bODIzM109IlxcUCI7dmFyIHJhPVsieSIsIlkiLCJ5ZXMiLCJZZXMiLCJZRVMiLCJvbiIsIk9uIiwiT04iLCJuIiwiTiIsIm5vIiwiTm8iLCJOTyIsIm9mZiIsIk9mZiIsIk9GRiJdO2Z1bmN0aW9uIGlhKGUsbil7dmFyIHQscixpLHUsYSxzLG87aWYobj09PW51bGwpcmV0dXJue307Zm9yKHQ9e30scj1PYmplY3Qua2V5cyhuKSxpPTAsdT1yLmxlbmd0aDtpPHU7aSs9MSlhPXJbaV0scz1TdHJpbmcoblthXSksYS5zbGljZSgwLDIpPT09IiEhIiYmKGE9InRhZzp5YW1sLm9yZywyMDAyOiIrYS5zbGljZSgyKSksbz1lLmNvbXBpbGVkVHlwZU1hcC5mYWxsYmFja1thXSxvJiZfdC5jYWxsKG8uc3R5bGVBbGlhc2VzLHMpJiYocz1vLnN0eWxlQWxpYXNlc1tzXSksdFthXT1zO3JldHVybiB0fWZ1bmN0aW9uIEJuKGUpe3ZhciBuLHQscjtpZihuPWUudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCksZTw9MjU1KXQ9IngiLHI9MjtlbHNlIGlmKGU8PTY1NTM1KXQ9InUiLHI9NDtlbHNlIGlmKGU8PTQyOTQ5NjcyOTUpdD0iVSIscj04O2Vsc2UgdGhyb3cgbmV3IHhlKCJjb2RlIHBvaW50IHdpdGhpbiBhIHN0cmluZyBtYXkgbm90IGJlIGdyZWF0ZXIgdGhhbiAweEZGRkZGRkZGIik7cmV0dXJuIlxcIit0K0FlLnJlcGVhdCgiMCIsci1uLmxlbmd0aCkrbn1mdW5jdGlvbiB1YShlKXt0aGlzLnNjaGVtYT1lLnNjaGVtYXx8TXUsdGhpcy5pbmRlbnQ9TWF0aC5tYXgoMSxlLmluZGVudHx8MiksdGhpcy5ub0FycmF5SW5kZW50PWUubm9BcnJheUluZGVudHx8ITEsdGhpcy5za2lwSW52YWxpZD1lLnNraXBJbnZhbGlkfHwhMSx0aGlzLmZsb3dMZXZlbD1BZS5pc05vdGhpbmcoZS5mbG93TGV2ZWwpPy0xOmUuZmxvd0xldmVsLHRoaXMuc3R5bGVNYXA9aWEodGhpcy5zY2hlbWEsZS5zdHlsZXN8fG51bGwpLHRoaXMuc29ydEtleXM9ZS5zb3J0S2V5c3x8ITEsdGhpcy5saW5lV2lkdGg9ZS5saW5lV2lkdGh8fDgwLHRoaXMubm9SZWZzPWUubm9SZWZzfHwhMSx0aGlzLm5vQ29tcGF0TW9kZT1lLm5vQ29tcGF0TW9kZXx8ITEsdGhpcy5jb25kZW5zZUZsb3c9ZS5jb25kZW5zZUZsb3d8fCExLHRoaXMuaW1wbGljaXRUeXBlcz10aGlzLnNjaGVtYS5jb21waWxlZEltcGxpY2l0LHRoaXMuZXhwbGljaXRUeXBlcz10aGlzLnNjaGVtYS5jb21waWxlZEV4cGxpY2l0LHRoaXMudGFnPW51bGwsdGhpcy5yZXN1bHQ9IiIsdGhpcy5kdXBsaWNhdGVzPVtdLHRoaXMudXNlZER1cGxpY2F0ZXM9bnVsbH1mdW5jdGlvbiAkbihlLG4pe2Zvcih2YXIgdD1BZS5yZXBlYXQoIiAiLG4pLHI9MCxpPS0xLHU9IiIsYSxzPWUubGVuZ3RoO3I8czspaT1lLmluZGV4T2YoYApgLHIpLGk9PT0tMT8oYT1lLnNsaWNlKHIpLHI9cyk6KGE9ZS5zbGljZShyLGkrMSkscj1pKzEpLGEubGVuZ3RoJiZhIT09YApgJiYodSs9dCksdSs9YTtyZXR1cm4gdX1mdW5jdGlvbiBXZShlLG4pe3JldHVybmAKYCtBZS5yZXBlYXQoIiAiLGUuaW5kZW50Km4pfWZ1bmN0aW9uIGFhKGUsbil7dmFyIHQscixpO2Zvcih0PTAscj1lLmltcGxpY2l0VHlwZXMubGVuZ3RoO3Q8cjt0Kz0xKWlmKGk9ZS5pbXBsaWNpdFR5cGVzW3RdLGkucmVzb2x2ZShuKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBjbihlKXtyZXR1cm4gZT09PVV1fHxlPT09anV9ZnVuY3Rpb24gY2UoZSl7cmV0dXJuIDMyPD1lJiZlPD0xMjZ8fDE2MTw9ZSYmZTw9NTUyOTUmJmUhPT04MjMyJiZlIT09ODIzM3x8NTczNDQ8PWUmJmU8PTY1NTMzJiZlIT09NjUyNzl8fDY1NTM2PD1lJiZlPD0xMTE0MTExfWZ1bmN0aW9uIHNhKGUpe3JldHVybiBjZShlKSYmIWNuKGUpJiZlIT09NjUyNzkmJmUhPT1IdSYmZSE9PWdlfWZ1bmN0aW9uIEluKGUsbil7cmV0dXJuIGNlKGUpJiZlIT09NjUyNzkmJmUhPT1UdCYmZSE9PSR0JiZlIT09SXQmJmUhPT1SdCYmZSE9PU90JiZlIT09QnQmJihlIT09U3R8fG4mJnNhKG4pKX1mdW5jdGlvbiBvYShlKXtyZXR1cm4gY2UoZSkmJmUhPT02NTI3OSYmIWNuKGUpJiZlIT09WHUmJmUhPT1KdSYmZSE9PUJ0JiZlIT09VHQmJmUhPT0kdCYmZSE9PUl0JiZlIT09UnQmJmUhPT1PdCYmZSE9PVN0JiZlIT09WnUmJmUhPT1XdSYmZSE9PVl1JiZlIT09dGEmJmUhPT1RdSYmZSE9PVZ1JiZlIT09S3UmJmUhPT1xdSYmZSE9PUd1JiZlIT09ZWEmJmUhPT1uYX1mdW5jdGlvbiBMdChlKXt2YXIgbj0vXlxuKiAvO3JldHVybiBuLnRlc3QoZSl9dmFyIFB0PTEsTnQ9MixNdD0zLHp0PTQsX2U9NTtmdW5jdGlvbiBsYShlLG4sdCxyLGkpe3ZhciB1LGEscyxvPSExLGw9ITEscD1yIT09LTEsZj0tMSxnPW9hKGUuY2hhckNvZGVBdCgwKSkmJiFjbihlLmNoYXJDb2RlQXQoZS5sZW5ndGgtMSkpO2lmKG4pZm9yKHU9MDt1PGUubGVuZ3RoO3UrKyl7aWYoYT1lLmNoYXJDb2RlQXQodSksIWNlKGEpKXJldHVybiBfZTtzPXU+MD9lLmNoYXJDb2RlQXQodS0xKTpudWxsLGc9ZyYmSW4oYSxzKX1lbHNle2Zvcih1PTA7dTxlLmxlbmd0aDt1Kyspe2lmKGE9ZS5jaGFyQ29kZUF0KHUpLGE9PT1nZSlvPSEwLHAmJihsPWx8fHUtZi0xPnImJmVbZisxXSE9PSIgIixmPXUpO2Vsc2UgaWYoIWNlKGEpKXJldHVybiBfZTtzPXU+MD9lLmNoYXJDb2RlQXQodS0xKTpudWxsLGc9ZyYmSW4oYSxzKX1sPWx8fHAmJnUtZi0xPnImJmVbZisxXSE9PSIgIn1yZXR1cm4hbyYmIWw/ZyYmIWkoZSk/UHQ6TnQ6dD45JiZMdChlKT9fZTpsP3p0Ok10fWZ1bmN0aW9uIGNhKGUsbix0LHIpe2UuZHVtcD1mdW5jdGlvbigpe2lmKG4ubGVuZ3RoPT09MClyZXR1cm4iJyciO2lmKCFlLm5vQ29tcGF0TW9kZSYmcmEuaW5kZXhPZihuKSE9PS0xKXJldHVybiInIituKyInIjt2YXIgaT1lLmluZGVudCpNYXRoLm1heCgxLHQpLHU9ZS5saW5lV2lkdGg9PT0tMT8tMTpNYXRoLm1heChNYXRoLm1pbihlLmxpbmVXaWR0aCw0MCksZS5saW5lV2lkdGgtaSksYT1yfHxlLmZsb3dMZXZlbD4tMSYmdD49ZS5mbG93TGV2ZWw7ZnVuY3Rpb24gcyhvKXtyZXR1cm4gYWEoZSxvKX1zd2l0Y2gobGEobixhLGUuaW5kZW50LHUscykpe2Nhc2UgUHQ6cmV0dXJuIG47Y2FzZSBOdDpyZXR1cm4iJyIrbi5yZXBsYWNlKC8nL2csIicnIikrIiciO2Nhc2UgTXQ6cmV0dXJuInwiK1JuKG4sZS5pbmRlbnQpK09uKCRuKG4saSkpO2Nhc2UgenQ6cmV0dXJuIj4iK1JuKG4sZS5pbmRlbnQpK09uKCRuKHBhKG4sdSksaSkpO2Nhc2UgX2U6cmV0dXJuJyInK2ZhKG4pKyciJztkZWZhdWx0OnRocm93IG5ldyB4ZSgiaW1wb3NzaWJsZSBlcnJvcjogaW52YWxpZCBzY2FsYXIgc3R5bGUiKX19KCl9ZnVuY3Rpb24gUm4oZSxuKXt2YXIgdD1MdChlKT9TdHJpbmcobik6IiIscj1lW2UubGVuZ3RoLTFdPT09YApgLGk9ciYmKGVbZS5sZW5ndGgtMl09PT1gCmB8fGU9PT1gCmApLHU9aT8iKyI6cj8iIjoiLSI7cmV0dXJuIHQrdStgCmB9ZnVuY3Rpb24gT24oZSl7cmV0dXJuIGVbZS5sZW5ndGgtMV09PT1gCmA/ZS5zbGljZSgwLC0xKTplfWZ1bmN0aW9uIHBhKGUsbil7Zm9yKHZhciB0PS8oXG4rKShbXlxuXSopL2cscj1mdW5jdGlvbigpe3ZhciBsPWUuaW5kZXhPZihgCmApO3JldHVybiBsPWwhPT0tMT9sOmUubGVuZ3RoLHQubGFzdEluZGV4PWwsTG4oZS5zbGljZSgwLGwpLG4pfSgpLGk9ZVswXT09PWAKYHx8ZVswXT09PSIgIix1LGE7YT10LmV4ZWMoZSk7KXt2YXIgcz1hWzFdLG89YVsyXTt1PW9bMF09PT0iICIscis9cysoIWkmJiF1JiZvIT09IiI/YApgOiIiKStMbihvLG4pLGk9dX1yZXR1cm4gcn1mdW5jdGlvbiBMbihlLG4pe2lmKGU9PT0iInx8ZVswXT09PSIgIilyZXR1cm4gZTtmb3IodmFyIHQ9LyBbXiBdL2cscixpPTAsdSxhPTAscz0wLG89IiI7cj10LmV4ZWMoZSk7KXM9ci5pbmRleCxzLWk+biYmKHU9YT5pP2E6cyxvKz1gCmArZS5zbGljZShpLHUpLGk9dSsxKSxhPXM7cmV0dXJuIG8rPWAKYCxlLmxlbmd0aC1pPm4mJmE+aT9vKz1lLnNsaWNlKGksYSkrYApgK2Uuc2xpY2UoYSsxKTpvKz1lLnNsaWNlKGkpLG8uc2xpY2UoMSl9ZnVuY3Rpb24gZmEoZSl7Zm9yKHZhciBuPSIiLHQscixpLHU9MDt1PGUubGVuZ3RoO3UrKyl7aWYodD1lLmNoYXJDb2RlQXQodSksdD49NTUyOTYmJnQ8PTU2MzE5JiYocj1lLmNoYXJDb2RlQXQodSsxKSxyPj01NjMyMCYmcjw9NTczNDMpKXtuKz1CbigodC01NTI5NikqMTAyNCtyLTU2MzIwKzY1NTM2KSx1Kys7Y29udGludWV9aT1NW3RdLG4rPSFpJiZjZSh0KT9lW3VdOml8fEJuKHQpfXJldHVybiBufWZ1bmN0aW9uIGhhKGUsbix0KXt2YXIgcj0iIixpPWUudGFnLHUsYTtmb3IodT0wLGE9dC5sZW5ndGg7dTxhO3UrPTEpdGUoZSxuLHRbdV0sITEsITEpJiYodSE9PTAmJihyKz0iLCIrKGUuY29uZGVuc2VGbG93PyIiOiIgIikpLHIrPWUuZHVtcCk7ZS50YWc9aSxlLmR1bXA9IlsiK3IrIl0ifWZ1bmN0aW9uIGRhKGUsbix0LHIpe3ZhciBpPSIiLHU9ZS50YWcsYSxzO2ZvcihhPTAscz10Lmxlbmd0aDthPHM7YSs9MSl0ZShlLG4rMSx0W2FdLCEwLCEwKSYmKCghcnx8YSE9PTApJiYoaSs9V2UoZSxuKSksZS5kdW1wJiZnZT09PWUuZHVtcC5jaGFyQ29kZUF0KDApP2krPSItIjppKz0iLSAiLGkrPWUuZHVtcCk7ZS50YWc9dSxlLmR1bXA9aXx8IltdIn1mdW5jdGlvbiBnYShlLG4sdCl7dmFyIHI9IiIsaT1lLnRhZyx1PU9iamVjdC5rZXlzKHQpLGEscyxvLGwscDtmb3IoYT0wLHM9dS5sZW5ndGg7YTxzO2ErPTEpcD0iIixhIT09MCYmKHArPSIsICIpLGUuY29uZGVuc2VGbG93JiYocCs9JyInKSxvPXVbYV0sbD10W29dLHRlKGUsbixvLCExLCExKSYmKGUuZHVtcC5sZW5ndGg+MTAyNCYmKHArPSI/ICIpLHArPWUuZHVtcCsoZS5jb25kZW5zZUZsb3c/JyInOiIiKSsiOiIrKGUuY29uZGVuc2VGbG93PyIiOiIgIiksdGUoZSxuLGwsITEsITEpJiYocCs9ZS5kdW1wLHIrPXApKTtlLnRhZz1pLGUuZHVtcD0ieyIrcisifSJ9ZnVuY3Rpb24gbWEoZSxuLHQscil7dmFyIGk9IiIsdT1lLnRhZyxhPU9iamVjdC5rZXlzKHQpLHMsbyxsLHAsZixnO2lmKGUuc29ydEtleXM9PT0hMClhLnNvcnQoKTtlbHNlIGlmKHR5cGVvZiBlLnNvcnRLZXlzPT0iZnVuY3Rpb24iKWEuc29ydChlLnNvcnRLZXlzKTtlbHNlIGlmKGUuc29ydEtleXMpdGhyb3cgbmV3IHhlKCJzb3J0S2V5cyBtdXN0IGJlIGEgYm9vbGVhbiBvciBhIGZ1bmN0aW9uIik7Zm9yKHM9MCxvPWEubGVuZ3RoO3M8bztzKz0xKWc9IiIsKCFyfHxzIT09MCkmJihnKz1XZShlLG4pKSxsPWFbc10scD10W2xdLHRlKGUsbisxLGwsITAsITAsITApJiYoZj1lLnRhZyE9PW51bGwmJmUudGFnIT09Ij8ifHxlLmR1bXAmJmUuZHVtcC5sZW5ndGg+MTAyNCxmJiYoZS5kdW1wJiZnZT09PWUuZHVtcC5jaGFyQ29kZUF0KDApP2crPSI/IjpnKz0iPyAiKSxnKz1lLmR1bXAsZiYmKGcrPVdlKGUsbikpLHRlKGUsbisxLHAsITAsZikmJihlLmR1bXAmJmdlPT09ZS5kdW1wLmNoYXJDb2RlQXQoMCk/Zys9IjoiOmcrPSI6ICIsZys9ZS5kdW1wLGkrPWcpKTtlLnRhZz11LGUuZHVtcD1pfHwie30ifWZ1bmN0aW9uIFBuKGUsbix0KXt2YXIgcixpLHUsYSxzLG87Zm9yKGk9dD9lLmV4cGxpY2l0VHlwZXM6ZS5pbXBsaWNpdFR5cGVzLHU9MCxhPWkubGVuZ3RoO3U8YTt1Kz0xKWlmKHM9aVt1XSwocy5pbnN0YW5jZU9mfHxzLnByZWRpY2F0ZSkmJighcy5pbnN0YW5jZU9mfHx0eXBlb2Ygbj09Im9iamVjdCImJm4gaW5zdGFuY2VvZiBzLmluc3RhbmNlT2YpJiYoIXMucHJlZGljYXRlfHxzLnByZWRpY2F0ZShuKSkpe2lmKGUudGFnPXQ/cy50YWc6Ij8iLHMucmVwcmVzZW50KXtpZihvPWUuc3R5bGVNYXBbcy50YWddfHxzLmRlZmF1bHRTdHlsZSx2dC5jYWxsKHMucmVwcmVzZW50KT09PSJbb2JqZWN0IEZ1bmN0aW9uXSIpcj1zLnJlcHJlc2VudChuLG8pO2Vsc2UgaWYoX3QuY2FsbChzLnJlcHJlc2VudCxvKSlyPXMucmVwcmVzZW50W29dKG4sbyk7ZWxzZSB0aHJvdyBuZXcgeGUoIiE8IitzLnRhZysnPiB0YWcgcmVzb2x2ZXIgYWNjZXB0cyBub3QgIicrbysnIiBzdHlsZScpO2UuZHVtcD1yfXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIHRlKGUsbix0LHIsaSx1KXtlLnRhZz1udWxsLGUuZHVtcD10LFBuKGUsdCwhMSl8fFBuKGUsdCwhMCk7dmFyIGE9dnQuY2FsbChlLmR1bXApO3ImJihyPWUuZmxvd0xldmVsPDB8fGUuZmxvd0xldmVsPm4pO3ZhciBzPWE9PT0iW29iamVjdCBPYmplY3RdInx8YT09PSJbb2JqZWN0IEFycmF5XSIsbyxsO2lmKHMmJihvPWUuZHVwbGljYXRlcy5pbmRleE9mKHQpLGw9byE9PS0xKSwoZS50YWchPT1udWxsJiZlLnRhZyE9PSI/Inx8bHx8ZS5pbmRlbnQhPT0yJiZuPjApJiYoaT0hMSksbCYmZS51c2VkRHVwbGljYXRlc1tvXSllLmR1bXA9IipyZWZfIitvO2Vsc2V7aWYocyYmbCYmIWUudXNlZER1cGxpY2F0ZXNbb10mJihlLnVzZWREdXBsaWNhdGVzW29dPSEwKSxhPT09IltvYmplY3QgT2JqZWN0XSIpciYmT2JqZWN0LmtleXMoZS5kdW1wKS5sZW5ndGghPT0wPyhtYShlLG4sZS5kdW1wLGkpLGwmJihlLmR1bXA9IiZyZWZfIitvK2UuZHVtcCkpOihnYShlLG4sZS5kdW1wKSxsJiYoZS5kdW1wPSImcmVmXyIrbysiICIrZS5kdW1wKSk7ZWxzZSBpZihhPT09IltvYmplY3QgQXJyYXldIil7dmFyIHA9ZS5ub0FycmF5SW5kZW50JiZuPjA/bi0xOm47ciYmZS5kdW1wLmxlbmd0aCE9PTA/KGRhKGUscCxlLmR1bXAsaSksbCYmKGUuZHVtcD0iJnJlZl8iK28rZS5kdW1wKSk6KGhhKGUscCxlLmR1bXApLGwmJihlLmR1bXA9IiZyZWZfIitvKyIgIitlLmR1bXApKX1lbHNlIGlmKGE9PT0iW29iamVjdCBTdHJpbmddIillLnRhZyE9PSI/IiYmY2EoZSxlLmR1bXAsbix1KTtlbHNle2lmKGUuc2tpcEludmFsaWQpcmV0dXJuITE7dGhyb3cgbmV3IHhlKCJ1bmFjY2VwdGFibGUga2luZCBvZiBhbiBvYmplY3QgdG8gZHVtcCAiK2EpfWUudGFnIT09bnVsbCYmZS50YWchPT0iPyImJihlLmR1bXA9IiE8IitlLnRhZysiPiAiK2UuZHVtcCl9cmV0dXJuITB9ZnVuY3Rpb24gRmEoZSxuKXt2YXIgdD1bXSxyPVtdLGksdTtmb3IoWGUoZSx0LHIpLGk9MCx1PXIubGVuZ3RoO2k8dTtpKz0xKW4uZHVwbGljYXRlcy5wdXNoKHRbcltpXV0pO24udXNlZER1cGxpY2F0ZXM9bmV3IEFycmF5KHUpfWZ1bmN0aW9uIFhlKGUsbix0KXt2YXIgcixpLHU7aWYoZSE9PW51bGwmJnR5cGVvZiBlPT0ib2JqZWN0IilpZihpPW4uaW5kZXhPZihlKSxpIT09LTEpdC5pbmRleE9mKGkpPT09LTEmJnQucHVzaChpKTtlbHNlIGlmKG4ucHVzaChlKSxBcnJheS5pc0FycmF5KGUpKWZvcihpPTAsdT1lLmxlbmd0aDtpPHU7aSs9MSlYZShlW2ldLG4sdCk7ZWxzZSBmb3Iocj1PYmplY3Qua2V5cyhlKSxpPTAsdT1yLmxlbmd0aDtpPHU7aSs9MSlYZShlW3JbaV1dLG4sdCl9ZnVuY3Rpb24ganQoZSxuKXtuPW58fHt9O3ZhciB0PW5ldyB1YShuKTtyZXR1cm4gdC5ub1JlZnN8fEZhKGUsdCksdGUodCwwLGUsITAsITApP3QuZHVtcCtgCmA6IiJ9ZnVuY3Rpb24gRGEoZSxuKXtyZXR1cm4ganQoZSxBZS5leHRlbmQoe3NjaGVtYTp6dX0sbikpfWxuLmR1bXA9anQ7bG4uc2FmZUR1bXA9RGE7dmFyIEhlPW1lLEh0PWxuO2Z1bmN0aW9uIFVlKGUpe3JldHVybiBmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiRnVuY3Rpb24gIitlKyIgaXMgZGVwcmVjYXRlZCBhbmQgY2Fubm90IGJlIHVzZWQuIil9fSQuVHlwZT1POyQuU2NoZW1hPXBlOyQuRkFJTFNBRkVfU0NIRU1BPXVuOyQuSlNPTl9TQ0hFTUE9Y3Q7JC5DT1JFX1NDSEVNQT1wdDskLkRFRkFVTFRfU0FGRV9TQ0hFTUE9RGU7JC5ERUZBVUxUX0ZVTExfU0NIRU1BPXplOyQubG9hZD1IZS5sb2FkOyQubG9hZEFsbD1IZS5sb2FkQWxsOyQuc2FmZUxvYWQ9SGUuc2FmZUxvYWQ7JC5zYWZlTG9hZEFsbD1IZS5zYWZlTG9hZEFsbDskLmR1bXA9SHQuZHVtcDskLnNhZmVEdW1wPUh0LnNhZmVEdW1wOyQuWUFNTEV4Y2VwdGlvbj1GZTskLk1JTklNQUxfU0NIRU1BPXVuOyQuU0FGRV9TQ0hFTUE9RGU7JC5ERUZBVUxUX1NDSEVNQT16ZTskLnNjYW49VWUoInNjYW4iKTskLnBhcnNlPVVlKCJwYXJzZSIpOyQuY29tcG9zZT1VZSgiY29tcG9zZSIpOyQuYWRkQ29uc3RydWN0b3I9VWUoImFkZENvbnN0cnVjdG9yIik7dmFyIEFhPSQseGE9QWEsTm49eGEsYmE9IlxcdWZlZmY/IixFYT10eXBlb2YgcHJvY2VzczwidSI/cHJvY2Vzcy5wbGF0Zm9ybToiIixrYT0iXigiK2JhKyIoPSB5YW1sID18LS0tKSQoW1xcc1xcU10qPyleKD86XFwyfFxcLlxcLlxcLilcXHMqJCIrKEVhPT09IndpbjMyIj8iXFxyPyI6IiIpKyIoPzpcXG4pPykiLFV0PW5ldyBSZWdFeHAoa2EsIm0iKTt0bi5leHBvcnRzPXlhO3RuLmV4cG9ydHMudGVzdD12YTtmdW5jdGlvbiB5YShlLG4pe2U9ZXx8IiI7dmFyIHQ9e2FsbG93VW5zYWZlOiExfTtuPW4gaW5zdGFuY2VvZiBPYmplY3Q/ey4uLnQsLi4ubn06dCxuLmFsbG93VW5zYWZlPSEhbi5hbGxvd1Vuc2FmZTt2YXIgcj1lLnNwbGl0KC8oXHI/XG4pLyk7cmV0dXJuIHJbMF0mJi89IHlhbWwgPXwtLS0vLnRlc3QoclswXSk/d2EoZSxuLmFsbG93VW5zYWZlKTp7YXR0cmlidXRlczp7fSxib2R5OmUsYm9keUJlZ2luOjF9fWZ1bmN0aW9uIENhKGUsbil7Zm9yKHZhciB0PTEscj1uLmluZGV4T2YoYApgKSxpPWUuaW5kZXgrZVswXS5sZW5ndGg7ciE9PS0xOyl7aWYocj49aSlyZXR1cm4gdDt0Kysscj1uLmluZGV4T2YoYApgLHIrMSl9cmV0dXJuIHR9ZnVuY3Rpb24gd2EoZSxuKXt2YXIgdD1VdC5leGVjKGUpO2lmKCF0KXJldHVybnthdHRyaWJ1dGVzOnt9LGJvZHk6ZSxib2R5QmVnaW46MX07dmFyIHI9bj9Obi5sb2FkOk5uLnNhZmVMb2FkLGk9dFt0Lmxlbmd0aC0xXS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIiksdT1yKGkpfHx7fSxhPWUucmVwbGFjZSh0WzBdLCIiKSxzPUNhKHQsZSk7cmV0dXJue2F0dHJpYnV0ZXM6dSxib2R5OmEsYm9keUJlZ2luOnMsZnJvbnRtYXR0ZXI6aX19ZnVuY3Rpb24gdmEoZSl7cmV0dXJuIGU9ZXx8IiIsVXQudGVzdChlKX12YXIgX2E9dG4uZXhwb3J0cztjb25zdCBTYT15cihfYSksVGE9L1tcMC1ceDFGIS0sXC5cLzotQFxbLVxeYFx7LVx4QTlceEFCLVx4QjRceEI2LVx4QjlceEJCLVx4QkZceEQ3XHhGN1x1MDJDMi1cdTAyQzVcdTAyRDItXHUwMkRGXHUwMkU1LVx1MDJFQlx1MDJFRFx1MDJFRi1cdTAyRkZcdTAzNzVcdTAzNzhcdTAzNzlcdTAzN0VcdTAzODAtXHUwMzg1XHUwMzg3XHUwMzhCXHUwMzhEXHUwM0EyXHUwM0Y2XHUwNDgyXHUwNTMwXHUwNTU3XHUwNTU4XHUwNTVBLVx1MDU1Rlx1MDU4OS1cdTA1OTBcdTA1QkVcdTA1QzBcdTA1QzNcdTA1QzZcdTA1QzgtXHUwNUNGXHUwNUVCLVx1MDVFRVx1MDVGMy1cdTA2MEZcdTA2MUItXHUwNjFGXHUwNjZBLVx1MDY2RFx1MDZENFx1MDZERFx1MDZERVx1MDZFOVx1MDZGRFx1MDZGRVx1MDcwMC1cdTA3MEZcdTA3NEJcdTA3NENcdTA3QjItXHUwN0JGXHUwN0Y2LVx1MDdGOVx1MDdGQlx1MDdGQ1x1MDdGRVx1MDdGRlx1MDgyRS1cdTA4M0ZcdTA4NUMtXHUwODVGXHUwODZCLVx1MDg5Rlx1MDhCNVx1MDhDOC1cdTA4RDJcdTA4RTJcdTA5NjRcdTA5NjVcdTA5NzBcdTA5ODRcdTA5OERcdTA5OEVcdTA5OTFcdTA5OTJcdTA5QTlcdTA5QjFcdTA5QjMtXHUwOUI1XHUwOUJBXHUwOUJCXHUwOUM1XHUwOUM2XHUwOUM5XHUwOUNBXHUwOUNGLVx1MDlENlx1MDlEOC1cdTA5REJcdTA5REVcdTA5RTRcdTA5RTVcdTA5RjItXHUwOUZCXHUwOUZEXHUwOUZGXHUwQTAwXHUwQTA0XHUwQTBCLVx1MEEwRVx1MEExMVx1MEExMlx1MEEyOVx1MEEzMVx1MEEzNFx1MEEzN1x1MEEzQVx1MEEzQlx1MEEzRFx1MEE0My1cdTBBNDZcdTBBNDlcdTBBNEFcdTBBNEUtXHUwQTUwXHUwQTUyLVx1MEE1OFx1MEE1RFx1MEE1Ri1cdTBBNjVcdTBBNzYtXHUwQTgwXHUwQTg0XHUwQThFXHUwQTkyXHUwQUE5XHUwQUIxXHUwQUI0XHUwQUJBXHUwQUJCXHUwQUM2XHUwQUNBXHUwQUNFXHUwQUNGXHUwQUQxLVx1MEFERlx1MEFFNFx1MEFFNVx1MEFGMC1cdTBBRjhcdTBCMDBcdTBCMDRcdTBCMERcdTBCMEVcdTBCMTFcdTBCMTJcdTBCMjlcdTBCMzFcdTBCMzRcdTBCM0FcdTBCM0JcdTBCNDVcdTBCNDZcdTBCNDlcdTBCNEFcdTBCNEUtXHUwQjU0XHUwQjU4LVx1MEI1Qlx1MEI1RVx1MEI2NFx1MEI2NVx1MEI3MFx1MEI3Mi1cdTBCODFcdTBCODRcdTBCOEItXHUwQjhEXHUwQjkxXHUwQjk2LVx1MEI5OFx1MEI5Qlx1MEI5RFx1MEJBMC1cdTBCQTJcdTBCQTUtXHUwQkE3XHUwQkFCLVx1MEJBRFx1MEJCQS1cdTBCQkRcdTBCQzMtXHUwQkM1XHUwQkM5XHUwQkNFXHUwQkNGXHUwQkQxLVx1MEJENlx1MEJEOC1cdTBCRTVcdTBCRjAtXHUwQkZGXHUwQzBEXHUwQzExXHUwQzI5XHUwQzNBLVx1MEMzQ1x1MEM0NVx1MEM0OVx1MEM0RS1cdTBDNTRcdTBDNTdcdTBDNUItXHUwQzVGXHUwQzY0XHUwQzY1XHUwQzcwLVx1MEM3Rlx1MEM4NFx1MEM4RFx1MEM5MVx1MENBOVx1MENCNFx1MENCQVx1MENCQlx1MENDNVx1MENDOVx1MENDRS1cdTBDRDRcdTBDRDctXHUwQ0REXHUwQ0RGXHUwQ0U0XHUwQ0U1XHUwQ0YwXHUwQ0YzLVx1MENGRlx1MEQwRFx1MEQxMVx1MEQ0NVx1MEQ0OVx1MEQ0Ri1cdTBENTNcdTBENTgtXHUwRDVFXHUwRDY0XHUwRDY1XHUwRDcwLVx1MEQ3OVx1MEQ4MFx1MEQ4NFx1MEQ5Ny1cdTBEOTlcdTBEQjJcdTBEQkNcdTBEQkVcdTBEQkZcdTBEQzctXHUwREM5XHUwRENCLVx1MERDRVx1MERENVx1MEREN1x1MERFMC1cdTBERTVcdTBERjBcdTBERjFcdTBERjQtXHUwRTAwXHUwRTNCLVx1MEUzRlx1MEU0Rlx1MEU1QS1cdTBFODBcdTBFODNcdTBFODVcdTBFOEJcdTBFQTRcdTBFQTZcdTBFQkVcdTBFQkZcdTBFQzVcdTBFQzdcdTBFQ0VcdTBFQ0ZcdTBFREFcdTBFREJcdTBFRTAtXHUwRUZGXHUwRjAxLVx1MEYxN1x1MEYxQS1cdTBGMUZcdTBGMkEtXHUwRjM0XHUwRjM2XHUwRjM4XHUwRjNBLVx1MEYzRFx1MEY0OFx1MEY2RC1cdTBGNzBcdTBGODVcdTBGOThcdTBGQkQtXHUwRkM1XHUwRkM3LVx1MEZGRlx1MTA0QS1cdTEwNEZcdTEwOUVcdTEwOUZcdTEwQzZcdTEwQzgtXHUxMENDXHUxMENFXHUxMENGXHUxMEZCXHUxMjQ5XHUxMjRFXHUxMjRGXHUxMjU3XHUxMjU5XHUxMjVFXHUxMjVGXHUxMjg5XHUxMjhFXHUxMjhGXHUxMkIxXHUxMkI2XHUxMkI3XHUxMkJGXHUxMkMxXHUxMkM2XHUxMkM3XHUxMkQ3XHUxMzExXHUxMzE2XHUxMzE3XHUxMzVCXHUxMzVDXHUxMzYwLVx1MTM3Rlx1MTM5MC1cdTEzOUZcdTEzRjZcdTEzRjdcdTEzRkUtXHUxNDAwXHUxNjZEXHUxNjZFXHUxNjgwXHUxNjlCLVx1MTY5Rlx1MTZFQi1cdTE2RURcdTE2RjktXHUxNkZGXHUxNzBEXHUxNzE1LVx1MTcxRlx1MTczNS1cdTE3M0ZcdTE3NTQtXHUxNzVGXHUxNzZEXHUxNzcxXHUxNzc0LVx1MTc3Rlx1MTdENC1cdTE3RDZcdTE3RDgtXHUxN0RCXHUxN0RFXHUxN0RGXHUxN0VBLVx1MTgwQVx1MTgwRVx1MTgwRlx1MTgxQS1cdTE4MUZcdTE4NzktXHUxODdGXHUxOEFCLVx1MThBRlx1MThGNi1cdTE4RkZcdTE5MUZcdTE5MkMtXHUxOTJGXHUxOTNDLVx1MTk0NVx1MTk2RVx1MTk2Rlx1MTk3NS1cdTE5N0ZcdTE5QUMtXHUxOUFGXHUxOUNBLVx1MTlDRlx1MTlEQS1cdTE5RkZcdTFBMUMtXHUxQTFGXHUxQTVGXHUxQTdEXHUxQTdFXHUxQThBLVx1MUE4Rlx1MUE5QS1cdTFBQTZcdTFBQTgtXHUxQUFGXHUxQUMxLVx1MUFGRlx1MUI0Qy1cdTFCNEZcdTFCNUEtXHUxQjZBXHUxQjc0LVx1MUI3Rlx1MUJGNC1cdTFCRkZcdTFDMzgtXHUxQzNGXHUxQzRBLVx1MUM0Q1x1MUM3RVx1MUM3Rlx1MUM4OS1cdTFDOEZcdTFDQkJcdTFDQkNcdTFDQzAtXHUxQ0NGXHUxQ0QzXHUxQ0ZCLVx1MUNGRlx1MURGQVx1MUYxNlx1MUYxN1x1MUYxRVx1MUYxRlx1MUY0Nlx1MUY0N1x1MUY0RVx1MUY0Rlx1MUY1OFx1MUY1QVx1MUY1Q1x1MUY1RVx1MUY3RVx1MUY3Rlx1MUZCNVx1MUZCRFx1MUZCRi1cdTFGQzFcdTFGQzVcdTFGQ0QtXHUxRkNGXHUxRkQ0XHUxRkQ1XHUxRkRDLVx1MUZERlx1MUZFRC1cdTFGRjFcdTFGRjVcdTFGRkQtXHUyMDNFXHUyMDQxLVx1MjA1M1x1MjA1NS1cdTIwNzBcdTIwNzItXHUyMDdFXHUyMDgwLVx1MjA4Rlx1MjA5RC1cdTIwQ0ZcdTIwRjEtXHUyMTAxXHUyMTAzLVx1MjEwNlx1MjEwOFx1MjEwOVx1MjExNFx1MjExNi1cdTIxMThcdTIxMUUtXHUyMTIzXHUyMTI1XHUyMTI3XHUyMTI5XHUyMTJFXHUyMTNBXHUyMTNCXHUyMTQwLVx1MjE0NFx1MjE0QS1cdTIxNERcdTIxNEYtXHUyMTVGXHUyMTg5LVx1MjRCNVx1MjRFQS1cdTJCRkZcdTJDMkZcdTJDNUZcdTJDRTUtXHUyQ0VBXHUyQ0Y0LVx1MkNGRlx1MkQyNlx1MkQyOC1cdTJEMkNcdTJEMkVcdTJEMkZcdTJENjgtXHUyRDZFXHUyRDcwLVx1MkQ3RVx1MkQ5Ny1cdTJEOUZcdTJEQTdcdTJEQUZcdTJEQjdcdTJEQkZcdTJEQzdcdTJEQ0ZcdTJERDdcdTJEREZcdTJFMDAtXHUyRTJFXHUyRTMwLVx1MzAwNFx1MzAwOC1cdTMwMjBcdTMwMzBcdTMwMzZcdTMwMzdcdTMwM0QtXHUzMDQwXHUzMDk3XHUzMDk4XHUzMDlCXHUzMDlDXHUzMEEwXHUzMEZCXHUzMTAwLVx1MzEwNFx1MzEzMFx1MzE4Ri1cdTMxOUZcdTMxQzAtXHUzMUVGXHUzMjAwLVx1MzNGRlx1NERDMC1cdTRERkZcdTlGRkQtXHU5RkZGXHVBNDhELVx1QTRDRlx1QTRGRVx1QTRGRlx1QTYwRC1cdUE2MEZcdUE2MkMtXHVBNjNGXHVBNjczXHVBNjdFXHVBNkYyLVx1QTcxNlx1QTcyMFx1QTcyMVx1QTc4OVx1QTc4QVx1QTdDMFx1QTdDMVx1QTdDQi1cdUE3RjRcdUE4MjgtXHVBODJCXHVBODJELVx1QTgzRlx1QTg3NC1cdUE4N0ZcdUE4QzYtXHVBOENGXHVBOERBLVx1QThERlx1QThGOC1cdUE4RkFcdUE4RkNcdUE5MkVcdUE5MkZcdUE5NTQtXHVBOTVGXHVBOTdELVx1QTk3Rlx1QTlDMS1cdUE5Q0VcdUE5REEtXHVBOURGXHVBOUZGXHVBQTM3LVx1QUEzRlx1QUE0RVx1QUE0Rlx1QUE1QS1cdUFBNUZcdUFBNzctXHVBQTc5XHVBQUMzLVx1QUFEQVx1QUFERVx1QUFERlx1QUFGMFx1QUFGMVx1QUFGNy1cdUFCMDBcdUFCMDdcdUFCMDhcdUFCMEZcdUFCMTBcdUFCMTctXHVBQjFGXHVBQjI3XHVBQjJGXHVBQjVCXHVBQjZBLVx1QUI2Rlx1QUJFQlx1QUJFRVx1QUJFRlx1QUJGQS1cdUFCRkZcdUQ3QTQtXHVEN0FGXHVEN0M3LVx1RDdDQVx1RDdGQy1cdUQ3RkZcdUUwMDAtXHVGOEZGXHVGQTZFXHVGQTZGXHVGQURBLVx1RkFGRlx1RkIwNy1cdUZCMTJcdUZCMTgtXHVGQjFDXHVGQjI5XHVGQjM3XHVGQjNEXHVGQjNGXHVGQjQyXHVGQjQ1XHVGQkIyLVx1RkJEMlx1RkQzRS1cdUZENEZcdUZEOTBcdUZEOTFcdUZEQzgtXHVGREVGXHVGREZDLVx1RkRGRlx1RkUxMC1cdUZFMUZcdUZFMzAtXHVGRTMyXHVGRTM1LVx1RkU0Q1x1RkU1MC1cdUZFNkZcdUZFNzVcdUZFRkQtXHVGRjBGXHVGRjFBLVx1RkYyMFx1RkYzQi1cdUZGM0VcdUZGNDBcdUZGNUItXHVGRjY1XHVGRkJGLVx1RkZDMVx1RkZDOFx1RkZDOVx1RkZEMFx1RkZEMVx1RkZEOFx1RkZEOVx1RkZERC1cdUZGRkZdfFx1RDgwMFtcdURDMENcdURDMjdcdURDM0JcdURDM0VcdURDNEVcdURDNEZcdURDNUUtXHVEQzdGXHVEQ0ZCLVx1REQzRlx1REQ3NS1cdURERkNcdURERkUtXHVERTdGXHVERTlELVx1REU5Rlx1REVEMS1cdURFREZcdURFRTEtXHVERUZGXHVERjIwLVx1REYyQ1x1REY0Qi1cdURGNEZcdURGN0ItXHVERjdGXHVERjlFXHVERjlGXHVERkM0LVx1REZDN1x1REZEMFx1REZENi1cdURGRkZdfFx1RDgwMVtcdURDOUVcdURDOUZcdURDQUEtXHVEQ0FGXHVEQ0Q0LVx1RENEN1x1RENGQy1cdURDRkZcdUREMjgtXHVERDJGXHVERDY0LVx1RERGRlx1REYzNy1cdURGM0ZcdURGNTYtXHVERjVGXHVERjY4LVx1REZGRl18XHVEODAyW1x1REMwNlx1REMwN1x1REMwOVx1REMzNlx1REMzOS1cdURDM0JcdURDM0RcdURDM0VcdURDNTYtXHVEQzVGXHVEQzc3LVx1REM3Rlx1REM5Ri1cdURDREZcdURDRjNcdURDRjYtXHVEQ0ZGXHVERDE2LVx1REQxRlx1REQzQS1cdUREN0ZcdUREQjgtXHVEREJEXHVEREMwLVx1RERGRlx1REUwNFx1REUwNy1cdURFMEJcdURFMTRcdURFMThcdURFMzZcdURFMzdcdURFM0ItXHVERTNFXHVERTQwLVx1REU1Rlx1REU3RC1cdURFN0ZcdURFOUQtXHVERUJGXHVERUM4XHVERUU3LVx1REVGRlx1REYzNi1cdURGM0ZcdURGNTYtXHVERjVGXHVERjczLVx1REY3Rlx1REY5Mi1cdURGRkZdfFx1RDgwM1tcdURDNDktXHVEQzdGXHVEQ0IzLVx1RENCRlx1RENGMy1cdURDRkZcdUREMjgtXHVERDJGXHVERDNBLVx1REU3Rlx1REVBQVx1REVBRC1cdURFQUZcdURFQjItXHVERUZGXHVERjFELVx1REYyNlx1REYyOC1cdURGMkZcdURGNTEtXHVERkFGXHVERkM1LVx1REZERlx1REZGNy1cdURGRkZdfFx1RDgwNFtcdURDNDctXHVEQzY1XHVEQzcwLVx1REM3RVx1RENCQi1cdURDQ0ZcdURDRTktXHVEQ0VGXHVEQ0ZBLVx1RENGRlx1REQzNVx1REQ0MC1cdURENDNcdURENDgtXHVERDRGXHVERDc0XHVERDc1XHVERDc3LVx1REQ3Rlx1RERDNS1cdUREQzhcdUREQ0RcdUREREJcdUREREQtXHVEREZGXHVERTEyXHVERTM4LVx1REUzRFx1REUzRi1cdURFN0ZcdURFODdcdURFODlcdURFOEVcdURFOUVcdURFQTktXHVERUFGXHVERUVCLVx1REVFRlx1REVGQS1cdURFRkZcdURGMDRcdURGMERcdURGMEVcdURGMTFcdURGMTJcdURGMjlcdURGMzFcdURGMzRcdURGM0FcdURGNDVcdURGNDZcdURGNDlcdURGNEFcdURGNEVcdURGNEZcdURGNTEtXHVERjU2XHVERjU4LVx1REY1Q1x1REY2NFx1REY2NVx1REY2RC1cdURGNkZcdURGNzUtXHVERkZGXXxcdUQ4MDVbXHVEQzRCLVx1REM0Rlx1REM1QS1cdURDNURcdURDNjItXHVEQzdGXHVEQ0M2XHVEQ0M4LVx1RENDRlx1RENEQS1cdUREN0ZcdUREQjZcdUREQjdcdUREQzEtXHVEREQ3XHVERERFLVx1RERGRlx1REU0MS1cdURFNDNcdURFNDUtXHVERTRGXHVERTVBLVx1REU3Rlx1REVCOS1cdURFQkZcdURFQ0EtXHVERUZGXHVERjFCXHVERjFDXHVERjJDLVx1REYyRlx1REYzQS1cdURGRkZdfFx1RDgwNltcdURDM0ItXHVEQzlGXHVEQ0VBLVx1RENGRVx1REQwN1x1REQwOFx1REQwQVx1REQwQlx1REQxNFx1REQxN1x1REQzNlx1REQzOVx1REQzQVx1REQ0NC1cdURENEZcdURENUEtXHVERDlGXHVEREE4XHVEREE5XHVEREQ4XHVEREQ5XHVEREUyXHVEREU1LVx1RERGRlx1REUzRi1cdURFNDZcdURFNDgtXHVERTRGXHVERTlBLVx1REU5Q1x1REU5RS1cdURFQkZcdURFRjktXHVERkZGXXxcdUQ4MDdbXHVEQzA5XHVEQzM3XHVEQzQxLVx1REM0Rlx1REM1QS1cdURDNzFcdURDOTBcdURDOTFcdURDQThcdURDQjctXHVEQ0ZGXHVERDA3XHVERDBBXHVERDM3LVx1REQzOVx1REQzQlx1REQzRVx1REQ0OC1cdURENEZcdURENUEtXHVERDVGXHVERDY2XHVERDY5XHVERDhGXHVERDkyXHVERDk5LVx1REQ5Rlx1RERBQS1cdURFREZcdURFRjctXHVERkFGXHVERkIxLVx1REZGRl18XHVEODA4W1x1REY5QS1cdURGRkZdfFx1RDgwOVtcdURDNkYtXHVEQzdGXHVERDQ0LVx1REZGRl18W1x1RDgwQVx1RDgwQlx1RDgwRS1cdUQ4MTBcdUQ4MTItXHVEODE5XHVEODI0LVx1RDgyQlx1RDgyRFx1RDgyRVx1RDgzMC1cdUQ4MzNcdUQ4MzdcdUQ4MzlcdUQ4M0RcdUQ4M0ZcdUQ4N0ItXHVEODdEXHVEODdGXHVEODg1LVx1REIzRlx1REI0MS1cdURCRkZdW1x1REMwMC1cdURGRkZdfFx1RDgwRFtcdURDMkYtXHVERkZGXXxcdUQ4MTFbXHVERTQ3LVx1REZGRl18XHVEODFBW1x1REUzOS1cdURFM0ZcdURFNUZcdURFNkEtXHVERUNGXHVERUVFXHVERUVGXHVERUY1LVx1REVGRlx1REYzNy1cdURGM0ZcdURGNDQtXHVERjRGXHVERjVBLVx1REY2Mlx1REY3OC1cdURGN0NcdURGOTAtXHVERkZGXXxcdUQ4MUJbXHVEQzAwLVx1REUzRlx1REU4MC1cdURFRkZcdURGNEItXHVERjRFXHVERjg4LVx1REY4RVx1REZBMC1cdURGREZcdURGRTJcdURGRTUtXHVERkVGXHVERkYyLVx1REZGRl18XHVEODIxW1x1REZGOC1cdURGRkZdfFx1RDgyM1tcdURDRDYtXHVEQ0ZGXHVERDA5LVx1REZGRl18XHVEODJDW1x1REQxRi1cdURENEZcdURENTMtXHVERDYzXHVERDY4LVx1REQ2Rlx1REVGQy1cdURGRkZdfFx1RDgyRltcdURDNkItXHVEQzZGXHVEQzdELVx1REM3Rlx1REM4OS1cdURDOEZcdURDOUEtXHVEQzlDXHVEQzlGLVx1REZGRl18XHVEODM0W1x1REMwMC1cdURENjRcdURENkEtXHVERDZDXHVERDczLVx1REQ3QVx1REQ4M1x1REQ4NFx1REQ4Qy1cdUREQTlcdUREQUUtXHVERTQxXHVERTQ1LVx1REZGRl18XHVEODM1W1x1REM1NVx1REM5RFx1RENBMFx1RENBMVx1RENBM1x1RENBNFx1RENBN1x1RENBOFx1RENBRFx1RENCQVx1RENCQ1x1RENDNFx1REQwNlx1REQwQlx1REQwQ1x1REQxNVx1REQxRFx1REQzQVx1REQzRlx1REQ0NVx1REQ0Ny1cdURENDlcdURENTFcdURFQTZcdURFQTdcdURFQzFcdURFREJcdURFRkJcdURGMTVcdURGMzVcdURGNEZcdURGNkZcdURGODlcdURGQTlcdURGQzNcdURGQ0NcdURGQ0RdfFx1RDgzNltcdURDMDAtXHVEREZGXHVERTM3LVx1REUzQVx1REU2RC1cdURFNzRcdURFNzYtXHVERTgzXHVERTg1LVx1REU5QVx1REVBMFx1REVCMC1cdURGRkZdfFx1RDgzOFtcdURDMDdcdURDMTlcdURDMUFcdURDMjJcdURDMjVcdURDMkItXHVEQ0ZGXHVERDJELVx1REQyRlx1REQzRVx1REQzRlx1REQ0QS1cdURENERcdURENEYtXHVERUJGXHVERUZBLVx1REZGRl18XHVEODNBW1x1RENDNS1cdURDQ0ZcdURDRDctXHVEQ0ZGXHVERDRDLVx1REQ0Rlx1REQ1QS1cdURGRkZdfFx1RDgzQltcdURDMDAtXHVEREZGXHVERTA0XHVERTIwXHVERTIzXHVERTI1XHVERTI2XHVERTI4XHVERTMzXHVERTM4XHVERTNBXHVERTNDLVx1REU0MVx1REU0My1cdURFNDZcdURFNDhcdURFNEFcdURFNENcdURFNTBcdURFNTNcdURFNTVcdURFNTZcdURFNThcdURFNUFcdURFNUNcdURFNUVcdURFNjBcdURFNjNcdURFNjVcdURFNjZcdURFNkJcdURFNzNcdURFNzhcdURFN0RcdURFN0ZcdURFOEFcdURFOUMtXHVERUEwXHVERUE0XHVERUFBXHVERUJDLVx1REZGRl18XHVEODNDW1x1REMwMC1cdUREMkZcdURENEEtXHVERDRGXHVERDZBLVx1REQ2Rlx1REQ4QS1cdURGRkZdfFx1RDgzRVtcdURDMDAtXHVERkVGXHVERkZBLVx1REZGRl18XHVEODY5W1x1REVERS1cdURFRkZdfFx1RDg2RFtcdURGMzUtXHVERjNGXXxcdUQ4NkVbXHVEQzFFXHVEQzFGXXxcdUQ4NzNbXHVERUEyLVx1REVBRl18XHVEODdBW1x1REZFMS1cdURGRkZdfFx1RDg3RVtcdURFMUUtXHVERkZGXXxcdUQ4ODRbXHVERjRCLVx1REZGRl18XHVEQjQwW1x1REMwMC1cdURDRkZcdURERjAtXHVERkZGXS9nLEJhPU9iamVjdC5oYXNPd25Qcm9wZXJ0eTtjbGFzcyAkYXtjb25zdHJ1Y3Rvcigpe3RoaXMub2NjdXJyZW5jZXMsdGhpcy5yZXNldCgpfXNsdWcobix0KXtjb25zdCByPXRoaXM7bGV0IGk9SWEobix0PT09ITApO2NvbnN0IHU9aTtmb3IoO0JhLmNhbGwoci5vY2N1cnJlbmNlcyxpKTspci5vY2N1cnJlbmNlc1t1XSsrLGk9dSsiLSIrci5vY2N1cnJlbmNlc1t1XTtyZXR1cm4gci5vY2N1cnJlbmNlc1tpXT0wLGl9cmVzZXQoKXt0aGlzLm9jY3VycmVuY2VzPU9iamVjdC5jcmVhdGUobnVsbCl9fWZ1bmN0aW9uIElhKGUsbil7cmV0dXJuIHR5cGVvZiBlIT0ic3RyaW5nIj8iIjoobnx8KGU9ZS50b0xvd2VyQ2FzZSgpKSxlLnJlcGxhY2UoVGEsIiIpLnJlcGxhY2UoLyAvZywiLSIpKX1sZXQgTW4sUWU9W107ZnVuY3Rpb24gUmEoe3ByZWZpeDplPSIifT17fSl7cmV0dXJue2hlYWRlcklkczohMSxob29rczp7cHJlcHJvY2VzcyhuKXtyZXR1cm4gUWU9W10sTW49bmV3ICRhLG59fSxyZW5kZXJlcjp7aGVhZGluZyhuLHQscil7cj1yLnRvTG93ZXJDYXNlKCkudHJpbSgpLnJlcGxhY2UoLzxbIVwvYS16XS4qPz4vZ2ksIiIpO2NvbnN0IGk9YCR7ZX0ke01uLnNsdWcocil9YCx1PXtsZXZlbDp0LHRleHQ6bixpZDppfTtyZXR1cm4gUWUucHVzaCh1KSxgPGgke3R9IGlkPSIke2l9Ij4ke259PC9oJHt0fT4KYH19fX1mdW5jdGlvbiBPYSgpe3JldHVybiBRZX1mdW5jdGlvbiBMYShlLG4pe3N0KGUsbiksbi5hZGQoZSl9ZnVuY3Rpb24gVmUoZSxuLHQpe2lmKHR5cGVvZiBlPT0iZnVuY3Rpb24iP2U9PT1uOmUuaGFzKG4pKXJldHVybiBhcmd1bWVudHMubGVuZ3RoPDM/bjp0O3Rocm93IG5ldyBUeXBlRXJyb3IoIlByaXZhdGUgZWxlbWVudCBpcyBub3QgcHJlc2VudCBvbiB0aGlzIG9iamVjdCIpfWZ1bmN0aW9uIHBuKCl7cmV0dXJue2FzeW5jOiExLGJhc2VVcmw6bnVsbCxicmVha3M6ITEsZXh0ZW5zaW9uczpudWxsLGdmbTohMCxoZWFkZXJJZHM6ITAsaGVhZGVyUHJlZml4OiIiLGhpZ2hsaWdodDpudWxsLGhvb2tzOm51bGwsbGFuZ1ByZWZpeDoibGFuZ3VhZ2UtIixtYW5nbGU6ITAscGVkYW50aWM6ITEscmVuZGVyZXI6bnVsbCxzYW5pdGl6ZTohMSxzYW5pdGl6ZXI6bnVsbCxzaWxlbnQ6ITEsc21hcnR5cGFudHM6ITEsdG9rZW5pemVyOm51bGwsd2Fsa1Rva2VuczpudWxsLHhodG1sOiExfX1sZXQgSj1wbigpO2Z1bmN0aW9uIFl0KGUpe0o9ZX1jb25zdCBxdD0vWyY8PiInXS8sUGE9bmV3IFJlZ0V4cChxdC5zb3VyY2UsImciKSxHdD0vWzw+IiddfCYoPyEoI1xkezEsN318I1tYeF1bYS1mQS1GMC05XXsxLDZ9fFx3Kyk7KS8sTmE9bmV3IFJlZ0V4cChHdC5zb3VyY2UsImciKSxNYT17IiYiOiImYW1wOyIsIjwiOiImbHQ7IiwiPiI6IiZndDsiLCciJzoiJnF1b3Q7IiwiJyI6IiYjMzk7In0sem49ZT0+TWFbZV07ZnVuY3Rpb24gTihlLG4pe2lmKG4pe2lmKHF0LnRlc3QoZSkpcmV0dXJuIGUucmVwbGFjZShQYSx6bil9ZWxzZSBpZihHdC50ZXN0KGUpKXJldHVybiBlLnJlcGxhY2UoTmEsem4pO3JldHVybiBlfWNvbnN0IHphPS8mKCMoPzpcZCspfCg/OiN4WzAtOUEtRmEtZl0rKXwoPzpcdyspKTs/L2lnO2Z1bmN0aW9uIFp0KGUpe3JldHVybiBlLnJlcGxhY2UoemEsKG4sdCk9Pih0PXQudG9Mb3dlckNhc2UoKSx0PT09ImNvbG9uIj8iOiI6dC5jaGFyQXQoMCk9PT0iIyI/dC5jaGFyQXQoMSk9PT0ieCI/U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludCh0LnN1YnN0cmluZygyKSwxNikpOlN0cmluZy5mcm9tQ2hhckNvZGUoK3Quc3Vic3RyaW5nKDEpKToiIikpfWNvbnN0IGphPS8oXnxbXlxbXSlcXi9nO2Z1bmN0aW9uIFQoZSxuKXtlPXR5cGVvZiBlPT0ic3RyaW5nIj9lOmUuc291cmNlLG49bnx8IiI7Y29uc3QgdD17cmVwbGFjZToocixpKT0+KGk9aS5zb3VyY2V8fGksaT1pLnJlcGxhY2UoamEsIiQxIiksZT1lLnJlcGxhY2UocixpKSx0KSxnZXRSZWdleDooKT0+bmV3IFJlZ0V4cChlLG4pfTtyZXR1cm4gdH1jb25zdCBIYT0vW15cdzpdL2csVWE9L14kfF5bYS16XVthLXowLTkrLi1dKjp8Xls/I10vaTtmdW5jdGlvbiBqbihlLG4sdCl7aWYoZSl7bGV0IHI7dHJ5e3I9ZGVjb2RlVVJJQ29tcG9uZW50KFp0KHQpKS5yZXBsYWNlKEhhLCIiKS50b0xvd2VyQ2FzZSgpfWNhdGNoe3JldHVybiBudWxsfWlmKHIuaW5kZXhPZigiamF2YXNjcmlwdDoiKT09PTB8fHIuaW5kZXhPZigidmJzY3JpcHQ6Iik9PT0wfHxyLmluZGV4T2YoImRhdGE6Iik9PT0wKXJldHVybiBudWxsfW4mJiFVYS50ZXN0KHQpJiYodD1aYShuLHQpKTt0cnl7dD1lbmNvZGVVUkkodCkucmVwbGFjZSgvJTI1L2csIiUiKX1jYXRjaHtyZXR1cm4gbnVsbH1yZXR1cm4gdH1jb25zdCB3ZT17fSxZYT0vXlteOl0rOlwvKlteL10qJC8scWE9L14oW146XSs6KVtcc1xTXSokLyxHYT0vXihbXjpdKzpcLypbXi9dKilbXHNcU10qJC87ZnVuY3Rpb24gWmEoZSxuKXt3ZVsiICIrZV18fChZYS50ZXN0KGUpP3dlWyIgIitlXT1lKyIvIjp3ZVsiICIrZV09U2UoZSwiLyIsITApKSxlPXdlWyIgIitlXTtjb25zdCB0PWUuaW5kZXhPZigiOiIpPT09LTE7cmV0dXJuIG4uc3Vic3RyaW5nKDAsMik9PT0iLy8iP3Q/bjplLnJlcGxhY2UocWEsIiQxIikrbjpuLmNoYXJBdCgwKT09PSIvIj90P246ZS5yZXBsYWNlKEdhLCIkMSIpK246ZStufWNvbnN0IFBlPXtleGVjOmZ1bmN0aW9uKCl7fX07ZnVuY3Rpb24gSG4oZSxuKXtjb25zdCB0PWUucmVwbGFjZSgvXHwvZywodSxhLHMpPT57bGV0IG89ITEsbD1hO2Zvcig7LS1sPj0wJiZzW2xdPT09IlxcIjspbz0hbztyZXR1cm4gbz8ifCI6IiB8In0pLHI9dC5zcGxpdCgvIFx8Lyk7bGV0IGk9MDtpZihyWzBdLnRyaW0oKXx8ci5zaGlmdCgpLHIubGVuZ3RoPjAmJiFyW3IubGVuZ3RoLTFdLnRyaW0oKSYmci5wb3AoKSxyLmxlbmd0aD5uKXIuc3BsaWNlKG4pO2Vsc2UgZm9yKDtyLmxlbmd0aDxuOylyLnB1c2goIiIpO2Zvcig7aTxyLmxlbmd0aDtpKyspcltpXT1yW2ldLnRyaW0oKS5yZXBsYWNlKC9cXFx8L2csInwiKTtyZXR1cm4gcn1mdW5jdGlvbiBTZShlLG4sdCl7Y29uc3Qgcj1lLmxlbmd0aDtpZihyPT09MClyZXR1cm4iIjtsZXQgaT0wO2Zvcig7aTxyOyl7Y29uc3QgdT1lLmNoYXJBdChyLWktMSk7aWYodT09PW4mJiF0KWkrKztlbHNlIGlmKHUhPT1uJiZ0KWkrKztlbHNlIGJyZWFrfXJldHVybiBlLnNsaWNlKDAsci1pKX1mdW5jdGlvbiBLYShlLG4pe2lmKGUuaW5kZXhPZihuWzFdKT09PS0xKXJldHVybi0xO2NvbnN0IHQ9ZS5sZW5ndGg7bGV0IHI9MCxpPTA7Zm9yKDtpPHQ7aSsrKWlmKGVbaV09PT0iXFwiKWkrKztlbHNlIGlmKGVbaV09PT1uWzBdKXIrKztlbHNlIGlmKGVbaV09PT1uWzFdJiYoci0tLHI8MCkpcmV0dXJuIGk7cmV0dXJuLTF9ZnVuY3Rpb24gV2EoZSxuKXshZXx8ZS5zaWxlbnR8fChuJiZjb25zb2xlLndhcm4oIm1hcmtlZCgpOiBjYWxsYmFjayBpcyBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNS4wLjAsIHNob3VsZCBub3QgYmUgdXNlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUuIFJlYWQgbW9yZSBoZXJlOiBodHRwczovL21hcmtlZC5qcy5vcmcvdXNpbmdfcHJvI2FzeW5jIiksKGUuc2FuaXRpemV8fGUuc2FuaXRpemVyKSYmY29uc29sZS53YXJuKCJtYXJrZWQoKTogc2FuaXRpemUgYW5kIHNhbml0aXplciBwYXJhbWV0ZXJzIGFyZSBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMC43LjAsIHNob3VsZCBub3QgYmUgdXNlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUuIFJlYWQgbW9yZSBoZXJlOiBodHRwczovL21hcmtlZC5qcy5vcmcvIy9VU0lOR19BRFZBTkNFRC5tZCNvcHRpb25zIiksKGUuaGlnaGxpZ2h0fHxlLmxhbmdQcmVmaXghPT0ibGFuZ3VhZ2UtIikmJmNvbnNvbGUud2FybigibWFya2VkKCk6IGhpZ2hsaWdodCBhbmQgbGFuZ1ByZWZpeCBwYXJhbWV0ZXJzIGFyZSBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNS4wLjAsIHNob3VsZCBub3QgYmUgdXNlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUuIEluc3RlYWQgdXNlIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL21hcmtlZC1oaWdobGlnaHQuIiksZS5tYW5nbGUmJmNvbnNvbGUud2FybigibWFya2VkKCk6IG1hbmdsZSBwYXJhbWV0ZXIgaXMgZW5hYmxlZCBieSBkZWZhdWx0LCBidXQgaXMgZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDUuMC4wLCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUuIFRvIGNsZWFyIHRoaXMgd2FybmluZywgaW5zdGFsbCBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9tYXJrZWQtbWFuZ2xlLCBvciBkaXNhYmxlIGJ5IHNldHRpbmcgYHttYW5nbGU6IGZhbHNlfWAuIiksZS5iYXNlVXJsJiZjb25zb2xlLndhcm4oIm1hcmtlZCgpOiBiYXNlVXJsIHBhcmFtZXRlciBpcyBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNS4wLjAsIHNob3VsZCBub3QgYmUgdXNlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUuIEluc3RlYWQgdXNlIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL21hcmtlZC1iYXNlLXVybC4iKSxlLnNtYXJ0eXBhbnRzJiZjb25zb2xlLndhcm4oIm1hcmtlZCgpOiBzbWFydHlwYW50cyBwYXJhbWV0ZXIgaXMgZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDUuMC4wLCBzaG91bGQgbm90IGJlIHVzZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLiBJbnN0ZWFkIHVzZSBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9tYXJrZWQtc21hcnR5cGFudHMuIiksZS54aHRtbCYmY29uc29sZS53YXJuKCJtYXJrZWQoKTogeGh0bWwgcGFyYW1ldGVyIGlzIGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA1LjAuMCwgc2hvdWxkIG5vdCBiZSB1c2VkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gSW5zdGVhZCB1c2UgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvbWFya2VkLXhodG1sLiIpLChlLmhlYWRlcklkc3x8ZS5oZWFkZXJQcmVmaXgpJiZjb25zb2xlLndhcm4oIm1hcmtlZCgpOiBoZWFkZXJJZHMgYW5kIGhlYWRlclByZWZpeCBwYXJhbWV0ZXJzIGVuYWJsZWQgYnkgZGVmYXVsdCwgYnV0IGFyZSBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNS4wLjAsIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gVG8gY2xlYXIgdGhpcyB3YXJuaW5nLCBpbnN0YWxsICBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9tYXJrZWQtZ2ZtLWhlYWRpbmctaWQsIG9yIGRpc2FibGUgYnkgc2V0dGluZyBge2hlYWRlcklkczogZmFsc2V9YC4iKSl9ZnVuY3Rpb24gVW4oZSxuLHQscil7Y29uc3QgaT1uLmhyZWYsdT1uLnRpdGxlP04obi50aXRsZSk6bnVsbCxhPWVbMV0ucmVwbGFjZSgvXFwoW1xbXF1dKS9nLCIkMSIpO2lmKGVbMF0uY2hhckF0KDApIT09IiEiKXtyLnN0YXRlLmluTGluaz0hMDtjb25zdCBzPXt0eXBlOiJsaW5rIixyYXc6dCxocmVmOmksdGl0bGU6dSx0ZXh0OmEsdG9rZW5zOnIuaW5saW5lVG9rZW5zKGEpfTtyZXR1cm4gci5zdGF0ZS5pbkxpbms9ITEsc31yZXR1cm57dHlwZToiaW1hZ2UiLHJhdzp0LGhyZWY6aSx0aXRsZTp1LHRleHQ6TihhKX19ZnVuY3Rpb24gWGEoZSxuKXtjb25zdCB0PWUubWF0Y2goL14oXHMrKSg/OmBgYCkvKTtpZih0PT09bnVsbClyZXR1cm4gbjtjb25zdCByPXRbMV07cmV0dXJuIG4uc3BsaXQoYApgKS5tYXAoaT0+e2NvbnN0IHU9aS5tYXRjaCgvXlxzKy8pO2lmKHU9PT1udWxsKXJldHVybiBpO2NvbnN0W2FdPXU7cmV0dXJuIGEubGVuZ3RoPj1yLmxlbmd0aD9pLnNsaWNlKHIubGVuZ3RoKTppfSkuam9pbihgCmApfWNsYXNzIE5le2NvbnN0cnVjdG9yKG4pe3RoaXMub3B0aW9ucz1ufHxKfXNwYWNlKG4pe2NvbnN0IHQ9dGhpcy5ydWxlcy5ibG9jay5uZXdsaW5lLmV4ZWMobik7aWYodCYmdFswXS5sZW5ndGg+MClyZXR1cm57dHlwZToic3BhY2UiLHJhdzp0WzBdfX1jb2RlKG4pe2NvbnN0IHQ9dGhpcy5ydWxlcy5ibG9jay5jb2RlLmV4ZWMobik7aWYodCl7Y29uc3Qgcj10WzBdLnJlcGxhY2UoL14gezEsNH0vZ20sIiIpO3JldHVybnt0eXBlOiJjb2RlIixyYXc6dFswXSxjb2RlQmxvY2tTdHlsZToiaW5kZW50ZWQiLHRleHQ6dGhpcy5vcHRpb25zLnBlZGFudGljP3I6U2UocixgCmApfX19ZmVuY2VzKG4pe2NvbnN0IHQ9dGhpcy5ydWxlcy5ibG9jay5mZW5jZXMuZXhlYyhuKTtpZih0KXtjb25zdCByPXRbMF0saT1YYShyLHRbM118fCIiKTtyZXR1cm57dHlwZToiY29kZSIscmF3OnIsbGFuZzp0WzJdP3RbMl0udHJpbSgpLnJlcGxhY2UodGhpcy5ydWxlcy5pbmxpbmUuX2VzY2FwZXMsIiQxIik6dFsyXSx0ZXh0Oml9fX1oZWFkaW5nKG4pe2NvbnN0IHQ9dGhpcy5ydWxlcy5ibG9jay5oZWFkaW5nLmV4ZWMobik7aWYodCl7bGV0IHI9dFsyXS50cmltKCk7aWYoLyMkLy50ZXN0KHIpKXtjb25zdCBpPVNlKHIsIiMiKTsodGhpcy5vcHRpb25zLnBlZGFudGljfHwhaXx8LyAkLy50ZXN0KGkpKSYmKHI9aS50cmltKCkpfXJldHVybnt0eXBlOiJoZWFkaW5nIixyYXc6dFswXSxkZXB0aDp0WzFdLmxlbmd0aCx0ZXh0OnIsdG9rZW5zOnRoaXMubGV4ZXIuaW5saW5lKHIpfX19aHIobil7Y29uc3QgdD10aGlzLnJ1bGVzLmJsb2NrLmhyLmV4ZWMobik7aWYodClyZXR1cm57dHlwZToiaHIiLHJhdzp0WzBdfX1ibG9ja3F1b3RlKG4pe2NvbnN0IHQ9dGhpcy5ydWxlcy5ibG9jay5ibG9ja3F1b3RlLmV4ZWMobik7aWYodCl7Y29uc3Qgcj10WzBdLnJlcGxhY2UoL14gKj5bIFx0XT8vZ20sIiIpLGk9dGhpcy5sZXhlci5zdGF0ZS50b3A7dGhpcy5sZXhlci5zdGF0ZS50b3A9ITA7Y29uc3QgdT10aGlzLmxleGVyLmJsb2NrVG9rZW5zKHIpO3JldHVybiB0aGlzLmxleGVyLnN0YXRlLnRvcD1pLHt0eXBlOiJibG9ja3F1b3RlIixyYXc6dFswXSx0b2tlbnM6dSx0ZXh0OnJ9fX1saXN0KG4pe2xldCB0PXRoaXMucnVsZXMuYmxvY2subGlzdC5leGVjKG4pO2lmKHQpe2xldCByLGksdSxhLHMsbyxsLHAsZixnLGQsdixDPXRbMV0udHJpbSgpO2NvbnN0IHg9Qy5sZW5ndGg+MSx3PXt0eXBlOiJsaXN0IixyYXc6IiIsb3JkZXJlZDp4LHN0YXJ0Ong/K0Muc2xpY2UoMCwtMSk6IiIsbG9vc2U6ITEsaXRlbXM6W119O0M9eD9gXFxkezEsOX1cXCR7Qy5zbGljZSgtMSl9YDpgXFwke0N9YCx0aGlzLm9wdGlvbnMucGVkYW50aWMmJihDPXg/QzoiWyorLV0iKTtjb25zdCBjPW5ldyBSZWdFeHAoYF4oIHswLDN9JHtDfSkoKD86WwkgXVteXFxuXSopPyg/OlxcbnwkKSlgKTtmb3IoO24mJih2PSExLCEoISh0PWMuZXhlYyhuKSl8fHRoaXMucnVsZXMuYmxvY2suaHIudGVzdChuKSkpOyl7aWYocj10WzBdLG49bi5zdWJzdHJpbmcoci5sZW5ndGgpLHA9dFsyXS5zcGxpdChgCmAsMSlbMF0ucmVwbGFjZSgvXlx0Ky8sbT0+IiAiLnJlcGVhdCgzKm0ubGVuZ3RoKSksZj1uLnNwbGl0KGAKYCwxKVswXSx0aGlzLm9wdGlvbnMucGVkYW50aWM/KGE9MixkPXAudHJpbUxlZnQoKSk6KGE9dFsyXS5zZWFyY2goL1teIF0vKSxhPWE+ND8xOmEsZD1wLnNsaWNlKGEpLGErPXRbMV0ubGVuZ3RoKSxvPSExLCFwJiYvXiAqJC8udGVzdChmKSYmKHIrPWYrYApgLG49bi5zdWJzdHJpbmcoZi5sZW5ndGgrMSksdj0hMCksIXYpe2NvbnN0IG09bmV3IFJlZ0V4cChgXiB7MCwke01hdGgubWluKDMsYS0xKX19KD86WyorLV18XFxkezEsOX1bLildKSgoPzpbIAldW15cXG5dKik/KD86XFxufCQpKWApLEY9bmV3IFJlZ0V4cChgXiB7MCwke01hdGgubWluKDMsYS0xKX19KCg/Oi0gKil7Myx9fCg/Ol8gKil7Myx9fCg/OlxcKiAqKXszLH0pKD86XFxuK3wkKWApLEQ9bmV3IFJlZ0V4cChgXiB7MCwke01hdGgubWluKDMsYS0xKX19KD86XGBcYFxgfH5+filgKSxiPW5ldyBSZWdFeHAoYF4gezAsJHtNYXRoLm1pbigzLGEtMSl9fSNgKTtmb3IoO24mJihnPW4uc3BsaXQoYApgLDEpWzBdLGY9Zyx0aGlzLm9wdGlvbnMucGVkYW50aWMmJihmPWYucmVwbGFjZSgvXiB7MSw0fSg/PSggezR9KSpbXiBdKS9nLCIgICIpKSwhKEQudGVzdChmKXx8Yi50ZXN0KGYpfHxtLnRlc3QoZil8fEYudGVzdChuKSkpOyl7aWYoZi5zZWFyY2goL1teIF0vKT49YXx8IWYudHJpbSgpKWQrPWAKYCtmLnNsaWNlKGEpO2Vsc2V7aWYob3x8cC5zZWFyY2goL1teIF0vKT49NHx8RC50ZXN0KHApfHxiLnRlc3QocCl8fEYudGVzdChwKSlicmVhaztkKz1gCmArZn0hbyYmIWYudHJpbSgpJiYobz0hMCkscis9ZytgCmAsbj1uLnN1YnN0cmluZyhnLmxlbmd0aCsxKSxwPWYuc2xpY2UoYSl9fXcubG9vc2V8fChsP3cubG9vc2U9ITA6L1xuICpcbiAqJC8udGVzdChyKSYmKGw9ITApKSx0aGlzLm9wdGlvbnMuZ2ZtJiYoaT0vXlxbWyB4WF1cXSAvLmV4ZWMoZCksaSYmKHU9aVswXSE9PSJbIF0gIixkPWQucmVwbGFjZSgvXlxbWyB4WF1cXSArLywiIikpKSx3Lml0ZW1zLnB1c2goe3R5cGU6Imxpc3RfaXRlbSIscmF3OnIsdGFzazohIWksY2hlY2tlZDp1LGxvb3NlOiExLHRleHQ6ZH0pLHcucmF3Kz1yfXcuaXRlbXNbdy5pdGVtcy5sZW5ndGgtMV0ucmF3PXIudHJpbVJpZ2h0KCksdy5pdGVtc1t3Lml0ZW1zLmxlbmd0aC0xXS50ZXh0PWQudHJpbVJpZ2h0KCksdy5yYXc9dy5yYXcudHJpbVJpZ2h0KCk7Y29uc3QgaD13Lml0ZW1zLmxlbmd0aDtmb3Iocz0wO3M8aDtzKyspaWYodGhpcy5sZXhlci5zdGF0ZS50b3A9ITEsdy5pdGVtc1tzXS50b2tlbnM9dGhpcy5sZXhlci5ibG9ja1Rva2Vucyh3Lml0ZW1zW3NdLnRleHQsW10pLCF3Lmxvb3NlKXtjb25zdCBtPXcuaXRlbXNbc10udG9rZW5zLmZpbHRlcihEPT5ELnR5cGU9PT0ic3BhY2UiKSxGPW0ubGVuZ3RoPjAmJm0uc29tZShEPT4vXG4uKlxuLy50ZXN0KEQucmF3KSk7dy5sb29zZT1GfWlmKHcubG9vc2UpZm9yKHM9MDtzPGg7cysrKXcuaXRlbXNbc10ubG9vc2U9ITA7cmV0dXJuIHd9fWh0bWwobil7Y29uc3QgdD10aGlzLnJ1bGVzLmJsb2NrLmh0bWwuZXhlYyhuKTtpZih0KXtjb25zdCByPXt0eXBlOiJodG1sIixibG9jazohMCxyYXc6dFswXSxwcmU6IXRoaXMub3B0aW9ucy5zYW5pdGl6ZXImJih0WzFdPT09InByZSJ8fHRbMV09PT0ic2NyaXB0Inx8dFsxXT09PSJzdHlsZSIpLHRleHQ6dFswXX07aWYodGhpcy5vcHRpb25zLnNhbml0aXplKXtjb25zdCBpPXRoaXMub3B0aW9ucy5zYW5pdGl6ZXI/dGhpcy5vcHRpb25zLnNhbml0aXplcih0WzBdKTpOKHRbMF0pO3IudHlwZT0icGFyYWdyYXBoIixyLnRleHQ9aSxyLnRva2Vucz10aGlzLmxleGVyLmlubGluZShpKX1yZXR1cm4gcn19ZGVmKG4pe2NvbnN0IHQ9dGhpcy5ydWxlcy5ibG9jay5kZWYuZXhlYyhuKTtpZih0KXtjb25zdCByPXRbMV0udG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9ccysvZywiICIpLGk9dFsyXT90WzJdLnJlcGxhY2UoL148KC4qKT4kLywiJDEiKS5yZXBsYWNlKHRoaXMucnVsZXMuaW5saW5lLl9lc2NhcGVzLCIkMSIpOiIiLHU9dFszXT90WzNdLnN1YnN0cmluZygxLHRbM10ubGVuZ3RoLTEpLnJlcGxhY2UodGhpcy5ydWxlcy5pbmxpbmUuX2VzY2FwZXMsIiQxIik6dFszXTtyZXR1cm57dHlwZToiZGVmIix0YWc6cixyYXc6dFswXSxocmVmOmksdGl0bGU6dX19fXRhYmxlKG4pe2NvbnN0IHQ9dGhpcy5ydWxlcy5ibG9jay50YWJsZS5leGVjKG4pO2lmKHQpe2NvbnN0IHI9e3R5cGU6InRhYmxlIixoZWFkZXI6SG4odFsxXSkubWFwKGk9Pih7dGV4dDppfSkpLGFsaWduOnRbMl0ucmVwbGFjZSgvXiAqfFx8ICokL2csIiIpLnNwbGl0KC8gKlx8ICovKSxyb3dzOnRbM10mJnRbM10udHJpbSgpP3RbM10ucmVwbGFjZSgvXG5bIFx0XSokLywiIikuc3BsaXQoYApgKTpbXX07aWYoci5oZWFkZXIubGVuZ3RoPT09ci5hbGlnbi5sZW5ndGgpe3IucmF3PXRbMF07bGV0IGk9ci5hbGlnbi5sZW5ndGgsdSxhLHMsbztmb3IodT0wO3U8aTt1KyspL14gKi0rOiAqJC8udGVzdChyLmFsaWduW3VdKT9yLmFsaWduW3VdPSJyaWdodCI6L14gKjotKzogKiQvLnRlc3Qoci5hbGlnblt1XSk/ci5hbGlnblt1XT0iY2VudGVyIjovXiAqOi0rICokLy50ZXN0KHIuYWxpZ25bdV0pP3IuYWxpZ25bdV09ImxlZnQiOnIuYWxpZ25bdV09bnVsbDtmb3IoaT1yLnJvd3MubGVuZ3RoLHU9MDt1PGk7dSsrKXIucm93c1t1XT1IbihyLnJvd3NbdV0sci5oZWFkZXIubGVuZ3RoKS5tYXAobD0+KHt0ZXh0Omx9KSk7Zm9yKGk9ci5oZWFkZXIubGVuZ3RoLGE9MDthPGk7YSsrKXIuaGVhZGVyW2FdLnRva2Vucz10aGlzLmxleGVyLmlubGluZShyLmhlYWRlclthXS50ZXh0KTtmb3IoaT1yLnJvd3MubGVuZ3RoLGE9MDthPGk7YSsrKWZvcihvPXIucm93c1thXSxzPTA7czxvLmxlbmd0aDtzKyspb1tzXS50b2tlbnM9dGhpcy5sZXhlci5pbmxpbmUob1tzXS50ZXh0KTtyZXR1cm4gcn19fWxoZWFkaW5nKG4pe2NvbnN0IHQ9dGhpcy5ydWxlcy5ibG9jay5saGVhZGluZy5leGVjKG4pO2lmKHQpcmV0dXJue3R5cGU6ImhlYWRpbmciLHJhdzp0WzBdLGRlcHRoOnRbMl0uY2hhckF0KDApPT09Ij0iPzE6Mix0ZXh0OnRbMV0sdG9rZW5zOnRoaXMubGV4ZXIuaW5saW5lKHRbMV0pfX1wYXJhZ3JhcGgobil7Y29uc3QgdD10aGlzLnJ1bGVzLmJsb2NrLnBhcmFncmFwaC5leGVjKG4pO2lmKHQpe2NvbnN0IHI9dFsxXS5jaGFyQXQodFsxXS5sZW5ndGgtMSk9PT1gCmA/dFsxXS5zbGljZSgwLC0xKTp0WzFdO3JldHVybnt0eXBlOiJwYXJhZ3JhcGgiLHJhdzp0WzBdLHRleHQ6cix0b2tlbnM6dGhpcy5sZXhlci5pbmxpbmUocil9fX10ZXh0KG4pe2NvbnN0IHQ9dGhpcy5ydWxlcy5ibG9jay50ZXh0LmV4ZWMobik7aWYodClyZXR1cm57dHlwZToidGV4dCIscmF3OnRbMF0sdGV4dDp0WzBdLHRva2Vuczp0aGlzLmxleGVyLmlubGluZSh0WzBdKX19ZXNjYXBlKG4pe2NvbnN0IHQ9dGhpcy5ydWxlcy5pbmxpbmUuZXNjYXBlLmV4ZWMobik7aWYodClyZXR1cm57dHlwZToiZXNjYXBlIixyYXc6dFswXSx0ZXh0Ok4odFsxXSl9fXRhZyhuKXtjb25zdCB0PXRoaXMucnVsZXMuaW5saW5lLnRhZy5leGVjKG4pO2lmKHQpcmV0dXJuIXRoaXMubGV4ZXIuc3RhdGUuaW5MaW5rJiYvXjxhIC9pLnRlc3QodFswXSk/dGhpcy5sZXhlci5zdGF0ZS5pbkxpbms9ITA6dGhpcy5sZXhlci5zdGF0ZS5pbkxpbmsmJi9ePFwvYT4vaS50ZXN0KHRbMF0pJiYodGhpcy5sZXhlci5zdGF0ZS5pbkxpbms9ITEpLCF0aGlzLmxleGVyLnN0YXRlLmluUmF3QmxvY2smJi9ePChwcmV8Y29kZXxrYmR8c2NyaXB0KShcc3w+KS9pLnRlc3QodFswXSk/dGhpcy5sZXhlci5zdGF0ZS5pblJhd0Jsb2NrPSEwOnRoaXMubGV4ZXIuc3RhdGUuaW5SYXdCbG9jayYmL148XC8ocHJlfGNvZGV8a2JkfHNjcmlwdCkoXHN8PikvaS50ZXN0KHRbMF0pJiYodGhpcy5sZXhlci5zdGF0ZS5pblJhd0Jsb2NrPSExKSx7dHlwZTp0aGlzLm9wdGlvbnMuc2FuaXRpemU/InRleHQiOiJodG1sIixyYXc6dFswXSxpbkxpbms6dGhpcy5sZXhlci5zdGF0ZS5pbkxpbmssaW5SYXdCbG9jazp0aGlzLmxleGVyLnN0YXRlLmluUmF3QmxvY2ssYmxvY2s6ITEsdGV4dDp0aGlzLm9wdGlvbnMuc2FuaXRpemU/dGhpcy5vcHRpb25zLnNhbml0aXplcj90aGlzLm9wdGlvbnMuc2FuaXRpemVyKHRbMF0pOk4odFswXSk6dFswXX19bGluayhuKXtjb25zdCB0PXRoaXMucnVsZXMuaW5saW5lLmxpbmsuZXhlYyhuKTtpZih0KXtjb25zdCByPXRbMl0udHJpbSgpO2lmKCF0aGlzLm9wdGlvbnMucGVkYW50aWMmJi9ePC8udGVzdChyKSl7aWYoIS8+JC8udGVzdChyKSlyZXR1cm47Y29uc3QgYT1TZShyLnNsaWNlKDAsLTEpLCJcXCIpO2lmKChyLmxlbmd0aC1hLmxlbmd0aCklMj09PTApcmV0dXJufWVsc2V7Y29uc3QgYT1LYSh0WzJdLCIoKSIpO2lmKGE+LTEpe2NvbnN0IG89KHRbMF0uaW5kZXhPZigiISIpPT09MD81OjQpK3RbMV0ubGVuZ3RoK2E7dFsyXT10WzJdLnN1YnN0cmluZygwLGEpLHRbMF09dFswXS5zdWJzdHJpbmcoMCxvKS50cmltKCksdFszXT0iIn19bGV0IGk9dFsyXSx1PSIiO2lmKHRoaXMub3B0aW9ucy5wZWRhbnRpYyl7Y29uc3QgYT0vXihbXiciXSpbXlxzXSlccysoWyciXSkoLiopXDIvLmV4ZWMoaSk7YSYmKGk9YVsxXSx1PWFbM10pfWVsc2UgdT10WzNdP3RbM10uc2xpY2UoMSwtMSk6IiI7cmV0dXJuIGk9aS50cmltKCksL148Ly50ZXN0KGkpJiYodGhpcy5vcHRpb25zLnBlZGFudGljJiYhLz4kLy50ZXN0KHIpP2k9aS5zbGljZSgxKTppPWkuc2xpY2UoMSwtMSkpLFVuKHQse2hyZWY6aSYmaS5yZXBsYWNlKHRoaXMucnVsZXMuaW5saW5lLl9lc2NhcGVzLCIkMSIpLHRpdGxlOnUmJnUucmVwbGFjZSh0aGlzLnJ1bGVzLmlubGluZS5fZXNjYXBlcywiJDEiKX0sdFswXSx0aGlzLmxleGVyKX19cmVmbGluayhuLHQpe2xldCByO2lmKChyPXRoaXMucnVsZXMuaW5saW5lLnJlZmxpbmsuZXhlYyhuKSl8fChyPXRoaXMucnVsZXMuaW5saW5lLm5vbGluay5leGVjKG4pKSl7bGV0IGk9KHJbMl18fHJbMV0pLnJlcGxhY2UoL1xzKy9nLCIgIik7aWYoaT10W2kudG9Mb3dlckNhc2UoKV0sIWkpe2NvbnN0IHU9clswXS5jaGFyQXQoMCk7cmV0dXJue3R5cGU6InRleHQiLHJhdzp1LHRleHQ6dX19cmV0dXJuIFVuKHIsaSxyWzBdLHRoaXMubGV4ZXIpfX1lbVN0cm9uZyhuLHQscj0iIil7bGV0IGk9dGhpcy5ydWxlcy5pbmxpbmUuZW1TdHJvbmcubERlbGltLmV4ZWMobik7aWYoIWl8fGlbM10mJnIubWF0Y2goL1tccHtMfVxwe059XS91KSlyZXR1cm47aWYoIShpWzFdfHxpWzJdfHwiIil8fCFyfHx0aGlzLnJ1bGVzLmlubGluZS5wdW5jdHVhdGlvbi5leGVjKHIpKXtjb25zdCBhPWlbMF0ubGVuZ3RoLTE7bGV0IHMsbyxsPWEscD0wO2NvbnN0IGY9aVswXVswXT09PSIqIj90aGlzLnJ1bGVzLmlubGluZS5lbVN0cm9uZy5yRGVsaW1Bc3Q6dGhpcy5ydWxlcy5pbmxpbmUuZW1TdHJvbmcuckRlbGltVW5kO2ZvcihmLmxhc3RJbmRleD0wLHQ9dC5zbGljZSgtMSpuLmxlbmd0aCthKTsoaT1mLmV4ZWModCkpIT1udWxsOyl7aWYocz1pWzFdfHxpWzJdfHxpWzNdfHxpWzRdfHxpWzVdfHxpWzZdLCFzKWNvbnRpbnVlO2lmKG89cy5sZW5ndGgsaVszXXx8aVs0XSl7bCs9bztjb250aW51ZX1lbHNlIGlmKChpWzVdfHxpWzZdKSYmYSUzJiYhKChhK28pJTMpKXtwKz1vO2NvbnRpbnVlfWlmKGwtPW8sbD4wKWNvbnRpbnVlO289TWF0aC5taW4obyxvK2wrcCk7Y29uc3QgZz1uLnNsaWNlKDAsYStpLmluZGV4K28rMSk7aWYoTWF0aC5taW4oYSxvKSUyKXtjb25zdCB2PWcuc2xpY2UoMSwtMSk7cmV0dXJue3R5cGU6ImVtIixyYXc6Zyx0ZXh0OnYsdG9rZW5zOnRoaXMubGV4ZXIuaW5saW5lVG9rZW5zKHYpfX1jb25zdCBkPWcuc2xpY2UoMiwtMik7cmV0dXJue3R5cGU6InN0cm9uZyIscmF3OmcsdGV4dDpkLHRva2Vuczp0aGlzLmxleGVyLmlubGluZVRva2VucyhkKX19fX1jb2Rlc3BhbihuKXtjb25zdCB0PXRoaXMucnVsZXMuaW5saW5lLmNvZGUuZXhlYyhuKTtpZih0KXtsZXQgcj10WzJdLnJlcGxhY2UoL1xuL2csIiAiKTtjb25zdCBpPS9bXiBdLy50ZXN0KHIpLHU9L14gLy50ZXN0KHIpJiYvICQvLnRlc3Qocik7cmV0dXJuIGkmJnUmJihyPXIuc3Vic3RyaW5nKDEsci5sZW5ndGgtMSkpLHI9TihyLCEwKSx7dHlwZToiY29kZXNwYW4iLHJhdzp0WzBdLHRleHQ6cn19fWJyKG4pe2NvbnN0IHQ9dGhpcy5ydWxlcy5pbmxpbmUuYnIuZXhlYyhuKTtpZih0KXJldHVybnt0eXBlOiJiciIscmF3OnRbMF19fWRlbChuKXtjb25zdCB0PXRoaXMucnVsZXMuaW5saW5lLmRlbC5leGVjKG4pO2lmKHQpcmV0dXJue3R5cGU6ImRlbCIscmF3OnRbMF0sdGV4dDp0WzJdLHRva2Vuczp0aGlzLmxleGVyLmlubGluZVRva2Vucyh0WzJdKX19YXV0b2xpbmsobix0KXtjb25zdCByPXRoaXMucnVsZXMuaW5saW5lLmF1dG9saW5rLmV4ZWMobik7aWYocil7bGV0IGksdTtyZXR1cm4gclsyXT09PSJAIj8oaT1OKHRoaXMub3B0aW9ucy5tYW5nbGU/dChyWzFdKTpyWzFdKSx1PSJtYWlsdG86IitpKTooaT1OKHJbMV0pLHU9aSkse3R5cGU6ImxpbmsiLHJhdzpyWzBdLHRleHQ6aSxocmVmOnUsdG9rZW5zOlt7dHlwZToidGV4dCIscmF3OmksdGV4dDppfV19fX11cmwobix0KXtsZXQgcjtpZihyPXRoaXMucnVsZXMuaW5saW5lLnVybC5leGVjKG4pKXtsZXQgaSx1O2lmKHJbMl09PT0iQCIpaT1OKHRoaXMub3B0aW9ucy5tYW5nbGU/dChyWzBdKTpyWzBdKSx1PSJtYWlsdG86IitpO2Vsc2V7bGV0IGE7ZG8gYT1yWzBdLHJbMF09dGhpcy5ydWxlcy5pbmxpbmUuX2JhY2twZWRhbC5leGVjKHJbMF0pWzBdO3doaWxlKGEhPT1yWzBdKTtpPU4oclswXSksclsxXT09PSJ3d3cuIj91PSJodHRwOi8vIityWzBdOnU9clswXX1yZXR1cm57dHlwZToibGluayIscmF3OnJbMF0sdGV4dDppLGhyZWY6dSx0b2tlbnM6W3t0eXBlOiJ0ZXh0IixyYXc6aSx0ZXh0Oml9XX19fWlubGluZVRleHQobix0KXtjb25zdCByPXRoaXMucnVsZXMuaW5saW5lLnRleHQuZXhlYyhuKTtpZihyKXtsZXQgaTtyZXR1cm4gdGhpcy5sZXhlci5zdGF0ZS5pblJhd0Jsb2NrP2k9dGhpcy5vcHRpb25zLnNhbml0aXplP3RoaXMub3B0aW9ucy5zYW5pdGl6ZXI/dGhpcy5vcHRpb25zLnNhbml0aXplcihyWzBdKTpOKHJbMF0pOnJbMF06aT1OKHRoaXMub3B0aW9ucy5zbWFydHlwYW50cz90KHJbMF0pOnJbMF0pLHt0eXBlOiJ0ZXh0IixyYXc6clswXSx0ZXh0Oml9fX19Y29uc3QgRT17bmV3bGluZTovXig/OiAqKD86XG58JCkpKy8sY29kZTovXiggezR9W15cbl0rKD86XG4oPzogKig/OlxufCQpKSopPykrLyxmZW5jZXM6L14gezAsM30oYHszLH0oPz1bXmBcbl0qKD86XG58JCkpfH57Myx9KShbXlxuXSopKD86XG58JCkoPzp8KFtcc1xTXSo/KSg/OlxufCQpKSg/OiB7MCwzfVwxW35gXSogKig/PVxufCQpfCQpLyxocjovXiB7MCwzfSgoPzotW1x0IF0qKXszLH18KD86X1sgXHRdKil7Myx9fCg/OlwqWyBcdF0qKXszLH0pKD86XG4rfCQpLyxoZWFkaW5nOi9eIHswLDN9KCN7MSw2fSkoPz1cc3wkKSguKikoPzpcbit8JCkvLGJsb2NrcXVvdGU6L14oIHswLDN9PiA/KHBhcmFncmFwaHxbXlxuXSopKD86XG58JCkpKy8sbGlzdDovXiggezAsM31idWxsKShbIFx0XVteXG5dKz8pPyg/OlxufCQpLyxodG1sOiJeIHswLDN9KD86PChzY3JpcHR8cHJlfHN0eWxlfHRleHRhcmVhKVtcXHM+XVtcXHNcXFNdKj8oPzo8L1xcMT5bXlxcbl0qXFxuK3wkKXxjb21tZW50W15cXG5dKihcXG4rfCQpfDxcXD9bXFxzXFxTXSo/KD86XFw/Plxcbip8JCl8PCFbQS1aXVtcXHNcXFNdKj8oPzo+XFxuKnwkKXw8IVxcW0NEQVRBXFxbW1xcc1xcU10qPyg/OlxcXVxcXT5cXG4qfCQpfDwvPyh0YWcpKD86ICt8XFxufC8/PilbXFxzXFxTXSo/KD86KD86XFxuICopK1xcbnwkKXw8KD8hc2NyaXB0fHByZXxzdHlsZXx0ZXh0YXJlYSkoW2Etel1bXFx3LV0qKSg/OmF0dHJpYnV0ZSkqPyAqLz8+KD89WyBcXHRdKig/OlxcbnwkKSlbXFxzXFxTXSo/KD86KD86XFxuICopK1xcbnwkKXw8Lyg/IXNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWEpW2Etel1bXFx3LV0qXFxzKj4oPz1bIFxcdF0qKD86XFxufCQpKVtcXHNcXFNdKj8oPzooPzpcXG4gKikrXFxufCQpKSIsZGVmOi9eIHswLDN9XFsobGFiZWwpXF06ICooPzpcbiAqKT8oW148XHNdW15cc10qfDwuKj8+KSg/Oig/OiArKD86XG4gKik/fCAqXG4gKikodGl0bGUpKT8gKig/OlxuK3wkKS8sdGFibGU6UGUsbGhlYWRpbmc6L14oKD86KD8hXmJ1bGwgKS58XG4oPyFcbnxidWxsICkpKz8pXG4gezAsM30oPSt8LSspICooPzpcbit8JCkvLF9wYXJhZ3JhcGg6L14oW15cbl0rKD86XG4oPyFocnxoZWFkaW5nfGxoZWFkaW5nfGJsb2NrcXVvdGV8ZmVuY2VzfGxpc3R8aHRtbHx0YWJsZXwgK1xuKVteXG5dKykqKS8sdGV4dDovXlteXG5dKy99O0UuX2xhYmVsPS8oPyFccypcXSkoPzpcXC58W15cW1xdXFxdKSsvO0UuX3RpdGxlPS8oPzoiKD86XFwiP3xbXiJcXF0pKiJ8J1teJ1xuXSooPzpcblteJ1xuXSspKlxuPyd8XChbXigpXSpcKSkvO0UuZGVmPVQoRS5kZWYpLnJlcGxhY2UoImxhYmVsIixFLl9sYWJlbCkucmVwbGFjZSgidGl0bGUiLEUuX3RpdGxlKS5nZXRSZWdleCgpO0UuYnVsbGV0PS8oPzpbKistXXxcZHsxLDl9Wy4pXSkvO0UubGlzdEl0ZW1TdGFydD1UKC9eKCAqKShidWxsKSAqLykucmVwbGFjZSgiYnVsbCIsRS5idWxsZXQpLmdldFJlZ2V4KCk7RS5saXN0PVQoRS5saXN0KS5yZXBsYWNlKC9idWxsL2csRS5idWxsZXQpLnJlcGxhY2UoImhyIiwiXFxuKyg/PVxcMT8oPzooPzotICopezMsfXwoPzpfICopezMsfXwoPzpcXCogKil7Myx9KSg/Olxcbit8JCkpIikucmVwbGFjZSgiZGVmIiwiXFxuKyg/PSIrRS5kZWYuc291cmNlKyIpIikuZ2V0UmVnZXgoKTtFLl90YWc9ImFkZHJlc3N8YXJ0aWNsZXxhc2lkZXxiYXNlfGJhc2Vmb250fGJsb2NrcXVvdGV8Ym9keXxjYXB0aW9ufGNlbnRlcnxjb2x8Y29sZ3JvdXB8ZGR8ZGV0YWlsc3xkaWFsb2d8ZGlyfGRpdnxkbHxkdHxmaWVsZHNldHxmaWdjYXB0aW9ufGZpZ3VyZXxmb290ZXJ8Zm9ybXxmcmFtZXxmcmFtZXNldHxoWzEtNl18aGVhZHxoZWFkZXJ8aHJ8aHRtbHxpZnJhbWV8bGVnZW5kfGxpfGxpbmt8bWFpbnxtZW51fG1lbnVpdGVtfG1ldGF8bmF2fG5vZnJhbWVzfG9sfG9wdGdyb3VwfG9wdGlvbnxwfHBhcmFtfHNlY3Rpb258c291cmNlfHN1bW1hcnl8dGFibGV8dGJvZHl8dGR8dGZvb3R8dGh8dGhlYWR8dGl0bGV8dHJ8dHJhY2t8dWwiO0UuX2NvbW1lbnQ9LzwhLS0oPyEtPz4pW1xzXFNdKj8oPzotLT58JCkvO0UuaHRtbD1UKEUuaHRtbCwiaSIpLnJlcGxhY2UoImNvbW1lbnQiLEUuX2NvbW1lbnQpLnJlcGxhY2UoInRhZyIsRS5fdGFnKS5yZXBsYWNlKCJhdHRyaWJ1dGUiLC8gK1thLXpBLVo6X11bXHcuOi1dKig/OiAqPSAqIlteIlxuXSoifCAqPSAqJ1teJ1xuXSonfCAqPSAqW15ccyInPTw+YF0rKT8vKS5nZXRSZWdleCgpO0UubGhlYWRpbmc9VChFLmxoZWFkaW5nKS5yZXBsYWNlKC9idWxsL2csRS5idWxsZXQpLmdldFJlZ2V4KCk7RS5wYXJhZ3JhcGg9VChFLl9wYXJhZ3JhcGgpLnJlcGxhY2UoImhyIixFLmhyKS5yZXBsYWNlKCJoZWFkaW5nIiwiIHswLDN9I3sxLDZ9ICIpLnJlcGxhY2UoInxsaGVhZGluZyIsIiIpLnJlcGxhY2UoInx0YWJsZSIsIiIpLnJlcGxhY2UoImJsb2NrcXVvdGUiLCIgezAsM30+IikucmVwbGFjZSgiZmVuY2VzIiwiIHswLDN9KD86YHszLH0oPz1bXmBcXG5dKlxcbil8fnszLH0pW15cXG5dKlxcbiIpLnJlcGxhY2UoImxpc3QiLCIgezAsM30oPzpbKistXXwxWy4pXSkgIikucmVwbGFjZSgiaHRtbCIsIjwvPyg/OnRhZykoPzogK3xcXG58Lz8+KXw8KD86c2NyaXB0fHByZXxzdHlsZXx0ZXh0YXJlYXwhLS0pIikucmVwbGFjZSgidGFnIixFLl90YWcpLmdldFJlZ2V4KCk7RS5ibG9ja3F1b3RlPVQoRS5ibG9ja3F1b3RlKS5yZXBsYWNlKCJwYXJhZ3JhcGgiLEUucGFyYWdyYXBoKS5nZXRSZWdleCgpO0Uubm9ybWFsPXsuLi5FfTtFLmdmbT17Li4uRS5ub3JtYWwsdGFibGU6Il4gKihbXlxcbiBdLipcXHwuKilcXG4gezAsM30oPzpcXHwgKik/KDo/LSs6PyAqKD86XFx8ICo6Py0rOj8gKikqKSg/OlxcfCAqKT8oPzpcXG4oKD86KD8hICpcXG58aHJ8aGVhZGluZ3xibG9ja3F1b3RlfGNvZGV8ZmVuY2VzfGxpc3R8aHRtbCkuKig/OlxcbnwkKSkqKVxcbip8JCkifTtFLmdmbS50YWJsZT1UKEUuZ2ZtLnRhYmxlKS5yZXBsYWNlKCJociIsRS5ocikucmVwbGFjZSgiaGVhZGluZyIsIiB7MCwzfSN7MSw2fSAiKS5yZXBsYWNlKCJibG9ja3F1b3RlIiwiIHswLDN9PiIpLnJlcGxhY2UoImNvZGUiLCIgezR9W15cXG5dIikucmVwbGFjZSgiZmVuY2VzIiwiIHswLDN9KD86YHszLH0oPz1bXmBcXG5dKlxcbil8fnszLH0pW15cXG5dKlxcbiIpLnJlcGxhY2UoImxpc3QiLCIgezAsM30oPzpbKistXXwxWy4pXSkgIikucmVwbGFjZSgiaHRtbCIsIjwvPyg/OnRhZykoPzogK3xcXG58Lz8+KXw8KD86c2NyaXB0fHByZXxzdHlsZXx0ZXh0YXJlYXwhLS0pIikucmVwbGFjZSgidGFnIixFLl90YWcpLmdldFJlZ2V4KCk7RS5nZm0ucGFyYWdyYXBoPVQoRS5fcGFyYWdyYXBoKS5yZXBsYWNlKCJociIsRS5ocikucmVwbGFjZSgiaGVhZGluZyIsIiB7MCwzfSN7MSw2fSAiKS5yZXBsYWNlKCJ8bGhlYWRpbmciLCIiKS5yZXBsYWNlKCJ0YWJsZSIsRS5nZm0udGFibGUpLnJlcGxhY2UoImJsb2NrcXVvdGUiLCIgezAsM30+IikucmVwbGFjZSgiZmVuY2VzIiwiIHswLDN9KD86YHszLH0oPz1bXmBcXG5dKlxcbil8fnszLH0pW15cXG5dKlxcbiIpLnJlcGxhY2UoImxpc3QiLCIgezAsM30oPzpbKistXXwxWy4pXSkgIikucmVwbGFjZSgiaHRtbCIsIjwvPyg/OnRhZykoPzogK3xcXG58Lz8+KXw8KD86c2NyaXB0fHByZXxzdHlsZXx0ZXh0YXJlYXwhLS0pIikucmVwbGFjZSgidGFnIixFLl90YWcpLmdldFJlZ2V4KCk7RS5wZWRhbnRpYz17Li4uRS5ub3JtYWwsaHRtbDpUKGBeICooPzpjb21tZW50ICooPzpcXG58XFxzKiQpfDwodGFnKVtcXHNcXFNdKz88L1xcMT4gKig/OlxcbnsyLH18XFxzKiQpfDx0YWcoPzoiW14iXSoifCdbXiddKid8XFxzW14nIi8+XFxzXSopKj8vPz4gKig/OlxcbnsyLH18XFxzKiQpKWApLnJlcGxhY2UoImNvbW1lbnQiLEUuX2NvbW1lbnQpLnJlcGxhY2UoL3RhZy9nLCIoPyEoPzphfGVtfHN0cm9uZ3xzbWFsbHxzfGNpdGV8cXxkZm58YWJicnxkYXRhfHRpbWV8Y29kZXx2YXJ8c2FtcHxrYmR8c3VifHN1cHxpfGJ8dXxtYXJrfHJ1Ynl8cnR8cnB8YmRpfGJkb3xzcGFufGJyfHdicnxpbnN8ZGVsfGltZylcXGIpXFx3Kyg/ITp8W15cXHdcXHNAXSpAKVxcYiIpLmdldFJlZ2V4KCksZGVmOi9eICpcWyhbXlxdXSspXF06ICo8PyhbXlxzPl0rKT4/KD86ICsoWyIoXVteXG5dK1siKV0pKT8gKig/OlxuK3wkKS8saGVhZGluZzovXigjezEsNn0pKC4qKSg/OlxuK3wkKS8sZmVuY2VzOlBlLGxoZWFkaW5nOi9eKC4rPylcbiB7MCwzfSg9K3wtKykgKig/OlxuK3wkKS8scGFyYWdyYXBoOlQoRS5ub3JtYWwuX3BhcmFncmFwaCkucmVwbGFjZSgiaHIiLEUuaHIpLnJlcGxhY2UoImhlYWRpbmciLGAgKiN7MSw2fSAqW14KXWApLnJlcGxhY2UoImxoZWFkaW5nIixFLmxoZWFkaW5nKS5yZXBsYWNlKCJibG9ja3F1b3RlIiwiIHswLDN9PiIpLnJlcGxhY2UoInxmZW5jZXMiLCIiKS5yZXBsYWNlKCJ8bGlzdCIsIiIpLnJlcGxhY2UoInxodG1sIiwiIikuZ2V0UmVnZXgoKX07Y29uc3QgQT17ZXNjYXBlOi9eXFwoWyEiIyQlJicoKSorLFwtLi86Ozw9Pj9AXFtcXVxcXl9ge3x9fl0pLyxhdXRvbGluazovXjwoc2NoZW1lOlteXHNceDAwLVx4MWY8Pl0qfGVtYWlsKT4vLHVybDpQZSx0YWc6Il5jb21tZW50fF48L1thLXpBLVpdW1xcdzotXSpcXHMqPnxePFthLXpBLVpdW1xcdy1dKig/OmF0dHJpYnV0ZSkqP1xccyovPz58XjxcXD9bXFxzXFxTXSo/XFw/PnxePCFbYS16QS1aXStcXHNbXFxzXFxTXSo/PnxePCFcXFtDREFUQVxcW1tcXHNcXFNdKj9cXF1cXF0+IixsaW5rOi9eIT9cWyhsYWJlbClcXVwoXHMqKGhyZWYpKD86XHMrKHRpdGxlKSk/XHMqXCkvLHJlZmxpbms6L14hP1xbKGxhYmVsKVxdXFsocmVmKVxdLyxub2xpbms6L14hP1xbKHJlZilcXSg/OlxbXF0pPy8scmVmbGlua1NlYXJjaDoicmVmbGlua3xub2xpbmsoPyFcXCgpIixlbVN0cm9uZzp7bERlbGltOi9eKD86XCorKD86KCg/IVwqKVtwdW5jdF0pfFteXHMqXSkpfF5fKyg/OigoPyFfKVtwdW5jdF0pfChbXlxzX10pKS8sckRlbGltQXN0Oi9eW15fKl0qP19fW15fKl0qP1wqW15fKl0qPyg/PV9fKXxbXipdKyg/PVteKl0pfCg/IVwqKVtwdW5jdF0oXCorKSg/PVtcc118JCl8W15wdW5jdFxzXShcKispKD8hXCopKD89W3B1bmN0XHNdfCQpfCg/IVwqKVtwdW5jdFxzXShcKispKD89W15wdW5jdFxzXSl8W1xzXShcKispKD8hXCopKD89W3B1bmN0XSl8KD8hXCopW3B1bmN0XShcKispKD8hXCopKD89W3B1bmN0XSl8W15wdW5jdFxzXShcKispKD89W15wdW5jdFxzXSkvLHJEZWxpbVVuZDovXlteXypdKj9cKlwqW15fKl0qP19bXl8qXSo/KD89XCpcKil8W15fXSsoPz1bXl9dKXwoPyFfKVtwdW5jdF0oXyspKD89W1xzXXwkKXxbXnB1bmN0XHNdKF8rKSg/IV8pKD89W3B1bmN0XHNdfCQpfCg/IV8pW3B1bmN0XHNdKF8rKSg/PVtecHVuY3Rcc10pfFtcc10oXyspKD8hXykoPz1bcHVuY3RdKXwoPyFfKVtwdW5jdF0oXyspKD8hXykoPz1bcHVuY3RdKS99LGNvZGU6L14oYCspKFteYF18W15gXVtcc1xTXSo/W15gXSlcMSg/IWApLyxicjovXiggezIsfXxcXClcbig/IVxzKiQpLyxkZWw6UGUsdGV4dDovXihgK3xbXmBdKSg/Oig/PSB7Mix9XG4pfFtcc1xTXSo/KD86KD89W1xcPCFcW2AqX118XGJffCQpfFteIF0oPz0gezIsfVxuKSkpLyxwdW5jdHVhdGlvbjovXigoPyFbKl9dKVtcc3B1bmN0dWF0aW9uXSkvfTtBLl9wdW5jdHVhdGlvbj0iXFxwe1B9JCs8PT5gXnx+IjtBLnB1bmN0dWF0aW9uPVQoQS5wdW5jdHVhdGlvbiwidSIpLnJlcGxhY2UoL3B1bmN0dWF0aW9uL2csQS5fcHVuY3R1YXRpb24pLmdldFJlZ2V4KCk7QS5ibG9ja1NraXA9L1xbW15bXF1dKj9cXVwoW15cKFwpXSo/XCl8YFteYF0qP2B8PFtePD5dKj8+L2c7QS5hbnlQdW5jdHVhdGlvbj0vXFxbcHVuY3RdL2c7QS5fZXNjYXBlcz0vXFwoW3B1bmN0XSkvZztBLl9jb21tZW50PVQoRS5fY29tbWVudCkucmVwbGFjZSgiKD86LS0+fCQpIiwiLS0+IikuZ2V0UmVnZXgoKTtBLmVtU3Ryb25nLmxEZWxpbT1UKEEuZW1TdHJvbmcubERlbGltLCJ1IikucmVwbGFjZSgvcHVuY3QvZyxBLl9wdW5jdHVhdGlvbikuZ2V0UmVnZXgoKTtBLmVtU3Ryb25nLnJEZWxpbUFzdD1UKEEuZW1TdHJvbmcuckRlbGltQXN0LCJndSIpLnJlcGxhY2UoL3B1bmN0L2csQS5fcHVuY3R1YXRpb24pLmdldFJlZ2V4KCk7QS5lbVN0cm9uZy5yRGVsaW1VbmQ9VChBLmVtU3Ryb25nLnJEZWxpbVVuZCwiZ3UiKS5yZXBsYWNlKC9wdW5jdC9nLEEuX3B1bmN0dWF0aW9uKS5nZXRSZWdleCgpO0EuYW55UHVuY3R1YXRpb249VChBLmFueVB1bmN0dWF0aW9uLCJndSIpLnJlcGxhY2UoL3B1bmN0L2csQS5fcHVuY3R1YXRpb24pLmdldFJlZ2V4KCk7QS5fZXNjYXBlcz1UKEEuX2VzY2FwZXMsImd1IikucmVwbGFjZSgvcHVuY3QvZyxBLl9wdW5jdHVhdGlvbikuZ2V0UmVnZXgoKTtBLl9zY2hlbWU9L1thLXpBLVpdW2EtekEtWjAtOSsuLV17MSwzMX0vO0EuX2VtYWlsPS9bYS16QS1aMC05LiEjJCUmJyorLz0/Xl9ge3x9fi1dKyhAKVthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSsoPyFbLV9dKS87QS5hdXRvbGluaz1UKEEuYXV0b2xpbmspLnJlcGxhY2UoInNjaGVtZSIsQS5fc2NoZW1lKS5yZXBsYWNlKCJlbWFpbCIsQS5fZW1haWwpLmdldFJlZ2V4KCk7QS5fYXR0cmlidXRlPS9ccytbYS16QS1aOl9dW1x3LjotXSooPzpccyo9XHMqIlteIl0qInxccyo9XHMqJ1teJ10qJ3xccyo9XHMqW15ccyInPTw+YF0rKT8vO0EudGFnPVQoQS50YWcpLnJlcGxhY2UoImNvbW1lbnQiLEEuX2NvbW1lbnQpLnJlcGxhY2UoImF0dHJpYnV0ZSIsQS5fYXR0cmlidXRlKS5nZXRSZWdleCgpO0EuX2xhYmVsPS8oPzpcWyg/OlxcLnxbXlxbXF1cXF0pKlxdfFxcLnxgW15gXSpgfFteXFtcXVxcYF0pKj8vO0EuX2hyZWY9LzwoPzpcXC58W15cbjw+XFxdKSs+fFteXHNceDAwLVx4MWZdKi87QS5fdGl0bGU9LyIoPzpcXCI/fFteIlxcXSkqInwnKD86XFwnP3xbXidcXF0pKid8XCgoPzpcXFwpP3xbXilcXF0pKlwpLztBLmxpbms9VChBLmxpbmspLnJlcGxhY2UoImxhYmVsIixBLl9sYWJlbCkucmVwbGFjZSgiaHJlZiIsQS5faHJlZikucmVwbGFjZSgidGl0bGUiLEEuX3RpdGxlKS5nZXRSZWdleCgpO0EucmVmbGluaz1UKEEucmVmbGluaykucmVwbGFjZSgibGFiZWwiLEEuX2xhYmVsKS5yZXBsYWNlKCJyZWYiLEUuX2xhYmVsKS5nZXRSZWdleCgpO0Eubm9saW5rPVQoQS5ub2xpbmspLnJlcGxhY2UoInJlZiIsRS5fbGFiZWwpLmdldFJlZ2V4KCk7QS5yZWZsaW5rU2VhcmNoPVQoQS5yZWZsaW5rU2VhcmNoLCJnIikucmVwbGFjZSgicmVmbGluayIsQS5yZWZsaW5rKS5yZXBsYWNlKCJub2xpbmsiLEEubm9saW5rKS5nZXRSZWdleCgpO0Eubm9ybWFsPXsuLi5BfTtBLnBlZGFudGljPXsuLi5BLm5vcm1hbCxzdHJvbmc6e3N0YXJ0Oi9eX198XCpcKi8sbWlkZGxlOi9eX18oPz1cUykoW1xzXFNdKj9cUylfXyg/IV8pfF5cKlwqKD89XFMpKFtcc1xTXSo/XFMpXCpcKig/IVwqKS8sZW5kQXN0Oi9cKlwqKD8hXCopL2csZW5kVW5kOi9fXyg/IV8pL2d9LGVtOntzdGFydDovXl98XCovLG1pZGRsZTovXigpXCooPz1cUykoW1xzXFNdKj9cUylcKig/IVwqKXxeXyg/PVxTKShbXHNcU10qP1xTKV8oPyFfKS8sZW5kQXN0Oi9cKig/IVwqKS9nLGVuZFVuZDovXyg/IV8pL2d9LGxpbms6VCgvXiE/XFsobGFiZWwpXF1cKCguKj8pXCkvKS5yZXBsYWNlKCJsYWJlbCIsQS5fbGFiZWwpLmdldFJlZ2V4KCkscmVmbGluazpUKC9eIT9cWyhsYWJlbClcXVxzKlxbKFteXF1dKilcXS8pLnJlcGxhY2UoImxhYmVsIixBLl9sYWJlbCkuZ2V0UmVnZXgoKX07QS5nZm09ey4uLkEubm9ybWFsLGVzY2FwZTpUKEEuZXNjYXBlKS5yZXBsYWNlKCJdKSIsIn58XSkiKS5nZXRSZWdleCgpLF9leHRlbmRlZF9lbWFpbDovW0EtWmEtejAtOS5fKy1dKyhAKVthLXpBLVowLTktX10rKD86XC5bYS16QS1aMC05LV9dKlthLXpBLVowLTldKSsoPyFbLV9dKS8sdXJsOi9eKCg/OmZ0cHxodHRwcz8pOlwvXC98d3d3XC4pKD86W2EtekEtWjAtOVwtXStcLj8pK1teXHM8XSp8XmVtYWlsLyxfYmFja3BlZGFsOi8oPzpbXj8hLiw6OypfJyJ+KCkmXSt8XChbXildKlwpfCYoPyFbYS16QS1aMC05XSs7JCl8Wz8hLiw6OypfJyJ+KV0rKD8hJCkpKy8sZGVsOi9eKH5+PykoPz1bXlxzfl0pKFtcc1xTXSo/W15cc35dKVwxKD89W15+XXwkKS8sdGV4dDovXihbYH5dK3xbXmB+XSkoPzooPz0gezIsfVxuKXwoPz1bYS16QS1aMC05LiEjJCUmJyorXC89P19ge1x8fX4tXStAKXxbXHNcU10qPyg/Oig/PVtcXDwhXFtgKn5fXXxcYl98aHR0cHM/OlwvXC98ZnRwOlwvXC98d3d3XC58JCl8W14gXSg/PSB7Mix9XG4pfFteYS16QS1aMC05LiEjJCUmJyorXC89P19ge1x8fX4tXSg/PVthLXpBLVowLTkuISMkJSYnKitcLz0/X2B7XHx9fi1dK0ApKSkvfTtBLmdmbS51cmw9VChBLmdmbS51cmwsImkiKS5yZXBsYWNlKCJlbWFpbCIsQS5nZm0uX2V4dGVuZGVkX2VtYWlsKS5nZXRSZWdleCgpO0EuYnJlYWtzPXsuLi5BLmdmbSxicjpUKEEuYnIpLnJlcGxhY2UoInsyLH0iLCIqIikuZ2V0UmVnZXgoKSx0ZXh0OlQoQS5nZm0udGV4dCkucmVwbGFjZSgiXFxiXyIsIlxcYl98IHsyLH1cXG4iKS5yZXBsYWNlKC9cezIsXH0vZywiKiIpLmdldFJlZ2V4KCl9O2Z1bmN0aW9uIFFhKGUpe3JldHVybiBlLnJlcGxhY2UoLy0tLS9nLCLigJQiKS5yZXBsYWNlKC8tLS9nLCLigJMiKS5yZXBsYWNlKC8oXnxbLVx1MjAxNC8oXFt7IlxzXSknL2csIiQx4oCYIikucmVwbGFjZSgvJy9nLCLigJkiKS5yZXBsYWNlKC8oXnxbLVx1MjAxNC8oXFt7XHUyMDE4XHNdKSIvZywiJDHigJwiKS5yZXBsYWNlKC8iL2csIuKAnSIpLnJlcGxhY2UoL1wuezN9L2csIuKApiIpfWZ1bmN0aW9uIFluKGUpe2xldCBuPSIiLHQscjtjb25zdCBpPWUubGVuZ3RoO2Zvcih0PTA7dDxpO3QrKylyPWUuY2hhckNvZGVBdCh0KSxNYXRoLnJhbmRvbSgpPi41JiYocj0ieCIrci50b1N0cmluZygxNikpLG4rPSImIyIrcisiOyI7cmV0dXJuIG59Y2xhc3MgcXtjb25zdHJ1Y3RvcihuKXt0aGlzLnRva2Vucz1bXSx0aGlzLnRva2Vucy5saW5rcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMub3B0aW9ucz1ufHxKLHRoaXMub3B0aW9ucy50b2tlbml6ZXI9dGhpcy5vcHRpb25zLnRva2VuaXplcnx8bmV3IE5lLHRoaXMudG9rZW5pemVyPXRoaXMub3B0aW9ucy50b2tlbml6ZXIsdGhpcy50b2tlbml6ZXIub3B0aW9ucz10aGlzLm9wdGlvbnMsdGhpcy50b2tlbml6ZXIubGV4ZXI9dGhpcyx0aGlzLmlubGluZVF1ZXVlPVtdLHRoaXMuc3RhdGU9e2luTGluazohMSxpblJhd0Jsb2NrOiExLHRvcDohMH07Y29uc3QgdD17YmxvY2s6RS5ub3JtYWwsaW5saW5lOkEubm9ybWFsfTt0aGlzLm9wdGlvbnMucGVkYW50aWM/KHQuYmxvY2s9RS5wZWRhbnRpYyx0LmlubGluZT1BLnBlZGFudGljKTp0aGlzLm9wdGlvbnMuZ2ZtJiYodC5ibG9jaz1FLmdmbSx0aGlzLm9wdGlvbnMuYnJlYWtzP3QuaW5saW5lPUEuYnJlYWtzOnQuaW5saW5lPUEuZ2ZtKSx0aGlzLnRva2VuaXplci5ydWxlcz10fXN0YXRpYyBnZXQgcnVsZXMoKXtyZXR1cm57YmxvY2s6RSxpbmxpbmU6QX19c3RhdGljIGxleChuLHQpe3JldHVybiBuZXcgcSh0KS5sZXgobil9c3RhdGljIGxleElubGluZShuLHQpe3JldHVybiBuZXcgcSh0KS5pbmxpbmVUb2tlbnMobil9bGV4KG4pe249bi5yZXBsYWNlKC9cclxufFxyL2csYApgKSx0aGlzLmJsb2NrVG9rZW5zKG4sdGhpcy50b2tlbnMpO2xldCB0O2Zvcig7dD10aGlzLmlubGluZVF1ZXVlLnNoaWZ0KCk7KXRoaXMuaW5saW5lVG9rZW5zKHQuc3JjLHQudG9rZW5zKTtyZXR1cm4gdGhpcy50b2tlbnN9YmxvY2tUb2tlbnMobix0PVtdKXt0aGlzLm9wdGlvbnMucGVkYW50aWM/bj1uLnJlcGxhY2UoL1x0L2csIiAgICAiKS5yZXBsYWNlKC9eICskL2dtLCIiKTpuPW4ucmVwbGFjZSgvXiggKikoXHQrKS9nbSwocyxvLGwpPT5vKyIgICAgIi5yZXBlYXQobC5sZW5ndGgpKTtsZXQgcixpLHUsYTtmb3IoO247KWlmKCEodGhpcy5vcHRpb25zLmV4dGVuc2lvbnMmJnRoaXMub3B0aW9ucy5leHRlbnNpb25zLmJsb2NrJiZ0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5ibG9jay5zb21lKHM9PihyPXMuY2FsbCh7bGV4ZXI6dGhpc30sbix0KSk/KG49bi5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gociksITApOiExKSkpe2lmKHI9dGhpcy50b2tlbml6ZXIuc3BhY2Uobikpe249bi5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSxyLnJhdy5sZW5ndGg9PT0xJiZ0Lmxlbmd0aD4wP3RbdC5sZW5ndGgtMV0ucmF3Kz1gCmA6dC5wdXNoKHIpO2NvbnRpbnVlfWlmKHI9dGhpcy50b2tlbml6ZXIuY29kZShuKSl7bj1uLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLGk9dFt0Lmxlbmd0aC0xXSxpJiYoaS50eXBlPT09InBhcmFncmFwaCJ8fGkudHlwZT09PSJ0ZXh0Iik/KGkucmF3Kz1gCmArci5yYXcsaS50ZXh0Kz1gCmArci50ZXh0LHRoaXMuaW5saW5lUXVldWVbdGhpcy5pbmxpbmVRdWV1ZS5sZW5ndGgtMV0uc3JjPWkudGV4dCk6dC5wdXNoKHIpO2NvbnRpbnVlfWlmKHI9dGhpcy50b2tlbml6ZXIuZmVuY2VzKG4pKXtuPW4uc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksdC5wdXNoKHIpO2NvbnRpbnVlfWlmKHI9dGhpcy50b2tlbml6ZXIuaGVhZGluZyhuKSl7bj1uLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLHQucHVzaChyKTtjb250aW51ZX1pZihyPXRoaXMudG9rZW5pemVyLmhyKG4pKXtuPW4uc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksdC5wdXNoKHIpO2NvbnRpbnVlfWlmKHI9dGhpcy50b2tlbml6ZXIuYmxvY2txdW90ZShuKSl7bj1uLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLHQucHVzaChyKTtjb250aW51ZX1pZihyPXRoaXMudG9rZW5pemVyLmxpc3Qobikpe249bi5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gocik7Y29udGludWV9aWYocj10aGlzLnRva2VuaXplci5odG1sKG4pKXtuPW4uc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksdC5wdXNoKHIpO2NvbnRpbnVlfWlmKHI9dGhpcy50b2tlbml6ZXIuZGVmKG4pKXtuPW4uc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksaT10W3QubGVuZ3RoLTFdLGkmJihpLnR5cGU9PT0icGFyYWdyYXBoInx8aS50eXBlPT09InRleHQiKT8oaS5yYXcrPWAKYCtyLnJhdyxpLnRleHQrPWAKYCtyLnJhdyx0aGlzLmlubGluZVF1ZXVlW3RoaXMuaW5saW5lUXVldWUubGVuZ3RoLTFdLnNyYz1pLnRleHQpOnRoaXMudG9rZW5zLmxpbmtzW3IudGFnXXx8KHRoaXMudG9rZW5zLmxpbmtzW3IudGFnXT17aHJlZjpyLmhyZWYsdGl0bGU6ci50aXRsZX0pO2NvbnRpbnVlfWlmKHI9dGhpcy50b2tlbml6ZXIudGFibGUobikpe249bi5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gocik7Y29udGludWV9aWYocj10aGlzLnRva2VuaXplci5saGVhZGluZyhuKSl7bj1uLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLHQucHVzaChyKTtjb250aW51ZX1pZih1PW4sdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMmJnRoaXMub3B0aW9ucy5leHRlbnNpb25zLnN0YXJ0QmxvY2spe2xldCBzPTEvMDtjb25zdCBvPW4uc2xpY2UoMSk7bGV0IGw7dGhpcy5vcHRpb25zLmV4dGVuc2lvbnMuc3RhcnRCbG9jay5mb3JFYWNoKGZ1bmN0aW9uKHApe2w9cC5jYWxsKHtsZXhlcjp0aGlzfSxvKSx0eXBlb2YgbD09Im51bWJlciImJmw+PTAmJihzPU1hdGgubWluKHMsbCkpfSksczwxLzAmJnM+PTAmJih1PW4uc3Vic3RyaW5nKDAscysxKSl9aWYodGhpcy5zdGF0ZS50b3AmJihyPXRoaXMudG9rZW5pemVyLnBhcmFncmFwaCh1KSkpe2k9dFt0Lmxlbmd0aC0xXSxhJiZpLnR5cGU9PT0icGFyYWdyYXBoIj8oaS5yYXcrPWAKYCtyLnJhdyxpLnRleHQrPWAKYCtyLnRleHQsdGhpcy5pbmxpbmVRdWV1ZS5wb3AoKSx0aGlzLmlubGluZVF1ZXVlW3RoaXMuaW5saW5lUXVldWUubGVuZ3RoLTFdLnNyYz1pLnRleHQpOnQucHVzaChyKSxhPXUubGVuZ3RoIT09bi5sZW5ndGgsbj1uLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpO2NvbnRpbnVlfWlmKHI9dGhpcy50b2tlbml6ZXIudGV4dChuKSl7bj1uLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLGk9dFt0Lmxlbmd0aC0xXSxpJiZpLnR5cGU9PT0idGV4dCI/KGkucmF3Kz1gCmArci5yYXcsaS50ZXh0Kz1gCmArci50ZXh0LHRoaXMuaW5saW5lUXVldWUucG9wKCksdGhpcy5pbmxpbmVRdWV1ZVt0aGlzLmlubGluZVF1ZXVlLmxlbmd0aC0xXS5zcmM9aS50ZXh0KTp0LnB1c2gocik7Y29udGludWV9aWYobil7Y29uc3Qgcz0iSW5maW5pdGUgbG9vcCBvbiBieXRlOiAiK24uY2hhckNvZGVBdCgwKTtpZih0aGlzLm9wdGlvbnMuc2lsZW50KXtjb25zb2xlLmVycm9yKHMpO2JyZWFrfWVsc2UgdGhyb3cgbmV3IEVycm9yKHMpfX1yZXR1cm4gdGhpcy5zdGF0ZS50b3A9ITAsdH1pbmxpbmUobix0PVtdKXtyZXR1cm4gdGhpcy5pbmxpbmVRdWV1ZS5wdXNoKHtzcmM6bix0b2tlbnM6dH0pLHR9aW5saW5lVG9rZW5zKG4sdD1bXSl7bGV0IHIsaSx1LGE9bixzLG8sbDtpZih0aGlzLnRva2Vucy5saW5rcyl7Y29uc3QgcD1PYmplY3Qua2V5cyh0aGlzLnRva2Vucy5saW5rcyk7aWYocC5sZW5ndGg+MClmb3IoOyhzPXRoaXMudG9rZW5pemVyLnJ1bGVzLmlubGluZS5yZWZsaW5rU2VhcmNoLmV4ZWMoYSkpIT1udWxsOylwLmluY2x1ZGVzKHNbMF0uc2xpY2Uoc1swXS5sYXN0SW5kZXhPZigiWyIpKzEsLTEpKSYmKGE9YS5zbGljZSgwLHMuaW5kZXgpKyJbIisiYSIucmVwZWF0KHNbMF0ubGVuZ3RoLTIpKyJdIithLnNsaWNlKHRoaXMudG9rZW5pemVyLnJ1bGVzLmlubGluZS5yZWZsaW5rU2VhcmNoLmxhc3RJbmRleCkpfWZvcig7KHM9dGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLmJsb2NrU2tpcC5leGVjKGEpKSE9bnVsbDspYT1hLnNsaWNlKDAscy5pbmRleCkrIlsiKyJhIi5yZXBlYXQoc1swXS5sZW5ndGgtMikrIl0iK2Euc2xpY2UodGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLmJsb2NrU2tpcC5sYXN0SW5kZXgpO2Zvcig7KHM9dGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLmFueVB1bmN0dWF0aW9uLmV4ZWMoYSkpIT1udWxsOylhPWEuc2xpY2UoMCxzLmluZGV4KSsiKysiK2Euc2xpY2UodGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLmFueVB1bmN0dWF0aW9uLmxhc3RJbmRleCk7Zm9yKDtuOylpZihvfHwobD0iIiksbz0hMSwhKHRoaXMub3B0aW9ucy5leHRlbnNpb25zJiZ0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5pbmxpbmUmJnRoaXMub3B0aW9ucy5leHRlbnNpb25zLmlubGluZS5zb21lKHA9PihyPXAuY2FsbCh7bGV4ZXI6dGhpc30sbix0KSk/KG49bi5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gociksITApOiExKSkpe2lmKHI9dGhpcy50b2tlbml6ZXIuZXNjYXBlKG4pKXtuPW4uc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksdC5wdXNoKHIpO2NvbnRpbnVlfWlmKHI9dGhpcy50b2tlbml6ZXIudGFnKG4pKXtuPW4uc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksaT10W3QubGVuZ3RoLTFdLGkmJnIudHlwZT09PSJ0ZXh0IiYmaS50eXBlPT09InRleHQiPyhpLnJhdys9ci5yYXcsaS50ZXh0Kz1yLnRleHQpOnQucHVzaChyKTtjb250aW51ZX1pZihyPXRoaXMudG9rZW5pemVyLmxpbmsobikpe249bi5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gocik7Y29udGludWV9aWYocj10aGlzLnRva2VuaXplci5yZWZsaW5rKG4sdGhpcy50b2tlbnMubGlua3MpKXtuPW4uc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksaT10W3QubGVuZ3RoLTFdLGkmJnIudHlwZT09PSJ0ZXh0IiYmaS50eXBlPT09InRleHQiPyhpLnJhdys9ci5yYXcsaS50ZXh0Kz1yLnRleHQpOnQucHVzaChyKTtjb250aW51ZX1pZihyPXRoaXMudG9rZW5pemVyLmVtU3Ryb25nKG4sYSxsKSl7bj1uLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLHQucHVzaChyKTtjb250aW51ZX1pZihyPXRoaXMudG9rZW5pemVyLmNvZGVzcGFuKG4pKXtuPW4uc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksdC5wdXNoKHIpO2NvbnRpbnVlfWlmKHI9dGhpcy50b2tlbml6ZXIuYnIobikpe249bi5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gocik7Y29udGludWV9aWYocj10aGlzLnRva2VuaXplci5kZWwobikpe249bi5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gocik7Y29udGludWV9aWYocj10aGlzLnRva2VuaXplci5hdXRvbGluayhuLFluKSl7bj1uLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLHQucHVzaChyKTtjb250aW51ZX1pZighdGhpcy5zdGF0ZS5pbkxpbmsmJihyPXRoaXMudG9rZW5pemVyLnVybChuLFluKSkpe249bi5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gocik7Y29udGludWV9aWYodT1uLHRoaXMub3B0aW9ucy5leHRlbnNpb25zJiZ0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5zdGFydElubGluZSl7bGV0IHA9MS8wO2NvbnN0IGY9bi5zbGljZSgxKTtsZXQgZzt0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5zdGFydElubGluZS5mb3JFYWNoKGZ1bmN0aW9uKGQpe2c9ZC5jYWxsKHtsZXhlcjp0aGlzfSxmKSx0eXBlb2YgZz09Im51bWJlciImJmc+PTAmJihwPU1hdGgubWluKHAsZykpfSkscDwxLzAmJnA+PTAmJih1PW4uc3Vic3RyaW5nKDAscCsxKSl9aWYocj10aGlzLnRva2VuaXplci5pbmxpbmVUZXh0KHUsUWEpKXtuPW4uc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksci5yYXcuc2xpY2UoLTEpIT09Il8iJiYobD1yLnJhdy5zbGljZSgtMSkpLG89ITAsaT10W3QubGVuZ3RoLTFdLGkmJmkudHlwZT09PSJ0ZXh0Ij8oaS5yYXcrPXIucmF3LGkudGV4dCs9ci50ZXh0KTp0LnB1c2gocik7Y29udGludWV9aWYobil7Y29uc3QgcD0iSW5maW5pdGUgbG9vcCBvbiBieXRlOiAiK24uY2hhckNvZGVBdCgwKTtpZih0aGlzLm9wdGlvbnMuc2lsZW50KXtjb25zb2xlLmVycm9yKHApO2JyZWFrfWVsc2UgdGhyb3cgbmV3IEVycm9yKHApfX1yZXR1cm4gdH19Y2xhc3MgTWV7Y29uc3RydWN0b3Iobil7dGhpcy5vcHRpb25zPW58fEp9Y29kZShuLHQscil7Y29uc3QgaT0odHx8IiIpLm1hdGNoKC9cUyovKVswXTtpZih0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0KXtjb25zdCB1PXRoaXMub3B0aW9ucy5oaWdobGlnaHQobixpKTt1IT1udWxsJiZ1IT09biYmKHI9ITAsbj11KX1yZXR1cm4gbj1uLnJlcGxhY2UoL1xuJC8sIiIpK2AKYCxpPyc8cHJlPjxjb2RlIGNsYXNzPSInK3RoaXMub3B0aW9ucy5sYW5nUHJlZml4K04oaSkrJyI+Jysocj9uOk4obiwhMCkpK2A8L2NvZGU+PC9wcmU+CmA6IjxwcmU+PGNvZGU+Iisocj9uOk4obiwhMCkpK2A8L2NvZGU+PC9wcmU+CmB9YmxvY2txdW90ZShuKXtyZXR1cm5gPGJsb2NrcXVvdGU+CiR7bn08L2Jsb2NrcXVvdGU+CmB9aHRtbChuLHQpe3JldHVybiBufWhlYWRpbmcobix0LHIsaSl7aWYodGhpcy5vcHRpb25zLmhlYWRlcklkcyl7Y29uc3QgdT10aGlzLm9wdGlvbnMuaGVhZGVyUHJlZml4K2kuc2x1ZyhyKTtyZXR1cm5gPGgke3R9IGlkPSIke3V9Ij4ke259PC9oJHt0fT4KYH1yZXR1cm5gPGgke3R9PiR7bn08L2gke3R9PgpgfWhyKCl7cmV0dXJuIHRoaXMub3B0aW9ucy54aHRtbD9gPGhyLz4KYDpgPGhyPgpgfWxpc3Qobix0LHIpe2NvbnN0IGk9dD8ib2wiOiJ1bCIsdT10JiZyIT09MT8nIHN0YXJ0PSInK3IrJyInOiIiO3JldHVybiI8IitpK3UrYD4KYCtuKyI8LyIraStgPgpgfWxpc3RpdGVtKG4pe3JldHVybmA8bGk+JHtufTwvbGk+CmB9Y2hlY2tib3gobil7cmV0dXJuIjxpbnB1dCAiKyhuPydjaGVja2VkPSIiICc6IiIpKydkaXNhYmxlZD0iIiB0eXBlPSJjaGVja2JveCInKyh0aGlzLm9wdGlvbnMueGh0bWw/IiAvIjoiIikrIj4gIn1wYXJhZ3JhcGgobil7cmV0dXJuYDxwPiR7bn08L3A+CmB9dGFibGUobix0KXtyZXR1cm4gdCYmKHQ9YDx0Ym9keT4ke3R9PC90Ym9keT5gKSxgPHRhYmxlPgo8dGhlYWQ+CmArbitgPC90aGVhZD4KYCt0K2A8L3RhYmxlPgpgfXRhYmxlcm93KG4pe3JldHVybmA8dHI+CiR7bn08L3RyPgpgfXRhYmxlY2VsbChuLHQpe2NvbnN0IHI9dC5oZWFkZXI/InRoIjoidGQiO3JldHVybih0LmFsaWduP2A8JHtyfSBhbGlnbj0iJHt0LmFsaWdufSI+YDpgPCR7cn0+YCkrbitgPC8ke3J9PgpgfXN0cm9uZyhuKXtyZXR1cm5gPHN0cm9uZz4ke259PC9zdHJvbmc+YH1lbShuKXtyZXR1cm5gPGVtPiR7bn08L2VtPmB9Y29kZXNwYW4obil7cmV0dXJuYDxjb2RlPiR7bn08L2NvZGU+YH1icigpe3JldHVybiB0aGlzLm9wdGlvbnMueGh0bWw/Ijxici8+IjoiPGJyPiJ9ZGVsKG4pe3JldHVybmA8ZGVsPiR7bn08L2RlbD5gfWxpbmsobix0LHIpe2lmKG49am4odGhpcy5vcHRpb25zLnNhbml0aXplLHRoaXMub3B0aW9ucy5iYXNlVXJsLG4pLG49PT1udWxsKXJldHVybiByO2xldCBpPSc8YSBocmVmPSInK24rJyInO3JldHVybiB0JiYoaSs9JyB0aXRsZT0iJyt0KyciJyksaSs9Ij4iK3IrIjwvYT4iLGl9aW1hZ2Uobix0LHIpe2lmKG49am4odGhpcy5vcHRpb25zLnNhbml0aXplLHRoaXMub3B0aW9ucy5iYXNlVXJsLG4pLG49PT1udWxsKXJldHVybiByO2xldCBpPWA8aW1nIHNyYz0iJHtufSIgYWx0PSIke3J9ImA7cmV0dXJuIHQmJihpKz1gIHRpdGxlPSIke3R9ImApLGkrPXRoaXMub3B0aW9ucy54aHRtbD8iLz4iOiI+IixpfXRleHQobil7cmV0dXJuIG59fWNsYXNzIGZue3N0cm9uZyhuKXtyZXR1cm4gbn1lbShuKXtyZXR1cm4gbn1jb2Rlc3BhbihuKXtyZXR1cm4gbn1kZWwobil7cmV0dXJuIG59aHRtbChuKXtyZXR1cm4gbn10ZXh0KG4pe3JldHVybiBufWxpbmsobix0LHIpe3JldHVybiIiK3J9aW1hZ2Uobix0LHIpe3JldHVybiIiK3J9YnIoKXtyZXR1cm4iIn19Y2xhc3MgaG57Y29uc3RydWN0b3IoKXt0aGlzLnNlZW49e319c2VyaWFsaXplKG4pe3JldHVybiBuLnRvTG93ZXJDYXNlKCkudHJpbSgpLnJlcGxhY2UoLzxbIVwvYS16XS4qPz4vaWcsIiIpLnJlcGxhY2UoL1tcdTIwMDAtXHUyMDZGXHUyRTAwLVx1MkU3RlxcJyEiIyQlJigpKissLi86Ozw9Pj9AW1xdXmB7fH1+XS9nLCIiKS5yZXBsYWNlKC9ccy9nLCItIil9Z2V0TmV4dFNhZmVTbHVnKG4sdCl7bGV0IHI9bixpPTA7aWYodGhpcy5zZWVuLmhhc093blByb3BlcnR5KHIpKXtpPXRoaXMuc2VlbltuXTtkbyBpKysscj1uKyItIitpO3doaWxlKHRoaXMuc2Vlbi5oYXNPd25Qcm9wZXJ0eShyKSl9cmV0dXJuIHR8fCh0aGlzLnNlZW5bbl09aSx0aGlzLnNlZW5bcl09MCkscn1zbHVnKG4sdD17fSl7Y29uc3Qgcj10aGlzLnNlcmlhbGl6ZShuKTtyZXR1cm4gdGhpcy5nZXROZXh0U2FmZVNsdWcocix0LmRyeXJ1bil9fWNsYXNzIEd7Y29uc3RydWN0b3Iobil7dGhpcy5vcHRpb25zPW58fEosdGhpcy5vcHRpb25zLnJlbmRlcmVyPXRoaXMub3B0aW9ucy5yZW5kZXJlcnx8bmV3IE1lLHRoaXMucmVuZGVyZXI9dGhpcy5vcHRpb25zLnJlbmRlcmVyLHRoaXMucmVuZGVyZXIub3B0aW9ucz10aGlzLm9wdGlvbnMsdGhpcy50ZXh0UmVuZGVyZXI9bmV3IGZuLHRoaXMuc2x1Z2dlcj1uZXcgaG59c3RhdGljIHBhcnNlKG4sdCl7cmV0dXJuIG5ldyBHKHQpLnBhcnNlKG4pfXN0YXRpYyBwYXJzZUlubGluZShuLHQpe3JldHVybiBuZXcgRyh0KS5wYXJzZUlubGluZShuKX1wYXJzZShuLHQ9ITApe2xldCByPSIiLGksdSxhLHMsbyxsLHAsZixnLGQsdixDLHgsdyxjLGgsbSxGLEQ7Y29uc3QgYj1uLmxlbmd0aDtmb3IoaT0wO2k8YjtpKyspe2lmKGQ9bltpXSx0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucyYmdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMucmVuZGVyZXJzJiZ0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5yZW5kZXJlcnNbZC50eXBlXSYmKEQ9dGhpcy5vcHRpb25zLmV4dGVuc2lvbnMucmVuZGVyZXJzW2QudHlwZV0uY2FsbCh7cGFyc2VyOnRoaXN9LGQpLEQhPT0hMXx8IVsic3BhY2UiLCJociIsImhlYWRpbmciLCJjb2RlIiwidGFibGUiLCJibG9ja3F1b3RlIiwibGlzdCIsImh0bWwiLCJwYXJhZ3JhcGgiLCJ0ZXh0Il0uaW5jbHVkZXMoZC50eXBlKSkpe3IrPUR8fCIiO2NvbnRpbnVlfXN3aXRjaChkLnR5cGUpe2Nhc2Uic3BhY2UiOmNvbnRpbnVlO2Nhc2UiaHIiOntyKz10aGlzLnJlbmRlcmVyLmhyKCk7Y29udGludWV9Y2FzZSJoZWFkaW5nIjp7cis9dGhpcy5yZW5kZXJlci5oZWFkaW5nKHRoaXMucGFyc2VJbmxpbmUoZC50b2tlbnMpLGQuZGVwdGgsWnQodGhpcy5wYXJzZUlubGluZShkLnRva2Vucyx0aGlzLnRleHRSZW5kZXJlcikpLHRoaXMuc2x1Z2dlcik7Y29udGludWV9Y2FzZSJjb2RlIjp7cis9dGhpcy5yZW5kZXJlci5jb2RlKGQudGV4dCxkLmxhbmcsZC5lc2NhcGVkKTtjb250aW51ZX1jYXNlInRhYmxlIjp7Zm9yKGY9IiIscD0iIixzPWQuaGVhZGVyLmxlbmd0aCx1PTA7dTxzO3UrKylwKz10aGlzLnJlbmRlcmVyLnRhYmxlY2VsbCh0aGlzLnBhcnNlSW5saW5lKGQuaGVhZGVyW3VdLnRva2Vucykse2hlYWRlcjohMCxhbGlnbjpkLmFsaWduW3VdfSk7Zm9yKGYrPXRoaXMucmVuZGVyZXIudGFibGVyb3cocCksZz0iIixzPWQucm93cy5sZW5ndGgsdT0wO3U8czt1Kyspe2ZvcihsPWQucm93c1t1XSxwPSIiLG89bC5sZW5ndGgsYT0wO2E8bzthKyspcCs9dGhpcy5yZW5kZXJlci50YWJsZWNlbGwodGhpcy5wYXJzZUlubGluZShsW2FdLnRva2Vucykse2hlYWRlcjohMSxhbGlnbjpkLmFsaWduW2FdfSk7Zys9dGhpcy5yZW5kZXJlci50YWJsZXJvdyhwKX1yKz10aGlzLnJlbmRlcmVyLnRhYmxlKGYsZyk7Y29udGludWV9Y2FzZSJibG9ja3F1b3RlIjp7Zz10aGlzLnBhcnNlKGQudG9rZW5zKSxyKz10aGlzLnJlbmRlcmVyLmJsb2NrcXVvdGUoZyk7Y29udGludWV9Y2FzZSJsaXN0Ijp7Zm9yKHY9ZC5vcmRlcmVkLEM9ZC5zdGFydCx4PWQubG9vc2Uscz1kLml0ZW1zLmxlbmd0aCxnPSIiLHU9MDt1PHM7dSsrKWM9ZC5pdGVtc1t1XSxoPWMuY2hlY2tlZCxtPWMudGFzayx3PSIiLGMudGFzayYmKEY9dGhpcy5yZW5kZXJlci5jaGVja2JveChoKSx4P2MudG9rZW5zLmxlbmd0aD4wJiZjLnRva2Vuc1swXS50eXBlPT09InBhcmFncmFwaCI/KGMudG9rZW5zWzBdLnRleHQ9RisiICIrYy50b2tlbnNbMF0udGV4dCxjLnRva2Vuc1swXS50b2tlbnMmJmMudG9rZW5zWzBdLnRva2Vucy5sZW5ndGg+MCYmYy50b2tlbnNbMF0udG9rZW5zWzBdLnR5cGU9PT0idGV4dCImJihjLnRva2Vuc1swXS50b2tlbnNbMF0udGV4dD1GKyIgIitjLnRva2Vuc1swXS50b2tlbnNbMF0udGV4dCkpOmMudG9rZW5zLnVuc2hpZnQoe3R5cGU6InRleHQiLHRleHQ6Rn0pOncrPUYpLHcrPXRoaXMucGFyc2UoYy50b2tlbnMseCksZys9dGhpcy5yZW5kZXJlci5saXN0aXRlbSh3LG0saCk7cis9dGhpcy5yZW5kZXJlci5saXN0KGcsdixDKTtjb250aW51ZX1jYXNlImh0bWwiOntyKz10aGlzLnJlbmRlcmVyLmh0bWwoZC50ZXh0LGQuYmxvY2spO2NvbnRpbnVlfWNhc2UicGFyYWdyYXBoIjp7cis9dGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgodGhpcy5wYXJzZUlubGluZShkLnRva2VucykpO2NvbnRpbnVlfWNhc2UidGV4dCI6e2ZvcihnPWQudG9rZW5zP3RoaXMucGFyc2VJbmxpbmUoZC50b2tlbnMpOmQudGV4dDtpKzE8YiYmbltpKzFdLnR5cGU9PT0idGV4dCI7KWQ9blsrK2ldLGcrPWAKYCsoZC50b2tlbnM/dGhpcy5wYXJzZUlubGluZShkLnRva2Vucyk6ZC50ZXh0KTtyKz10P3RoaXMucmVuZGVyZXIucGFyYWdyYXBoKGcpOmc7Y29udGludWV9ZGVmYXVsdDp7Y29uc3QgXz0nVG9rZW4gd2l0aCAiJytkLnR5cGUrJyIgdHlwZSB3YXMgbm90IGZvdW5kLic7aWYodGhpcy5vcHRpb25zLnNpbGVudCl7Y29uc29sZS5lcnJvcihfKTtyZXR1cm59ZWxzZSB0aHJvdyBuZXcgRXJyb3IoXyl9fX1yZXR1cm4gcn1wYXJzZUlubGluZShuLHQpe3Q9dHx8dGhpcy5yZW5kZXJlcjtsZXQgcj0iIixpLHUsYTtjb25zdCBzPW4ubGVuZ3RoO2ZvcihpPTA7aTxzO2krKyl7aWYodT1uW2ldLHRoaXMub3B0aW9ucy5leHRlbnNpb25zJiZ0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5yZW5kZXJlcnMmJnRoaXMub3B0aW9ucy5leHRlbnNpb25zLnJlbmRlcmVyc1t1LnR5cGVdJiYoYT10aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5yZW5kZXJlcnNbdS50eXBlXS5jYWxsKHtwYXJzZXI6dGhpc30sdSksYSE9PSExfHwhWyJlc2NhcGUiLCJodG1sIiwibGluayIsImltYWdlIiwic3Ryb25nIiwiZW0iLCJjb2Rlc3BhbiIsImJyIiwiZGVsIiwidGV4dCJdLmluY2x1ZGVzKHUudHlwZSkpKXtyKz1hfHwiIjtjb250aW51ZX1zd2l0Y2godS50eXBlKXtjYXNlImVzY2FwZSI6e3IrPXQudGV4dCh1LnRleHQpO2JyZWFrfWNhc2UiaHRtbCI6e3IrPXQuaHRtbCh1LnRleHQpO2JyZWFrfWNhc2UibGluayI6e3IrPXQubGluayh1LmhyZWYsdS50aXRsZSx0aGlzLnBhcnNlSW5saW5lKHUudG9rZW5zLHQpKTticmVha31jYXNlImltYWdlIjp7cis9dC5pbWFnZSh1LmhyZWYsdS50aXRsZSx1LnRleHQpO2JyZWFrfWNhc2Uic3Ryb25nIjp7cis9dC5zdHJvbmcodGhpcy5wYXJzZUlubGluZSh1LnRva2Vucyx0KSk7YnJlYWt9Y2FzZSJlbSI6e3IrPXQuZW0odGhpcy5wYXJzZUlubGluZSh1LnRva2Vucyx0KSk7YnJlYWt9Y2FzZSJjb2Rlc3BhbiI6e3IrPXQuY29kZXNwYW4odS50ZXh0KTticmVha31jYXNlImJyIjp7cis9dC5icigpO2JyZWFrfWNhc2UiZGVsIjp7cis9dC5kZWwodGhpcy5wYXJzZUlubGluZSh1LnRva2Vucyx0KSk7YnJlYWt9Y2FzZSJ0ZXh0Ijp7cis9dC50ZXh0KHUudGV4dCk7YnJlYWt9ZGVmYXVsdDp7Y29uc3Qgbz0nVG9rZW4gd2l0aCAiJyt1LnR5cGUrJyIgdHlwZSB3YXMgbm90IGZvdW5kLic7aWYodGhpcy5vcHRpb25zLnNpbGVudCl7Y29uc29sZS5lcnJvcihvKTtyZXR1cm59ZWxzZSB0aHJvdyBuZXcgRXJyb3Iobyl9fX1yZXR1cm4gcn19Y2xhc3MgaGV7Y29uc3RydWN0b3Iobil7dGhpcy5vcHRpb25zPW58fEp9cHJlcHJvY2VzcyhuKXtyZXR1cm4gbn1wb3N0cHJvY2VzcyhuKXtyZXR1cm4gbn19eihoZSwicGFzc1Rocm91Z2hIb29rcyIsbmV3IFNldChbInByZXByb2Nlc3MiLCJwb3N0cHJvY2VzcyJdKSk7dmFyIFRlPW5ldyBXZWFrU2V0O2NsYXNzIFZhe2NvbnN0cnVjdG9yKC4uLm4pe0xhKHRoaXMsVGUpLHoodGhpcywiZGVmYXVsdHMiLHBuKCkpLHoodGhpcywib3B0aW9ucyIsdGhpcy5zZXRPcHRpb25zKSx6KHRoaXMsInBhcnNlIixWZShUZSx0aGlzLHFuKS5jYWxsKHRoaXMscS5sZXgsRy5wYXJzZSkpLHoodGhpcywicGFyc2VJbmxpbmUiLFZlKFRlLHRoaXMscW4pLmNhbGwodGhpcyxxLmxleElubGluZSxHLnBhcnNlSW5saW5lKSkseih0aGlzLCJQYXJzZXIiLEcpLHoodGhpcywicGFyc2VyIixHLnBhcnNlKSx6KHRoaXMsIlJlbmRlcmVyIixNZSkseih0aGlzLCJUZXh0UmVuZGVyZXIiLGZuKSx6KHRoaXMsIkxleGVyIixxKSx6KHRoaXMsImxleGVyIixxLmxleCkseih0aGlzLCJUb2tlbml6ZXIiLE5lKSx6KHRoaXMsIlNsdWdnZXIiLGhuKSx6KHRoaXMsIkhvb2tzIixoZSksdGhpcy51c2UoLi4ubil9d2Fsa1Rva2VucyhuLHQpe2xldCByPVtdO2Zvcihjb25zdCBpIG9mIG4pc3dpdGNoKHI9ci5jb25jYXQodC5jYWxsKHRoaXMsaSkpLGkudHlwZSl7Y2FzZSJ0YWJsZSI6e2Zvcihjb25zdCB1IG9mIGkuaGVhZGVyKXI9ci5jb25jYXQodGhpcy53YWxrVG9rZW5zKHUudG9rZW5zLHQpKTtmb3IoY29uc3QgdSBvZiBpLnJvd3MpZm9yKGNvbnN0IGEgb2YgdSlyPXIuY29uY2F0KHRoaXMud2Fsa1Rva2VucyhhLnRva2Vucyx0KSk7YnJlYWt9Y2FzZSJsaXN0Ijp7cj1yLmNvbmNhdCh0aGlzLndhbGtUb2tlbnMoaS5pdGVtcyx0KSk7YnJlYWt9ZGVmYXVsdDp0aGlzLmRlZmF1bHRzLmV4dGVuc2lvbnMmJnRoaXMuZGVmYXVsdHMuZXh0ZW5zaW9ucy5jaGlsZFRva2VucyYmdGhpcy5kZWZhdWx0cy5leHRlbnNpb25zLmNoaWxkVG9rZW5zW2kudHlwZV0/dGhpcy5kZWZhdWx0cy5leHRlbnNpb25zLmNoaWxkVG9rZW5zW2kudHlwZV0uZm9yRWFjaCh1PT57cj1yLmNvbmNhdCh0aGlzLndhbGtUb2tlbnMoaVt1XSx0KSl9KTppLnRva2VucyYmKHI9ci5jb25jYXQodGhpcy53YWxrVG9rZW5zKGkudG9rZW5zLHQpKSl9cmV0dXJuIHJ9dXNlKC4uLm4pe2NvbnN0IHQ9dGhpcy5kZWZhdWx0cy5leHRlbnNpb25zfHx7cmVuZGVyZXJzOnt9LGNoaWxkVG9rZW5zOnt9fTtyZXR1cm4gbi5mb3JFYWNoKHI9Pntjb25zdCBpPXsuLi5yfTtpZihpLmFzeW5jPXRoaXMuZGVmYXVsdHMuYXN5bmN8fGkuYXN5bmN8fCExLHIuZXh0ZW5zaW9ucyYmKHIuZXh0ZW5zaW9ucy5mb3JFYWNoKHU9PntpZighdS5uYW1lKXRocm93IG5ldyBFcnJvcigiZXh0ZW5zaW9uIG5hbWUgcmVxdWlyZWQiKTtpZih1LnJlbmRlcmVyKXtjb25zdCBhPXQucmVuZGVyZXJzW3UubmFtZV07YT90LnJlbmRlcmVyc1t1Lm5hbWVdPWZ1bmN0aW9uKC4uLnMpe2xldCBvPXUucmVuZGVyZXIuYXBwbHkodGhpcyxzKTtyZXR1cm4gbz09PSExJiYobz1hLmFwcGx5KHRoaXMscykpLG99OnQucmVuZGVyZXJzW3UubmFtZV09dS5yZW5kZXJlcn1pZih1LnRva2VuaXplcil7aWYoIXUubGV2ZWx8fHUubGV2ZWwhPT0iYmxvY2siJiZ1LmxldmVsIT09ImlubGluZSIpdGhyb3cgbmV3IEVycm9yKCJleHRlbnNpb24gbGV2ZWwgbXVzdCBiZSAnYmxvY2snIG9yICdpbmxpbmUnIik7dFt1LmxldmVsXT90W3UubGV2ZWxdLnVuc2hpZnQodS50b2tlbml6ZXIpOnRbdS5sZXZlbF09W3UudG9rZW5pemVyXSx1LnN0YXJ0JiYodS5sZXZlbD09PSJibG9jayI/dC5zdGFydEJsb2NrP3Quc3RhcnRCbG9jay5wdXNoKHUuc3RhcnQpOnQuc3RhcnRCbG9jaz1bdS5zdGFydF06dS5sZXZlbD09PSJpbmxpbmUiJiYodC5zdGFydElubGluZT90LnN0YXJ0SW5saW5lLnB1c2godS5zdGFydCk6dC5zdGFydElubGluZT1bdS5zdGFydF0pKX11LmNoaWxkVG9rZW5zJiYodC5jaGlsZFRva2Vuc1t1Lm5hbWVdPXUuY2hpbGRUb2tlbnMpfSksaS5leHRlbnNpb25zPXQpLHIucmVuZGVyZXIpe2NvbnN0IHU9dGhpcy5kZWZhdWx0cy5yZW5kZXJlcnx8bmV3IE1lKHRoaXMuZGVmYXVsdHMpO2Zvcihjb25zdCBhIGluIHIucmVuZGVyZXIpe2NvbnN0IHM9dVthXTt1W2FdPSguLi5vKT0+e2xldCBsPXIucmVuZGVyZXJbYV0uYXBwbHkodSxvKTtyZXR1cm4gbD09PSExJiYobD1zLmFwcGx5KHUsbykpLGx9fWkucmVuZGVyZXI9dX1pZihyLnRva2VuaXplcil7Y29uc3QgdT10aGlzLmRlZmF1bHRzLnRva2VuaXplcnx8bmV3IE5lKHRoaXMuZGVmYXVsdHMpO2Zvcihjb25zdCBhIGluIHIudG9rZW5pemVyKXtjb25zdCBzPXVbYV07dVthXT0oLi4ubyk9PntsZXQgbD1yLnRva2VuaXplclthXS5hcHBseSh1LG8pO3JldHVybiBsPT09ITEmJihsPXMuYXBwbHkodSxvKSksbH19aS50b2tlbml6ZXI9dX1pZihyLmhvb2tzKXtjb25zdCB1PXRoaXMuZGVmYXVsdHMuaG9va3N8fG5ldyBoZTtmb3IoY29uc3QgYSBpbiByLmhvb2tzKXtjb25zdCBzPXVbYV07aGUucGFzc1Rocm91Z2hIb29rcy5oYXMoYSk/dVthXT1vPT57aWYodGhpcy5kZWZhdWx0cy5hc3luYylyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHIuaG9va3NbYV0uY2FsbCh1LG8pKS50aGVuKHA9PnMuY2FsbCh1LHApKTtjb25zdCBsPXIuaG9va3NbYV0uY2FsbCh1LG8pO3JldHVybiBzLmNhbGwodSxsKX06dVthXT0oLi4ubyk9PntsZXQgbD1yLmhvb2tzW2FdLmFwcGx5KHUsbyk7cmV0dXJuIGw9PT0hMSYmKGw9cy5hcHBseSh1LG8pKSxsfX1pLmhvb2tzPXV9aWYoci53YWxrVG9rZW5zKXtjb25zdCB1PXRoaXMuZGVmYXVsdHMud2Fsa1Rva2VucztpLndhbGtUb2tlbnM9ZnVuY3Rpb24oYSl7bGV0IHM9W107cmV0dXJuIHMucHVzaChyLndhbGtUb2tlbnMuY2FsbCh0aGlzLGEpKSx1JiYocz1zLmNvbmNhdCh1LmNhbGwodGhpcyxhKSkpLHN9fXRoaXMuZGVmYXVsdHM9ey4uLnRoaXMuZGVmYXVsdHMsLi4uaX19KSx0aGlzfXNldE9wdGlvbnMobil7cmV0dXJuIHRoaXMuZGVmYXVsdHM9ey4uLnRoaXMuZGVmYXVsdHMsLi4ubn0sdGhpc319ZnVuY3Rpb24gcW4oZSxuKXtyZXR1cm4odCxyLGkpPT57dHlwZW9mIHI9PSJmdW5jdGlvbiImJihpPXIscj1udWxsKTtjb25zdCB1PXsuLi5yfTtyPXsuLi50aGlzLmRlZmF1bHRzLC4uLnV9O2NvbnN0IGE9VmUoVGUsdGhpcyxKYSkuY2FsbCh0aGlzLHIuc2lsZW50LHIuYXN5bmMsaSk7aWYodHlwZW9mIHQ+InUifHx0PT09bnVsbClyZXR1cm4gYShuZXcgRXJyb3IoIm1hcmtlZCgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkIG9yIG51bGwiKSk7aWYodHlwZW9mIHQhPSJzdHJpbmciKXJldHVybiBhKG5ldyBFcnJvcigibWFya2VkKCk6IGlucHV0IHBhcmFtZXRlciBpcyBvZiB0eXBlICIrT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKyIsIHN0cmluZyBleHBlY3RlZCIpKTtpZihXYShyLGkpLHIuaG9va3MmJihyLmhvb2tzLm9wdGlvbnM9ciksaSl7Y29uc3Qgcz1yLmhpZ2hsaWdodDtsZXQgbzt0cnl7ci5ob29rcyYmKHQ9ci5ob29rcy5wcmVwcm9jZXNzKHQpKSxvPWUodCxyKX1jYXRjaChmKXtyZXR1cm4gYShmKX1jb25zdCBsPWY9PntsZXQgZztpZighZil0cnl7ci53YWxrVG9rZW5zJiZ0aGlzLndhbGtUb2tlbnMobyxyLndhbGtUb2tlbnMpLGc9bihvLHIpLHIuaG9va3MmJihnPXIuaG9va3MucG9zdHByb2Nlc3MoZykpfWNhdGNoKGQpe2Y9ZH1yZXR1cm4gci5oaWdobGlnaHQ9cyxmP2EoZik6aShudWxsLGcpfTtpZighc3x8cy5sZW5ndGg8M3x8KGRlbGV0ZSByLmhpZ2hsaWdodCwhby5sZW5ndGgpKXJldHVybiBsKCk7bGV0IHA9MDt0aGlzLndhbGtUb2tlbnMobyxmPT57Zi50eXBlPT09ImNvZGUiJiYocCsrLHNldFRpbWVvdXQoKCk9PntzKGYudGV4dCxmLmxhbmcsKGcsZCk9PntpZihnKXJldHVybiBsKGcpO2QhPW51bGwmJmQhPT1mLnRleHQmJihmLnRleHQ9ZCxmLmVzY2FwZWQ9ITApLHAtLSxwPT09MCYmbCgpfSl9LDApKX0pLHA9PT0wJiZsKCk7cmV0dXJufWlmKHIuYXN5bmMpcmV0dXJuIFByb21pc2UucmVzb2x2ZShyLmhvb2tzP3IuaG9va3MucHJlcHJvY2Vzcyh0KTp0KS50aGVuKHM9PmUocyxyKSkudGhlbihzPT5yLndhbGtUb2tlbnM/UHJvbWlzZS5hbGwodGhpcy53YWxrVG9rZW5zKHMsci53YWxrVG9rZW5zKSkudGhlbigoKT0+cyk6cykudGhlbihzPT5uKHMscikpLnRoZW4ocz0+ci5ob29rcz9yLmhvb2tzLnBvc3Rwcm9jZXNzKHMpOnMpLmNhdGNoKGEpO3RyeXtyLmhvb2tzJiYodD1yLmhvb2tzLnByZXByb2Nlc3ModCkpO2NvbnN0IHM9ZSh0LHIpO3Iud2Fsa1Rva2VucyYmdGhpcy53YWxrVG9rZW5zKHMsci53YWxrVG9rZW5zKTtsZXQgbz1uKHMscik7cmV0dXJuIHIuaG9va3MmJihvPXIuaG9va3MucG9zdHByb2Nlc3MobykpLG99Y2F0Y2gocyl7cmV0dXJuIGEocyl9fX1mdW5jdGlvbiBKYShlLG4sdCl7cmV0dXJuIHI9PntpZihyLm1lc3NhZ2UrPWAKUGxlYXNlIHJlcG9ydCB0aGlzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJrZWRqcy9tYXJrZWQuYCxlKXtjb25zdCBpPSI8cD5BbiBlcnJvciBvY2N1cnJlZDo8L3A+PHByZT4iK04oci5tZXNzYWdlKyIiLCEwKSsiPC9wcmU+IjtpZihuKXJldHVybiBQcm9taXNlLnJlc29sdmUoaSk7aWYodCl7dChudWxsLGkpO3JldHVybn1yZXR1cm4gaX1pZihuKXJldHVybiBQcm9taXNlLnJlamVjdChyKTtpZih0KXt0KHIpO3JldHVybn10aHJvdyByfX1jb25zdCByZT1uZXcgVmEoSik7ZnVuY3Rpb24gUyhlLG4sdCl7cmV0dXJuIHJlLnBhcnNlKGUsbix0KX1TLm9wdGlvbnM9Uy5zZXRPcHRpb25zPWZ1bmN0aW9uKGUpe3JldHVybiByZS5zZXRPcHRpb25zKGUpLFMuZGVmYXVsdHM9cmUuZGVmYXVsdHMsWXQoUy5kZWZhdWx0cyksU307Uy5nZXREZWZhdWx0cz1wbjtTLmRlZmF1bHRzPUo7Uy51c2U9ZnVuY3Rpb24oLi4uZSl7cmV0dXJuIHJlLnVzZSguLi5lKSxTLmRlZmF1bHRzPXJlLmRlZmF1bHRzLFl0KFMuZGVmYXVsdHMpLFN9O1Mud2Fsa1Rva2Vucz1mdW5jdGlvbihlLG4pe3JldHVybiByZS53YWxrVG9rZW5zKGUsbil9O1MucGFyc2VJbmxpbmU9cmUucGFyc2VJbmxpbmU7Uy5QYXJzZXI9RztTLnBhcnNlcj1HLnBhcnNlO1MuUmVuZGVyZXI9TWU7Uy5UZXh0UmVuZGVyZXI9Zm47Uy5MZXhlcj1xO1MubGV4ZXI9cS5sZXg7Uy5Ub2tlbml6ZXI9TmU7Uy5TbHVnZ2VyPWhuO1MuSG9va3M9aGU7Uy5wYXJzZT1TO1Mub3B0aW9ucztTLnNldE9wdGlvbnM7Uy51c2U7Uy53YWxrVG9rZW5zO1MucGFyc2VJbmxpbmU7Ry5wYXJzZTtxLmxleDtmdW5jdGlvbiBlcyhlKXtpZih0eXBlb2YgZT09ImZ1bmN0aW9uIiYmKGU9e2hpZ2hsaWdodDplfSksIWV8fHR5cGVvZiBlLmhpZ2hsaWdodCE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgRXJyb3IoIk11c3QgcHJvdmlkZSBoaWdobGlnaHQgZnVuY3Rpb24iKTtyZXR1cm4gdHlwZW9mIGUubGFuZ1ByZWZpeCE9InN0cmluZyImJihlLmxhbmdQcmVmaXg9Imxhbmd1YWdlLSIpLHthc3luYzohIWUuYXN5bmMsd2Fsa1Rva2VucyhuKXtpZihuLnR5cGUhPT0iY29kZSIpcmV0dXJuO2NvbnN0IHQ9R24obi5sYW5nKTtpZihlLmFzeW5jKXJldHVybiBQcm9taXNlLnJlc29sdmUoZS5oaWdobGlnaHQobi50ZXh0LHQsbi5sYW5nfHwiIikpLnRoZW4oWm4obikpO2NvbnN0IHI9ZS5oaWdobGlnaHQobi50ZXh0LHQsbi5sYW5nfHwiIik7aWYociBpbnN0YW5jZW9mIFByb21pc2UpdGhyb3cgbmV3IEVycm9yKCJtYXJrZWRIaWdobGlnaHQgaXMgbm90IHNldCB0byBhc3luYyBidXQgdGhlIGhpZ2hsaWdodCBmdW5jdGlvbiBpcyBhc3luYy4gU2V0IHRoZSBhc3luYyBvcHRpb24gdG8gdHJ1ZSBvbiBtYXJrZWRIaWdobGlnaHQgdG8gYXdhaXQgdGhlIGFzeW5jIGhpZ2hsaWdodCBmdW5jdGlvbi4iKTtabihuKShyKX0scmVuZGVyZXI6e2NvZGUobix0LHIpe2NvbnN0IGk9R24odCksdT1pP2AgY2xhc3M9IiR7ZS5sYW5nUHJlZml4fSR7V24oaSl9ImA6IiI7cmV0dXJuIG49bi5yZXBsYWNlKC9cbiQvLCIiKSxgPHByZT48Y29kZSR7dX0+JHtyP246V24obiwhMCl9CjwvY29kZT48L3ByZT5gfX19fWZ1bmN0aW9uIEduKGUpe3JldHVybihlfHwiIikubWF0Y2goL1xTKi8pWzBdfWZ1bmN0aW9uIFpuKGUpe3JldHVybiBuPT57dHlwZW9mIG49PSJzdHJpbmciJiZuIT09ZS50ZXh0JiYoZS5lc2NhcGVkPSEwLGUudGV4dD1uKX19Y29uc3QgS3Q9L1smPD4iJ10vLG5zPW5ldyBSZWdFeHAoS3Quc291cmNlLCJnIiksV3Q9L1s8PiInXXwmKD8hKCNcZHsxLDd9fCNbWHhdW2EtZkEtRjAtOV17MSw2fXxcdyspOykvLHRzPW5ldyBSZWdFeHAoV3Quc291cmNlLCJnIikscnM9eyImIjoiJmFtcDsiLCI8IjoiJmx0OyIsIj4iOiImZ3Q7IiwnIic6IiZxdW90OyIsIiciOiImIzM5OyJ9LEtuPWU9PnJzW2VdO2Z1bmN0aW9uIFduKGUsbil7aWYobil7aWYoS3QudGVzdChlKSlyZXR1cm4gZS5yZXBsYWNlKG5zLEtuKX1lbHNlIGlmKFd0LnRlc3QoZSkpcmV0dXJuIGUucmVwbGFjZSh0cyxLbik7cmV0dXJuIGV9dmFyIGlzPXtleHBvcnRzOnt9fTsoZnVuY3Rpb24oZSl7dmFyIG49dHlwZW9mIHdpbmRvdzwidSI/d2luZG93OnR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZTwidSImJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZT9zZWxmOnt9O3ZhciB0PWZ1bmN0aW9uKHIpe3ZhciBpPS8oPzpefFxzKWxhbmcoPzp1YWdlKT8tKFtcdy1dKykoPz1cc3wkKS9pLHU9MCxhPXt9LHM9e21hbnVhbDpyLlByaXNtJiZyLlByaXNtLm1hbnVhbCxkaXNhYmxlV29ya2VyTWVzc2FnZUhhbmRsZXI6ci5QcmlzbSYmci5QcmlzbS5kaXNhYmxlV29ya2VyTWVzc2FnZUhhbmRsZXIsdXRpbDp7ZW5jb2RlOmZ1bmN0aW9uIGMoaCl7cmV0dXJuIGggaW5zdGFuY2VvZiBvP25ldyBvKGgudHlwZSxjKGguY29udGVudCksaC5hbGlhcyk6QXJyYXkuaXNBcnJheShoKT9oLm1hcChjKTpoLnJlcGxhY2UoLyYvZywiJmFtcDsiKS5yZXBsYWNlKC88L2csIiZsdDsiKS5yZXBsYWNlKC9cdTAwYTAvZywiICIpfSx0eXBlOmZ1bmN0aW9uKGMpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYykuc2xpY2UoOCwtMSl9LG9iaklkOmZ1bmN0aW9uKGMpe3JldHVybiBjLl9faWR8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLCJfX2lkIix7dmFsdWU6Kyt1fSksYy5fX2lkfSxjbG9uZTpmdW5jdGlvbiBjKGgsbSl7bT1tfHx7fTt2YXIgRixEO3N3aXRjaChzLnV0aWwudHlwZShoKSl7Y2FzZSJPYmplY3QiOmlmKEQ9cy51dGlsLm9iaklkKGgpLG1bRF0pcmV0dXJuIG1bRF07Rj17fSxtW0RdPUY7Zm9yKHZhciBiIGluIGgpaC5oYXNPd25Qcm9wZXJ0eShiKSYmKEZbYl09YyhoW2JdLG0pKTtyZXR1cm4gRjtjYXNlIkFycmF5IjpyZXR1cm4gRD1zLnV0aWwub2JqSWQoaCksbVtEXT9tW0RdOihGPVtdLG1bRF09RixoLmZvckVhY2goZnVuY3Rpb24oXyxrKXtGW2tdPWMoXyxtKX0pLEYpO2RlZmF1bHQ6cmV0dXJuIGh9fSxnZXRMYW5ndWFnZTpmdW5jdGlvbihjKXtmb3IoO2M7KXt2YXIgaD1pLmV4ZWMoYy5jbGFzc05hbWUpO2lmKGgpcmV0dXJuIGhbMV0udG9Mb3dlckNhc2UoKTtjPWMucGFyZW50RWxlbWVudH1yZXR1cm4ibm9uZSJ9LHNldExhbmd1YWdlOmZ1bmN0aW9uKGMsaCl7Yy5jbGFzc05hbWU9Yy5jbGFzc05hbWUucmVwbGFjZShSZWdFeHAoaSwiZ2kiKSwiIiksYy5jbGFzc0xpc3QuYWRkKCJsYW5ndWFnZS0iK2gpfSxjdXJyZW50U2NyaXB0OmZ1bmN0aW9uKCl7aWYodHlwZW9mIGRvY3VtZW50PiJ1IilyZXR1cm4gbnVsbDtpZigiY3VycmVudFNjcmlwdCJpbiBkb2N1bWVudCYmMTwyKXJldHVybiBkb2N1bWVudC5jdXJyZW50U2NyaXB0O3RyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2goRil7dmFyIGM9KC9hdCBbXihcclxuXSpcKCguKik6W146XSs6W146XStcKSQvaS5leGVjKEYuc3RhY2spfHxbXSlbMV07aWYoYyl7dmFyIGg9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpO2Zvcih2YXIgbSBpbiBoKWlmKGhbbV0uc3JjPT1jKXJldHVybiBoW21dfXJldHVybiBudWxsfX0saXNBY3RpdmU6ZnVuY3Rpb24oYyxoLG0pe2Zvcih2YXIgRj0ibm8tIitoO2M7KXt2YXIgRD1jLmNsYXNzTGlzdDtpZihELmNvbnRhaW5zKGgpKXJldHVybiEwO2lmKEQuY29udGFpbnMoRikpcmV0dXJuITE7Yz1jLnBhcmVudEVsZW1lbnR9cmV0dXJuISFtfX0sbGFuZ3VhZ2VzOntwbGFpbjphLHBsYWludGV4dDphLHRleHQ6YSx0eHQ6YSxleHRlbmQ6ZnVuY3Rpb24oYyxoKXt2YXIgbT1zLnV0aWwuY2xvbmUocy5sYW5ndWFnZXNbY10pO2Zvcih2YXIgRiBpbiBoKW1bRl09aFtGXTtyZXR1cm4gbX0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGMsaCxtLEYpe0Y9Rnx8cy5sYW5ndWFnZXM7dmFyIEQ9RltjXSxiPXt9O2Zvcih2YXIgXyBpbiBEKWlmKEQuaGFzT3duUHJvcGVydHkoXykpe2lmKF89PWgpZm9yKHZhciBrIGluIG0pbS5oYXNPd25Qcm9wZXJ0eShrKSYmKGJba109bVtrXSk7bS5oYXNPd25Qcm9wZXJ0eShfKXx8KGJbX109RFtfXSl9dmFyIEI9RltjXTtyZXR1cm4gRltjXT1iLHMubGFuZ3VhZ2VzLkRGUyhzLmxhbmd1YWdlcyxmdW5jdGlvbihMLFcpe1c9PT1CJiZMIT1jJiYodGhpc1tMXT1iKX0pLGJ9LERGUzpmdW5jdGlvbiBjKGgsbSxGLEQpe0Q9RHx8e307dmFyIGI9cy51dGlsLm9iaklkO2Zvcih2YXIgXyBpbiBoKWlmKGguaGFzT3duUHJvcGVydHkoXykpe20uY2FsbChoLF8saFtfXSxGfHxfKTt2YXIgaz1oW19dLEI9cy51dGlsLnR5cGUoayk7Qj09PSJPYmplY3QiJiYhRFtiKGspXT8oRFtiKGspXT0hMCxjKGssbSxudWxsLEQpKTpCPT09IkFycmF5IiYmIURbYihrKV0mJihEW2IoayldPSEwLGMoayxtLF8sRCkpfX19LHBsdWdpbnM6e30saGlnaGxpZ2h0QWxsOmZ1bmN0aW9uKGMsaCl7cy5oaWdobGlnaHRBbGxVbmRlcihkb2N1bWVudCxjLGgpfSxoaWdobGlnaHRBbGxVbmRlcjpmdW5jdGlvbihjLGgsbSl7dmFyIEY9e2NhbGxiYWNrOm0sY29udGFpbmVyOmMsc2VsZWN0b3I6J2NvZGVbY2xhc3MqPSJsYW5ndWFnZS0iXSwgW2NsYXNzKj0ibGFuZ3VhZ2UtIl0gY29kZSwgY29kZVtjbGFzcyo9ImxhbmctIl0sIFtjbGFzcyo9ImxhbmctIl0gY29kZSd9O3MuaG9va3MucnVuKCJiZWZvcmUtaGlnaGxpZ2h0YWxsIixGKSxGLmVsZW1lbnRzPUFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShGLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKEYuc2VsZWN0b3IpKSxzLmhvb2tzLnJ1bigiYmVmb3JlLWFsbC1lbGVtZW50cy1oaWdobGlnaHQiLEYpO2Zvcih2YXIgRD0wLGI7Yj1GLmVsZW1lbnRzW0QrK107KXMuaGlnaGxpZ2h0RWxlbWVudChiLGg9PT0hMCxGLmNhbGxiYWNrKX0saGlnaGxpZ2h0RWxlbWVudDpmdW5jdGlvbihjLGgsbSl7dmFyIEY9cy51dGlsLmdldExhbmd1YWdlKGMpLEQ9cy5sYW5ndWFnZXNbRl07cy51dGlsLnNldExhbmd1YWdlKGMsRik7dmFyIGI9Yy5wYXJlbnRFbGVtZW50O2ImJmIubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJwcmUiJiZzLnV0aWwuc2V0TGFuZ3VhZ2UoYixGKTt2YXIgXz1jLnRleHRDb250ZW50LGs9e2VsZW1lbnQ6YyxsYW5ndWFnZTpGLGdyYW1tYXI6RCxjb2RlOl99O2Z1bmN0aW9uIEIoVyl7ay5oaWdobGlnaHRlZENvZGU9VyxzLmhvb2tzLnJ1bigiYmVmb3JlLWluc2VydCIsayksay5lbGVtZW50LmlubmVySFRNTD1rLmhpZ2hsaWdodGVkQ29kZSxzLmhvb2tzLnJ1bigiYWZ0ZXItaGlnaGxpZ2h0IixrKSxzLmhvb2tzLnJ1bigiY29tcGxldGUiLGspLG0mJm0uY2FsbChrLmVsZW1lbnQpfWlmKHMuaG9va3MucnVuKCJiZWZvcmUtc2FuaXR5LWNoZWNrIixrKSxiPWsuZWxlbWVudC5wYXJlbnRFbGVtZW50LGImJmIubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJwcmUiJiYhYi5oYXNBdHRyaWJ1dGUoInRhYmluZGV4IikmJmIuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIjAiKSwhay5jb2RlKXtzLmhvb2tzLnJ1bigiY29tcGxldGUiLGspLG0mJm0uY2FsbChrLmVsZW1lbnQpO3JldHVybn1pZihzLmhvb2tzLnJ1bigiYmVmb3JlLWhpZ2hsaWdodCIsayksIWsuZ3JhbW1hcil7QihzLnV0aWwuZW5jb2RlKGsuY29kZSkpO3JldHVybn1pZihoJiZyLldvcmtlcil7dmFyIEw9bmV3IFdvcmtlcihzLmZpbGVuYW1lKTtMLm9ubWVzc2FnZT1mdW5jdGlvbihXKXtCKFcuZGF0YSl9LEwucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoe2xhbmd1YWdlOmsubGFuZ3VhZ2UsY29kZTprLmNvZGUsaW1tZWRpYXRlQ2xvc2U6ITB9KSl9ZWxzZSBCKHMuaGlnaGxpZ2h0KGsuY29kZSxrLmdyYW1tYXIsay5sYW5ndWFnZSkpfSxoaWdobGlnaHQ6ZnVuY3Rpb24oYyxoLG0pe3ZhciBGPXtjb2RlOmMsZ3JhbW1hcjpoLGxhbmd1YWdlOm19O2lmKHMuaG9va3MucnVuKCJiZWZvcmUtdG9rZW5pemUiLEYpLCFGLmdyYW1tYXIpdGhyb3cgbmV3IEVycm9yKCdUaGUgbGFuZ3VhZ2UgIicrRi5sYW5ndWFnZSsnIiBoYXMgbm8gZ3JhbW1hci4nKTtyZXR1cm4gRi50b2tlbnM9cy50b2tlbml6ZShGLmNvZGUsRi5ncmFtbWFyKSxzLmhvb2tzLnJ1bigiYWZ0ZXItdG9rZW5pemUiLEYpLG8uc3RyaW5naWZ5KHMudXRpbC5lbmNvZGUoRi50b2tlbnMpLEYubGFuZ3VhZ2UpfSx0b2tlbml6ZTpmdW5jdGlvbihjLGgpe3ZhciBtPWgucmVzdDtpZihtKXtmb3IodmFyIEYgaW4gbSloW0ZdPW1bRl07ZGVsZXRlIGgucmVzdH12YXIgRD1uZXcgZjtyZXR1cm4gZyhELEQuaGVhZCxjKSxwKGMsRCxoLEQuaGVhZCwwKSx2KEQpfSxob29rczp7YWxsOnt9LGFkZDpmdW5jdGlvbihjLGgpe3ZhciBtPXMuaG9va3MuYWxsO21bY109bVtjXXx8W10sbVtjXS5wdXNoKGgpfSxydW46ZnVuY3Rpb24oYyxoKXt2YXIgbT1zLmhvb2tzLmFsbFtjXTtpZighKCFtfHwhbS5sZW5ndGgpKWZvcih2YXIgRj0wLEQ7RD1tW0YrK107KUQoaCl9fSxUb2tlbjpvfTtyLlByaXNtPXM7ZnVuY3Rpb24gbyhjLGgsbSxGKXt0aGlzLnR5cGU9Yyx0aGlzLmNvbnRlbnQ9aCx0aGlzLmFsaWFzPW0sdGhpcy5sZW5ndGg9KEZ8fCIiKS5sZW5ndGh8MH1vLnN0cmluZ2lmeT1mdW5jdGlvbiBjKGgsbSl7aWYodHlwZW9mIGg9PSJzdHJpbmciKXJldHVybiBoO2lmKEFycmF5LmlzQXJyYXkoaCkpe3ZhciBGPSIiO3JldHVybiBoLmZvckVhY2goZnVuY3Rpb24oQil7Ris9YyhCLG0pfSksRn12YXIgRD17dHlwZTpoLnR5cGUsY29udGVudDpjKGguY29udGVudCxtKSx0YWc6InNwYW4iLGNsYXNzZXM6WyJ0b2tlbiIsaC50eXBlXSxhdHRyaWJ1dGVzOnt9LGxhbmd1YWdlOm19LGI9aC5hbGlhcztiJiYoQXJyYXkuaXNBcnJheShiKT9BcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShELmNsYXNzZXMsYik6RC5jbGFzc2VzLnB1c2goYikpLHMuaG9va3MucnVuKCJ3cmFwIixEKTt2YXIgXz0iIjtmb3IodmFyIGsgaW4gRC5hdHRyaWJ1dGVzKV8rPSIgIitrKyc9IicrKEQuYXR0cmlidXRlc1trXXx8IiIpLnJlcGxhY2UoLyIvZywiJnF1b3Q7IikrJyInO3JldHVybiI8IitELnRhZysnIGNsYXNzPSInK0QuY2xhc3Nlcy5qb2luKCIgIikrJyInK18rIj4iK0QuY29udGVudCsiPC8iK0QudGFnKyI+In07ZnVuY3Rpb24gbChjLGgsbSxGKXtjLmxhc3RJbmRleD1oO3ZhciBEPWMuZXhlYyhtKTtpZihEJiZGJiZEWzFdKXt2YXIgYj1EWzFdLmxlbmd0aDtELmluZGV4Kz1iLERbMF09RFswXS5zbGljZShiKX1yZXR1cm4gRH1mdW5jdGlvbiBwKGMsaCxtLEYsRCxiKXtmb3IodmFyIF8gaW4gbSlpZighKCFtLmhhc093blByb3BlcnR5KF8pfHwhbVtfXSkpe3ZhciBrPW1bX107az1BcnJheS5pc0FycmF5KGspP2s6W2tdO2Zvcih2YXIgQj0wO0I8ay5sZW5ndGg7KytCKXtpZihiJiZiLmNhdXNlPT1fKyIsIitCKXJldHVybjt2YXIgTD1rW0JdLFc9TC5pbnNpZGUsbW49ISFMLmxvb2tiZWhpbmQsRm49ISFMLmdyZWVkeSxucj1MLmFsaWFzO2lmKEZuJiYhTC5wYXR0ZXJuLmdsb2JhbCl7dmFyIHRyPUwucGF0dGVybi50b1N0cmluZygpLm1hdGNoKC9baW1zdXldKiQvKVswXTtMLnBhdHRlcm49UmVnRXhwKEwucGF0dGVybi5zb3VyY2UsdHIrImciKX1mb3IodmFyIERuPUwucGF0dGVybnx8TCxQPUYubmV4dCxZPUQ7UCE9PWgudGFpbCYmIShiJiZZPj1iLnJlYWNoKTtZKz1QLnZhbHVlLmxlbmd0aCxQPVAubmV4dCl7dmFyIGllPVAudmFsdWU7aWYoaC5sZW5ndGg+Yy5sZW5ndGgpcmV0dXJuO2lmKCEoaWUgaW5zdGFuY2VvZiBvKSl7dmFyIGJlPTEsVTtpZihGbil7aWYoVT1sKERuLFksYyxtbiksIVV8fFUuaW5kZXg+PWMubGVuZ3RoKWJyZWFrO3ZhciBFZT1VLmluZGV4LHJyPVUuaW5kZXgrVVswXS5sZW5ndGgsWD1ZO2ZvcihYKz1QLnZhbHVlLmxlbmd0aDtFZT49WDspUD1QLm5leHQsWCs9UC52YWx1ZS5sZW5ndGg7aWYoWC09UC52YWx1ZS5sZW5ndGgsWT1YLFAudmFsdWUgaW5zdGFuY2VvZiBvKWNvbnRpbnVlO2Zvcih2YXIgZmU9UDtmZSE9PWgudGFpbCYmKFg8cnJ8fHR5cGVvZiBmZS52YWx1ZT09InN0cmluZyIpO2ZlPWZlLm5leHQpYmUrKyxYKz1mZS52YWx1ZS5sZW5ndGg7YmUtLSxpZT1jLnNsaWNlKFksWCksVS5pbmRleC09WX1lbHNlIGlmKFU9bChEbiwwLGllLG1uKSwhVSljb250aW51ZTt2YXIgRWU9VS5pbmRleCxrZT1VWzBdLFllPWllLnNsaWNlKDAsRWUpLEFuPWllLnNsaWNlKEVlK2tlLmxlbmd0aCkscWU9WStpZS5sZW5ndGg7YiYmcWU+Yi5yZWFjaCYmKGIucmVhY2g9cWUpO3ZhciB5ZT1QLnByZXY7WWUmJih5ZT1nKGgseWUsWWUpLFkrPVllLmxlbmd0aCksZChoLHllLGJlKTt2YXIgaXI9bmV3IG8oXyxXP3MudG9rZW5pemUoa2UsVyk6a2UsbnIsa2UpO2lmKFA9ZyhoLHllLGlyKSxBbiYmZyhoLFAsQW4pLGJlPjEpe3ZhciBHZT17Y2F1c2U6XysiLCIrQixyZWFjaDpxZX07cChjLGgsbSxQLnByZXYsWSxHZSksYiYmR2UucmVhY2g+Yi5yZWFjaCYmKGIucmVhY2g9R2UucmVhY2gpfX19fX19ZnVuY3Rpb24gZigpe3ZhciBjPXt2YWx1ZTpudWxsLHByZXY6bnVsbCxuZXh0Om51bGx9LGg9e3ZhbHVlOm51bGwscHJldjpjLG5leHQ6bnVsbH07Yy5uZXh0PWgsdGhpcy5oZWFkPWMsdGhpcy50YWlsPWgsdGhpcy5sZW5ndGg9MH1mdW5jdGlvbiBnKGMsaCxtKXt2YXIgRj1oLm5leHQsRD17dmFsdWU6bSxwcmV2OmgsbmV4dDpGfTtyZXR1cm4gaC5uZXh0PUQsRi5wcmV2PUQsYy5sZW5ndGgrKyxEfWZ1bmN0aW9uIGQoYyxoLG0pe2Zvcih2YXIgRj1oLm5leHQsRD0wO0Q8bSYmRiE9PWMudGFpbDtEKyspRj1GLm5leHQ7aC5uZXh0PUYsRi5wcmV2PWgsYy5sZW5ndGgtPUR9ZnVuY3Rpb24gdihjKXtmb3IodmFyIGg9W10sbT1jLmhlYWQubmV4dDttIT09Yy50YWlsOyloLnB1c2gobS52YWx1ZSksbT1tLm5leHQ7cmV0dXJuIGh9aWYoIXIuZG9jdW1lbnQpcmV0dXJuIHIuYWRkRXZlbnRMaXN0ZW5lciYmKHMuZGlzYWJsZVdvcmtlck1lc3NhZ2VIYW5kbGVyfHxyLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGZ1bmN0aW9uKGMpe3ZhciBoPUpTT04ucGFyc2UoYy5kYXRhKSxtPWgubGFuZ3VhZ2UsRj1oLmNvZGUsRD1oLmltbWVkaWF0ZUNsb3NlO3IucG9zdE1lc3NhZ2Uocy5oaWdobGlnaHQoRixzLmxhbmd1YWdlc1ttXSxtKSksRCYmci5jbG9zZSgpfSwhMSkpLHM7dmFyIEM9cy51dGlsLmN1cnJlbnRTY3JpcHQoKTtDJiYocy5maWxlbmFtZT1DLnNyYyxDLmhhc0F0dHJpYnV0ZSgiZGF0YS1tYW51YWwiKSYmKHMubWFudWFsPSEwKSk7ZnVuY3Rpb24geCgpe3MubWFudWFsfHxzLmhpZ2hsaWdodEFsbCgpfWlmKCFzLm1hbnVhbCl7dmFyIHc9ZG9jdW1lbnQucmVhZHlTdGF0ZTt3PT09ImxvYWRpbmcifHx3PT09ImludGVyYWN0aXZlIiYmQyYmQy5kZWZlcj9kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIix4KTp3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lP3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoeCk6d2luZG93LnNldFRpbWVvdXQoeCwxNil9cmV0dXJuIHN9KG4pO2UuZXhwb3J0cyYmKGUuZXhwb3J0cz10KSx0eXBlb2YgeG48InUiJiYoeG4uUHJpc209dCksdC5sYW5ndWFnZXMubWFya3VwPXtjb21tZW50OntwYXR0ZXJuOi88IS0tKD86KD8hPCEtLSlbXHNcU10pKj8tLT4vLGdyZWVkeTohMH0scHJvbG9nOntwYXR0ZXJuOi88XD9bXHNcU10rP1w/Pi8sZ3JlZWR5OiEwfSxkb2N0eXBlOntwYXR0ZXJuOi88IURPQ1RZUEUoPzpbXj4iJ1tcXV18IlteIl0qInwnW14nXSonKSsoPzpcWyg/OltePCInXF1dfCJbXiJdKiJ8J1teJ10qJ3w8KD8hIS0tKXw8IS0tKD86W14tXXwtKD8hLT4pKSotLT4pKlxdXHMqKT8+L2ksZ3JlZWR5OiEwLGluc2lkZTp7ImludGVybmFsLXN1YnNldCI6e3BhdHRlcm46LyheW15cW10qXFspW1xzXFNdKyg/PVxdPiQpLyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxpbnNpZGU6bnVsbH0sc3RyaW5nOntwYXR0ZXJuOi8iW14iXSoifCdbXiddKicvLGdyZWVkeTohMH0scHVuY3R1YXRpb246L148IXw+JHxbW1xdXS8sImRvY3R5cGUtdGFnIjovXkRPQ1RZUEUvaSxuYW1lOi9bXlxzPD4nIl0rL319LGNkYXRhOntwYXR0ZXJuOi88IVxbQ0RBVEFcW1tcc1xTXSo/XF1cXT4vaSxncmVlZHk6ITB9LHRhZzp7cGF0dGVybjovPFwvPyg/IVxkKVteXHM+XC89JDwlXSsoPzpccyg/OlxzKlteXHM+XC89XSsoPzpccyo9XHMqKD86IlteIl0qInwnW14nXSonfFteXHMnIj49XSsoPz1bXHM+XSkpfCg/PVtccy8+XSkpKSspP1xzKlwvPz4vLGdyZWVkeTohMCxpbnNpZGU6e3RhZzp7cGF0dGVybjovXjxcLz9bXlxzPlwvXSsvLGluc2lkZTp7cHVuY3R1YXRpb246L148XC8/LyxuYW1lc3BhY2U6L15bXlxzPlwvOl0rOi99fSwic3BlY2lhbC1hdHRyIjpbXSwiYXR0ci12YWx1ZSI6e3BhdHRlcm46Lz1ccyooPzoiW14iXSoifCdbXiddKid8W15ccyciPj1dKykvLGluc2lkZTp7cHVuY3R1YXRpb246W3twYXR0ZXJuOi9ePS8sYWxpYXM6ImF0dHItZXF1YWxzIn0se3BhdHRlcm46L14oXHMqKVsiJ118WyInXSQvLGxvb2tiZWhpbmQ6ITB9XX19LHB1bmN0dWF0aW9uOi9cLz8+LywiYXR0ci1uYW1lIjp7cGF0dGVybjovW15ccz5cL10rLyxpbnNpZGU6e25hbWVzcGFjZTovXlteXHM+XC86XSs6L319fX0sZW50aXR5Olt7cGF0dGVybjovJltcZGEtel17MSw4fTsvaSxhbGlhczoibmFtZWQtZW50aXR5In0sLyYjeD9bXGRhLWZdezEsOH07L2ldfSx0Lmxhbmd1YWdlcy5tYXJrdXAudGFnLmluc2lkZVsiYXR0ci12YWx1ZSJdLmluc2lkZS5lbnRpdHk9dC5sYW5ndWFnZXMubWFya3VwLmVudGl0eSx0Lmxhbmd1YWdlcy5tYXJrdXAuZG9jdHlwZS5pbnNpZGVbImludGVybmFsLXN1YnNldCJdLmluc2lkZT10Lmxhbmd1YWdlcy5tYXJrdXAsdC5ob29rcy5hZGQoIndyYXAiLGZ1bmN0aW9uKHIpe3IudHlwZT09PSJlbnRpdHkiJiYoci5hdHRyaWJ1dGVzLnRpdGxlPXIuY29udGVudC5yZXBsYWNlKC8mYW1wOy8sIiYiKSl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5sYW5ndWFnZXMubWFya3VwLnRhZywiYWRkSW5saW5lZCIse3ZhbHVlOmZ1bmN0aW9uKGksdSl7dmFyIGE9e307YVsibGFuZ3VhZ2UtIit1XT17cGF0dGVybjovKF48IVxbQ0RBVEFcWylbXHNcU10rPyg/PVxdXF0+JCkvaSxsb29rYmVoaW5kOiEwLGluc2lkZTp0Lmxhbmd1YWdlc1t1XX0sYS5jZGF0YT0vXjwhXFtDREFUQVxbfFxdXF0+JC9pO3ZhciBzPXsiaW5jbHVkZWQtY2RhdGEiOntwYXR0ZXJuOi88IVxbQ0RBVEFcW1tcc1xTXSo/XF1cXT4vaSxpbnNpZGU6YX19O3NbImxhbmd1YWdlLSIrdV09e3BhdHRlcm46L1tcc1xTXSsvLGluc2lkZTp0Lmxhbmd1YWdlc1t1XX07dmFyIG89e307b1tpXT17cGF0dGVybjpSZWdFeHAoLyg8X19bXj5dKj4pKD86PCFcW0NEQVRBXFsoPzpbXlxdXXxcXSg/IVxdPikpKlxdXF0+fCg/ITwhXFtDREFUQVxbKVtcc1xTXSkqPyg/PTxcL19fPikvLnNvdXJjZS5yZXBsYWNlKC9fXy9nLGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSwiaSIpLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwLGluc2lkZTpzfSx0Lmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoIm1hcmt1cCIsImNkYXRhIixvKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5sYW5ndWFnZXMubWFya3VwLnRhZywiYWRkQXR0cmlidXRlIix7dmFsdWU6ZnVuY3Rpb24ocixpKXt0Lmxhbmd1YWdlcy5tYXJrdXAudGFnLmluc2lkZVsic3BlY2lhbC1hdHRyIl0ucHVzaCh7cGF0dGVybjpSZWdFeHAoLyhefFsiJ1xzXSkvLnNvdXJjZSsiKD86IityKyIpIisvXHMqPVxzKig/OiJbXiJdKiJ8J1teJ10qJ3xbXlxzJyI+PV0rKD89W1xzPl0pKS8uc291cmNlLCJpIiksbG9va2JlaGluZDohMCxpbnNpZGU6eyJhdHRyLW5hbWUiOi9eW15ccz1dKy8sImF0dHItdmFsdWUiOntwYXR0ZXJuOi89W1xzXFNdKy8saW5zaWRlOnt2YWx1ZTp7cGF0dGVybjovKF49XHMqKFsiJ118KD8hWyInXSkpKVxTW1xzXFNdKig/PVwyJCkvLGxvb2tiZWhpbmQ6ITAsYWxpYXM6W2ksImxhbmd1YWdlLSIraV0saW5zaWRlOnQubGFuZ3VhZ2VzW2ldfSxwdW5jdHVhdGlvbjpbe3BhdHRlcm46L149LyxhbGlhczoiYXR0ci1lcXVhbHMifSwvInwnL119fX19KX19KSx0Lmxhbmd1YWdlcy5odG1sPXQubGFuZ3VhZ2VzLm1hcmt1cCx0Lmxhbmd1YWdlcy5tYXRobWw9dC5sYW5ndWFnZXMubWFya3VwLHQubGFuZ3VhZ2VzLnN2Zz10Lmxhbmd1YWdlcy5tYXJrdXAsdC5sYW5ndWFnZXMueG1sPXQubGFuZ3VhZ2VzLmV4dGVuZCgibWFya3VwIix7fSksdC5sYW5ndWFnZXMuc3NtbD10Lmxhbmd1YWdlcy54bWwsdC5sYW5ndWFnZXMuYXRvbT10Lmxhbmd1YWdlcy54bWwsdC5sYW5ndWFnZXMucnNzPXQubGFuZ3VhZ2VzLnhtbCxmdW5jdGlvbihyKXt2YXIgaT0vKD86Iig/OlxcKD86XHJcbnxbXHNcU10pfFteIlxcXHJcbl0pKiJ8Jyg/OlxcKD86XHJcbnxbXHNcU10pfFteJ1xcXHJcbl0pKicpLztyLmxhbmd1YWdlcy5jc3M9e2NvbW1lbnQ6L1wvXCpbXHNcU10qP1wqXC8vLGF0cnVsZTp7cGF0dGVybjpSZWdFeHAoIkBbXFx3LV0oPzoiKy9bXjt7XHMiJ118XHMrKD8hXHMpLy5zb3VyY2UrInwiK2kuc291cmNlKyIpKj8iKy8oPzo7fCg/PVxzKlx7KSkvLnNvdXJjZSksaW5zaWRlOntydWxlOi9eQFtcdy1dKy8sInNlbGVjdG9yLWZ1bmN0aW9uLWFyZ3VtZW50Ijp7cGF0dGVybjovKFxic2VsZWN0b3JccypcKFxzKig/IVtccyldKSkoPzpbXigpXHNdfFxzKyg/IVtccyldKXxcKCg/OlteKCldfFwoW14oKV0qXCkpKlwpKSsoPz1ccypcKSkvLGxvb2tiZWhpbmQ6ITAsYWxpYXM6InNlbGVjdG9yIn0sa2V5d29yZDp7cGF0dGVybjovKF58W15cdy1dKSg/OmFuZHxub3R8b25seXxvcikoPyFbXHctXSkvLGxvb2tiZWhpbmQ6ITB9fX0sdXJsOntwYXR0ZXJuOlJlZ0V4cCgiXFxidXJsXFwoKD86IitpLnNvdXJjZSsifCIrLyg/OlteXFxcclxuKCkiJ118XFxbXHNcU10pKi8uc291cmNlKyIpXFwpIiwiaSIpLGdyZWVkeTohMCxpbnNpZGU6e2Z1bmN0aW9uOi9edXJsL2kscHVuY3R1YXRpb246L15cKHxcKSQvLHN0cmluZzp7cGF0dGVybjpSZWdFeHAoIl4iK2kuc291cmNlKyIkIiksYWxpYXM6InVybCJ9fX0sc2VsZWN0b3I6e3BhdHRlcm46UmVnRXhwKGAoXnxbe31cXHNdKVtee31cXHNdKD86W157fTsiJ1xcc118XFxzKyg/IVtcXHN7XSl8YCtpLnNvdXJjZSsiKSooPz1cXHMqXFx7KSIpLGxvb2tiZWhpbmQ6ITB9LHN0cmluZzp7cGF0dGVybjppLGdyZWVkeTohMH0scHJvcGVydHk6e3BhdHRlcm46LyhefFteLVx3XHhBMC1cdUZGRkZdKSg/IVxzKVstX2Etelx4QTAtXHVGRkZGXSg/Oig/IVxzKVstXHdceEEwLVx1RkZGRl0pKig/PVxzKjopL2ksbG9va2JlaGluZDohMH0saW1wb3J0YW50Oi8haW1wb3J0YW50XGIvaSxmdW5jdGlvbjp7cGF0dGVybjovKF58W14tYS16MC05XSlbLWEtejAtOV0rKD89XCgpL2ksbG9va2JlaGluZDohMH0scHVuY3R1YXRpb246L1soKXt9OzosXS99LHIubGFuZ3VhZ2VzLmNzcy5hdHJ1bGUuaW5zaWRlLnJlc3Q9ci5sYW5ndWFnZXMuY3NzO3ZhciB1PXIubGFuZ3VhZ2VzLm1hcmt1cDt1JiYodS50YWcuYWRkSW5saW5lZCgic3R5bGUiLCJjc3MiKSx1LnRhZy5hZGRBdHRyaWJ1dGUoInN0eWxlIiwiY3NzIikpfSh0KSx0Lmxhbmd1YWdlcy5jbGlrZT17Y29tbWVudDpbe3BhdHRlcm46LyhefFteXFxdKVwvXCpbXHNcU10qPyg/OlwqXC98JCkvLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwfSx7cGF0dGVybjovKF58W15cXDpdKVwvXC8uKi8sbG9va2JlaGluZDohMCxncmVlZHk6ITB9XSxzdHJpbmc6e3BhdHRlcm46LyhbIiddKSg/OlxcKD86XHJcbnxbXHNcU10pfCg/IVwxKVteXFxcclxuXSkqXDEvLGdyZWVkeTohMH0sImNsYXNzLW5hbWUiOntwYXR0ZXJuOi8oXGIoPzpjbGFzc3xleHRlbmRzfGltcGxlbWVudHN8aW5zdGFuY2VvZnxpbnRlcmZhY2V8bmV3fHRyYWl0KVxzK3xcYmNhdGNoXHMrXCgpW1x3LlxcXSsvaSxsb29rYmVoaW5kOiEwLGluc2lkZTp7cHVuY3R1YXRpb246L1suXFxdL319LGtleXdvcmQ6L1xiKD86YnJlYWt8Y2F0Y2h8Y29udGludWV8ZG98ZWxzZXxmaW5hbGx5fGZvcnxmdW5jdGlvbnxpZnxpbnxpbnN0YW5jZW9mfG5ld3xudWxsfHJldHVybnx0aHJvd3x0cnl8d2hpbGUpXGIvLGJvb2xlYW46L1xiKD86ZmFsc2V8dHJ1ZSlcYi8sZnVuY3Rpb246L1xiXHcrKD89XCgpLyxudW1iZXI6L1xiMHhbXGRhLWZdK1xifCg/OlxiXGQrKD86XC5cZCopP3xcQlwuXGQrKSg/OmVbKy1dP1xkKyk/L2ksb3BlcmF0b3I6L1s8Pl09P3xbIT1dPT89P3wtLT98XCtcKz98JiY/fFx8XHw/fFs/Ki9+XiVdLyxwdW5jdHVhdGlvbjovW3t9W1xdOygpLC46XS99LHQubGFuZ3VhZ2VzLmphdmFzY3JpcHQ9dC5sYW5ndWFnZXMuZXh0ZW5kKCJjbGlrZSIseyJjbGFzcy1uYW1lIjpbdC5sYW5ndWFnZXMuY2xpa2VbImNsYXNzLW5hbWUiXSx7cGF0dGVybjovKF58W14kXHdceEEwLVx1RkZGRl0pKD8hXHMpW18kQS1aXHhBMC1cdUZGRkZdKD86KD8hXHMpWyRcd1x4QTAtXHVGRkZGXSkqKD89XC4oPzpjb25zdHJ1Y3Rvcnxwcm90b3R5cGUpKS8sbG9va2JlaGluZDohMH1dLGtleXdvcmQ6W3twYXR0ZXJuOi8oKD86XnxcfSlccyopY2F0Y2hcYi8sbG9va2JlaGluZDohMH0se3BhdHRlcm46LyhefFteLl18XC5cLlwuXHMqKVxiKD86YXN8YXNzZXJ0KD89XHMqXHspfGFzeW5jKD89XHMqKD86ZnVuY3Rpb25cYnxcKHxbJFx3XHhBMC1cdUZGRkZdfCQpKXxhd2FpdHxicmVha3xjYXNlfGNsYXNzfGNvbnN0fGNvbnRpbnVlfGRlYnVnZ2VyfGRlZmF1bHR8ZGVsZXRlfGRvfGVsc2V8ZW51bXxleHBvcnR8ZXh0ZW5kc3xmaW5hbGx5KD89XHMqKD86XHt8JCkpfGZvcnxmcm9tKD89XHMqKD86WyciXXwkKSl8ZnVuY3Rpb258KD86Z2V0fHNldCkoPz1ccyooPzpbI1xbJFx3XHhBMC1cdUZGRkZdfCQpKXxpZnxpbXBsZW1lbnRzfGltcG9ydHxpbnxpbnN0YW5jZW9mfGludGVyZmFjZXxsZXR8bmV3fG51bGx8b2Z8cGFja2FnZXxwcml2YXRlfHByb3RlY3RlZHxwdWJsaWN8cmV0dXJufHN0YXRpY3xzdXBlcnxzd2l0Y2h8dGhpc3x0aHJvd3x0cnl8dHlwZW9mfHVuZGVmaW5lZHx2YXJ8dm9pZHx3aGlsZXx3aXRofHlpZWxkKVxiLyxsb29rYmVoaW5kOiEwfV0sZnVuY3Rpb246LyM/KD8hXHMpW18kYS16QS1aXHhBMC1cdUZGRkZdKD86KD8hXHMpWyRcd1x4QTAtXHVGRkZGXSkqKD89XHMqKD86XC5ccyooPzphcHBseXxiaW5kfGNhbGwpXHMqKT9cKCkvLG51bWJlcjp7cGF0dGVybjpSZWdFeHAoLyhefFteXHckXSkvLnNvdXJjZSsiKD86IisoL05hTnxJbmZpbml0eS8uc291cmNlKyJ8IisvMFtiQl1bMDFdKyg/Ol9bMDFdKykqbj8vLnNvdXJjZSsifCIrLzBbb09dWzAtN10rKD86X1swLTddKykqbj8vLnNvdXJjZSsifCIrLzBbeFhdW1xkQS1GYS1mXSsoPzpfW1xkQS1GYS1mXSspKm4/Ly5zb3VyY2UrInwiKy9cZCsoPzpfXGQrKSpuLy5zb3VyY2UrInwiKy8oPzpcZCsoPzpfXGQrKSooPzpcLig/OlxkKyg/Ol9cZCspKik/KT98XC5cZCsoPzpfXGQrKSopKD86W0VlXVsrLV0/XGQrKD86X1xkKykqKT8vLnNvdXJjZSkrIikiKy8oPyFbXHckXSkvLnNvdXJjZSksbG9va2JlaGluZDohMH0sb3BlcmF0b3I6Ly0tfFwrXCt8XCpcKj0/fD0+fCYmPT98XHxcfD0/fFshPV09PXw8PD0/fD4+Pj89P3xbLSsqLyUmfF4hPTw+XT0/fFwuezN9fFw/XD89P3xcP1wuP3xbfjpdL30pLHQubGFuZ3VhZ2VzLmphdmFzY3JpcHRbImNsYXNzLW5hbWUiXVswXS5wYXR0ZXJuPS8oXGIoPzpjbGFzc3xleHRlbmRzfGltcGxlbWVudHN8aW5zdGFuY2VvZnxpbnRlcmZhY2V8bmV3KVxzKylbXHcuXFxdKy8sdC5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJqYXZhc2NyaXB0Iiwia2V5d29yZCIse3JlZ2V4OntwYXR0ZXJuOlJlZ0V4cCgvKCg/Ol58W14kXHdceEEwLVx1RkZGRi4iJ1xdKVxzXXxcYig/OnJldHVybnx5aWVsZCkpXHMqKS8uc291cmNlKy9cLy8uc291cmNlKyIoPzoiKy8oPzpcWyg/OlteXF1cXFxyXG5dfFxcLikqXF18XFwufFteL1xcXFtcclxuXSkrXC9bZGdpbXl1c117MCw3fS8uc291cmNlKyJ8IisvKD86XFsoPzpbXltcXVxcXHJcbl18XFwufFxbKD86W15bXF1cXFxyXG5dfFxcLnxcWyg/OlteW1xdXFxcclxuXXxcXC4pKlxdKSpcXSkqXF18XFwufFteL1xcXFtcclxuXSkrXC9bZGdpbXl1c117MCw3fXZbZGdpbXl1c117MCw3fS8uc291cmNlKyIpIisvKD89KD86XHN8XC9cKig/OlteKl18XCooPyFcLykpKlwqXC8pKig/OiR8W1xyXG4sLjs6fSlcXV18XC9cLykpLy5zb3VyY2UpLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwLGluc2lkZTp7InJlZ2V4LXNvdXJjZSI6e3BhdHRlcm46L14oXC8pW1xzXFNdKyg/PVwvW2Etel0qJCkvLGxvb2tiZWhpbmQ6ITAsYWxpYXM6Imxhbmd1YWdlLXJlZ2V4IixpbnNpZGU6dC5sYW5ndWFnZXMucmVnZXh9LCJyZWdleC1kZWxpbWl0ZXIiOi9eXC98XC8kLywicmVnZXgtZmxhZ3MiOi9eW2Etel0rJC99fSwiZnVuY3Rpb24tdmFyaWFibGUiOntwYXR0ZXJuOi8jPyg/IVxzKVtfJGEtekEtWlx4QTAtXHVGRkZGXSg/Oig/IVxzKVskXHdceEEwLVx1RkZGRl0pKig/PVxzKls9Ol1ccyooPzphc3luY1xzKik/KD86XGJmdW5jdGlvblxifCg/OlwoKD86W14oKV18XChbXigpXSpcKSkqXCl8KD8hXHMpW18kYS16QS1aXHhBMC1cdUZGRkZdKD86KD8hXHMpWyRcd1x4QTAtXHVGRkZGXSkqKVxzKj0+KSkvLGFsaWFzOiJmdW5jdGlvbiJ9LHBhcmFtZXRlcjpbe3BhdHRlcm46LyhmdW5jdGlvbig/OlxzKyg/IVxzKVtfJGEtekEtWlx4QTAtXHVGRkZGXSg/Oig/IVxzKVskXHdceEEwLVx1RkZGRl0pKik/XHMqXChccyopKD8hXHMpKD86W14oKVxzXXxccysoPyFbXHMpXSl8XChbXigpXSpcKSkrKD89XHMqXCkpLyxsb29rYmVoaW5kOiEwLGluc2lkZTp0Lmxhbmd1YWdlcy5qYXZhc2NyaXB0fSx7cGF0dGVybjovKF58W14kXHdceEEwLVx1RkZGRl0pKD8hXHMpW18kYS16XHhBMC1cdUZGRkZdKD86KD8hXHMpWyRcd1x4QTAtXHVGRkZGXSkqKD89XHMqPT4pL2ksbG9va2JlaGluZDohMCxpbnNpZGU6dC5sYW5ndWFnZXMuamF2YXNjcmlwdH0se3BhdHRlcm46LyhcKFxzKikoPyFccykoPzpbXigpXHNdfFxzKyg/IVtccyldKXxcKFteKCldKlwpKSsoPz1ccypcKVxzKj0+KS8sbG9va2JlaGluZDohMCxpbnNpZGU6dC5sYW5ndWFnZXMuamF2YXNjcmlwdH0se3BhdHRlcm46LygoPzpcYnxcc3xeKSg/ISg/OmFzfGFzeW5jfGF3YWl0fGJyZWFrfGNhc2V8Y2F0Y2h8Y2xhc3N8Y29uc3R8Y29udGludWV8ZGVidWdnZXJ8ZGVmYXVsdHxkZWxldGV8ZG98ZWxzZXxlbnVtfGV4cG9ydHxleHRlbmRzfGZpbmFsbHl8Zm9yfGZyb218ZnVuY3Rpb258Z2V0fGlmfGltcGxlbWVudHN8aW1wb3J0fGlufGluc3RhbmNlb2Z8aW50ZXJmYWNlfGxldHxuZXd8bnVsbHxvZnxwYWNrYWdlfHByaXZhdGV8cHJvdGVjdGVkfHB1YmxpY3xyZXR1cm58c2V0fHN0YXRpY3xzdXBlcnxzd2l0Y2h8dGhpc3x0aHJvd3x0cnl8dHlwZW9mfHVuZGVmaW5lZHx2YXJ8dm9pZHx3aGlsZXx3aXRofHlpZWxkKSg/IVskXHdceEEwLVx1RkZGRl0pKSg/Oig/IVxzKVtfJGEtekEtWlx4QTAtXHVGRkZGXSg/Oig/IVxzKVskXHdceEEwLVx1RkZGRl0pKlxzKilcKFxzKnxcXVxzKlwoXHMqKSg/IVxzKSg/OlteKClcc118XHMrKD8hW1xzKV0pfFwoW14oKV0qXCkpKyg/PVxzKlwpXHMqXHspLyxsb29rYmVoaW5kOiEwLGluc2lkZTp0Lmxhbmd1YWdlcy5qYXZhc2NyaXB0fV0sY29uc3RhbnQ6L1xiW0EtWl0oPzpbQS1aX118XGR4PykqXGIvfSksdC5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJqYXZhc2NyaXB0Iiwic3RyaW5nIix7aGFzaGJhbmc6e3BhdHRlcm46L14jIS4qLyxncmVlZHk6ITAsYWxpYXM6ImNvbW1lbnQifSwidGVtcGxhdGUtc3RyaW5nIjp7cGF0dGVybjovYCg/OlxcW1xzXFNdfFwkXHsoPzpbXnt9XXxceyg/Oltee31dfFx7W159XSpcfSkqXH0pK1x9fCg/IVwkXHspW15cXGBdKSpgLyxncmVlZHk6ITAsaW5zaWRlOnsidGVtcGxhdGUtcHVuY3R1YXRpb24iOntwYXR0ZXJuOi9eYHxgJC8sYWxpYXM6InN0cmluZyJ9LGludGVycG9sYXRpb246e3BhdHRlcm46LygoPzpefFteXFxdKSg/OlxcezJ9KSopXCRceyg/Oltee31dfFx7KD86W157fV18XHtbXn1dKlx9KSpcfSkrXH0vLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOnsiaW50ZXJwb2xhdGlvbi1wdW5jdHVhdGlvbiI6e3BhdHRlcm46L15cJFx7fFx9JC8sYWxpYXM6InB1bmN0dWF0aW9uIn0scmVzdDp0Lmxhbmd1YWdlcy5qYXZhc2NyaXB0fX0sc3RyaW5nOi9bXHNcU10rL319LCJzdHJpbmctcHJvcGVydHkiOntwYXR0ZXJuOi8oKD86XnxbLHtdKVsgXHRdKikoWyInXSkoPzpcXCg/OlxyXG58W1xzXFNdKXwoPyFcMilbXlxcXHJcbl0pKlwyKD89XHMqOikvbSxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxhbGlhczoicHJvcGVydHkifX0pLHQubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiamF2YXNjcmlwdCIsIm9wZXJhdG9yIix7ImxpdGVyYWwtcHJvcGVydHkiOntwYXR0ZXJuOi8oKD86XnxbLHtdKVsgXHRdKikoPyFccylbXyRhLXpBLVpceEEwLVx1RkZGRl0oPzooPyFccylbJFx3XHhBMC1cdUZGRkZdKSooPz1ccyo6KS9tLGxvb2tiZWhpbmQ6ITAsYWxpYXM6InByb3BlcnR5In19KSx0Lmxhbmd1YWdlcy5tYXJrdXAmJih0Lmxhbmd1YWdlcy5tYXJrdXAudGFnLmFkZElubGluZWQoInNjcmlwdCIsImphdmFzY3JpcHQiKSx0Lmxhbmd1YWdlcy5tYXJrdXAudGFnLmFkZEF0dHJpYnV0ZSgvb24oPzphYm9ydHxibHVyfGNoYW5nZXxjbGlja3xjb21wb3NpdGlvbig/OmVuZHxzdGFydHx1cGRhdGUpfGRibGNsaWNrfGVycm9yfGZvY3VzKD86aW58b3V0KT98a2V5KD86ZG93bnx1cCl8bG9hZHxtb3VzZSg/OmRvd258ZW50ZXJ8bGVhdmV8bW92ZXxvdXR8b3Zlcnx1cCl8cmVzZXR8cmVzaXplfHNjcm9sbHxzZWxlY3R8c2xvdGNoYW5nZXxzdWJtaXR8dW5sb2FkfHdoZWVsKS8uc291cmNlLCJqYXZhc2NyaXB0IikpLHQubGFuZ3VhZ2VzLmpzPXQubGFuZ3VhZ2VzLmphdmFzY3JpcHQsZnVuY3Rpb24oKXtpZih0eXBlb2YgdD4idSJ8fHR5cGVvZiBkb2N1bWVudD4idSIpcmV0dXJuO0VsZW1lbnQucHJvdG90eXBlLm1hdGNoZXN8fChFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzPUVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yfHxFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3IpO3ZhciByPSJMb2FkaW5n4oCmIixpPWZ1bmN0aW9uKEMseCl7cmV0dXJuIuKcliBFcnJvciAiK0MrIiB3aGlsZSBmZXRjaGluZyBmaWxlOiAiK3h9LHU9IuKcliBFcnJvcjogRmlsZSBkb2VzIG5vdCBleGlzdCBvciBpcyBlbXB0eSIsYT17anM6ImphdmFzY3JpcHQiLHB5OiJweXRob24iLHJiOiJydWJ5IixwczE6InBvd2Vyc2hlbGwiLHBzbTE6InBvd2Vyc2hlbGwiLHNoOiJiYXNoIixiYXQ6ImJhdGNoIixoOiJjIix0ZXg6ImxhdGV4In0scz0iZGF0YS1zcmMtc3RhdHVzIixvPSJsb2FkaW5nIixsPSJsb2FkZWQiLHA9ImZhaWxlZCIsZj0icHJlW2RhdGEtc3JjXTpub3QoWyIrcysnPSInK2wrJyJdKTpub3QoWycrcysnPSInK28rJyJdKSc7ZnVuY3Rpb24gZyhDLHgsdyl7dmFyIGM9bmV3IFhNTEh0dHBSZXF1ZXN0O2Mub3BlbigiR0VUIixDLCEwKSxjLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2MucmVhZHlTdGF0ZT09NCYmKGMuc3RhdHVzPDQwMCYmYy5yZXNwb25zZVRleHQ/eChjLnJlc3BvbnNlVGV4dCk6Yy5zdGF0dXM+PTQwMD93KGkoYy5zdGF0dXMsYy5zdGF0dXNUZXh0KSk6dyh1KSl9LGMuc2VuZChudWxsKX1mdW5jdGlvbiBkKEMpe3ZhciB4PS9eXHMqKFxkKylccyooPzooLClccyooPzooXGQrKVxzKik/KT8kLy5leGVjKEN8fCIiKTtpZih4KXt2YXIgdz1OdW1iZXIoeFsxXSksYz14WzJdLGg9eFszXTtyZXR1cm4gYz9oP1t3LE51bWJlcihoKV06W3csdm9pZCAwXTpbdyx3XX19dC5ob29rcy5hZGQoImJlZm9yZS1oaWdobGlnaHRhbGwiLGZ1bmN0aW9uKEMpe0Muc2VsZWN0b3IrPSIsICIrZn0pLHQuaG9va3MuYWRkKCJiZWZvcmUtc2FuaXR5LWNoZWNrIixmdW5jdGlvbihDKXt2YXIgeD1DLmVsZW1lbnQ7aWYoeC5tYXRjaGVzKGYpKXtDLmNvZGU9IiIseC5zZXRBdHRyaWJ1dGUocyxvKTt2YXIgdz14LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkNPREUiKSk7dy50ZXh0Q29udGVudD1yO3ZhciBjPXguZ2V0QXR0cmlidXRlKCJkYXRhLXNyYyIpLGg9Qy5sYW5ndWFnZTtpZihoPT09Im5vbmUiKXt2YXIgbT0oL1wuKFx3KykkLy5leGVjKGMpfHxbLCJub25lIl0pWzFdO2g9YVttXXx8bX10LnV0aWwuc2V0TGFuZ3VhZ2UodyxoKSx0LnV0aWwuc2V0TGFuZ3VhZ2UoeCxoKTt2YXIgRj10LnBsdWdpbnMuYXV0b2xvYWRlcjtGJiZGLmxvYWRMYW5ndWFnZXMoaCksZyhjLGZ1bmN0aW9uKEQpe3guc2V0QXR0cmlidXRlKHMsbCk7dmFyIGI9ZCh4LmdldEF0dHJpYnV0ZSgiZGF0YS1yYW5nZSIpKTtpZihiKXt2YXIgXz1ELnNwbGl0KC9cclxuP3xcbi9nKSxrPWJbMF0sQj1iWzFdPT1udWxsP18ubGVuZ3RoOmJbMV07azwwJiYoays9Xy5sZW5ndGgpLGs9TWF0aC5tYXgoMCxNYXRoLm1pbihrLTEsXy5sZW5ndGgpKSxCPDAmJihCKz1fLmxlbmd0aCksQj1NYXRoLm1heCgwLE1hdGgubWluKEIsXy5sZW5ndGgpKSxEPV8uc2xpY2UoayxCKS5qb2luKGAKYCkseC5oYXNBdHRyaWJ1dGUoImRhdGEtc3RhcnQiKXx8eC5zZXRBdHRyaWJ1dGUoImRhdGEtc3RhcnQiLFN0cmluZyhrKzEpKX13LnRleHRDb250ZW50PUQsdC5oaWdobGlnaHRFbGVtZW50KHcpfSxmdW5jdGlvbihEKXt4LnNldEF0dHJpYnV0ZShzLHApLHcudGV4dENvbnRlbnQ9RH0pfX0pLHQucGx1Z2lucy5maWxlSGlnaGxpZ2h0PXtoaWdobGlnaHQ6ZnVuY3Rpb24oeCl7Zm9yKHZhciB3PSh4fHxkb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChmKSxjPTAsaDtoPXdbYysrXTspdC5oaWdobGlnaHRFbGVtZW50KGgpfX07dmFyIHY9ITE7dC5maWxlSGlnaGxpZ2h0PWZ1bmN0aW9uKCl7dnx8KGNvbnNvbGUud2FybigiUHJpc20uZmlsZUhpZ2hsaWdodCBpcyBkZXByZWNhdGVkLiBVc2UgYFByaXNtLnBsdWdpbnMuZmlsZUhpZ2hsaWdodC5oaWdobGlnaHRgIGluc3RlYWQuIiksdj0hMCksdC5wbHVnaW5zLmZpbGVIaWdobGlnaHQuaGlnaGxpZ2h0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCl9KShpcyk7KGZ1bmN0aW9uKGUpe3ZhciBuPSJcXGIoPzpCQVNIfEJBU0hPUFRTfEJBU0hfQUxJQVNFU3xCQVNIX0FSR0N8QkFTSF9BUkdWfEJBU0hfQ01EU3xCQVNIX0NPTVBMRVRJT05fQ09NUEFUX0RJUnxCQVNIX0xJTkVOT3xCQVNIX1JFTUFUQ0h8QkFTSF9TT1VSQ0V8QkFTSF9WRVJTSU5GT3xCQVNIX1ZFUlNJT058Q09MT1JURVJNfENPTFVNTlN8Q09NUF9XT1JEQlJFQUtTfERCVVNfU0VTU0lPTl9CVVNfQUREUkVTU3xERUZBVUxUU19QQVRIfERFU0tUT1BfU0VTU0lPTnxESVJTVEFDS3xESVNQTEFZfEVVSUR8R0RNU0VTU0lPTnxHRE1fTEFOR3xHTk9NRV9LRVlSSU5HX0NPTlRST0x8R05PTUVfS0VZUklOR19QSUR8R1BHX0FHRU5UX0lORk98R1JPVVBTfEhJU1RDT05UUk9MfEhJU1RGSUxFfEhJU1RGSUxFU0laRXxISVNUU0laRXxIT01FfEhPU1ROQU1FfEhPU1RUWVBFfElGU3xJTlNUQU5DRXxKT0J8TEFOR3xMQU5HVUFHRXxMQ19BRERSRVNTfExDX0FMTHxMQ19JREVOVElGSUNBVElPTnxMQ19NRUFTVVJFTUVOVHxMQ19NT05FVEFSWXxMQ19OQU1FfExDX05VTUVSSUN8TENfUEFQRVJ8TENfVEVMRVBIT05FfExDX1RJTUV8TEVTU0NMT1NFfExFU1NPUEVOfExJTkVTfExPR05BTUV8TFNfQ09MT1JTfE1BQ0hUWVBFfE1BSUxDSEVDS3xNQU5EQVRPUllfUEFUSHxOT19BVF9CUklER0V8T0xEUFdEfE9QVEVSUnxPUFRJTkR8T1JCSVRfU09DS0VURElSfE9TVFlQRXxQQVBFUlNJWkV8UEFUSHxQSVBFU1RBVFVTfFBQSUR8UFMxfFBTMnxQUzN8UFM0fFBXRHxSQU5ET018UkVQTFl8U0VDT05EU3xTRUxJTlVYX0lOSVR8U0VTU0lPTnxTRVNTSU9OVFlQRXxTRVNTSU9OX01BTkFHRVJ8U0hFTEx8U0hFTExPUFRTfFNITFZMfFNTSF9BVVRIX1NPQ0t8VEVSTXxVSUR8VVBTVEFSVF9FVkVOVFN8VVBTVEFSVF9JTlNUQU5DRXxVUFNUQVJUX0pPQnxVUFNUQVJUX1NFU1NJT058VVNFUnxXSU5ET1dJRHxYQVVUSE9SSVRZfFhER19DT05GSUdfRElSU3xYREdfQ1VSUkVOVF9ERVNLVE9QfFhER19EQVRBX0RJUlN8WERHX0dSRUVURVJfREFUQV9ESVJ8WERHX01FTlVfUFJFRklYfFhER19SVU5USU1FX0RJUnxYREdfU0VBVHxYREdfU0VBVF9QQVRIfFhER19TRVNTSU9OX0RFU0tUT1B8WERHX1NFU1NJT05fSUR8WERHX1NFU1NJT05fUEFUSHxYREdfU0VTU0lPTl9UWVBFfFhER19WVE5SfFhNT0RJRklFUlMpXFxiIix0PXtwYXR0ZXJuOi8oXihbIiddPylcdytcMilbIFx0XStcUy4qLyxsb29rYmVoaW5kOiEwLGFsaWFzOiJwdW5jdHVhdGlvbiIsaW5zaWRlOm51bGx9LHI9e2Jhc2g6dCxlbnZpcm9ubWVudDp7cGF0dGVybjpSZWdFeHAoIlxcJCIrbiksYWxpYXM6ImNvbnN0YW50In0sdmFyaWFibGU6W3twYXR0ZXJuOi9cJD9cKFwoW1xzXFNdKz9cKVwpLyxncmVlZHk6ITAsaW5zaWRlOnt2YXJpYWJsZTpbe3BhdHRlcm46LyheXCRcKFwoW1xzXFNdKylcKVwpLyxsb29rYmVoaW5kOiEwfSwvXlwkXChcKC9dLG51bWJlcjovXGIweFtcZEEtRmEtZl0rXGJ8KD86XGJcZCsoPzpcLlxkKik/fFxCXC5cZCspKD86W0VlXS0/XGQrKT8vLG9wZXJhdG9yOi8tLXxcK1wrfFwqXCo9P3w8PD0/fD4+PT98JiZ8XHxcfHxbPSErXC0qLyU8Pl4mfF09P3xbP346XS8scHVuY3R1YXRpb246L1woXCg/fFwpXCk/fCx8Oy99fSx7cGF0dGVybjovXCRcKCg/OlwoW14pXStcKXxbXigpXSkrXCl8YFteYF0rYC8sZ3JlZWR5OiEwLGluc2lkZTp7dmFyaWFibGU6L15cJFwofF5gfFwpJHxgJC99fSx7cGF0dGVybjovXCRce1tefV0rXH0vLGdyZWVkeTohMCxpbnNpZGU6e29wZXJhdG9yOi86Wy09PytdP3xbIVwvXXwjIz98JSU/fFxeXF4/fCwsPy8scHVuY3R1YXRpb246L1tcW1xdXS8sZW52aXJvbm1lbnQ6e3BhdHRlcm46UmVnRXhwKCIoXFx7KSIrbiksbG9va2JlaGluZDohMCxhbGlhczoiY29uc3RhbnQifX19LC9cJCg/Olx3K3xbIz8qIUAkXSkvXSxlbnRpdHk6L1xcKD86W2FiY2VFZm5ydHZcXCJdfE8/WzAtN117MSwzfXxVWzAtOWEtZkEtRl17OH18dVswLTlhLWZBLUZdezR9fHhbMC05YS1mQS1GXXsxLDJ9KS99O2UubGFuZ3VhZ2VzLmJhc2g9e3NoZWJhbmc6e3BhdHRlcm46L14jIVxzKlwvLiovLGFsaWFzOiJpbXBvcnRhbnQifSxjb21tZW50OntwYXR0ZXJuOi8oXnxbXiJ7XFwkXSkjLiovLGxvb2tiZWhpbmQ6ITB9LCJmdW5jdGlvbi1uYW1lIjpbe3BhdHRlcm46LyhcYmZ1bmN0aW9uXHMrKVtcdy1dKyg/PSg/OlxzKlwoPzpccypcKSk/XHMqXHspLyxsb29rYmVoaW5kOiEwLGFsaWFzOiJmdW5jdGlvbiJ9LHtwYXR0ZXJuOi9cYltcdy1dKyg/PVxzKlwoXHMqXClccypceykvLGFsaWFzOiJmdW5jdGlvbiJ9XSwiZm9yLW9yLXNlbGVjdCI6e3BhdHRlcm46LyhcYig/OmZvcnxzZWxlY3QpXHMrKVx3Kyg/PVxzK2luXHMpLyxhbGlhczoidmFyaWFibGUiLGxvb2tiZWhpbmQ6ITB9LCJhc3NpZ24tbGVmdCI6e3BhdHRlcm46LyhefFtcczt8Jl18Wzw+XVwoKVx3Kyg/OlwuXHcrKSooPz1cKz89KS8saW5zaWRlOntlbnZpcm9ubWVudDp7cGF0dGVybjpSZWdFeHAoIihefFtcXHM7fCZdfFs8Pl1cXCgpIituKSxsb29rYmVoaW5kOiEwLGFsaWFzOiJjb25zdGFudCJ9fSxhbGlhczoidmFyaWFibGUiLGxvb2tiZWhpbmQ6ITB9LHBhcmFtZXRlcjp7cGF0dGVybjovKF58XHMpLXsxLDJ9KD86XHcrOlsrLV0/KT9cdysoPzpcLlx3KykqKD89Wz1cc118JCkvLGFsaWFzOiJ2YXJpYWJsZSIsbG9va2JlaGluZDohMH0sc3RyaW5nOlt7cGF0dGVybjovKCg/Ol58W148XSk8PC0/XHMqKShcdyspXHNbXHNcU10qPyg/OlxyP1xufFxyKVwyLyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxpbnNpZGU6cn0se3BhdHRlcm46LygoPzpefFtePF0pPDwtP1xzKikoWyInXSkoXHcrKVwyXHNbXHNcU10qPyg/OlxyP1xufFxyKVwzLyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxpbnNpZGU6e2Jhc2g6dH19LHtwYXR0ZXJuOi8oXnxbXlxcXSg/OlxcXFwpKikiKD86XFxbXHNcU118XCRcKFteKV0rXCl8XCQoPyFcKCl8YFteYF0rYHxbXiJcXGAkXSkqIi8sbG9va2JlaGluZDohMCxncmVlZHk6ITAsaW5zaWRlOnJ9LHtwYXR0ZXJuOi8oXnxbXiRcXF0pJ1teJ10qJy8sbG9va2JlaGluZDohMCxncmVlZHk6ITB9LHtwYXR0ZXJuOi9cJCcoPzpbXidcXF18XFxbXHNcU10pKicvLGdyZWVkeTohMCxpbnNpZGU6e2VudGl0eTpyLmVudGl0eX19XSxlbnZpcm9ubWVudDp7cGF0dGVybjpSZWdFeHAoIlxcJD8iK24pLGFsaWFzOiJjb25zdGFudCJ9LHZhcmlhYmxlOnIudmFyaWFibGUsZnVuY3Rpb246e3BhdHRlcm46LyhefFtcczt8Jl18Wzw+XVwoKSg/OmFkZHxhcHJvcG9zfGFwdHxhcHQtY2FjaGV8YXB0LWdldHxhcHRpdHVkZXxhc3BlbGx8YXV0b215c3FsYmFja3VwfGF3a3xiYXNlbmFtZXxiYXNofGJjfGJjb25zb2xlfGJnfGJ6aXAyfGNhbHxjYXJnb3xjYXR8Y2ZkaXNrfGNoZ3JwfGNoa2NvbmZpZ3xjaG1vZHxjaG93bnxjaHJvb3R8Y2tzdW18Y2xlYXJ8Y21wfGNvbHVtbnxjb21tfGNvbXBvc2VyfGNwfGNyb258Y3JvbnRhYnxjc3BsaXR8Y3VybHxjdXR8ZGF0ZXxkY3xkZHxkZHJlc2N1ZXxkZWJvb3RzdHJhcHxkZnxkaWZmfGRpZmYzfGRpZ3xkaXJ8ZGlyY29sb3JzfGRpcm5hbWV8ZGlyc3xkbWVzZ3xkb2NrZXJ8ZG9ja2VyLWNvbXBvc2V8ZHV8ZWdyZXB8ZWplY3R8ZW52fGV0aHRvb2x8ZXhwYW5kfGV4cGVjdHxleHByfGZkZm9ybWF0fGZkaXNrfGZnfGZncmVwfGZpbGV8ZmluZHxmbXR8Zm9sZHxmb3JtYXR8ZnJlZXxmc2NrfGZ0cHxmdXNlcnxnYXdrfGdpdHxncGFydGVkfGdyZXB8Z3JvdXBhZGR8Z3JvdXBkZWx8Z3JvdXBtb2R8Z3JvdXBzfGdydWItbWtjb25maWd8Z3ppcHxoYWx0fGhlYWR8aGd8aGlzdG9yeXxob3N0fGhvc3RuYW1lfGh0b3B8aWNvbnZ8aWR8aWZjb25maWd8aWZkb3dufGlmdXB8aW1wb3J0fGluc3RhbGx8aXB8amF2YXxqb2JzfGpvaW58a2lsbHxraWxsYWxsfGxlc3N8bGlua3xsbnxsb2NhdGV8bG9nbmFtZXxsb2dyb3RhdGV8bG9va3xscGN8bHByfGxwcmludHxscHJpbnRkfGxwcmludHF8bHBybXxsc3xsc29mfGx5bnh8bWFrZXxtYW58bWN8bWRhZG18bWtjb25maWd8bWtkaXJ8bWtlMmZzfG1rZmlmb3xta2ZzfG1raXNvZnN8bWtub2R8bWtzd2FwfG1tdnxtb3JlfG1vc3R8bW91bnR8bXRvb2xzfG10cnxtdXR0fG12fG5hbm98bmN8bmV0c3RhdHxuaWNlfG5sfG5vZGV8bm9odXB8bm90aWZ5LXNlbmR8bnBtfG5zbG9va3VwfG9wfG9wZW58cGFydGVkfHBhc3N3ZHxwYXN0ZXxwYXRoY2hrfHBpbmd8cGtpbGx8cG5wbXxwb2RtYW58cG9kbWFuLWNvbXBvc2V8cG9wZHxwcnxwcmludGNhcHxwcmludGVudnxwc3xwdXNoZHxwdnxxdW90YXxxdW90YWNoZWNrfHF1b3RhY3RsfHJhbXxyYXJ8cmNwfHJlYm9vdHxyZW1zeW5jfHJlbmFtZXxyZW5pY2V8cmV2fHJtfHJtZGlyfHJwbXxyc3luY3xzY3B8c2NyZWVufHNkaWZmfHNlZHxzZW5kbWFpbHxzZXF8c2VydmljZXxzZnRwfHNofHNoZWxsY2hlY2t8c2h1ZnxzaHV0ZG93bnxzbGVlcHxzbG9jYXRlfHNvcnR8c3BsaXR8c3NofHN0YXR8c3RyYWNlfHN1fHN1ZG98c3VtfHN1c3BlbmR8c3dhcG9ufHN5bmN8c3lzY3RsfHRhY3x0YWlsfHRhcnx0ZWV8dGltZXx0aW1lb3V0fHRvcHx0b3VjaHx0cnx0cmFjZXJvdXRlfHRzb3J0fHR0eXx1bW91bnR8dW5hbWV8dW5leHBhbmR8dW5pcXx1bml0c3x1bnJhcnx1bnNoYXJ8dW56aXB8dXBkYXRlLWdydWJ8dXB0aW1lfHVzZXJhZGR8dXNlcmRlbHx1c2VybW9kfHVzZXJzfHV1ZGVjb2RlfHV1ZW5jb2RlfHZ8dmNwa2d8dmRpcnx2aXx2aW18dmlyc2h8dm1zdGF0fHdhaXR8d2F0Y2h8d2N8d2dldHx3aGVyZWlzfHdoaWNofHdob3x3aG9hbWl8d3JpdGV8eGFyZ3N8eGRnLW9wZW58eWFybnx5ZXN8emVuaXR5fHppcHx6c2h8enlwcGVyKSg/PSR8Wylcczt8Jl0pLyxsb29rYmVoaW5kOiEwfSxrZXl3b3JkOntwYXR0ZXJuOi8oXnxbXHM7fCZdfFs8Pl1cKCkoPzpjYXNlfGRvfGRvbmV8ZWxpZnxlbHNlfGVzYWN8Zml8Zm9yfGZ1bmN0aW9ufGlmfGlufHNlbGVjdHx0aGVufHVudGlsfHdoaWxlKSg/PSR8Wylcczt8Jl0pLyxsb29rYmVoaW5kOiEwfSxidWlsdGluOntwYXR0ZXJuOi8oXnxbXHM7fCZdfFs8Pl1cKCkoPzpcLnw6fGFsaWFzfGJpbmR8YnJlYWt8YnVpbHRpbnxjYWxsZXJ8Y2R8Y29tbWFuZHxjb250aW51ZXxkZWNsYXJlfGVjaG98ZW5hYmxlfGV2YWx8ZXhlY3xleGl0fGV4cG9ydHxnZXRvcHRzfGhhc2h8aGVscHxsZXR8bG9jYWx8bG9nb3V0fG1hcGZpbGV8cHJpbnRmfHB3ZHxyZWFkfHJlYWRhcnJheXxyZWFkb25seXxyZXR1cm58c2V0fHNoaWZ0fHNob3B0fHNvdXJjZXx0ZXN0fHRpbWVzfHRyYXB8dHlwZXx0eXBlc2V0fHVsaW1pdHx1bWFza3x1bmFsaWFzfHVuc2V0KSg/PSR8Wylcczt8Jl0pLyxsb29rYmVoaW5kOiEwLGFsaWFzOiJjbGFzcy1uYW1lIn0sYm9vbGVhbjp7cGF0dGVybjovKF58W1xzO3wmXXxbPD5dXCgpKD86ZmFsc2V8dHJ1ZSkoPz0kfFspXHM7fCZdKS8sbG9va2JlaGluZDohMH0sImZpbGUtZGVzY3JpcHRvciI6e3BhdHRlcm46L1xCJlxkXGIvLGFsaWFzOiJpbXBvcnRhbnQifSxvcGVyYXRvcjp7cGF0dGVybjovXGQ/PD58Plx8fFwrPXw9Wz1+XT98IT0/fDw8WzwtXT98WyZcZF0/Pj58XGRbPD5dJj98Wzw+XVsmPV0/fCZbPiZdP3xcfFsmfF0/LyxpbnNpZGU6eyJmaWxlLWRlc2NyaXB0b3IiOntwYXR0ZXJuOi9eXGQvLGFsaWFzOiJpbXBvcnRhbnQifX19LHB1bmN0dWF0aW9uOi9cJD9cKFwoP3xcKVwpP3xcLlwufFt7fVtcXTtcXF0vLG51bWJlcjp7cGF0dGVybjovKF58XHMpKD86WzEtOV1cZCp8MCkoPzpbLixdXGQrKT9cYi8sbG9va2JlaGluZDohMH19LHQuaW5zaWRlPWUubGFuZ3VhZ2VzLmJhc2g7Zm9yKHZhciBpPVsiY29tbWVudCIsImZ1bmN0aW9uLW5hbWUiLCJmb3Itb3Itc2VsZWN0IiwiYXNzaWduLWxlZnQiLCJwYXJhbWV0ZXIiLCJzdHJpbmciLCJlbnZpcm9ubWVudCIsImZ1bmN0aW9uIiwia2V5d29yZCIsImJ1aWx0aW4iLCJib29sZWFuIiwiZmlsZS1kZXNjcmlwdG9yIiwib3BlcmF0b3IiLCJwdW5jdHVhdGlvbiIsIm51bWJlciJdLHU9ci52YXJpYWJsZVsxXS5pbnNpZGUsYT0wO2E8aS5sZW5ndGg7YSsrKXVbaVthXV09ZS5sYW5ndWFnZXMuYmFzaFtpW2FdXTtlLmxhbmd1YWdlcy5zaD1lLmxhbmd1YWdlcy5iYXNoLGUubGFuZ3VhZ2VzLnNoZWxsPWUubGFuZ3VhZ2VzLmJhc2h9KShQcmlzbSk7KGZ1bmN0aW9uKGUpe3ZhciBuPS8oPzoiKD86XFwoPzpcclxufFtcc1xTXSl8W14iXFxcclxuXSkqInwnKD86XFwoPzpcclxufFtcc1xTXSl8W14nXFxcclxuXSkqJykvO2UubGFuZ3VhZ2VzLmNzcz17Y29tbWVudDovXC9cKltcc1xTXSo/XCpcLy8sYXRydWxlOntwYXR0ZXJuOlJlZ0V4cCgiQFtcXHctXSg/OiIrL1teO3tccyInXXxccysoPyFccykvLnNvdXJjZSsifCIrbi5zb3VyY2UrIikqPyIrLyg/Ojt8KD89XHMqXHspKS8uc291cmNlKSxpbnNpZGU6e3J1bGU6L15AW1x3LV0rLywic2VsZWN0b3ItZnVuY3Rpb24tYXJndW1lbnQiOntwYXR0ZXJuOi8oXGJzZWxlY3RvclxzKlwoXHMqKD8hW1xzKV0pKSg/OlteKClcc118XHMrKD8hW1xzKV0pfFwoKD86W14oKV18XChbXigpXSpcKSkqXCkpKyg/PVxzKlwpKS8sbG9va2JlaGluZDohMCxhbGlhczoic2VsZWN0b3IifSxrZXl3b3JkOntwYXR0ZXJuOi8oXnxbXlx3LV0pKD86YW5kfG5vdHxvbmx5fG9yKSg/IVtcdy1dKS8sbG9va2JlaGluZDohMH19fSx1cmw6e3BhdHRlcm46UmVnRXhwKCJcXGJ1cmxcXCgoPzoiK24uc291cmNlKyJ8IisvKD86W15cXFxyXG4oKSInXXxcXFtcc1xTXSkqLy5zb3VyY2UrIilcXCkiLCJpIiksZ3JlZWR5OiEwLGluc2lkZTp7ZnVuY3Rpb246L151cmwvaSxwdW5jdHVhdGlvbjovXlwofFwpJC8sc3RyaW5nOntwYXR0ZXJuOlJlZ0V4cCgiXiIrbi5zb3VyY2UrIiQiKSxhbGlhczoidXJsIn19fSxzZWxlY3Rvcjp7cGF0dGVybjpSZWdFeHAoYChefFt7fVxcc10pW157fVxcc10oPzpbXnt9OyInXFxzXXxcXHMrKD8hW1xcc3tdKXxgK24uc291cmNlKyIpKig/PVxccypcXHspIiksbG9va2JlaGluZDohMH0sc3RyaW5nOntwYXR0ZXJuOm4sZ3JlZWR5OiEwfSxwcm9wZXJ0eTp7cGF0dGVybjovKF58W14tXHdceEEwLVx1RkZGRl0pKD8hXHMpWy1fYS16XHhBMC1cdUZGRkZdKD86KD8hXHMpWy1cd1x4QTAtXHVGRkZGXSkqKD89XHMqOikvaSxsb29rYmVoaW5kOiEwfSxpbXBvcnRhbnQ6LyFpbXBvcnRhbnRcYi9pLGZ1bmN0aW9uOntwYXR0ZXJuOi8oXnxbXi1hLXowLTldKVstYS16MC05XSsoPz1cKCkvaSxsb29rYmVoaW5kOiEwfSxwdW5jdHVhdGlvbjovWygpe307OixdL30sZS5sYW5ndWFnZXMuY3NzLmF0cnVsZS5pbnNpZGUucmVzdD1lLmxhbmd1YWdlcy5jc3M7dmFyIHQ9ZS5sYW5ndWFnZXMubWFya3VwO3QmJih0LnRhZy5hZGRJbmxpbmVkKCJzdHlsZSIsImNzcyIpLHQudGFnLmFkZEF0dHJpYnV0ZSgic3R5bGUiLCJjc3MiKSl9KShQcmlzbSk7UHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHQ9UHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgiY2xpa2UiLHsiY2xhc3MtbmFtZSI6W1ByaXNtLmxhbmd1YWdlcy5jbGlrZVsiY2xhc3MtbmFtZSJdLHtwYXR0ZXJuOi8oXnxbXiRcd1x4QTAtXHVGRkZGXSkoPyFccylbXyRBLVpceEEwLVx1RkZGRl0oPzooPyFccylbJFx3XHhBMC1cdUZGRkZdKSooPz1cLig/OmNvbnN0cnVjdG9yfHByb3RvdHlwZSkpLyxsb29rYmVoaW5kOiEwfV0sa2V5d29yZDpbe3BhdHRlcm46LygoPzpefFx9KVxzKiljYXRjaFxiLyxsb29rYmVoaW5kOiEwfSx7cGF0dGVybjovKF58W14uXXxcLlwuXC5ccyopXGIoPzphc3xhc3NlcnQoPz1ccypceyl8YXN5bmMoPz1ccyooPzpmdW5jdGlvblxifFwofFskXHdceEEwLVx1RkZGRl18JCkpfGF3YWl0fGJyZWFrfGNhc2V8Y2xhc3N8Y29uc3R8Y29udGludWV8ZGVidWdnZXJ8ZGVmYXVsdHxkZWxldGV8ZG98ZWxzZXxlbnVtfGV4cG9ydHxleHRlbmRzfGZpbmFsbHkoPz1ccyooPzpce3wkKSl8Zm9yfGZyb20oPz1ccyooPzpbJyJdfCQpKXxmdW5jdGlvbnwoPzpnZXR8c2V0KSg/PVxzKig/OlsjXFskXHdceEEwLVx1RkZGRl18JCkpfGlmfGltcGxlbWVudHN8aW1wb3J0fGlufGluc3RhbmNlb2Z8aW50ZXJmYWNlfGxldHxuZXd8bnVsbHxvZnxwYWNrYWdlfHByaXZhdGV8cHJvdGVjdGVkfHB1YmxpY3xyZXR1cm58c3RhdGljfHN1cGVyfHN3aXRjaHx0aGlzfHRocm93fHRyeXx0eXBlb2Z8dW5kZWZpbmVkfHZhcnx2b2lkfHdoaWxlfHdpdGh8eWllbGQpXGIvLGxvb2tiZWhpbmQ6ITB9XSxmdW5jdGlvbjovIz8oPyFccylbXyRhLXpBLVpceEEwLVx1RkZGRl0oPzooPyFccylbJFx3XHhBMC1cdUZGRkZdKSooPz1ccyooPzpcLlxzKig/OmFwcGx5fGJpbmR8Y2FsbClccyopP1woKS8sbnVtYmVyOntwYXR0ZXJuOlJlZ0V4cCgvKF58W15cdyRdKS8uc291cmNlKyIoPzoiKygvTmFOfEluZmluaXR5Ly5zb3VyY2UrInwiKy8wW2JCXVswMV0rKD86X1swMV0rKSpuPy8uc291cmNlKyJ8IisvMFtvT11bMC03XSsoPzpfWzAtN10rKSpuPy8uc291cmNlKyJ8IisvMFt4WF1bXGRBLUZhLWZdKyg/Ol9bXGRBLUZhLWZdKykqbj8vLnNvdXJjZSsifCIrL1xkKyg/Ol9cZCspKm4vLnNvdXJjZSsifCIrLyg/OlxkKyg/Ol9cZCspKig/OlwuKD86XGQrKD86X1xkKykqKT8pP3xcLlxkKyg/Ol9cZCspKikoPzpbRWVdWystXT9cZCsoPzpfXGQrKSopPy8uc291cmNlKSsiKSIrLyg/IVtcdyRdKS8uc291cmNlKSxsb29rYmVoaW5kOiEwfSxvcGVyYXRvcjovLS18XCtcK3xcKlwqPT98PT58JiY9P3xcfFx8PT98WyE9XT09fDw8PT98Pj4+Pz0/fFstKyovJSZ8XiE9PD5dPT98XC57M318XD9cPz0/fFw/XC4/fFt+Ol0vfSk7UHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHRbImNsYXNzLW5hbWUiXVswXS5wYXR0ZXJuPS8oXGIoPzpjbGFzc3xleHRlbmRzfGltcGxlbWVudHN8aW5zdGFuY2VvZnxpbnRlcmZhY2V8bmV3KVxzKylbXHcuXFxdKy87UHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiamF2YXNjcmlwdCIsImtleXdvcmQiLHtyZWdleDp7cGF0dGVybjpSZWdFeHAoLygoPzpefFteJFx3XHhBMC1cdUZGRkYuIidcXSlcc118XGIoPzpyZXR1cm58eWllbGQpKVxzKikvLnNvdXJjZSsvXC8vLnNvdXJjZSsiKD86IisvKD86XFsoPzpbXlxdXFxcclxuXXxcXC4pKlxdfFxcLnxbXi9cXFxbXHJcbl0pK1wvW2RnaW15dXNdezAsN30vLnNvdXJjZSsifCIrLyg/OlxbKD86W15bXF1cXFxyXG5dfFxcLnxcWyg/OlteW1xdXFxcclxuXXxcXC58XFsoPzpbXltcXVxcXHJcbl18XFwuKSpcXSkqXF0pKlxdfFxcLnxbXi9cXFxbXHJcbl0pK1wvW2RnaW15dXNdezAsN312W2RnaW15dXNdezAsN30vLnNvdXJjZSsiKSIrLyg/PSg/OlxzfFwvXCooPzpbXipdfFwqKD8hXC8pKSpcKlwvKSooPzokfFtcclxuLC47On0pXF1dfFwvXC8pKS8uc291cmNlKSxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxpbnNpZGU6eyJyZWdleC1zb3VyY2UiOntwYXR0ZXJuOi9eKFwvKVtcc1xTXSsoPz1cL1thLXpdKiQpLyxsb29rYmVoaW5kOiEwLGFsaWFzOiJsYW5ndWFnZS1yZWdleCIsaW5zaWRlOlByaXNtLmxhbmd1YWdlcy5yZWdleH0sInJlZ2V4LWRlbGltaXRlciI6L15cL3xcLyQvLCJyZWdleC1mbGFncyI6L15bYS16XSskL319LCJmdW5jdGlvbi12YXJpYWJsZSI6e3BhdHRlcm46LyM/KD8hXHMpW18kYS16QS1aXHhBMC1cdUZGRkZdKD86KD8hXHMpWyRcd1x4QTAtXHVGRkZGXSkqKD89XHMqWz06XVxzKig/OmFzeW5jXHMqKT8oPzpcYmZ1bmN0aW9uXGJ8KD86XCgoPzpbXigpXXxcKFteKCldKlwpKSpcKXwoPyFccylbXyRhLXpBLVpceEEwLVx1RkZGRl0oPzooPyFccylbJFx3XHhBMC1cdUZGRkZdKSopXHMqPT4pKS8sYWxpYXM6ImZ1bmN0aW9uIn0scGFyYW1ldGVyOlt7cGF0dGVybjovKGZ1bmN0aW9uKD86XHMrKD8hXHMpW18kYS16QS1aXHhBMC1cdUZGRkZdKD86KD8hXHMpWyRcd1x4QTAtXHVGRkZGXSkqKT9ccypcKFxzKikoPyFccykoPzpbXigpXHNdfFxzKyg/IVtccyldKXxcKFteKCldKlwpKSsoPz1ccypcKSkvLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOlByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0fSx7cGF0dGVybjovKF58W14kXHdceEEwLVx1RkZGRl0pKD8hXHMpW18kYS16XHhBMC1cdUZGRkZdKD86KD8hXHMpWyRcd1x4QTAtXHVGRkZGXSkqKD89XHMqPT4pL2ksbG9va2JlaGluZDohMCxpbnNpZGU6UHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHR9LHtwYXR0ZXJuOi8oXChccyopKD8hXHMpKD86W14oKVxzXXxccysoPyFbXHMpXSl8XChbXigpXSpcKSkrKD89XHMqXClccyo9PikvLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOlByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0fSx7cGF0dGVybjovKCg/OlxifFxzfF4pKD8hKD86YXN8YXN5bmN8YXdhaXR8YnJlYWt8Y2FzZXxjYXRjaHxjbGFzc3xjb25zdHxjb250aW51ZXxkZWJ1Z2dlcnxkZWZhdWx0fGRlbGV0ZXxkb3xlbHNlfGVudW18ZXhwb3J0fGV4dGVuZHN8ZmluYWxseXxmb3J8ZnJvbXxmdW5jdGlvbnxnZXR8aWZ8aW1wbGVtZW50c3xpbXBvcnR8aW58aW5zdGFuY2VvZnxpbnRlcmZhY2V8bGV0fG5ld3xudWxsfG9mfHBhY2thZ2V8cHJpdmF0ZXxwcm90ZWN0ZWR8cHVibGljfHJldHVybnxzZXR8c3RhdGljfHN1cGVyfHN3aXRjaHx0aGlzfHRocm93fHRyeXx0eXBlb2Z8dW5kZWZpbmVkfHZhcnx2b2lkfHdoaWxlfHdpdGh8eWllbGQpKD8hWyRcd1x4QTAtXHVGRkZGXSkpKD86KD8hXHMpW18kYS16QS1aXHhBMC1cdUZGRkZdKD86KD8hXHMpWyRcd1x4QTAtXHVGRkZGXSkqXHMqKVwoXHMqfFxdXHMqXChccyopKD8hXHMpKD86W14oKVxzXXxccysoPyFbXHMpXSl8XChbXigpXSpcKSkrKD89XHMqXClccypceykvLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOlByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0fV0sY29uc3RhbnQ6L1xiW0EtWl0oPzpbQS1aX118XGR4PykqXGIvfSk7UHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiamF2YXNjcmlwdCIsInN0cmluZyIse2hhc2hiYW5nOntwYXR0ZXJuOi9eIyEuKi8sZ3JlZWR5OiEwLGFsaWFzOiJjb21tZW50In0sInRlbXBsYXRlLXN0cmluZyI6e3BhdHRlcm46L2AoPzpcXFtcc1xTXXxcJFx7KD86W157fV18XHsoPzpbXnt9XXxce1tefV0qXH0pKlx9KStcfXwoPyFcJFx7KVteXFxgXSkqYC8sZ3JlZWR5OiEwLGluc2lkZTp7InRlbXBsYXRlLXB1bmN0dWF0aW9uIjp7cGF0dGVybjovXmB8YCQvLGFsaWFzOiJzdHJpbmcifSxpbnRlcnBvbGF0aW9uOntwYXR0ZXJuOi8oKD86XnxbXlxcXSkoPzpcXHsyfSkqKVwkXHsoPzpbXnt9XXxceyg/Oltee31dfFx7W159XSpcfSkqXH0pK1x9Lyxsb29rYmVoaW5kOiEwLGluc2lkZTp7ImludGVycG9sYXRpb24tcHVuY3R1YXRpb24iOntwYXR0ZXJuOi9eXCRce3xcfSQvLGFsaWFzOiJwdW5jdHVhdGlvbiJ9LHJlc3Q6UHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHR9fSxzdHJpbmc6L1tcc1xTXSsvfX0sInN0cmluZy1wcm9wZXJ0eSI6e3BhdHRlcm46LygoPzpefFsse10pWyBcdF0qKShbIiddKSg/OlxcKD86XHJcbnxbXHNcU10pfCg/IVwyKVteXFxcclxuXSkqXDIoPz1ccyo6KS9tLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwLGFsaWFzOiJwcm9wZXJ0eSJ9fSk7UHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiamF2YXNjcmlwdCIsIm9wZXJhdG9yIix7ImxpdGVyYWwtcHJvcGVydHkiOntwYXR0ZXJuOi8oKD86XnxbLHtdKVsgXHRdKikoPyFccylbXyRhLXpBLVpceEEwLVx1RkZGRl0oPzooPyFccylbJFx3XHhBMC1cdUZGRkZdKSooPz1ccyo6KS9tLGxvb2tiZWhpbmQ6ITAsYWxpYXM6InByb3BlcnR5In19KTtQcmlzbS5sYW5ndWFnZXMubWFya3VwJiYoUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC50YWcuYWRkSW5saW5lZCgic2NyaXB0IiwiamF2YXNjcmlwdCIpLFByaXNtLmxhbmd1YWdlcy5tYXJrdXAudGFnLmFkZEF0dHJpYnV0ZSgvb24oPzphYm9ydHxibHVyfGNoYW5nZXxjbGlja3xjb21wb3NpdGlvbig/OmVuZHxzdGFydHx1cGRhdGUpfGRibGNsaWNrfGVycm9yfGZvY3VzKD86aW58b3V0KT98a2V5KD86ZG93bnx1cCl8bG9hZHxtb3VzZSg/OmRvd258ZW50ZXJ8bGVhdmV8bW92ZXxvdXR8b3Zlcnx1cCl8cmVzZXR8cmVzaXplfHNjcm9sbHxzZWxlY3R8c2xvdGNoYW5nZXxzdWJtaXR8dW5sb2FkfHdoZWVsKS8uc291cmNlLCJqYXZhc2NyaXB0IikpO1ByaXNtLmxhbmd1YWdlcy5qcz1QcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdDtQcmlzbS5sYW5ndWFnZXMuanNvbj17cHJvcGVydHk6e3BhdHRlcm46LyhefFteXFxdKSIoPzpcXC58W15cXCJcclxuXSkqIig/PVxzKjopLyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMH0sc3RyaW5nOntwYXR0ZXJuOi8oXnxbXlxcXSkiKD86XFwufFteXFwiXHJcbl0pKiIoPyFccyo6KS8sbG9va2JlaGluZDohMCxncmVlZHk6ITB9LGNvbW1lbnQ6e3BhdHRlcm46L1wvXC8uKnxcL1wqW1xzXFNdKj8oPzpcKlwvfCQpLyxncmVlZHk6ITB9LG51bWJlcjovLT9cYlxkKyg/OlwuXGQrKT8oPzplWystXT9cZCspP1xiL2kscHVuY3R1YXRpb246L1t7fVtcXSxdLyxvcGVyYXRvcjovOi8sYm9vbGVhbjovXGIoPzpmYWxzZXx0cnVlKVxiLyxudWxsOntwYXR0ZXJuOi9cYm51bGxcYi8sYWxpYXM6ImtleXdvcmQifX07UHJpc20ubGFuZ3VhZ2VzLndlYm1hbmlmZXN0PVByaXNtLmxhbmd1YWdlcy5qc29uO1ByaXNtLmxhbmd1YWdlcy5tYXJrdXA9e2NvbW1lbnQ6e3BhdHRlcm46LzwhLS0oPzooPyE8IS0tKVtcc1xTXSkqPy0tPi8sZ3JlZWR5OiEwfSxwcm9sb2c6e3BhdHRlcm46LzxcP1tcc1xTXSs/XD8+LyxncmVlZHk6ITB9LGRvY3R5cGU6e3BhdHRlcm46LzwhRE9DVFlQRSg/OltePiInW1xdXXwiW14iXSoifCdbXiddKicpKyg/OlxbKD86W148IidcXV18IlteIl0qInwnW14nXSonfDwoPyEhLS0pfDwhLS0oPzpbXi1dfC0oPyEtPikpKi0tPikqXF1ccyopPz4vaSxncmVlZHk6ITAsaW5zaWRlOnsiaW50ZXJuYWwtc3Vic2V0Ijp7cGF0dGVybjovKF5bXlxbXSpcWylbXHNcU10rKD89XF0+JCkvLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwLGluc2lkZTpudWxsfSxzdHJpbmc6e3BhdHRlcm46LyJbXiJdKiJ8J1teJ10qJy8sZ3JlZWR5OiEwfSxwdW5jdHVhdGlvbjovXjwhfD4kfFtbXF1dLywiZG9jdHlwZS10YWciOi9eRE9DVFlQRS9pLG5hbWU6L1teXHM8PiciXSsvfX0sY2RhdGE6e3BhdHRlcm46LzwhXFtDREFUQVxbW1xzXFNdKj9cXVxdPi9pLGdyZWVkeTohMH0sdGFnOntwYXR0ZXJuOi88XC8/KD8hXGQpW15ccz5cLz0kPCVdKyg/OlxzKD86XHMqW15ccz5cLz1dKyg/OlxzKj1ccyooPzoiW14iXSoifCdbXiddKid8W15ccyciPj1dKyg/PVtccz5dKSl8KD89W1xzLz5dKSkpKyk/XHMqXC8/Pi8sZ3JlZWR5OiEwLGluc2lkZTp7dGFnOntwYXR0ZXJuOi9ePFwvP1teXHM+XC9dKy8saW5zaWRlOntwdW5jdHVhdGlvbjovXjxcLz8vLG5hbWVzcGFjZTovXlteXHM+XC86XSs6L319LCJzcGVjaWFsLWF0dHIiOltdLCJhdHRyLXZhbHVlIjp7cGF0dGVybjovPVxzKig/OiJbXiJdKiJ8J1teJ10qJ3xbXlxzJyI+PV0rKS8saW5zaWRlOntwdW5jdHVhdGlvbjpbe3BhdHRlcm46L149LyxhbGlhczoiYXR0ci1lcXVhbHMifSx7cGF0dGVybjovXihccyopWyInXXxbIiddJC8sbG9va2JlaGluZDohMH1dfX0scHVuY3R1YXRpb246L1wvPz4vLCJhdHRyLW5hbWUiOntwYXR0ZXJuOi9bXlxzPlwvXSsvLGluc2lkZTp7bmFtZXNwYWNlOi9eW15ccz5cLzpdKzovfX19fSxlbnRpdHk6W3twYXR0ZXJuOi8mW1xkYS16XXsxLDh9Oy9pLGFsaWFzOiJuYW1lZC1lbnRpdHkifSwvJiN4P1tcZGEtZl17MSw4fTsvaV19O1ByaXNtLmxhbmd1YWdlcy5tYXJrdXAudGFnLmluc2lkZVsiYXR0ci12YWx1ZSJdLmluc2lkZS5lbnRpdHk9UHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC5lbnRpdHk7UHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC5kb2N0eXBlLmluc2lkZVsiaW50ZXJuYWwtc3Vic2V0Il0uaW5zaWRlPVByaXNtLmxhbmd1YWdlcy5tYXJrdXA7UHJpc20uaG9va3MuYWRkKCJ3cmFwIixmdW5jdGlvbihlKXtlLnR5cGU9PT0iZW50aXR5IiYmKGUuYXR0cmlidXRlcy50aXRsZT1lLmNvbnRlbnQucmVwbGFjZSgvJmFtcDsvLCImIikpfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFByaXNtLmxhbmd1YWdlcy5tYXJrdXAudGFnLCJhZGRJbmxpbmVkIix7dmFsdWU6ZnVuY3Rpb24obix0KXt2YXIgcj17fTtyWyJsYW5ndWFnZS0iK3RdPXtwYXR0ZXJuOi8oXjwhXFtDREFUQVxbKVtcc1xTXSs/KD89XF1cXT4kKS9pLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOlByaXNtLmxhbmd1YWdlc1t0XX0sci5jZGF0YT0vXjwhXFtDREFUQVxbfFxdXF0+JC9pO3ZhciBpPXsiaW5jbHVkZWQtY2RhdGEiOntwYXR0ZXJuOi88IVxbQ0RBVEFcW1tcc1xTXSo/XF1cXT4vaSxpbnNpZGU6cn19O2lbImxhbmd1YWdlLSIrdF09e3BhdHRlcm46L1tcc1xTXSsvLGluc2lkZTpQcmlzbS5sYW5ndWFnZXNbdF19O3ZhciB1PXt9O3Vbbl09e3BhdHRlcm46UmVnRXhwKC8oPF9fW14+XSo+KSg/OjwhXFtDREFUQVxbKD86W15cXV18XF0oPyFcXT4pKSpcXVxdPnwoPyE8IVxbQ0RBVEFcWylbXHNcU10pKj8oPz08XC9fXz4pLy5zb3VyY2UucmVwbGFjZSgvX18vZyxmdW5jdGlvbigpe3JldHVybiBufSksImkiKSxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxpbnNpZGU6aX0sUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgibWFya3VwIiwiY2RhdGEiLHUpfX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZywiYWRkQXR0cmlidXRlIix7dmFsdWU6ZnVuY3Rpb24oZSxuKXtQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZy5pbnNpZGVbInNwZWNpYWwtYXR0ciJdLnB1c2goe3BhdHRlcm46UmVnRXhwKC8oXnxbIidcc10pLy5zb3VyY2UrIig/OiIrZSsiKSIrL1xzKj1ccyooPzoiW14iXSoifCdbXiddKid8W15ccyciPj1dKyg/PVtccz5dKSkvLnNvdXJjZSwiaSIpLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOnsiYXR0ci1uYW1lIjovXlteXHM9XSsvLCJhdHRyLXZhbHVlIjp7cGF0dGVybjovPVtcc1xTXSsvLGluc2lkZTp7dmFsdWU6e3BhdHRlcm46LyhePVxzKihbIiddfCg/IVsiJ10pKSlcU1tcc1xTXSooPz1cMiQpLyxsb29rYmVoaW5kOiEwLGFsaWFzOltuLCJsYW5ndWFnZS0iK25dLGluc2lkZTpQcmlzbS5sYW5ndWFnZXNbbl19LHB1bmN0dWF0aW9uOlt7cGF0dGVybjovXj0vLGFsaWFzOiJhdHRyLWVxdWFscyJ9LC8ifCcvXX19fX0pfX0pO1ByaXNtLmxhbmd1YWdlcy5odG1sPVByaXNtLmxhbmd1YWdlcy5tYXJrdXA7UHJpc20ubGFuZ3VhZ2VzLm1hdGhtbD1QcmlzbS5sYW5ndWFnZXMubWFya3VwO1ByaXNtLmxhbmd1YWdlcy5zdmc9UHJpc20ubGFuZ3VhZ2VzLm1hcmt1cDtQcmlzbS5sYW5ndWFnZXMueG1sPVByaXNtLmxhbmd1YWdlcy5leHRlbmQoIm1hcmt1cCIse30pO1ByaXNtLmxhbmd1YWdlcy5zc21sPVByaXNtLmxhbmd1YWdlcy54bWw7UHJpc20ubGFuZ3VhZ2VzLmF0b209UHJpc20ubGFuZ3VhZ2VzLnhtbDtQcmlzbS5sYW5ndWFnZXMucnNzPVByaXNtLmxhbmd1YWdlcy54bWw7KGZ1bmN0aW9uKGUpe2UubGFuZ3VhZ2VzLnR5cGVzY3JpcHQ9ZS5sYW5ndWFnZXMuZXh0ZW5kKCJqYXZhc2NyaXB0Iix7ImNsYXNzLW5hbWUiOntwYXR0ZXJuOi8oXGIoPzpjbGFzc3xleHRlbmRzfGltcGxlbWVudHN8aW5zdGFuY2VvZnxpbnRlcmZhY2V8bmV3fHR5cGUpXHMrKSg/IWtleW9mXGIpKD8hXHMpW18kYS16QS1aXHhBMC1cdUZGRkZdKD86KD8hXHMpWyRcd1x4QTAtXHVGRkZGXSkqKD86XHMqPCg/OltePD5dfDwoPzpbXjw+XXw8W148Pl0qPikqPikqPik/Lyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxpbnNpZGU6bnVsbH0sYnVpbHRpbjovXGIoPzpBcnJheXxGdW5jdGlvbnxQcm9taXNlfGFueXxib29sZWFufGNvbnNvbGV8bmV2ZXJ8bnVtYmVyfHN0cmluZ3xzeW1ib2x8dW5rbm93bilcYi99KSxlLmxhbmd1YWdlcy50eXBlc2NyaXB0LmtleXdvcmQucHVzaCgvXGIoPzphYnN0cmFjdHxkZWNsYXJlfGlzfGtleW9mfHJlYWRvbmx5fHJlcXVpcmUpXGIvLC9cYig/OmFzc2VydHN8aW5mZXJ8aW50ZXJmYWNlfG1vZHVsZXxuYW1lc3BhY2V8dHlwZSlcYig/PVxzKig/Olt7XyRhLXpBLVpceEEwLVx1RkZGRl18JCkpLywvXGJ0eXBlXGIoPz1ccyooPzpbXHsqXXwkKSkvKSxkZWxldGUgZS5sYW5ndWFnZXMudHlwZXNjcmlwdC5wYXJhbWV0ZXIsZGVsZXRlIGUubGFuZ3VhZ2VzLnR5cGVzY3JpcHRbImxpdGVyYWwtcHJvcGVydHkiXTt2YXIgbj1lLmxhbmd1YWdlcy5leHRlbmQoInR5cGVzY3JpcHQiLHt9KTtkZWxldGUgblsiY2xhc3MtbmFtZSJdLGUubGFuZ3VhZ2VzLnR5cGVzY3JpcHRbImNsYXNzLW5hbWUiXS5pbnNpZGU9bixlLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoInR5cGVzY3JpcHQiLCJmdW5jdGlvbiIse2RlY29yYXRvcjp7cGF0dGVybjovQFskXHdceEEwLVx1RkZGRl0rLyxpbnNpZGU6e2F0OntwYXR0ZXJuOi9eQC8sYWxpYXM6Im9wZXJhdG9yIn0sZnVuY3Rpb246L15bXHNcU10rL319LCJnZW5lcmljLWZ1bmN0aW9uIjp7cGF0dGVybjovIz8oPyFccylbXyRhLXpBLVpceEEwLVx1RkZGRl0oPzooPyFccylbJFx3XHhBMC1cdUZGRkZdKSpccyo8KD86W148Pl18PCg/OltePD5dfDxbXjw+XSo+KSo+KSo+KD89XHMqXCgpLyxncmVlZHk6ITAsaW5zaWRlOntmdW5jdGlvbjovXiM/KD8hXHMpW18kYS16QS1aXHhBMC1cdUZGRkZdKD86KD8hXHMpWyRcd1x4QTAtXHVGRkZGXSkqLyxnZW5lcmljOntwYXR0ZXJuOi88W1xzXFNdKy8sYWxpYXM6ImNsYXNzLW5hbWUiLGluc2lkZTpufX19fSksZS5sYW5ndWFnZXMudHM9ZS5sYW5ndWFnZXMudHlwZXNjcmlwdH0pKFByaXNtKTsoZnVuY3Rpb24oKXtpZih0eXBlb2YgUHJpc20+InUifHx0eXBlb2YgZG9jdW1lbnQ+InUiKXJldHVybjtpZighUHJpc20ucGx1Z2lucy50b29sYmFyKXtjb25zb2xlLndhcm4oIkNvcHkgdG8gQ2xpcGJvYXJkIHBsdWdpbiBsb2FkZWQgYmVmb3JlIFRvb2xiYXIgcGx1Z2luLiIpO3JldHVybn1mdW5jdGlvbiBlKHUsYSl7dS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oKXt0KGEpfSl9ZnVuY3Rpb24gbih1KXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpO2EudmFsdWU9dS5nZXRUZXh0KCksYS5zdHlsZS50b3A9IjAiLGEuc3R5bGUubGVmdD0iMCIsYS5zdHlsZS5wb3NpdGlvbj0iZml4ZWQiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSksYS5mb2N1cygpLGEuc2VsZWN0KCk7dHJ5e3ZhciBzPWRvY3VtZW50LmV4ZWNDb21tYW5kKCJjb3B5Iik7c2V0VGltZW91dChmdW5jdGlvbigpe3M/dS5zdWNjZXNzKCk6dS5lcnJvcigpfSwxKX1jYXRjaChvKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dS5lcnJvcihvKX0sMSl9ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKX1mdW5jdGlvbiB0KHUpe25hdmlnYXRvci5jbGlwYm9hcmQ/bmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodS5nZXRUZXh0KCkpLnRoZW4odS5zdWNjZXNzLGZ1bmN0aW9uKCl7bih1KX0pOm4odSl9ZnVuY3Rpb24gcih1KXt3aW5kb3cuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0QWxsQ2hpbGRyZW4odSl9ZnVuY3Rpb24gaSh1KXt2YXIgYT17Y29weToiQ29weSIsImNvcHktZXJyb3IiOiJQcmVzcyBDdHJsK0MgdG8gY29weSIsImNvcHktc3VjY2VzcyI6IkNvcGllZCEiLCJjb3B5LXRpbWVvdXQiOjVlM30scz0iZGF0YS1wcmlzbWpzLSI7Zm9yKHZhciBvIGluIGEpe2Zvcih2YXIgbD1zK28scD11O3AmJiFwLmhhc0F0dHJpYnV0ZShsKTspcD1wLnBhcmVudEVsZW1lbnQ7cCYmKGFbb109cC5nZXRBdHRyaWJ1dGUobCkpfXJldHVybiBhfVByaXNtLnBsdWdpbnMudG9vbGJhci5yZWdpc3RlckJ1dHRvbigiY29weS10by1jbGlwYm9hcmQiLGZ1bmN0aW9uKHUpe3ZhciBhPXUuZWxlbWVudCxzPWkoYSksbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTtvLmNsYXNzTmFtZT0iY29weS10by1jbGlwYm9hcmQtYnV0dG9uIixvLnNldEF0dHJpYnV0ZSgidHlwZSIsImJ1dHRvbiIpO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtyZXR1cm4gby5hcHBlbmRDaGlsZChsKSxmKCJjb3B5IiksZShvLHtnZXRUZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGEudGV4dENvbnRlbnR9LHN1Y2Nlc3M6ZnVuY3Rpb24oKXtmKCJjb3B5LXN1Y2Nlc3MiKSxwKCl9LGVycm9yOmZ1bmN0aW9uKCl7ZigiY29weS1lcnJvciIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyKGEpfSwxKSxwKCl9fSksbztmdW5jdGlvbiBwKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2YoImNvcHkiKX0sc1siY29weS10aW1lb3V0Il0pfWZ1bmN0aW9uIGYoZyl7bC50ZXh0Q29udGVudD1zW2ddLG8uc2V0QXR0cmlidXRlKCJkYXRhLWNvcHktc3RhdGUiLGcpfX0pfSkoKTsoZnVuY3Rpb24oKXtpZih0eXBlb2YgUHJpc20+InUifHx0eXBlb2YgZG9jdW1lbnQ+InUiKXJldHVybjt2YXIgZT1bXSxuPXt9LHQ9ZnVuY3Rpb24oKXt9O1ByaXNtLnBsdWdpbnMudG9vbGJhcj17fTt2YXIgcj1QcmlzbS5wbHVnaW5zLnRvb2xiYXIucmVnaXN0ZXJCdXR0b249ZnVuY3Rpb24oYSxzKXt2YXIgbztpZih0eXBlb2Ygcz09ImZ1bmN0aW9uIj9vPXM6bz1mdW5jdGlvbihsKXt2YXIgcDtyZXR1cm4gdHlwZW9mIHMub25DbGljaz09ImZ1bmN0aW9uIj8ocD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKSxwLnR5cGU9ImJ1dHRvbiIscC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oKXtzLm9uQ2xpY2suY2FsbCh0aGlzLGwpfSkpOnR5cGVvZiBzLnVybD09InN0cmluZyI/KHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLHAuaHJlZj1zLnVybCk6cD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIikscy5jbGFzc05hbWUmJnAuY2xhc3NMaXN0LmFkZChzLmNsYXNzTmFtZSkscC50ZXh0Q29udGVudD1zLnRleHQscH0sYSBpbiBuKXtjb25zb2xlLndhcm4oJ1RoZXJlIGlzIGEgYnV0dG9uIHdpdGggdGhlIGtleSAiJythKyciIHJlZ2lzdGVyZWQgYWxyZWFkeS4nKTtyZXR1cm59ZS5wdXNoKG5bYV09byl9O2Z1bmN0aW9uIGkoYSl7Zm9yKDthOyl7dmFyIHM9YS5nZXRBdHRyaWJ1dGUoImRhdGEtdG9vbGJhci1vcmRlciIpO2lmKHMhPW51bGwpcmV0dXJuIHM9cy50cmltKCkscy5sZW5ndGg/cy5zcGxpdCgvXHMqLFxzKi9nKTpbXTthPWEucGFyZW50RWxlbWVudH19dmFyIHU9UHJpc20ucGx1Z2lucy50b29sYmFyLmhvb2s9ZnVuY3Rpb24oYSl7dmFyIHM9YS5lbGVtZW50LnBhcmVudE5vZGU7aWYoISghc3x8IS9wcmUvaS50ZXN0KHMubm9kZU5hbWUpKSYmIXMucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoImNvZGUtdG9vbGJhciIpKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtvLmNsYXNzTGlzdC5hZGQoImNvZGUtdG9vbGJhciIpLHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobyxzKSxvLmFwcGVuZENoaWxkKHMpO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2wuY2xhc3NMaXN0LmFkZCgidG9vbGJhciIpO3ZhciBwPWUsZj1pKGEuZWxlbWVudCk7ZiYmKHA9Zi5tYXAoZnVuY3Rpb24oZyl7cmV0dXJuIG5bZ118fHR9KSkscC5mb3JFYWNoKGZ1bmN0aW9uKGcpe3ZhciBkPWcoYSk7aWYoZCl7dmFyIHY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7di5jbGFzc0xpc3QuYWRkKCJ0b29sYmFyLWl0ZW0iKSx2LmFwcGVuZENoaWxkKGQpLGwuYXBwZW5kQ2hpbGQodil9fSksby5hcHBlbmRDaGlsZChsKX19O3IoImxhYmVsIixmdW5jdGlvbihhKXt2YXIgcz1hLmVsZW1lbnQucGFyZW50Tm9kZTtpZighKCFzfHwhL3ByZS9pLnRlc3Qocy5ub2RlTmFtZSkpJiZzLmhhc0F0dHJpYnV0ZSgiZGF0YS1sYWJlbCIpKXt2YXIgbyxsLHA9cy5nZXRBdHRyaWJ1dGUoImRhdGEtbGFiZWwiKTt0cnl7bD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJ0ZW1wbGF0ZSMiK3ApfWNhdGNoe31yZXR1cm4gbD9vPWwuY29udGVudDoocy5oYXNBdHRyaWJ1dGUoImRhdGEtdXJsIik/KG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLG8uaHJlZj1zLmdldEF0dHJpYnV0ZSgiZGF0YS11cmwiKSk6bz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIiksby50ZXh0Q29udGVudD1wKSxvfX0pLFByaXNtLmhvb2tzLmFkZCgiY29tcGxldGUiLHUpfSkoKTtmdW5jdGlvbiBYdChlKXtlfHwodXIoWHQpLGU9UihhcikpO2NvbnN0IG49bmV3IFFuKHQ9PmUub25EZXN0cm95KHQubmV4dC5iaW5kKHQpKSk7cmV0dXJuIHQ9PnQucGlwZShzcihuKSl9ZnVuY3Rpb24gdXMoZSxuKXtyZXR1cm4gZS5nZXQoUXQoZSxuKSl9ZnVuY3Rpb24gYXMoZSxuLHQpe3JldHVybiBlLnNldChRdChlLG4pLHQpLHR9ZnVuY3Rpb24gUXQoZSxuLHQpe2lmKHR5cGVvZiBlPT0iZnVuY3Rpb24iP2U9PT1uOmUuaGFzKG4pKXJldHVybiBhcmd1bWVudHMubGVuZ3RoPDM/bjp0O3Rocm93IG5ldyBUeXBlRXJyb3IoIlByaXZhdGUgZWxlbWVudCBpcyBub3QgcHJlc2VudCBvbiB0aGlzIG9iamVjdCIpfWxldCBWdD0oKCk9Pnt2YXIgZTtjbGFzcyBue2NvbnN0cnVjdG9yKCl7dGhpcy5kb2N1bWVudD1SKGRyKSx0aGlzLmxvY2F0aW9uPVIoZ3IpLHRoaXMucm91dGVyPVIobXIpfWhhbmRsZU5hdmlnYXRpb24ocil7aWYociBpbnN0YW5jZW9mIEhUTUxBbmNob3JFbGVtZW50JiZscyhyLHRoaXMuZG9jdW1lbnQpJiZvcyhyKSYmIXNzKHIpKXtjb25zdHtwYXRobmFtZTppLHNlYXJjaDp1LGhhc2g6YX09cixzPXRoaXMubG9jYXRpb24ubm9ybWFsaXplKGAke2l9JHt1fSR7YX1gKTtyZXR1cm4gdGhpcy5yb3V0ZXIubmF2aWdhdGVCeVVybChzKSwhMX1yZXR1cm4hMH19cmV0dXJuIGU9bixlLsm1ZmFjPWZ1bmN0aW9uKHIpe3JldHVybiBuZXcocnx8ZSl9LGUuybVkaXI9b3Ioe3R5cGU6ZSxzZWxlY3RvcnM6W1siIiwiYW5hbG9nQW5jaG9yTmF2aWdhdGlvbiIsIiJdXSxob3N0QmluZGluZ3M6ZnVuY3Rpb24ocixpKXtyJjEmJkZyKCJjbGljayIsZnVuY3Rpb24oYSl7cmV0dXJuIGkuaGFuZGxlTmF2aWdhdGlvbihhLnRhcmdldCl9KX0sc3RhbmRhbG9uZTohMH0pLG59KSgpO2Z1bmN0aW9uIHNzKGUpe3JldHVybiBlLmdldEF0dHJpYnV0ZSgiZG93bmxvYWQiKSE9PW51bGx9ZnVuY3Rpb24gb3MoZSl7cmV0dXJuIWUudGFyZ2V0fHxlLnRhcmdldD09PSJfc2VsZiJ9ZnVuY3Rpb24gbHMoZSxuKXtyZXR1cm4gZS5ob3N0PT09bi5sb2NhdGlvbi5ob3N0JiZlLnByb3RvY29sPT09bi5sb2NhdGlvbi5wcm90b2NvbH1jb25zdCBjcz0oKT0+T2JqZWN0LmFzc2lnbih7fSkscHM9KCk9Pk9iamVjdC5hc3NpZ24oe30pO2Z1bmN0aW9uIGZzKGUpe2NvbnN0IG49ZS5tYXRjaCgvXihcXHxcLykoLisoXFx8XC8pKSooLispXC4oLispJC8pO3JldHVybiBuPy5sZW5ndGg/bls0XToiIn1jb25zdCBKdD1uZXcgSmUoIkBhbmFsb2dqcy9jb250ZW50IENvbnRlbnQgRmlsZXMgTGlzdCIse3Byb3ZpZGVkSW46InJvb3QiLGZhY3RvcnkoKXtjb25zdCBlPWNzKCk7cmV0dXJuIE9iamVjdC5rZXlzKGUpLm1hcChuPT57Y29uc3QgdD1lW25dLHI9dC5zbHVnO3JldHVybntmaWxlbmFtZTpuLGF0dHJpYnV0ZXM6dCxzbHVnOmVuY29kZVVSSShyfHxmcyhuKSl9fSl9fSksaHM9bmV3IEplKCJAYW5hbG9nanMvY29udGVudCBDb250ZW50IEZpbGVzIix7cHJvdmlkZWRJbjoicm9vdCIsZmFjdG9yeSgpe2NvbnN0IGU9cHMoKSxuPVIoSnQpLHQ9e307bi5mb3JFYWNoKGk9Pntjb25zdCB1PWkuZmlsZW5hbWUuc3BsaXQoIi8iKSxhPXUuc2xpY2UoMCx1Lmxlbmd0aC0xKS5qb2luKCIvIik7dFtpLmZpbGVuYW1lXT1gJHthfS8ke2kuc2x1Z30ubWRgfSk7Y29uc3Qgcj17fTtyZXR1cm4gT2JqZWN0LmVudHJpZXMoZSkuZm9yRWFjaChpPT57Y29uc3QgdT1pWzBdLGE9aVsxXSxzPXRbdV07cyE9PXZvaWQgMCYmKHJbc109YSl9KSxyfX0pO2Z1bmN0aW9uIGRzKGUpe2NvbnN0e2JvZHk6bixhdHRyaWJ1dGVzOnR9PVNhKGUpO3JldHVybntjb250ZW50Om4sYXR0cmlidXRlczp0fX1mdW5jdGlvbiBYbihlLG4sdCxyKXtjb25zdCBpPWAvc3JjL2NvbnRlbnQvJHtufSR7dH0ubWRgLHU9ZVtpXTtyZXR1cm4gdT9uZXcgUW4oYT0+e3UoKS50aGVuKG89PnthLm5leHQobyl9KX0pLnBpcGUoQmUoYT0+e2NvbnN0e2NvbnRlbnQ6cyxhdHRyaWJ1dGVzOm99PWRzKGEpO3JldHVybntmaWxlbmFtZTppLHNsdWc6dCxhdHRyaWJ1dGVzOm8sY29udGVudDpzfX0pKTokZSh7ZmlsZW5hbWU6aSxhdHRyaWJ1dGVzOnt9LHNsdWc6IiIsY29udGVudDpyfSl9ZnVuY3Rpb24gRHMoZT0ic2x1ZyIsbj0iTm8gQ29udGVudCBGb3VuZCIpe2NvbnN0IHQ9Uihocyk7aWYodHlwZW9mIGU9PSJzdHJpbmcifHwicGFyYW0iaW4gZSl7Y29uc3Qgcj10eXBlb2YgZT09InN0cmluZyI/IiI6YCR7ZS5zdWJkaXJlY3Rvcnl9L2AsaT1SKGVuKSx1PXR5cGVvZiBlPT0ic3RyaW5nIj9lOmUucGFyYW07cmV0dXJuIGkucGFyYW1NYXAucGlwZShCZShhPT5hLmdldCh1KSksbHIoYT0+YT9Ybih0LHIsYSxuKTokZSh7ZmlsZW5hbWU6IiIsc2x1ZzoiIixhdHRyaWJ1dGVzOnt9LGNvbnRlbnQ6bn0pKSl9ZWxzZSByZXR1cm4gWG4odCwiIixlLmN1c3RvbUZpbGVuYW1lLG4pfWxldCBkbj0oKCk9Pnt2YXIgZTtjbGFzcyBue3JlbmRlcihyKXtyZXR1cm4gQ2UodGhpcyxudWxsLGZ1bmN0aW9uKigpe3JldHVybiByfSl9Z2V0Q29udGVudEhlYWRpbmdzKCl7cmV0dXJuW119ZW5oYW5jZSgpe319cmV0dXJuIGU9bixlLsm1ZmFjPWZ1bmN0aW9uKHIpe3JldHVybiBuZXcocnx8ZSl9LGUuybVwcm92PW5uKHt0b2tlbjplLGZhY3Rvcnk6ZS7JtWZhY30pLG59KSgpO2Z1bmN0aW9uIEFzKGUpe2NvbnN0IG49UihKdCk7cmV0dXJuIGU/bi5maWx0ZXIoZSk6bn0oZnVuY3Rpb24oKXt0eXBlb2YgUHJpc20+InUifHwoUHJpc20ubGFuZ3VhZ2VzLmFuZ3VsYXI9UHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgibWFya3VwIix7a2V5d29yZDovKD86QGlmfEBmb3J8QHN3aXRjaHxAZGVmZXJ8QGxvYWRpbmd8QGVycm9yfEBwbGFjZWhvbGRlcnxwcmVmZXRjaClcYi8sb3BlcmF0b3I6L1xiKD86b258d2hlbilcYi8sbnVtYmVyOntwYXR0ZXJuOi9cYihtaW5pbXVtfGFmdGVyKVxzK1xkKyg/OnN8bXN8KS9naSxsb29rYmVoaW5kOiEwfSxidWlsdGluOntwYXR0ZXJuOi9cYig/OnZpZXdwb3J0fHRpbWVyfG1pbmltdW18YWZ0ZXJ8aG92ZXJ8aWRsZXxpbW1lZGlhdGV8aW50ZXJhY3Rpb24pL30sZnVuY3Rpb246LyM/KD8hXHMpW18kYS16QS1aXHhBMC1cdUZGRkZdKD86KD8hXHMpWyRcd1x4QTAtXHVGRkZGXSkqKD89XHMqKD86XC5ccyooPzphcHBseXxiaW5kfGNhbGwpXHMqKT9cKCkvfSksUHJpc20ubGFuZ3VhZ2VzLm5nPVByaXNtLmxhbmd1YWdlcy5hbmd1bGFyKX0pKCk7bGV0IGduPSgoKT0+e3ZhciBlO2NsYXNzIG57Y29uc3RydWN0b3IoKXtjb25zdCByPW5ldyBTLlJlbmRlcmVyO3IuY29kZT0oaSx1KT0+e2lmKHU9PT0ibWVybWFpZCIpcmV0dXJuJzxwcmUgY2xhc3M9Im1lcm1haWQiPicraSsiPC9wcmU+IjtpZighdSlyZXR1cm4iPHByZT48Y29kZT4iK2krIjwvY29kZT48L3ByZT4iO2NvbnN0IGE9dS5zdGFydHNXaXRoKCJkaWZmIikmJlByaXNtLmxhbmd1YWdlcy5kaWZmP2BsYW5ndWFnZS0ke3V9IGRpZmYtaGlnaGxpZ2h0YDpgbGFuZ3VhZ2UtJHt1LnJlcGxhY2UoImRpZmYtIiwiIil9YDtyZXR1cm5gPHByZSBjbGFzcz0iJHthfSI+PGNvZGUgY2xhc3M9IiR7YX0iPiR7aX08L2NvZGU+PC9wcmU+YH0sUy51c2UoUmEoKSxlcyh7YXN5bmM6ITAsaGlnaGxpZ2h0OihpLHUpPT57bGV0IGE9dT8uc3RhcnRzV2l0aCgiZGlmZi0iKTtyZXR1cm4gdT1hP3UucmVwbGFjZSgiZGlmZi0iLCIiKTp1fHwidHlwZXNjcmlwdCIsYSYmIVByaXNtLmxhbmd1YWdlcy5kaWZmJiYoYT0hMSxjb25zb2xlLndhcm4oYE5vdGljZToKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgVGhlIFxgZGlmZlxgIGxhbmd1YWdlIGFuZCBwbHVnaW4gYXJlIG5vdCBhdmFpbGFibGUgaW4gdGhlIHByb3ZpZGVkIHNldHVwLgogICAgVG8gZW5hYmxlIGl0LCBhZGQgdGhlIGZvbGxvd2luZyBpbXBvcnRzIHlvdXIgXGBtYWluLnRzXGA6CiAgICAgIGltcG9ydCAncHJpc21qcy9jb21wb25lbnRzL3ByaXNtLWRpZmYnOwogICAgICBpbXBvcnQgJ3ByaXNtanMvcGx1Z2lucy9kaWZmLWhpZ2hsaWdodC9wcmlzbS1kaWZmLWhpZ2hsaWdodCc7CiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAgICAgYCkpLFByaXNtLmxhbmd1YWdlc1t1XT9QcmlzbS5oaWdobGlnaHQoaSxhP1ByaXNtLmxhbmd1YWdlcy5kaWZmOlByaXNtLmxhbmd1YWdlc1t1XSx1KToodSE9PSJtZXJtYWlkIiYmY29uc29sZS53YXJuKGBOb3RpY2U6CiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIFRoZSByZXF1ZXN0ZWQgbGFuZ3VhZ2UgJyR7dX0nIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhlIHByb3ZpZGVkIHNldHVwLgogICAgVG8gZW5hYmxlIGl0LCBhZGQgdGhlIGZvbGxvd2luZyBpbXBvcnQgeW91ciBcYG1haW4udHNcYDoKICAgICAgaW1wb3J0ICdwcmlzbWpzL2NvbXBvbmVudHMvcHJpc20tJHt1fSc7CiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAgICAgICBgKSxpKX19KSx7cmVuZGVyZXI6cixwZWRhbnRpYzohMSxnZm06ITAsYnJlYWtzOiExLHNhbml0aXplOiExLHNtYXJ0eXBhbnRzOiExLHhodG1sOiExLG1hbmdsZTohMX0pLHRoaXMubWFya2VkPVN9Z2V0TWFya2VkSW5zdGFuY2UoKXtyZXR1cm4gdGhpcy5tYXJrZWR9fXJldHVybiBlPW4sZS7JtWZhYz1mdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fGUpfSxlLsm1cHJvdj1ubih7dG9rZW46ZSxmYWN0b3J5OmUuybVmYWN9KSxufSkoKSxncz0oKCk9Pnt2YXIgZSxuPW5ldyBXZWFrTWFwO2NsYXNzIHR7Y29uc3RydWN0b3IoKXtrcih0aGlzLG4sdm9pZCAwKSx0aGlzLnBsYXRmb3JtSWQ9UihpdCksYXMobix0aGlzLFIoZ24se3NlbGY6ITB9KSl9cmVuZGVyKGkpe3JldHVybiBDZSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIHVzKG4sdGhpcykuZ2V0TWFya2VkSW5zdGFuY2UoKS5wYXJzZShpKX0pfWdldENvbnRlbnRIZWFkaW5ncygpe3JldHVybiBPYSgpfWVuaGFuY2UoKXt9fXJldHVybiBlPXQsZS7JtWZhYz1mdW5jdGlvbihpKXtyZXR1cm4gbmV3KGl8fGUpfSxlLsm1cHJvdj1ubih7dG9rZW46ZSxmYWN0b3J5OmUuybVmYWN9KSx0fSkoKTtmdW5jdGlvbiB4cyhlKXtyZXR1cm5be3Byb3ZpZGU6ZG4sdXNlRmFjdG9yeTooKT0+bmV3IGdzLGRlcHM6W2duXX0sZT8ubG9hZE1lcm1haWQ/W3twcm92aWRlOmVyLHVzZUZhY3Rvcnk6ZS5sb2FkTWVybWFpZH1dOltdXX1mdW5jdGlvbiBicyguLi5lKXtyZXR1cm5bLi4uZSxnbl19Y29uc3QgZXI9bmV3IEplKCJtZXJtYWlkX2ltcG9ydCIpO2xldCBFcz0oKCk9Pnt2YXIgZTtjbGFzcyBue2NvbnN0cnVjdG9yKCl7dGhpcy5zYW5pdGl6ZXI9Uih1dCksdGhpcy5yb3V0ZT1SKGVuKSx0aGlzLmNvbnRlbnRSZW5kZXJlcj1SKGRuKSx0aGlzLmNvbnRlbnQ9dGhpcy5zYW5pdGl6ZXIuYnlwYXNzU2VjdXJpdHlUcnVzdEh0bWwodGhpcy5yb3V0ZS5zbmFwc2hvdC5kYXRhLnJlbmRlcmVkQW5hbG9nQ29udGVudCksdGhpcy5jbGFzc2VzPSJhbmFsb2ctbWFya2Rvd24tcm91dGUifW5nQWZ0ZXJWaWV3Q2hlY2tlZCgpe3RoaXMuY29udGVudFJlbmRlcmVyLmVuaGFuY2UoKX19cmV0dXJuIGU9bixlLsm1ZmFjPWZ1bmN0aW9uKHIpe3JldHVybiBuZXcocnx8ZSl9LGUuybVjbXA9Vm4oe3R5cGU6ZSxzZWxlY3RvcnM6W1siYW5hbG9nLW1hcmtkb3duLXJvdXRlIl1dLGlucHV0czp7Y2xhc3NlczoiY2xhc3NlcyJ9LHN0YW5kYWxvbmU6ITAsZmVhdHVyZXM6W0puKFtWdF0pLGV0XSxkZWNsczoxLHZhcnM6Myxjb25zdHM6W1szLCJpbm5lckhUTUwiXV0sdGVtcGxhdGU6ZnVuY3Rpb24ocixpKXtyJjEmJm50KDAsImRpdiIsMCksciYyJiYodHQoaS5jbGFzc2VzKSxydCgiaW5uZXJIVE1MIixpLmNvbnRlbnQsYXQpKX0sZW5jYXBzdWxhdGlvbjoyfSksbn0pKCksa3M9KCgpPT57dmFyIGU7Y2xhc3Mgbntjb25zdHJ1Y3Rvcigpe3RoaXMuc2FuaXRpemVyPVIodXQpLHRoaXMucm91dGU9UihlbiksdGhpcy56b25lPVIoRHIpLHRoaXMucGxhdGZvcm1JZD1SKGl0KSx0aGlzLm1lcm1haWRJbXBvcnQ9Uihlcix7b3B0aW9uYWw6ITB9KSx0aGlzLmNvbnRlbnQkPSRlKCIiKSx0aGlzLmNsYXNzZXM9ImFuYWxvZy1tYXJrZG93biIsdGhpcy5jb250ZW50UmVuZGVyZXI9UihkbiksQXIodGhpcy5wbGF0Zm9ybUlkKSYmdGhpcy5tZXJtYWlkSW1wb3J0JiZ0aGlzLmxvYWRNZXJtYWlkKHRoaXMubWVybWFpZEltcG9ydCl9bmdPbkluaXQoKXt0aGlzLnVwZGF0ZUNvbnRlbnQoKX1uZ09uQ2hhbmdlcygpe3RoaXMudXBkYXRlQ29udGVudCgpfXVwZGF0ZUNvbnRlbnQoKXt0aGlzLmNvbnRlbnQkPXRoaXMucm91dGUuZGF0YS5waXBlKEJlKHI9PnRoaXMuY29udGVudD8/ci5fYW5hbG9nQ29udGVudCkseHIocj0+dGhpcy5yZW5kZXJDb250ZW50KHIpKSxCZShyPT50aGlzLnNhbml0aXplci5ieXBhc3NTZWN1cml0eVRydXN0SHRtbChyKSksYnIocj0+JGUoYFRoZXJlIHdhcyBhbiBlcnJvciAke3J9YCkpKX1yZW5kZXJDb250ZW50KHIpe3JldHVybiBDZSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIHRoaXMuY29udGVudFJlbmRlcmVyLnJlbmRlcihyKX0pfW5nQWZ0ZXJWaWV3Q2hlY2tlZCgpe3RoaXMuY29udGVudFJlbmRlcmVyLmVuaGFuY2UoKSx0aGlzLnpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PnRoaXMubWVybWFpZD8uZGVmYXVsdC5ydW4oKSl9bG9hZE1lcm1haWQocil7dGhpcy56b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT5FcihyKS5waXBlKFh0KCkpLnN1YnNjcmliZShpPT57dGhpcy5tZXJtYWlkPWksdGhpcy5tZXJtYWlkLmRlZmF1bHQuaW5pdGlhbGl6ZSh7c3RhcnRPbkxvYWQ6ITF9KSx0aGlzLm1lcm1haWQ/LmRlZmF1bHQucnVuKCl9KSl9fXJldHVybiBlPW4sZS7JtWZhYz1mdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fGUpfSxlLsm1Y21wPVZuKHt0eXBlOmUsc2VsZWN0b3JzOltbImFuYWxvZy1tYXJrZG93biJdXSxpbnB1dHM6e2NvbnRlbnQ6ImNvbnRlbnQiLGNsYXNzZXM6ImNsYXNzZXMifSxzdGFuZGFsb25lOiEwLGZlYXR1cmVzOltKbihbVnRdKSxjcixldF0sZGVjbHM6Mix2YXJzOjUsY29uc3RzOltbMywiaW5uZXJIVE1MIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHIsaSl7ciYxJiYobnQoMCwiZGl2IiwwKSxwcigxLCJhc3luYyIpKSxyJjImJih0dChpLmNsYXNzZXMpLHJ0KCJpbm5lckhUTUwiLGZyKDEsMyxpLmNvbnRlbnQkKSxhdCkpfSxkZXBlbmRlbmNpZXM6W2hyXSxlbmNhcHN1bGF0aW9uOjJ9KSxufSkoKTtleHBvcnR7VnQgYXMgQW5jaG9yTmF2aWdhdGlvbkRpcmVjdGl2ZSxkbiBhcyBDb250ZW50UmVuZGVyZXIsa3MgYXMgTWFya2Rvd25Db21wb25lbnQsZ3MgYXMgTWFya2Rvd25Db250ZW50UmVuZGVyZXJTZXJ2aWNlLEVzIGFzIE1hcmtkb3duUm91dGVDb21wb25lbnQsZ24gYXMgTWFya2VkU2V0dXBTZXJ2aWNlLERzIGFzIGluamVjdENvbnRlbnQsQXMgYXMgaW5qZWN0Q29udGVudEZpbGVzLGRzIGFzIHBhcnNlUmF3Q29udGVudEZpbGUsYnMgYXMgcHJvdmlkZUNvbnRlbnQseHMgYXMgd2l0aE1hcmtkb3duUmVuZGVyZXJ9Owo="),Nt=Object.freeze(Object.defineProperty({__proto__:null,default:xt},Symbol.toStringTag,{value:"Module"})),Tt=base64ToUint8Array("iVBORw0KGgoAAAANSUhEUgAAABwAAAAeCAYAAAA/xX6fAAAACXBIWXMAAAsSAAALEgHS3X78AAADZklEQVRIiZVXS0wTURS98+nMlNIWdUeRlgllow5ujC4MNnFjYgSCbBQ/hbjRRGCpRiPGDUt140YNMVFjjAoYjKIhhYif+Am48UMEplCkfEI/JIKa1NyxM7wOnc7MSSZ9895978y9c++ZWyqTyYBViEGpHgCUS56OeXiOG2dZ9kFqceqs1TNMCcWgtB0AwtnLq85PRKc0G5qmMwLPjzpYtjOxEL1vm1AMSgGCxJ9vI0lIgmGYvwLPD7Msez4xL78yJBSDUglBUl3oKXft3AE/43MQGVp3Xg4cDvYXz3HPWYZtX5qXZYWwonJbOPte6gruJnDvzi2Yjc9BfWOT1S0g8Pysw8H2IaH1rAGAMl8pDEWeKeOKqmqYlKN2tgNtyxoA2lpPaeOOC2fsblcIB60aezxuONhQq93X1+6HkhJvwT0kOI5L2PKwOXwk597r9UD76ZN2jlA8HLFq3BI+um4ufOywZTKWYSaRMGHFuLGhDtzuYmUci82AnK1Df/lmy6QURSUte9jWuha6q9euQ8flTu3ealhpmn5jyUMsdJ+vVBmn08vQ/3IAunv7IJlMKXPV0lYI1ew2JaQoiCPhpJkh6V3/iwFIpdKQSCQVUhXtreZeUhT9QZE2MSgZFj9Z6Iia0D6Yjs0oWhrwl8PE91FtzUwIMqtLlFoWSWPv1godk6WszKeEGEOIhDIh4oWEAL8ooIq3GJQiALBHb4SFPvJx2PAQPfCdBqokJdx6YNGvpuMbVA/zJo6+0M1QSAhoilohPewAgIt6o9FPr7Xa+/L1m5IsKlZWVrUxyhtmKgJDHAhK6whdRUWDy0uxEGv00GShIw41teQQkh9gMnlUIei6fTe/p9nfiH6BLIWHj3pzyPTAzOx58lSbzRdWhqG7wejzRBb6f8IeQzIVpEeFhEAlzJE3MlmwFN6+e29KiCJAloheCGiKfgy6nmbErJchYdRE5QP2Nr+X54tID2F87DO2g80AIFs+yQTYwbmLXTdVMtC/w/Gxz10AgMSXCqmPGVBVsAzcLldlanH6BGlu2Ahn28YrAHA837pRSJ2C8IPnuL1qW6iHlc4bm+IuvfTpCVG6nIJwIF/zS8LyfwsxKIWyHiuJpRJiQjgF4VxyYQrXzIGEdi5snP3ilijj3PTHvdF3w9b+TAb+Afl3jDi6Q4zhAAAAAElFTkSuQmCC"),vt=Object.freeze(Object.defineProperty({__proto__:null,default:Tt},Symbol.toStringTag,{value:"Module"})),kt=Object.freeze(Object.defineProperty({__proto__:null,default:'*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.my-3{margin-top:.75rem;margin-bottom:.75rem}.mt-5{margin-top:1.25rem}.flex{display:flex}.grid{display:grid}.contents{display:contents}.grid-cols-\\[auto\\,auto\\,auto\\,auto\\]{grid-template-columns:auto auto auto auto}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.justify-items-start{justify-items:start}.gap-3{gap:.75rem}.rounded-md{border-radius:.375rem}.border{border-width:1px}.bg-lime-600{--tw-bg-opacity: 1;background-color:rgb(101 163 13 / var(--tw-bg-opacity))}.bg-red-600{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity))}.bg-sky-700{--tw-bg-opacity: 1;background-color:rgb(3 105 161 / var(--tw-bg-opacity))}.p-2{padding:.5rem}.text-center{text-align:center}.text-3xl{font-size:1.875rem;line-height:2.25rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.text-green-700{--tw-text-opacity: 1;color:rgb(21 128 61 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.line-through{text-decoration-line:line-through}\n'},Symbol.toStringTag,{value:"Module"})),Ct=base64ToUint8Array("dmFyIERBPU9iamVjdC5nZXRQcm90b3R5cGVPZjt2YXIgUEE9UmVmbGVjdC5nZXQ7dmFyIElyPSh0LGUsbik9PlBBKERBKHQpLG4sZSk7dmFyIGc9KHQsZSxuKT0+bmV3IFByb21pc2UoKHIsaSk9Pnt2YXIgcz1jPT57dHJ5e2Eobi5uZXh0KGMpKX1jYXRjaCh1KXtpKHUpfX0sbz1jPT57dHJ5e2Eobi50aHJvdyhjKSl9Y2F0Y2godSl7aSh1KX19LGE9Yz0+Yy5kb25lP3IoYy52YWx1ZSk6UHJvbWlzZS5yZXNvbHZlKGMudmFsdWUpLnRoZW4ocyxvKTthKChuPW4uYXBwbHkodCxlKSkubmV4dCgpKX0pOyhmdW5jdGlvbigpe2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGluayIpLnJlbExpc3Q7aWYoZSYmZS5zdXBwb3J0cyYmZS5zdXBwb3J0cygibW9kdWxlcHJlbG9hZCIpKXJldHVybjtmb3IoY29uc3QgaSBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdsaW5rW3JlbD0ibW9kdWxlcHJlbG9hZCJdJykpcihpKTtuZXcgTXV0YXRpb25PYnNlcnZlcihpPT57Zm9yKGNvbnN0IHMgb2YgaSlpZihzLnR5cGU9PT0iY2hpbGRMaXN0Iilmb3IoY29uc3QgbyBvZiBzLmFkZGVkTm9kZXMpby50YWdOYW1lPT09IkxJTksiJiZvLnJlbD09PSJtb2R1bGVwcmVsb2FkIiYmcihvKX0pLm9ic2VydmUoZG9jdW1lbnQse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSk7ZnVuY3Rpb24gbihpKXtjb25zdCBzPXt9O3JldHVybiBpLmludGVncml0eSYmKHMuaW50ZWdyaXR5PWkuaW50ZWdyaXR5KSxpLnJlZmVycmVyUG9saWN5JiYocy5yZWZlcnJlclBvbGljeT1pLnJlZmVycmVyUG9saWN5KSxpLmNyb3NzT3JpZ2luPT09InVzZS1jcmVkZW50aWFscyI/cy5jcmVkZW50aWFscz0iaW5jbHVkZSI6aS5jcm9zc09yaWdpbj09PSJhbm9ueW1vdXMiP3MuY3JlZGVudGlhbHM9Im9taXQiOnMuY3JlZGVudGlhbHM9InNhbWUtb3JpZ2luIixzfWZ1bmN0aW9uIHIoaSl7aWYoaS5lcClyZXR1cm47aS5lcD0hMDtjb25zdCBzPW4oaSk7ZmV0Y2goaS5ocmVmLHMpfX0pKCk7KGZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5wZXJmb3JtYW5jZTtmdW5jdGlvbiBuKHZlKXtlJiZlLm1hcmsmJmUubWFyayh2ZSl9ZnVuY3Rpb24gcih2ZSx4KXtlJiZlLm1lYXN1cmUmJmUubWVhc3VyZSh2ZSx4KX1uKCJab25lIik7Y29uc3QgaT10Ll9fWm9uZV9zeW1ib2xfcHJlZml4fHwiX196b25lX3N5bWJvbF9fIjtmdW5jdGlvbiBzKHZlKXtyZXR1cm4gaSt2ZX1jb25zdCBvPXRbcygiZm9yY2VEdXBsaWNhdGVab25lQ2hlY2siKV09PT0hMDtpZih0LlpvbmUpe2lmKG98fHR5cGVvZiB0LlpvbmUuX19zeW1ib2xfXyE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgRXJyb3IoIlpvbmUgYWxyZWFkeSBsb2FkZWQuIik7cmV0dXJuIHQuWm9uZX1sZXQgYT0oKCk9Pnt2YXIgdmU7Y2xhc3MgeHtzdGF0aWMgYXNzZXJ0Wm9uZVBhdGNoZWQoKXtpZih0LlByb21pc2UhPT1lbi5ab25lQXdhcmVQcm9taXNlKXRocm93IG5ldyBFcnJvcigiWm9uZS5qcyBoYXMgZGV0ZWN0ZWQgdGhhdCBab25lQXdhcmVQcm9taXNlIGAod2luZG93fGdsb2JhbCkuUHJvbWlzZWAgaGFzIGJlZW4gb3ZlcndyaXR0ZW4uXG5Nb3N0IGxpa2VseSBjYXVzZSBpcyB0aGF0IGEgUHJvbWlzZSBwb2x5ZmlsbCBoYXMgYmVlbiBsb2FkZWQgYWZ0ZXIgWm9uZS5qcyAoUG9seWZpbGxpbmcgUHJvbWlzZSBhcGkgaXMgbm90IG5lY2Vzc2FyeSB3aGVuIHpvbmUuanMgaXMgbG9hZGVkLiBJZiB5b3UgbXVzdCBsb2FkIG9uZSwgZG8gc28gYmVmb3JlIGxvYWRpbmcgem9uZS5qcy4pIil9c3RhdGljIGdldCByb290KCl7bGV0IHA9eC5jdXJyZW50O2Zvcig7cC5wYXJlbnQ7KXA9cC5wYXJlbnQ7cmV0dXJuIHB9c3RhdGljIGdldCBjdXJyZW50KCl7cmV0dXJuIGtlLnpvbmV9c3RhdGljIGdldCBjdXJyZW50VGFzaygpe3JldHVybiBIdH1zdGF0aWMgX19sb2FkX3BhdGNoKHAsTCxaPSExKXtpZihlbi5oYXNPd25Qcm9wZXJ0eShwKSl7aWYoIVomJm8pdGhyb3cgRXJyb3IoIkFscmVhZHkgbG9hZGVkIHBhdGNoOiAiK3ApfWVsc2UgaWYoIXRbIl9fWm9uZV9kaXNhYmxlXyIrcF0pe2NvbnN0IG1lPSJab25lOiIrcDtuKG1lKSxlbltwXT1MKHQseCxWZSkscihtZSxtZSl9fWdldCBwYXJlbnQoKXtyZXR1cm4gdGhpcy5fcGFyZW50fWdldCBuYW1lKCl7cmV0dXJuIHRoaXMuX25hbWV9Y29uc3RydWN0b3IocCxMKXt0aGlzLl9wYXJlbnQ9cCx0aGlzLl9uYW1lPUw/TC5uYW1lfHwidW5uYW1lZCI6Ijxyb290PiIsdGhpcy5fcHJvcGVydGllcz1MJiZMLnByb3BlcnRpZXN8fHt9LHRoaXMuX3pvbmVEZWxlZ2F0ZT1uZXcgdSh0aGlzLHRoaXMuX3BhcmVudCYmdGhpcy5fcGFyZW50Ll96b25lRGVsZWdhdGUsTCl9Z2V0KHApe2NvbnN0IEw9dGhpcy5nZXRab25lV2l0aChwKTtpZihMKXJldHVybiBMLl9wcm9wZXJ0aWVzW3BdfWdldFpvbmVXaXRoKHApe2xldCBMPXRoaXM7Zm9yKDtMOyl7aWYoTC5fcHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShwKSlyZXR1cm4gTDtMPUwuX3BhcmVudH1yZXR1cm4gbnVsbH1mb3JrKHApe2lmKCFwKXRocm93IG5ldyBFcnJvcigiWm9uZVNwZWMgcmVxdWlyZWQhIik7cmV0dXJuIHRoaXMuX3pvbmVEZWxlZ2F0ZS5mb3JrKHRoaXMscCl9d3JhcChwLEwpe2lmKHR5cGVvZiBwIT0iZnVuY3Rpb24iKXRocm93IG5ldyBFcnJvcigiRXhwZWN0aW5nIGZ1bmN0aW9uIGdvdDogIitwKTtjb25zdCBaPXRoaXMuX3pvbmVEZWxlZ2F0ZS5pbnRlcmNlcHQodGhpcyxwLEwpLG1lPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG1lLnJ1bkd1YXJkZWQoWix0aGlzLGFyZ3VtZW50cyxMKX19cnVuKHAsTCxaLG1lKXtrZT17cGFyZW50OmtlLHpvbmU6dGhpc307dHJ5e3JldHVybiB0aGlzLl96b25lRGVsZWdhdGUuaW52b2tlKHRoaXMscCxMLFosbWUpfWZpbmFsbHl7a2U9a2UucGFyZW50fX1ydW5HdWFyZGVkKHAsTD1udWxsLFosbWUpe2tlPXtwYXJlbnQ6a2Usem9uZTp0aGlzfTt0cnl7dHJ5e3JldHVybiB0aGlzLl96b25lRGVsZWdhdGUuaW52b2tlKHRoaXMscCxMLFosbWUpfWNhdGNoKEEpe2lmKHRoaXMuX3pvbmVEZWxlZ2F0ZS5oYW5kbGVFcnJvcih0aGlzLEEpKXRocm93IEF9fWZpbmFsbHl7a2U9a2UucGFyZW50fX1ydW5UYXNrKHAsTCxaKXtpZihwLnpvbmUhPXRoaXMpdGhyb3cgbmV3IEVycm9yKCJBIHRhc2sgY2FuIG9ubHkgYmUgcnVuIGluIHRoZSB6b25lIG9mIGNyZWF0aW9uISAoQ3JlYXRpb246ICIrKHAuem9uZXx8VikubmFtZSsiOyBFeGVjdXRpb246ICIrdGhpcy5uYW1lKyIpIik7aWYocC5zdGF0ZT09PVUmJihwLnR5cGU9PT12dHx8cC50eXBlPT09SykpcmV0dXJuO2NvbnN0IG1lPXAuc3RhdGUhPU87bWUmJnAuX3RyYW5zaXRpb25UbyhPLEIpLHAucnVuQ291bnQrKztjb25zdCBBPUh0O0h0PXAsa2U9e3BhcmVudDprZSx6b25lOnRoaXN9O3RyeXtwLnR5cGU9PUsmJnAuZGF0YSYmIXAuZGF0YS5pc1BlcmlvZGljJiYocC5jYW5jZWxGbj12b2lkIDApO3RyeXtyZXR1cm4gdGhpcy5fem9uZURlbGVnYXRlLmludm9rZVRhc2sodGhpcyxwLEwsWil9Y2F0Y2goUil7aWYodGhpcy5fem9uZURlbGVnYXRlLmhhbmRsZUVycm9yKHRoaXMsUikpdGhyb3cgUn19ZmluYWxseXtwLnN0YXRlIT09VSYmcC5zdGF0ZSE9PU4mJihwLnR5cGU9PXZ0fHxwLmRhdGEmJnAuZGF0YS5pc1BlcmlvZGljP21lJiZwLl90cmFuc2l0aW9uVG8oQixPKToocC5ydW5Db3VudD0wLHRoaXMuX3VwZGF0ZVRhc2tDb3VudChwLC0xKSxtZSYmcC5fdHJhbnNpdGlvblRvKFUsTyxVKSkpLGtlPWtlLnBhcmVudCxIdD1BfX1zY2hlZHVsZVRhc2socCl7aWYocC56b25lJiZwLnpvbmUhPT10aGlzKXtsZXQgWj10aGlzO2Zvcig7Wjspe2lmKFo9PT1wLnpvbmUpdGhyb3cgRXJyb3IoYGNhbiBub3QgcmVzY2hlZHVsZSB0YXNrIHRvICR7dGhpcy5uYW1lfSB3aGljaCBpcyBkZXNjZW5kYW50cyBvZiB0aGUgb3JpZ2luYWwgem9uZSAke3Auem9uZS5uYW1lfWApO1o9Wi5wYXJlbnR9fXAuX3RyYW5zaXRpb25UbyhILFUpO2NvbnN0IEw9W107cC5fem9uZURlbGVnYXRlcz1MLHAuX3pvbmU9dGhpczt0cnl7cD10aGlzLl96b25lRGVsZWdhdGUuc2NoZWR1bGVUYXNrKHRoaXMscCl9Y2F0Y2goWil7dGhyb3cgcC5fdHJhbnNpdGlvblRvKE4sSCxVKSx0aGlzLl96b25lRGVsZWdhdGUuaGFuZGxlRXJyb3IodGhpcyxaKSxafXJldHVybiBwLl96b25lRGVsZWdhdGVzPT09TCYmdGhpcy5fdXBkYXRlVGFza0NvdW50KHAsMSkscC5zdGF0ZT09SCYmcC5fdHJhbnNpdGlvblRvKEIsSCkscH1zY2hlZHVsZU1pY3JvVGFzayhwLEwsWixtZSl7cmV0dXJuIHRoaXMuc2NoZWR1bGVUYXNrKG5ldyBsKGRlLHAsTCxaLG1lLHZvaWQgMCkpfXNjaGVkdWxlTWFjcm9UYXNrKHAsTCxaLG1lLEEpe3JldHVybiB0aGlzLnNjaGVkdWxlVGFzayhuZXcgbChLLHAsTCxaLG1lLEEpKX1zY2hlZHVsZUV2ZW50VGFzayhwLEwsWixtZSxBKXtyZXR1cm4gdGhpcy5zY2hlZHVsZVRhc2sobmV3IGwodnQscCxMLFosbWUsQSkpfWNhbmNlbFRhc2socCl7aWYocC56b25lIT10aGlzKXRocm93IG5ldyBFcnJvcigiQSB0YXNrIGNhbiBvbmx5IGJlIGNhbmNlbGxlZCBpbiB0aGUgem9uZSBvZiBjcmVhdGlvbiEgKENyZWF0aW9uOiAiKyhwLnpvbmV8fFYpLm5hbWUrIjsgRXhlY3V0aW9uOiAiK3RoaXMubmFtZSsiKSIpO2lmKCEocC5zdGF0ZSE9PUImJnAuc3RhdGUhPT1PKSl7cC5fdHJhbnNpdGlvblRvKGZlLEIsTyk7dHJ5e3RoaXMuX3pvbmVEZWxlZ2F0ZS5jYW5jZWxUYXNrKHRoaXMscCl9Y2F0Y2goTCl7dGhyb3cgcC5fdHJhbnNpdGlvblRvKE4sZmUpLHRoaXMuX3pvbmVEZWxlZ2F0ZS5oYW5kbGVFcnJvcih0aGlzLEwpLEx9cmV0dXJuIHRoaXMuX3VwZGF0ZVRhc2tDb3VudChwLC0xKSxwLl90cmFuc2l0aW9uVG8oVSxmZSkscC5ydW5Db3VudD0wLHB9fV91cGRhdGVUYXNrQ291bnQocCxMKXtjb25zdCBaPXAuX3pvbmVEZWxlZ2F0ZXM7TD09LTEmJihwLl96b25lRGVsZWdhdGVzPW51bGwpO2ZvcihsZXQgbWU9MDttZTxaLmxlbmd0aDttZSsrKVpbbWVdLl91cGRhdGVUYXNrQ291bnQocC50eXBlLEwpfX1yZXR1cm4gdmU9eCx2ZS5fX3N5bWJvbF9fPXMseH0pKCk7Y29uc3QgYz17bmFtZToiIixvbkhhc1Rhc2s6KHZlLHgsRSxwKT0+dmUuaGFzVGFzayhFLHApLG9uU2NoZWR1bGVUYXNrOih2ZSx4LEUscCk9PnZlLnNjaGVkdWxlVGFzayhFLHApLG9uSW52b2tlVGFzazoodmUseCxFLHAsTCxaKT0+dmUuaW52b2tlVGFzayhFLHAsTCxaKSxvbkNhbmNlbFRhc2s6KHZlLHgsRSxwKT0+dmUuY2FuY2VsVGFzayhFLHApfTtjbGFzcyB1e2NvbnN0cnVjdG9yKHgsRSxwKXt0aGlzLl90YXNrQ291bnRzPXttaWNyb1Rhc2s6MCxtYWNyb1Rhc2s6MCxldmVudFRhc2s6MH0sdGhpcy56b25lPXgsdGhpcy5fcGFyZW50RGVsZWdhdGU9RSx0aGlzLl9mb3JrWlM9cCYmKHAmJnAub25Gb3JrP3A6RS5fZm9ya1pTKSx0aGlzLl9mb3JrRGxndD1wJiYocC5vbkZvcms/RTpFLl9mb3JrRGxndCksdGhpcy5fZm9ya0N1cnJab25lPXAmJihwLm9uRm9yaz90aGlzLnpvbmU6RS5fZm9ya0N1cnJab25lKSx0aGlzLl9pbnRlcmNlcHRaUz1wJiYocC5vbkludGVyY2VwdD9wOkUuX2ludGVyY2VwdFpTKSx0aGlzLl9pbnRlcmNlcHREbGd0PXAmJihwLm9uSW50ZXJjZXB0P0U6RS5faW50ZXJjZXB0RGxndCksdGhpcy5faW50ZXJjZXB0Q3VyclpvbmU9cCYmKHAub25JbnRlcmNlcHQ/dGhpcy56b25lOkUuX2ludGVyY2VwdEN1cnJab25lKSx0aGlzLl9pbnZva2VaUz1wJiYocC5vbkludm9rZT9wOkUuX2ludm9rZVpTKSx0aGlzLl9pbnZva2VEbGd0PXAmJihwLm9uSW52b2tlP0U6RS5faW52b2tlRGxndCksdGhpcy5faW52b2tlQ3VyclpvbmU9cCYmKHAub25JbnZva2U/dGhpcy56b25lOkUuX2ludm9rZUN1cnJab25lKSx0aGlzLl9oYW5kbGVFcnJvclpTPXAmJihwLm9uSGFuZGxlRXJyb3I/cDpFLl9oYW5kbGVFcnJvclpTKSx0aGlzLl9oYW5kbGVFcnJvckRsZ3Q9cCYmKHAub25IYW5kbGVFcnJvcj9FOkUuX2hhbmRsZUVycm9yRGxndCksdGhpcy5faGFuZGxlRXJyb3JDdXJyWm9uZT1wJiYocC5vbkhhbmRsZUVycm9yP3RoaXMuem9uZTpFLl9oYW5kbGVFcnJvckN1cnJab25lKSx0aGlzLl9zY2hlZHVsZVRhc2taUz1wJiYocC5vblNjaGVkdWxlVGFzaz9wOkUuX3NjaGVkdWxlVGFza1pTKSx0aGlzLl9zY2hlZHVsZVRhc2tEbGd0PXAmJihwLm9uU2NoZWR1bGVUYXNrP0U6RS5fc2NoZWR1bGVUYXNrRGxndCksdGhpcy5fc2NoZWR1bGVUYXNrQ3VyclpvbmU9cCYmKHAub25TY2hlZHVsZVRhc2s/dGhpcy56b25lOkUuX3NjaGVkdWxlVGFza0N1cnJab25lKSx0aGlzLl9pbnZva2VUYXNrWlM9cCYmKHAub25JbnZva2VUYXNrP3A6RS5faW52b2tlVGFza1pTKSx0aGlzLl9pbnZva2VUYXNrRGxndD1wJiYocC5vbkludm9rZVRhc2s/RTpFLl9pbnZva2VUYXNrRGxndCksdGhpcy5faW52b2tlVGFza0N1cnJab25lPXAmJihwLm9uSW52b2tlVGFzaz90aGlzLnpvbmU6RS5faW52b2tlVGFza0N1cnJab25lKSx0aGlzLl9jYW5jZWxUYXNrWlM9cCYmKHAub25DYW5jZWxUYXNrP3A6RS5fY2FuY2VsVGFza1pTKSx0aGlzLl9jYW5jZWxUYXNrRGxndD1wJiYocC5vbkNhbmNlbFRhc2s/RTpFLl9jYW5jZWxUYXNrRGxndCksdGhpcy5fY2FuY2VsVGFza0N1cnJab25lPXAmJihwLm9uQ2FuY2VsVGFzaz90aGlzLnpvbmU6RS5fY2FuY2VsVGFza0N1cnJab25lKSx0aGlzLl9oYXNUYXNrWlM9bnVsbCx0aGlzLl9oYXNUYXNrRGxndD1udWxsLHRoaXMuX2hhc1Rhc2tEbGd0T3duZXI9bnVsbCx0aGlzLl9oYXNUYXNrQ3VyclpvbmU9bnVsbDtjb25zdCBMPXAmJnAub25IYXNUYXNrLFo9RSYmRS5faGFzVGFza1pTOyhMfHxaKSYmKHRoaXMuX2hhc1Rhc2taUz1MP3A6Yyx0aGlzLl9oYXNUYXNrRGxndD1FLHRoaXMuX2hhc1Rhc2tEbGd0T3duZXI9dGhpcyx0aGlzLl9oYXNUYXNrQ3VyclpvbmU9eCxwLm9uU2NoZWR1bGVUYXNrfHwodGhpcy5fc2NoZWR1bGVUYXNrWlM9Yyx0aGlzLl9zY2hlZHVsZVRhc2tEbGd0PUUsdGhpcy5fc2NoZWR1bGVUYXNrQ3VyclpvbmU9dGhpcy56b25lKSxwLm9uSW52b2tlVGFza3x8KHRoaXMuX2ludm9rZVRhc2taUz1jLHRoaXMuX2ludm9rZVRhc2tEbGd0PUUsdGhpcy5faW52b2tlVGFza0N1cnJab25lPXRoaXMuem9uZSkscC5vbkNhbmNlbFRhc2t8fCh0aGlzLl9jYW5jZWxUYXNrWlM9Yyx0aGlzLl9jYW5jZWxUYXNrRGxndD1FLHRoaXMuX2NhbmNlbFRhc2tDdXJyWm9uZT10aGlzLnpvbmUpKX1mb3JrKHgsRSl7cmV0dXJuIHRoaXMuX2ZvcmtaUz90aGlzLl9mb3JrWlMub25Gb3JrKHRoaXMuX2ZvcmtEbGd0LHRoaXMuem9uZSx4LEUpOm5ldyBhKHgsRSl9aW50ZXJjZXB0KHgsRSxwKXtyZXR1cm4gdGhpcy5faW50ZXJjZXB0WlM/dGhpcy5faW50ZXJjZXB0WlMub25JbnRlcmNlcHQodGhpcy5faW50ZXJjZXB0RGxndCx0aGlzLl9pbnRlcmNlcHRDdXJyWm9uZSx4LEUscCk6RX1pbnZva2UoeCxFLHAsTCxaKXtyZXR1cm4gdGhpcy5faW52b2tlWlM/dGhpcy5faW52b2tlWlMub25JbnZva2UodGhpcy5faW52b2tlRGxndCx0aGlzLl9pbnZva2VDdXJyWm9uZSx4LEUscCxMLFopOkUuYXBwbHkocCxMKX1oYW5kbGVFcnJvcih4LEUpe3JldHVybiB0aGlzLl9oYW5kbGVFcnJvclpTP3RoaXMuX2hhbmRsZUVycm9yWlMub25IYW5kbGVFcnJvcih0aGlzLl9oYW5kbGVFcnJvckRsZ3QsdGhpcy5faGFuZGxlRXJyb3JDdXJyWm9uZSx4LEUpOiEwfXNjaGVkdWxlVGFzayh4LEUpe2xldCBwPUU7aWYodGhpcy5fc2NoZWR1bGVUYXNrWlMpdGhpcy5faGFzVGFza1pTJiZwLl96b25lRGVsZWdhdGVzLnB1c2godGhpcy5faGFzVGFza0RsZ3RPd25lcikscD10aGlzLl9zY2hlZHVsZVRhc2taUy5vblNjaGVkdWxlVGFzayh0aGlzLl9zY2hlZHVsZVRhc2tEbGd0LHRoaXMuX3NjaGVkdWxlVGFza0N1cnJab25lLHgsRSkscHx8KHA9RSk7ZWxzZSBpZihFLnNjaGVkdWxlRm4pRS5zY2hlZHVsZUZuKEUpO2Vsc2UgaWYoRS50eXBlPT1kZSlDKEUpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJUYXNrIGlzIG1pc3Npbmcgc2NoZWR1bGVGbi4iKTtyZXR1cm4gcH1pbnZva2VUYXNrKHgsRSxwLEwpe3JldHVybiB0aGlzLl9pbnZva2VUYXNrWlM/dGhpcy5faW52b2tlVGFza1pTLm9uSW52b2tlVGFzayh0aGlzLl9pbnZva2VUYXNrRGxndCx0aGlzLl9pbnZva2VUYXNrQ3VyclpvbmUseCxFLHAsTCk6RS5jYWxsYmFjay5hcHBseShwLEwpfWNhbmNlbFRhc2soeCxFKXtsZXQgcDtpZih0aGlzLl9jYW5jZWxUYXNrWlMpcD10aGlzLl9jYW5jZWxUYXNrWlMub25DYW5jZWxUYXNrKHRoaXMuX2NhbmNlbFRhc2tEbGd0LHRoaXMuX2NhbmNlbFRhc2tDdXJyWm9uZSx4LEUpO2Vsc2V7aWYoIUUuY2FuY2VsRm4pdGhyb3cgRXJyb3IoIlRhc2sgaXMgbm90IGNhbmNlbGFibGUiKTtwPUUuY2FuY2VsRm4oRSl9cmV0dXJuIHB9aGFzVGFzayh4LEUpe3RyeXt0aGlzLl9oYXNUYXNrWlMmJnRoaXMuX2hhc1Rhc2taUy5vbkhhc1Rhc2sodGhpcy5faGFzVGFza0RsZ3QsdGhpcy5faGFzVGFza0N1cnJab25lLHgsRSl9Y2F0Y2gocCl7dGhpcy5oYW5kbGVFcnJvcih4LHApfX1fdXBkYXRlVGFza0NvdW50KHgsRSl7Y29uc3QgcD10aGlzLl90YXNrQ291bnRzLEw9cFt4XSxaPXBbeF09TCtFO2lmKFo8MCl0aHJvdyBuZXcgRXJyb3IoIk1vcmUgdGFza3MgZXhlY3V0ZWQgdGhlbiB3ZXJlIHNjaGVkdWxlZC4iKTtpZihMPT0wfHxaPT0wKXtjb25zdCBtZT17bWljcm9UYXNrOnAubWljcm9UYXNrPjAsbWFjcm9UYXNrOnAubWFjcm9UYXNrPjAsZXZlbnRUYXNrOnAuZXZlbnRUYXNrPjAsY2hhbmdlOnh9O3RoaXMuaGFzVGFzayh0aGlzLnpvbmUsbWUpfX19Y2xhc3MgbHtjb25zdHJ1Y3Rvcih4LEUscCxMLFosbWUpe2lmKHRoaXMuX3pvbmU9bnVsbCx0aGlzLnJ1bkNvdW50PTAsdGhpcy5fem9uZURlbGVnYXRlcz1udWxsLHRoaXMuX3N0YXRlPSJub3RTY2hlZHVsZWQiLHRoaXMudHlwZT14LHRoaXMuc291cmNlPUUsdGhpcy5kYXRhPUwsdGhpcy5zY2hlZHVsZUZuPVosdGhpcy5jYW5jZWxGbj1tZSwhcCl0aHJvdyBuZXcgRXJyb3IoImNhbGxiYWNrIGlzIG5vdCBkZWZpbmVkIik7dGhpcy5jYWxsYmFjaz1wO2NvbnN0IEE9dGhpczt4PT09dnQmJkwmJkwudXNlRz90aGlzLmludm9rZT1sLmludm9rZVRhc2s6dGhpcy5pbnZva2U9ZnVuY3Rpb24oKXtyZXR1cm4gbC5pbnZva2VUYXNrLmNhbGwodCxBLHRoaXMsYXJndW1lbnRzKX19c3RhdGljIGludm9rZVRhc2soeCxFLHApe3h8fCh4PXRoaXMpLFR0Kys7dHJ5e3JldHVybiB4LnJ1bkNvdW50KysseC56b25lLnJ1blRhc2soeCxFLHApfWZpbmFsbHl7VHQ9PTEmJlMoKSxUdC0tfX1nZXQgem9uZSgpe3JldHVybiB0aGlzLl96b25lfWdldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZX1jYW5jZWxTY2hlZHVsZVJlcXVlc3QoKXt0aGlzLl90cmFuc2l0aW9uVG8oVSxIKX1fdHJhbnNpdGlvblRvKHgsRSxwKXtpZih0aGlzLl9zdGF0ZT09PUV8fHRoaXMuX3N0YXRlPT09cCl0aGlzLl9zdGF0ZT14LHg9PVUmJih0aGlzLl96b25lRGVsZWdhdGVzPW51bGwpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKGAke3RoaXMudHlwZX0gJyR7dGhpcy5zb3VyY2V9JzogY2FuIG5vdCB0cmFuc2l0aW9uIHRvICcke3h9JywgZXhwZWN0aW5nIHN0YXRlICcke0V9JyR7cD8iIG9yICciK3ArIiciOiIifSwgd2FzICcke3RoaXMuX3N0YXRlfScuYCl9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5kYXRhJiZ0eXBlb2YgdGhpcy5kYXRhLmhhbmRsZUlkPCJ1Ij90aGlzLmRhdGEuaGFuZGxlSWQudG9TdHJpbmcoKTpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGhpcyl9dG9KU09OKCl7cmV0dXJue3R5cGU6dGhpcy50eXBlLHN0YXRlOnRoaXMuc3RhdGUsc291cmNlOnRoaXMuc291cmNlLHpvbmU6dGhpcy56b25lLm5hbWUscnVuQ291bnQ6dGhpcy5ydW5Db3VudH19fWNvbnN0IGg9cygic2V0VGltZW91dCIpLGQ9cygiUHJvbWlzZSIpLGY9cygidGhlbiIpO2xldCBtPVtdLHk9ITEsXztmdW5jdGlvbiBUKHZlKXtpZihffHx0W2RdJiYoXz10W2RdLnJlc29sdmUoMCkpLF8pe2xldCB4PV9bZl07eHx8KHg9Xy50aGVuKSx4LmNhbGwoXyx2ZSl9ZWxzZSB0W2hdKHZlLDApfWZ1bmN0aW9uIEModmUpe1R0PT09MCYmbS5sZW5ndGg9PT0wJiZUKFMpLHZlJiZtLnB1c2godmUpfWZ1bmN0aW9uIFMoKXtpZigheSl7Zm9yKHk9ITA7bS5sZW5ndGg7KXtjb25zdCB2ZT1tO209W107Zm9yKGxldCB4PTA7eDx2ZS5sZW5ndGg7eCsrKXtjb25zdCBFPXZlW3hdO3RyeXtFLnpvbmUucnVuVGFzayhFLG51bGwsbnVsbCl9Y2F0Y2gocCl7VmUub25VbmhhbmRsZWRFcnJvcihwKX19fVZlLm1pY3JvdGFza0RyYWluRG9uZSgpLHk9ITF9fWNvbnN0IFY9e25hbWU6Ik5PIFpPTkUifSxVPSJub3RTY2hlZHVsZWQiLEg9InNjaGVkdWxpbmciLEI9InNjaGVkdWxlZCIsTz0icnVubmluZyIsZmU9ImNhbmNlbGluZyIsTj0idW5rbm93biIsZGU9Im1pY3JvVGFzayIsSz0ibWFjcm9UYXNrIix2dD0iZXZlbnRUYXNrIixlbj17fSxWZT17c3ltYm9sOnMsY3VycmVudFpvbmVGcmFtZTooKT0+a2Usb25VbmhhbmRsZWRFcnJvcjpPZSxtaWNyb3Rhc2tEcmFpbkRvbmU6T2Usc2NoZWR1bGVNaWNyb1Rhc2s6QyxzaG93VW5jYXVnaHRFcnJvcjooKT0+IWFbcygiaWdub3JlQ29uc29sZUVycm9yVW5jYXVnaHRFcnJvciIpXSxwYXRjaEV2ZW50VGFyZ2V0OigpPT5bXSxwYXRjaE9uUHJvcGVydGllczpPZSxwYXRjaE1ldGhvZDooKT0+T2UsYmluZEFyZ3VtZW50czooKT0+W10scGF0Y2hUaGVuOigpPT5PZSxwYXRjaE1hY3JvVGFzazooKT0+T2UscGF0Y2hFdmVudFByb3RvdHlwZTooKT0+T2UsaXNJRU9yRWRnZTooKT0+ITEsZ2V0R2xvYmFsT2JqZWN0czooKT0+e30sT2JqZWN0RGVmaW5lUHJvcGVydHk6KCk9Pk9lLE9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcjooKT0+e30sT2JqZWN0Q3JlYXRlOigpPT57fSxBcnJheVNsaWNlOigpPT5bXSxwYXRjaENsYXNzOigpPT5PZSx3cmFwV2l0aEN1cnJlbnRab25lOigpPT5PZSxmaWx0ZXJQcm9wZXJ0aWVzOigpPT5bXSxhdHRhY2hPcmlnaW5Ub1BhdGNoZWQ6KCk9Pk9lLF9yZWRlZmluZVByb3BlcnR5OigpPT5PZSxwYXRjaENhbGxiYWNrczooKT0+T2UsbmF0aXZlU2NoZWR1bGVNaWNyb1Rhc2s6VH07bGV0IGtlPXtwYXJlbnQ6bnVsbCx6b25lOm5ldyBhKG51bGwsbnVsbCl9LEh0PW51bGwsVHQ9MDtmdW5jdGlvbiBPZSgpe31yZXR1cm4gcigiWm9uZSIsIlpvbmUiKSx0LlpvbmU9YX0pKGdsb2JhbFRoaXMpO2NvbnN0IFdzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsVWQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LGpkPU9iamVjdC5nZXRQcm90b3R5cGVPZixNQT1PYmplY3QuY3JlYXRlLE5BPUFycmF5LnByb3RvdHlwZS5zbGljZSwkZD0iYWRkRXZlbnRMaXN0ZW5lciIsQmQ9InJlbW92ZUV2ZW50TGlzdGVuZXIiLGRsPVpvbmUuX19zeW1ib2xfXygkZCksZmw9Wm9uZS5fX3N5bWJvbF9fKEJkKSxUbj0idHJ1ZSIsU249ImZhbHNlIixHcz1ab25lLl9fc3ltYm9sX18oIiIpO2Z1bmN0aW9uIEhkKHQsZSl7cmV0dXJuIFpvbmUuY3VycmVudC53cmFwKHQsZSl9ZnVuY3Rpb24gcWQodCxlLG4scixpKXtyZXR1cm4gWm9uZS5jdXJyZW50LnNjaGVkdWxlTWFjcm9UYXNrKHQsZSxuLHIsaSl9Y29uc3QgRWU9Wm9uZS5fX3N5bWJvbF9fLEdjPXR5cGVvZiB3aW5kb3c8InUiLHRzPUdjP3dpbmRvdzp2b2lkIDAsV2U9R2MmJnRzfHxnbG9iYWxUaGlzLGtBPSJyZW1vdmVBdHRyaWJ1dGUiO2Z1bmN0aW9uIHpkKHQsZSl7Zm9yKGxldCBuPXQubGVuZ3RoLTE7bj49MDtuLS0pdHlwZW9mIHRbbl09PSJmdW5jdGlvbiImJih0W25dPUhkKHRbbl0sZSsiXyIrbikpO3JldHVybiB0fWZ1bmN0aW9uIE9BKHQsZSl7Y29uc3Qgbj10LmNvbnN0cnVjdG9yLm5hbWU7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2NvbnN0IGk9ZVtyXSxzPXRbaV07aWYocyl7Y29uc3Qgbz1Xcyh0LGkpO2lmKCFNdihvKSljb250aW51ZTt0W2ldPShhPT57Y29uc3QgYz1mdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KHRoaXMsemQoYXJndW1lbnRzLG4rIi4iK2kpKX07cmV0dXJuIENuKGMsYSksY30pKHMpfX19ZnVuY3Rpb24gTXYodCl7cmV0dXJuIHQ/dC53cml0YWJsZT09PSExPyExOiEodHlwZW9mIHQuZ2V0PT0iZnVuY3Rpb24iJiZ0eXBlb2YgdC5zZXQ+InUiKTohMH1jb25zdCBOdj10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGU8InUiJiZzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUsS2M9ISgibnciaW4gV2UpJiZ0eXBlb2YgV2UucHJvY2VzczwidSImJnt9LnRvU3RyaW5nLmNhbGwoV2UucHJvY2Vzcyk9PT0iW29iamVjdCBwcm9jZXNzXSIsV2Q9IUtjJiYhTnYmJiEhKEdjJiZ0cy5IVE1MRWxlbWVudCksa3Y9dHlwZW9mIFdlLnByb2Nlc3M8InUiJiZ7fS50b1N0cmluZy5jYWxsKFdlLnByb2Nlc3MpPT09IltvYmplY3QgcHJvY2Vzc10iJiYhTnYmJiEhKEdjJiZ0cy5IVE1MRWxlbWVudCksc2M9e30sTGc9ZnVuY3Rpb24odCl7aWYodD10fHxXZS5ldmVudCwhdClyZXR1cm47bGV0IGU9c2NbdC50eXBlXTtlfHwoZT1zY1t0LnR5cGVdPUVlKCJPTl9QUk9QRVJUWSIrdC50eXBlKSk7Y29uc3Qgbj10aGlzfHx0LnRhcmdldHx8V2Uscj1uW2VdO2xldCBpO2lmKFdkJiZuPT09dHMmJnQudHlwZT09PSJlcnJvciIpe2NvbnN0IHM9dDtpPXImJnIuY2FsbCh0aGlzLHMubWVzc2FnZSxzLmZpbGVuYW1lLHMubGluZW5vLHMuY29sbm8scy5lcnJvciksaT09PSEwJiZ0LnByZXZlbnREZWZhdWx0KCl9ZWxzZSBpPXImJnIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGkhPW51bGwmJiFpJiZ0LnByZXZlbnREZWZhdWx0KCk7cmV0dXJuIGl9O2Z1bmN0aW9uIFZnKHQsZSxuKXtsZXQgcj1Xcyh0LGUpO2lmKCFyJiZuJiZXcyhuLGUpJiYocj17ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSwhcnx8IXIuY29uZmlndXJhYmxlKXJldHVybjtjb25zdCBpPUVlKCJvbiIrZSsicGF0Y2hlZCIpO2lmKHQuaGFzT3duUHJvcGVydHkoaSkmJnRbaV0pcmV0dXJuO2RlbGV0ZSByLndyaXRhYmxlLGRlbGV0ZSByLnZhbHVlO2NvbnN0IHM9ci5nZXQsbz1yLnNldCxhPWUuc2xpY2UoMik7bGV0IGM9c2NbYV07Y3x8KGM9c2NbYV09RWUoIk9OX1BST1BFUlRZIithKSksci5zZXQ9ZnVuY3Rpb24odSl7bGV0IGw9dGhpcztpZighbCYmdD09PVdlJiYobD1XZSksIWwpcmV0dXJuO3R5cGVvZiBsW2NdPT0iZnVuY3Rpb24iJiZsLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxMZyksbyYmby5jYWxsKGwsbnVsbCksbFtjXT11LHR5cGVvZiB1PT0iZnVuY3Rpb24iJiZsLmFkZEV2ZW50TGlzdGVuZXIoYSxMZywhMSl9LHIuZ2V0PWZ1bmN0aW9uKCl7bGV0IHU9dGhpcztpZighdSYmdD09PVdlJiYodT1XZSksIXUpcmV0dXJuIG51bGw7Y29uc3QgbD11W2NdO2lmKGwpcmV0dXJuIGw7aWYocyl7bGV0IGg9cy5jYWxsKHRoaXMpO2lmKGgpcmV0dXJuIHIuc2V0LmNhbGwodGhpcyxoKSx0eXBlb2YgdVtrQV09PSJmdW5jdGlvbiImJnUucmVtb3ZlQXR0cmlidXRlKGUpLGh9cmV0dXJuIG51bGx9LFVkKHQsZSxyKSx0W2ldPSEwfWZ1bmN0aW9uIE92KHQsZSxuKXtpZihlKWZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKVZnKHQsIm9uIitlW3JdLG4pO2Vsc2V7Y29uc3Qgcj1bXTtmb3IoY29uc3QgaSBpbiB0KWkuc2xpY2UoMCwyKT09Im9uIiYmci5wdXNoKGkpO2ZvcihsZXQgaT0wO2k8ci5sZW5ndGg7aSsrKVZnKHQscltpXSxuKX19Y29uc3QgcXQ9RWUoIm9yaWdpbmFsSW5zdGFuY2UiKTtmdW5jdGlvbiBLcyh0KXtjb25zdCBlPVdlW3RdO2lmKCFlKXJldHVybjtXZVtFZSh0KV09ZSxXZVt0XT1mdW5jdGlvbigpe2NvbnN0IGk9emQoYXJndW1lbnRzLHQpO3N3aXRjaChpLmxlbmd0aCl7Y2FzZSAwOnRoaXNbcXRdPW5ldyBlO2JyZWFrO2Nhc2UgMTp0aGlzW3F0XT1uZXcgZShpWzBdKTticmVhaztjYXNlIDI6dGhpc1txdF09bmV3IGUoaVswXSxpWzFdKTticmVhaztjYXNlIDM6dGhpc1txdF09bmV3IGUoaVswXSxpWzFdLGlbMl0pO2JyZWFrO2Nhc2UgNDp0aGlzW3F0XT1uZXcgZShpWzBdLGlbMV0saVsyXSxpWzNdKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiQXJnIGxpc3QgdG9vIGxvbmcuIil9fSxDbihXZVt0XSxlKTtjb25zdCBuPW5ldyBlKGZ1bmN0aW9uKCl7fSk7bGV0IHI7Zm9yKHIgaW4gbil0PT09IlhNTEh0dHBSZXF1ZXN0IiYmcj09PSJyZXNwb25zZUJsb2IifHxmdW5jdGlvbihpKXt0eXBlb2YgbltpXT09ImZ1bmN0aW9uIj9XZVt0XS5wcm90b3R5cGVbaV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1txdF1baV0uYXBwbHkodGhpc1txdF0sYXJndW1lbnRzKX06VWQoV2VbdF0ucHJvdG90eXBlLGkse3NldDpmdW5jdGlvbihzKXt0eXBlb2Ygcz09ImZ1bmN0aW9uIj8odGhpc1txdF1baV09SGQocyx0KyIuIitpKSxDbih0aGlzW3F0XVtpXSxzKSk6dGhpc1txdF1baV09c30sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbcXRdW2ldfX0pfShyKTtmb3IociBpbiBlKXIhPT0icHJvdG90eXBlIiYmZS5oYXNPd25Qcm9wZXJ0eShyKSYmKFdlW3RdW3JdPWVbcl0pfWZ1bmN0aW9uIE1uKHQsZSxuKXtsZXQgcj10O2Zvcig7ciYmIXIuaGFzT3duUHJvcGVydHkoZSk7KXI9amQocik7IXImJnRbZV0mJihyPXQpO2NvbnN0IGk9RWUoZSk7bGV0IHM9bnVsbDtpZihyJiYoIShzPXJbaV0pfHwhci5oYXNPd25Qcm9wZXJ0eShpKSkpe3M9cltpXT1yW2VdO2NvbnN0IG89ciYmV3MocixlKTtpZihNdihvKSl7Y29uc3QgYT1uKHMsaSxlKTtyW2VdPWZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcyxhcmd1bWVudHMpfSxDbihyW2VdLHMpfX1yZXR1cm4gc31mdW5jdGlvbiB4QSh0LGUsbil7bGV0IHI9bnVsbDtmdW5jdGlvbiBpKHMpe2NvbnN0IG89cy5kYXRhO3JldHVybiBvLmFyZ3Nbby5jYklkeF09ZnVuY3Rpb24oKXtzLmludm9rZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHIuYXBwbHkoby50YXJnZXQsby5hcmdzKSxzfXI9TW4odCxlLHM9PmZ1bmN0aW9uKG8sYSl7Y29uc3QgYz1uKG8sYSk7cmV0dXJuIGMuY2JJZHg+PTAmJnR5cGVvZiBhW2MuY2JJZHhdPT0iZnVuY3Rpb24iP3FkKGMubmFtZSxhW2MuY2JJZHhdLGMsaSk6cy5hcHBseShvLGEpfSl9ZnVuY3Rpb24gQ24odCxlKXt0W0VlKCJPcmlnaW5hbERlbGVnYXRlIildPWV9bGV0IEZnPSExLHBsPSExO2Z1bmN0aW9uIExBKCl7dHJ5e2NvbnN0IHQ9dHMubmF2aWdhdG9yLnVzZXJBZ2VudDtpZih0LmluZGV4T2YoIk1TSUUgIikhPT0tMXx8dC5pbmRleE9mKCJUcmlkZW50LyIpIT09LTEpcmV0dXJuITB9Y2F0Y2h7fXJldHVybiExfWZ1bmN0aW9uIFZBKCl7aWYoRmcpcmV0dXJuIHBsO0ZnPSEwO3RyeXtjb25zdCB0PXRzLm5hdmlnYXRvci51c2VyQWdlbnQ7KHQuaW5kZXhPZigiTVNJRSAiKSE9PS0xfHx0LmluZGV4T2YoIlRyaWRlbnQvIikhPT0tMXx8dC5pbmRleE9mKCJFZGdlLyIpIT09LTEpJiYocGw9ITApfWNhdGNoe31yZXR1cm4gcGx9Wm9uZS5fX2xvYWRfcGF0Y2goIlpvbmVBd2FyZVByb21pc2UiLCh0LGUsbik9Pntjb25zdCByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsaT1PYmplY3QuZGVmaW5lUHJvcGVydHk7ZnVuY3Rpb24gcyhBKXtpZihBJiZBLnRvU3RyaW5nPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyl7Y29uc3QgUj1BLmNvbnN0cnVjdG9yJiZBLmNvbnN0cnVjdG9yLm5hbWU7cmV0dXJuKFJ8fCIiKSsiOiAiK0pTT04uc3RyaW5naWZ5KEEpfXJldHVybiBBP0EudG9TdHJpbmcoKTpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoQSl9Y29uc3Qgbz1uLnN5bWJvbCxhPVtdLGM9dFtvKCJESVNBQkxFX1dSQVBQSU5HX1VOQ0FVR0hUX1BST01JU0VfUkVKRUNUSU9OIildIT09ITEsdT1vKCJQcm9taXNlIiksbD1vKCJ0aGVuIiksaD0iX19jcmVhdGlvblRyYWNlX18iO24ub25VbmhhbmRsZWRFcnJvcj1BPT57aWYobi5zaG93VW5jYXVnaHRFcnJvcigpKXtjb25zdCBSPUEmJkEucmVqZWN0aW9uO1I/Y29uc29sZS5lcnJvcigiVW5oYW5kbGVkIFByb21pc2UgcmVqZWN0aW9uOiIsUiBpbnN0YW5jZW9mIEVycm9yP1IubWVzc2FnZTpSLCI7IFpvbmU6IixBLnpvbmUubmFtZSwiOyBUYXNrOiIsQS50YXNrJiZBLnRhc2suc291cmNlLCI7IFZhbHVlOiIsUixSIGluc3RhbmNlb2YgRXJyb3I/Ui5zdGFjazp2b2lkIDApOmNvbnNvbGUuZXJyb3IoQSl9fSxuLm1pY3JvdGFza0RyYWluRG9uZT0oKT0+e2Zvcig7YS5sZW5ndGg7KXtjb25zdCBBPWEuc2hpZnQoKTt0cnl7QS56b25lLnJ1bkd1YXJkZWQoKCk9Pnt0aHJvdyBBLnRocm93T3JpZ2luYWw/QS5yZWplY3Rpb246QX0pfWNhdGNoKFIpe2YoUil9fX07Y29uc3QgZD1vKCJ1bmhhbmRsZWRQcm9taXNlUmVqZWN0aW9uSGFuZGxlciIpO2Z1bmN0aW9uIGYoQSl7bi5vblVuaGFuZGxlZEVycm9yKEEpO3RyeXtjb25zdCBSPWVbZF07dHlwZW9mIFI9PSJmdW5jdGlvbiImJlIuY2FsbCh0aGlzLEEpfWNhdGNoe319ZnVuY3Rpb24gbShBKXtyZXR1cm4gQSYmQS50aGVufWZ1bmN0aW9uIHkoQSl7cmV0dXJuIEF9ZnVuY3Rpb24gXyhBKXtyZXR1cm4gRS5yZWplY3QoQSl9Y29uc3QgVD1vKCJzdGF0ZSIpLEM9bygidmFsdWUiKSxTPW8oImZpbmFsbHkiKSxWPW8oInBhcmVudFByb21pc2VWYWx1ZSIpLFU9bygicGFyZW50UHJvbWlzZVN0YXRlIiksSD0iUHJvbWlzZS50aGVuIixCPW51bGwsTz0hMCxmZT0hMSxOPTA7ZnVuY3Rpb24gZGUoQSxSKXtyZXR1cm4gdj0+e3RyeXtWZShBLFIsdil9Y2F0Y2goRCl7VmUoQSwhMSxEKX19fWNvbnN0IEs9ZnVuY3Rpb24oKXtsZXQgQT0hMTtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKCl7QXx8KEE9ITAsdi5hcHBseShudWxsLGFyZ3VtZW50cykpfX19LHZ0PSJQcm9taXNlIHJlc29sdmVkIHdpdGggaXRzZWxmIixlbj1vKCJjdXJyZW50VGFza1RyYWNlIik7ZnVuY3Rpb24gVmUoQSxSLHYpe2NvbnN0IEQ9SygpO2lmKEE9PT12KXRocm93IG5ldyBUeXBlRXJyb3IodnQpO2lmKEFbVF09PT1CKXtsZXQgJD1udWxsO3RyeXsodHlwZW9mIHY9PSJvYmplY3QifHx0eXBlb2Ygdj09ImZ1bmN0aW9uIikmJigkPXYmJnYudGhlbil9Y2F0Y2goWCl7cmV0dXJuIEQoKCk9PntWZShBLCExLFgpfSkoKSxBfWlmKFIhPT1mZSYmdiBpbnN0YW5jZW9mIEUmJnYuaGFzT3duUHJvcGVydHkoVCkmJnYuaGFzT3duUHJvcGVydHkoQykmJnZbVF0hPT1CKUh0KHYpLFZlKEEsdltUXSx2W0NdKTtlbHNlIGlmKFIhPT1mZSYmdHlwZW9mICQ9PSJmdW5jdGlvbiIpdHJ5eyQuY2FsbCh2LEQoZGUoQSxSKSksRChkZShBLCExKSkpfWNhdGNoKFgpe0QoKCk9PntWZShBLCExLFgpfSkoKX1lbHNle0FbVF09Ujtjb25zdCBYPUFbQ107aWYoQVtDXT12LEFbU109PT1TJiZSPT09TyYmKEFbVF09QVtVXSxBW0NdPUFbVl0pLFI9PT1mZSYmdiBpbnN0YW5jZW9mIEVycm9yKXtjb25zdCBGPWUuY3VycmVudFRhc2smJmUuY3VycmVudFRhc2suZGF0YSYmZS5jdXJyZW50VGFzay5kYXRhW2hdO0YmJmkodixlbix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsdmFsdWU6Rn0pfWZvcihsZXQgRj0wO0Y8WC5sZW5ndGg7KVR0KEEsWFtGKytdLFhbRisrXSxYW0YrK10sWFtGKytdKTtpZihYLmxlbmd0aD09MCYmUj09ZmUpe0FbVF09TjtsZXQgRj12O3RyeXt0aHJvdyBuZXcgRXJyb3IoIlVuY2F1Z2h0IChpbiBwcm9taXNlKTogIitzKHYpKyh2JiZ2LnN0YWNrP2AKYCt2LnN0YWNrOiIiKSl9Y2F0Y2gob2Upe0Y9b2V9YyYmKEYudGhyb3dPcmlnaW5hbD0hMCksRi5yZWplY3Rpb249dixGLnByb21pc2U9QSxGLnpvbmU9ZS5jdXJyZW50LEYudGFzaz1lLmN1cnJlbnRUYXNrLGEucHVzaChGKSxuLnNjaGVkdWxlTWljcm9UYXNrKCl9fX1yZXR1cm4gQX1jb25zdCBrZT1vKCJyZWplY3Rpb25IYW5kbGVkSGFuZGxlciIpO2Z1bmN0aW9uIEh0KEEpe2lmKEFbVF09PT1OKXt0cnl7Y29uc3QgUj1lW2tlXTtSJiZ0eXBlb2YgUj09ImZ1bmN0aW9uIiYmUi5jYWxsKHRoaXMse3JlamVjdGlvbjpBW0NdLHByb21pc2U6QX0pfWNhdGNoe31BW1RdPWZlO2ZvcihsZXQgUj0wO1I8YS5sZW5ndGg7UisrKUE9PT1hW1JdLnByb21pc2UmJmEuc3BsaWNlKFIsMSl9fWZ1bmN0aW9uIFR0KEEsUix2LEQsJCl7SHQoQSk7Y29uc3QgWD1BW1RdLEY9WD90eXBlb2YgRD09ImZ1bmN0aW9uIj9EOnk6dHlwZW9mICQ9PSJmdW5jdGlvbiI/JDpfO1Iuc2NoZWR1bGVNaWNyb1Rhc2soSCwoKT0+e3RyeXtjb25zdCBvZT1BW0NdLGFlPSEhdiYmUz09PXZbU107YWUmJih2W1ZdPW9lLHZbVV09WCk7Y29uc3QgY2U9Ui5ydW4oRix2b2lkIDAsYWUmJkYhPT1fJiZGIT09eT9bXTpbb2VdKTtWZSh2LCEwLGNlKX1jYXRjaChvZSl7VmUodiwhMSxvZSl9fSx2KX1jb25zdCBPZT0iZnVuY3Rpb24gWm9uZUF3YXJlUHJvbWlzZSgpIHsgW25hdGl2ZSBjb2RlXSB9Iix2ZT1mdW5jdGlvbigpe30seD10LkFnZ3JlZ2F0ZUVycm9yO2NsYXNzIEV7c3RhdGljIHRvU3RyaW5nKCl7cmV0dXJuIE9lfXN0YXRpYyByZXNvbHZlKFIpe3JldHVybiBSIGluc3RhbmNlb2YgRT9SOlZlKG5ldyB0aGlzKG51bGwpLE8sUil9c3RhdGljIHJlamVjdChSKXtyZXR1cm4gVmUobmV3IHRoaXMobnVsbCksZmUsUil9c3RhdGljIHdpdGhSZXNvbHZlcnMoKXtjb25zdCBSPXt9O3JldHVybiBSLnByb21pc2U9bmV3IEUoKHYsRCk9PntSLnJlc29sdmU9dixSLnJlamVjdD1EfSksUn1zdGF0aWMgYW55KFIpe2lmKCFSfHx0eXBlb2YgUltTeW1ib2wuaXRlcmF0b3JdIT0iZnVuY3Rpb24iKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgeChbXSwiQWxsIHByb21pc2VzIHdlcmUgcmVqZWN0ZWQiKSk7Y29uc3Qgdj1bXTtsZXQgRD0wO3RyeXtmb3IobGV0IEYgb2YgUilEKyssdi5wdXNoKEUucmVzb2x2ZShGKSl9Y2F0Y2h7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyB4KFtdLCJBbGwgcHJvbWlzZXMgd2VyZSByZWplY3RlZCIpKX1pZihEPT09MClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IHgoW10sIkFsbCBwcm9taXNlcyB3ZXJlIHJlamVjdGVkIikpO2xldCAkPSExO2NvbnN0IFg9W107cmV0dXJuIG5ldyBFKChGLG9lKT0+e2ZvcihsZXQgYWU9MDthZTx2Lmxlbmd0aDthZSsrKXZbYWVdLnRoZW4oY2U9PnskfHwoJD0hMCxGKGNlKSl9LGNlPT57WC5wdXNoKGNlKSxELS0sRD09PTAmJigkPSEwLG9lKG5ldyB4KFgsIkFsbCBwcm9taXNlcyB3ZXJlIHJlamVjdGVkIikpKX0pfSl9c3RhdGljIHJhY2UoUil7bGV0IHYsRCwkPW5ldyB0aGlzKChvZSxhZSk9Pnt2PW9lLEQ9YWV9KTtmdW5jdGlvbiBYKG9lKXt2KG9lKX1mdW5jdGlvbiBGKG9lKXtEKG9lKX1mb3IobGV0IG9lIG9mIFIpbShvZSl8fChvZT10aGlzLnJlc29sdmUob2UpKSxvZS50aGVuKFgsRik7cmV0dXJuICR9c3RhdGljIGFsbChSKXtyZXR1cm4gRS5hbGxXaXRoQ2FsbGJhY2soUil9c3RhdGljIGFsbFNldHRsZWQoUil7cmV0dXJuKHRoaXMmJnRoaXMucHJvdG90eXBlIGluc3RhbmNlb2YgRT90aGlzOkUpLmFsbFdpdGhDYWxsYmFjayhSLHt0aGVuQ2FsbGJhY2s6RD0+KHtzdGF0dXM6ImZ1bGZpbGxlZCIsdmFsdWU6RH0pLGVycm9yQ2FsbGJhY2s6RD0+KHtzdGF0dXM6InJlamVjdGVkIixyZWFzb246RH0pfSl9c3RhdGljIGFsbFdpdGhDYWxsYmFjayhSLHYpe2xldCBELCQsWD1uZXcgdGhpcygoY2UsU2UpPT57RD1jZSwkPVNlfSksRj0yLG9lPTA7Y29uc3QgYWU9W107Zm9yKGxldCBjZSBvZiBSKXttKGNlKXx8KGNlPXRoaXMucmVzb2x2ZShjZSkpO2NvbnN0IFNlPW9lO3RyeXtjZS50aGVuKENlPT57YWVbU2VdPXY/di50aGVuQ2FsbGJhY2soQ2UpOkNlLEYtLSxGPT09MCYmRChhZSl9LENlPT57dj8oYWVbU2VdPXYuZXJyb3JDYWxsYmFjayhDZSksRi0tLEY9PT0wJiZEKGFlKSk6JChDZSl9KX1jYXRjaChDZSl7JChDZSl9RisrLG9lKyt9cmV0dXJuIEYtPTIsRj09PTAmJkQoYWUpLFh9Y29uc3RydWN0b3IoUil7Y29uc3Qgdj10aGlzO2lmKCEodiBpbnN0YW5jZW9mIEUpKXRocm93IG5ldyBFcnJvcigiTXVzdCBiZSBhbiBpbnN0YW5jZW9mIFByb21pc2UuIik7dltUXT1CLHZbQ109W107dHJ5e2NvbnN0IEQ9SygpO1ImJlIoRChkZSh2LE8pKSxEKGRlKHYsZmUpKSl9Y2F0Y2goRCl7VmUodiwhMSxEKX19Z2V0W1N5bWJvbC50b1N0cmluZ1RhZ10oKXtyZXR1cm4iUHJvbWlzZSJ9Z2V0W1N5bWJvbC5zcGVjaWVzXSgpe3JldHVybiBFfXRoZW4oUix2KXtsZXQgRD10aGlzLmNvbnN0cnVjdG9yPy5bU3ltYm9sLnNwZWNpZXNdOyghRHx8dHlwZW9mIEQhPSJmdW5jdGlvbiIpJiYoRD10aGlzLmNvbnN0cnVjdG9yfHxFKTtjb25zdCAkPW5ldyBEKHZlKSxYPWUuY3VycmVudDtyZXR1cm4gdGhpc1tUXT09Qj90aGlzW0NdLnB1c2goWCwkLFIsdik6VHQodGhpcyxYLCQsUix2KSwkfWNhdGNoKFIpe3JldHVybiB0aGlzLnRoZW4obnVsbCxSKX1maW5hbGx5KFIpe2xldCB2PXRoaXMuY29uc3RydWN0b3I/LltTeW1ib2wuc3BlY2llc107KCF2fHx0eXBlb2YgdiE9ImZ1bmN0aW9uIikmJih2PUUpO2NvbnN0IEQ9bmV3IHYodmUpO0RbU109Uztjb25zdCAkPWUuY3VycmVudDtyZXR1cm4gdGhpc1tUXT09Qj90aGlzW0NdLnB1c2goJCxELFIsUik6VHQodGhpcywkLEQsUixSKSxEfX1FLnJlc29sdmU9RS5yZXNvbHZlLEUucmVqZWN0PUUucmVqZWN0LEUucmFjZT1FLnJhY2UsRS5hbGw9RS5hbGw7Y29uc3QgcD10W3VdPXQuUHJvbWlzZTt0LlByb21pc2U9RTtjb25zdCBMPW8oInRoZW5QYXRjaGVkIik7ZnVuY3Rpb24gWihBKXtjb25zdCBSPUEucHJvdG90eXBlLHY9cihSLCJ0aGVuIik7aWYodiYmKHYud3JpdGFibGU9PT0hMXx8IXYuY29uZmlndXJhYmxlKSlyZXR1cm47Y29uc3QgRD1SLnRoZW47UltsXT1ELEEucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oJCxYKXtyZXR1cm4gbmV3IEUoKG9lLGFlKT0+e0QuY2FsbCh0aGlzLG9lLGFlKX0pLnRoZW4oJCxYKX0sQVtMXT0hMH1uLnBhdGNoVGhlbj1aO2Z1bmN0aW9uIG1lKEEpe3JldHVybiBmdW5jdGlvbihSLHYpe2xldCBEPUEuYXBwbHkoUix2KTtpZihEIGluc3RhbmNlb2YgRSlyZXR1cm4gRDtsZXQgJD1ELmNvbnN0cnVjdG9yO3JldHVybiAkW0xdfHxaKCQpLER9fXJldHVybiBwJiYoWihwKSxNbih0LCJmZXRjaCIsQT0+bWUoQSkpKSxQcm9taXNlW2UuX19zeW1ib2xfXygidW5jYXVnaHRQcm9taXNlRXJyb3JzIildPWEsRX0pO1pvbmUuX19sb2FkX3BhdGNoKCJ0b1N0cmluZyIsdD0+e2NvbnN0IGU9RnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLG49RWUoIk9yaWdpbmFsRGVsZWdhdGUiKSxyPUVlKCJQcm9taXNlIiksaT1FZSgiRXJyb3IiKSxzPWZ1bmN0aW9uKCl7aWYodHlwZW9mIHRoaXM9PSJmdW5jdGlvbiIpe2NvbnN0IHU9dGhpc1tuXTtpZih1KXJldHVybiB0eXBlb2YgdT09ImZ1bmN0aW9uIj9lLmNhbGwodSk6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHUpO2lmKHRoaXM9PT1Qcm9taXNlKXtjb25zdCBsPXRbcl07aWYobClyZXR1cm4gZS5jYWxsKGwpfWlmKHRoaXM9PT1FcnJvcil7Y29uc3QgbD10W2ldO2lmKGwpcmV0dXJuIGUuY2FsbChsKX19cmV0dXJuIGUuY2FsbCh0aGlzKX07c1tuXT1lLEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZz1zO2NvbnN0IG89T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxhPSJbb2JqZWN0IFByb21pc2VdIjtPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHR5cGVvZiBQcm9taXNlPT0iZnVuY3Rpb24iJiZ0aGlzIGluc3RhbmNlb2YgUHJvbWlzZT9hOm8uY2FsbCh0aGlzKX19KTtsZXQgZGk9ITE7aWYodHlwZW9mIHdpbmRvdzwidSIpdHJ5e2NvbnN0IHQ9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJwYXNzaXZlIix7Z2V0OmZ1bmN0aW9uKCl7ZGk9ITB9fSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInRlc3QiLHQsdCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInRlc3QiLHQsdCl9Y2F0Y2h7ZGk9ITF9Y29uc3QgRkE9e3VzZUc6ITB9LHh0PXt9LHh2PXt9LEx2PW5ldyBSZWdFeHAoIl4iK0dzKyIoXFx3KykodHJ1ZXxmYWxzZSkkIiksVnY9RWUoInByb3BhZ2F0aW9uU3RvcHBlZCIpO2Z1bmN0aW9uIEZ2KHQsZSl7Y29uc3Qgbj0oZT9lKHQpOnQpK1NuLHI9KGU/ZSh0KTp0KStUbixpPUdzK24scz1HcytyO3h0W3RdPXt9LHh0W3RdW1NuXT1pLHh0W3RdW1RuXT1zfWZ1bmN0aW9uIFVBKHQsZSxuLHIpe2NvbnN0IGk9ciYmci5hZGR8fCRkLHM9ciYmci5ybXx8QmQsbz1yJiZyLmxpc3RlbmVyc3x8ImV2ZW50TGlzdGVuZXJzIixhPXImJnIucm1BbGx8fCJyZW1vdmVBbGxMaXN0ZW5lcnMiLGM9RWUoaSksdT0iLiIraSsiOiIsbD0icHJlcGVuZExpc3RlbmVyIixoPSIuIitsKyI6IixkPWZ1bmN0aW9uKEMsUyxWKXtpZihDLmlzUmVtb3ZlZClyZXR1cm47Y29uc3QgVT1DLmNhbGxiYWNrO3R5cGVvZiBVPT0ib2JqZWN0IiYmVS5oYW5kbGVFdmVudCYmKEMuY2FsbGJhY2s9Tz0+VS5oYW5kbGVFdmVudChPKSxDLm9yaWdpbmFsRGVsZWdhdGU9VSk7bGV0IEg7dHJ5e0MuaW52b2tlKEMsUyxbVl0pfWNhdGNoKE8pe0g9T31jb25zdCBCPUMub3B0aW9ucztpZihCJiZ0eXBlb2YgQj09Im9iamVjdCImJkIub25jZSl7Y29uc3QgTz1DLm9yaWdpbmFsRGVsZWdhdGU/Qy5vcmlnaW5hbERlbGVnYXRlOkMuY2FsbGJhY2s7U1tzXS5jYWxsKFMsVi50eXBlLE8sQil9cmV0dXJuIEh9O2Z1bmN0aW9uIGYoQyxTLFYpe2lmKFM9U3x8dC5ldmVudCwhUylyZXR1cm47Y29uc3QgVT1DfHxTLnRhcmdldHx8dCxIPVVbeHRbUy50eXBlXVtWP1RuOlNuXV07aWYoSCl7Y29uc3QgQj1bXTtpZihILmxlbmd0aD09PTEpe2NvbnN0IE89ZChIWzBdLFUsUyk7TyYmQi5wdXNoKE8pfWVsc2V7Y29uc3QgTz1ILnNsaWNlKCk7Zm9yKGxldCBmZT0wO2ZlPE8ubGVuZ3RoJiYhKFMmJlNbVnZdPT09ITApO2ZlKyspe2NvbnN0IE49ZChPW2ZlXSxVLFMpO04mJkIucHVzaChOKX19aWYoQi5sZW5ndGg9PT0xKXRocm93IEJbMF07Zm9yKGxldCBPPTA7TzxCLmxlbmd0aDtPKyspe2NvbnN0IGZlPUJbT107ZS5uYXRpdmVTY2hlZHVsZU1pY3JvVGFzaygoKT0+e3Rocm93IGZlfSl9fX1jb25zdCBtPWZ1bmN0aW9uKEMpe3JldHVybiBmKHRoaXMsQywhMSl9LHk9ZnVuY3Rpb24oQyl7cmV0dXJuIGYodGhpcyxDLCEwKX07ZnVuY3Rpb24gXyhDLFMpe2lmKCFDKXJldHVybiExO2xldCBWPSEwO1MmJlMudXNlRyE9PXZvaWQgMCYmKFY9Uy51c2VHKTtjb25zdCBVPVMmJlMudmg7bGV0IEg9ITA7UyYmUy5jaGtEdXAhPT12b2lkIDAmJihIPVMuY2hrRHVwKTtsZXQgQj0hMTtTJiZTLnJ0IT09dm9pZCAwJiYoQj1TLnJ0KTtsZXQgTz1DO2Zvcig7TyYmIU8uaGFzT3duUHJvcGVydHkoaSk7KU89amQoTyk7aWYoIU8mJkNbaV0mJihPPUMpLCFPfHxPW2NdKXJldHVybiExO2NvbnN0IGZlPVMmJlMuZXZlbnROYW1lVG9TdHJpbmcsTj17fSxkZT1PW2NdPU9baV0sSz1PW0VlKHMpXT1PW3NdLHZ0PU9bRWUobyldPU9bb10sZW49T1tFZShhKV09T1thXTtsZXQgVmU7UyYmUy5wcmVwZW5kJiYoVmU9T1tFZShTLnByZXBlbmQpXT1PW1MucHJlcGVuZF0pO2Z1bmN0aW9uIGtlKHYsRCl7cmV0dXJuIWRpJiZ0eXBlb2Ygdj09Im9iamVjdCImJnY/ISF2LmNhcHR1cmU6IWRpfHwhRD92OnR5cGVvZiB2PT0iYm9vbGVhbiI/e2NhcHR1cmU6dixwYXNzaXZlOiEwfTp2P3R5cGVvZiB2PT0ib2JqZWN0IiYmdi5wYXNzaXZlIT09ITE/ey4uLnYscGFzc2l2ZTohMH06djp7cGFzc2l2ZTohMH19Y29uc3QgSHQ9ZnVuY3Rpb24odil7aWYoIU4uaXNFeGlzdGluZylyZXR1cm4gZGUuY2FsbChOLnRhcmdldCxOLmV2ZW50TmFtZSxOLmNhcHR1cmU/eTptLE4ub3B0aW9ucyl9LFR0PWZ1bmN0aW9uKHYpe2lmKCF2LmlzUmVtb3ZlZCl7Y29uc3QgRD14dFt2LmV2ZW50TmFtZV07bGV0ICQ7RCYmKCQ9RFt2LmNhcHR1cmU/VG46U25dKTtjb25zdCBYPSQmJnYudGFyZ2V0WyRdO2lmKFgpe2ZvcihsZXQgRj0wO0Y8WC5sZW5ndGg7RisrKWlmKFhbRl09PT12KXtYLnNwbGljZShGLDEpLHYuaXNSZW1vdmVkPSEwLFgubGVuZ3RoPT09MCYmKHYuYWxsUmVtb3ZlZD0hMCx2LnRhcmdldFskXT1udWxsKTticmVha319fWlmKHYuYWxsUmVtb3ZlZClyZXR1cm4gSy5jYWxsKHYudGFyZ2V0LHYuZXZlbnROYW1lLHYuY2FwdHVyZT95Om0sdi5vcHRpb25zKX0sT2U9ZnVuY3Rpb24odil7cmV0dXJuIGRlLmNhbGwoTi50YXJnZXQsTi5ldmVudE5hbWUsdi5pbnZva2UsTi5vcHRpb25zKX0sdmU9ZnVuY3Rpb24odil7cmV0dXJuIFZlLmNhbGwoTi50YXJnZXQsTi5ldmVudE5hbWUsdi5pbnZva2UsTi5vcHRpb25zKX0seD1mdW5jdGlvbih2KXtyZXR1cm4gSy5jYWxsKHYudGFyZ2V0LHYuZXZlbnROYW1lLHYuaW52b2tlLHYub3B0aW9ucyl9LEU9Vj9IdDpPZSxwPVY/VHQ6eCxMPWZ1bmN0aW9uKHYsRCl7Y29uc3QgJD10eXBlb2YgRDtyZXR1cm4gJD09PSJmdW5jdGlvbiImJnYuY2FsbGJhY2s9PT1EfHwkPT09Im9iamVjdCImJnYub3JpZ2luYWxEZWxlZ2F0ZT09PUR9LFo9UyYmUy5kaWZmP1MuZGlmZjpMLG1lPVpvbmVbRWUoIlVOUEFUQ0hFRF9FVkVOVFMiKV0sQT10W0VlKCJQQVNTSVZFX0VWRU5UUyIpXSxSPWZ1bmN0aW9uKHYsRCwkLFgsRj0hMSxvZT0hMSl7cmV0dXJuIGZ1bmN0aW9uKCl7Y29uc3QgYWU9dGhpc3x8dDtsZXQgY2U9YXJndW1lbnRzWzBdO1MmJlMudHJhbnNmZXJFdmVudE5hbWUmJihjZT1TLnRyYW5zZmVyRXZlbnROYW1lKGNlKSk7bGV0IFNlPWFyZ3VtZW50c1sxXTtpZighU2UpcmV0dXJuIHYuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKEtjJiZjZT09PSJ1bmNhdWdodEV4Y2VwdGlvbiIpcmV0dXJuIHYuYXBwbHkodGhpcyxhcmd1bWVudHMpO2xldCBDZT0hMTtpZih0eXBlb2YgU2UhPSJmdW5jdGlvbiIpe2lmKCFTZS5oYW5kbGVFdmVudClyZXR1cm4gdi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Q2U9ITB9aWYoVSYmIVUodixTZSxhZSxhcmd1bWVudHMpKXJldHVybjtjb25zdCBRbj1kaSYmISFBJiZBLmluZGV4T2YoY2UpIT09LTEsX3Q9a2UoYXJndW1lbnRzWzJdLFFuKSxtcz1fdCYmdHlwZW9mIF90PT0ib2JqZWN0IiYmX3Quc2lnbmFsJiZ0eXBlb2YgX3Quc2lnbmFsPT0ib2JqZWN0Ij9fdC5zaWduYWw6dm9pZCAwO2lmKG1zPy5hYm9ydGVkKXJldHVybjtpZihtZSl7Zm9yKGxldCB3cj0wO3dyPG1lLmxlbmd0aDt3cisrKWlmKGNlPT09bWVbd3JdKXJldHVybiBRbj92LmNhbGwoYWUsY2UsU2UsX3QpOnYuYXBwbHkodGhpcyxhcmd1bWVudHMpfWNvbnN0IGxsPV90P3R5cGVvZiBfdD09ImJvb2xlYW4iPyEwOl90LmNhcHR1cmU6ITEsTWc9X3QmJnR5cGVvZiBfdD09Im9iamVjdCI/X3Qub25jZTohMSxiQT1ab25lLmN1cnJlbnQ7bGV0IGhsPXh0W2NlXTtobHx8KEZ2KGNlLGZlKSxobD14dFtjZV0pO2NvbnN0IE5nPWhsW2xsP1RuOlNuXTtsZXQgb2k9YWVbTmddLGtnPSExO2lmKG9pKXtpZihrZz0hMCxIKXtmb3IobGV0IHdyPTA7d3I8b2kubGVuZ3RoO3dyKyspaWYoWihvaVt3cl0sU2UpKXJldHVybn19ZWxzZSBvaT1hZVtOZ109W107bGV0IG1hO2NvbnN0IE9nPWFlLmNvbnN0cnVjdG9yLm5hbWUseGc9eHZbT2ddO3hnJiYobWE9eGdbY2VdKSxtYXx8KG1hPU9nK0QrKGZlP2ZlKGNlKTpjZSkpLE4ub3B0aW9ucz1fdCxNZyYmKE4ub3B0aW9ucy5vbmNlPSExKSxOLnRhcmdldD1hZSxOLmNhcHR1cmU9bGwsTi5ldmVudE5hbWU9Y2UsTi5pc0V4aXN0aW5nPWtnO2NvbnN0IHlzPVY/RkE6dm9pZCAwO3lzJiYoeXMudGFza0RhdGE9TiksbXMmJihOLm9wdGlvbnMuc2lnbmFsPXZvaWQgMCk7Y29uc3QgdG49YkEuc2NoZWR1bGVFdmVudFRhc2sobWEsU2UseXMsJCxYKTtpZihtcyYmKE4ub3B0aW9ucy5zaWduYWw9bXMsdi5jYWxsKG1zLCJhYm9ydCIsKCk9Pnt0bi56b25lLmNhbmNlbFRhc2sodG4pfSx7b25jZTohMH0pKSxOLnRhcmdldD1udWxsLHlzJiYoeXMudGFza0RhdGE9bnVsbCksTWcmJihfdC5vbmNlPSEwKSwhZGkmJnR5cGVvZiB0bi5vcHRpb25zPT0iYm9vbGVhbiJ8fCh0bi5vcHRpb25zPV90KSx0bi50YXJnZXQ9YWUsdG4uY2FwdHVyZT1sbCx0bi5ldmVudE5hbWU9Y2UsQ2UmJih0bi5vcmlnaW5hbERlbGVnYXRlPVNlKSxvZT9vaS51bnNoaWZ0KHRuKTpvaS5wdXNoKHRuKSxGKXJldHVybiBhZX19O3JldHVybiBPW2ldPVIoZGUsdSxFLHAsQiksVmUmJihPW2xdPVIoVmUsaCx2ZSxwLEIsITApKSxPW3NdPWZ1bmN0aW9uKCl7Y29uc3Qgdj10aGlzfHx0O2xldCBEPWFyZ3VtZW50c1swXTtTJiZTLnRyYW5zZmVyRXZlbnROYW1lJiYoRD1TLnRyYW5zZmVyRXZlbnROYW1lKEQpKTtjb25zdCAkPWFyZ3VtZW50c1syXSxYPSQ/dHlwZW9mICQ9PSJib29sZWFuIj8hMDokLmNhcHR1cmU6ITEsRj1hcmd1bWVudHNbMV07aWYoIUYpcmV0dXJuIEsuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKFUmJiFVKEssRix2LGFyZ3VtZW50cykpcmV0dXJuO2NvbnN0IG9lPXh0W0RdO2xldCBhZTtvZSYmKGFlPW9lW1g/VG46U25dKTtjb25zdCBjZT1hZSYmdlthZV07aWYoY2UpZm9yKGxldCBTZT0wO1NlPGNlLmxlbmd0aDtTZSsrKXtjb25zdCBDZT1jZVtTZV07aWYoWihDZSxGKSl7aWYoY2Uuc3BsaWNlKFNlLDEpLENlLmlzUmVtb3ZlZD0hMCxjZS5sZW5ndGg9PT0wJiYoQ2UuYWxsUmVtb3ZlZD0hMCx2W2FlXT1udWxsLHR5cGVvZiBEPT0ic3RyaW5nIikpe2NvbnN0IFFuPUdzKyJPTl9QUk9QRVJUWSIrRDt2W1FuXT1udWxsfXJldHVybiBDZS56b25lLmNhbmNlbFRhc2soQ2UpLEI/djp2b2lkIDB9fXJldHVybiBLLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sT1tvXT1mdW5jdGlvbigpe2NvbnN0IHY9dGhpc3x8dDtsZXQgRD1hcmd1bWVudHNbMF07UyYmUy50cmFuc2ZlckV2ZW50TmFtZSYmKEQ9Uy50cmFuc2ZlckV2ZW50TmFtZShEKSk7Y29uc3QgJD1bXSxYPVV2KHYsZmU/ZmUoRCk6RCk7Zm9yKGxldCBGPTA7RjxYLmxlbmd0aDtGKyspe2NvbnN0IG9lPVhbRl07bGV0IGFlPW9lLm9yaWdpbmFsRGVsZWdhdGU/b2Uub3JpZ2luYWxEZWxlZ2F0ZTpvZS5jYWxsYmFjazskLnB1c2goYWUpfXJldHVybiAkfSxPW2FdPWZ1bmN0aW9uKCl7Y29uc3Qgdj10aGlzfHx0O2xldCBEPWFyZ3VtZW50c1swXTtpZihEKXtTJiZTLnRyYW5zZmVyRXZlbnROYW1lJiYoRD1TLnRyYW5zZmVyRXZlbnROYW1lKEQpKTtjb25zdCAkPXh0W0RdO2lmKCQpe2NvbnN0IFg9JFtTbl0sRj0kW1RuXSxvZT12W1hdLGFlPXZbRl07aWYob2Upe2NvbnN0IGNlPW9lLnNsaWNlKCk7Zm9yKGxldCBTZT0wO1NlPGNlLmxlbmd0aDtTZSsrKXtjb25zdCBDZT1jZVtTZV07bGV0IFFuPUNlLm9yaWdpbmFsRGVsZWdhdGU/Q2Uub3JpZ2luYWxEZWxlZ2F0ZTpDZS5jYWxsYmFjazt0aGlzW3NdLmNhbGwodGhpcyxELFFuLENlLm9wdGlvbnMpfX1pZihhZSl7Y29uc3QgY2U9YWUuc2xpY2UoKTtmb3IobGV0IFNlPTA7U2U8Y2UubGVuZ3RoO1NlKyspe2NvbnN0IENlPWNlW1NlXTtsZXQgUW49Q2Uub3JpZ2luYWxEZWxlZ2F0ZT9DZS5vcmlnaW5hbERlbGVnYXRlOkNlLmNhbGxiYWNrO3RoaXNbc10uY2FsbCh0aGlzLEQsUW4sQ2Uub3B0aW9ucyl9fX19ZWxzZXtjb25zdCAkPU9iamVjdC5rZXlzKHYpO2ZvcihsZXQgWD0wO1g8JC5sZW5ndGg7WCsrKXtjb25zdCBGPSRbWF0sb2U9THYuZXhlYyhGKTtsZXQgYWU9b2UmJm9lWzFdO2FlJiZhZSE9PSJyZW1vdmVMaXN0ZW5lciImJnRoaXNbYV0uY2FsbCh0aGlzLGFlKX10aGlzW2FdLmNhbGwodGhpcywicmVtb3ZlTGlzdGVuZXIiKX1pZihCKXJldHVybiB0aGlzfSxDbihPW2ldLGRlKSxDbihPW3NdLEspLGVuJiZDbihPW2FdLGVuKSx2dCYmQ24oT1tvXSx2dCksITB9bGV0IFQ9W107Zm9yKGxldCBDPTA7QzxuLmxlbmd0aDtDKyspVFtDXT1fKG5bQ10scik7cmV0dXJuIFR9ZnVuY3Rpb24gVXYodCxlKXtpZighZSl7Y29uc3Qgcz1bXTtmb3IobGV0IG8gaW4gdCl7Y29uc3QgYT1Mdi5leGVjKG8pO2xldCBjPWEmJmFbMV07aWYoYyYmKCFlfHxjPT09ZSkpe2NvbnN0IHU9dFtvXTtpZih1KWZvcihsZXQgbD0wO2w8dS5sZW5ndGg7bCsrKXMucHVzaCh1W2xdKX19cmV0dXJuIHN9bGV0IG49eHRbZV07bnx8KEZ2KGUpLG49eHRbZV0pO2NvbnN0IHI9dFtuW1NuXV0saT10W25bVG5dXTtyZXR1cm4gcj9pP3IuY29uY2F0KGkpOnIuc2xpY2UoKTppP2kuc2xpY2UoKTpbXX1mdW5jdGlvbiBqQSh0LGUpe2NvbnN0IG49dC5FdmVudDtuJiZuLnByb3RvdHlwZSYmZS5wYXRjaE1ldGhvZChuLnByb3RvdHlwZSwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIixyPT5mdW5jdGlvbihpLHMpe2lbVnZdPSEwLHImJnIuYXBwbHkoaSxzKX0pfWZ1bmN0aW9uICRBKHQsZSxuLHIsaSl7Y29uc3Qgcz1ab25lLl9fc3ltYm9sX18ocik7aWYoZVtzXSlyZXR1cm47Y29uc3Qgbz1lW3NdPWVbcl07ZVtyXT1mdW5jdGlvbihhLGMsdSl7cmV0dXJuIGMmJmMucHJvdG90eXBlJiZpLmZvckVhY2goZnVuY3Rpb24obCl7Y29uc3QgaD1gJHtufS4ke3J9OjpgK2wsZD1jLnByb3RvdHlwZTt0cnl7aWYoZC5oYXNPd25Qcm9wZXJ0eShsKSl7Y29uc3QgZj10Lk9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcihkLGwpO2YmJmYudmFsdWU/KGYudmFsdWU9dC53cmFwV2l0aEN1cnJlbnRab25lKGYudmFsdWUsaCksdC5fcmVkZWZpbmVQcm9wZXJ0eShjLnByb3RvdHlwZSxsLGYpKTpkW2xdJiYoZFtsXT10LndyYXBXaXRoQ3VycmVudFpvbmUoZFtsXSxoKSl9ZWxzZSBkW2xdJiYoZFtsXT10LndyYXBXaXRoQ3VycmVudFpvbmUoZFtsXSxoKSl9Y2F0Y2h7fX0pLG8uY2FsbChlLGEsYyx1KX0sdC5hdHRhY2hPcmlnaW5Ub1BhdGNoZWQoZVtyXSxvKX1mdW5jdGlvbiBqdih0LGUsbil7aWYoIW58fG4ubGVuZ3RoPT09MClyZXR1cm4gZTtjb25zdCByPW4uZmlsdGVyKHM9PnMudGFyZ2V0PT09dCk7aWYoIXJ8fHIubGVuZ3RoPT09MClyZXR1cm4gZTtjb25zdCBpPXJbMF0uaWdub3JlUHJvcGVydGllcztyZXR1cm4gZS5maWx0ZXIocz0+aS5pbmRleE9mKHMpPT09LTEpfWZ1bmN0aW9uIFVnKHQsZSxuLHIpe2lmKCF0KXJldHVybjtjb25zdCBpPWp2KHQsZSxuKTtPdih0LGkscil9ZnVuY3Rpb24gYWgodCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLmZpbHRlcihlPT5lLnN0YXJ0c1dpdGgoIm9uIikmJmUubGVuZ3RoPjIpLm1hcChlPT5lLnN1YnN0cmluZygyKSl9ZnVuY3Rpb24gQkEodCxlKXtpZihLYyYmIWt2fHxab25lW3Quc3ltYm9sKCJwYXRjaEV2ZW50cyIpXSlyZXR1cm47Y29uc3Qgbj1lLl9fWm9uZV9pZ25vcmVfb25fcHJvcGVydGllcztsZXQgcj1bXTtpZihXZCl7Y29uc3QgaT13aW5kb3c7cj1yLmNvbmNhdChbIkRvY3VtZW50IiwiU1ZHRWxlbWVudCIsIkVsZW1lbnQiLCJIVE1MRWxlbWVudCIsIkhUTUxCb2R5RWxlbWVudCIsIkhUTUxNZWRpYUVsZW1lbnQiLCJIVE1MRnJhbWVTZXRFbGVtZW50IiwiSFRNTEZyYW1lRWxlbWVudCIsIkhUTUxJRnJhbWVFbGVtZW50IiwiSFRNTE1hcnF1ZWVFbGVtZW50IiwiV29ya2VyIl0pO2NvbnN0IHM9TEEoKT9be3RhcmdldDppLGlnbm9yZVByb3BlcnRpZXM6WyJlcnJvciJdfV06W107VWcoaSxhaChpKSxuJiZuLmNvbmNhdChzKSxqZChpKSl9cj1yLmNvbmNhdChbIlhNTEh0dHBSZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3RFdmVudFRhcmdldCIsIklEQkluZGV4IiwiSURCUmVxdWVzdCIsIklEQk9wZW5EQlJlcXVlc3QiLCJJREJEYXRhYmFzZSIsIklEQlRyYW5zYWN0aW9uIiwiSURCQ3Vyc29yIiwiV2ViU29ja2V0Il0pO2ZvcihsZXQgaT0wO2k8ci5sZW5ndGg7aSsrKXtjb25zdCBzPWVbcltpXV07cyYmcy5wcm90b3R5cGUmJlVnKHMucHJvdG90eXBlLGFoKHMucHJvdG90eXBlKSxuKX19Wm9uZS5fX2xvYWRfcGF0Y2goInV0aWwiLCh0LGUsbik9Pntjb25zdCByPWFoKHQpO24ucGF0Y2hPblByb3BlcnRpZXM9T3Ysbi5wYXRjaE1ldGhvZD1NbixuLmJpbmRBcmd1bWVudHM9emQsbi5wYXRjaE1hY3JvVGFzaz14QTtjb25zdCBpPWUuX19zeW1ib2xfXygiQkxBQ0tfTElTVEVEX0VWRU5UUyIpLHM9ZS5fX3N5bWJvbF9fKCJVTlBBVENIRURfRVZFTlRTIik7dFtzXSYmKHRbaV09dFtzXSksdFtpXSYmKGVbaV09ZVtzXT10W2ldKSxuLnBhdGNoRXZlbnRQcm90b3R5cGU9akEsbi5wYXRjaEV2ZW50VGFyZ2V0PVVBLG4uaXNJRU9yRWRnZT1WQSxuLk9iamVjdERlZmluZVByb3BlcnR5PVVkLG4uT2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yPVdzLG4uT2JqZWN0Q3JlYXRlPU1BLG4uQXJyYXlTbGljZT1OQSxuLnBhdGNoQ2xhc3M9S3Msbi53cmFwV2l0aEN1cnJlbnRab25lPUhkLG4uZmlsdGVyUHJvcGVydGllcz1qdixuLmF0dGFjaE9yaWdpblRvUGF0Y2hlZD1DbixuLl9yZWRlZmluZVByb3BlcnR5PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxuLnBhdGNoQ2FsbGJhY2tzPSRBLG4uZ2V0R2xvYmFsT2JqZWN0cz0oKT0+KHtnbG9iYWxTb3VyY2VzOnh2LHpvbmVTeW1ib2xFdmVudE5hbWVzOnh0LGV2ZW50TmFtZXM6cixpc0Jyb3dzZXI6V2QsaXNNaXg6a3YsaXNOb2RlOktjLFRSVUVfU1RSOlRuLEZBTFNFX1NUUjpTbixaT05FX1NZTUJPTF9QUkVGSVg6R3MsQUREX0VWRU5UX0xJU1RFTkVSX1NUUjokZCxSRU1PVkVfRVZFTlRfTElTVEVORVJfU1RSOkJkfSl9KTtmdW5jdGlvbiBIQSh0LGUpe2UucGF0Y2hNZXRob2QodCwicXVldWVNaWNyb3Rhc2siLG49PmZ1bmN0aW9uKHIsaSl7Wm9uZS5jdXJyZW50LnNjaGVkdWxlTWljcm9UYXNrKCJxdWV1ZU1pY3JvdGFzayIsaVswXSl9KX1jb25zdCB5YT1FZSgiem9uZVRhc2siKTtmdW5jdGlvbiBfaSh0LGUsbixyKXtsZXQgaT1udWxsLHM9bnVsbDtlKz1yLG4rPXI7Y29uc3Qgbz17fTtmdW5jdGlvbiBhKHUpe2NvbnN0IGw9dS5kYXRhO3JldHVybiBsLmFyZ3NbMF09ZnVuY3Rpb24oKXtyZXR1cm4gdS5pbnZva2UuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxsLmhhbmRsZUlkPWkuYXBwbHkodCxsLmFyZ3MpLHV9ZnVuY3Rpb24gYyh1KXtyZXR1cm4gcy5jYWxsKHQsdS5kYXRhLmhhbmRsZUlkKX1pPU1uKHQsZSx1PT5mdW5jdGlvbihsLGgpe2lmKHR5cGVvZiBoWzBdPT0iZnVuY3Rpb24iKXtjb25zdCBkPXtpc1BlcmlvZGljOnI9PT0iSW50ZXJ2YWwiLGRlbGF5OnI9PT0iVGltZW91dCJ8fHI9PT0iSW50ZXJ2YWwiP2hbMV18fDA6dm9pZCAwLGFyZ3M6aH0sZj1oWzBdO2hbMF09ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGYuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZpbmFsbHl7ZC5pc1BlcmlvZGljfHwodHlwZW9mIGQuaGFuZGxlSWQ9PSJudW1iZXIiP2RlbGV0ZSBvW2QuaGFuZGxlSWRdOmQuaGFuZGxlSWQmJihkLmhhbmRsZUlkW3lhXT1udWxsKSl9fTtjb25zdCBtPXFkKGUsaFswXSxkLGEsYyk7aWYoIW0pcmV0dXJuIG07Y29uc3QgeT1tLmRhdGEuaGFuZGxlSWQ7cmV0dXJuIHR5cGVvZiB5PT0ibnVtYmVyIj9vW3ldPW06eSYmKHlbeWFdPW0pLHkmJnkucmVmJiZ5LnVucmVmJiZ0eXBlb2YgeS5yZWY9PSJmdW5jdGlvbiImJnR5cGVvZiB5LnVucmVmPT0iZnVuY3Rpb24iJiYobS5yZWY9eS5yZWYuYmluZCh5KSxtLnVucmVmPXkudW5yZWYuYmluZCh5KSksdHlwZW9mIHk9PSJudW1iZXIifHx5P3k6bX1lbHNlIHJldHVybiB1LmFwcGx5KHQsaCl9KSxzPU1uKHQsbix1PT5mdW5jdGlvbihsLGgpe2NvbnN0IGQ9aFswXTtsZXQgZjt0eXBlb2YgZD09Im51bWJlciI/Zj1vW2RdOihmPWQmJmRbeWFdLGZ8fChmPWQpKSxmJiZ0eXBlb2YgZi50eXBlPT0ic3RyaW5nIj9mLnN0YXRlIT09Im5vdFNjaGVkdWxlZCImJihmLmNhbmNlbEZuJiZmLmRhdGEuaXNQZXJpb2RpY3x8Zi5ydW5Db3VudD09PTApJiYodHlwZW9mIGQ9PSJudW1iZXIiP2RlbGV0ZSBvW2RdOmQmJihkW3lhXT1udWxsKSxmLnpvbmUuY2FuY2VsVGFzayhmKSk6dS5hcHBseSh0LGgpfSl9ZnVuY3Rpb24gcUEodCxlKXtjb25zdHtpc0Jyb3dzZXI6bixpc01peDpyfT1lLmdldEdsb2JhbE9iamVjdHMoKTtpZighbiYmIXJ8fCF0LmN1c3RvbUVsZW1lbnRzfHwhKCJjdXN0b21FbGVtZW50cyJpbiB0KSlyZXR1cm47Y29uc3QgaT1bImNvbm5lY3RlZENhbGxiYWNrIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJhZG9wdGVkQ2FsbGJhY2siLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siLCJmb3JtQXNzb2NpYXRlZENhbGxiYWNrIiwiZm9ybURpc2FibGVkQ2FsbGJhY2siLCJmb3JtUmVzZXRDYWxsYmFjayIsImZvcm1TdGF0ZVJlc3RvcmVDYWxsYmFjayJdO2UucGF0Y2hDYWxsYmFja3MoZSx0LmN1c3RvbUVsZW1lbnRzLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSIsaSl9ZnVuY3Rpb24gekEodCxlKXtpZihab25lW2Uuc3ltYm9sKCJwYXRjaEV2ZW50VGFyZ2V0IildKXJldHVybjtjb25zdHtldmVudE5hbWVzOm4sem9uZVN5bWJvbEV2ZW50TmFtZXM6cixUUlVFX1NUUjppLEZBTFNFX1NUUjpzLFpPTkVfU1lNQk9MX1BSRUZJWDpvfT1lLmdldEdsb2JhbE9iamVjdHMoKTtmb3IobGV0IGM9MDtjPG4ubGVuZ3RoO2MrKyl7Y29uc3QgdT1uW2NdLGw9dStzLGg9dStpLGQ9bytsLGY9bytoO3JbdV09e30sclt1XVtzXT1kLHJbdV1baV09Zn1jb25zdCBhPXQuRXZlbnRUYXJnZXQ7aWYoISghYXx8IWEucHJvdG90eXBlKSlyZXR1cm4gZS5wYXRjaEV2ZW50VGFyZ2V0KHQsZSxbYSYmYS5wcm90b3R5cGVdKSwhMH1mdW5jdGlvbiBXQSh0LGUpe2UucGF0Y2hFdmVudFByb3RvdHlwZSh0LGUpfVpvbmUuX19sb2FkX3BhdGNoKCJsZWdhY3kiLHQ9Pntjb25zdCBlPXRbWm9uZS5fX3N5bWJvbF9fKCJsZWdhY3lQYXRjaCIpXTtlJiZlKCl9KTtab25lLl9fbG9hZF9wYXRjaCgidGltZXJzIix0PT57Y29uc3QgZT0ic2V0IixuPSJjbGVhciI7X2kodCxlLG4sIlRpbWVvdXQiKSxfaSh0LGUsbiwiSW50ZXJ2YWwiKSxfaSh0LGUsbiwiSW1tZWRpYXRlIil9KTtab25lLl9fbG9hZF9wYXRjaCgicmVxdWVzdEFuaW1hdGlvbkZyYW1lIix0PT57X2kodCwicmVxdWVzdCIsImNhbmNlbCIsIkFuaW1hdGlvbkZyYW1lIiksX2kodCwibW96UmVxdWVzdCIsIm1vekNhbmNlbCIsIkFuaW1hdGlvbkZyYW1lIiksX2kodCwid2Via2l0UmVxdWVzdCIsIndlYmtpdENhbmNlbCIsIkFuaW1hdGlvbkZyYW1lIil9KTtab25lLl9fbG9hZF9wYXRjaCgiYmxvY2tpbmciLCh0LGUpPT57Y29uc3Qgbj1bImFsZXJ0IiwicHJvbXB0IiwiY29uZmlybSJdO2ZvcihsZXQgcj0wO3I8bi5sZW5ndGg7cisrKXtjb25zdCBpPW5bcl07TW4odCxpLChzLG8sYSk9PmZ1bmN0aW9uKGMsdSl7cmV0dXJuIGUuY3VycmVudC5ydW4ocyx0LHUsYSl9KX19KTtab25lLl9fbG9hZF9wYXRjaCgiRXZlbnRUYXJnZXQiLCh0LGUsbik9PntXQSh0LG4pLHpBKHQsbik7Y29uc3Qgcj10LlhNTEh0dHBSZXF1ZXN0RXZlbnRUYXJnZXQ7ciYmci5wcm90b3R5cGUmJm4ucGF0Y2hFdmVudFRhcmdldCh0LG4sW3IucHJvdG90eXBlXSl9KTtab25lLl9fbG9hZF9wYXRjaCgiTXV0YXRpb25PYnNlcnZlciIsKHQsZSxuKT0+e0tzKCJNdXRhdGlvbk9ic2VydmVyIiksS3MoIldlYktpdE11dGF0aW9uT2JzZXJ2ZXIiKX0pO1pvbmUuX19sb2FkX3BhdGNoKCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsKHQsZSxuKT0+e0tzKCJJbnRlcnNlY3Rpb25PYnNlcnZlciIpfSk7Wm9uZS5fX2xvYWRfcGF0Y2goIkZpbGVSZWFkZXIiLCh0LGUsbik9PntLcygiRmlsZVJlYWRlciIpfSk7Wm9uZS5fX2xvYWRfcGF0Y2goIm9uX3Byb3BlcnR5IiwodCxlLG4pPT57QkEobix0KX0pO1pvbmUuX19sb2FkX3BhdGNoKCJjdXN0b21FbGVtZW50cyIsKHQsZSxuKT0+e3FBKHQsbil9KTtab25lLl9fbG9hZF9wYXRjaCgiWEhSIiwodCxlKT0+e2ModCk7Y29uc3Qgbj1FZSgieGhyVGFzayIpLHI9RWUoInhoclN5bmMiKSxpPUVlKCJ4aHJMaXN0ZW5lciIpLHM9RWUoInhoclNjaGVkdWxlZCIpLG89RWUoInhoclVSTCIpLGE9RWUoInhockVycm9yQmVmb3JlU2NoZWR1bGVkIik7ZnVuY3Rpb24gYyh1KXtjb25zdCBsPXUuWE1MSHR0cFJlcXVlc3Q7aWYoIWwpcmV0dXJuO2NvbnN0IGg9bC5wcm90b3R5cGU7ZnVuY3Rpb24gZChOKXtyZXR1cm4gTltuXX1sZXQgZj1oW2RsXSxtPWhbZmxdO2lmKCFmKXtjb25zdCBOPXUuWE1MSHR0cFJlcXVlc3RFdmVudFRhcmdldDtpZihOKXtjb25zdCBkZT1OLnByb3RvdHlwZTtmPWRlW2RsXSxtPWRlW2ZsXX19Y29uc3QgeT0icmVhZHlzdGF0ZWNoYW5nZSIsXz0ic2NoZWR1bGVkIjtmdW5jdGlvbiBUKE4pe2NvbnN0IGRlPU4uZGF0YSxLPWRlLnRhcmdldDtLW3NdPSExLEtbYV09ITE7Y29uc3QgdnQ9S1tpXTtmfHwoZj1LW2RsXSxtPUtbZmxdKSx2dCYmbS5jYWxsKEsseSx2dCk7Y29uc3QgZW49S1tpXT0oKT0+e2lmKEsucmVhZHlTdGF0ZT09PUsuRE9ORSlpZighZGUuYWJvcnRlZCYmS1tzXSYmTi5zdGF0ZT09PV8pe2NvbnN0IGtlPUtbZS5fX3N5bWJvbF9fKCJsb2FkZmFsc2UiKV07aWYoSy5zdGF0dXMhPT0wJiZrZSYma2UubGVuZ3RoPjApe2NvbnN0IEh0PU4uaW52b2tlO04uaW52b2tlPWZ1bmN0aW9uKCl7Y29uc3QgVHQ9S1tlLl9fc3ltYm9sX18oImxvYWRmYWxzZSIpXTtmb3IobGV0IE9lPTA7T2U8VHQubGVuZ3RoO09lKyspVHRbT2VdPT09TiYmVHQuc3BsaWNlKE9lLDEpOyFkZS5hYm9ydGVkJiZOLnN0YXRlPT09XyYmSHQuY2FsbChOKX0sa2UucHVzaChOKX1lbHNlIE4uaW52b2tlKCl9ZWxzZSFkZS5hYm9ydGVkJiZLW3NdPT09ITEmJihLW2FdPSEwKX07cmV0dXJuIGYuY2FsbChLLHksZW4pLEtbbl18fChLW25dPU4pLE8uYXBwbHkoSyxkZS5hcmdzKSxLW3NdPSEwLE59ZnVuY3Rpb24gQygpe31mdW5jdGlvbiBTKE4pe2NvbnN0IGRlPU4uZGF0YTtyZXR1cm4gZGUuYWJvcnRlZD0hMCxmZS5hcHBseShkZS50YXJnZXQsZGUuYXJncyl9Y29uc3QgVj1NbihoLCJvcGVuIiwoKT0+ZnVuY3Rpb24oTixkZSl7cmV0dXJuIE5bcl09ZGVbMl09PSExLE5bb109ZGVbMV0sVi5hcHBseShOLGRlKX0pLFU9IlhNTEh0dHBSZXF1ZXN0LnNlbmQiLEg9RWUoImZldGNoVGFza0Fib3J0aW5nIiksQj1FZSgiZmV0Y2hUYXNrU2NoZWR1bGluZyIpLE89TW4oaCwic2VuZCIsKCk9PmZ1bmN0aW9uKE4sZGUpe2lmKGUuY3VycmVudFtCXT09PSEwfHxOW3JdKXJldHVybiBPLmFwcGx5KE4sZGUpO3tjb25zdCBLPXt0YXJnZXQ6Tix1cmw6TltvXSxpc1BlcmlvZGljOiExLGFyZ3M6ZGUsYWJvcnRlZDohMX0sdnQ9cWQoVSxDLEssVCxTKTtOJiZOW2FdPT09ITAmJiFLLmFib3J0ZWQmJnZ0LnN0YXRlPT09XyYmdnQuaW52b2tlKCl9fSksZmU9TW4oaCwiYWJvcnQiLCgpPT5mdW5jdGlvbihOLGRlKXtjb25zdCBLPWQoTik7aWYoSyYmdHlwZW9mIEsudHlwZT09InN0cmluZyIpe2lmKEsuY2FuY2VsRm49PW51bGx8fEsuZGF0YSYmSy5kYXRhLmFib3J0ZWQpcmV0dXJuO0suem9uZS5jYW5jZWxUYXNrKEspfWVsc2UgaWYoZS5jdXJyZW50W0hdPT09ITApcmV0dXJuIGZlLmFwcGx5KE4sZGUpfSl9fSk7Wm9uZS5fX2xvYWRfcGF0Y2goImdlb2xvY2F0aW9uIix0PT57dC5uYXZpZ2F0b3ImJnQubmF2aWdhdG9yLmdlb2xvY2F0aW9uJiZPQSh0Lm5hdmlnYXRvci5nZW9sb2NhdGlvbixbImdldEN1cnJlbnRQb3NpdGlvbiIsIndhdGNoUG9zaXRpb24iXSl9KTtab25lLl9fbG9hZF9wYXRjaCgiUHJvbWlzZVJlamVjdGlvbkV2ZW50IiwodCxlKT0+e2Z1bmN0aW9uIG4ocil7cmV0dXJuIGZ1bmN0aW9uKGkpe1V2KHQscikuZm9yRWFjaChvPT57Y29uc3QgYT10LlByb21pc2VSZWplY3Rpb25FdmVudDtpZihhKXtjb25zdCBjPW5ldyBhKHIse3Byb21pc2U6aS5wcm9taXNlLHJlYXNvbjppLnJlamVjdGlvbn0pO28uaW52b2tlKGMpfX0pfX10LlByb21pc2VSZWplY3Rpb25FdmVudCYmKGVbRWUoInVuaGFuZGxlZFByb21pc2VSZWplY3Rpb25IYW5kbGVyIildPW4oInVuaGFuZGxlZHJlamVjdGlvbiIpLGVbRWUoInJlamVjdGlvbkhhbmRsZWRIYW5kbGVyIildPW4oInJlamVjdGlvbmhhbmRsZWQiKSl9KTtab25lLl9fbG9hZF9wYXRjaCgicXVldWVNaWNyb3Rhc2siLCh0LGUsbik9PntIQSh0LG4pfSk7ZnVuY3Rpb24gR0EodCxlKXtyZXR1cm4gT2JqZWN0LmlzKHQsZSl9bGV0IEhlPW51bGwsUHM9ITEsVmE9MTtjb25zdCBOaT1TeW1ib2woIlNJR05BTCIpO2Z1bmN0aW9uIEtlKHQpe2NvbnN0IGU9SGU7cmV0dXJuIEhlPXQsZX1mdW5jdGlvbiBLQSgpe3JldHVybiBQc31jb25zdCBHZD17dmVyc2lvbjowLGxhc3RDbGVhbkVwb2NoOjAsZGlydHk6ITEscHJvZHVjZXJOb2RlOnZvaWQgMCxwcm9kdWNlckxhc3RSZWFkVmVyc2lvbjp2b2lkIDAscHJvZHVjZXJJbmRleE9mVGhpczp2b2lkIDAsbmV4dFByb2R1Y2VySW5kZXg6MCxsaXZlQ29uc3VtZXJOb2RlOnZvaWQgMCxsaXZlQ29uc3VtZXJJbmRleE9mVGhpczp2b2lkIDAsY29uc3VtZXJBbGxvd1NpZ25hbFdyaXRlczohMSxjb25zdW1lcklzQWx3YXlzTGl2ZTohMSxwcm9kdWNlck11c3RSZWNvbXB1dGU6KCk9PiExLHByb2R1Y2VyUmVjb21wdXRlVmFsdWU6KCk9Pnt9LGNvbnN1bWVyTWFya2VkRGlydHk6KCk9Pnt9LGNvbnN1bWVyT25TaWduYWxSZWFkOigpPT57fX07ZnVuY3Rpb24gUUEodCl7aWYoUHMpdGhyb3cgbmV3IEVycm9yKCIiKTtpZihIZT09PW51bGwpcmV0dXJuO0hlLmNvbnN1bWVyT25TaWduYWxSZWFkKHQpO2NvbnN0IGU9SGUubmV4dFByb2R1Y2VySW5kZXgrKztpZihraShIZSksZTxIZS5wcm9kdWNlck5vZGUubGVuZ3RoJiZIZS5wcm9kdWNlck5vZGVbZV0hPT10JiZRcyhIZSkpe2NvbnN0IG49SGUucHJvZHVjZXJOb2RlW2VdO1FjKG4sSGUucHJvZHVjZXJJbmRleE9mVGhpc1tlXSl9SGUucHJvZHVjZXJOb2RlW2VdIT09dCYmKEhlLnByb2R1Y2VyTm9kZVtlXT10LEhlLnByb2R1Y2VySW5kZXhPZlRoaXNbZV09UXMoSGUpP0d2KHQsSGUsZSk6MCksSGUucHJvZHVjZXJMYXN0UmVhZFZlcnNpb25bZV09dC52ZXJzaW9ufWZ1bmN0aW9uIFpBKCl7VmErK31mdW5jdGlvbiBYQSh0KXtpZighKFFzKHQpJiYhdC5kaXJ0eSkmJiEoIXQuZGlydHkmJnQubGFzdENsZWFuRXBvY2g9PT1WYSkpe2lmKCF0LnByb2R1Y2VyTXVzdFJlY29tcHV0ZSh0KSYmIUtkKHQpKXt0LmRpcnR5PSExLHQubGFzdENsZWFuRXBvY2g9VmE7cmV0dXJufXQucHJvZHVjZXJSZWNvbXB1dGVWYWx1ZSh0KSx0LmRpcnR5PSExLHQubGFzdENsZWFuRXBvY2g9VmF9fWZ1bmN0aW9uICR2KHQpe2lmKHQubGl2ZUNvbnN1bWVyTm9kZT09PXZvaWQgMClyZXR1cm47Y29uc3QgZT1QcztQcz0hMDt0cnl7Zm9yKGNvbnN0IG4gb2YgdC5saXZlQ29uc3VtZXJOb2RlKW4uZGlydHl8fEh2KG4pfWZpbmFsbHl7UHM9ZX19ZnVuY3Rpb24gQnYoKXtyZXR1cm4gSGU/LmNvbnN1bWVyQWxsb3dTaWduYWxXcml0ZXMhPT0hMX1mdW5jdGlvbiBIdih0KXt0LmRpcnR5PSEwLCR2KHQpLHQuY29uc3VtZXJNYXJrZWREaXJ0eT8uKHQpfWZ1bmN0aW9uIHF2KHQpe3JldHVybiB0JiYodC5uZXh0UHJvZHVjZXJJbmRleD0wKSxLZSh0KX1mdW5jdGlvbiB6dih0LGUpe2lmKEtlKGUpLCEoIXR8fHQucHJvZHVjZXJOb2RlPT09dm9pZCAwfHx0LnByb2R1Y2VySW5kZXhPZlRoaXM9PT12b2lkIDB8fHQucHJvZHVjZXJMYXN0UmVhZFZlcnNpb249PT12b2lkIDApKXtpZihRcyh0KSlmb3IobGV0IG49dC5uZXh0UHJvZHVjZXJJbmRleDtuPHQucHJvZHVjZXJOb2RlLmxlbmd0aDtuKyspUWModC5wcm9kdWNlck5vZGVbbl0sdC5wcm9kdWNlckluZGV4T2ZUaGlzW25dKTtmb3IoO3QucHJvZHVjZXJOb2RlLmxlbmd0aD50Lm5leHRQcm9kdWNlckluZGV4Oyl0LnByb2R1Y2VyTm9kZS5wb3AoKSx0LnByb2R1Y2VyTGFzdFJlYWRWZXJzaW9uLnBvcCgpLHQucHJvZHVjZXJJbmRleE9mVGhpcy5wb3AoKX19ZnVuY3Rpb24gS2QodCl7a2kodCk7Zm9yKGxldCBlPTA7ZTx0LnByb2R1Y2VyTm9kZS5sZW5ndGg7ZSsrKXtjb25zdCBuPXQucHJvZHVjZXJOb2RlW2VdLHI9dC5wcm9kdWNlckxhc3RSZWFkVmVyc2lvbltlXTtpZihyIT09bi52ZXJzaW9ufHwoWEEobiksciE9PW4udmVyc2lvbikpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gV3YodCl7aWYoa2kodCksUXModCkpZm9yKGxldCBlPTA7ZTx0LnByb2R1Y2VyTm9kZS5sZW5ndGg7ZSsrKVFjKHQucHJvZHVjZXJOb2RlW2VdLHQucHJvZHVjZXJJbmRleE9mVGhpc1tlXSk7dC5wcm9kdWNlck5vZGUubGVuZ3RoPXQucHJvZHVjZXJMYXN0UmVhZFZlcnNpb24ubGVuZ3RoPXQucHJvZHVjZXJJbmRleE9mVGhpcy5sZW5ndGg9MCx0LmxpdmVDb25zdW1lck5vZGUmJih0LmxpdmVDb25zdW1lck5vZGUubGVuZ3RoPXQubGl2ZUNvbnN1bWVySW5kZXhPZlRoaXMubGVuZ3RoPTApfWZ1bmN0aW9uIEd2KHQsZSxuKXtpZihLdih0KSxraSh0KSx0LmxpdmVDb25zdW1lck5vZGUubGVuZ3RoPT09MClmb3IobGV0IHI9MDtyPHQucHJvZHVjZXJOb2RlLmxlbmd0aDtyKyspdC5wcm9kdWNlckluZGV4T2ZUaGlzW3JdPUd2KHQucHJvZHVjZXJOb2RlW3JdLHQscik7cmV0dXJuIHQubGl2ZUNvbnN1bWVySW5kZXhPZlRoaXMucHVzaChuKSx0LmxpdmVDb25zdW1lck5vZGUucHVzaChlKS0xfWZ1bmN0aW9uIFFjKHQsZSl7aWYoS3YodCksa2kodCksdC5saXZlQ29uc3VtZXJOb2RlLmxlbmd0aD09PTEpZm9yKGxldCByPTA7cjx0LnByb2R1Y2VyTm9kZS5sZW5ndGg7cisrKVFjKHQucHJvZHVjZXJOb2RlW3JdLHQucHJvZHVjZXJJbmRleE9mVGhpc1tyXSk7Y29uc3Qgbj10LmxpdmVDb25zdW1lck5vZGUubGVuZ3RoLTE7aWYodC5saXZlQ29uc3VtZXJOb2RlW2VdPXQubGl2ZUNvbnN1bWVyTm9kZVtuXSx0LmxpdmVDb25zdW1lckluZGV4T2ZUaGlzW2VdPXQubGl2ZUNvbnN1bWVySW5kZXhPZlRoaXNbbl0sdC5saXZlQ29uc3VtZXJOb2RlLmxlbmd0aC0tLHQubGl2ZUNvbnN1bWVySW5kZXhPZlRoaXMubGVuZ3RoLS0sZTx0LmxpdmVDb25zdW1lck5vZGUubGVuZ3RoKXtjb25zdCByPXQubGl2ZUNvbnN1bWVySW5kZXhPZlRoaXNbZV0saT10LmxpdmVDb25zdW1lck5vZGVbZV07a2koaSksaS5wcm9kdWNlckluZGV4T2ZUaGlzW3JdPWV9fWZ1bmN0aW9uIFFzKHQpe3JldHVybiB0LmNvbnN1bWVySXNBbHdheXNMaXZlfHwodD8ubGl2ZUNvbnN1bWVyTm9kZT8ubGVuZ3RoPz8wKT4wfWZ1bmN0aW9uIGtpKHQpe3QucHJvZHVjZXJOb2RlPz8odC5wcm9kdWNlck5vZGU9W10pLHQucHJvZHVjZXJJbmRleE9mVGhpcz8/KHQucHJvZHVjZXJJbmRleE9mVGhpcz1bXSksdC5wcm9kdWNlckxhc3RSZWFkVmVyc2lvbj8/KHQucHJvZHVjZXJMYXN0UmVhZFZlcnNpb249W10pfWZ1bmN0aW9uIEt2KHQpe3QubGl2ZUNvbnN1bWVyTm9kZT8/KHQubGl2ZUNvbnN1bWVyTm9kZT1bXSksdC5saXZlQ29uc3VtZXJJbmRleE9mVGhpcz8/KHQubGl2ZUNvbnN1bWVySW5kZXhPZlRoaXM9W10pfWZ1bmN0aW9uIFlBKCl7dGhyb3cgbmV3IEVycm9yfWxldCBRdj1ZQTtmdW5jdGlvbiBadigpe1F2KCl9ZnVuY3Rpb24gSkEodCl7UXY9dH1mdW5jdGlvbiBlUih0KXtjb25zdCBlPU9iamVjdC5jcmVhdGUoblIpO2UudmFsdWU9dDtjb25zdCBuPSgpPT4oUUEoZSksZS52YWx1ZSk7cmV0dXJuIG5bTmldPWUsbn1mdW5jdGlvbiBYdih0LGUpe0J2KCl8fFp2KCksdC5lcXVhbCh0LnZhbHVlLGUpfHwodC52YWx1ZT1lLHJSKHQpKX1mdW5jdGlvbiB0Uih0LGUpe0J2KCl8fFp2KCksWHYodCxlKHQudmFsdWUpKX1jb25zdCBuUj17Li4uR2QsZXF1YWw6R0EsdmFsdWU6dm9pZCAwfTtmdW5jdGlvbiByUih0KXt0LnZlcnNpb24rKyxaQSgpLCR2KHQpfWZ1bmN0aW9uIGlSKHQsZSxuKXtjb25zdCByPU9iamVjdC5jcmVhdGUoc1IpO24mJihyLmNvbnN1bWVyQWxsb3dTaWduYWxXcml0ZXM9ITApLHIuZm49dCxyLnNjaGVkdWxlPWU7Y29uc3QgaT1jPT57ci5jbGVhbnVwRm49Y307ZnVuY3Rpb24gcyhjKXtyZXR1cm4gYy5mbj09PW51bGwmJmMuc2NoZWR1bGU9PT1udWxsfWZ1bmN0aW9uIG8oYyl7cyhjKXx8KFd2KGMpLGMuY2xlYW51cEZuKCksYy5mbj1udWxsLGMuc2NoZWR1bGU9bnVsbCxjLmNsZWFudXBGbj1jaCl9Y29uc3QgYT0oKT0+e2lmKHIuZm49PT1udWxsKXJldHVybjtpZihLQSgpKXRocm93IG5ldyBFcnJvcigiU2NoZWR1bGVycyBjYW5ub3Qgc3luY2hyb25vdXNseSBleGVjdXRlIHdhdGNoZXMgd2hpbGUgc2NoZWR1bGluZy4iKTtpZihyLmRpcnR5PSExLHIuaGFzUnVuJiYhS2QocikpcmV0dXJuO3IuaGFzUnVuPSEwO2NvbnN0IGM9cXYocik7dHJ5e3IuY2xlYW51cEZuKCksci5jbGVhbnVwRm49Y2gsci5mbihpKX1maW5hbGx5e3p2KHIsYyl9fTtyZXR1cm4gci5yZWY9e25vdGlmeTooKT0+SHYocikscnVuOmEsY2xlYW51cDooKT0+ci5jbGVhbnVwRm4oKSxkZXN0cm95OigpPT5vKHIpLFtOaV06cn0sci5yZWZ9Y29uc3QgY2g9KCk9Pnt9LHNSPXsuLi5HZCxjb25zdW1lcklzQWx3YXlzTGl2ZTohMCxjb25zdW1lckFsbG93U2lnbmFsV3JpdGVzOiExLGNvbnN1bWVyTWFya2VkRGlydHk6dD0+e3Quc2NoZWR1bGUhPT1udWxsJiZ0LnNjaGVkdWxlKHQucmVmKX0saGFzUnVuOiExLGNsZWFudXBGbjpjaH07dmFyIHVoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHVoPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihuLHIpe24uX19wcm90b19fPXJ9fHxmdW5jdGlvbihuLHIpe2Zvcih2YXIgaSBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLGkpJiYobltpXT1yW2ldKX0sdWgodCxlKX07ZnVuY3Rpb24gJHQodCxlKXtpZih0eXBlb2YgZSE9ImZ1bmN0aW9uIiYmZSE9PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSAiK1N0cmluZyhlKSsiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGwiKTt1aCh0LGUpO2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9dC5wcm90b3R5cGU9ZT09PW51bGw/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfWZ1bmN0aW9uIFFkKHQsZSl7dmFyIG49e307Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJmUuaW5kZXhPZihyKTwwJiYobltyXT10W3JdKTtpZih0IT1udWxsJiZ0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz09ImZ1bmN0aW9uIilmb3IodmFyIGk9MCxyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7aTxyLmxlbmd0aDtpKyspZS5pbmRleE9mKHJbaV0pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0LHJbaV0pJiYobltyW2ldXT10W3JbaV1dKTtyZXR1cm4gbn1mdW5jdGlvbiBvUih0LGUsbixyKXtmdW5jdGlvbiBpKHMpe3JldHVybiBzIGluc3RhbmNlb2Ygbj9zOm5ldyBuKGZ1bmN0aW9uKG8pe28ocyl9KX1yZXR1cm4gbmV3KG58fChuPVByb21pc2UpKShmdW5jdGlvbihzLG8pe2Z1bmN0aW9uIGEobCl7dHJ5e3Uoci5uZXh0KGwpKX1jYXRjaChoKXtvKGgpfX1mdW5jdGlvbiBjKGwpe3RyeXt1KHIudGhyb3cobCkpfWNhdGNoKGgpe28oaCl9fWZ1bmN0aW9uIHUobCl7bC5kb25lP3MobC52YWx1ZSk6aShsLnZhbHVlKS50aGVuKGEsYyl9dSgocj1yLmFwcGx5KHQsZXx8W10pKS5uZXh0KCkpfSl9ZnVuY3Rpb24gWXYodCxlKXt2YXIgbj17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoc1swXSYxKXRocm93IHNbMV07cmV0dXJuIHNbMV19LHRyeXM6W10sb3BzOltdfSxyLGkscyxvO3JldHVybiBvPXtuZXh0OmEoMCksdGhyb3c6YSgxKSxyZXR1cm46YSgyKX0sdHlwZW9mIFN5bWJvbD09ImZ1bmN0aW9uIiYmKG9bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksbztmdW5jdGlvbiBhKHUpe3JldHVybiBmdW5jdGlvbihsKXtyZXR1cm4gYyhbdSxsXSl9fWZ1bmN0aW9uIGModSl7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDtvJiYobz0wLHVbMF0mJihuPTApKSxuOyl0cnl7aWYocj0xLGkmJihzPXVbMF0mMj9pLnJldHVybjp1WzBdP2kudGhyb3d8fCgocz1pLnJldHVybikmJnMuY2FsbChpKSwwKTppLm5leHQpJiYhKHM9cy5jYWxsKGksdVsxXSkpLmRvbmUpcmV0dXJuIHM7c3dpdGNoKGk9MCxzJiYodT1bdVswXSYyLHMudmFsdWVdKSx1WzBdKXtjYXNlIDA6Y2FzZSAxOnM9dTticmVhaztjYXNlIDQ6cmV0dXJuIG4ubGFiZWwrKyx7dmFsdWU6dVsxXSxkb25lOiExfTtjYXNlIDU6bi5sYWJlbCsrLGk9dVsxXSx1PVswXTtjb250aW51ZTtjYXNlIDc6dT1uLm9wcy5wb3AoKSxuLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZihzPW4udHJ5cywhKHM9cy5sZW5ndGg+MCYmc1tzLmxlbmd0aC0xXSkmJih1WzBdPT09Nnx8dVswXT09PTIpKXtuPTA7Y29udGludWV9aWYodVswXT09PTMmJighc3x8dVsxXT5zWzBdJiZ1WzFdPHNbM10pKXtuLmxhYmVsPXVbMV07YnJlYWt9aWYodVswXT09PTYmJm4ubGFiZWw8c1sxXSl7bi5sYWJlbD1zWzFdLHM9dTticmVha31pZihzJiZuLmxhYmVsPHNbMl0pe24ubGFiZWw9c1syXSxuLm9wcy5wdXNoKHUpO2JyZWFrfXNbMl0mJm4ub3BzLnBvcCgpLG4udHJ5cy5wb3AoKTtjb250aW51ZX11PWUuY2FsbCh0LG4pfWNhdGNoKGwpe3U9WzYsbF0saT0wfWZpbmFsbHl7cj1zPTB9aWYodVswXSY1KXRocm93IHVbMV07cmV0dXJue3ZhbHVlOnVbMF0/dVsxXTp2b2lkIDAsZG9uZTohMH19fWZ1bmN0aW9uIExyKHQpe3ZhciBlPXR5cGVvZiBTeW1ib2w9PSJmdW5jdGlvbiImJlN5bWJvbC5pdGVyYXRvcixuPWUmJnRbZV0scj0wO2lmKG4pcmV0dXJuIG4uY2FsbCh0KTtpZih0JiZ0eXBlb2YgdC5sZW5ndGg9PSJudW1iZXIiKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHQmJnI+PXQubGVuZ3RoJiYodD12b2lkIDApLHt2YWx1ZTp0JiZ0W3IrK10sZG9uZTohdH19fTt0aHJvdyBuZXcgVHlwZUVycm9yKGU/Ik9iamVjdCBpcyBub3QgaXRlcmFibGUuIjoiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpfWZ1bmN0aW9uIFpzKHQsZSl7dmFyIG49dHlwZW9mIFN5bWJvbD09ImZ1bmN0aW9uIiYmdFtTeW1ib2wuaXRlcmF0b3JdO2lmKCFuKXJldHVybiB0O3ZhciByPW4uY2FsbCh0KSxpLHM9W10sbzt0cnl7Zm9yKDsoZT09PXZvaWQgMHx8ZS0tID4wKSYmIShpPXIubmV4dCgpKS5kb25lOylzLnB1c2goaS52YWx1ZSl9Y2F0Y2goYSl7bz17ZXJyb3I6YX19ZmluYWxseXt0cnl7aSYmIWkuZG9uZSYmKG49ci5yZXR1cm4pJiZuLmNhbGwocil9ZmluYWxseXtpZihvKXRocm93IG8uZXJyb3J9fXJldHVybiBzfWZ1bmN0aW9uIFhzKHQsZSxuKXtpZihufHxhcmd1bWVudHMubGVuZ3RoPT09Milmb3IodmFyIHI9MCxpPWUubGVuZ3RoLHM7cjxpO3IrKykoc3x8IShyIGluIGUpKSYmKHN8fChzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUsMCxyKSksc1tyXT1lW3JdKTtyZXR1cm4gdC5jb25jYXQoc3x8QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkpfWZ1bmN0aW9uIEVpKHQpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgRWk/KHRoaXMudj10LHRoaXMpOm5ldyBFaSh0KX1mdW5jdGlvbiBhUih0LGUsbil7aWYoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKXRocm93IG5ldyBUeXBlRXJyb3IoIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpO3ZhciByPW4uYXBwbHkodCxlfHxbXSksaSxzPVtdO3JldHVybiBpPXt9LG8oIm5leHQiKSxvKCJ0aHJvdyIpLG8oInJldHVybiIpLGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGk7ZnVuY3Rpb24gbyhkKXtyW2RdJiYoaVtkXT1mdW5jdGlvbihmKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24obSx5KXtzLnB1c2goW2QsZixtLHldKT4xfHxhKGQsZil9KX0pfWZ1bmN0aW9uIGEoZCxmKXt0cnl7YyhyW2RdKGYpKX1jYXRjaChtKXtoKHNbMF1bM10sbSl9fWZ1bmN0aW9uIGMoZCl7ZC52YWx1ZSBpbnN0YW5jZW9mIEVpP1Byb21pc2UucmVzb2x2ZShkLnZhbHVlLnYpLnRoZW4odSxsKTpoKHNbMF1bMl0sZCl9ZnVuY3Rpb24gdShkKXthKCJuZXh0IixkKX1mdW5jdGlvbiBsKGQpe2EoInRocm93IixkKX1mdW5jdGlvbiBoKGQsZil7ZChmKSxzLnNoaWZ0KCkscy5sZW5ndGgmJmEoc1swXVswXSxzWzBdWzFdKX19ZnVuY3Rpb24gY1IodCl7aWYoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKXRocm93IG5ldyBUeXBlRXJyb3IoIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpO3ZhciBlPXRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdLG47cmV0dXJuIGU/ZS5jYWxsKHQpOih0PXR5cGVvZiBMcj09ImZ1bmN0aW9uIj9Mcih0KTp0W1N5bWJvbC5pdGVyYXRvcl0oKSxuPXt9LHIoIm5leHQiKSxyKCJ0aHJvdyIpLHIoInJldHVybiIpLG5bU3ltYm9sLmFzeW5jSXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LG4pO2Z1bmN0aW9uIHIocyl7bltzXT10W3NdJiZmdW5jdGlvbihvKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYSxjKXtvPXRbc10obyksaShhLGMsby5kb25lLG8udmFsdWUpfSl9fWZ1bmN0aW9uIGkocyxvLGEsYyl7UHJvbWlzZS5yZXNvbHZlKGMpLnRoZW4oZnVuY3Rpb24odSl7cyh7dmFsdWU6dSxkb25lOmF9KX0sbyl9fWZ1bmN0aW9uIERlKHQpe3JldHVybiB0eXBlb2YgdD09ImZ1bmN0aW9uIn1mdW5jdGlvbiBaZCh0KXt2YXIgZT1mdW5jdGlvbihyKXtFcnJvci5jYWxsKHIpLHIuc3RhY2s9bmV3IEVycm9yKCkuc3RhY2t9LG49dChlKTtyZXR1cm4gbi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLG4ucHJvdG90eXBlLmNvbnN0cnVjdG9yPW4sbn12YXIgZ2w9WmQoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3QodGhpcyksdGhpcy5tZXNzYWdlPW4/bi5sZW5ndGgrYCBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOgpgK24ubWFwKGZ1bmN0aW9uKHIsaSl7cmV0dXJuIGkrMSsiKSAiK3IudG9TdHJpbmcoKX0pLmpvaW4oYAogIGApOiIiLHRoaXMubmFtZT0iVW5zdWJzY3JpcHRpb25FcnJvciIsdGhpcy5lcnJvcnM9bn19KTtmdW5jdGlvbiBvYyh0LGUpe2lmKHQpe3ZhciBuPXQuaW5kZXhPZihlKTswPD1uJiZ0LnNwbGljZShuLDEpfX12YXIgcG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3RoaXMuaW5pdGlhbFRlYXJkb3duPWUsdGhpcy5jbG9zZWQ9ITEsdGhpcy5fcGFyZW50YWdlPW51bGwsdGhpcy5fZmluYWxpemVycz1udWxsfXJldHVybiB0LnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbigpe3ZhciBlLG4scixpLHM7aWYoIXRoaXMuY2xvc2VkKXt0aGlzLmNsb3NlZD0hMDt2YXIgbz10aGlzLl9wYXJlbnRhZ2U7aWYobylpZih0aGlzLl9wYXJlbnRhZ2U9bnVsbCxBcnJheS5pc0FycmF5KG8pKXRyeXtmb3IodmFyIGE9THIobyksYz1hLm5leHQoKTshYy5kb25lO2M9YS5uZXh0KCkpe3ZhciB1PWMudmFsdWU7dS5yZW1vdmUodGhpcyl9fWNhdGNoKHkpe2U9e2Vycm9yOnl9fWZpbmFsbHl7dHJ5e2MmJiFjLmRvbmUmJihuPWEucmV0dXJuKSYmbi5jYWxsKGEpfWZpbmFsbHl7aWYoZSl0aHJvdyBlLmVycm9yfX1lbHNlIG8ucmVtb3ZlKHRoaXMpO3ZhciBsPXRoaXMuaW5pdGlhbFRlYXJkb3duO2lmKERlKGwpKXRyeXtsKCl9Y2F0Y2goeSl7cz15IGluc3RhbmNlb2YgZ2w/eS5lcnJvcnM6W3ldfXZhciBoPXRoaXMuX2ZpbmFsaXplcnM7aWYoaCl7dGhpcy5fZmluYWxpemVycz1udWxsO3RyeXtmb3IodmFyIGQ9THIoaCksZj1kLm5leHQoKTshZi5kb25lO2Y9ZC5uZXh0KCkpe3ZhciBtPWYudmFsdWU7dHJ5e2pnKG0pfWNhdGNoKHkpe3M9cz8/W10seSBpbnN0YW5jZW9mIGdsP3M9WHMoWHMoW10sWnMocykpLFpzKHkuZXJyb3JzKSk6cy5wdXNoKHkpfX19Y2F0Y2goeSl7cj17ZXJyb3I6eX19ZmluYWxseXt0cnl7ZiYmIWYuZG9uZSYmKGk9ZC5yZXR1cm4pJiZpLmNhbGwoZCl9ZmluYWxseXtpZihyKXRocm93IHIuZXJyb3J9fX1pZihzKXRocm93IG5ldyBnbChzKX19LHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXt2YXIgbjtpZihlJiZlIT09dGhpcylpZih0aGlzLmNsb3NlZClqZyhlKTtlbHNle2lmKGUgaW5zdGFuY2VvZiB0KXtpZihlLmNsb3NlZHx8ZS5faGFzUGFyZW50KHRoaXMpKXJldHVybjtlLl9hZGRQYXJlbnQodGhpcyl9KHRoaXMuX2ZpbmFsaXplcnM9KG49dGhpcy5fZmluYWxpemVycykhPT1udWxsJiZuIT09dm9pZCAwP246W10pLnB1c2goZSl9fSx0LnByb3RvdHlwZS5faGFzUGFyZW50PWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMuX3BhcmVudGFnZTtyZXR1cm4gbj09PWV8fEFycmF5LmlzQXJyYXkobikmJm4uaW5jbHVkZXMoZSl9LHQucHJvdG90eXBlLl9hZGRQYXJlbnQ9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5fcGFyZW50YWdlO3RoaXMuX3BhcmVudGFnZT1BcnJheS5pc0FycmF5KG4pPyhuLnB1c2goZSksbik6bj9bbixlXTplfSx0LnByb3RvdHlwZS5fcmVtb3ZlUGFyZW50PWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMuX3BhcmVudGFnZTtuPT09ZT90aGlzLl9wYXJlbnRhZ2U9bnVsbDpBcnJheS5pc0FycmF5KG4pJiZvYyhuLGUpfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5fZmluYWxpemVycztuJiZvYyhuLGUpLGUgaW5zdGFuY2VvZiB0JiZlLl9yZW1vdmVQYXJlbnQodGhpcyl9LHQuRU1QVFk9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgdDtyZXR1cm4gZS5jbG9zZWQ9ITAsZX0oKSx0fSgpLEp2PXBuLkVNUFRZO2Z1bmN0aW9uIGVfKHQpe3JldHVybiB0IGluc3RhbmNlb2YgcG58fHQmJiJjbG9zZWQiaW4gdCYmRGUodC5yZW1vdmUpJiZEZSh0LmFkZCkmJkRlKHQudW5zdWJzY3JpYmUpfWZ1bmN0aW9uIGpnKHQpe0RlKHQpP3QoKTp0LnVuc3Vic2NyaWJlKCl9dmFyIHRfPXtvblVuaGFuZGxlZEVycm9yOm51bGwsb25TdG9wcGVkTm90aWZpY2F0aW9uOm51bGwsUHJvbWlzZTp2b2lkIDAsdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZzohMSx1c2VEZXByZWNhdGVkTmV4dENvbnRleHQ6ITF9LG5fPXtzZXRUaW1lb3V0OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLHI9MjtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKW5bci0yXT1hcmd1bWVudHNbcl07cmV0dXJuIHNldFRpbWVvdXQuYXBwbHkodm9pZCAwLFhzKFt0LGVdLFpzKG4pKSl9LGNsZWFyVGltZW91dDpmdW5jdGlvbih0KXt2YXIgZT1uXy5kZWxlZ2F0ZTtyZXR1cm4oZT8uY2xlYXJUaW1lb3V0fHxjbGVhclRpbWVvdXQpKHQpfSxkZWxlZ2F0ZTp2b2lkIDB9O2Z1bmN0aW9uIHJfKHQpe25fLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyB0fSl9ZnVuY3Rpb24gbGgoKXt9ZnVuY3Rpb24gRmEodCl7dCgpfXZhciBYZD1mdW5jdGlvbih0KXskdChlLHQpO2Z1bmN0aW9uIGUobil7dmFyIHI9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLmlzU3RvcHBlZD0hMSxuPyhyLmRlc3RpbmF0aW9uPW4sZV8obikmJm4uYWRkKHIpKTpyLmRlc3RpbmF0aW9uPWRSLHJ9cmV0dXJuIGUuY3JlYXRlPWZ1bmN0aW9uKG4scixpKXtyZXR1cm4gbmV3IGFjKG4scixpKX0sZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihuKXt0aGlzLmlzU3RvcHBlZHx8dGhpcy5fbmV4dChuKX0sZS5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24obil7dGhpcy5pc1N0b3BwZWR8fCh0aGlzLmlzU3RvcHBlZD0hMCx0aGlzLl9lcnJvcihuKSl9LGUucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5pc1N0b3BwZWR8fCh0aGlzLmlzU3RvcHBlZD0hMCx0aGlzLl9jb21wbGV0ZSgpKX0sZS5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt0aGlzLmNsb3NlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHQucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyksdGhpcy5kZXN0aW5hdGlvbj1udWxsKX0sZS5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24obil7dGhpcy5kZXN0aW5hdGlvbi5uZXh0KG4pfSxlLnByb3RvdHlwZS5fZXJyb3I9ZnVuY3Rpb24obil7dHJ5e3RoaXMuZGVzdGluYXRpb24uZXJyb3Iobil9ZmluYWxseXt0aGlzLnVuc3Vic2NyaWJlKCl9fSxlLnByb3RvdHlwZS5fY29tcGxldGU9ZnVuY3Rpb24oKXt0cnl7dGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfWZpbmFsbHl7dGhpcy51bnN1YnNjcmliZSgpfX0sZX0ocG4pLHVSPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO2Z1bmN0aW9uIG1sKHQsZSl7cmV0dXJuIHVSLmNhbGwodCxlKX12YXIgbFI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3RoaXMucGFydGlhbE9ic2VydmVyPWV9cmV0dXJuIHQucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7aWYobi5uZXh0KXRyeXtuLm5leHQoZSl9Y2F0Y2gocil7dmEocil9fSx0LnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihlKXt2YXIgbj10aGlzLnBhcnRpYWxPYnNlcnZlcjtpZihuLmVycm9yKXRyeXtuLmVycm9yKGUpfWNhdGNoKHIpe3ZhKHIpfWVsc2UgdmEoZSl9LHQucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7aWYoZS5jb21wbGV0ZSl0cnl7ZS5jb21wbGV0ZSgpfWNhdGNoKG4pe3ZhKG4pfX0sdH0oKSxhYz1mdW5jdGlvbih0KXskdChlLHQpO2Z1bmN0aW9uIGUobixyLGkpe3ZhciBzPXQuY2FsbCh0aGlzKXx8dGhpcyxvO2lmKERlKG4pfHwhbilvPXtuZXh0Om4/P3ZvaWQgMCxlcnJvcjpyPz92b2lkIDAsY29tcGxldGU6aT8/dm9pZCAwfTtlbHNle3ZhciBhO3MmJnRfLnVzZURlcHJlY2F0ZWROZXh0Q29udGV4dD8oYT1PYmplY3QuY3JlYXRlKG4pLGEudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXtyZXR1cm4gcy51bnN1YnNjcmliZSgpfSxvPXtuZXh0Om4ubmV4dCYmbWwobi5uZXh0LGEpLGVycm9yOm4uZXJyb3ImJm1sKG4uZXJyb3IsYSksY29tcGxldGU6bi5jb21wbGV0ZSYmbWwobi5jb21wbGV0ZSxhKX0pOm89bn1yZXR1cm4gcy5kZXN0aW5hdGlvbj1uZXcgbFIobyksc31yZXR1cm4gZX0oWGQpO2Z1bmN0aW9uIHZhKHQpe3JfKHQpfWZ1bmN0aW9uIGhSKHQpe3Rocm93IHR9dmFyIGRSPXtjbG9zZWQ6ITAsbmV4dDpsaCxlcnJvcjpoUixjb21wbGV0ZTpsaH0sWWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdHlwZW9mIFN5bWJvbD09ImZ1bmN0aW9uIiYmU3ltYm9sLm9ic2VydmFibGV8fCJAQG9ic2VydmFibGUifSgpO2Z1bmN0aW9uIFpyKHQpe3JldHVybiB0fWZ1bmN0aW9uIGZSKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3JldHVybiBpXyh0KX1mdW5jdGlvbiBpXyh0KXtyZXR1cm4gdC5sZW5ndGg9PT0wP1pyOnQubGVuZ3RoPT09MT90WzBdOmZ1bmN0aW9uKG4pe3JldHVybiB0LnJlZHVjZShmdW5jdGlvbihyLGkpe3JldHVybiBpKHIpfSxuKX19dmFyIExlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtlJiYodGhpcy5fc3Vic2NyaWJlPWUpfXJldHVybiB0LnByb3RvdHlwZS5saWZ0PWZ1bmN0aW9uKGUpe3ZhciBuPW5ldyB0O3JldHVybiBuLnNvdXJjZT10aGlzLG4ub3BlcmF0b3I9ZSxufSx0LnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24oZSxuLHIpe3ZhciBpPXRoaXMscz1nUihlKT9lOm5ldyBhYyhlLG4scik7cmV0dXJuIEZhKGZ1bmN0aW9uKCl7dmFyIG89aSxhPW8ub3BlcmF0b3IsYz1vLnNvdXJjZTtzLmFkZChhP2EuY2FsbChzLGMpOmM/aS5fc3Vic2NyaWJlKHMpOmkuX3RyeVN1YnNjcmliZShzKSl9KSxzfSx0LnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gdGhpcy5fc3Vic2NyaWJlKGUpfWNhdGNoKG4pe2UuZXJyb3Iobil9fSx0LnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcztyZXR1cm4gbj0kZyhuKSxuZXcgbihmdW5jdGlvbihpLHMpe3ZhciBvPW5ldyBhYyh7bmV4dDpmdW5jdGlvbihhKXt0cnl7ZShhKX1jYXRjaChjKXtzKGMpLG8udW5zdWJzY3JpYmUoKX19LGVycm9yOnMsY29tcGxldGU6aX0pO3Iuc3Vic2NyaWJlKG8pfSl9LHQucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24oZSl7dmFyIG47cmV0dXJuKG49dGhpcy5zb3VyY2UpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5zdWJzY3JpYmUoZSl9LHQucHJvdG90eXBlW1lkXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbl09YXJndW1lbnRzW25dO3JldHVybiBpXyhlKSh0aGlzKX0sdC5wcm90b3R5cGUudG9Qcm9taXNlPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7cmV0dXJuIGU9JGcoZSksbmV3IGUoZnVuY3Rpb24ocixpKXt2YXIgcztuLnN1YnNjcmliZShmdW5jdGlvbihvKXtyZXR1cm4gcz1vfSxmdW5jdGlvbihvKXtyZXR1cm4gaShvKX0sZnVuY3Rpb24oKXtyZXR1cm4gcihzKX0pfSl9LHQuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdChlKX0sdH0oKTtmdW5jdGlvbiAkZyh0KXt2YXIgZTtyZXR1cm4oZT10Pz90Xy5Qcm9taXNlKSE9PW51bGwmJmUhPT12b2lkIDA/ZTpQcm9taXNlfWZ1bmN0aW9uIHBSKHQpe3JldHVybiB0JiZEZSh0Lm5leHQpJiZEZSh0LmVycm9yKSYmRGUodC5jb21wbGV0ZSl9ZnVuY3Rpb24gZ1IodCl7cmV0dXJuIHQmJnQgaW5zdGFuY2VvZiBYZHx8cFIodCkmJmVfKHQpfWZ1bmN0aW9uIHNfKHQpe3JldHVybiBEZSh0Py5saWZ0KX1mdW5jdGlvbiBhdCh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoc18oZSkpcmV0dXJuIGUubGlmdChmdW5jdGlvbihuKXt0cnl7cmV0dXJuIHQobix0aGlzKX1jYXRjaChyKXt0aGlzLmVycm9yKHIpfX0pO3Rocm93IG5ldyBUeXBlRXJyb3IoIlVuYWJsZSB0byBsaWZ0IHVua25vd24gT2JzZXJ2YWJsZSB0eXBlIil9fWZ1bmN0aW9uIFFlKHQsZSxuLHIsaSl7cmV0dXJuIG5ldyBtUih0LGUsbixyLGkpfXZhciBtUj1mdW5jdGlvbih0KXskdChlLHQpO2Z1bmN0aW9uIGUobixyLGkscyxvLGEpe3ZhciBjPXQuY2FsbCh0aGlzLG4pfHx0aGlzO3JldHVybiBjLm9uRmluYWxpemU9byxjLnNob3VsZFVuc3Vic2NyaWJlPWEsYy5fbmV4dD1yP2Z1bmN0aW9uKHUpe3RyeXtyKHUpfWNhdGNoKGwpe24uZXJyb3IobCl9fTp0LnByb3RvdHlwZS5fbmV4dCxjLl9lcnJvcj1zP2Z1bmN0aW9uKHUpe3RyeXtzKHUpfWNhdGNoKGwpe24uZXJyb3IobCl9ZmluYWxseXt0aGlzLnVuc3Vic2NyaWJlKCl9fTp0LnByb3RvdHlwZS5fZXJyb3IsYy5fY29tcGxldGU9aT9mdW5jdGlvbigpe3RyeXtpKCl9Y2F0Y2godSl7bi5lcnJvcih1KX1maW5hbGx5e3RoaXMudW5zdWJzY3JpYmUoKX19OnQucHJvdG90eXBlLl9jb21wbGV0ZSxjfXJldHVybiBlLnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbigpe3ZhciBuO2lmKCF0aGlzLnNob3VsZFVuc3Vic2NyaWJlfHx0aGlzLnNob3VsZFVuc3Vic2NyaWJlKCkpe3ZhciByPXRoaXMuY2xvc2VkO3QucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyksIXImJigobj10aGlzLm9uRmluYWxpemUpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5jYWxsKHRoaXMpKX19LGV9KFhkKTtmdW5jdGlvbiBoaCgpe3JldHVybiBhdChmdW5jdGlvbih0LGUpe3ZhciBuPW51bGw7dC5fcmVmQ291bnQrKzt2YXIgcj1RZShlLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7aWYoIXR8fHQuX3JlZkNvdW50PD0wfHwwPC0tdC5fcmVmQ291bnQpe249bnVsbDtyZXR1cm59dmFyIGk9dC5fY29ubmVjdGlvbixzPW47bj1udWxsLGkmJighc3x8aT09PXMpJiZpLnVuc3Vic2NyaWJlKCksZS51bnN1YnNjcmliZSgpfSk7dC5zdWJzY3JpYmUociksci5jbG9zZWR8fChuPXQuY29ubmVjdCgpKX0pfXZhciBCZz1mdW5jdGlvbih0KXskdChlLHQpO2Z1bmN0aW9uIGUobixyKXt2YXIgaT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGkuc291cmNlPW4saS5zdWJqZWN0RmFjdG9yeT1yLGkuX3N1YmplY3Q9bnVsbCxpLl9yZWZDb3VudD0wLGkuX2Nvbm5lY3Rpb249bnVsbCxzXyhuKSYmKGkubGlmdD1uLmxpZnQpLGl9cmV0dXJuIGUucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZ2V0U3ViamVjdCgpLnN1YnNjcmliZShuKX0sZS5wcm90b3R5cGUuZ2V0U3ViamVjdD1mdW5jdGlvbigpe3ZhciBuPXRoaXMuX3N1YmplY3Q7cmV0dXJuKCFufHxuLmlzU3RvcHBlZCkmJih0aGlzLl9zdWJqZWN0PXRoaXMuc3ViamVjdEZhY3RvcnkoKSksdGhpcy5fc3ViamVjdH0sZS5wcm90b3R5cGUuX3RlYXJkb3duPWZ1bmN0aW9uKCl7dGhpcy5fcmVmQ291bnQ9MDt2YXIgbj10aGlzLl9jb25uZWN0aW9uO3RoaXMuX3N1YmplY3Q9dGhpcy5fY29ubmVjdGlvbj1udWxsLG4/LnVuc3Vic2NyaWJlKCl9LGUucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHI9dGhpcy5fY29ubmVjdGlvbjtpZighcil7cj10aGlzLl9jb25uZWN0aW9uPW5ldyBwbjt2YXIgaT10aGlzLmdldFN1YmplY3QoKTtyLmFkZCh0aGlzLnNvdXJjZS5zdWJzY3JpYmUoUWUoaSx2b2lkIDAsZnVuY3Rpb24oKXtuLl90ZWFyZG93bigpLGkuY29tcGxldGUoKX0sZnVuY3Rpb24ocyl7bi5fdGVhcmRvd24oKSxpLmVycm9yKHMpfSxmdW5jdGlvbigpe3JldHVybiBuLl90ZWFyZG93bigpfSkpKSxyLmNsb3NlZCYmKHRoaXMuX2Nvbm5lY3Rpb249bnVsbCxyPXBuLkVNUFRZKX1yZXR1cm4gcn0sZS5wcm90b3R5cGUucmVmQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gaGgoKSh0aGlzKX0sZX0oTGUpLHlSPVpkKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3QodGhpcyksdGhpcy5uYW1lPSJPYmplY3RVbnN1YnNjcmliZWRFcnJvciIsdGhpcy5tZXNzYWdlPSJvYmplY3QgdW5zdWJzY3JpYmVkIn19KSxPbj1mdW5jdGlvbih0KXskdChlLHQpO2Z1bmN0aW9uIGUoKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uY2xvc2VkPSExLG4uY3VycmVudE9ic2VydmVycz1udWxsLG4ub2JzZXJ2ZXJzPVtdLG4uaXNTdG9wcGVkPSExLG4uaGFzRXJyb3I9ITEsbi50aHJvd25FcnJvcj1udWxsLG59cmV0dXJuIGUucHJvdG90eXBlLmxpZnQ9ZnVuY3Rpb24obil7dmFyIHI9bmV3IEhnKHRoaXMsdGhpcyk7cmV0dXJuIHIub3BlcmF0b3I9bixyfSxlLnByb3RvdHlwZS5fdGhyb3dJZkNsb3NlZD1mdW5jdGlvbigpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyB5Un0sZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihuKXt2YXIgcj10aGlzO0ZhKGZ1bmN0aW9uKCl7dmFyIGkscztpZihyLl90aHJvd0lmQ2xvc2VkKCksIXIuaXNTdG9wcGVkKXtyLmN1cnJlbnRPYnNlcnZlcnN8fChyLmN1cnJlbnRPYnNlcnZlcnM9QXJyYXkuZnJvbShyLm9ic2VydmVycykpO3RyeXtmb3IodmFyIG89THIoci5jdXJyZW50T2JzZXJ2ZXJzKSxhPW8ubmV4dCgpOyFhLmRvbmU7YT1vLm5leHQoKSl7dmFyIGM9YS52YWx1ZTtjLm5leHQobil9fWNhdGNoKHUpe2k9e2Vycm9yOnV9fWZpbmFsbHl7dHJ5e2EmJiFhLmRvbmUmJihzPW8ucmV0dXJuKSYmcy5jYWxsKG8pfWZpbmFsbHl7aWYoaSl0aHJvdyBpLmVycm9yfX19fSl9LGUucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKG4pe3ZhciByPXRoaXM7RmEoZnVuY3Rpb24oKXtpZihyLl90aHJvd0lmQ2xvc2VkKCksIXIuaXNTdG9wcGVkKXtyLmhhc0Vycm9yPXIuaXNTdG9wcGVkPSEwLHIudGhyb3duRXJyb3I9bjtmb3IodmFyIGk9ci5vYnNlcnZlcnM7aS5sZW5ndGg7KWkuc2hpZnQoKS5lcnJvcihuKX19KX0sZS5wcm90b3R5cGUuY29tcGxldGU9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO0ZhKGZ1bmN0aW9uKCl7aWYobi5fdGhyb3dJZkNsb3NlZCgpLCFuLmlzU3RvcHBlZCl7bi5pc1N0b3BwZWQ9ITA7Zm9yKHZhciByPW4ub2JzZXJ2ZXJzO3IubGVuZ3RoOylyLnNoaWZ0KCkuY29tcGxldGUoKX19KX0sZS5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt0aGlzLmlzU3RvcHBlZD10aGlzLmNsb3NlZD0hMCx0aGlzLm9ic2VydmVycz10aGlzLmN1cnJlbnRPYnNlcnZlcnM9bnVsbH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvYnNlcnZlZCIse2dldDpmdW5jdGlvbigpe3ZhciBuO3JldHVybigobj10aGlzLm9ic2VydmVycyk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmxlbmd0aCk+MH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlPWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl90aHJvd0lmQ2xvc2VkKCksdC5wcm90b3R5cGUuX3RyeVN1YnNjcmliZS5jYWxsKHRoaXMsbil9LGUucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3Rocm93SWZDbG9zZWQoKSx0aGlzLl9jaGVja0ZpbmFsaXplZFN0YXR1c2VzKG4pLHRoaXMuX2lubmVyU3Vic2NyaWJlKG4pfSxlLnByb3RvdHlwZS5faW5uZXJTdWJzY3JpYmU9ZnVuY3Rpb24obil7dmFyIHI9dGhpcyxpPXRoaXMscz1pLmhhc0Vycm9yLG89aS5pc1N0b3BwZWQsYT1pLm9ic2VydmVycztyZXR1cm4gc3x8bz9KdjoodGhpcy5jdXJyZW50T2JzZXJ2ZXJzPW51bGwsYS5wdXNoKG4pLG5ldyBwbihmdW5jdGlvbigpe3IuY3VycmVudE9ic2VydmVycz1udWxsLG9jKGEsbil9KSl9LGUucHJvdG90eXBlLl9jaGVja0ZpbmFsaXplZFN0YXR1c2VzPWZ1bmN0aW9uKG4pe3ZhciByPXRoaXMsaT1yLmhhc0Vycm9yLHM9ci50aHJvd25FcnJvcixvPXIuaXNTdG9wcGVkO2k/bi5lcnJvcihzKTpvJiZuLmNvbXBsZXRlKCl9LGUucHJvdG90eXBlLmFzT2JzZXJ2YWJsZT1mdW5jdGlvbigpe3ZhciBuPW5ldyBMZTtyZXR1cm4gbi5zb3VyY2U9dGhpcyxufSxlLmNyZWF0ZT1mdW5jdGlvbihuLHIpe3JldHVybiBuZXcgSGcobixyKX0sZX0oTGUpLEhnPWZ1bmN0aW9uKHQpeyR0KGUsdCk7ZnVuY3Rpb24gZShuLHIpe3ZhciBpPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gaS5kZXN0aW5hdGlvbj1uLGkuc291cmNlPXIsaX1yZXR1cm4gZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihuKXt2YXIgcixpOyhpPShyPXRoaXMuZGVzdGluYXRpb24pPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5uZXh0KT09PW51bGx8fGk9PT12b2lkIDB8fGkuY2FsbChyLG4pfSxlLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihuKXt2YXIgcixpOyhpPShyPXRoaXMuZGVzdGluYXRpb24pPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5lcnJvcik9PT1udWxsfHxpPT09dm9pZCAwfHxpLmNhbGwocixuKX0sZS5wcm90b3R5cGUuY29tcGxldGU9ZnVuY3Rpb24oKXt2YXIgbixyOyhyPShuPXRoaXMuZGVzdGluYXRpb24pPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5jb21wbGV0ZSk9PT1udWxsfHxyPT09dm9pZCAwfHxyLmNhbGwobil9LGUucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24obil7dmFyIHIsaTtyZXR1cm4oaT0ocj10aGlzLnNvdXJjZSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLnN1YnNjcmliZShuKSkhPT1udWxsJiZpIT09dm9pZCAwP2k6SnZ9LGV9KE9uKSxMdD1mdW5jdGlvbih0KXskdChlLHQpO2Z1bmN0aW9uIGUobil7dmFyIHI9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLl92YWx1ZT1uLHJ9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidmFsdWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRWYWx1ZSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24obil7dmFyIHI9dC5wcm90b3R5cGUuX3N1YnNjcmliZS5jYWxsKHRoaXMsbik7cmV0dXJuIXIuY2xvc2VkJiZuLm5leHQodGhpcy5fdmFsdWUpLHJ9LGUucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7dmFyIG49dGhpcyxyPW4uaGFzRXJyb3IsaT1uLnRocm93bkVycm9yLHM9bi5fdmFsdWU7aWYocil0aHJvdyBpO3JldHVybiB0aGlzLl90aHJvd0lmQ2xvc2VkKCksc30sZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihuKXt0LnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcyx0aGlzLl92YWx1ZT1uKX0sZX0oT24pLHZSPXtub3c6ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKX0sZGVsZWdhdGU6dm9pZCAwfSxfUj1mdW5jdGlvbih0KXskdChlLHQpO2Z1bmN0aW9uIGUobixyKXtyZXR1cm4gdC5jYWxsKHRoaXMpfHx0aGlzfXJldHVybiBlLnByb3RvdHlwZS5zY2hlZHVsZT1mdW5jdGlvbihuLHIpe3JldHVybiB0aGlzfSxlfShwbiksZGg9e3NldEludGVydmFsOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLHI9MjtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKW5bci0yXT1hcmd1bWVudHNbcl07cmV0dXJuIHNldEludGVydmFsLmFwcGx5KHZvaWQgMCxYcyhbdCxlXSxacyhuKSkpfSxjbGVhckludGVydmFsOmZ1bmN0aW9uKHQpe3ZhciBlPWRoLmRlbGVnYXRlO3JldHVybihlPy5jbGVhckludGVydmFsfHxjbGVhckludGVydmFsKSh0KX0sZGVsZWdhdGU6dm9pZCAwfSxvXz1mdW5jdGlvbih0KXskdChlLHQpO2Z1bmN0aW9uIGUobixyKXt2YXIgaT10LmNhbGwodGhpcyxuLHIpfHx0aGlzO3JldHVybiBpLnNjaGVkdWxlcj1uLGkud29yaz1yLGkucGVuZGluZz0hMSxpfXJldHVybiBlLnByb3RvdHlwZS5zY2hlZHVsZT1mdW5jdGlvbihuLHIpe3ZhciBpO2lmKHI9PT12b2lkIDAmJihyPTApLHRoaXMuY2xvc2VkKXJldHVybiB0aGlzO3RoaXMuc3RhdGU9bjt2YXIgcz10aGlzLmlkLG89dGhpcy5zY2hlZHVsZXI7cmV0dXJuIHMhPW51bGwmJih0aGlzLmlkPXRoaXMucmVjeWNsZUFzeW5jSWQobyxzLHIpKSx0aGlzLnBlbmRpbmc9ITAsdGhpcy5kZWxheT1yLHRoaXMuaWQ9KGk9dGhpcy5pZCkhPT1udWxsJiZpIT09dm9pZCAwP2k6dGhpcy5yZXF1ZXN0QXN5bmNJZChvLHRoaXMuaWQsciksdGhpc30sZS5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQ9ZnVuY3Rpb24obixyLGkpe3JldHVybiBpPT09dm9pZCAwJiYoaT0wKSxkaC5zZXRJbnRlcnZhbChuLmZsdXNoLmJpbmQobix0aGlzKSxpKX0sZS5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQ9ZnVuY3Rpb24obixyLGkpe2lmKGk9PT12b2lkIDAmJihpPTApLGkhPW51bGwmJnRoaXMuZGVsYXk9PT1pJiZ0aGlzLnBlbmRpbmc9PT0hMSlyZXR1cm4gcjtyIT1udWxsJiZkaC5jbGVhckludGVydmFsKHIpfSxlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKG4scil7aWYodGhpcy5jbG9zZWQpcmV0dXJuIG5ldyBFcnJvcigiZXhlY3V0aW5nIGEgY2FuY2VsbGVkIGFjdGlvbiIpO3RoaXMucGVuZGluZz0hMTt2YXIgaT10aGlzLl9leGVjdXRlKG4scik7aWYoaSlyZXR1cm4gaTt0aGlzLnBlbmRpbmc9PT0hMSYmdGhpcy5pZCE9bnVsbCYmKHRoaXMuaWQ9dGhpcy5yZWN5Y2xlQXN5bmNJZCh0aGlzLnNjaGVkdWxlcix0aGlzLmlkLG51bGwpKX0sZS5wcm90b3R5cGUuX2V4ZWN1dGU9ZnVuY3Rpb24obixyKXt2YXIgaT0hMSxzO3RyeXt0aGlzLndvcmsobil9Y2F0Y2gobyl7aT0hMCxzPW98fG5ldyBFcnJvcigiU2NoZWR1bGVkIGFjdGlvbiB0aHJldyBmYWxzeSBlcnJvciIpfWlmKGkpcmV0dXJuIHRoaXMudW5zdWJzY3JpYmUoKSxzfSxlLnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbigpe2lmKCF0aGlzLmNsb3NlZCl7dmFyIG49dGhpcyxyPW4uaWQsaT1uLnNjaGVkdWxlcixzPWkuYWN0aW9uczt0aGlzLndvcms9dGhpcy5zdGF0ZT10aGlzLnNjaGVkdWxlcj1udWxsLHRoaXMucGVuZGluZz0hMSxvYyhzLHRoaXMpLHIhPW51bGwmJih0aGlzLmlkPXRoaXMucmVjeWNsZUFzeW5jSWQoaSxyLG51bGwpKSx0aGlzLmRlbGF5PW51bGwsdC5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKX19LGV9KF9SKSxxZz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXtuPT09dm9pZCAwJiYobj10Lm5vdyksdGhpcy5zY2hlZHVsZXJBY3Rpb25DdG9yPWUsdGhpcy5ub3c9bn1yZXR1cm4gdC5wcm90b3R5cGUuc2NoZWR1bGU9ZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuPT09dm9pZCAwJiYobj0wKSxuZXcgdGhpcy5zY2hlZHVsZXJBY3Rpb25DdG9yKHRoaXMsZSkuc2NoZWR1bGUocixuKX0sdC5ub3c9dlIubm93LHR9KCksYV89ZnVuY3Rpb24odCl7JHQoZSx0KTtmdW5jdGlvbiBlKG4scil7cj09PXZvaWQgMCYmKHI9cWcubm93KTt2YXIgaT10LmNhbGwodGhpcyxuLHIpfHx0aGlzO3JldHVybiBpLmFjdGlvbnM9W10saS5fYWN0aXZlPSExLGl9cmV0dXJuIGUucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKG4pe3ZhciByPXRoaXMuYWN0aW9ucztpZih0aGlzLl9hY3RpdmUpe3IucHVzaChuKTtyZXR1cm59dmFyIGk7dGhpcy5fYWN0aXZlPSEwO2RvIGlmKGk9bi5leGVjdXRlKG4uc3RhdGUsbi5kZWxheSkpYnJlYWs7d2hpbGUobj1yLnNoaWZ0KCkpO2lmKHRoaXMuX2FjdGl2ZT0hMSxpKXtmb3IoO249ci5zaGlmdCgpOyluLnVuc3Vic2NyaWJlKCk7dGhyb3cgaX19LGV9KHFnKSxFUj1uZXcgYV8ob18pLHdSPWZ1bmN0aW9uKHQpeyR0KGUsdCk7ZnVuY3Rpb24gZShuLHIpe3ZhciBpPXQuY2FsbCh0aGlzLG4scil8fHRoaXM7cmV0dXJuIGkuc2NoZWR1bGVyPW4saS53b3JrPXIsaX1yZXR1cm4gZS5wcm90b3R5cGUuc2NoZWR1bGU9ZnVuY3Rpb24obixyKXtyZXR1cm4gcj09PXZvaWQgMCYmKHI9MCkscj4wP3QucHJvdG90eXBlLnNjaGVkdWxlLmNhbGwodGhpcyxuLHIpOih0aGlzLmRlbGF5PXIsdGhpcy5zdGF0ZT1uLHRoaXMuc2NoZWR1bGVyLmZsdXNoKHRoaXMpLHRoaXMpfSxlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKG4scil7cmV0dXJuIHI+MHx8dGhpcy5jbG9zZWQ/dC5wcm90b3R5cGUuZXhlY3V0ZS5jYWxsKHRoaXMsbixyKTp0aGlzLl9leGVjdXRlKG4scil9LGUucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkPWZ1bmN0aW9uKG4scixpKXtyZXR1cm4gaT09PXZvaWQgMCYmKGk9MCksaSE9bnVsbCYmaT4wfHxpPT1udWxsJiZ0aGlzLmRlbGF5PjA/dC5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQuY2FsbCh0aGlzLG4scixpKToobi5mbHVzaCh0aGlzKSwwKX0sZX0ob18pLElSPWZ1bmN0aW9uKHQpeyR0KGUsdCk7ZnVuY3Rpb24gZSgpe3JldHVybiB0IT09bnVsbCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGV9KGFfKSxUUj1uZXcgSVIod1IpLEpuPW5ldyBMZShmdW5jdGlvbih0KXtyZXR1cm4gdC5jb21wbGV0ZSgpfSk7ZnVuY3Rpb24gU1IodCl7cmV0dXJuIHQmJkRlKHQuc2NoZWR1bGUpfWZ1bmN0aW9uIGNfKHQpe3JldHVybiB0W3QubGVuZ3RoLTFdfWZ1bmN0aW9uIENSKHQpe3JldHVybiBEZShjXyh0KSk/dC5wb3AoKTp2b2lkIDB9ZnVuY3Rpb24gWmModCl7cmV0dXJuIFNSKGNfKHQpKT90LnBvcCgpOnZvaWQgMH12YXIgdV89ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnR5cGVvZiB0Lmxlbmd0aD09Im51bWJlciImJnR5cGVvZiB0IT0iZnVuY3Rpb24ifTtmdW5jdGlvbiBsXyh0KXtyZXR1cm4gRGUodD8udGhlbil9ZnVuY3Rpb24gaF8odCl7cmV0dXJuIERlKHRbWWRdKX1mdW5jdGlvbiBkXyh0KXtyZXR1cm4gU3ltYm9sLmFzeW5jSXRlcmF0b3ImJkRlKHQ/LltTeW1ib2wuYXN5bmNJdGVyYXRvcl0pfWZ1bmN0aW9uIGZfKHQpe3JldHVybiBuZXcgVHlwZUVycm9yKCJZb3UgcHJvdmlkZWQgIisodCE9PW51bGwmJnR5cGVvZiB0PT0ib2JqZWN0Ij8iYW4gaW52YWxpZCBvYmplY3QiOiInIit0KyInIikrIiB3aGVyZSBhIHN0cmVhbSB3YXMgZXhwZWN0ZWQuIFlvdSBjYW4gcHJvdmlkZSBhbiBPYnNlcnZhYmxlLCBQcm9taXNlLCBSZWFkYWJsZVN0cmVhbSwgQXJyYXksIEFzeW5jSXRlcmFibGUsIG9yIEl0ZXJhYmxlLiIpfWZ1bmN0aW9uIEFSKCl7cmV0dXJuIHR5cGVvZiBTeW1ib2whPSJmdW5jdGlvbiJ8fCFTeW1ib2wuaXRlcmF0b3I/IkBAaXRlcmF0b3IiOlN5bWJvbC5pdGVyYXRvcn12YXIgcF89QVIoKTtmdW5jdGlvbiBnXyh0KXtyZXR1cm4gRGUodD8uW3BfXSl9ZnVuY3Rpb24gbV8odCl7cmV0dXJuIGFSKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKCl7dmFyIG4scixpLHM7cmV0dXJuIFl2KHRoaXMsZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDpuPXQuZ2V0UmVhZGVyKCksby5sYWJlbD0xO2Nhc2UgMTpvLnRyeXMucHVzaChbMSwsOSwxMF0pLG8ubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzQsRWkobi5yZWFkKCkpXTtjYXNlIDM6cmV0dXJuIHI9by5zZW50KCksaT1yLnZhbHVlLHM9ci5kb25lLHM/WzQsRWkodm9pZCAwKV06WzMsNV07Y2FzZSA0OnJldHVyblsyLG8uc2VudCgpXTtjYXNlIDU6cmV0dXJuWzQsRWkoaSldO2Nhc2UgNjpyZXR1cm5bNCxvLnNlbnQoKV07Y2FzZSA3OnJldHVybiBvLnNlbnQoKSxbMywyXTtjYXNlIDg6cmV0dXJuWzMsMTBdO2Nhc2UgOTpyZXR1cm4gbi5yZWxlYXNlTG9jaygpLFs3XTtjYXNlIDEwOnJldHVyblsyXX19KX0pfWZ1bmN0aW9uIHlfKHQpe3JldHVybiBEZSh0Py5nZXRSZWFkZXIpfWZ1bmN0aW9uIHFuKHQpe2lmKHQgaW5zdGFuY2VvZiBMZSlyZXR1cm4gdDtpZih0IT1udWxsKXtpZihoXyh0KSlyZXR1cm4gUlIodCk7aWYodV8odCkpcmV0dXJuIGJSKHQpO2lmKGxfKHQpKXJldHVybiBEUih0KTtpZihkXyh0KSlyZXR1cm4gdl8odCk7aWYoZ18odCkpcmV0dXJuIFBSKHQpO2lmKHlfKHQpKXJldHVybiBNUih0KX10aHJvdyBmXyh0KX1mdW5jdGlvbiBSUih0KXtyZXR1cm4gbmV3IExlKGZ1bmN0aW9uKGUpe3ZhciBuPXRbWWRdKCk7aWYoRGUobi5zdWJzY3JpYmUpKXJldHVybiBuLnN1YnNjcmliZShlKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJQcm92aWRlZCBvYmplY3QgZG9lcyBub3QgY29ycmVjdGx5IGltcGxlbWVudCBTeW1ib2wub2JzZXJ2YWJsZSIpfSl9ZnVuY3Rpb24gYlIodCl7cmV0dXJuIG5ldyBMZShmdW5jdGlvbihlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoJiYhZS5jbG9zZWQ7bisrKWUubmV4dCh0W25dKTtlLmNvbXBsZXRlKCl9KX1mdW5jdGlvbiBEUih0KXtyZXR1cm4gbmV3IExlKGZ1bmN0aW9uKGUpe3QudGhlbihmdW5jdGlvbihuKXtlLmNsb3NlZHx8KGUubmV4dChuKSxlLmNvbXBsZXRlKCkpfSxmdW5jdGlvbihuKXtyZXR1cm4gZS5lcnJvcihuKX0pLnRoZW4obnVsbCxyXyl9KX1mdW5jdGlvbiBQUih0KXtyZXR1cm4gbmV3IExlKGZ1bmN0aW9uKGUpe3ZhciBuLHI7dHJ5e2Zvcih2YXIgaT1Mcih0KSxzPWkubmV4dCgpOyFzLmRvbmU7cz1pLm5leHQoKSl7dmFyIG89cy52YWx1ZTtpZihlLm5leHQobyksZS5jbG9zZWQpcmV0dXJufX1jYXRjaChhKXtuPXtlcnJvcjphfX1maW5hbGx5e3RyeXtzJiYhcy5kb25lJiYocj1pLnJldHVybikmJnIuY2FsbChpKX1maW5hbGx5e2lmKG4pdGhyb3cgbi5lcnJvcn19ZS5jb21wbGV0ZSgpfSl9ZnVuY3Rpb24gdl8odCl7cmV0dXJuIG5ldyBMZShmdW5jdGlvbihlKXtOUih0LGUpLmNhdGNoKGZ1bmN0aW9uKG4pe3JldHVybiBlLmVycm9yKG4pfSl9KX1mdW5jdGlvbiBNUih0KXtyZXR1cm4gdl8obV8odCkpfWZ1bmN0aW9uIE5SKHQsZSl7dmFyIG4scixpLHM7cmV0dXJuIG9SKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBvLGE7cmV0dXJuIFl2KHRoaXMsZnVuY3Rpb24oYyl7c3dpdGNoKGMubGFiZWwpe2Nhc2UgMDpjLnRyeXMucHVzaChbMCw1LDYsMTFdKSxuPWNSKHQpLGMubGFiZWw9MTtjYXNlIDE6cmV0dXJuWzQsbi5uZXh0KCldO2Nhc2UgMjppZihyPWMuc2VudCgpLCEhci5kb25lKXJldHVyblszLDRdO2lmKG89ci52YWx1ZSxlLm5leHQobyksZS5jbG9zZWQpcmV0dXJuWzJdO2MubGFiZWw9MztjYXNlIDM6cmV0dXJuWzMsMV07Y2FzZSA0OnJldHVyblszLDExXTtjYXNlIDU6cmV0dXJuIGE9Yy5zZW50KCksaT17ZXJyb3I6YX0sWzMsMTFdO2Nhc2UgNjpyZXR1cm4gYy50cnlzLnB1c2goWzYsLDksMTBdKSxyJiYhci5kb25lJiYocz1uLnJldHVybik/WzQscy5jYWxsKG4pXTpbMyw4XTtjYXNlIDc6Yy5zZW50KCksYy5sYWJlbD04O2Nhc2UgODpyZXR1cm5bMywxMF07Y2FzZSA5OmlmKGkpdGhyb3cgaS5lcnJvcjtyZXR1cm5bN107Y2FzZSAxMDpyZXR1cm5bN107Y2FzZSAxMTpyZXR1cm4gZS5jb21wbGV0ZSgpLFsyXX19KX0pfWZ1bmN0aW9uIE5uKHQsZSxuLHIsaSl7cj09PXZvaWQgMCYmKHI9MCksaT09PXZvaWQgMCYmKGk9ITEpO3ZhciBzPWUuc2NoZWR1bGUoZnVuY3Rpb24oKXtuKCksaT90LmFkZCh0aGlzLnNjaGVkdWxlKG51bGwscikpOnRoaXMudW5zdWJzY3JpYmUoKX0scik7aWYodC5hZGQocyksIWkpcmV0dXJuIHN9ZnVuY3Rpb24gWGModCxlKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9MCksYXQoZnVuY3Rpb24obixyKXtuLnN1YnNjcmliZShRZShyLGZ1bmN0aW9uKGkpe3JldHVybiBObihyLHQsZnVuY3Rpb24oKXtyZXR1cm4gci5uZXh0KGkpfSxlKX0sZnVuY3Rpb24oKXtyZXR1cm4gTm4ocix0LGZ1bmN0aW9uKCl7cmV0dXJuIHIuY29tcGxldGUoKX0sZSl9LGZ1bmN0aW9uKGkpe3JldHVybiBObihyLHQsZnVuY3Rpb24oKXtyZXR1cm4gci5lcnJvcihpKX0sZSl9KSl9KX1mdW5jdGlvbiBZYyh0LGUpe3JldHVybiBlPT09dm9pZCAwJiYoZT0wKSxhdChmdW5jdGlvbihuLHIpe3IuYWRkKHQuc2NoZWR1bGUoZnVuY3Rpb24oKXtyZXR1cm4gbi5zdWJzY3JpYmUocil9LGUpKX0pfWZ1bmN0aW9uIGtSKHQsZSl7cmV0dXJuIHFuKHQpLnBpcGUoWWMoZSksWGMoZSkpfWZ1bmN0aW9uIE9SKHQsZSl7cmV0dXJuIHFuKHQpLnBpcGUoWWMoZSksWGMoZSkpfWZ1bmN0aW9uIHhSKHQsZSl7cmV0dXJuIG5ldyBMZShmdW5jdGlvbihuKXt2YXIgcj0wO3JldHVybiBlLnNjaGVkdWxlKGZ1bmN0aW9uKCl7cj09PXQubGVuZ3RoP24uY29tcGxldGUoKToobi5uZXh0KHRbcisrXSksbi5jbG9zZWR8fHRoaXMuc2NoZWR1bGUoKSl9KX0pfWZ1bmN0aW9uIExSKHQsZSl7cmV0dXJuIG5ldyBMZShmdW5jdGlvbihuKXt2YXIgcjtyZXR1cm4gTm4obixlLGZ1bmN0aW9uKCl7cj10W3BfXSgpLE5uKG4sZSxmdW5jdGlvbigpe3ZhciBpLHMsbzt0cnl7aT1yLm5leHQoKSxzPWkudmFsdWUsbz1pLmRvbmV9Y2F0Y2goYSl7bi5lcnJvcihhKTtyZXR1cm59bz9uLmNvbXBsZXRlKCk6bi5uZXh0KHMpfSwwLCEwKX0pLGZ1bmN0aW9uKCl7cmV0dXJuIERlKHI/LnJldHVybikmJnIucmV0dXJuKCl9fSl9ZnVuY3Rpb24gX18odCxlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoIkl0ZXJhYmxlIGNhbm5vdCBiZSBudWxsIik7cmV0dXJuIG5ldyBMZShmdW5jdGlvbihuKXtObihuLGUsZnVuY3Rpb24oKXt2YXIgcj10W1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO05uKG4sZSxmdW5jdGlvbigpe3IubmV4dCgpLnRoZW4oZnVuY3Rpb24oaSl7aS5kb25lP24uY29tcGxldGUoKTpuLm5leHQoaS52YWx1ZSl9KX0sMCwhMCl9KX0pfWZ1bmN0aW9uIFZSKHQsZSl7cmV0dXJuIF9fKG1fKHQpLGUpfWZ1bmN0aW9uIEZSKHQsZSl7aWYodCE9bnVsbCl7aWYoaF8odCkpcmV0dXJuIGtSKHQsZSk7aWYodV8odCkpcmV0dXJuIHhSKHQsZSk7aWYobF8odCkpcmV0dXJuIE9SKHQsZSk7aWYoZF8odCkpcmV0dXJuIF9fKHQsZSk7aWYoZ18odCkpcmV0dXJuIExSKHQsZSk7aWYoeV8odCkpcmV0dXJuIFZSKHQsZSl9dGhyb3cgZl8odCl9ZnVuY3Rpb24gSXQodCxlKXtyZXR1cm4gZT9GUih0LGUpOnFuKHQpfWZ1bmN0aW9uIGVlKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3ZhciBuPVpjKHQpO3JldHVybiBJdCh0LG4pfWZ1bmN0aW9uIEpjKHQsZSl7dmFyIG49RGUodCk/dDpmdW5jdGlvbigpe3JldHVybiB0fSxyPWZ1bmN0aW9uKGkpe3JldHVybiBpLmVycm9yKG4oKSl9O3JldHVybiBuZXcgTGUoZT9mdW5jdGlvbihpKXtyZXR1cm4gZS5zY2hlZHVsZShyLDAsaSl9OnIpfWZ1bmN0aW9uIFVSKHQpe3JldHVybiEhdCYmKHQgaW5zdGFuY2VvZiBMZXx8RGUodC5saWZ0KSYmRGUodC5zdWJzY3JpYmUpKX12YXIgVm89WmQoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dCh0aGlzKSx0aGlzLm5hbWU9IkVtcHR5RXJyb3IiLHRoaXMubWVzc2FnZT0ibm8gZWxlbWVudHMgaW4gc2VxdWVuY2UifX0pO2Z1bmN0aW9uIGpSKHQsZSl7dmFyIG49dHlwZW9mIGU9PSJvYmplY3QiO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyLGkpe3ZhciBzPW5ldyBhYyh7bmV4dDpmdW5jdGlvbihvKXtyKG8pLHMudW5zdWJzY3JpYmUoKX0sZXJyb3I6aSxjb21wbGV0ZTpmdW5jdGlvbigpe24/cihlLmRlZmF1bHRWYWx1ZSk6aShuZXcgVm8pfX0pO3Quc3Vic2NyaWJlKHMpfSl9ZnVuY3Rpb24geWUodCxlKXtyZXR1cm4gYXQoZnVuY3Rpb24obixyKXt2YXIgaT0wO24uc3Vic2NyaWJlKFFlKHIsZnVuY3Rpb24ocyl7ci5uZXh0KHQuY2FsbChlLHMsaSsrKSl9KSl9KX12YXIgJFI9QXJyYXkuaXNBcnJheTtmdW5jdGlvbiBCUih0LGUpe3JldHVybiAkUihlKT90LmFwcGx5KHZvaWQgMCxYcyhbXSxacyhlKSkpOnQoZSl9ZnVuY3Rpb24gSFIodCl7cmV0dXJuIHllKGZ1bmN0aW9uKGUpe3JldHVybiBCUih0LGUpfSl9dmFyIHFSPUFycmF5LmlzQXJyYXkselI9T2JqZWN0LmdldFByb3RvdHlwZU9mLFdSPU9iamVjdC5wcm90b3R5cGUsR1I9T2JqZWN0LmtleXM7ZnVuY3Rpb24gS1IodCl7aWYodC5sZW5ndGg9PT0xKXt2YXIgZT10WzBdO2lmKHFSKGUpKXJldHVybnthcmdzOmUsa2V5czpudWxsfTtpZihRUihlKSl7dmFyIG49R1IoZSk7cmV0dXJue2FyZ3M6bi5tYXAoZnVuY3Rpb24ocil7cmV0dXJuIGVbcl19KSxrZXlzOm59fX1yZXR1cm57YXJnczp0LGtleXM6bnVsbH19ZnVuY3Rpb24gUVIodCl7cmV0dXJuIHQmJnR5cGVvZiB0PT0ib2JqZWN0IiYmelIodCk9PT1XUn1mdW5jdGlvbiBaUih0LGUpe3JldHVybiB0LnJlZHVjZShmdW5jdGlvbihuLHIsaSl7cmV0dXJuIG5bcl09ZVtpXSxufSx7fSl9ZnVuY3Rpb24gRV8oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dmFyIG49WmModCkscj1DUih0KSxpPUtSKHQpLHM9aS5hcmdzLG89aS5rZXlzO2lmKHMubGVuZ3RoPT09MClyZXR1cm4gSXQoW10sbik7dmFyIGE9bmV3IExlKFhSKHMsbixvP2Z1bmN0aW9uKGMpe3JldHVybiBaUihvLGMpfTpacikpO3JldHVybiByP2EucGlwZShIUihyKSk6YX1mdW5jdGlvbiBYUih0LGUsbil7cmV0dXJuIG49PT12b2lkIDAmJihuPVpyKSxmdW5jdGlvbihyKXt6ZyhlLGZ1bmN0aW9uKCl7Zm9yKHZhciBpPXQubGVuZ3RoLHM9bmV3IEFycmF5KGkpLG89aSxhPWksYz1mdW5jdGlvbihsKXt6ZyhlLGZ1bmN0aW9uKCl7dmFyIGg9SXQodFtsXSxlKSxkPSExO2guc3Vic2NyaWJlKFFlKHIsZnVuY3Rpb24oZil7c1tsXT1mLGR8fChkPSEwLGEtLSksYXx8ci5uZXh0KG4ocy5zbGljZSgpKSl9LGZ1bmN0aW9uKCl7LS1vfHxyLmNvbXBsZXRlKCl9KSl9LHIpfSx1PTA7dTxpO3UrKyljKHUpfSxyKX19ZnVuY3Rpb24gemcodCxlLG4pe3Q/Tm4obix0LGUpOmUoKX1mdW5jdGlvbiBZUih0LGUsbixyLGkscyxvLGEpe3ZhciBjPVtdLHU9MCxsPTAsaD0hMSxkPWZ1bmN0aW9uKCl7aCYmIWMubGVuZ3RoJiYhdSYmZS5jb21wbGV0ZSgpfSxmPWZ1bmN0aW9uKHkpe3JldHVybiB1PHI/bSh5KTpjLnB1c2goeSl9LG09ZnVuY3Rpb24oeSl7cyYmZS5uZXh0KHkpLHUrKzt2YXIgXz0hMTtxbihuKHksbCsrKSkuc3Vic2NyaWJlKFFlKGUsZnVuY3Rpb24oVCl7aT8uKFQpLHM/ZihUKTplLm5leHQoVCl9LGZ1bmN0aW9uKCl7Xz0hMH0sdm9pZCAwLGZ1bmN0aW9uKCl7aWYoXyl0cnl7dS0tO2Zvcih2YXIgVD1mdW5jdGlvbigpe3ZhciBDPWMuc2hpZnQoKTtvP05uKGUsbyxmdW5jdGlvbigpe3JldHVybiBtKEMpfSk6bShDKX07Yy5sZW5ndGgmJnU8cjspVCgpO2QoKX1jYXRjaChDKXtlLmVycm9yKEMpfX0pKX07cmV0dXJuIHQuc3Vic2NyaWJlKFFlKGUsZixmdW5jdGlvbigpe2g9ITAsZCgpfSkpLGZ1bmN0aW9uKCl7YT8uKCl9fWZ1bmN0aW9uIHd0KHQsZSxuKXtyZXR1cm4gbj09PXZvaWQgMCYmKG49MS8wKSxEZShlKT93dChmdW5jdGlvbihyLGkpe3JldHVybiB5ZShmdW5jdGlvbihzLG8pe3JldHVybiBlKHIscyxpLG8pfSkocW4odChyLGkpKSl9LG4pOih0eXBlb2YgZT09Im51bWJlciImJihuPWUpLGF0KGZ1bmN0aW9uKHIsaSl7cmV0dXJuIFlSKHIsaSx0LG4pfSkpfWZ1bmN0aW9uIEpSKHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0xLzApLHd0KFpyLHQpfWZ1bmN0aW9uIGViKCl7cmV0dXJuIEpSKDEpfWZ1bmN0aW9uIGZoKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3JldHVybiBlYigpKEl0KHQsWmModCkpKX1mdW5jdGlvbiB3Xyh0KXtyZXR1cm4gbmV3IExlKGZ1bmN0aW9uKGUpe3FuKHQoKSkuc3Vic2NyaWJlKGUpfSl9ZnVuY3Rpb24geG4odCxlKXtyZXR1cm4gYXQoZnVuY3Rpb24obixyKXt2YXIgaT0wO24uc3Vic2NyaWJlKFFlKHIsZnVuY3Rpb24ocyl7cmV0dXJuIHQuY2FsbChlLHMsaSsrKSYmci5uZXh0KHMpfSkpfSl9ZnVuY3Rpb24gd2kodCl7cmV0dXJuIGF0KGZ1bmN0aW9uKGUsbil7dmFyIHI9bnVsbCxpPSExLHM7cj1lLnN1YnNjcmliZShRZShuLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24obyl7cz1xbih0KG8sd2kodCkoZSkpKSxyPyhyLnVuc3Vic2NyaWJlKCkscj1udWxsLHMuc3Vic2NyaWJlKG4pKTppPSEwfSkpLGkmJihyLnVuc3Vic2NyaWJlKCkscj1udWxsLHMuc3Vic2NyaWJlKG4pKX0pfWZ1bmN0aW9uIHRiKHQsZSxuLHIsaSl7cmV0dXJuIGZ1bmN0aW9uKHMsbyl7dmFyIGE9bixjPWUsdT0wO3Muc3Vic2NyaWJlKFFlKG8sZnVuY3Rpb24obCl7dmFyIGg9dSsrO2M9YT90KGMsbCxoKTooYT0hMCxsKSxyJiZvLm5leHQoYyl9LGkmJmZ1bmN0aW9uKCl7YSYmby5uZXh0KGMpLG8uY29tcGxldGUoKX0pKX19ZnVuY3Rpb24gWXModCxlKXtyZXR1cm4gRGUoZSk/d3QodCxlLDEpOnd0KHQsMSl9ZnVuY3Rpb24gZXUodCl7cmV0dXJuIGF0KGZ1bmN0aW9uKGUsbil7dmFyIHI9ITE7ZS5zdWJzY3JpYmUoUWUobixmdW5jdGlvbihpKXtyPSEwLG4ubmV4dChpKX0sZnVuY3Rpb24oKXtyfHxuLm5leHQodCksbi5jb21wbGV0ZSgpfSkpfSl9ZnVuY3Rpb24gT2kodCl7cmV0dXJuIHQ8PTA/ZnVuY3Rpb24oKXtyZXR1cm4gSm59OmF0KGZ1bmN0aW9uKGUsbil7dmFyIHI9MDtlLnN1YnNjcmliZShRZShuLGZ1bmN0aW9uKGkpeysrcjw9dCYmKG4ubmV4dChpKSx0PD1yJiZuLmNvbXBsZXRlKCkpfSkpfSl9ZnVuY3Rpb24gbmIodCl7cmV0dXJuIHllKGZ1bmN0aW9uKCl7cmV0dXJuIHR9KX1mdW5jdGlvbiBJXyh0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9cmIpLGF0KGZ1bmN0aW9uKGUsbil7dmFyIHI9ITE7ZS5zdWJzY3JpYmUoUWUobixmdW5jdGlvbihpKXtyPSEwLG4ubmV4dChpKX0sZnVuY3Rpb24oKXtyZXR1cm4gcj9uLmNvbXBsZXRlKCk6bi5lcnJvcih0KCkpfSkpfSl9ZnVuY3Rpb24gcmIoKXtyZXR1cm4gbmV3IFZvfWZ1bmN0aW9uIGNjKHQpe3JldHVybiBhdChmdW5jdGlvbihlLG4pe3RyeXtlLnN1YnNjcmliZShuKX1maW5hbGx5e24uYWRkKHQpfX0pfWZ1bmN0aW9uIGZyKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD49MjtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHIucGlwZSh0P3huKGZ1bmN0aW9uKGkscyl7cmV0dXJuIHQoaSxzLHIpfSk6WnIsT2koMSksbj9ldShlKTpJXyhmdW5jdGlvbigpe3JldHVybiBuZXcgVm99KSl9fWZ1bmN0aW9uIEpkKHQpe3JldHVybiB0PD0wP2Z1bmN0aW9uKCl7cmV0dXJuIEpufTphdChmdW5jdGlvbihlLG4pe3ZhciByPVtdO2Uuc3Vic2NyaWJlKFFlKG4sZnVuY3Rpb24oaSl7ci5wdXNoKGkpLHQ8ci5sZW5ndGgmJnIuc2hpZnQoKX0sZnVuY3Rpb24oKXt2YXIgaSxzO3RyeXtmb3IodmFyIG89THIociksYT1vLm5leHQoKTshYS5kb25lO2E9by5uZXh0KCkpe3ZhciBjPWEudmFsdWU7bi5uZXh0KGMpfX1jYXRjaCh1KXtpPXtlcnJvcjp1fX1maW5hbGx5e3RyeXthJiYhYS5kb25lJiYocz1vLnJldHVybikmJnMuY2FsbChvKX1maW5hbGx5e2lmKGkpdGhyb3cgaS5lcnJvcn19bi5jb21wbGV0ZSgpfSx2b2lkIDAsZnVuY3Rpb24oKXtyPW51bGx9KSl9KX1mdW5jdGlvbiBpYih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+PTI7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiByLnBpcGUodD94bihmdW5jdGlvbihpLHMpe3JldHVybiB0KGkscyxyKX0pOlpyLEpkKDEpLG4/ZXUoZSk6SV8oZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFZvfSkpfX1mdW5jdGlvbiBzYih0LGUpe3JldHVybiBhdCh0Yih0LGUsYXJndW1lbnRzLmxlbmd0aD49MiwhMCkpfWZ1bmN0aW9uIG9iKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3ZhciBuPVpjKHQpO3JldHVybiBhdChmdW5jdGlvbihyLGkpeyhuP2ZoKHQscixuKTpmaCh0LHIpKS5zdWJzY3JpYmUoaSl9KX1mdW5jdGlvbiBubih0LGUpe3JldHVybiBhdChmdW5jdGlvbihuLHIpe3ZhciBpPW51bGwscz0wLG89ITEsYT1mdW5jdGlvbigpe3JldHVybiBvJiYhaSYmci5jb21wbGV0ZSgpfTtuLnN1YnNjcmliZShRZShyLGZ1bmN0aW9uKGMpe2k/LnVuc3Vic2NyaWJlKCk7dmFyIHU9MCxsPXMrKztxbih0KGMsbCkpLnN1YnNjcmliZShpPVFlKHIsZnVuY3Rpb24oaCl7cmV0dXJuIHIubmV4dChlP2UoYyxoLGwsdSsrKTpoKX0sZnVuY3Rpb24oKXtpPW51bGwsYSgpfSkpfSxmdW5jdGlvbigpe289ITAsYSgpfSkpfSl9ZnVuY3Rpb24gYWIodCl7cmV0dXJuIGF0KGZ1bmN0aW9uKGUsbil7cW4odCkuc3Vic2NyaWJlKFFlKG4sZnVuY3Rpb24oKXtyZXR1cm4gbi5jb21wbGV0ZSgpfSxsaCkpLCFuLmNsb3NlZCYmZS5zdWJzY3JpYmUobil9KX1mdW5jdGlvbiBxZSh0LGUsbil7dmFyIHI9RGUodCl8fGV8fG4/e25leHQ6dCxlcnJvcjplLGNvbXBsZXRlOm59OnQ7cmV0dXJuIHI/YXQoZnVuY3Rpb24oaSxzKXt2YXIgbzsobz1yLnN1YnNjcmliZSk9PT1udWxsfHxvPT09dm9pZCAwfHxvLmNhbGwocik7dmFyIGE9ITA7aS5zdWJzY3JpYmUoUWUocyxmdW5jdGlvbihjKXt2YXIgdTsodT1yLm5leHQpPT09bnVsbHx8dT09PXZvaWQgMHx8dS5jYWxsKHIsYykscy5uZXh0KGMpfSxmdW5jdGlvbigpe3ZhciBjO2E9ITEsKGM9ci5jb21wbGV0ZSk9PT1udWxsfHxjPT09dm9pZCAwfHxjLmNhbGwocikscy5jb21wbGV0ZSgpfSxmdW5jdGlvbihjKXt2YXIgdTthPSExLCh1PXIuZXJyb3IpPT09bnVsbHx8dT09PXZvaWQgMHx8dS5jYWxsKHIsYykscy5lcnJvcihjKX0sZnVuY3Rpb24oKXt2YXIgYyx1O2EmJigoYz1yLnVuc3Vic2NyaWJlKT09PW51bGx8fGM9PT12b2lkIDB8fGMuY2FsbChyKSksKHU9ci5maW5hbGl6ZSk9PT1udWxsfHx1PT09dm9pZCAwfHx1LmNhbGwocil9KSl9KTpacn1jb25zdCBUXz0iaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcyI7Y2xhc3MgVyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsbil7c3VwZXIoY2IoZSxuKSksdGhpcy5jb2RlPWV9fWZ1bmN0aW9uIGNiKHQsZSl7cmV0dXJuYCR7YE5HMCR7TWF0aC5hYnModCl9YH0ke2U/IjogIitlOiIifWB9Y2xhc3MgdWIgZXh0ZW5kcyBPbntjb25zdHJ1Y3RvcihlPSExKXtzdXBlcigpLHRoaXMuX19pc0FzeW5jPWV9ZW1pdChlKXtzdXBlci5uZXh0KGUpfXN1YnNjcmliZShlLG4scil7bGV0IGk9ZSxzPW58fCgoKT0+bnVsbCksbz1yO2lmKGUmJnR5cGVvZiBlPT0ib2JqZWN0Iil7Y29uc3QgYz1lO2k9Yy5uZXh0Py5iaW5kKGMpLHM9Yy5lcnJvcj8uYmluZChjKSxvPWMuY29tcGxldGU/LmJpbmQoYyl9dGhpcy5fX2lzQXN5bmMmJihzPXlsKHMpLGkmJihpPXlsKGkpKSxvJiYobz15bChvKSkpO2NvbnN0IGE9c3VwZXIuc3Vic2NyaWJlKHtuZXh0OmksZXJyb3I6cyxjb21wbGV0ZTpvfSk7cmV0dXJuIGUgaW5zdGFuY2VvZiBwbiYmZS5hZGQoYSksYX19ZnVuY3Rpb24geWwodCl7cmV0dXJuIGU9PntzZXRUaW1lb3V0KHQsdm9pZCAwLGUpfX1jb25zdCBBbj11Yjt2YXIgdWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5EZWZhdWx0PTBdPSJEZWZhdWx0Iix0W3QuSG9zdD0xXT0iSG9zdCIsdFt0LlNlbGY9Ml09IlNlbGYiLHRbdC5Ta2lwU2VsZj00XT0iU2tpcFNlbGYiLHRbdC5PcHRpb25hbD04XT0iT3B0aW9uYWwiLHR9KHVlfHx7fSk7ZnVuY3Rpb24gRnQodCl7aWYodHlwZW9mIHQ9PSJzdHJpbmciKXJldHVybiB0O2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIlsiK3QubWFwKEZ0KS5qb2luKCIsICIpKyJdIjtpZih0PT1udWxsKXJldHVybiIiK3Q7aWYodC5vdmVycmlkZGVuTmFtZSlyZXR1cm5gJHt0Lm92ZXJyaWRkZW5OYW1lfWA7aWYodC5uYW1lKXJldHVybmAke3QubmFtZX1gO2NvbnN0IGU9dC50b1N0cmluZygpO2lmKGU9PW51bGwpcmV0dXJuIiIrZTtjb25zdCBuPWUuaW5kZXhPZihgCmApO3JldHVybiBuPT09LTE/ZTplLnN1YnN0cmluZygwLG4pfWZ1bmN0aW9uIHBoKHQsZSl7cmV0dXJuIHQ9PW51bGx8fHQ9PT0iIj9lPT09bnVsbD8iIjplOmU9PW51bGx8fGU9PT0iIj90OnQrIiAiK2V9dmFyIFNfPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuT25QdXNoPTBdPSJPblB1c2giLHRbdC5EZWZhdWx0PTFdPSJEZWZhdWx0Iix0fShTX3x8e30pLFJuPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuRW11bGF0ZWQ9MF09IkVtdWxhdGVkIix0W3QuTm9uZT0yXT0iTm9uZSIsdFt0LlNoYWRvd0RvbT0zXT0iU2hhZG93RG9tIix0fShSbnx8e30pO2Z1bmN0aW9uIEZvKHQpe3JldHVybnt0b1N0cmluZzp0fS50b1N0cmluZygpfWNvbnN0IFVhPWdsb2JhbFRoaXM7Y29uc3QgdXI9e30sQXQ9W107ZnVuY3Rpb24gVGUodCl7Zm9yKGxldCBlIGluIHQpaWYodFtlXT09PVRlKXJldHVybiBlO3Rocm93IEVycm9yKCJDb3VsZCBub3QgZmluZCByZW5hbWVkIHByb3BlcnR5IG9uIHRhcmdldCBvYmplY3QuIil9Y29uc3QgbGI9VGUoe8m1Y21wOlRlfSksaGI9VGUoe8m1ZGlyOlRlfSksZGI9VGUoe8m1cGlwZTpUZX0pLGZiPVRlKHvJtW1vZDpUZX0pLHVjPVRlKHvJtWZhYzpUZX0pLE1zPVRlKHtfX05HX0VMRU1FTlRfSURfXzpUZX0pLFdnPVRlKHtfX05HX0VOVl9JRF9fOlRlfSk7dmFyIFZyPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuTm9uZT0wXT0iTm9uZSIsdFt0LlNpZ25hbEJhc2VkPTFdPSJTaWduYWxCYXNlZCIsdFt0Lkhhc0RlY29yYXRvcklucHV0VHJhbnNmb3JtPTJdPSJIYXNEZWNvcmF0b3JJbnB1dFRyYW5zZm9ybSIsdH0oVnJ8fHt9KTtmdW5jdGlvbiBDXyh0LGUsbil7bGV0IHI9dC5sZW5ndGg7Zm9yKDs7KXtjb25zdCBpPXQuaW5kZXhPZihlLG4pO2lmKGk9PT0tMSlyZXR1cm4gaTtpZihpPT09MHx8dC5jaGFyQ29kZUF0KGktMSk8PTMyKXtjb25zdCBzPWUubGVuZ3RoO2lmKGkrcz09PXJ8fHQuY2hhckNvZGVBdChpK3MpPD0zMilyZXR1cm4gaX1uPWkrMX19ZnVuY3Rpb24gZ2godCxlLG4pe2xldCByPTA7Zm9yKDtyPG4ubGVuZ3RoOyl7Y29uc3QgaT1uW3JdO2lmKHR5cGVvZiBpPT0ibnVtYmVyIil7aWYoaSE9PTApYnJlYWs7cisrO2NvbnN0IHM9bltyKytdLG89bltyKytdLGE9bltyKytdO3Quc2V0QXR0cmlidXRlKGUsbyxhLHMpfWVsc2V7Y29uc3Qgcz1pLG89blsrK3JdO2diKHMpP3Quc2V0UHJvcGVydHkoZSxzLG8pOnQuc2V0QXR0cmlidXRlKGUscyxvKSxyKyt9fXJldHVybiByfWZ1bmN0aW9uIHBiKHQpe3JldHVybiB0PT09M3x8dD09PTR8fHQ9PT02fWZ1bmN0aW9uIGdiKHQpe3JldHVybiB0LmNoYXJDb2RlQXQoMCk9PT02NH1mdW5jdGlvbiBlZih0LGUpe2lmKCEoZT09PW51bGx8fGUubGVuZ3RoPT09MCkpaWYodD09PW51bGx8fHQubGVuZ3RoPT09MCl0PWUuc2xpY2UoKTtlbHNle2xldCBuPS0xO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBpPWVbcl07dHlwZW9mIGk9PSJudW1iZXIiP249aTpuPT09MHx8KG49PT0tMXx8bj09PTI/R2codCxuLGksbnVsbCxlWysrcl0pOkdnKHQsbixpLG51bGwsbnVsbCkpfX1yZXR1cm4gdH1mdW5jdGlvbiBHZyh0LGUsbixyLGkpe2xldCBzPTAsbz10Lmxlbmd0aDtpZihlPT09LTEpbz0tMTtlbHNlIGZvcig7czx0Lmxlbmd0aDspe2NvbnN0IGE9dFtzKytdO2lmKHR5cGVvZiBhPT0ibnVtYmVyIil7aWYoYT09PWUpe289LTE7YnJlYWt9ZWxzZSBpZihhPmUpe289cy0xO2JyZWFrfX19Zm9yKDtzPHQubGVuZ3RoOyl7Y29uc3QgYT10W3NdO2lmKHR5cGVvZiBhPT0ibnVtYmVyIilicmVhaztpZihhPT09bil7aWYocj09PW51bGwpe2khPT1udWxsJiYodFtzKzFdPWkpO3JldHVybn1lbHNlIGlmKHI9PT10W3MrMV0pe3RbcysyXT1pO3JldHVybn19cysrLHIhPT1udWxsJiZzKyssaSE9PW51bGwmJnMrK31vIT09LTEmJih0LnNwbGljZShvLDAsZSkscz1vKzEpLHQuc3BsaWNlKHMrKywwLG4pLHIhPT1udWxsJiZ0LnNwbGljZShzKyssMCxyKSxpIT09bnVsbCYmdC5zcGxpY2UocysrLDAsaSl9Y29uc3QgQV89Im5nLXRlbXBsYXRlIjtmdW5jdGlvbiBtYih0LGUsbil7bGV0IHI9MCxpPSEwO2Zvcig7cjx0Lmxlbmd0aDspe2xldCBzPXRbcisrXTtpZih0eXBlb2Ygcz09InN0cmluZyImJmkpe2NvbnN0IG89dFtyKytdO2lmKG4mJnM9PT0iY2xhc3MiJiZDXyhvLnRvTG93ZXJDYXNlKCksZSwwKSE9PS0xKXJldHVybiEwfWVsc2UgaWYocz09PTEpe2Zvcig7cjx0Lmxlbmd0aCYmdHlwZW9mKHM9dFtyKytdKT09InN0cmluZyI7KWlmKHMudG9Mb3dlckNhc2UoKT09PWUpcmV0dXJuITA7cmV0dXJuITF9ZWxzZSB0eXBlb2Ygcz09Im51bWJlciImJihpPSExKX1yZXR1cm4hMX1mdW5jdGlvbiBSXyh0KXtyZXR1cm4gdC50eXBlPT09NCYmdC52YWx1ZSE9PUFffWZ1bmN0aW9uIHliKHQsZSxuKXtjb25zdCByPXQudHlwZT09PTQmJiFuP0FfOnQudmFsdWU7cmV0dXJuIGU9PT1yfWZ1bmN0aW9uIHZiKHQsZSxuKXtsZXQgcj00O2NvbnN0IGk9dC5hdHRyc3x8W10scz13YihpKTtsZXQgbz0hMTtmb3IobGV0IGE9MDthPGUubGVuZ3RoO2ErKyl7Y29uc3QgYz1lW2FdO2lmKHR5cGVvZiBjPT0ibnVtYmVyIil7aWYoIW8mJiF6dChyKSYmIXp0KGMpKXJldHVybiExO2lmKG8mJnp0KGMpKWNvbnRpbnVlO289ITEscj1jfHImMTtjb250aW51ZX1pZighbylpZihyJjQpe2lmKHI9MnxyJjEsYyE9PSIiJiYheWIodCxjLG4pfHxjPT09IiImJmUubGVuZ3RoPT09MSl7aWYoenQocikpcmV0dXJuITE7bz0hMH19ZWxzZXtjb25zdCB1PXImOD9jOmVbKythXTtpZihyJjgmJnQuYXR0cnMhPT1udWxsKXtpZighbWIodC5hdHRycyx1LG4pKXtpZih6dChyKSlyZXR1cm4hMTtvPSEwfWNvbnRpbnVlfWNvbnN0IGw9ciY4PyJjbGFzcyI6YyxoPV9iKGwsaSxSXyh0KSxuKTtpZihoPT09LTEpe2lmKHp0KHIpKXJldHVybiExO289ITA7Y29udGludWV9aWYodSE9PSIiKXtsZXQgZDtoPnM/ZD0iIjpkPWlbaCsxXS50b0xvd2VyQ2FzZSgpO2NvbnN0IGY9ciY4P2Q6bnVsbDtpZihmJiZDXyhmLHUsMCkhPT0tMXx8ciYyJiZ1IT09ZCl7aWYoenQocikpcmV0dXJuITE7bz0hMH19fX1yZXR1cm4genQocil8fG99ZnVuY3Rpb24genQodCl7cmV0dXJuKHQmMSk9PT0wfWZ1bmN0aW9uIF9iKHQsZSxuLHIpe2lmKGU9PT1udWxsKXJldHVybi0xO2xldCBpPTA7aWYocnx8IW4pe2xldCBzPSExO2Zvcig7aTxlLmxlbmd0aDspe2NvbnN0IG89ZVtpXTtpZihvPT09dClyZXR1cm4gaTtpZihvPT09M3x8bz09PTYpcz0hMDtlbHNlIGlmKG89PT0xfHxvPT09Mil7bGV0IGE9ZVsrK2ldO2Zvcig7dHlwZW9mIGE9PSJzdHJpbmciOylhPWVbKytpXTtjb250aW51ZX1lbHNle2lmKG89PT00KWJyZWFrO2lmKG89PT0wKXtpKz00O2NvbnRpbnVlfX1pKz1zPzE6Mn1yZXR1cm4tMX1lbHNlIHJldHVybiBJYihlLHQpfWZ1bmN0aW9uIEViKHQsZSxuPSExKXtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKylpZih2Yih0LGVbcl0sbikpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gd2IodCl7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspe2NvbnN0IG49dFtlXTtpZihwYihuKSlyZXR1cm4gZX1yZXR1cm4gdC5sZW5ndGh9ZnVuY3Rpb24gSWIodCxlKXtsZXQgbj10LmluZGV4T2YoNCk7aWYobj4tMSlmb3IobisrO248dC5sZW5ndGg7KXtjb25zdCByPXRbbl07aWYodHlwZW9mIHI9PSJudW1iZXIiKXJldHVybi0xO2lmKHI9PT1lKXJldHVybiBuO24rK31yZXR1cm4tMX1mdW5jdGlvbiBLZyh0LGUpe3JldHVybiB0PyI6bm90KCIrZS50cmltKCkrIikiOmV9ZnVuY3Rpb24gVGIodCl7bGV0IGU9dFswXSxuPTEscj0yLGk9IiIscz0hMTtmb3IoO248dC5sZW5ndGg7KXtsZXQgbz10W25dO2lmKHR5cGVvZiBvPT0ic3RyaW5nIilpZihyJjIpe2NvbnN0IGE9dFsrK25dO2krPSJbIitvKyhhLmxlbmd0aD4wPyc9IicrYSsnIic6IiIpKyJdIn1lbHNlIHImOD9pKz0iLiIrbzpyJjQmJihpKz0iICIrbyk7ZWxzZSBpIT09IiImJiF6dChvKSYmKGUrPUtnKHMsaSksaT0iIikscj1vLHM9c3x8IXp0KHIpO24rK31yZXR1cm4gaSE9PSIiJiYoZSs9S2cocyxpKSksZX1mdW5jdGlvbiBTYih0KXtyZXR1cm4gdC5tYXAoVGIpLmpvaW4oIiwiKX1mdW5jdGlvbiBDYih0KXtjb25zdCBlPVtdLG49W107bGV0IHI9MSxpPTI7Zm9yKDtyPHQubGVuZ3RoOyl7bGV0IHM9dFtyXTtpZih0eXBlb2Ygcz09InN0cmluZyIpaT09PTI/cyE9PSIiJiZlLnB1c2gocyx0Wysrcl0pOmk9PT04JiZuLnB1c2gocyk7ZWxzZXtpZighenQoaSkpYnJlYWs7aT1zfXIrK31yZXR1cm57YXR0cnM6ZSxjbGFzc2VzOm59fWZ1bmN0aW9uIGJfKHQpe3JldHVybiBGbygoKT0+e2NvbnN0IGU9Tl8odCksbj17Li4uZSxkZWNsczp0LmRlY2xzLHZhcnM6dC52YXJzLHRlbXBsYXRlOnQudGVtcGxhdGUsY29uc3RzOnQuY29uc3RzfHxudWxsLG5nQ29udGVudFNlbGVjdG9yczp0Lm5nQ29udGVudFNlbGVjdG9ycyxvblB1c2g6dC5jaGFuZ2VEZXRlY3Rpb249PT1TXy5PblB1c2gsZGlyZWN0aXZlRGVmczpudWxsLHBpcGVEZWZzOm51bGwsZGVwZW5kZW5jaWVzOmUuc3RhbmRhbG9uZSYmdC5kZXBlbmRlbmNpZXN8fG51bGwsZ2V0U3RhbmRhbG9uZUluamVjdG9yOm51bGwsc2lnbmFsczp0LnNpZ25hbHM/PyExLGRhdGE6dC5kYXRhfHx7fSxlbmNhcHN1bGF0aW9uOnQuZW5jYXBzdWxhdGlvbnx8Um4uRW11bGF0ZWQsc3R5bGVzOnQuc3R5bGVzfHxBdCxfOm51bGwsc2NoZW1hczp0LnNjaGVtYXN8fG51bGwsdFZpZXc6bnVsbCxpZDoiIn07a18obik7Y29uc3Qgcj10LmRlcGVuZGVuY2llcztyZXR1cm4gbi5kaXJlY3RpdmVEZWZzPVpnKHIsITEpLG4ucGlwZURlZnM9WmcociwhMCksbi5pZD1QYihuKSxufSl9ZnVuY3Rpb24gQWIodCl7cmV0dXJuIEZyKHQpfHx0Zih0KX1mdW5jdGlvbiBSYih0KXtyZXR1cm4gdCE9PW51bGx9ZnVuY3Rpb24gdHUodCl7cmV0dXJuIEZvKCgpPT4oe3R5cGU6dC50eXBlLGJvb3RzdHJhcDp0LmJvb3RzdHJhcHx8QXQsZGVjbGFyYXRpb25zOnQuZGVjbGFyYXRpb25zfHxBdCxpbXBvcnRzOnQuaW1wb3J0c3x8QXQsZXhwb3J0czp0LmV4cG9ydHN8fEF0LHRyYW5zaXRpdmVDb21waWxlU2NvcGVzOm51bGwsc2NoZW1hczp0LnNjaGVtYXN8fG51bGwsaWQ6dC5pZHx8bnVsbH0pKX1mdW5jdGlvbiBRZyh0LGUpe2lmKHQ9PW51bGwpcmV0dXJuIHVyO2NvbnN0IG49e307Zm9yKGNvbnN0IHIgaW4gdClpZih0Lmhhc093blByb3BlcnR5KHIpKXtjb25zdCBpPXRbcl07bGV0IHMsbyxhPVZyLk5vbmU7QXJyYXkuaXNBcnJheShpKT8oYT1pWzBdLHM9aVsxXSxvPWlbMl0/P3MpOihzPWksbz1pKSxlPyhuW3NdPWEhPT1Wci5Ob25lP1tyLGFdOnIsZVtzXT1vKTpuW3NdPXJ9cmV0dXJuIG59ZnVuY3Rpb24gRF8odCl7cmV0dXJuIEZvKCgpPT57Y29uc3QgZT1OXyh0KTtyZXR1cm4ga18oZSksZX0pfWZ1bmN0aW9uIGJiKHQpe3JldHVybnt0eXBlOnQudHlwZSxuYW1lOnQubmFtZSxmYWN0b3J5Om51bGwscHVyZTp0LnB1cmUhPT0hMSxzdGFuZGFsb25lOnQuc3RhbmRhbG9uZT09PSEwLG9uRGVzdHJveTp0LnR5cGUucHJvdG90eXBlLm5nT25EZXN0cm95fHxudWxsfX1mdW5jdGlvbiBGcih0KXtyZXR1cm4gdFtsYl18fG51bGx9ZnVuY3Rpb24gdGYodCl7cmV0dXJuIHRbaGJdfHxudWxsfWZ1bmN0aW9uIFBfKHQpe3JldHVybiB0W2RiXXx8bnVsbH1mdW5jdGlvbiBEYih0KXtjb25zdCBlPUZyKHQpfHx0Zih0KXx8UF8odCk7cmV0dXJuIGUhPT1udWxsP2Uuc3RhbmRhbG9uZTohMX1mdW5jdGlvbiBNXyh0LGUpe2NvbnN0IG49dFtmYl18fG51bGw7aWYoIW4mJmU9PT0hMCl0aHJvdyBuZXcgRXJyb3IoYFR5cGUgJHtGdCh0KX0gZG9lcyBub3QgaGF2ZSAnybVtb2QnIHByb3BlcnR5LmApO3JldHVybiBufWZ1bmN0aW9uIE5fKHQpe2NvbnN0IGU9e307cmV0dXJue3R5cGU6dC50eXBlLHByb3ZpZGVyc1Jlc29sdmVyOm51bGwsZmFjdG9yeTpudWxsLGhvc3RCaW5kaW5nczp0Lmhvc3RCaW5kaW5nc3x8bnVsbCxob3N0VmFyczp0Lmhvc3RWYXJzfHwwLGhvc3RBdHRyczp0Lmhvc3RBdHRyc3x8bnVsbCxjb250ZW50UXVlcmllczp0LmNvbnRlbnRRdWVyaWVzfHxudWxsLGRlY2xhcmVkSW5wdXRzOmUsaW5wdXRUcmFuc2Zvcm1zOm51bGwsaW5wdXRDb25maWc6dC5pbnB1dHN8fHVyLGV4cG9ydEFzOnQuZXhwb3J0QXN8fG51bGwsc3RhbmRhbG9uZTp0LnN0YW5kYWxvbmU9PT0hMCxzaWduYWxzOnQuc2lnbmFscz09PSEwLHNlbGVjdG9yczp0LnNlbGVjdG9yc3x8QXQsdmlld1F1ZXJ5OnQudmlld1F1ZXJ5fHxudWxsLGZlYXR1cmVzOnQuZmVhdHVyZXN8fG51bGwsc2V0SW5wdXQ6bnVsbCxmaW5kSG9zdERpcmVjdGl2ZURlZnM6bnVsbCxob3N0RGlyZWN0aXZlczpudWxsLGlucHV0czpRZyh0LmlucHV0cyxlKSxvdXRwdXRzOlFnKHQub3V0cHV0cyksZGVidWdJbmZvOm51bGx9fWZ1bmN0aW9uIGtfKHQpe3QuZmVhdHVyZXM/LmZvckVhY2goZT0+ZSh0KSl9ZnVuY3Rpb24gWmcodCxlKXtpZighdClyZXR1cm4gbnVsbDtjb25zdCBuPWU/UF86QWI7cmV0dXJuKCk9Pih0eXBlb2YgdD09ImZ1bmN0aW9uIj90KCk6dCkubWFwKHI9Pm4ocikpLmZpbHRlcihSYil9ZnVuY3Rpb24gUGIodCl7bGV0IGU9MDtjb25zdCBuPVt0LnNlbGVjdG9ycyx0Lm5nQ29udGVudFNlbGVjdG9ycyx0Lmhvc3RWYXJzLHQuaG9zdEF0dHJzLHQuY29uc3RzLHQudmFycyx0LmRlY2xzLHQuZW5jYXBzdWxhdGlvbix0LnN0YW5kYWxvbmUsdC5zaWduYWxzLHQuZXhwb3J0QXMsSlNPTi5zdHJpbmdpZnkodC5pbnB1dHMpLEpTT04uc3RyaW5naWZ5KHQub3V0cHV0cyksT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModC50eXBlLnByb3RvdHlwZSksISF0LmNvbnRlbnRRdWVyaWVzLCEhdC52aWV3UXVlcnldLmpvaW4oInwiKTtmb3IoY29uc3QgaSBvZiBuKWU9TWF0aC5pbXVsKDMxLGUpK2kuY2hhckNvZGVBdCgwKTw8MDtyZXR1cm4gZSs9MjE0NzQ4MzY0OCwiYyIrZX1jb25zdCBNdD0wLGllPTEsRz0yLHN0PTMsS3Q9NCxKdD01LExuPTYsSnM9NyxkdD04LHhpPTksVm49MTAsWmU9MTEsZW89MTIsWGc9MTMsbnM9MTQsTnQ9MTUsbnU9MTYsZmk9MTcsTGk9MTgscnU9MTksT189MjAsdHI9MjEsSWk9MjIsVXI9MjMsWGU9MjUseF89MSx0bz02LEZuPTcsbGM9OCxoYz05LGZ0PTEwO3ZhciBuZj1mdW5jdGlvbih0KXtyZXR1cm4gdFt0Lk5vbmU9MF09Ik5vbmUiLHRbdC5IYXNUcmFuc3BsYW50ZWRWaWV3cz0yXT0iSGFzVHJhbnNwbGFudGVkVmlld3MiLHR9KG5mfHx7fSk7ZnVuY3Rpb24ga24odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCkmJnR5cGVvZiB0W3hfXT09Im9iamVjdCJ9ZnVuY3Rpb24gX24odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCkmJnRbeF9dPT09ITB9ZnVuY3Rpb24gTF8odCl7cmV0dXJuKHQuZmxhZ3MmNCkhPT0wfWZ1bmN0aW9uIFVvKHQpe3JldHVybiB0LmNvbXBvbmVudE9mZnNldD4tMX1mdW5jdGlvbiByZih0KXtyZXR1cm4odC5mbGFncyYxKT09PTF9ZnVuY3Rpb24gam8odCl7cmV0dXJuISF0LnRlbXBsYXRlfWZ1bmN0aW9uIFZfKHQpe3JldHVybih0W0ddJjUxMikhPT0wfWNvbnN0IE1iPSJzdmciLE5iPSJtYXRoIjtmdW5jdGlvbiBadCh0KXtmb3IoO0FycmF5LmlzQXJyYXkodCk7KXQ9dFtNdF07cmV0dXJuIHR9ZnVuY3Rpb24gRl8odCxlKXtyZXR1cm4gWnQoZVt0XSl9ZnVuY3Rpb24gQnQodCxlKXtyZXR1cm4gWnQoZVt0LmluZGV4XSl9ZnVuY3Rpb24gc2YodCxlKXtyZXR1cm4gdC5kYXRhW2VdfWZ1bmN0aW9uIGtiKHQsZSl7cmV0dXJuIHRbZV19ZnVuY3Rpb24gcHIodCxlKXtjb25zdCBuPWVbdF07cmV0dXJuIGtuKG4pP246bltNdF19ZnVuY3Rpb24gb2YodCl7cmV0dXJuKHRbR10mMTI4KT09PTEyOH1mdW5jdGlvbiBPYih0KXtyZXR1cm4gX24odFtzdF0pfWZ1bmN0aW9uIGRjKHQsZSl7cmV0dXJuIGU9PW51bGw/bnVsbDp0W2VdfWZ1bmN0aW9uIFVfKHQpe3RbZmldPTB9ZnVuY3Rpb24geGIodCl7dFtHXSYxMDI0fHwodFtHXXw9MTAyNCxvZih0KSYmaXUodCkpfWZ1bmN0aW9uIExiKHQsZSl7Zm9yKDt0PjA7KWU9ZVtuc10sdC0tO3JldHVybiBlfWZ1bmN0aW9uIGFmKHQpe3JldHVybiEhKHRbR10mOTIxNnx8dFtVcl0/LmRpcnR5KX1mdW5jdGlvbiBtaCh0KXthZih0KT9pdSh0KTp0W0ddJjY0JiZ0W1ZuXS5jaGFuZ2VEZXRlY3Rpb25TY2hlZHVsZXI/Lm5vdGlmeSgpfWZ1bmN0aW9uIGl1KHQpe3RbVm5dLmNoYW5nZURldGVjdGlvblNjaGVkdWxlcj8ubm90aWZ5KCk7bGV0IGU9bm8odCk7Zm9yKDtlIT09bnVsbCYmIShlW0ddJjgxOTJ8fChlW0ddfD04MTkyLCFvZihlKSkpOyllPW5vKGUpfWZ1bmN0aW9uIGpfKHQsZSl7aWYoKHRbR10mMjU2KT09PTI1Nil0aHJvdyBuZXcgVyg5MTEsITEpO3RbdHJdPT09bnVsbCYmKHRbdHJdPVtdKSx0W3RyXS5wdXNoKGUpfWZ1bmN0aW9uIFZiKHQsZSl7aWYodFt0cl09PT1udWxsKXJldHVybjtjb25zdCBuPXRbdHJdLmluZGV4T2YoZSk7biE9PS0xJiZ0W3RyXS5zcGxpY2UobiwxKX1mdW5jdGlvbiBubyh0KXtjb25zdCBlPXRbc3RdO3JldHVybiBfbihlKT9lW3N0XTplfWNvbnN0IGxlPXtsRnJhbWU6V18obnVsbCksYmluZGluZ3NFbmFibGVkOiEwLHNraXBIeWRyYXRpb25Sb290VE5vZGU6bnVsbH07ZnVuY3Rpb24gRmIoKXtyZXR1cm4gbGUubEZyYW1lLmVsZW1lbnREZXB0aENvdW50fWZ1bmN0aW9uIFViKCl7bGUubEZyYW1lLmVsZW1lbnREZXB0aENvdW50Kyt9ZnVuY3Rpb24gamIoKXtsZS5sRnJhbWUuZWxlbWVudERlcHRoQ291bnQtLX1mdW5jdGlvbiBzdSgpe3JldHVybiBsZS5za2lwSHlkcmF0aW9uUm9vdFROb2RlIT09bnVsbH1mdW5jdGlvbiAkYih0KXtyZXR1cm4gbGUuc2tpcEh5ZHJhdGlvblJvb3RUTm9kZT09PXR9ZnVuY3Rpb24gQmIodCl7bGUuc2tpcEh5ZHJhdGlvblJvb3RUTm9kZT10fWZ1bmN0aW9uIEhiKCl7bGUuc2tpcEh5ZHJhdGlvblJvb3RUTm9kZT1udWxsfWZ1bmN0aW9uIFBlKCl7cmV0dXJuIGxlLmxGcmFtZS5sVmlld31mdW5jdGlvbiB6bigpe3JldHVybiBsZS5sRnJhbWUudFZpZXd9ZnVuY3Rpb24gaUgodCl7cmV0dXJuIGxlLmxGcmFtZS5jb250ZXh0TFZpZXc9dCx0W2R0XX1mdW5jdGlvbiBzSCh0KXtyZXR1cm4gbGUubEZyYW1lLmNvbnRleHRMVmlldz1udWxsLHR9ZnVuY3Rpb24gRW4oKXtsZXQgdD0kXygpO2Zvcig7dCE9PW51bGwmJnQudHlwZT09PTY0Oyl0PXQucGFyZW50O3JldHVybiB0fWZ1bmN0aW9uICRfKCl7cmV0dXJuIGxlLmxGcmFtZS5jdXJyZW50VE5vZGV9ZnVuY3Rpb24gcWIoKXtjb25zdCB0PWxlLmxGcmFtZSxlPXQuY3VycmVudFROb2RlO3JldHVybiB0LmlzUGFyZW50P2U6ZS5wYXJlbnR9ZnVuY3Rpb24gJG8odCxlKXtjb25zdCBuPWxlLmxGcmFtZTtuLmN1cnJlbnRUTm9kZT10LG4uaXNQYXJlbnQ9ZX1mdW5jdGlvbiBCXygpe3JldHVybiBsZS5sRnJhbWUuaXNQYXJlbnR9ZnVuY3Rpb24gemIoKXtsZS5sRnJhbWUuaXNQYXJlbnQ9ITF9ZnVuY3Rpb24gV2IoKXtjb25zdCB0PWxlLmxGcmFtZTtsZXQgZT10LmJpbmRpbmdSb290SW5kZXg7cmV0dXJuIGU9PT0tMSYmKGU9dC5iaW5kaW5nUm9vdEluZGV4PXQudFZpZXcuYmluZGluZ1N0YXJ0SW5kZXgpLGV9ZnVuY3Rpb24gR2IodCl7cmV0dXJuIGxlLmxGcmFtZS5iaW5kaW5nSW5kZXg9dH1mdW5jdGlvbiBvdSgpe3JldHVybiBsZS5sRnJhbWUuYmluZGluZ0luZGV4Kyt9ZnVuY3Rpb24gS2IodCl7Y29uc3QgZT1sZS5sRnJhbWUsbj1lLmJpbmRpbmdJbmRleDtyZXR1cm4gZS5iaW5kaW5nSW5kZXg9ZS5iaW5kaW5nSW5kZXgrdCxufWZ1bmN0aW9uIFFiKCl7cmV0dXJuIGxlLmxGcmFtZS5pbkkxOG59ZnVuY3Rpb24gWmIodCxlKXtjb25zdCBuPWxlLmxGcmFtZTtuLmJpbmRpbmdJbmRleD1uLmJpbmRpbmdSb290SW5kZXg9dCx5aChlKX1mdW5jdGlvbiBYYigpe3JldHVybiBsZS5sRnJhbWUuY3VycmVudERpcmVjdGl2ZUluZGV4fWZ1bmN0aW9uIHloKHQpe2xlLmxGcmFtZS5jdXJyZW50RGlyZWN0aXZlSW5kZXg9dH1mdW5jdGlvbiBZYih0KXtjb25zdCBlPWxlLmxGcmFtZS5jdXJyZW50RGlyZWN0aXZlSW5kZXg7cmV0dXJuIGU9PT0tMT9udWxsOnRbZV19ZnVuY3Rpb24gSF8odCl7bGUubEZyYW1lLmN1cnJlbnRRdWVyeUluZGV4PXR9ZnVuY3Rpb24gSmIodCl7Y29uc3QgZT10W2llXTtyZXR1cm4gZS50eXBlPT09Mj9lLmRlY2xUTm9kZTplLnR5cGU9PT0xP3RbSnRdOm51bGx9ZnVuY3Rpb24gcV8odCxlLG4pe2lmKG4mdWUuU2tpcFNlbGYpe2xldCBpPWUscz10O2Zvcig7aT1pLnBhcmVudCxpPT09bnVsbCYmIShuJnVlLkhvc3QpOylpZihpPUpiKHMpLGk9PT1udWxsfHwocz1zW25zXSxpLnR5cGUmMTApKWJyZWFrO2lmKGk9PT1udWxsKXJldHVybiExO2U9aSx0PXN9Y29uc3Qgcj1sZS5sRnJhbWU9el8oKTtyZXR1cm4gci5jdXJyZW50VE5vZGU9ZSxyLmxWaWV3PXQsITB9ZnVuY3Rpb24gY2YodCl7Y29uc3QgZT16XygpLG49dFtpZV07bGUubEZyYW1lPWUsZS5jdXJyZW50VE5vZGU9bi5maXJzdENoaWxkLGUubFZpZXc9dCxlLnRWaWV3PW4sZS5jb250ZXh0TFZpZXc9dCxlLmJpbmRpbmdJbmRleD1uLmJpbmRpbmdTdGFydEluZGV4LGUuaW5JMThuPSExfWZ1bmN0aW9uIHpfKCl7Y29uc3QgdD1sZS5sRnJhbWUsZT10PT09bnVsbD9udWxsOnQuY2hpbGQ7cmV0dXJuIGU9PT1udWxsP1dfKHQpOmV9ZnVuY3Rpb24gV18odCl7Y29uc3QgZT17Y3VycmVudFROb2RlOm51bGwsaXNQYXJlbnQ6ITAsbFZpZXc6bnVsbCx0VmlldzpudWxsLHNlbGVjdGVkSW5kZXg6LTEsY29udGV4dExWaWV3Om51bGwsZWxlbWVudERlcHRoQ291bnQ6MCxjdXJyZW50TmFtZXNwYWNlOm51bGwsY3VycmVudERpcmVjdGl2ZUluZGV4Oi0xLGJpbmRpbmdSb290SW5kZXg6LTEsYmluZGluZ0luZGV4Oi0xLGN1cnJlbnRRdWVyeUluZGV4OjAscGFyZW50OnQsY2hpbGQ6bnVsbCxpbkkxOG46ITF9O3JldHVybiB0IT09bnVsbCYmKHQuY2hpbGQ9ZSksZX1mdW5jdGlvbiBHXygpe2NvbnN0IHQ9bGUubEZyYW1lO3JldHVybiBsZS5sRnJhbWU9dC5wYXJlbnQsdC5jdXJyZW50VE5vZGU9bnVsbCx0LmxWaWV3PW51bGwsdH1jb25zdCBLXz1HXztmdW5jdGlvbiB1Zigpe2NvbnN0IHQ9R18oKTt0LmlzUGFyZW50PSEwLHQudFZpZXc9bnVsbCx0LnNlbGVjdGVkSW5kZXg9LTEsdC5jb250ZXh0TFZpZXc9bnVsbCx0LmVsZW1lbnREZXB0aENvdW50PTAsdC5jdXJyZW50RGlyZWN0aXZlSW5kZXg9LTEsdC5jdXJyZW50TmFtZXNwYWNlPW51bGwsdC5iaW5kaW5nUm9vdEluZGV4PS0xLHQuYmluZGluZ0luZGV4PS0xLHQuY3VycmVudFF1ZXJ5SW5kZXg9MH1mdW5jdGlvbiBlRCh0KXtyZXR1cm4obGUubEZyYW1lLmNvbnRleHRMVmlldz1MYih0LGxlLmxGcmFtZS5jb250ZXh0TFZpZXcpKVtkdF19ZnVuY3Rpb24gWHIoKXtyZXR1cm4gbGUubEZyYW1lLnNlbGVjdGVkSW5kZXh9ZnVuY3Rpb24ganIodCl7bGUubEZyYW1lLnNlbGVjdGVkSW5kZXg9dH1mdW5jdGlvbiB0RCgpe2NvbnN0IHQ9bGUubEZyYW1lO3JldHVybiBzZih0LnRWaWV3LHQuc2VsZWN0ZWRJbmRleCl9ZnVuY3Rpb24gUV8oKXtyZXR1cm4gbGUubEZyYW1lLmN1cnJlbnROYW1lc3BhY2V9bGV0IFpfPSEwO2Z1bmN0aW9uIGxmKCl7cmV0dXJuIFpffWZ1bmN0aW9uIHJzKHQpe1pfPXR9ZnVuY3Rpb24gbkQoKXtyZXR1cm4gaGYoRW4oKSxQZSgpKX1mdW5jdGlvbiBoZih0LGUpe3JldHVybiBuZXcgWF8oQnQodCxlKSl9bGV0IFhfPSgoKT0+e3ZhciB0O2NsYXNzIGV7Y29uc3RydWN0b3Iocil7dGhpcy5uYXRpdmVFbGVtZW50PXJ9fXJldHVybiB0PWUsdC5fX05HX0VMRU1FTlRfSURfXz1uRCxlfSkoKTtmdW5jdGlvbiBkZih0LGUpe3QuZm9yRWFjaChuPT5BcnJheS5pc0FycmF5KG4pP2RmKG4sZSk6ZShuKSl9ZnVuY3Rpb24gWV8odCxlLG4pe2U+PXQubGVuZ3RoP3QucHVzaChuKTp0LnNwbGljZShlLDAsbil9ZnVuY3Rpb24gZmModCxlKXtyZXR1cm4gZT49dC5sZW5ndGgtMT90LnBvcCgpOnQuc3BsaWNlKGUsMSlbMF19ZnVuY3Rpb24gckQodCxlLG4scil7bGV0IGk9dC5sZW5ndGg7aWYoaT09ZSl0LnB1c2gobixyKTtlbHNlIGlmKGk9PT0xKXQucHVzaChyLHRbMF0pLHRbMF09bjtlbHNle2ZvcihpLS0sdC5wdXNoKHRbaS0xXSx0W2ldKTtpPmU7KXtjb25zdCBzPWktMjt0W2ldPXRbc10saS0tfXRbZV09bix0W2UrMV09cn19ZnVuY3Rpb24gZmYodCxlLG4pe2xldCByPUJvKHQsZSk7cmV0dXJuIHI+PTA/dFtyfDFdPW46KHI9fnIsckQodCxyLGUsbikpLHJ9ZnVuY3Rpb24gdmwodCxlKXtjb25zdCBuPUJvKHQsZSk7aWYobj49MClyZXR1cm4gdFtufDFdfWZ1bmN0aW9uIEJvKHQsZSl7cmV0dXJuIGlEKHQsZSwxKX1mdW5jdGlvbiBpRCh0LGUsbil7bGV0IHI9MCxpPXQubGVuZ3RoPj5uO2Zvcig7aSE9PXI7KXtjb25zdCBzPXIrKGktcj4+MSksbz10W3M8PG5dO2lmKGU9PT1vKXJldHVybiBzPDxuO28+ZT9pPXM6cj1zKzF9cmV0dXJufihpPDxuKX1jb25zdCBzRD0ibmdTa2lwSHlkcmF0aW9uIixvRD0ibmdza2lwaHlkcmF0aW9uIjtmdW5jdGlvbiBKXyh0KXtjb25zdCBlPXQubWVyZ2VkQXR0cnM7aWYoZT09PW51bGwpcmV0dXJuITE7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKz0yKXtjb25zdCByPWVbbl07aWYodHlwZW9mIHI9PSJudW1iZXIiKXJldHVybiExO2lmKHR5cGVvZiByPT0ic3RyaW5nIiYmci50b0xvd2VyQ2FzZSgpPT09b0QpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gZUUodCl7cmV0dXJuIHQuaGFzQXR0cmlidXRlKHNEKX1mdW5jdGlvbiBwYyh0KXtyZXR1cm4odC5mbGFncyYxMjgpPT09MTI4fWZ1bmN0aW9uIGFEKHQpe2lmKHBjKHQpKXJldHVybiEwO2xldCBlPXQucGFyZW50O2Zvcig7ZTspe2lmKHBjKHQpfHxKXyhlKSlyZXR1cm4hMDtlPWUucGFyZW50fXJldHVybiExfWxldCB2aDtmdW5jdGlvbiBjRCh0KXt2aD10fWZ1bmN0aW9uIEhvKCl7aWYodmghPT12b2lkIDApcmV0dXJuIHZoO2lmKHR5cGVvZiBkb2N1bWVudDwidSIpcmV0dXJuIGRvY3VtZW50O3Rocm93IG5ldyBXKDIxMCwhMSl9ZnVuY3Rpb24gcSh0KXtyZXR1cm57dG9rZW46dC50b2tlbixwcm92aWRlZEluOnQucHJvdmlkZWRJbnx8bnVsbCxmYWN0b3J5OnQuZmFjdG9yeSx2YWx1ZTp2b2lkIDB9fWZ1bmN0aW9uIGF1KHQpe3JldHVybntwcm92aWRlcnM6dC5wcm92aWRlcnN8fFtdLGltcG9ydHM6dC5pbXBvcnRzfHxbXX19ZnVuY3Rpb24gY3UodCl7cmV0dXJuIFlnKHQsdEUpfHxZZyh0LG5FKX1mdW5jdGlvbiB1RCh0KXtyZXR1cm4gY3UodCkhPT1udWxsfWZ1bmN0aW9uIFlnKHQsZSl7cmV0dXJuIHQuaGFzT3duUHJvcGVydHkoZSk/dFtlXTpudWxsfWZ1bmN0aW9uIGxEKHQpe2NvbnN0IGU9dCYmKHRbdEVdfHx0W25FXSk7cmV0dXJuIGV8fG51bGx9ZnVuY3Rpb24gSmcodCl7cmV0dXJuIHQmJih0Lmhhc093blByb3BlcnR5KGVtKXx8dC5oYXNPd25Qcm9wZXJ0eShoRCkpP3RbZW1dOm51bGx9Y29uc3QgdEU9VGUoe8m1cHJvdjpUZX0pLGVtPVRlKHvJtWluajpUZX0pLG5FPVRlKHtuZ0luamVjdGFibGVEZWY6VGV9KSxoRD1UZSh7bmdJbmplY3RvckRlZjpUZX0pO2NsYXNzIHNle2NvbnN0cnVjdG9yKGUsbil7dGhpcy5fZGVzYz1lLHRoaXMubmdNZXRhZGF0YU5hbWU9IkluamVjdGlvblRva2VuIix0aGlzLsm1cHJvdj12b2lkIDAsdHlwZW9mIG49PSJudW1iZXIiP3RoaXMuX19OR19FTEVNRU5UX0lEX189bjpuIT09dm9pZCAwJiYodGhpcy7JtXByb3Y9cSh7dG9rZW46dGhpcyxwcm92aWRlZEluOm4ucHJvdmlkZWRJbnx8InJvb3QiLGZhY3Rvcnk6bi5mYWN0b3J5fSkpfWdldCBtdWx0aSgpe3JldHVybiB0aGlzfXRvU3RyaW5nKCl7cmV0dXJuYEluamVjdGlvblRva2VuICR7dGhpcy5fZGVzY31gfX1jb25zdCBwZj1uZXcgc2UoIiIse3Byb3ZpZGVkSW46InJvb3QiLGZhY3Rvcnk6KCk9PmREfSksZEQ9Im5nIixyRT1uZXcgc2UoIiIpLGdyPW5ldyBzZSgiIix7cHJvdmlkZWRJbjoicGxhdGZvcm0iLGZhY3Rvcnk6KCk9PiJ1bmtub3duIn0pLGlFPW5ldyBzZSgiIix7cHJvdmlkZWRJbjoicm9vdCIsZmFjdG9yeTooKT0+SG8oKS5ib2R5Py5xdWVyeVNlbGVjdG9yKCJbbmdDc3BOb25jZV0iKT8uZ2V0QXR0cmlidXRlKCJuZ0NzcE5vbmNlIil8fG51bGx9KTtjb25zdCBmRD1UZSh7X19mb3J3YXJkX3JlZl9fOlRlfSk7ZnVuY3Rpb24gc0UodCl7cmV0dXJuIHQuX19mb3J3YXJkX3JlZl9fPXNFLHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gRnQodGhpcygpKX0sdH1mdW5jdGlvbiBSdCh0KXtyZXR1cm4gb0UodCk/dCgpOnR9ZnVuY3Rpb24gb0UodCl7cmV0dXJuIHR5cGVvZiB0PT0iZnVuY3Rpb24iJiZ0Lmhhc093blByb3BlcnR5KGZEKSYmdC5fX2ZvcndhcmRfcmVmX189PT1zRX1mdW5jdGlvbiBhRSh0KXtyZXR1cm4gdCYmISF0Lsm1cHJvdmlkZXJzfWZ1bmN0aW9uIHV1KHQpe3JldHVybiB0eXBlb2YgdD09InN0cmluZyI/dDp0PT1udWxsPyIiOlN0cmluZyh0KX1mdW5jdGlvbiBwRCh0KXtyZXR1cm4gdHlwZW9mIHQ9PSJmdW5jdGlvbiI/dC5uYW1lfHx0LnRvU3RyaW5nKCk6dHlwZW9mIHQ9PSJvYmplY3QiJiZ0IT1udWxsJiZ0eXBlb2YgdC50eXBlPT0iZnVuY3Rpb24iP3QudHlwZS5uYW1lfHx0LnR5cGUudG9TdHJpbmcoKTp1dSh0KX1mdW5jdGlvbiBnRCh0LGUpe2NvbnN0IG49ZT9gLiBEZXBlbmRlbmN5IHBhdGg6ICR7ZS5qb2luKCIgPiAiKX0gPiAke3R9YDoiIjt0aHJvdyBuZXcgVygtMjAwLHQpfWZ1bmN0aW9uIGdmKHQsZSl7dGhyb3cgbmV3IFcoLTIwMSwhMSl9bGV0IF9oO2Z1bmN0aW9uIGNFKCl7cmV0dXJuIF9ofWZ1bmN0aW9uIFN0KHQpe2NvbnN0IGU9X2g7cmV0dXJuIF9oPXQsZX1mdW5jdGlvbiB1RSh0LGUsbil7Y29uc3Qgcj1jdSh0KTtpZihyJiZyLnByb3ZpZGVkSW49PSJyb290IilyZXR1cm4gci52YWx1ZT09PXZvaWQgMD9yLnZhbHVlPXIuZmFjdG9yeSgpOnIudmFsdWU7aWYobiZ1ZS5PcHRpb25hbClyZXR1cm4gbnVsbDtpZihlIT09dm9pZCAwKXJldHVybiBlO2dmKHQsIkluamVjdG9yIil9Y29uc3QgbUQ9e30scm89bUQsRWg9Il9fTkdfRElfRkxBR19fIixnYz0ibmdUZW1wVG9rZW5QYXRoIix5RD0ibmdUb2tlblBhdGgiLHZEPS9cbi9nbSxfRD0iybUiLHRtPSJfX3NvdXJjZSI7bGV0IFRpO2Z1bmN0aW9uIEVEKCl7cmV0dXJuIFRpfWZ1bmN0aW9uIFhuKHQpe2NvbnN0IGU9VGk7cmV0dXJuIFRpPXQsZX1mdW5jdGlvbiB3RCh0LGU9dWUuRGVmYXVsdCl7aWYoVGk9PT12b2lkIDApdGhyb3cgbmV3IFcoLTIwMywhMSk7cmV0dXJuIFRpPT09bnVsbD91RSh0LHZvaWQgMCxlKTpUaS5nZXQodCxlJnVlLk9wdGlvbmFsP251bGw6dm9pZCAwLGUpfWZ1bmN0aW9uIHRlKHQsZT11ZS5EZWZhdWx0KXtyZXR1cm4oY0UoKXx8d0QpKFJ0KHQpLGUpfWZ1bmN0aW9uIGIodCxlPXVlLkRlZmF1bHQpe3JldHVybiB0ZSh0LGx1KGUpKX1mdW5jdGlvbiBsdSh0KXtyZXR1cm4gdHlwZW9mIHQ+InUifHx0eXBlb2YgdD09Im51bWJlciI/dDowfCh0Lm9wdGlvbmFsJiY4KXwodC5ob3N0JiYxKXwodC5zZWxmJiYyKXwodC5za2lwU2VsZiYmNCl9ZnVuY3Rpb24gd2godCl7Y29uc3QgZT1bXTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3Qgcj1SdCh0W25dKTtpZihBcnJheS5pc0FycmF5KHIpKXtpZihyLmxlbmd0aD09PTApdGhyb3cgbmV3IFcoOTAwLCExKTtsZXQgaSxzPXVlLkRlZmF1bHQ7Zm9yKGxldCBvPTA7bzxyLmxlbmd0aDtvKyspe2NvbnN0IGE9cltvXSxjPVREKGEpO3R5cGVvZiBjPT0ibnVtYmVyIj9jPT09LTE/aT1hLnRva2VuOnN8PWM6aT1hfWUucHVzaCh0ZShpLHMpKX1lbHNlIGUucHVzaCh0ZShyKSl9cmV0dXJuIGV9ZnVuY3Rpb24gSUQodCxlKXtyZXR1cm4gdFtFaF09ZSx0LnByb3RvdHlwZVtFaF09ZSx0fWZ1bmN0aW9uIFREKHQpe3JldHVybiB0W0VoXX1mdW5jdGlvbiBTRCh0LGUsbixyKXtjb25zdCBpPXRbZ2NdO3Rocm93IGVbdG1dJiZpLnVuc2hpZnQoZVt0bV0pLHQubWVzc2FnZT1DRChgCmArdC5tZXNzYWdlLGksbixyKSx0W3lEXT1pLHRbZ2NdPW51bGwsdH1mdW5jdGlvbiBDRCh0LGUsbixyPW51bGwpe3Q9dCYmdC5jaGFyQXQoMCk9PT1gCmAmJnQuY2hhckF0KDEpPT1fRD90LnNsaWNlKDIpOnQ7bGV0IGk9RnQoZSk7aWYoQXJyYXkuaXNBcnJheShlKSlpPWUubWFwKEZ0KS5qb2luKCIgLT4gIik7ZWxzZSBpZih0eXBlb2YgZT09Im9iamVjdCIpe2xldCBzPVtdO2ZvcihsZXQgbyBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkobykpe2xldCBhPWVbb107cy5wdXNoKG8rIjoiKyh0eXBlb2YgYT09InN0cmluZyI/SlNPTi5zdHJpbmdpZnkoYSk6RnQoYSkpKX1pPWB7JHtzLmpvaW4oIiwgIil9fWB9cmV0dXJuYCR7bn0ke3I/IigiK3IrIikiOiIifVske2l9XTogJHt0LnJlcGxhY2UodkQsYAogIGApfWB9ZnVuY3Rpb24gQUQoKXtjb25zdCB0PW5ldyBxbztyZXR1cm4gYihncik9PT0iYnJvd3NlciImJih0LnN0b3JlPVJEKEhvKCksYihwZikpKSx0fWxldCBxbz0oKCk9Pnt2YXIgdDtjbGFzcyBle2NvbnN0cnVjdG9yKCl7dGhpcy5zdG9yZT17fSx0aGlzLm9uU2VyaWFsaXplQ2FsbGJhY2tzPXt9fWdldChyLGkpe3JldHVybiB0aGlzLnN0b3JlW3JdIT09dm9pZCAwP3RoaXMuc3RvcmVbcl06aX1zZXQocixpKXt0aGlzLnN0b3JlW3JdPWl9cmVtb3ZlKHIpe2RlbGV0ZSB0aGlzLnN0b3JlW3JdfWhhc0tleShyKXtyZXR1cm4gdGhpcy5zdG9yZS5oYXNPd25Qcm9wZXJ0eShyKX1nZXQgaXNFbXB0eSgpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLnN0b3JlKS5sZW5ndGg9PT0wfW9uU2VyaWFsaXplKHIsaSl7dGhpcy5vblNlcmlhbGl6ZUNhbGxiYWNrc1tyXT1pfXRvSnNvbigpe2Zvcihjb25zdCByIGluIHRoaXMub25TZXJpYWxpemVDYWxsYmFja3MpaWYodGhpcy5vblNlcmlhbGl6ZUNhbGxiYWNrcy5oYXNPd25Qcm9wZXJ0eShyKSl0cnl7dGhpcy5zdG9yZVtyXT10aGlzLm9uU2VyaWFsaXplQ2FsbGJhY2tzW3JdKCl9Y2F0Y2goaSl7Y29uc29sZS53YXJuKCJFeGNlcHRpb24gaW4gb25TZXJpYWxpemUgY2FsbGJhY2s6ICIsaSl9cmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuc3RvcmUpLnJlcGxhY2UoLzwvZywiXFx1MDAzQyIpfX1yZXR1cm4gdD1lLHQuybVwcm92PXEoe3Rva2VuOnQscHJvdmlkZWRJbjoicm9vdCIsZmFjdG9yeTpBRH0pLGV9KSgpO2Z1bmN0aW9uIFJEKHQsZSl7Y29uc3Qgbj10LmdldEVsZW1lbnRCeUlkKGUrIi1zdGF0ZSIpO2lmKG4/LnRleHRDb250ZW50KXRyeXtyZXR1cm4gSlNPTi5wYXJzZShuLnRleHRDb250ZW50KX1jYXRjaChyKXtjb25zb2xlLndhcm4oIkV4Y2VwdGlvbiB3aGlsZSByZXN0b3JpbmcgVHJhbnNmZXJTdGF0ZSBmb3IgYXBwICIrZSxyKX1yZXR1cm57fX1jb25zdCBsRT0iaCIsaEU9ImIiO3ZhciBJaD1mdW5jdGlvbih0KXtyZXR1cm4gdC5GaXJzdENoaWxkPSJmIix0Lk5leHRTaWJsaW5nPSJuIix0fShJaHx8e30pO2NvbnN0IGJEPSJ0IixkRT0iYyIsZkU9IngiLG1jPSJyIixERD0iaSIsUEQ9Im4iLE1EPSJkIixORD0iX19uZ2hEYXRhX18iLHBFPU5ELF9sPSJuZ2giLGtEPSJuZ2htIjtsZXQgZ0U9KCk9Pm51bGw7ZnVuY3Rpb24gT0QodCxlLG49ITEpe2xldCByPXQuZ2V0QXR0cmlidXRlKF9sKTtpZihyPT1udWxsKXJldHVybiBudWxsO2NvbnN0W2ksc109ci5zcGxpdCgifCIpO2lmKHI9bj9zOmksIXIpcmV0dXJuIG51bGw7Y29uc3Qgbz1zP2B8JHtzfWA6IiIsYT1uP2k6bztsZXQgYz17fTtpZihyIT09IiIpe2NvbnN0IGw9ZS5nZXQocW8sbnVsbCx7b3B0aW9uYWw6ITB9KTtsIT09bnVsbCYmKGM9bC5nZXQocEUsW10pW051bWJlcihyKV0pfWNvbnN0IHU9e2RhdGE6YyxmaXJzdENoaWxkOnQuZmlyc3RDaGlsZD8/bnVsbH07cmV0dXJuIG4mJih1LmZpcnN0Q2hpbGQ9dCx5Zih1LDAsdC5uZXh0U2libGluZykpLGE/dC5zZXRBdHRyaWJ1dGUoX2wsYSk6dC5yZW1vdmVBdHRyaWJ1dGUoX2wpLHV9ZnVuY3Rpb24geEQoKXtnRT1PRH1mdW5jdGlvbiBtZih0LGUsbj0hMSl7cmV0dXJuIGdFKHQsZSxuKX1mdW5jdGlvbiBMRCh0KXtsZXQgZT10Ll9sVmlldztyZXR1cm4gZVtpZV0udHlwZT09PTI/bnVsbDooVl8oZSkmJihlPWVbWGVdKSxlKX1mdW5jdGlvbiBWRCh0KXtyZXR1cm4gdC50ZXh0Q29udGVudD8ucmVwbGFjZSgvXHMvZ20sIiIpfWZ1bmN0aW9uIEZEKHQpe2NvbnN0IGU9SG8oKSxuPWUuY3JlYXRlTm9kZUl0ZXJhdG9yKHQsTm9kZUZpbHRlci5TSE9XX0NPTU1FTlQse2FjY2VwdE5vZGUocyl7Y29uc3Qgbz1WRChzKTtyZXR1cm4gbz09PSJuZ2V0biJ8fG89PT0ibmd0bnMiP05vZGVGaWx0ZXIuRklMVEVSX0FDQ0VQVDpOb2RlRmlsdGVyLkZJTFRFUl9SRUpFQ1R9fSk7bGV0IHI7Y29uc3QgaT1bXTtmb3IoO3I9bi5uZXh0Tm9kZSgpOylpLnB1c2gocik7Zm9yKGNvbnN0IHMgb2YgaSlzLnRleHRDb250ZW50PT09Im5nZXRuIj9zLnJlcGxhY2VXaXRoKGUuY3JlYXRlVGV4dE5vZGUoIiIpKTpzLnJlbW92ZSgpfWZ1bmN0aW9uIHlmKHQsZSxuKXt0LnNlZ21lbnRIZWFkcz8/KHQuc2VnbWVudEhlYWRzPXt9KSx0LnNlZ21lbnRIZWFkc1tlXT1ufWZ1bmN0aW9uIFRoKHQsZSl7cmV0dXJuIHQuc2VnbWVudEhlYWRzPy5bZV0/P251bGx9ZnVuY3Rpb24gbUUodCxlKXtyZXR1cm4gdC5kYXRhW2RFXT8uW2VdPz9udWxsfWZ1bmN0aW9uIHlFKHQsZSl7Y29uc3Qgbj1tRSh0LGUpPz9bXTtsZXQgcj0wO2ZvcihsZXQgaSBvZiBuKXIrPWlbbWNdKihpW2ZFXT8/MSk7cmV0dXJuIHJ9ZnVuY3Rpb24gaHUodCxlKXtpZih0eXBlb2YgdC5kaXNjb25uZWN0ZWROb2Rlcz4idSIpe2NvbnN0IG49dC5kYXRhW01EXTt0LmRpc2Nvbm5lY3RlZE5vZGVzPW4/bmV3IFNldChuKTpudWxsfXJldHVybiEhdC5kaXNjb25uZWN0ZWROb2Rlcz8uaGFzKGUpfWNvbnN0IF9hPSJfX3BhcmFtZXRlcnNfXyI7ZnVuY3Rpb24gVUQodCl7cmV0dXJuIGZ1bmN0aW9uKC4uLm4pe2lmKHQpe2NvbnN0IHI9dCguLi5uKTtmb3IoY29uc3QgaSBpbiByKXRoaXNbaV09cltpXX19fWZ1bmN0aW9uIGpEKHQsZSxuKXtyZXR1cm4gRm8oKCk9Pntjb25zdCByPVVEKGUpO2Z1bmN0aW9uIGkoLi4ucyl7aWYodGhpcyBpbnN0YW5jZW9mIGkpcmV0dXJuIHIuYXBwbHkodGhpcyxzKSx0aGlzO2NvbnN0IG89bmV3IGkoLi4ucyk7cmV0dXJuIGEuYW5ub3RhdGlvbj1vLGE7ZnVuY3Rpb24gYShjLHUsbCl7Y29uc3QgaD1jLmhhc093blByb3BlcnR5KF9hKT9jW19hXTpPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxfYSx7dmFsdWU6W119KVtfYV07Zm9yKDtoLmxlbmd0aDw9bDspaC5wdXNoKG51bGwpO3JldHVybihoW2xdPWhbbF18fFtdKS5wdXNoKG8pLGN9fXJldHVybiBuJiYoaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkpLGkucHJvdG90eXBlLm5nTWV0YWRhdGFOYW1lPXQsaS5hbm5vdGF0aW9uQ2xzPWksaX0pfWNvbnN0IFVuPUlEKGpEKCJPcHRpb25hbCIpLDgpO2Z1bmN0aW9uICRyKHQsZSl7Y29uc3Qgbj10Lmhhc093blByb3BlcnR5KHVjKTtyZXR1cm4gbj90W3VjXTpudWxsfWNvbnN0IFZpPW5ldyBzZSgiIiksdkU9bmV3IHNlKCIiLC0xKSxfRT1uZXcgc2UoIiIpO2NsYXNzIEVFe2dldChlLG49cm8pe2lmKG49PT1ybyl7Y29uc3Qgcj1uZXcgRXJyb3IoYE51bGxJbmplY3RvckVycm9yOiBObyBwcm92aWRlciBmb3IgJHtGdChlKX0hYCk7dGhyb3cgci5uYW1lPSJOdWxsSW5qZWN0b3JFcnJvciIscn1yZXR1cm4gbn19ZnVuY3Rpb24gaXModCl7cmV0dXJue8m1cHJvdmlkZXJzOnR9fWZ1bmN0aW9uIHdFKC4uLnQpe3JldHVybnvJtXByb3ZpZGVyczpJRSghMCx0KSzJtWZyb21OZ01vZHVsZTohMH19ZnVuY3Rpb24gSUUodCwuLi5lKXtjb25zdCBuPVtdLHI9bmV3IFNldDtsZXQgaTtjb25zdCBzPW89PntuLnB1c2gobyl9O3JldHVybiBkZihlLG89Pntjb25zdCBhPW87U2goYSxzLFtdLHIpJiYoaXx8KGk9W10pLGkucHVzaChhKSl9KSxpIT09dm9pZCAwJiZURShpLHMpLG59ZnVuY3Rpb24gVEUodCxlKXtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3R7bmdNb2R1bGU6cixwcm92aWRlcnM6aX09dFtuXTt2ZihpLHM9PntlKHMscil9KX19ZnVuY3Rpb24gU2godCxlLG4scil7aWYodD1SdCh0KSwhdClyZXR1cm4hMTtsZXQgaT1udWxsLHM9SmcodCk7Y29uc3Qgbz0hcyYmRnIodCk7aWYoIXMmJiFvKXtjb25zdCBjPXQubmdNb2R1bGU7aWYocz1KZyhjKSxzKWk9YztlbHNlIHJldHVybiExfWVsc2V7aWYobyYmIW8uc3RhbmRhbG9uZSlyZXR1cm4hMTtpPXR9Y29uc3QgYT1yLmhhcyhpKTtpZihvKXtpZihhKXJldHVybiExO2lmKHIuYWRkKGkpLG8uZGVwZW5kZW5jaWVzKXtjb25zdCBjPXR5cGVvZiBvLmRlcGVuZGVuY2llcz09ImZ1bmN0aW9uIj9vLmRlcGVuZGVuY2llcygpOm8uZGVwZW5kZW5jaWVzO2Zvcihjb25zdCB1IG9mIGMpU2godSxlLG4scil9fWVsc2UgaWYocyl7aWYocy5pbXBvcnRzIT1udWxsJiYhYSl7ci5hZGQoaSk7bGV0IHU7dHJ5e2RmKHMuaW1wb3J0cyxsPT57U2gobCxlLG4scikmJih1fHwodT1bXSksdS5wdXNoKGwpKX0pfWZpbmFsbHl7fXUhPT12b2lkIDAmJlRFKHUsZSl9aWYoIWEpe2NvbnN0IHU9JHIoaSl8fCgoKT0+bmV3IGkpO2Uoe3Byb3ZpZGU6aSx1c2VGYWN0b3J5OnUsZGVwczpBdH0saSksZSh7cHJvdmlkZTpfRSx1c2VWYWx1ZTppLG11bHRpOiEwfSxpKSxlKHtwcm92aWRlOlZpLHVzZVZhbHVlOigpPT50ZShpKSxtdWx0aTohMH0saSl9Y29uc3QgYz1zLnByb3ZpZGVycztpZihjIT1udWxsJiYhYSl7Y29uc3QgdT10O3ZmKGMsbD0+e2UobCx1KX0pfX1lbHNlIHJldHVybiExO3JldHVybiBpIT09dCYmdC5wcm92aWRlcnMhPT12b2lkIDB9ZnVuY3Rpb24gdmYodCxlKXtmb3IobGV0IG4gb2YgdClhRShuKSYmKG49bi7JtXByb3ZpZGVycyksQXJyYXkuaXNBcnJheShuKT92ZihuLGUpOmUobil9Y29uc3QgJEQ9VGUoe3Byb3ZpZGU6U3RyaW5nLHVzZVZhbHVlOlRlfSk7ZnVuY3Rpb24gU0UodCl7cmV0dXJuIHQhPT1udWxsJiZ0eXBlb2YgdD09Im9iamVjdCImJiREIGluIHR9ZnVuY3Rpb24gQkQodCl7cmV0dXJuISEodCYmdC51c2VFeGlzdGluZyl9ZnVuY3Rpb24gSEQodCl7cmV0dXJuISEodCYmdC51c2VGYWN0b3J5KX1mdW5jdGlvbiBDaCh0KXtyZXR1cm4gdHlwZW9mIHQ9PSJmdW5jdGlvbiJ9Y29uc3QgX2Y9bmV3IHNlKCIiKSxqYT17fSxxRD17fTtsZXQgRWw7ZnVuY3Rpb24gRWYoKXtyZXR1cm4gRWw9PT12b2lkIDAmJihFbD1uZXcgRUUpLEVsfWNsYXNzIGpue31jbGFzcyB3ZiBleHRlbmRzIGpue2dldCBkZXN0cm95ZWQoKXtyZXR1cm4gdGhpcy5fZGVzdHJveWVkfWNvbnN0cnVjdG9yKGUsbixyLGkpe3N1cGVyKCksdGhpcy5wYXJlbnQ9bix0aGlzLnNvdXJjZT1yLHRoaXMuc2NvcGVzPWksdGhpcy5yZWNvcmRzPW5ldyBNYXAsdGhpcy5fbmdPbkRlc3Ryb3lIb29rcz1uZXcgU2V0LHRoaXMuX29uRGVzdHJveUhvb2tzPVtdLHRoaXMuX2Rlc3Ryb3llZD0hMSxSaChlLG89PnRoaXMucHJvY2Vzc1Byb3ZpZGVyKG8pKSx0aGlzLnJlY29yZHMuc2V0KHZFLHBpKHZvaWQgMCx0aGlzKSksaS5oYXMoImVudmlyb25tZW50IikmJnRoaXMucmVjb3Jkcy5zZXQoam4scGkodm9pZCAwLHRoaXMpKTtjb25zdCBzPXRoaXMucmVjb3Jkcy5nZXQoX2YpO3MhPW51bGwmJnR5cGVvZiBzLnZhbHVlPT0ic3RyaW5nIiYmdGhpcy5zY29wZXMuYWRkKHMudmFsdWUpLHRoaXMuaW5qZWN0b3JEZWZUeXBlcz1uZXcgU2V0KHRoaXMuZ2V0KF9FLEF0LHVlLlNlbGYpKX1kZXN0cm95KCl7dGhpcy5hc3NlcnROb3REZXN0cm95ZWQoKSx0aGlzLl9kZXN0cm95ZWQ9ITA7dHJ5e2Zvcihjb25zdCBuIG9mIHRoaXMuX25nT25EZXN0cm95SG9va3Mpbi5uZ09uRGVzdHJveSgpO2NvbnN0IGU9dGhpcy5fb25EZXN0cm95SG9va3M7dGhpcy5fb25EZXN0cm95SG9va3M9W107Zm9yKGNvbnN0IG4gb2YgZSluKCl9ZmluYWxseXt0aGlzLnJlY29yZHMuY2xlYXIoKSx0aGlzLl9uZ09uRGVzdHJveUhvb2tzLmNsZWFyKCksdGhpcy5pbmplY3RvckRlZlR5cGVzLmNsZWFyKCl9fW9uRGVzdHJveShlKXtyZXR1cm4gdGhpcy5hc3NlcnROb3REZXN0cm95ZWQoKSx0aGlzLl9vbkRlc3Ryb3lIb29rcy5wdXNoKGUpLCgpPT50aGlzLnJlbW92ZU9uRGVzdHJveShlKX1ydW5JbkNvbnRleHQoZSl7dGhpcy5hc3NlcnROb3REZXN0cm95ZWQoKTtjb25zdCBuPVhuKHRoaXMpLHI9U3Qodm9pZCAwKTtsZXQgaTt0cnl7cmV0dXJuIGUoKX1maW5hbGx5e1huKG4pLFN0KHIpfX1nZXQoZSxuPXJvLHI9dWUuRGVmYXVsdCl7aWYodGhpcy5hc3NlcnROb3REZXN0cm95ZWQoKSxlLmhhc093blByb3BlcnR5KFdnKSlyZXR1cm4gZVtXZ10odGhpcyk7cj1sdShyKTtsZXQgaTtjb25zdCBzPVhuKHRoaXMpLG89U3Qodm9pZCAwKTt0cnl7aWYoIShyJnVlLlNraXBTZWxmKSl7bGV0IGM9dGhpcy5yZWNvcmRzLmdldChlKTtpZihjPT09dm9pZCAwKXtjb25zdCB1PVpEKGUpJiZjdShlKTt1JiZ0aGlzLmluamVjdGFibGVEZWZJblNjb3BlKHUpP2M9cGkoQWgoZSksamEpOmM9bnVsbCx0aGlzLnJlY29yZHMuc2V0KGUsYyl9aWYoYyE9bnVsbClyZXR1cm4gdGhpcy5oeWRyYXRlKGUsYyl9Y29uc3QgYT1yJnVlLlNlbGY/RWYoKTp0aGlzLnBhcmVudDtyZXR1cm4gbj1yJnVlLk9wdGlvbmFsJiZuPT09cm8/bnVsbDpuLGEuZ2V0KGUsbil9Y2F0Y2goYSl7aWYoYS5uYW1lPT09Ik51bGxJbmplY3RvckVycm9yIil7aWYoKGFbZ2NdPWFbZ2NdfHxbXSkudW5zaGlmdChGdChlKSkscyl0aHJvdyBhO3JldHVybiBTRChhLGUsIlIzSW5qZWN0b3JFcnJvciIsdGhpcy5zb3VyY2UpfWVsc2UgdGhyb3cgYX1maW5hbGx5e1N0KG8pLFhuKHMpfX1yZXNvbHZlSW5qZWN0b3JJbml0aWFsaXplcnMoKXtjb25zdCBlPVhuKHRoaXMpLG49U3Qodm9pZCAwKTtsZXQgcjt0cnl7Y29uc3QgaT10aGlzLmdldChWaSxBdCx1ZS5TZWxmKTtmb3IoY29uc3QgcyBvZiBpKXMoKX1maW5hbGx5e1huKGUpLFN0KG4pfX10b1N0cmluZygpe2NvbnN0IGU9W10sbj10aGlzLnJlY29yZHM7Zm9yKGNvbnN0IHIgb2Ygbi5rZXlzKCkpZS5wdXNoKEZ0KHIpKTtyZXR1cm5gUjNJbmplY3Rvclske2Uuam9pbigiLCAiKX1dYH1hc3NlcnROb3REZXN0cm95ZWQoKXtpZih0aGlzLl9kZXN0cm95ZWQpdGhyb3cgbmV3IFcoMjA1LCExKX1wcm9jZXNzUHJvdmlkZXIoZSl7ZT1SdChlKTtsZXQgbj1DaChlKT9lOlJ0KGUmJmUucHJvdmlkZSk7Y29uc3Qgcj1XRChlKTtpZighQ2goZSkmJmUubXVsdGk9PT0hMCl7bGV0IGk9dGhpcy5yZWNvcmRzLmdldChuKTtpfHwoaT1waSh2b2lkIDAsamEsITApLGkuZmFjdG9yeT0oKT0+d2goaS5tdWx0aSksdGhpcy5yZWNvcmRzLnNldChuLGkpKSxuPWUsaS5tdWx0aS5wdXNoKGUpfXRoaXMucmVjb3Jkcy5zZXQobixyKX1oeWRyYXRlKGUsbil7cmV0dXJuIG4udmFsdWU9PT1qYSYmKG4udmFsdWU9cUQsbi52YWx1ZT1uLmZhY3RvcnkoKSksdHlwZW9mIG4udmFsdWU9PSJvYmplY3QiJiZuLnZhbHVlJiZRRChuLnZhbHVlKSYmdGhpcy5fbmdPbkRlc3Ryb3lIb29rcy5hZGQobi52YWx1ZSksbi52YWx1ZX1pbmplY3RhYmxlRGVmSW5TY29wZShlKXtpZighZS5wcm92aWRlZEluKXJldHVybiExO2NvbnN0IG49UnQoZS5wcm92aWRlZEluKTtyZXR1cm4gdHlwZW9mIG49PSJzdHJpbmciP249PT0iYW55Inx8dGhpcy5zY29wZXMuaGFzKG4pOnRoaXMuaW5qZWN0b3JEZWZUeXBlcy5oYXMobil9cmVtb3ZlT25EZXN0cm95KGUpe2NvbnN0IG49dGhpcy5fb25EZXN0cm95SG9va3MuaW5kZXhPZihlKTtuIT09LTEmJnRoaXMuX29uRGVzdHJveUhvb2tzLnNwbGljZShuLDEpfX1mdW5jdGlvbiBBaCh0KXtjb25zdCBlPWN1KHQpLG49ZSE9PW51bGw/ZS5mYWN0b3J5OiRyKHQpO2lmKG4hPT1udWxsKXJldHVybiBuO2lmKHQgaW5zdGFuY2VvZiBzZSl0aHJvdyBuZXcgVygyMDQsITEpO2lmKHQgaW5zdGFuY2VvZiBGdW5jdGlvbilyZXR1cm4gekQodCk7dGhyb3cgbmV3IFcoMjA0LCExKX1mdW5jdGlvbiB6RCh0KXtpZih0Lmxlbmd0aD4wKXRocm93IG5ldyBXKDIwNCwhMSk7Y29uc3Qgbj1sRCh0KTtyZXR1cm4gbiE9PW51bGw/KCk9Pm4uZmFjdG9yeSh0KTooKT0+bmV3IHR9ZnVuY3Rpb24gV0QodCl7aWYoU0UodCkpcmV0dXJuIHBpKHZvaWQgMCx0LnVzZVZhbHVlKTt7Y29uc3QgZT1HRCh0KTtyZXR1cm4gcGkoZSxqYSl9fWZ1bmN0aW9uIEdEKHQsZSxuKXtsZXQgcjtpZihDaCh0KSl7Y29uc3QgaT1SdCh0KTtyZXR1cm4gJHIoaSl8fEFoKGkpfWVsc2UgaWYoU0UodCkpcj0oKT0+UnQodC51c2VWYWx1ZSk7ZWxzZSBpZihIRCh0KSlyPSgpPT50LnVzZUZhY3RvcnkoLi4ud2godC5kZXBzfHxbXSkpO2Vsc2UgaWYoQkQodCkpcj0oKT0+dGUoUnQodC51c2VFeGlzdGluZykpO2Vsc2V7Y29uc3QgaT1SdCh0JiYodC51c2VDbGFzc3x8dC5wcm92aWRlKSk7aWYoS0QodCkpcj0oKT0+bmV3IGkoLi4ud2godC5kZXBzKSk7ZWxzZSByZXR1cm4gJHIoaSl8fEFoKGkpfXJldHVybiByfWZ1bmN0aW9uIHBpKHQsZSxuPSExKXtyZXR1cm57ZmFjdG9yeTp0LHZhbHVlOmUsbXVsdGk6bj9bXTp2b2lkIDB9fWZ1bmN0aW9uIEtEKHQpe3JldHVybiEhdC5kZXBzfWZ1bmN0aW9uIFFEKHQpe3JldHVybiB0IT09bnVsbCYmdHlwZW9mIHQ9PSJvYmplY3QiJiZ0eXBlb2YgdC5uZ09uRGVzdHJveT09ImZ1bmN0aW9uIn1mdW5jdGlvbiBaRCh0KXtyZXR1cm4gdHlwZW9mIHQ9PSJmdW5jdGlvbiJ8fHR5cGVvZiB0PT0ib2JqZWN0IiYmdCBpbnN0YW5jZW9mIHNlfWZ1bmN0aW9uIFJoKHQsZSl7Zm9yKGNvbnN0IG4gb2YgdClBcnJheS5pc0FycmF5KG4pP1JoKG4sZSk6biYmYUUobik/Umgobi7JtXByb3ZpZGVycyxlKTplKG4pfWZ1bmN0aW9uIFlyKHQsZSl7dCBpbnN0YW5jZW9mIHdmJiZ0LmFzc2VydE5vdERlc3Ryb3llZCgpO2xldCBuO2NvbnN0IHI9WG4odCksaT1TdCh2b2lkIDApO3RyeXtyZXR1cm4gZSgpfWZpbmFsbHl7WG4ociksU3QoaSl9fWZ1bmN0aW9uIFhEKHQpe2lmKCFjRSgpJiYhRUQoKSl0aHJvdyBuZXcgVygtMjAzLCExKX1mdW5jdGlvbiBZRCh0KXtyZXR1cm4gdHlwZW9mIHQ9PSJmdW5jdGlvbiJ9Y2xhc3MgSkR7Y29uc3RydWN0b3IoZSxuLHIpe3RoaXMucHJldmlvdXNWYWx1ZT1lLHRoaXMuY3VycmVudFZhbHVlPW4sdGhpcy5maXJzdENoYW5nZT1yfWlzRmlyc3RDaGFuZ2UoKXtyZXR1cm4gdGhpcy5maXJzdENoYW5nZX19ZnVuY3Rpb24gQ0UodCxlLG4scil7ZSE9PW51bGw/ZS5hcHBseVZhbHVlVG9JbnB1dFNpZ25hbChlLHIpOnRbbl09cn1mdW5jdGlvbiBBRSgpe3JldHVybiBSRX1mdW5jdGlvbiBSRSh0KXtyZXR1cm4gdC50eXBlLnByb3RvdHlwZS5uZ09uQ2hhbmdlcyYmKHQuc2V0SW5wdXQ9dDApLGUwfUFFLm5nSW5oZXJpdD0hMDtmdW5jdGlvbiBlMCgpe2NvbnN0IHQ9REUodGhpcyksZT10Py5jdXJyZW50O2lmKGUpe2NvbnN0IG49dC5wcmV2aW91cztpZihuPT09dXIpdC5wcmV2aW91cz1lO2Vsc2UgZm9yKGxldCByIGluIGUpbltyXT1lW3JdO3QuY3VycmVudD1udWxsLHRoaXMubmdPbkNoYW5nZXMoZSl9fWZ1bmN0aW9uIHQwKHQsZSxuLHIsaSl7Y29uc3Qgcz10aGlzLmRlY2xhcmVkSW5wdXRzW3JdLG89REUodCl8fG4wKHQse3ByZXZpb3VzOnVyLGN1cnJlbnQ6bnVsbH0pLGE9by5jdXJyZW50fHwoby5jdXJyZW50PXt9KSxjPW8ucHJldmlvdXMsdT1jW3NdO2Fbc109bmV3IEpEKHUmJnUuY3VycmVudFZhbHVlLG4sYz09PXVyKSxDRSh0LGUsaSxuKX1jb25zdCBiRT0iX19uZ1NpbXBsZUNoYW5nZXNfXyI7ZnVuY3Rpb24gREUodCl7cmV0dXJuIHRbYkVdfHxudWxsfWZ1bmN0aW9uIG4wKHQsZSl7cmV0dXJuIHRbYkVdPWV9bGV0IG5tPW51bGw7Y29uc3Qgc249ZnVuY3Rpb24odCxlLG4pe25tPy4odCxlLG4pfTtmdW5jdGlvbiByMCh0LGUsbil7Y29uc3R7bmdPbkNoYW5nZXM6cixuZ09uSW5pdDppLG5nRG9DaGVjazpzfT1lLnR5cGUucHJvdG90eXBlO2lmKHIpe2NvbnN0IG89UkUoZSk7KG4ucHJlT3JkZXJIb29rcz8/KG4ucHJlT3JkZXJIb29rcz1bXSkpLnB1c2godCxvKSwobi5wcmVPcmRlckNoZWNrSG9va3M/PyhuLnByZU9yZGVyQ2hlY2tIb29rcz1bXSkpLnB1c2godCxvKX1pJiYobi5wcmVPcmRlckhvb2tzPz8obi5wcmVPcmRlckhvb2tzPVtdKSkucHVzaCgwLXQsaSkscyYmKChuLnByZU9yZGVySG9va3M/PyhuLnByZU9yZGVySG9va3M9W10pKS5wdXNoKHQscyksKG4ucHJlT3JkZXJDaGVja0hvb2tzPz8obi5wcmVPcmRlckNoZWNrSG9va3M9W10pKS5wdXNoKHQscykpfWZ1bmN0aW9uIElmKHQsZSl7Zm9yKGxldCBuPWUuZGlyZWN0aXZlU3RhcnQscj1lLmRpcmVjdGl2ZUVuZDtuPHI7bisrKXtjb25zdCBzPXQuZGF0YVtuXS50eXBlLnByb3RvdHlwZSx7bmdBZnRlckNvbnRlbnRJbml0Om8sbmdBZnRlckNvbnRlbnRDaGVja2VkOmEsbmdBZnRlclZpZXdJbml0OmMsbmdBZnRlclZpZXdDaGVja2VkOnUsbmdPbkRlc3Ryb3k6bH09cztvJiYodC5jb250ZW50SG9va3M/Pyh0LmNvbnRlbnRIb29rcz1bXSkpLnB1c2goLW4sbyksYSYmKCh0LmNvbnRlbnRIb29rcz8/KHQuY29udGVudEhvb2tzPVtdKSkucHVzaChuLGEpLCh0LmNvbnRlbnRDaGVja0hvb2tzPz8odC5jb250ZW50Q2hlY2tIb29rcz1bXSkpLnB1c2gobixhKSksYyYmKHQudmlld0hvb2tzPz8odC52aWV3SG9va3M9W10pKS5wdXNoKC1uLGMpLHUmJigodC52aWV3SG9va3M/Pyh0LnZpZXdIb29rcz1bXSkpLnB1c2gobix1KSwodC52aWV3Q2hlY2tIb29rcz8/KHQudmlld0NoZWNrSG9va3M9W10pKS5wdXNoKG4sdSkpLGwhPW51bGwmJih0LmRlc3Ryb3lIb29rcz8/KHQuZGVzdHJveUhvb2tzPVtdKSkucHVzaChuLGwpfX1mdW5jdGlvbiAkYSh0LGUsbil7UEUodCxlLDMsbil9ZnVuY3Rpb24gQmEodCxlLG4scil7KHRbR10mMyk9PT1uJiZQRSh0LGUsbixyKX1mdW5jdGlvbiB3bCh0LGUpe2xldCBuPXRbR107KG4mMyk9PT1lJiYobiY9MTYzODMsbis9MSx0W0ddPW4pfWZ1bmN0aW9uIFBFKHQsZSxuLHIpe2NvbnN0IGk9ciE9PXZvaWQgMD90W2ZpXSY2NTUzNTowLHM9cj8/LTEsbz1lLmxlbmd0aC0xO2xldCBhPTA7Zm9yKGxldCBjPWk7YzxvO2MrKylpZih0eXBlb2YgZVtjKzFdPT0ibnVtYmVyIil7aWYoYT1lW2NdLHIhPW51bGwmJmE+PXIpYnJlYWt9ZWxzZSBlW2NdPDAmJih0W2ZpXSs9NjU1MzYpLChhPHN8fHM9PS0xKSYmKGkwKHQsbixlLGMpLHRbZmldPSh0W2ZpXSY0Mjk0OTAxNzYwKStjKzIpLGMrK31mdW5jdGlvbiBybSh0LGUpe3NuKDQsdCxlKTtjb25zdCBuPUtlKG51bGwpO3RyeXtlLmNhbGwodCl9ZmluYWxseXtLZShuKSxzbig1LHQsZSl9fWZ1bmN0aW9uIGkwKHQsZSxuLHIpe2NvbnN0IGk9bltyXTwwLHM9bltyKzFdLG89aT8tbltyXTpuW3JdLGE9dFtvXTtpP3RbR10+PjE0PHRbZmldPj4xNiYmKHRbR10mMyk9PT1lJiYodFtHXSs9MTYzODQscm0oYSxzKSk6cm0oYSxzKX1jb25zdCBTaT0tMTtjbGFzcyBUZntjb25zdHJ1Y3RvcihlLG4scil7dGhpcy5mYWN0b3J5PWUsdGhpcy5yZXNvbHZpbmc9ITEsdGhpcy5jYW5TZWVWaWV3UHJvdmlkZXJzPW4sdGhpcy5pbmplY3RJbXBsPXJ9fWZ1bmN0aW9uIHMwKHQpe3JldHVybiB0IGluc3RhbmNlb2YgVGZ9ZnVuY3Rpb24gbzAodCl7cmV0dXJuKHQuZmxhZ3MmOCkhPT0wfWZ1bmN0aW9uIGEwKHQpe3JldHVybih0LmZsYWdzJjE2KSE9PTB9ZnVuY3Rpb24gTUUodCl7cmV0dXJuIHQhPT1TaX1mdW5jdGlvbiB5Yyh0KXtyZXR1cm4gdCYzMjc2N31mdW5jdGlvbiBjMCh0KXtyZXR1cm4gdD4+MTZ9ZnVuY3Rpb24gdmModCxlKXtsZXQgbj1jMCh0KSxyPWU7Zm9yKDtuPjA7KXI9cltuc10sbi0tO3JldHVybiByfWxldCBiaD0hMDtmdW5jdGlvbiBfYyh0KXtjb25zdCBlPWJoO3JldHVybiBiaD10LGV9Y29uc3QgdTA9MjU2LE5FPXUwLTEsa0U9NTtsZXQgbDA9MDtjb25zdCBvbj17fTtmdW5jdGlvbiBoMCh0LGUsbil7bGV0IHI7dHlwZW9mIG49PSJzdHJpbmciP3I9bi5jaGFyQ29kZUF0KDApfHwwOm4uaGFzT3duUHJvcGVydHkoTXMpJiYocj1uW01zXSkscj09bnVsbCYmKHI9bltNc109bDArKyk7Y29uc3QgaT1yJk5FLHM9MTw8aTtlLmRhdGFbdCsoaT4+a0UpXXw9c31mdW5jdGlvbiBPRSh0LGUpe2NvbnN0IG49eEUodCxlKTtpZihuIT09LTEpcmV0dXJuIG47Y29uc3Qgcj1lW2llXTtyLmZpcnN0Q3JlYXRlUGFzcyYmKHQuaW5qZWN0b3JJbmRleD1lLmxlbmd0aCxJbChyLmRhdGEsdCksSWwoZSxudWxsKSxJbChyLmJsdWVwcmludCxudWxsKSk7Y29uc3QgaT1TZih0LGUpLHM9dC5pbmplY3RvckluZGV4O2lmKE1FKGkpKXtjb25zdCBvPXljKGkpLGE9dmMoaSxlKSxjPWFbaWVdLmRhdGE7Zm9yKGxldCB1PTA7dTw4O3UrKyllW3MrdV09YVtvK3VdfGNbbyt1XX1yZXR1cm4gZVtzKzhdPWksc31mdW5jdGlvbiBJbCh0LGUpe3QucHVzaCgwLDAsMCwwLDAsMCwwLDAsZSl9ZnVuY3Rpb24geEUodCxlKXtyZXR1cm4gdC5pbmplY3RvckluZGV4PT09LTF8fHQucGFyZW50JiZ0LnBhcmVudC5pbmplY3RvckluZGV4PT09dC5pbmplY3RvckluZGV4fHxlW3QuaW5qZWN0b3JJbmRleCs4XT09PW51bGw/LTE6dC5pbmplY3RvckluZGV4fWZ1bmN0aW9uIFNmKHQsZSl7aWYodC5wYXJlbnQmJnQucGFyZW50LmluamVjdG9ySW5kZXghPT0tMSlyZXR1cm4gdC5wYXJlbnQuaW5qZWN0b3JJbmRleDtsZXQgbj0wLHI9bnVsbCxpPWU7Zm9yKDtpIT09bnVsbDspe2lmKHI9JEUoaSkscj09PW51bGwpcmV0dXJuIFNpO2lmKG4rKyxpPWlbbnNdLHIuaW5qZWN0b3JJbmRleCE9PS0xKXJldHVybiByLmluamVjdG9ySW5kZXh8bjw8MTZ9cmV0dXJuIFNpfWZ1bmN0aW9uIGQwKHQsZSxuKXtoMCh0LGUsbil9ZnVuY3Rpb24gTEUodCxlLG4pe2lmKG4mdWUuT3B0aW9uYWx8fHQhPT12b2lkIDApcmV0dXJuIHQ7Z2YoZSwiTm9kZUluamVjdG9yIil9ZnVuY3Rpb24gVkUodCxlLG4scil7aWYobiZ1ZS5PcHRpb25hbCYmcj09PXZvaWQgMCYmKHI9bnVsbCksIShuJih1ZS5TZWxmfHVlLkhvc3QpKSl7Y29uc3QgaT10W3hpXSxzPVN0KHZvaWQgMCk7dHJ5e3JldHVybiBpP2kuZ2V0KGUscixuJnVlLk9wdGlvbmFsKTp1RShlLHIsbiZ1ZS5PcHRpb25hbCl9ZmluYWxseXtTdChzKX19cmV0dXJuIExFKHIsZSxuKX1mdW5jdGlvbiBGRSh0LGUsbixyPXVlLkRlZmF1bHQsaSl7aWYodCE9PW51bGwpe2lmKGVbR10mMjA0OCYmIShyJnVlLlNlbGYpKXtjb25zdCBvPXkwKHQsZSxuLHIsb24pO2lmKG8hPT1vbilyZXR1cm4gb31jb25zdCBzPVVFKHQsZSxuLHIsb24pO2lmKHMhPT1vbilyZXR1cm4gc31yZXR1cm4gVkUoZSxuLHIsaSl9ZnVuY3Rpb24gVUUodCxlLG4scixpKXtjb25zdCBzPWcwKG4pO2lmKHR5cGVvZiBzPT0iZnVuY3Rpb24iKXtpZighcV8oZSx0LHIpKXJldHVybiByJnVlLkhvc3Q/TEUoaSxuLHIpOlZFKGUsbixyLGkpO3RyeXtsZXQgbztpZihvPXMociksbz09bnVsbCYmIShyJnVlLk9wdGlvbmFsKSlnZihuKTtlbHNlIHJldHVybiBvfWZpbmFsbHl7S18oKX19ZWxzZSBpZih0eXBlb2Ygcz09Im51bWJlciIpe2xldCBvPW51bGwsYT14RSh0LGUpLGM9U2ksdT1yJnVlLkhvc3Q/ZVtOdF1bSnRdOm51bGw7Zm9yKChhPT09LTF8fHImdWUuU2tpcFNlbGYpJiYoYz1hPT09LTE/U2YodCxlKTplW2ErOF0sYz09PVNpfHwhc20ociwhMSk/YT0tMToobz1lW2llXSxhPXljKGMpLGU9dmMoYyxlKSkpO2EhPT0tMTspe2NvbnN0IGw9ZVtpZV07aWYoaW0ocyxhLGwuZGF0YSkpe2NvbnN0IGg9ZjAoYSxlLG4sbyxyLHUpO2lmKGghPT1vbilyZXR1cm4gaH1jPWVbYSs4XSxjIT09U2kmJnNtKHIsZVtpZV0uZGF0YVthKzhdPT09dSkmJmltKHMsYSxlKT8obz1sLGE9eWMoYyksZT12YyhjLGUpKTphPS0xfX1yZXR1cm4gaX1mdW5jdGlvbiBmMCh0LGUsbixyLGkscyl7Y29uc3Qgbz1lW2llXSxhPW8uZGF0YVt0KzhdLGM9cj09bnVsbD9VbyhhKSYmYmg6ciE9byYmKGEudHlwZSYzKSE9PTAsdT1pJnVlLkhvc3QmJnM9PT1hLGw9cDAoYSxvLG4sYyx1KTtyZXR1cm4gbCE9PW51bGw/aW8oZSxvLGwsYSk6b259ZnVuY3Rpb24gcDAodCxlLG4scixpKXtjb25zdCBzPXQucHJvdmlkZXJJbmRleGVzLG89ZS5kYXRhLGE9cyYxMDQ4NTc1LGM9dC5kaXJlY3RpdmVTdGFydCx1PXQuZGlyZWN0aXZlRW5kLGw9cz4+MjAsaD1yP2E6YStsLGQ9aT9hK2w6dTtmb3IobGV0IGY9aDtmPGQ7ZisrKXtjb25zdCBtPW9bZl07aWYoZjxjJiZuPT09bXx8Zj49YyYmbS50eXBlPT09bilyZXR1cm4gZn1pZihpKXtjb25zdCBmPW9bY107aWYoZiYmam8oZikmJmYudHlwZT09PW4pcmV0dXJuIGN9cmV0dXJuIG51bGx9ZnVuY3Rpb24gaW8odCxlLG4scil7bGV0IGk9dFtuXTtjb25zdCBzPWUuZGF0YTtpZihzMChpKSl7Y29uc3Qgbz1pO28ucmVzb2x2aW5nJiZnRChwRChzW25dKSk7Y29uc3QgYT1fYyhvLmNhblNlZVZpZXdQcm92aWRlcnMpO28ucmVzb2x2aW5nPSEwO2xldCBjO2NvbnN0IHU9by5pbmplY3RJbXBsP1N0KG8uaW5qZWN0SW1wbCk6bnVsbCxsPXFfKHQscix1ZS5EZWZhdWx0KTt0cnl7aT10W25dPW8uZmFjdG9yeSh2b2lkIDAscyx0LHIpLGUuZmlyc3RDcmVhdGVQYXNzJiZuPj1yLmRpcmVjdGl2ZVN0YXJ0JiZyMChuLHNbbl0sZSl9ZmluYWxseXt1IT09bnVsbCYmU3QodSksX2MoYSksby5yZXNvbHZpbmc9ITEsS18oKX19cmV0dXJuIGl9ZnVuY3Rpb24gZzAodCl7aWYodHlwZW9mIHQ9PSJzdHJpbmciKXJldHVybiB0LmNoYXJDb2RlQXQoMCl8fDA7Y29uc3QgZT10Lmhhc093blByb3BlcnR5KE1zKT90W01zXTp2b2lkIDA7cmV0dXJuIHR5cGVvZiBlPT0ibnVtYmVyIj9lPj0wP2UmTkU6bTA6ZX1mdW5jdGlvbiBpbSh0LGUsbil7Y29uc3Qgcj0xPDx0O3JldHVybiEhKG5bZSsodD4+a0UpXSZyKX1mdW5jdGlvbiBzbSh0LGUpe3JldHVybiEodCZ1ZS5TZWxmKSYmISh0JnVlLkhvc3QmJmUpfWNsYXNzIE5ze2NvbnN0cnVjdG9yKGUsbil7dGhpcy5fdE5vZGU9ZSx0aGlzLl9sVmlldz1ufWdldChlLG4scil7cmV0dXJuIEZFKHRoaXMuX3ROb2RlLHRoaXMuX2xWaWV3LGUsbHUociksbil9fWZ1bmN0aW9uIG0wKCl7cmV0dXJuIG5ldyBOcyhFbigpLFBlKCkpfWZ1bmN0aW9uIGpFKHQpe3JldHVybiBGbygoKT0+e2NvbnN0IGU9dC5wcm90b3R5cGUuY29uc3RydWN0b3Isbj1lW3VjXXx8RGgoZSkscj1PYmplY3QucHJvdG90eXBlO2xldCBpPU9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSkuY29uc3RydWN0b3I7Zm9yKDtpJiZpIT09cjspe2NvbnN0IHM9aVt1Y118fERoKGkpO2lmKHMmJnMhPT1uKXJldHVybiBzO2k9T2JqZWN0LmdldFByb3RvdHlwZU9mKGkpfXJldHVybiBzPT5uZXcgc30pfWZ1bmN0aW9uIERoKHQpe3JldHVybiBvRSh0KT8oKT0+e2NvbnN0IGU9RGgoUnQodCkpO3JldHVybiBlJiZlKCl9OiRyKHQpfWZ1bmN0aW9uIHkwKHQsZSxuLHIsaSl7bGV0IHM9dCxvPWU7Zm9yKDtzIT09bnVsbCYmbyE9PW51bGwmJm9bR10mMjA0OCYmIShvW0ddJjUxMik7KXtjb25zdCBhPVVFKHMsbyxuLHJ8dWUuU2VsZixvbik7aWYoYSE9PW9uKXJldHVybiBhO2xldCBjPXMucGFyZW50O2lmKCFjKXtjb25zdCB1PW9bT19dO2lmKHUpe2NvbnN0IGw9dS5nZXQobixvbixyKTtpZihsIT09b24pcmV0dXJuIGx9Yz0kRShvKSxvPW9bbnNdfXM9Y31yZXR1cm4gaX1mdW5jdGlvbiAkRSh0KXtjb25zdCBlPXRbaWVdLG49ZS50eXBlO3JldHVybiBuPT09Mj9lLmRlY2xUTm9kZTpuPT09MT90W0p0XTpudWxsfWZ1bmN0aW9uIG9tKHQsZT1udWxsLG49bnVsbCxyKXtjb25zdCBpPUJFKHQsZSxuLHIpO3JldHVybiBpLnJlc29sdmVJbmplY3RvckluaXRpYWxpemVycygpLGl9ZnVuY3Rpb24gQkUodCxlPW51bGwsbj1udWxsLHIsaT1uZXcgU2V0KXtjb25zdCBzPVtufHxBdCx3RSh0KV07cmV0dXJuIHI9cnx8KHR5cGVvZiB0PT0ib2JqZWN0Ij92b2lkIDA6RnQodCkpLG5ldyB3ZihzLGV8fEVmKCkscnx8bnVsbCxpKX1sZXQgV249KCgpPT57dmFyIHQ7Y2xhc3MgZXtzdGF0aWMgY3JlYXRlKHIsaSl7aWYoQXJyYXkuaXNBcnJheShyKSlyZXR1cm4gb20oe25hbWU6IiJ9LGksciwiIik7e2NvbnN0IHM9ci5uYW1lPz8iIjtyZXR1cm4gb20oe25hbWU6c30sci5wYXJlbnQsci5wcm92aWRlcnMscyl9fX1yZXR1cm4gdD1lLHQuVEhST1dfSUZfTk9UX0ZPVU5EPXJvLHQuTlVMTD1uZXcgRUUsdC7JtXByb3Y9cSh7dG9rZW46dCxwcm92aWRlZEluOiJhbnkiLGZhY3Rvcnk6KCk9PnRlKHZFKX0pLHQuX19OR19FTEVNRU5UX0lEX189LTEsZX0pKCk7Y29uc3QgdjA9Im5nT3JpZ2luYWxFcnJvciI7ZnVuY3Rpb24gVGwodCl7cmV0dXJuIHRbdjBdfWNsYXNzIEpye2NvbnN0cnVjdG9yKCl7dGhpcy5fY29uc29sZT1jb25zb2xlfWhhbmRsZUVycm9yKGUpe2NvbnN0IG49dGhpcy5fZmluZE9yaWdpbmFsRXJyb3IoZSk7dGhpcy5fY29uc29sZS5lcnJvcigiRVJST1IiLGUpLG4mJnRoaXMuX2NvbnNvbGUuZXJyb3IoIk9SSUdJTkFMIEVSUk9SIixuKX1fZmluZE9yaWdpbmFsRXJyb3IoZSl7bGV0IG49ZSYmVGwoZSk7Zm9yKDtuJiZUbChuKTspbj1UbChuKTtyZXR1cm4gbnx8bnVsbH19Y29uc3QgSEU9bmV3IHNlKCIiLHtwcm92aWRlZEluOiJyb290IixmYWN0b3J5OigpPT5iKEpyKS5oYW5kbGVFcnJvci5iaW5kKHZvaWQgMCl9KSxFYT1uZXcgc2UoIiIpLHFFPSExLHpFPW5ldyBzZSgiIix7cHJvdmlkZWRJbjoicm9vdCIsZmFjdG9yeTooKT0+cUV9KTtjbGFzcyBlaXtjb25zdHJ1Y3RvcihlKXt0aGlzLmNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHk9ZX10b1N0cmluZygpe3JldHVybmBTYWZlVmFsdWUgbXVzdCB1c2UgW3Byb3BlcnR5XT1iaW5kaW5nOiAke3RoaXMuY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eX0gKHNlZSAke1RffSlgfX1jbGFzcyBfMCBleHRlbmRzIGVpe2dldFR5cGVOYW1lKCl7cmV0dXJuIkhUTUwifX1jbGFzcyBFMCBleHRlbmRzIGVpe2dldFR5cGVOYW1lKCl7cmV0dXJuIlN0eWxlIn19Y2xhc3MgdzAgZXh0ZW5kcyBlaXtnZXRUeXBlTmFtZSgpe3JldHVybiJTY3JpcHQifX1jbGFzcyBJMCBleHRlbmRzIGVpe2dldFR5cGVOYW1lKCl7cmV0dXJuIlVSTCJ9fWNsYXNzIFQwIGV4dGVuZHMgZWl7Z2V0VHlwZU5hbWUoKXtyZXR1cm4iUmVzb3VyY2VVUkwifX1mdW5jdGlvbiBZbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGVpP3QuY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eTp0fWZ1bmN0aW9uIENyKHQsZSl7Y29uc3Qgbj1TMCh0KTtpZihuIT1udWxsJiZuIT09ZSl7aWYobj09PSJSZXNvdXJjZVVSTCImJmU9PT0iVVJMIilyZXR1cm4hMDt0aHJvdyBuZXcgRXJyb3IoYFJlcXVpcmVkIGEgc2FmZSAke2V9LCBnb3QgYSAke259IChzZWUgJHtUX30pYCl9cmV0dXJuIG49PT1lfWZ1bmN0aW9uIFMwKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZWkmJnQuZ2V0VHlwZU5hbWUoKXx8bnVsbH1mdW5jdGlvbiBDMCh0KXtyZXR1cm4gbmV3IF8wKHQpfWZ1bmN0aW9uIEEwKHQpe3JldHVybiBuZXcgRTAodCl9ZnVuY3Rpb24gUjAodCl7cmV0dXJuIG5ldyB3MCh0KX1mdW5jdGlvbiBiMCh0KXtyZXR1cm4gbmV3IEkwKHQpfWZ1bmN0aW9uIEQwKHQpe3JldHVybiBuZXcgVDAodCl9ZnVuY3Rpb24gUDAodCl7Y29uc3QgZT1uZXcgTjAodCk7cmV0dXJuIGswKCk/bmV3IE0wKGUpOmV9Y2xhc3MgTTB7Y29uc3RydWN0b3IoZSl7dGhpcy5pbmVydERvY3VtZW50SGVscGVyPWV9Z2V0SW5lcnRCb2R5RWxlbWVudChlKXtlPSI8Ym9keT48cmVtb3ZlPjwvcmVtb3ZlPiIrZTt0cnl7Y29uc3Qgbj1uZXcgd2luZG93LkRPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhlLCJ0ZXh0L2h0bWwiKS5ib2R5O3JldHVybiBuPT09bnVsbD90aGlzLmluZXJ0RG9jdW1lbnRIZWxwZXIuZ2V0SW5lcnRCb2R5RWxlbWVudChlKToobi5yZW1vdmVDaGlsZChuLmZpcnN0Q2hpbGQpLG4pfWNhdGNoe3JldHVybiBudWxsfX19Y2xhc3MgTjB7Y29uc3RydWN0b3IoZSl7dGhpcy5kZWZhdWx0RG9jPWUsdGhpcy5pbmVydERvY3VtZW50PXRoaXMuZGVmYXVsdERvYy5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoInNhbml0aXphdGlvbi1pbmVydCIpfWdldEluZXJ0Qm9keUVsZW1lbnQoZSl7Y29uc3Qgbj10aGlzLmluZXJ0RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTtyZXR1cm4gbi5pbm5lckhUTUw9ZSxufX1mdW5jdGlvbiBrMCgpe3RyeXtyZXR1cm4hIW5ldyB3aW5kb3cuRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKCIiLCJ0ZXh0L2h0bWwiKX1jYXRjaHtyZXR1cm4hMX19Y29uc3QgTzA9L14oPyFqYXZhc2NyaXB0OikoPzpbYS16MC05Ky4tXSs6fFteJjpcLz8jXSooPzpbXC8/I118JCkpL2k7ZnVuY3Rpb24gQ2YodCl7cmV0dXJuIHQ9U3RyaW5nKHQpLHQubWF0Y2goTzApP3Q6InVuc2FmZToiK3R9ZnVuY3Rpb24gR24odCl7Y29uc3QgZT17fTtmb3IoY29uc3QgbiBvZiB0LnNwbGl0KCIsIikpZVtuXT0hMDtyZXR1cm4gZX1mdW5jdGlvbiB6byguLi50KXtjb25zdCBlPXt9O2Zvcihjb25zdCBuIG9mIHQpZm9yKGNvbnN0IHIgaW4gbiluLmhhc093blByb3BlcnR5KHIpJiYoZVtyXT0hMCk7cmV0dXJuIGV9Y29uc3QgV0U9R24oImFyZWEsYnIsY29sLGhyLGltZyx3YnIiKSxHRT1HbigiY29sZ3JvdXAsZGQsZHQsbGkscCx0Ym9keSx0ZCx0Zm9vdCx0aCx0aGVhZCx0ciIpLEtFPUduKCJycCxydCIpLHgwPXpvKEtFLEdFKSxMMD16byhHRSxHbigiYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGJsb2NrcXVvdGUsY2FwdGlvbixjZW50ZXIsZGVsLGRldGFpbHMsZGlhbG9nLGRpcixkaXYsZGwsZmlndXJlLGZpZ2NhcHRpb24sZm9vdGVyLGgxLGgyLGgzLGg0LGg1LGg2LGhlYWRlcixoZ3JvdXAsaHIsaW5zLG1haW4sbWFwLG1lbnUsbmF2LG9sLHByZSxzZWN0aW9uLHN1bW1hcnksdGFibGUsdWwiKSksVjA9em8oS0UsR24oImEsYWJicixhY3JvbnltLGF1ZGlvLGIsYmRpLGJkbyxiaWcsYnIsY2l0ZSxjb2RlLGRlbCxkZm4sZW0sZm9udCxpLGltZyxpbnMsa2JkLGxhYmVsLG1hcCxtYXJrLHBpY3R1cmUscSxydWJ5LHJwLHJ0LHMsc2FtcCxzbWFsbCxzb3VyY2Usc3BhbixzdHJpa2Usc3Ryb25nLHN1YixzdXAsdGltZSx0cmFjayx0dCx1LHZhcix2aWRlbyIpKSxhbT16byhXRSxMMCxWMCx4MCksUUU9R24oImJhY2tncm91bmQsY2l0ZSxocmVmLGl0ZW10eXBlLGxvbmdkZXNjLHBvc3RlcixzcmMseGxpbms6aHJlZiIpLEYwPUduKCJhYmJyLGFjY2Vzc2tleSxhbGlnbixhbHQsYXV0b3BsYXksYXhpcyxiZ2NvbG9yLGJvcmRlcixjZWxscGFkZGluZyxjZWxsc3BhY2luZyxjbGFzcyxjbGVhcixjb2xvcixjb2xzLGNvbHNwYW4sY29tcGFjdCxjb250cm9scyxjb29yZHMsZGF0ZXRpbWUsZGVmYXVsdCxkaXIsZG93bmxvYWQsZmFjZSxoZWFkZXJzLGhlaWdodCxoaWRkZW4saHJlZmxhbmcsaHNwYWNlLGlzbWFwLGl0ZW1zY29wZSxpdGVtcHJvcCxraW5kLGxhYmVsLGxhbmcsbGFuZ3VhZ2UsbG9vcCxtZWRpYSxtdXRlZCxub2hyZWYsbm93cmFwLG9wZW4scHJlbG9hZCxyZWwscmV2LHJvbGUscm93cyxyb3dzcGFuLHJ1bGVzLHNjb3BlLHNjcm9sbGluZyxzaGFwZSxzaXplLHNpemVzLHNwYW4sc3JjbGFuZyxzcmNzZXQsc3RhcnQsc3VtbWFyeSx0YWJpbmRleCx0YXJnZXQsdGl0bGUsdHJhbnNsYXRlLHR5cGUsdXNlbWFwLHZhbGlnbix2YWx1ZSx2c3BhY2Usd2lkdGgiKSxVMD1HbigiYXJpYS1hY3RpdmVkZXNjZW5kYW50LGFyaWEtYXRvbWljLGFyaWEtYXV0b2NvbXBsZXRlLGFyaWEtYnVzeSxhcmlhLWNoZWNrZWQsYXJpYS1jb2xjb3VudCxhcmlhLWNvbGluZGV4LGFyaWEtY29sc3BhbixhcmlhLWNvbnRyb2xzLGFyaWEtY3VycmVudCxhcmlhLWRlc2NyaWJlZGJ5LGFyaWEtZGV0YWlscyxhcmlhLWRpc2FibGVkLGFyaWEtZHJvcGVmZmVjdCxhcmlhLWVycm9ybWVzc2FnZSxhcmlhLWV4cGFuZGVkLGFyaWEtZmxvd3RvLGFyaWEtZ3JhYmJlZCxhcmlhLWhhc3BvcHVwLGFyaWEtaGlkZGVuLGFyaWEtaW52YWxpZCxhcmlhLWtleXNob3J0Y3V0cyxhcmlhLWxhYmVsLGFyaWEtbGFiZWxsZWRieSxhcmlhLWxldmVsLGFyaWEtbGl2ZSxhcmlhLW1vZGFsLGFyaWEtbXVsdGlsaW5lLGFyaWEtbXVsdGlzZWxlY3RhYmxlLGFyaWEtb3JpZW50YXRpb24sYXJpYS1vd25zLGFyaWEtcGxhY2Vob2xkZXIsYXJpYS1wb3NpbnNldCxhcmlhLXByZXNzZWQsYXJpYS1yZWFkb25seSxhcmlhLXJlbGV2YW50LGFyaWEtcmVxdWlyZWQsYXJpYS1yb2xlZGVzY3JpcHRpb24sYXJpYS1yb3djb3VudCxhcmlhLXJvd2luZGV4LGFyaWEtcm93c3BhbixhcmlhLXNlbGVjdGVkLGFyaWEtc2V0c2l6ZSxhcmlhLXNvcnQsYXJpYS12YWx1ZW1heCxhcmlhLXZhbHVlbWluLGFyaWEtdmFsdWVub3csYXJpYS12YWx1ZXRleHQiKSxqMD16byhRRSxGMCxVMCksJDA9R24oInNjcmlwdCxzdHlsZSx0ZW1wbGF0ZSIpO2NsYXNzIEIwe2NvbnN0cnVjdG9yKCl7dGhpcy5zYW5pdGl6ZWRTb21ldGhpbmc9ITEsdGhpcy5idWY9W119c2FuaXRpemVDaGlsZHJlbihlKXtsZXQgbj1lLmZpcnN0Q2hpbGQscj0hMDtmb3IoO247KXtpZihuLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREU/cj10aGlzLnN0YXJ0RWxlbWVudChuKTpuLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREU/dGhpcy5jaGFycyhuLm5vZGVWYWx1ZSk6dGhpcy5zYW5pdGl6ZWRTb21ldGhpbmc9ITAsciYmbi5maXJzdENoaWxkKXtuPW4uZmlyc3RDaGlsZDtjb250aW51ZX1mb3IoO247KXtuLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUmJnRoaXMuZW5kRWxlbWVudChuKTtsZXQgaT10aGlzLmNoZWNrQ2xvYmJlcmVkRWxlbWVudChuLG4ubmV4dFNpYmxpbmcpO2lmKGkpe249aTticmVha31uPXRoaXMuY2hlY2tDbG9iYmVyZWRFbGVtZW50KG4sbi5wYXJlbnROb2RlKX19cmV0dXJuIHRoaXMuYnVmLmpvaW4oIiIpfXN0YXJ0RWxlbWVudChlKXtjb25zdCBuPWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZighYW0uaGFzT3duUHJvcGVydHkobikpcmV0dXJuIHRoaXMuc2FuaXRpemVkU29tZXRoaW5nPSEwLCEkMC5oYXNPd25Qcm9wZXJ0eShuKTt0aGlzLmJ1Zi5wdXNoKCI8IiksdGhpcy5idWYucHVzaChuKTtjb25zdCByPWUuYXR0cmlidXRlcztmb3IobGV0IGk9MDtpPHIubGVuZ3RoO2krKyl7Y29uc3Qgcz1yLml0ZW0oaSksbz1zLm5hbWUsYT1vLnRvTG93ZXJDYXNlKCk7aWYoIWowLmhhc093blByb3BlcnR5KGEpKXt0aGlzLnNhbml0aXplZFNvbWV0aGluZz0hMDtjb250aW51ZX1sZXQgYz1zLnZhbHVlO1FFW2FdJiYoYz1DZihjKSksdGhpcy5idWYucHVzaCgiICIsbywnPSInLGNtKGMpLCciJyl9cmV0dXJuIHRoaXMuYnVmLnB1c2goIj4iKSwhMH1lbmRFbGVtZW50KGUpe2NvbnN0IG49ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2FtLmhhc093blByb3BlcnR5KG4pJiYhV0UuaGFzT3duUHJvcGVydHkobikmJih0aGlzLmJ1Zi5wdXNoKCI8LyIpLHRoaXMuYnVmLnB1c2gobiksdGhpcy5idWYucHVzaCgiPiIpKX1jaGFycyhlKXt0aGlzLmJ1Zi5wdXNoKGNtKGUpKX1jaGVja0Nsb2JiZXJlZEVsZW1lbnQoZSxuKXtpZihuJiYoZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuKSZOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0NPTlRBSU5FRF9CWSk9PT1Ob2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0NPTlRBSU5FRF9CWSl0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBzYW5pdGl6ZSBodG1sIGJlY2F1c2UgdGhlIGVsZW1lbnQgaXMgY2xvYmJlcmVkOiAke2Uub3V0ZXJIVE1MfWApO3JldHVybiBufX1jb25zdCBIMD0vW1x1RDgwMC1cdURCRkZdW1x1REMwMC1cdURGRkZdL2cscTA9LyhbXlwjLX4gfCFdKS9nO2Z1bmN0aW9uIGNtKHQpe3JldHVybiB0LnJlcGxhY2UoLyYvZywiJmFtcDsiKS5yZXBsYWNlKEgwLGZ1bmN0aW9uKGUpe2NvbnN0IG49ZS5jaGFyQ29kZUF0KDApLHI9ZS5jaGFyQ29kZUF0KDEpO3JldHVybiImIyIrKChuLTU1Mjk2KSoxMDI0KyhyLTU2MzIwKSs2NTUzNikrIjsifSkucmVwbGFjZShxMCxmdW5jdGlvbihlKXtyZXR1cm4iJiMiK2UuY2hhckNvZGVBdCgwKSsiOyJ9KS5yZXBsYWNlKC88L2csIiZsdDsiKS5yZXBsYWNlKC8+L2csIiZndDsiKX1sZXQgd2E7ZnVuY3Rpb24gWkUodCxlKXtsZXQgbj1udWxsO3RyeXt3YT13YXx8UDAodCk7bGV0IHI9ZT9TdHJpbmcoZSk6IiI7bj13YS5nZXRJbmVydEJvZHlFbGVtZW50KHIpO2xldCBpPTUscz1yO2Rve2lmKGk9PT0wKXRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIHNhbml0aXplIGh0bWwgYmVjYXVzZSB0aGUgaW5wdXQgaXMgdW5zdGFibGUiKTtpLS0scj1zLHM9bi5pbm5lckhUTUwsbj13YS5nZXRJbmVydEJvZHlFbGVtZW50KHIpfXdoaWxlKHIhPT1zKTtjb25zdCBhPW5ldyBCMCgpLnNhbml0aXplQ2hpbGRyZW4odW0obil8fG4pO3JldHVybiBhfWZpbmFsbHl7aWYobil7Y29uc3Qgcj11bShuKXx8bjtmb3IoO3IuZmlyc3RDaGlsZDspci5yZW1vdmVDaGlsZChyLmZpcnN0Q2hpbGQpfX19ZnVuY3Rpb24gdW0odCl7cmV0dXJuImNvbnRlbnQiaW4gdCYmejAodCk/dC5jb250ZW50Om51bGx9ZnVuY3Rpb24gejAodCl7cmV0dXJuIHQubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmdC5ub2RlTmFtZT09PSJURU1QTEFURSJ9dmFyIEluPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuTk9ORT0wXT0iTk9ORSIsdFt0LkhUTUw9MV09IkhUTUwiLHRbdC5TVFlMRT0yXT0iU1RZTEUiLHRbdC5TQ1JJUFQ9M109IlNDUklQVCIsdFt0LlVSTD00XT0iVVJMIix0W3QuUkVTT1VSQ0VfVVJMPTVdPSJSRVNPVVJDRV9VUkwiLHR9KElufHx7fSk7ZnVuY3Rpb24gb0godCl7Y29uc3QgZT1YRSgpO3JldHVybiBlP2Uuc2FuaXRpemUoSW4uSFRNTCx0KXx8IiI6Q3IodCwiSFRNTCIpP1luKHQpOlpFKEhvKCksdXUodCkpfWZ1bmN0aW9uIGFIKHQpe2NvbnN0IGU9WEUoKTtyZXR1cm4gZT9lLnNhbml0aXplKEluLlVSTCx0KXx8IiI6Q3IodCwiVVJMIik/WW4odCk6Q2YodXUodCkpfWZ1bmN0aW9uIFhFKCl7Y29uc3QgdD1QZSgpO3JldHVybiB0JiZ0W1ZuXS5zYW5pdGl6ZXJ9Y29uc3QgWUU9bmV3IE1hcDtsZXQgVzA9MDtmdW5jdGlvbiBHMCgpe3JldHVybiBXMCsrfWZ1bmN0aW9uIEswKHQpe1lFLnNldCh0W3J1XSx0KX1mdW5jdGlvbiBRMCh0KXtZRS5kZWxldGUodFtydV0pfWNvbnN0IGxtPSJfX25nQ29udGV4dF9fIjtmdW5jdGlvbiBCcih0LGUpe2tuKGUpPyh0W2xtXT1lW3J1XSxLMChlKSk6dFtsbV09ZX1mdW5jdGlvbiBaMCh0KXtyZXR1cm4gdC5vd25lckRvY3VtZW50LmJvZHl9ZnVuY3Rpb24gSkUodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBGdW5jdGlvbj90KCk6dH1mdW5jdGlvbiBJYSh0KXtyZXR1cm4odD8/YihXbikpLmdldChncik9PT0iYnJvd3NlciJ9dmFyIFJyPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuSW1wb3J0YW50PTFdPSJJbXBvcnRhbnQiLHRbdC5EYXNoQ2FzZT0yXT0iRGFzaENhc2UiLHR9KFJyfHx7fSk7bGV0IFgwO2Z1bmN0aW9uIEFmKHQsZSl7cmV0dXJuIFgwKHQsZSl9ZnVuY3Rpb24gZ2kodCxlLG4scixpKXtpZihyIT1udWxsKXtsZXQgcyxvPSExO19uKHIpP3M9cjprbihyKSYmKG89ITAscj1yW010XSk7Y29uc3QgYT1adChyKTt0PT09MCYmbiE9PW51bGw/aT09bnVsbD9ydyhlLG4sYSk6RWMoZSxuLGEsaXx8bnVsbCwhMCk6dD09PTEmJm4hPT1udWxsP0VjKGUsbixhLGl8fG51bGwsITApOnQ9PT0yP3N3KGUsYSxvKTp0PT09MyYmZS5kZXN0cm95Tm9kZShhKSxzIT1udWxsJiZwUChlLHQscyxuLGkpfX1mdW5jdGlvbiBldyh0LGUpe3JldHVybiB0LmNyZWF0ZVRleHQoZSl9ZnVuY3Rpb24gWTAodCxlLG4pe3Quc2V0VmFsdWUoZSxuKX1mdW5jdGlvbiBSZih0LGUsbil7cmV0dXJuIHQuY3JlYXRlRWxlbWVudChlLG4pfWZ1bmN0aW9uIEowKHQsZSl7dHcodCxlKSxlW010XT1udWxsLGVbSnRdPW51bGx9ZnVuY3Rpb24gZVAodCxlLG4scixpLHMpe3JbTXRdPWkscltKdF09ZSxmdSh0LHIsbiwxLGkscyl9ZnVuY3Rpb24gdHcodCxlKXtmdSh0LGUsZVtaZV0sMixudWxsLG51bGwpfWZ1bmN0aW9uIHRQKHQpe2xldCBlPXRbZW9dO2lmKCFlKXJldHVybiBTbCh0W2llXSx0KTtmb3IoO2U7KXtsZXQgbj1udWxsO2lmKGtuKGUpKW49ZVtlb107ZWxzZXtjb25zdCByPWVbZnRdO3ImJihuPXIpfWlmKCFuKXtmb3IoO2UmJiFlW0t0XSYmZSE9PXQ7KWtuKGUpJiZTbChlW2llXSxlKSxlPWVbc3RdO2U9PT1udWxsJiYoZT10KSxrbihlKSYmU2woZVtpZV0sZSksbj1lJiZlW0t0XX1lPW59fWZ1bmN0aW9uIG5QKHQsZSxuLHIpe2NvbnN0IGk9ZnQrcixzPW4ubGVuZ3RoO3I+MCYmKG5baS0xXVtLdF09ZSkscjxzLWZ0PyhlW0t0XT1uW2ldLFlfKG4sZnQrcixlKSk6KG4ucHVzaChlKSxlW0t0XT1udWxsKSxlW3N0XT1uO2NvbnN0IG89ZVtudV07byE9PW51bGwmJm4hPT1vJiZyUChvLGUpO2NvbnN0IGE9ZVtMaV07YSE9PW51bGwmJmEuaW5zZXJ0Vmlldyh0KSxtaChlKSxlW0ddfD0xMjh9ZnVuY3Rpb24gclAodCxlKXtjb25zdCBuPXRbaGNdLGk9ZVtzdF1bc3RdW050XTtlW050XSE9PWkmJih0W0ddfD1uZi5IYXNUcmFuc3BsYW50ZWRWaWV3cyksbj09PW51bGw/dFtoY109W2VdOm4ucHVzaChlKX1mdW5jdGlvbiBudyh0LGUpe2NvbnN0IG49dFtoY10scj1uLmluZGV4T2YoZSk7bi5zcGxpY2UociwxKX1mdW5jdGlvbiBzbyh0LGUpe2lmKHQubGVuZ3RoPD1mdClyZXR1cm47Y29uc3Qgbj1mdCtlLHI9dFtuXTtpZihyKXtjb25zdCBpPXJbbnVdO2khPT1udWxsJiZpIT09dCYmbncoaSxyKSxlPjAmJih0W24tMV1bS3RdPXJbS3RdKTtjb25zdCBzPWZjKHQsZnQrZSk7SjAocltpZV0scik7Y29uc3Qgbz1zW0xpXTtvIT09bnVsbCYmby5kZXRhY2hWaWV3KHNbaWVdKSxyW3N0XT1udWxsLHJbS3RdPW51bGwscltHXSY9LTEyOX1yZXR1cm4gcn1mdW5jdGlvbiBkdSh0LGUpe2lmKCEoZVtHXSYyNTYpKXtjb25zdCBuPWVbWmVdO24uZGVzdHJveU5vZGUmJmZ1KHQsZSxuLDMsbnVsbCxudWxsKSx0UChlKX19ZnVuY3Rpb24gU2wodCxlKXtpZighKGVbR10mMjU2KSl7ZVtHXSY9LTEyOSxlW0ddfD0yNTYsZVtVcl0mJld2KGVbVXJdKSxzUCh0LGUpLGlQKHQsZSksZVtpZV0udHlwZT09PTEmJmVbWmVdLmRlc3Ryb3koKTtjb25zdCBuPWVbbnVdO2lmKG4hPT1udWxsJiZfbihlW3N0XSkpe24hPT1lW3N0XSYmbncobixlKTtjb25zdCByPWVbTGldO3IhPT1udWxsJiZyLmRldGFjaFZpZXcodCl9UTAoZSl9fWZ1bmN0aW9uIGlQKHQsZSl7Y29uc3Qgbj10LmNsZWFudXAscj1lW0pzXTtpZihuIT09bnVsbClmb3IobGV0IHM9MDtzPG4ubGVuZ3RoLTE7cys9MilpZih0eXBlb2YgbltzXT09InN0cmluZyIpe2NvbnN0IG89bltzKzNdO28+PTA/cltvXSgpOnJbLW9dLnVuc3Vic2NyaWJlKCkscys9Mn1lbHNle2NvbnN0IG89cltuW3MrMV1dO25bc10uY2FsbChvKX1yIT09bnVsbCYmKGVbSnNdPW51bGwpO2NvbnN0IGk9ZVt0cl07aWYoaSE9PW51bGwpe2VbdHJdPW51bGw7Zm9yKGxldCBzPTA7czxpLmxlbmd0aDtzKyspe2NvbnN0IG89aVtzXTtvKCl9fX1mdW5jdGlvbiBzUCh0LGUpe2xldCBuO2lmKHQhPW51bGwmJihuPXQuZGVzdHJveUhvb2tzKSE9bnVsbClmb3IobGV0IHI9MDtyPG4ubGVuZ3RoO3IrPTIpe2NvbnN0IGk9ZVtuW3JdXTtpZighKGkgaW5zdGFuY2VvZiBUZikpe2NvbnN0IHM9bltyKzFdO2lmKEFycmF5LmlzQXJyYXkocykpZm9yKGxldCBvPTA7bzxzLmxlbmd0aDtvKz0yKXtjb25zdCBhPWlbc1tvXV0sYz1zW28rMV07c24oNCxhLGMpO3RyeXtjLmNhbGwoYSl9ZmluYWxseXtzbig1LGEsYyl9fWVsc2V7c24oNCxpLHMpO3RyeXtzLmNhbGwoaSl9ZmluYWxseXtzbig1LGkscyl9fX19fWZ1bmN0aW9uIG9QKHQsZSxuKXtyZXR1cm4gYVAodCxlLnBhcmVudCxuKX1mdW5jdGlvbiBhUCh0LGUsbil7bGV0IHI9ZTtmb3IoO3IhPT1udWxsJiZyLnR5cGUmNDA7KWU9cixyPWUucGFyZW50O2lmKHI9PT1udWxsKXJldHVybiBuW010XTt7Y29uc3R7Y29tcG9uZW50T2Zmc2V0Oml9PXI7aWYoaT4tMSl7Y29uc3R7ZW5jYXBzdWxhdGlvbjpzfT10LmRhdGFbci5kaXJlY3RpdmVTdGFydCtpXTtpZihzPT09Um4uTm9uZXx8cz09PVJuLkVtdWxhdGVkKXJldHVybiBudWxsfXJldHVybiBCdChyLG4pfX1mdW5jdGlvbiBFYyh0LGUsbixyLGkpe3QuaW5zZXJ0QmVmb3JlKGUsbixyLGkpfWZ1bmN0aW9uIHJ3KHQsZSxuKXt0LmFwcGVuZENoaWxkKGUsbil9ZnVuY3Rpb24gaG0odCxlLG4scixpKXtyIT09bnVsbD9FYyh0LGUsbixyLGkpOnJ3KHQsZSxuKX1mdW5jdGlvbiBjUCh0LGUsbixyKXt0LnJlbW92ZUNoaWxkKGUsbixyKX1mdW5jdGlvbiBiZih0LGUpe3JldHVybiB0LnBhcmVudE5vZGUoZSl9ZnVuY3Rpb24gdVAodCxlKXtyZXR1cm4gdC5uZXh0U2libGluZyhlKX1mdW5jdGlvbiBsUCh0LGUsbil7cmV0dXJuIGRQKHQsZSxuKX1mdW5jdGlvbiBoUCh0LGUsbil7cmV0dXJuIHQudHlwZSY0MD9CdCh0LG4pOm51bGx9bGV0IGRQPWhQO2Z1bmN0aW9uIERmKHQsZSxuLHIpe2NvbnN0IGk9b1AodCxyLGUpLHM9ZVtaZV0sbz1yLnBhcmVudHx8ZVtKdF0sYT1sUChvLHIsZSk7aWYoaSE9bnVsbClpZihBcnJheS5pc0FycmF5KG4pKWZvcihsZXQgYz0wO2M8bi5sZW5ndGg7YysrKWhtKHMsaSxuW2NdLGEsITEpO2Vsc2UgaG0ocyxpLG4sYSwhMSl9ZnVuY3Rpb24gSGEodCxlKXtpZihlIT09bnVsbCl7Y29uc3Qgbj1lLnR5cGU7aWYobiYzKXJldHVybiBCdChlLHQpO2lmKG4mNClyZXR1cm4gUGgoLTEsdFtlLmluZGV4XSk7aWYobiY4KXtjb25zdCByPWUuY2hpbGQ7aWYociE9PW51bGwpcmV0dXJuIEhhKHQscik7e2NvbnN0IGk9dFtlLmluZGV4XTtyZXR1cm4gX24oaSk/UGgoLTEsaSk6WnQoaSl9fWVsc2V7aWYobiYzMilyZXR1cm4gQWYoZSx0KSgpfHxadCh0W2UuaW5kZXhdKTt7Y29uc3Qgcj1pdyh0LGUpO2lmKHIhPT1udWxsKXtpZihBcnJheS5pc0FycmF5KHIpKXJldHVybiByWzBdO2NvbnN0IGk9bm8odFtOdF0pO3JldHVybiBIYShpLHIpfWVsc2UgcmV0dXJuIEhhKHQsZS5uZXh0KX19fXJldHVybiBudWxsfWZ1bmN0aW9uIGl3KHQsZSl7aWYoZSE9PW51bGwpe2NvbnN0IHI9dFtOdF1bSnRdLGk9ZS5wcm9qZWN0aW9uO3JldHVybiByLnByb2plY3Rpb25baV19cmV0dXJuIG51bGx9ZnVuY3Rpb24gUGgodCxlKXtjb25zdCBuPWZ0K3QrMTtpZihuPGUubGVuZ3RoKXtjb25zdCByPWVbbl0saT1yW2llXS5maXJzdENoaWxkO2lmKGkhPT1udWxsKXJldHVybiBIYShyLGkpfXJldHVybiBlW0ZuXX1mdW5jdGlvbiBzdyh0LGUsbil7Y29uc3Qgcj1iZih0LGUpO3ImJmNQKHQscixlLG4pfWZ1bmN0aW9uIG93KHQpe3QudGV4dENvbnRlbnQ9IiJ9ZnVuY3Rpb24gUGYodCxlLG4scixpLHMsbyl7Zm9yKDtuIT1udWxsOyl7Y29uc3QgYT1yW24uaW5kZXhdLGM9bi50eXBlO2lmKG8mJmU9PT0wJiYoYSYmQnIoWnQoYSksciksbi5mbGFnc3w9MiksKG4uZmxhZ3MmMzIpIT09MzIpaWYoYyY4KVBmKHQsZSxuLmNoaWxkLHIsaSxzLCExKSxnaShlLHQsaSxhLHMpO2Vsc2UgaWYoYyYzMil7Y29uc3QgdT1BZihuLHIpO2xldCBsO2Zvcig7bD11KCk7KWdpKGUsdCxpLGwscyk7Z2koZSx0LGksYSxzKX1lbHNlIGMmMTY/ZlAodCxlLHIsbixpLHMpOmdpKGUsdCxpLGEscyk7bj1vP24ucHJvamVjdGlvbk5leHQ6bi5uZXh0fX1mdW5jdGlvbiBmdSh0LGUsbixyLGkscyl7UGYobixyLHQuZmlyc3RDaGlsZCxlLGkscywhMSl9ZnVuY3Rpb24gZlAodCxlLG4scixpLHMpe2NvbnN0IG89bltOdF0sYz1vW0p0XS5wcm9qZWN0aW9uW3IucHJvamVjdGlvbl07aWYoQXJyYXkuaXNBcnJheShjKSlmb3IobGV0IHU9MDt1PGMubGVuZ3RoO3UrKyl7Y29uc3QgbD1jW3VdO2dpKGUsdCxpLGwscyl9ZWxzZXtsZXQgdT1jO2NvbnN0IGw9b1tzdF07cGMocikmJih1LmZsYWdzfD0xMjgpLFBmKHQsZSx1LGwsaSxzLCEwKX19ZnVuY3Rpb24gcFAodCxlLG4scixpKXtjb25zdCBzPW5bRm5dLG89WnQobik7cyE9PW8mJmdpKGUsdCxyLHMsaSk7Zm9yKGxldCBhPWZ0O2E8bi5sZW5ndGg7YSsrKXtjb25zdCBjPW5bYV07ZnUoY1tpZV0sYyx0LGUscixzKX19ZnVuY3Rpb24gZ1AodCxlLG4scixpKXtpZihlKWk/dC5hZGRDbGFzcyhuLHIpOnQucmVtb3ZlQ2xhc3MobixyKTtlbHNle2xldCBzPXIuaW5kZXhPZigiLSIpPT09LTE/dm9pZCAwOlJyLkRhc2hDYXNlO2k9PW51bGw/dC5yZW1vdmVTdHlsZShuLHIscyk6KHR5cGVvZiBpPT0ic3RyaW5nIiYmaS5lbmRzV2l0aCgiIWltcG9ydGFudCIpJiYoaT1pLnNsaWNlKDAsLTEwKSxzfD1Sci5JbXBvcnRhbnQpLHQuc2V0U3R5bGUobixyLGkscykpfX1mdW5jdGlvbiBtUCh0LGUsbil7dC5zZXRBdHRyaWJ1dGUoZSwic3R5bGUiLG4pfWZ1bmN0aW9uIGF3KHQsZSxuKXtuPT09IiI/dC5yZW1vdmVBdHRyaWJ1dGUoZSwiY2xhc3MiKTp0LnNldEF0dHJpYnV0ZShlLCJjbGFzcyIsbil9ZnVuY3Rpb24gY3codCxlLG4pe2NvbnN0e21lcmdlZEF0dHJzOnIsY2xhc3NlczppLHN0eWxlczpzfT1uO3IhPT1udWxsJiZnaCh0LGUsciksaSE9PW51bGwmJmF3KHQsZSxpKSxzIT09bnVsbCYmbVAodCxlLHMpfWNvbnN0IG1yPXt9O2Z1bmN0aW9uIGNIKHQ9MSl7dXcoem4oKSxQZSgpLFhyKCkrdCwhMSl9ZnVuY3Rpb24gdXcodCxlLG4scil7aWYoIXIpaWYoKGVbR10mMyk9PT0zKXtjb25zdCBzPXQucHJlT3JkZXJDaGVja0hvb2tzO3MhPT1udWxsJiYkYShlLHMsbil9ZWxzZXtjb25zdCBzPXQucHJlT3JkZXJIb29rcztzIT09bnVsbCYmQmEoZSxzLDAsbil9anIobil9ZnVuY3Rpb24gb28odCxlPXVlLkRlZmF1bHQpe2NvbnN0IG49UGUoKTtpZihuPT09bnVsbClyZXR1cm4gdGUodCxlKTtjb25zdCByPUVuKCk7cmV0dXJuIEZFKHIsbixSdCh0KSxlKX1mdW5jdGlvbiBsdyh0LGUsbixyLGkscyl7Y29uc3Qgbz1LZShudWxsKTt0cnl7bGV0IGE9bnVsbDtpJlZyLlNpZ25hbEJhc2VkJiYoYT1lW3JdW05pXSksYSE9PW51bGwmJmEudHJhbnNmb3JtRm4hPT12b2lkIDAmJihzPWEudHJhbnNmb3JtRm4ocykpLGkmVnIuSGFzRGVjb3JhdG9ySW5wdXRUcmFuc2Zvcm0mJihzPXQuaW5wdXRUcmFuc2Zvcm1zW3JdLmNhbGwoZSxzKSksdC5zZXRJbnB1dCE9PW51bGw/dC5zZXRJbnB1dChlLGEscyxuLHIpOkNFKGUsYSxyLHMpfWZpbmFsbHl7S2Uobyl9fWZ1bmN0aW9uIHlQKHQsZSl7Y29uc3Qgbj10Lmhvc3RCaW5kaW5nT3BDb2RlcztpZihuIT09bnVsbCl0cnl7Zm9yKGxldCByPTA7cjxuLmxlbmd0aDtyKyspe2NvbnN0IGk9bltyXTtpZihpPDApanIofmkpO2Vsc2V7Y29uc3Qgcz1pLG89blsrK3JdLGE9blsrK3JdO1piKG8scyk7Y29uc3QgYz1lW3NdO2EoMixjKX19fWZpbmFsbHl7anIoLTEpfX1mdW5jdGlvbiBwdSh0LGUsbixyLGkscyxvLGEsYyx1LGwpe2NvbnN0IGg9ZS5ibHVlcHJpbnQuc2xpY2UoKTtyZXR1cm4gaFtNdF09aSxoW0ddPXJ8NHwxMjh8OHw2NCwodSE9PW51bGx8fHQmJnRbR10mMjA0OCkmJihoW0ddfD0yMDQ4KSxVXyhoKSxoW3N0XT1oW25zXT10LGhbZHRdPW4saFtWbl09b3x8dCYmdFtWbl0saFtaZV09YXx8dCYmdFtaZV0saFt4aV09Y3x8dCYmdFt4aV18fG51bGwsaFtKdF09cyxoW3J1XT1HMCgpLGhbTG5dPWwsaFtPX109dSxoW050XT1lLnR5cGU9PTI/dFtOdF06aCxofWZ1bmN0aW9uIGd1KHQsZSxuLHIsaSl7bGV0IHM9dC5kYXRhW2VdO2lmKHM9PT1udWxsKXM9dlAodCxlLG4scixpKSxRYigpJiYocy5mbGFnc3w9MzIpO2Vsc2UgaWYocy50eXBlJjY0KXtzLnR5cGU9bixzLnZhbHVlPXIscy5hdHRycz1pO2NvbnN0IG89cWIoKTtzLmluamVjdG9ySW5kZXg9bz09PW51bGw/LTE6by5pbmplY3RvckluZGV4fXJldHVybiAkbyhzLCEwKSxzfWZ1bmN0aW9uIHZQKHQsZSxuLHIsaSl7Y29uc3Qgcz0kXygpLG89Ql8oKSxhPW8/czpzJiZzLnBhcmVudCxjPXQuZGF0YVtlXT1TUCh0LGEsbixlLHIsaSk7cmV0dXJuIHQuZmlyc3RDaGlsZD09PW51bGwmJih0LmZpcnN0Q2hpbGQ9YykscyE9PW51bGwmJihvP3MuY2hpbGQ9PW51bGwmJmMucGFyZW50IT09bnVsbCYmKHMuY2hpbGQ9Yyk6cy5uZXh0PT09bnVsbCYmKHMubmV4dD1jLGMucHJldj1zKSksY31mdW5jdGlvbiBodyh0LGUsbixyKXtpZihuPT09MClyZXR1cm4tMTtjb25zdCBpPWUubGVuZ3RoO2ZvcihsZXQgcz0wO3M8bjtzKyspZS5wdXNoKHIpLHQuYmx1ZXByaW50LnB1c2gociksdC5kYXRhLnB1c2gobnVsbCk7cmV0dXJuIGl9ZnVuY3Rpb24gZHcodCxlLG4scixpKXtjb25zdCBzPVhyKCksbz1yJjI7dHJ5e2pyKC0xKSxvJiZlLmxlbmd0aD5YZSYmdXcodCxlLFhlLCExKSxzbihvPzI6MCxpKSxuKHIsaSl9ZmluYWxseXtqcihzKSxzbihvPzM6MSxpKX19ZnVuY3Rpb24gZncodCxlLG4pe2lmKExfKGUpKXtjb25zdCByPUtlKG51bGwpO3RyeXtjb25zdCBpPWUuZGlyZWN0aXZlU3RhcnQscz1lLmRpcmVjdGl2ZUVuZDtmb3IobGV0IG89aTtvPHM7bysrKXtjb25zdCBhPXQuZGF0YVtvXTtpZihhLmNvbnRlbnRRdWVyaWVzKXtjb25zdCBjPW5bb107YS5jb250ZW50UXVlcmllcygxLGMsbyl9fX1maW5hbGx5e0tlKHIpfX19ZnVuY3Rpb24gcHcodCxlLG4pe01QKHQsZSxuLEJ0KG4sZSkpLChuLmZsYWdzJjY0KT09PTY0JiZFdyh0LGUsbil9ZnVuY3Rpb24gZ3codCxlLG49QnQpe2NvbnN0IHI9ZS5sb2NhbE5hbWVzO2lmKHIhPT1udWxsKXtsZXQgaT1lLmluZGV4KzE7Zm9yKGxldCBzPTA7czxyLmxlbmd0aDtzKz0yKXtjb25zdCBvPXJbcysxXSxhPW89PT0tMT9uKGUsdCk6dFtvXTt0W2krK109YX19fWZ1bmN0aW9uIG13KHQpe2NvbnN0IGU9dC50VmlldztyZXR1cm4gZT09PW51bGx8fGUuaW5jb21wbGV0ZUZpcnN0UGFzcz90LnRWaWV3PU1mKDEsbnVsbCx0LnRlbXBsYXRlLHQuZGVjbHMsdC52YXJzLHQuZGlyZWN0aXZlRGVmcyx0LnBpcGVEZWZzLHQudmlld1F1ZXJ5LHQuc2NoZW1hcyx0LmNvbnN0cyx0LmlkKTplfWZ1bmN0aW9uIE1mKHQsZSxuLHIsaSxzLG8sYSxjLHUsbCl7Y29uc3QgaD1YZStyLGQ9aCtpLGY9X1AoaCxkKSxtPXR5cGVvZiB1PT0iZnVuY3Rpb24iP3UoKTp1O3JldHVybiBmW2llXT17dHlwZTp0LGJsdWVwcmludDpmLHRlbXBsYXRlOm4scXVlcmllczpudWxsLHZpZXdRdWVyeTphLGRlY2xUTm9kZTplLGRhdGE6Zi5zbGljZSgpLmZpbGwobnVsbCxoKSxiaW5kaW5nU3RhcnRJbmRleDpoLGV4cGFuZG9TdGFydEluZGV4OmQsaG9zdEJpbmRpbmdPcENvZGVzOm51bGwsZmlyc3RDcmVhdGVQYXNzOiEwLGZpcnN0VXBkYXRlUGFzczohMCxzdGF0aWNWaWV3UXVlcmllczohMSxzdGF0aWNDb250ZW50UXVlcmllczohMSxwcmVPcmRlckhvb2tzOm51bGwscHJlT3JkZXJDaGVja0hvb2tzOm51bGwsY29udGVudEhvb2tzOm51bGwsY29udGVudENoZWNrSG9va3M6bnVsbCx2aWV3SG9va3M6bnVsbCx2aWV3Q2hlY2tIb29rczpudWxsLGRlc3Ryb3lIb29rczpudWxsLGNsZWFudXA6bnVsbCxjb250ZW50UXVlcmllczpudWxsLGNvbXBvbmVudHM6bnVsbCxkaXJlY3RpdmVSZWdpc3RyeTp0eXBlb2Ygcz09ImZ1bmN0aW9uIj9zKCk6cyxwaXBlUmVnaXN0cnk6dHlwZW9mIG89PSJmdW5jdGlvbiI/bygpOm8sZmlyc3RDaGlsZDpudWxsLHNjaGVtYXM6Yyxjb25zdHM6bSxpbmNvbXBsZXRlRmlyc3RQYXNzOiExLHNzcklkOmx9fWZ1bmN0aW9uIF9QKHQsZSl7Y29uc3Qgbj1bXTtmb3IobGV0IHI9MDtyPGU7cisrKW4ucHVzaChyPHQ/bnVsbDptcik7cmV0dXJuIG59ZnVuY3Rpb24gRVAodCxlLG4scil7Y29uc3Qgcz1yLmdldCh6RSxxRSl8fG49PT1Sbi5TaGFkb3dEb20sbz10LnNlbGVjdFJvb3RFbGVtZW50KGUscyk7cmV0dXJuIHdQKG8pLG99ZnVuY3Rpb24gd1AodCl7eXcodCl9bGV0IHl3PSgpPT5udWxsO2Z1bmN0aW9uIElQKHQpe2VFKHQpP293KHQpOkZEKHQpfWZ1bmN0aW9uIFRQKCl7eXc9SVB9ZnVuY3Rpb24gU1AodCxlLG4scixpLHMpe2xldCBvPWU/ZS5pbmplY3RvckluZGV4Oi0xLGE9MDtyZXR1cm4gc3UoKSYmKGF8PTEyOCkse3R5cGU6bixpbmRleDpyLGluc2VydEJlZm9yZUluZGV4Om51bGwsaW5qZWN0b3JJbmRleDpvLGRpcmVjdGl2ZVN0YXJ0Oi0xLGRpcmVjdGl2ZUVuZDotMSxkaXJlY3RpdmVTdHlsaW5nTGFzdDotMSxjb21wb25lbnRPZmZzZXQ6LTEscHJvcGVydHlCaW5kaW5nczpudWxsLGZsYWdzOmEscHJvdmlkZXJJbmRleGVzOjAsdmFsdWU6aSxhdHRyczpzLG1lcmdlZEF0dHJzOm51bGwsbG9jYWxOYW1lczpudWxsLGluaXRpYWxJbnB1dHM6dm9pZCAwLGlucHV0czpudWxsLG91dHB1dHM6bnVsbCx0VmlldzpudWxsLG5leHQ6bnVsbCxwcmV2Om51bGwscHJvamVjdGlvbk5leHQ6bnVsbCxjaGlsZDpudWxsLHBhcmVudDplLHByb2plY3Rpb246bnVsbCxzdHlsZXM6bnVsbCxzdHlsZXNXaXRob3V0SG9zdDpudWxsLHJlc2lkdWFsU3R5bGVzOnZvaWQgMCxjbGFzc2VzOm51bGwsY2xhc3Nlc1dpdGhvdXRIb3N0Om51bGwscmVzaWR1YWxDbGFzc2VzOnZvaWQgMCxjbGFzc0JpbmRpbmdzOjAsc3R5bGVCaW5kaW5nczowfX1mdW5jdGlvbiBkbSh0LGUsbixyLGkpe2ZvcihsZXQgcyBpbiBlKXtpZighZS5oYXNPd25Qcm9wZXJ0eShzKSljb250aW51ZTtjb25zdCBvPWVbc107aWYobz09PXZvaWQgMCljb250aW51ZTtyPz8ocj17fSk7bGV0IGEsYz1Wci5Ob25lO0FycmF5LmlzQXJyYXkobyk/KGE9b1swXSxjPW9bMV0pOmE9bztsZXQgdT1zO2lmKGkhPT1udWxsKXtpZighaS5oYXNPd25Qcm9wZXJ0eShzKSljb250aW51ZTt1PWlbc119dD09PTA/Zm0ocixuLHUsYSxjKTpmbShyLG4sdSxhKX1yZXR1cm4gcn1mdW5jdGlvbiBmbSh0LGUsbixyLGkpe2xldCBzO3QuaGFzT3duUHJvcGVydHkobik/KHM9dFtuXSkucHVzaChlLHIpOnM9dFtuXT1bZSxyXSxpIT09dm9pZCAwJiZzLnB1c2goaSl9ZnVuY3Rpb24gQ1AodCxlLG4pe2NvbnN0IHI9ZS5kaXJlY3RpdmVTdGFydCxpPWUuZGlyZWN0aXZlRW5kLHM9dC5kYXRhLG89ZS5hdHRycyxhPVtdO2xldCBjPW51bGwsdT1udWxsO2ZvcihsZXQgbD1yO2w8aTtsKyspe2NvbnN0IGg9c1tsXSxkPW4/bi5nZXQoaCk6bnVsbCxmPWQ/ZC5pbnB1dHM6bnVsbCxtPWQ/ZC5vdXRwdXRzOm51bGw7Yz1kbSgwLGguaW5wdXRzLGwsYyxmKSx1PWRtKDEsaC5vdXRwdXRzLGwsdSxtKTtjb25zdCB5PWMhPT1udWxsJiZvIT09bnVsbCYmIVJfKGUpP2pQKGMsbCxvKTpudWxsO2EucHVzaCh5KX1jIT09bnVsbCYmKGMuaGFzT3duUHJvcGVydHkoImNsYXNzIikmJihlLmZsYWdzfD04KSxjLmhhc093blByb3BlcnR5KCJzdHlsZSIpJiYoZS5mbGFnc3w9MTYpKSxlLmluaXRpYWxJbnB1dHM9YSxlLmlucHV0cz1jLGUub3V0cHV0cz11fWZ1bmN0aW9uIEFQKHQpe3JldHVybiB0PT09ImNsYXNzIj8iY2xhc3NOYW1lIjp0PT09ImZvciI/Imh0bWxGb3IiOnQ9PT0iZm9ybWFjdGlvbiI/ImZvcm1BY3Rpb24iOnQ9PT0iaW5uZXJIdG1sIj8iaW5uZXJIVE1MIjp0PT09InJlYWRvbmx5Ij8icmVhZE9ubHkiOnQ9PT0idGFiaW5kZXgiPyJ0YWJJbmRleCI6dH1mdW5jdGlvbiBSUCh0LGUsbixyLGkscyxvLGEpe2NvbnN0IGM9QnQoZSxuKTtsZXQgdT1lLmlucHV0cyxsOyFhJiZ1IT1udWxsJiYobD11W3JdKT8oTmYodCxuLGwscixpKSxVbyhlKSYmYlAobixlLmluZGV4KSk6ZS50eXBlJjM/KHI9QVAociksaT1vIT1udWxsP28oaSxlLnZhbHVlfHwiIixyKTppLHMuc2V0UHJvcGVydHkoYyxyLGkpKTplLnR5cGUmMTJ9ZnVuY3Rpb24gYlAodCxlKXtjb25zdCBuPXByKGUsdCk7bltHXSYxNnx8KG5bR118PTY0KX1mdW5jdGlvbiB2dyh0LGUsbixyKXt7Y29uc3QgaT1yPT09bnVsbD9udWxsOnsiIjotMX0scz1rUCh0LG4pO2xldCBvLGE7cz09PW51bGw/bz1hPW51bGw6W28sYV09cyxvIT09bnVsbCYmX3codCxlLG4sbyxpLGEpLGkmJk9QKG4scixpKX1uLm1lcmdlZEF0dHJzPWVmKG4ubWVyZ2VkQXR0cnMsbi5hdHRycyl9ZnVuY3Rpb24gX3codCxlLG4scixpLHMpe2ZvcihsZXQgdT0wO3U8ci5sZW5ndGg7dSsrKWQwKE9FKG4sZSksdCxyW3VdLnR5cGUpO0xQKG4sdC5kYXRhLmxlbmd0aCxyLmxlbmd0aCk7Zm9yKGxldCB1PTA7dTxyLmxlbmd0aDt1Kyspe2NvbnN0IGw9clt1XTtsLnByb3ZpZGVyc1Jlc29sdmVyJiZsLnByb3ZpZGVyc1Jlc29sdmVyKGwpfWxldCBvPSExLGE9ITEsYz1odyh0LGUsci5sZW5ndGgsbnVsbCk7Zm9yKGxldCB1PTA7dTxyLmxlbmd0aDt1Kyspe2NvbnN0IGw9clt1XTtuLm1lcmdlZEF0dHJzPWVmKG4ubWVyZ2VkQXR0cnMsbC5ob3N0QXR0cnMpLFZQKHQsbixlLGMsbCkseFAoYyxsLGkpLGwuY29udGVudFF1ZXJpZXMhPT1udWxsJiYobi5mbGFnc3w9NCksKGwuaG9zdEJpbmRpbmdzIT09bnVsbHx8bC5ob3N0QXR0cnMhPT1udWxsfHxsLmhvc3RWYXJzIT09MCkmJihuLmZsYWdzfD02NCk7Y29uc3QgaD1sLnR5cGUucHJvdG90eXBlOyFvJiYoaC5uZ09uQ2hhbmdlc3x8aC5uZ09uSW5pdHx8aC5uZ0RvQ2hlY2spJiYoKHQucHJlT3JkZXJIb29rcz8/KHQucHJlT3JkZXJIb29rcz1bXSkpLnB1c2gobi5pbmRleCksbz0hMCksIWEmJihoLm5nT25DaGFuZ2VzfHxoLm5nRG9DaGVjaykmJigodC5wcmVPcmRlckNoZWNrSG9va3M/Pyh0LnByZU9yZGVyQ2hlY2tIb29rcz1bXSkpLnB1c2gobi5pbmRleCksYT0hMCksYysrfUNQKHQsbixzKX1mdW5jdGlvbiBEUCh0LGUsbixyLGkpe2NvbnN0IHM9aS5ob3N0QmluZGluZ3M7aWYocyl7bGV0IG89dC5ob3N0QmluZGluZ09wQ29kZXM7bz09PW51bGwmJihvPXQuaG9zdEJpbmRpbmdPcENvZGVzPVtdKTtjb25zdCBhPX5lLmluZGV4O1BQKG8pIT1hJiZvLnB1c2goYSksby5wdXNoKG4scixzKX19ZnVuY3Rpb24gUFAodCl7bGV0IGU9dC5sZW5ndGg7Zm9yKDtlPjA7KXtjb25zdCBuPXRbLS1lXTtpZih0eXBlb2Ygbj09Im51bWJlciImJm48MClyZXR1cm4gbn1yZXR1cm4gMH1mdW5jdGlvbiBNUCh0LGUsbixyKXtjb25zdCBpPW4uZGlyZWN0aXZlU3RhcnQscz1uLmRpcmVjdGl2ZUVuZDtVbyhuKSYmRlAoZSxuLHQuZGF0YVtpK24uY29tcG9uZW50T2Zmc2V0XSksdC5maXJzdENyZWF0ZVBhc3N8fE9FKG4sZSksQnIocixlKTtjb25zdCBvPW4uaW5pdGlhbElucHV0cztmb3IobGV0IGE9aTthPHM7YSsrKXtjb25zdCBjPXQuZGF0YVthXSx1PWlvKGUsdCxhLG4pO2lmKEJyKHUsZSksbyE9PW51bGwmJlVQKGUsYS1pLHUsYyxuLG8pLGpvKGMpKXtjb25zdCBsPXByKG4uaW5kZXgsZSk7bFtkdF09aW8oZSx0LGEsbil9fX1mdW5jdGlvbiBFdyh0LGUsbil7Y29uc3Qgcj1uLmRpcmVjdGl2ZVN0YXJ0LGk9bi5kaXJlY3RpdmVFbmQscz1uLmluZGV4LG89WGIoKTt0cnl7anIocyk7Zm9yKGxldCBhPXI7YTxpO2ErKyl7Y29uc3QgYz10LmRhdGFbYV0sdT1lW2FdO3loKGEpLChjLmhvc3RCaW5kaW5ncyE9PW51bGx8fGMuaG9zdFZhcnMhPT0wfHxjLmhvc3RBdHRycyE9PW51bGwpJiZOUChjLHUpfX1maW5hbGx5e2pyKC0xKSx5aChvKX19ZnVuY3Rpb24gTlAodCxlKXt0Lmhvc3RCaW5kaW5ncyE9PW51bGwmJnQuaG9zdEJpbmRpbmdzKDEsZSl9ZnVuY3Rpb24ga1AodCxlKXtjb25zdCBuPXQuZGlyZWN0aXZlUmVnaXN0cnk7bGV0IHI9bnVsbCxpPW51bGw7aWYobilmb3IobGV0IHM9MDtzPG4ubGVuZ3RoO3MrKyl7Y29uc3Qgbz1uW3NdO2lmKEViKGUsby5zZWxlY3RvcnMsITEpKWlmKHJ8fChyPVtdKSxqbyhvKSlpZihvLmZpbmRIb3N0RGlyZWN0aXZlRGVmcyE9PW51bGwpe2NvbnN0IGE9W107aT1pfHxuZXcgTWFwLG8uZmluZEhvc3REaXJlY3RpdmVEZWZzKG8sYSxpKSxyLnVuc2hpZnQoLi4uYSxvKTtjb25zdCBjPWEubGVuZ3RoO01oKHQsZSxjKX1lbHNlIHIudW5zaGlmdChvKSxNaCh0LGUsMCk7ZWxzZSBpPWl8fG5ldyBNYXAsby5maW5kSG9zdERpcmVjdGl2ZURlZnM/LihvLHIsaSksci5wdXNoKG8pfXJldHVybiByPT09bnVsbD9udWxsOltyLGldfWZ1bmN0aW9uIE1oKHQsZSxuKXtlLmNvbXBvbmVudE9mZnNldD1uLCh0LmNvbXBvbmVudHM/Pyh0LmNvbXBvbmVudHM9W10pKS5wdXNoKGUuaW5kZXgpfWZ1bmN0aW9uIE9QKHQsZSxuKXtpZihlKXtjb25zdCByPXQubG9jYWxOYW1lcz1bXTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krPTIpe2NvbnN0IHM9bltlW2krMV1dO2lmKHM9PW51bGwpdGhyb3cgbmV3IFcoLTMwMSwhMSk7ci5wdXNoKGVbaV0scyl9fX1mdW5jdGlvbiB4UCh0LGUsbil7aWYobil7aWYoZS5leHBvcnRBcylmb3IobGV0IHI9MDtyPGUuZXhwb3J0QXMubGVuZ3RoO3IrKyluW2UuZXhwb3J0QXNbcl1dPXQ7am8oZSkmJihuWyIiXT10KX19ZnVuY3Rpb24gTFAodCxlLG4pe3QuZmxhZ3N8PTEsdC5kaXJlY3RpdmVTdGFydD1lLHQuZGlyZWN0aXZlRW5kPWUrbix0LnByb3ZpZGVySW5kZXhlcz1lfWZ1bmN0aW9uIFZQKHQsZSxuLHIsaSl7dC5kYXRhW3JdPWk7Y29uc3Qgcz1pLmZhY3Rvcnl8fChpLmZhY3Rvcnk9JHIoaS50eXBlLCEwKSksbz1uZXcgVGYocyxqbyhpKSxvbyk7dC5ibHVlcHJpbnRbcl09byxuW3JdPW8sRFAodCxlLHIsaHcodCxuLGkuaG9zdFZhcnMsbXIpLGkpfWZ1bmN0aW9uIEZQKHQsZSxuKXtjb25zdCByPUJ0KGUsdCksaT1tdyhuKSxzPXRbVm5dLnJlbmRlcmVyRmFjdG9yeTtsZXQgbz0xNjtuLnNpZ25hbHM/bz00MDk2Om4ub25QdXNoJiYobz02NCk7Y29uc3QgYT1tdSh0LHB1KHQsaSxudWxsLG8scixlLG51bGwscy5jcmVhdGVSZW5kZXJlcihyLG4pLG51bGwsbnVsbCxudWxsKSk7dFtlLmluZGV4XT1hfWZ1bmN0aW9uIFVQKHQsZSxuLHIsaSxzKXtjb25zdCBvPXNbZV07aWYobyE9PW51bGwpZm9yKGxldCBhPTA7YTxvLmxlbmd0aDspe2NvbnN0IGM9b1thKytdLHU9b1thKytdLGw9b1thKytdLGg9b1thKytdO2x3KHIsbixjLHUsbCxoKX19ZnVuY3Rpb24galAodCxlLG4pe2xldCByPW51bGwsaT0wO2Zvcig7aTxuLmxlbmd0aDspe2NvbnN0IHM9bltpXTtpZihzPT09MCl7aSs9NDtjb250aW51ZX1lbHNlIGlmKHM9PT01KXtpKz0yO2NvbnRpbnVlfWlmKHR5cGVvZiBzPT0ibnVtYmVyIilicmVhaztpZih0Lmhhc093blByb3BlcnR5KHMpKXtyPT09bnVsbCYmKHI9W10pO2NvbnN0IG89dFtzXTtmb3IobGV0IGE9MDthPG8ubGVuZ3RoO2ErPTMpaWYob1thXT09PWUpe3IucHVzaChzLG9bYSsxXSxvW2ErMl0sbltpKzFdKTticmVha319aSs9Mn1yZXR1cm4gcn1mdW5jdGlvbiB3dyh0LGUsbixyKXtyZXR1cm5bdCwhMCwwLGUsbnVsbCxyLG51bGwsbixudWxsLG51bGxdfWZ1bmN0aW9uIEl3KHQsZSl7Y29uc3Qgbj10LmNvbnRlbnRRdWVyaWVzO2lmKG4hPT1udWxsKXtjb25zdCByPUtlKG51bGwpO3RyeXtmb3IobGV0IGk9MDtpPG4ubGVuZ3RoO2krPTIpe2NvbnN0IHM9bltpXSxvPW5baSsxXTtpZihvIT09LTEpe2NvbnN0IGE9dC5kYXRhW29dO0hfKHMpLGEuY29udGVudFF1ZXJpZXMoMixlW29dLG8pfX19ZmluYWxseXtLZShyKX19fWZ1bmN0aW9uIG11KHQsZSl7cmV0dXJuIHRbZW9dP3RbWGddW0t0XT1lOnRbZW9dPWUsdFtYZ109ZSxlfWZ1bmN0aW9uIE5oKHQsZSxuKXtIXygwKTtjb25zdCByPUtlKG51bGwpO3RyeXtlKHQsbil9ZmluYWxseXtLZShyKX19ZnVuY3Rpb24gJFAodCl7cmV0dXJuIHRbSnNdfHwodFtKc109W10pfWZ1bmN0aW9uIEJQKHQpe3JldHVybiB0LmNsZWFudXB8fCh0LmNsZWFudXA9W10pfWZ1bmN0aW9uIFR3KHQsZSl7Y29uc3Qgbj10W3hpXSxyPW4/bi5nZXQoSnIsbnVsbCk6bnVsbDtyJiZyLmhhbmRsZUVycm9yKGUpfWZ1bmN0aW9uIE5mKHQsZSxuLHIsaSl7Zm9yKGxldCBzPTA7czxuLmxlbmd0aDspe2NvbnN0IG89bltzKytdLGE9bltzKytdLGM9bltzKytdLHU9ZVtvXSxsPXQuZGF0YVtvXTtsdyhsLHUscixhLGMsaSl9fWZ1bmN0aW9uIEhQKHQsZSxuKXtjb25zdCByPUZfKGUsdCk7WTAodFtaZV0scixuKX1mdW5jdGlvbiBxUCh0LGUpe2NvbnN0IG49cHIoZSx0KSxyPW5baWVdO3pQKHIsbik7Y29uc3QgaT1uW010XTtpIT09bnVsbCYmbltMbl09PT1udWxsJiYobltMbl09bWYoaSxuW3hpXSkpLGtmKHIsbixuW2R0XSl9ZnVuY3Rpb24gelAodCxlKXtmb3IobGV0IG49ZS5sZW5ndGg7bjx0LmJsdWVwcmludC5sZW5ndGg7bisrKWUucHVzaCh0LmJsdWVwcmludFtuXSl9ZnVuY3Rpb24ga2YodCxlLG4pe2NmKGUpO3RyeXtjb25zdCByPXQudmlld1F1ZXJ5O3IhPT1udWxsJiZOaCgxLHIsbik7Y29uc3QgaT10LnRlbXBsYXRlO2khPT1udWxsJiZkdyh0LGUsaSwxLG4pLHQuZmlyc3RDcmVhdGVQYXNzJiYodC5maXJzdENyZWF0ZVBhc3M9ITEpLGVbTGldPy5maW5pc2hWaWV3Q3JlYXRpb24odCksdC5zdGF0aWNDb250ZW50UXVlcmllcyYmSXcodCxlKSx0LnN0YXRpY1ZpZXdRdWVyaWVzJiZOaCgyLHQudmlld1F1ZXJ5LG4pO2NvbnN0IHM9dC5jb21wb25lbnRzO3MhPT1udWxsJiZXUChlLHMpfWNhdGNoKHIpe3Rocm93IHQuZmlyc3RDcmVhdGVQYXNzJiYodC5pbmNvbXBsZXRlRmlyc3RQYXNzPSEwLHQuZmlyc3RDcmVhdGVQYXNzPSExKSxyfWZpbmFsbHl7ZVtHXSY9LTUsdWYoKX19ZnVuY3Rpb24gV1AodCxlKXtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKylxUCh0LGVbbl0pfWZ1bmN0aW9uIE9mKHQsZSxuLHIpe2NvbnN0IGk9ZS50VmlldyxvPXRbR10mNDA5Nj80MDk2OjE2LGE9cHUodCxpLG4sbyxudWxsLGUsbnVsbCxudWxsLG51bGwscj8uaW5qZWN0b3I/P251bGwscj8uZGVoeWRyYXRlZFZpZXc/P251bGwpLGM9dFtlLmluZGV4XTthW251XT1jO2NvbnN0IHU9dFtMaV07cmV0dXJuIHUhPT1udWxsJiYoYVtMaV09dS5jcmVhdGVFbWJlZGRlZFZpZXcoaSkpLGtmKGksYSxuKSxhfWZ1bmN0aW9uIFN3KHQsZSl7Y29uc3Qgbj1mdCtlO2lmKG48dC5sZW5ndGgpcmV0dXJuIHRbbl19ZnVuY3Rpb24gYW8odCxlKXtyZXR1cm4hZXx8ZS5maXJzdENoaWxkPT09bnVsbHx8cGModCl9ZnVuY3Rpb24geXUodCxlLG4scj0hMCl7Y29uc3QgaT1lW2llXTtpZihuUChpLGUsdCxuKSxyKXtjb25zdCBvPVBoKG4sdCksYT1lW1plXSxjPWJmKGEsdFtGbl0pO2MhPT1udWxsJiZlUChpLHRbSnRdLGEsZSxjLG8pfWNvbnN0IHM9ZVtMbl07cyE9PW51bGwmJnMuZmlyc3RDaGlsZCE9PW51bGwmJihzLmZpcnN0Q2hpbGQ9bnVsbCl9ZnVuY3Rpb24gQ3codCxlKXtjb25zdCBuPXNvKHQsZSk7cmV0dXJuIG4hPT12b2lkIDAmJmR1KG5baWVdLG4pLG59ZnVuY3Rpb24gd2ModCxlLG4scixpPSExKXtmb3IoO24hPT1udWxsOyl7Y29uc3Qgcz1lW24uaW5kZXhdO3MhPT1udWxsJiZyLnB1c2goWnQocykpLF9uKHMpJiZHUChzLHIpO2NvbnN0IG89bi50eXBlO2lmKG8mOCl3Yyh0LGUsbi5jaGlsZCxyKTtlbHNlIGlmKG8mMzIpe2NvbnN0IGE9QWYobixlKTtsZXQgYztmb3IoO2M9YSgpOylyLnB1c2goYyl9ZWxzZSBpZihvJjE2KXtjb25zdCBhPWl3KGUsbik7aWYoQXJyYXkuaXNBcnJheShhKSlyLnB1c2goLi4uYSk7ZWxzZXtjb25zdCBjPW5vKGVbTnRdKTt3YyhjW2llXSxjLGEsciwhMCl9fW49aT9uLnByb2plY3Rpb25OZXh0Om4ubmV4dH1yZXR1cm4gcn1mdW5jdGlvbiBHUCh0LGUpe2ZvcihsZXQgbj1mdDtuPHQubGVuZ3RoO24rKyl7Y29uc3Qgcj10W25dLGk9cltpZV0uZmlyc3RDaGlsZDtpIT09bnVsbCYmd2MocltpZV0scixpLGUpfXRbRm5dIT09dFtNdF0mJmUucHVzaCh0W0ZuXSl9bGV0IEF3PVtdO2Z1bmN0aW9uIEtQKHQpe3JldHVybiB0W1VyXT8/UVAodCl9ZnVuY3Rpb24gUVAodCl7Y29uc3QgZT1Bdy5wb3AoKT8/T2JqZWN0LmNyZWF0ZShYUCk7cmV0dXJuIGUubFZpZXc9dCxlfWZ1bmN0aW9uIFpQKHQpe3QubFZpZXdbVXJdIT09dCYmKHQubFZpZXc9bnVsbCxBdy5wdXNoKHQpKX1jb25zdCBYUD17Li4uR2QsY29uc3VtZXJJc0Fsd2F5c0xpdmU6ITAsY29uc3VtZXJNYXJrZWREaXJ0eTp0PT57aXUodC5sVmlldyl9LGNvbnN1bWVyT25TaWduYWxSZWFkKCl7dGhpcy5sVmlld1tVcl09dGhpc319O2Z1bmN0aW9uIFJ3KHQpe3JldHVybiBEdyh0W2VvXSl9ZnVuY3Rpb24gYncodCl7cmV0dXJuIER3KHRbS3RdKX1mdW5jdGlvbiBEdyh0KXtmb3IoO3QhPT1udWxsJiYhX24odCk7KXQ9dFtLdF07cmV0dXJuIHR9Y29uc3QgUHc9MTAwO2Z1bmN0aW9uIE13KHQsZT0hMCxuPTApe2NvbnN0IHI9dFtWbl0saT1yLnJlbmRlcmVyRmFjdG9yeSxzPSExO3N8fGkuYmVnaW4/LigpO3RyeXtZUCh0LG4pfWNhdGNoKG8pe3Rocm93IGUmJlR3KHQsbyksb31maW5hbGx5e3N8fChpLmVuZD8uKCksci5pbmxpbmVFZmZlY3RSdW5uZXI/LmZsdXNoKCkpfX1mdW5jdGlvbiBZUCh0LGUpe2toKHQsZSk7bGV0IG49MDtmb3IoO2FmKHQpOyl7aWYobj09PVB3KXRocm93IG5ldyBXKDEwMywhMSk7bisrLGtoKHQsMSl9fWZ1bmN0aW9uIEpQKHQsZSxuLHIpe2NvbnN0IGk9ZVtHXTtpZigoaSYyNTYpPT09MjU2KXJldHVybjtjb25zdCBzPSExOyFzJiZlW1ZuXS5pbmxpbmVFZmZlY3RSdW5uZXI/LmZsdXNoKCksY2YoZSk7bGV0IG89bnVsbCxhPW51bGw7IXMmJmVNKHQpJiYoYT1LUChlKSxvPXF2KGEpKTt0cnl7VV8oZSksR2IodC5iaW5kaW5nU3RhcnRJbmRleCksbiE9PW51bGwmJmR3KHQsZSxuLDIscik7Y29uc3QgYz0oaSYzKT09PTM7aWYoIXMpaWYoYyl7Y29uc3QgaD10LnByZU9yZGVyQ2hlY2tIb29rcztoIT09bnVsbCYmJGEoZSxoLG51bGwpfWVsc2V7Y29uc3QgaD10LnByZU9yZGVySG9va3M7aCE9PW51bGwmJkJhKGUsaCwwLG51bGwpLHdsKGUsMCl9aWYodE0oZSksTncoZSwwKSx0LmNvbnRlbnRRdWVyaWVzIT09bnVsbCYmSXcodCxlKSwhcylpZihjKXtjb25zdCBoPXQuY29udGVudENoZWNrSG9va3M7aCE9PW51bGwmJiRhKGUsaCl9ZWxzZXtjb25zdCBoPXQuY29udGVudEhvb2tzO2ghPT1udWxsJiZCYShlLGgsMSksd2woZSwxKX15UCh0LGUpO2NvbnN0IHU9dC5jb21wb25lbnRzO3UhPT1udWxsJiZPdyhlLHUsMCk7Y29uc3QgbD10LnZpZXdRdWVyeTtpZihsIT09bnVsbCYmTmgoMixsLHIpLCFzKWlmKGMpe2NvbnN0IGg9dC52aWV3Q2hlY2tIb29rcztoIT09bnVsbCYmJGEoZSxoKX1lbHNle2NvbnN0IGg9dC52aWV3SG9va3M7aCE9PW51bGwmJkJhKGUsaCwyKSx3bChlLDIpfWlmKHQuZmlyc3RVcGRhdGVQYXNzPT09ITAmJih0LmZpcnN0VXBkYXRlUGFzcz0hMSksZVtJaV0pe2Zvcihjb25zdCBoIG9mIGVbSWldKWgoKTtlW0lpXT1udWxsfXN8fChlW0ddJj0tNzMpfWNhdGNoKGMpe3Rocm93IGl1KGUpLGN9ZmluYWxseXthIT09bnVsbCYmKHp2KGEsbyksWlAoYSkpLHVmKCl9fWZ1bmN0aW9uIGVNKHQpe3JldHVybiB0LnR5cGUhPT0yfWZ1bmN0aW9uIE53KHQsZSl7Zm9yKGxldCBuPVJ3KHQpO24hPT1udWxsO249YncobikpZm9yKGxldCByPWZ0O3I8bi5sZW5ndGg7cisrKXtjb25zdCBpPW5bcl07a3coaSxlKX19ZnVuY3Rpb24gdE0odCl7Zm9yKGxldCBlPVJ3KHQpO2UhPT1udWxsO2U9YncoZSkpe2lmKCEoZVtHXSZuZi5IYXNUcmFuc3BsYW50ZWRWaWV3cykpY29udGludWU7Y29uc3Qgbj1lW2hjXTtmb3IobGV0IHI9MDtyPG4ubGVuZ3RoO3IrKyl7Y29uc3QgaT1uW3JdLHM9aVtzdF07eGIoaSl9fX1mdW5jdGlvbiBuTSh0LGUsbil7Y29uc3Qgcj1wcihlLHQpO2t3KHIsbil9ZnVuY3Rpb24ga3codCxlKXtvZih0KSYma2godCxlKX1mdW5jdGlvbiBraCh0LGUpe2NvbnN0IHI9dFtpZV0saT10W0ddLHM9dFtVcl07bGV0IG89ISEoZT09PTAmJmkmMTYpO2lmKG98fChvPSEhKGkmNjQmJmU9PT0wKSksb3x8KG89ISEoaSYxMDI0KSksb3x8KG89ISEocz8uZGlydHkmJktkKHMpKSkscyYmKHMuZGlydHk9ITEpLHRbR10mPS05MjE3LG8pSlAocix0LHIudGVtcGxhdGUsdFtkdF0pO2Vsc2UgaWYoaSY4MTkyKXtOdyh0LDEpO2NvbnN0IGE9ci5jb21wb25lbnRzO2EhPT1udWxsJiZPdyh0LGEsMSl9fWZ1bmN0aW9uIE93KHQsZSxuKXtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyluTSh0LGVbcl0sbil9ZnVuY3Rpb24geGYodCl7Zm9yKHRbVm5dLmNoYW5nZURldGVjdGlvblNjaGVkdWxlcj8ubm90aWZ5KCk7dDspe3RbR118PTY0O2NvbnN0IGU9bm8odCk7aWYoVl8odCkmJiFlKXJldHVybiB0O3Q9ZX1yZXR1cm4gbnVsbH1jbGFzcyBJY3tnZXQgcm9vdE5vZGVzKCl7Y29uc3QgZT10aGlzLl9sVmlldyxuPWVbaWVdO3JldHVybiB3YyhuLGUsbi5maXJzdENoaWxkLFtdKX1jb25zdHJ1Y3RvcihlLG4scj0hMCl7dGhpcy5fbFZpZXc9ZSx0aGlzLl9jZFJlZkluamVjdGluZ1ZpZXc9bix0aGlzLm5vdGlmeUVycm9ySGFuZGxlcj1yLHRoaXMuX2FwcFJlZj1udWxsLHRoaXMuX2F0dGFjaGVkVG9WaWV3Q29udGFpbmVyPSExfWdldCBjb250ZXh0KCl7cmV0dXJuIHRoaXMuX2xWaWV3W2R0XX1zZXQgY29udGV4dChlKXt0aGlzLl9sVmlld1tkdF09ZX1nZXQgZGVzdHJveWVkKCl7cmV0dXJuKHRoaXMuX2xWaWV3W0ddJjI1Nik9PT0yNTZ9ZGVzdHJveSgpe2lmKHRoaXMuX2FwcFJlZil0aGlzLl9hcHBSZWYuZGV0YWNoVmlldyh0aGlzKTtlbHNlIGlmKHRoaXMuX2F0dGFjaGVkVG9WaWV3Q29udGFpbmVyKXtjb25zdCBlPXRoaXMuX2xWaWV3W3N0XTtpZihfbihlKSl7Y29uc3Qgbj1lW2xjXSxyPW4/bi5pbmRleE9mKHRoaXMpOi0xO3I+LTEmJihzbyhlLHIpLGZjKG4scikpfXRoaXMuX2F0dGFjaGVkVG9WaWV3Q29udGFpbmVyPSExfWR1KHRoaXMuX2xWaWV3W2llXSx0aGlzLl9sVmlldyl9b25EZXN0cm95KGUpe2pfKHRoaXMuX2xWaWV3LGUpfW1hcmtGb3JDaGVjaygpe3hmKHRoaXMuX2NkUmVmSW5qZWN0aW5nVmlld3x8dGhpcy5fbFZpZXcpfWRldGFjaCgpe3RoaXMuX2xWaWV3W0ddJj0tMTI5fXJlYXR0YWNoKCl7bWgodGhpcy5fbFZpZXcpLHRoaXMuX2xWaWV3W0ddfD0xMjh9ZGV0ZWN0Q2hhbmdlcygpe3RoaXMuX2xWaWV3W0ddfD0xMDI0LE13KHRoaXMuX2xWaWV3LHRoaXMubm90aWZ5RXJyb3JIYW5kbGVyKX1jaGVja05vQ2hhbmdlcygpe31hdHRhY2hUb1ZpZXdDb250YWluZXJSZWYoKXtpZih0aGlzLl9hcHBSZWYpdGhyb3cgbmV3IFcoOTAyLCExKTt0aGlzLl9hdHRhY2hlZFRvVmlld0NvbnRhaW5lcj0hMH1kZXRhY2hGcm9tQXBwUmVmKCl7dGhpcy5fYXBwUmVmPW51bGwsdHcodGhpcy5fbFZpZXdbaWVdLHRoaXMuX2xWaWV3KX1hdHRhY2hUb0FwcFJlZihlKXtpZih0aGlzLl9hdHRhY2hlZFRvVmlld0NvbnRhaW5lcil0aHJvdyBuZXcgVyg5MDIsITEpO3RoaXMuX2FwcFJlZj1lLG1oKHRoaXMuX2xWaWV3KX19ZnVuY3Rpb24geHcodCl7Y29uc3QgZT10W3RvXT8/W10scj10W3N0XVtaZV07Zm9yKGNvbnN0IGkgb2YgZSlyTShpLHIpO3RbdG9dPUF0fWZ1bmN0aW9uIHJNKHQsZSl7bGV0IG49MCxyPXQuZmlyc3RDaGlsZDtpZihyKXtjb25zdCBpPXQuZGF0YVttY107Zm9yKDtuPGk7KXtjb25zdCBzPXIubmV4dFNpYmxpbmc7c3coZSxyLCExKSxyPXMsbisrfX19ZnVuY3Rpb24gTHcodCl7eHcodCk7Zm9yKGxldCBlPWZ0O2U8dC5sZW5ndGg7ZSsrKVRjKHRbZV0pfWZ1bmN0aW9uIFRjKHQpe2NvbnN0IGU9dFtpZV07Zm9yKGxldCBuPVhlO248ZS5iaW5kaW5nU3RhcnRJbmRleDtuKyspaWYoX24odFtuXSkpe2NvbnN0IHI9dFtuXTtMdyhyKX1lbHNlIGtuKHRbbl0pJiZUYyh0W25dKX1mdW5jdGlvbiBpTSh0KXtjb25zdCBlPXQuX3ZpZXdzO2Zvcihjb25zdCBuIG9mIGUpe2NvbnN0IHI9TEQobik7aWYociE9PW51bGwmJnJbTXRdIT09bnVsbClpZihrbihyKSlUYyhyKTtlbHNle2NvbnN0IGk9cltNdF07VGMoaSksTHcocil9fX1jb25zdCBzTT1uZXcgUmVnRXhwKGBeKFxcZCspKigke2hFfXwke2xFfSkqKC4qKWApO2Z1bmN0aW9uIG9NKHQpe2NvbnN0IGU9dC5tYXRjaChzTSksW24scixpLHNdPWUsbz1yP3BhcnNlSW50KHIsMTApOmksYT1bXTtmb3IoY29uc3RbYyx1LGxdb2Ygcy5tYXRjaEFsbCgvKGZ8bikoXGQqKS9nKSl7Y29uc3QgaD1wYXJzZUludChsLDEwKXx8MTthLnB1c2godSxoKX1yZXR1cm5bbywuLi5hXX1mdW5jdGlvbiBhTSh0KXtyZXR1cm4hdC5wcmV2JiZ0LnBhcmVudD8udHlwZT09PTh9ZnVuY3Rpb24gQ2wodCl7cmV0dXJuIHQuaW5kZXgtWGV9ZnVuY3Rpb24gTGYodCxlLG4scil7bGV0IGk9bnVsbDtjb25zdCBzPUNsKHIpLG89dC5kYXRhW1BEXTtpZihvPy5bc10paT11TShvW3NdLG4pO2Vsc2UgaWYoZS5maXJzdENoaWxkPT09cilpPXQuZmlyc3RDaGlsZDtlbHNle2NvbnN0IGE9ci5wcmV2PT09bnVsbCxjPXIucHJldj8/ci5wYXJlbnQ7aWYoYU0ocikpe2NvbnN0IHU9Q2woci5wYXJlbnQpO2k9VGgodCx1KX1lbHNle2xldCB1PUJ0KGMsbik7aWYoYSlpPXUuZmlyc3RDaGlsZDtlbHNle2NvbnN0IGw9Q2woYyksaD1UaCh0LGwpO2lmKGMudHlwZT09PTImJmgpe2NvbnN0IGY9eUUodCxsKSsxO2k9VmYoZixoKX1lbHNlIGk9dS5uZXh0U2libGluZ319fXJldHVybiBpfWZ1bmN0aW9uIFZmKHQsZSl7bGV0IG49ZTtmb3IobGV0IHI9MDtyPHQ7cisrKW49bi5uZXh0U2libGluZztyZXR1cm4gbn1mdW5jdGlvbiBjTSh0LGUpe2xldCBuPXQ7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKz0yKXtjb25zdCBpPWVbcl0scz1lW3IrMV07Zm9yKGxldCBvPTA7bzxzO28rKylzd2l0Y2goaSl7Y2FzZSBJaC5GaXJzdENoaWxkOm49bi5maXJzdENoaWxkO2JyZWFrO2Nhc2UgSWguTmV4dFNpYmxpbmc6bj1uLm5leHRTaWJsaW5nO2JyZWFrfX1yZXR1cm4gbn1mdW5jdGlvbiB1TSh0LGUpe2NvbnN0W24sLi4ucl09b00odCk7bGV0IGk7aWYobj09PWxFKWk9ZVtOdF1bTXRdO2Vsc2UgaWYobj09PWhFKWk9WjAoZVtOdF1bTXRdKTtlbHNle2NvbnN0IHM9TnVtYmVyKG4pO2k9WnQoZVtzK1hlXSl9cmV0dXJuIGNNKGkscil9ZnVuY3Rpb24gbE0odCxlKXtjb25zdCBuPVtdO2Zvcihjb25zdCByIG9mIGUpZm9yKGxldCBpPTA7aTwocltmRV0/PzEpO2krKyl7Y29uc3Qgcz17ZGF0YTpyLGZpcnN0Q2hpbGQ6bnVsbH07clttY10+MCYmKHMuZmlyc3RDaGlsZD10LHQ9VmYoclttY10sdCkpLG4ucHVzaChzKX1yZXR1cm5bdCxuXX1sZXQgVnc9KCk9Pm51bGw7ZnVuY3Rpb24gaE0odCxlKXtjb25zdCBuPXRbdG9dO3JldHVybiFlfHxuPT09bnVsbHx8bi5sZW5ndGg9PT0wP251bGw6blswXS5kYXRhW0REXT09PWU/bi5zaGlmdCgpOih4dyh0KSxudWxsKX1mdW5jdGlvbiBkTSgpe1Z3PWhNfWZ1bmN0aW9uIGNvKHQsZSl7cmV0dXJuIFZ3KHQsZSl9Y2xhc3MgZk17fWNsYXNzIHBNe31jbGFzcyBGd3t9ZnVuY3Rpb24gZ00odCl7Y29uc3QgZT1FcnJvcihgTm8gY29tcG9uZW50IGZhY3RvcnkgZm91bmQgZm9yICR7RnQodCl9LmApO3JldHVybiBlW21NXT10LGV9Y29uc3QgbU09Im5nQ29tcG9uZW50IjtjbGFzcyB5TXtyZXNvbHZlQ29tcG9uZW50RmFjdG9yeShlKXt0aHJvdyBnTShlKX19bGV0IHZ1PSgoKT0+e3ZhciB0O2NsYXNzIGV7fXJldHVybiB0PWUsdC5OVUxMPW5ldyB5TSxlfSkoKTtjbGFzcyBVd3t9bGV0IHZNPSgoKT0+e3ZhciB0O2NsYXNzIGV7Y29uc3RydWN0b3IoKXt0aGlzLmRlc3Ryb3lOb2RlPW51bGx9fXJldHVybiB0PWUsdC5fX05HX0VMRU1FTlRfSURfXz0oKT0+X00oKSxlfSkoKTtmdW5jdGlvbiBfTSgpe2NvbnN0IHQ9UGUoKSxlPUVuKCksbj1wcihlLmluZGV4LHQpO3JldHVybihrbihuKT9uOnQpW1plXX1sZXQgRU09KCgpPT57dmFyIHQ7Y2xhc3MgZXt9cmV0dXJuIHQ9ZSx0Lsm1cHJvdj1xKHt0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QiLGZhY3Rvcnk6KCk9Pm51bGx9KSxlfSkoKTtjb25zdCBBbD17fTtjb25zdCBwbT1uZXcgU2V0O2Z1bmN0aW9uIHRpKHQpe3BtLmhhcyh0KXx8KHBtLmFkZCh0KSxwZXJmb3JtYW5jZT8ubWFyaz8uKCJtYXJrX2ZlYXR1cmVfdXNhZ2UiLHtkZXRhaWw6e2ZlYXR1cmU6dH19KSl9ZnVuY3Rpb24gdUgodCxlKXt0aSgiTmdTaWduYWxzIik7Y29uc3Qgbj1lUih0KSxyPW5bTmldO3JldHVybiBlPy5lcXVhbCYmKHIuZXF1YWw9ZS5lcXVhbCksbi5zZXQ9aT0+WHYocixpKSxuLnVwZGF0ZT1pPT50UihyLGkpLG4uYXNSZWFkb25seT13TS5iaW5kKG4pLG59ZnVuY3Rpb24gd00oKXtjb25zdCB0PXRoaXNbTmldO2lmKHQucmVhZG9ubHlGbj09PXZvaWQgMCl7Y29uc3QgZT0oKT0+dGhpcygpO2VbTmldPXQsdC5yZWFkb25seUZuPWV9cmV0dXJuIHQucmVhZG9ubHlGbn1mdW5jdGlvbiBnbSh0KXtjb25zdCBlPUtlKG51bGwpO3RyeXtyZXR1cm4gdCgpfWZpbmFsbHl7S2UoZSl9fWxldCBGZj0oKCk9Pnt2YXIgdDtjbGFzcyBle31yZXR1cm4gdD1lLHQuX19OR19FTEVNRU5UX0lEX189SU0sZX0pKCk7ZnVuY3Rpb24gSU0odCl7cmV0dXJuIFRNKEVuKCksUGUoKSwodCYxNik9PT0xNil9ZnVuY3Rpb24gVE0odCxlLG4pe2lmKFVvKHQpJiYhbil7Y29uc3Qgcj1wcih0LmluZGV4LGUpO3JldHVybiBuZXcgSWMocixyKX1lbHNlIGlmKHQudHlwZSY0Nyl7Y29uc3Qgcj1lW050XTtyZXR1cm4gbmV3IEljKHIsZSl9cmV0dXJuIG51bGx9bGV0IGp3PSgoKT0+e3ZhciB0O2NsYXNzIGV7fXJldHVybiB0PWUsdC5fX05HX0VMRU1FTlRfSURfXz1DTSx0Ll9fTkdfRU5WX0lEX189bj0+bixlfSkoKTtjbGFzcyBTTSBleHRlbmRzIGp3e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5fbFZpZXc9ZX1vbkRlc3Ryb3koZSl7cmV0dXJuIGpfKHRoaXMuX2xWaWV3LGUpLCgpPT5WYih0aGlzLl9sVmlldyxlKX19ZnVuY3Rpb24gQ00oKXtyZXR1cm4gbmV3IFNNKFBlKCkpfWNvbnN0IEFNPW5ldyBzZSgiIix7cHJvdmlkZWRJbjoicm9vdCIsZmFjdG9yeTooKT0+YihSTSl9KTtsZXQgUk09KCgpPT57dmFyIHQ7Y2xhc3MgZXt9cmV0dXJuIHQ9ZSx0Lsm1cHJvdj1xKHt0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QiLGZhY3Rvcnk6KCk9Pm5ldyBiTX0pLGV9KSgpO2NsYXNzIGJNe2NvbnN0cnVjdG9yKCl7dGhpcy5oYXNRdWV1ZWRGbHVzaD0hMSx0aGlzLnF1ZXVlZEVmZmVjdENvdW50PTAsdGhpcy5xdWV1ZXM9bmV3IE1hcH1zY2hlZHVsZUVmZmVjdChlKXt0aGlzLmVucXVldWUoZSksdGhpcy5oYXNRdWV1ZWRGbHVzaHx8KHF1ZXVlTWljcm90YXNrKCgpPT50aGlzLmZsdXNoKCkpLHRoaXMuaGFzUXVldWVkRmx1c2g9ITEpfWVucXVldWUoZSl7Y29uc3Qgbj1lLmNyZWF0aW9uWm9uZTt0aGlzLnF1ZXVlcy5oYXMobil8fHRoaXMucXVldWVzLnNldChuLG5ldyBTZXQpO2NvbnN0IHI9dGhpcy5xdWV1ZXMuZ2V0KG4pO3IuaGFzKGUpfHwodGhpcy5xdWV1ZWRFZmZlY3RDb3VudCsrLHIuYWRkKGUpKX1mbHVzaCgpe2Zvcig7dGhpcy5xdWV1ZWRFZmZlY3RDb3VudD4wOylmb3IoY29uc3RbZSxuXW9mIHRoaXMucXVldWVzKWU9PT1udWxsP3RoaXMuZmx1c2hRdWV1ZShuKTplLnJ1bigoKT0+dGhpcy5mbHVzaFF1ZXVlKG4pKX1mbHVzaFF1ZXVlKGUpe2Zvcihjb25zdCBuIG9mIGUpZS5kZWxldGUobiksdGhpcy5xdWV1ZWRFZmZlY3RDb3VudC0tLG4ucnVuKCl9fWNsYXNzIERNe2NvbnN0cnVjdG9yKGUsbixyLGkscyxvKXt0aGlzLnNjaGVkdWxlcj1lLHRoaXMuZWZmZWN0Rm49bix0aGlzLmNyZWF0aW9uWm9uZT1yLHRoaXMuaW5qZWN0b3I9cyx0aGlzLndhdGNoZXI9aVIoYT0+dGhpcy5ydW5FZmZlY3QoYSksKCk9PnRoaXMuc2NoZWR1bGUoKSxvKSx0aGlzLnVucmVnaXN0ZXJPbkRlc3Ryb3k9aT8ub25EZXN0cm95KCgpPT50aGlzLmRlc3Ryb3koKSl9cnVuRWZmZWN0KGUpe3RyeXt0aGlzLmVmZmVjdEZuKGUpfWNhdGNoKG4pe3RoaXMuaW5qZWN0b3IuZ2V0KEpyLG51bGwse29wdGlvbmFsOiEwfSk/LmhhbmRsZUVycm9yKG4pfX1ydW4oKXt0aGlzLndhdGNoZXIucnVuKCl9c2NoZWR1bGUoKXt0aGlzLnNjaGVkdWxlci5zY2hlZHVsZUVmZmVjdCh0aGlzKX1kZXN0cm95KCl7dGhpcy53YXRjaGVyLmRlc3Ryb3koKSx0aGlzLnVucmVnaXN0ZXJPbkRlc3Ryb3k/LigpfX1mdW5jdGlvbiBQTSh0LGUpe3ZhciBvO3RpKCJOZ1NpZ25hbHMiKSwhZT8uaW5qZWN0b3ImJlhEKFBNKTtjb25zdCBuPWU/LmluamVjdG9yPz9iKFduKSxyPWU/Lm1hbnVhbENsZWFudXAhPT0hMD9uLmdldChqdyk6bnVsbCxpPW5ldyBETShuLmdldChBTSksdCx0eXBlb2YgWm9uZT4idSI/bnVsbDpab25lLmN1cnJlbnQscixuLGU/LmFsbG93U2lnbmFsV3JpdGVzPz8hMSkscz1uLmdldChGZixudWxsLHtvcHRpb25hbDohMH0pO3JldHVybiFzfHwhKHMuX2xWaWV3W0ddJjgpP2kud2F0Y2hlci5ub3RpZnkoKTooKG89cy5fbFZpZXcpW0lpXT8/KG9bSWldPVtdKSkucHVzaChpLndhdGNoZXIubm90aWZ5KSxpfWZ1bmN0aW9uIG1tKC4uLnQpe31mdW5jdGlvbiBNTSgpe2NvbnN0IHQ9dHlwZW9mIFVhLnJlcXVlc3RBbmltYXRpb25GcmFtZT09ImZ1bmN0aW9uIjtsZXQgZT1VYVt0PyJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiOiJzZXRUaW1lb3V0Il0sbj1VYVt0PyJjYW5jZWxBbmltYXRpb25GcmFtZSI6ImNsZWFyVGltZW91dCJdO2lmKHR5cGVvZiBab25lPCJ1IiYmZSYmbil7Y29uc3Qgcj1lW1pvbmUuX19zeW1ib2xfXygiT3JpZ2luYWxEZWxlZ2F0ZSIpXTtyJiYoZT1yKTtjb25zdCBpPW5bWm9uZS5fX3N5bWJvbF9fKCJPcmlnaW5hbERlbGVnYXRlIildO2kmJihuPWkpfXJldHVybntuYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWU6ZSxuYXRpdmVDYW5jZWxBbmltYXRpb25GcmFtZTpufX1jbGFzcyBNZXtjb25zdHJ1Y3Rvcih7ZW5hYmxlTG9uZ1N0YWNrVHJhY2U6ZT0hMSxzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uOm49ITEsc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb246cj0hMX0pe2lmKHRoaXMuaGFzUGVuZGluZ01hY3JvdGFza3M9ITEsdGhpcy5oYXNQZW5kaW5nTWljcm90YXNrcz0hMSx0aGlzLmlzU3RhYmxlPSEwLHRoaXMub25VbnN0YWJsZT1uZXcgQW4oITEpLHRoaXMub25NaWNyb3Rhc2tFbXB0eT1uZXcgQW4oITEpLHRoaXMub25TdGFibGU9bmV3IEFuKCExKSx0aGlzLm9uRXJyb3I9bmV3IEFuKCExKSx0eXBlb2YgWm9uZT4idSIpdGhyb3cgbmV3IFcoOTA4LCExKTtab25lLmFzc2VydFpvbmVQYXRjaGVkKCk7Y29uc3QgaT10aGlzO2kuX25lc3Rpbmc9MCxpLl9vdXRlcj1pLl9pbm5lcj1ab25lLmN1cnJlbnQsWm9uZS5UYXNrVHJhY2tpbmdab25lU3BlYyYmKGkuX2lubmVyPWkuX2lubmVyLmZvcmsobmV3IFpvbmUuVGFza1RyYWNraW5nWm9uZVNwZWMpKSxlJiZab25lLmxvbmdTdGFja1RyYWNlWm9uZVNwZWMmJihpLl9pbm5lcj1pLl9pbm5lci5mb3JrKFpvbmUubG9uZ1N0YWNrVHJhY2Vab25lU3BlYykpLGkuc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbj0hciYmbixpLnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uPXIsaS5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQ9LTEsaS5uYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWU9TU0oKS5uYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUsT00oaSl9c3RhdGljIGlzSW5Bbmd1bGFyWm9uZSgpe3JldHVybiB0eXBlb2YgWm9uZTwidSImJlpvbmUuY3VycmVudC5nZXQoImlzQW5ndWxhclpvbmUiKT09PSEwfXN0YXRpYyBhc3NlcnRJbkFuZ3VsYXJab25lKCl7aWYoIU1lLmlzSW5Bbmd1bGFyWm9uZSgpKXRocm93IG5ldyBXKDkwOSwhMSl9c3RhdGljIGFzc2VydE5vdEluQW5ndWxhclpvbmUoKXtpZihNZS5pc0luQW5ndWxhclpvbmUoKSl0aHJvdyBuZXcgVyg5MDksITEpfXJ1bihlLG4scil7cmV0dXJuIHRoaXMuX2lubmVyLnJ1bihlLG4scil9cnVuVGFzayhlLG4scixpKXtjb25zdCBzPXRoaXMuX2lubmVyLG89cy5zY2hlZHVsZUV2ZW50VGFzaygiTmdab25lRXZlbnQ6ICIraSxlLE5NLG1tLG1tKTt0cnl7cmV0dXJuIHMucnVuVGFzayhvLG4scil9ZmluYWxseXtzLmNhbmNlbFRhc2sobyl9fXJ1bkd1YXJkZWQoZSxuLHIpe3JldHVybiB0aGlzLl9pbm5lci5ydW5HdWFyZGVkKGUsbixyKX1ydW5PdXRzaWRlQW5ndWxhcihlKXtyZXR1cm4gdGhpcy5fb3V0ZXIucnVuKGUpfX1jb25zdCBOTT17fTtmdW5jdGlvbiBVZih0KXtpZih0Ll9uZXN0aW5nPT0wJiYhdC5oYXNQZW5kaW5nTWljcm90YXNrcyYmIXQuaXNTdGFibGUpdHJ5e3QuX25lc3RpbmcrKyx0Lm9uTWljcm90YXNrRW1wdHkuZW1pdChudWxsKX1maW5hbGx5e2lmKHQuX25lc3RpbmctLSwhdC5oYXNQZW5kaW5nTWljcm90YXNrcyl0cnl7dC5ydW5PdXRzaWRlQW5ndWxhcigoKT0+dC5vblN0YWJsZS5lbWl0KG51bGwpKX1maW5hbGx5e3QuaXNTdGFibGU9ITB9fX1mdW5jdGlvbiBrTSh0KXt0LmlzQ2hlY2tTdGFibGVSdW5uaW5nfHx0Lmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCE9PS0xfHwodC5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQ9dC5uYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUuY2FsbChVYSwoKT0+e3QuZmFrZVRvcEV2ZW50VGFza3x8KHQuZmFrZVRvcEV2ZW50VGFzaz1ab25lLnJvb3Quc2NoZWR1bGVFdmVudFRhc2soImZha2VUb3BFdmVudFRhc2siLCgpPT57dC5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQ9LTEsT2godCksdC5pc0NoZWNrU3RhYmxlUnVubmluZz0hMCxVZih0KSx0LmlzQ2hlY2tTdGFibGVSdW5uaW5nPSExfSx2b2lkIDAsKCk9Pnt9LCgpPT57fSkpLHQuZmFrZVRvcEV2ZW50VGFzay5pbnZva2UoKX0pLE9oKHQpKX1mdW5jdGlvbiBPTSh0KXtjb25zdCBlPSgpPT57a00odCl9O3QuX2lubmVyPXQuX2lubmVyLmZvcmsoe25hbWU6ImFuZ3VsYXIiLHByb3BlcnRpZXM6e2lzQW5ndWxhclpvbmU6ITB9LG9uSW52b2tlVGFzazoobixyLGkscyxvLGEpPT57aWYoeE0oYSkpcmV0dXJuIG4uaW52b2tlVGFzayhpLHMsbyxhKTt0cnl7cmV0dXJuIHltKHQpLG4uaW52b2tlVGFzayhpLHMsbyxhKX1maW5hbGx5eyh0LnNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24mJnMudHlwZT09PSJldmVudFRhc2sifHx0LnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uKSYmZSgpLHZtKHQpfX0sb25JbnZva2U6KG4scixpLHMsbyxhLGMpPT57dHJ5e3JldHVybiB5bSh0KSxuLmludm9rZShpLHMsbyxhLGMpfWZpbmFsbHl7dC5zaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiYmZSgpLHZtKHQpfX0sb25IYXNUYXNrOihuLHIsaSxzKT0+e24uaGFzVGFzayhpLHMpLHI9PT1pJiYocy5jaGFuZ2U9PSJtaWNyb1Rhc2siPyh0Ll9oYXNQZW5kaW5nTWljcm90YXNrcz1zLm1pY3JvVGFzayxPaCh0KSxVZih0KSk6cy5jaGFuZ2U9PSJtYWNyb1Rhc2siJiYodC5oYXNQZW5kaW5nTWFjcm90YXNrcz1zLm1hY3JvVGFzaykpfSxvbkhhbmRsZUVycm9yOihuLHIsaSxzKT0+KG4uaGFuZGxlRXJyb3IoaSxzKSx0LnJ1bk91dHNpZGVBbmd1bGFyKCgpPT50Lm9uRXJyb3IuZW1pdChzKSksITEpfSl9ZnVuY3Rpb24gT2godCl7dC5faGFzUGVuZGluZ01pY3JvdGFza3N8fCh0LnNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb258fHQuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24pJiZ0Lmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCE9PS0xP3QuaGFzUGVuZGluZ01pY3JvdGFza3M9ITA6dC5oYXNQZW5kaW5nTWljcm90YXNrcz0hMX1mdW5jdGlvbiB5bSh0KXt0Ll9uZXN0aW5nKyssdC5pc1N0YWJsZSYmKHQuaXNTdGFibGU9ITEsdC5vblVuc3RhYmxlLmVtaXQobnVsbCkpfWZ1bmN0aW9uIHZtKHQpe3QuX25lc3RpbmctLSxVZih0KX1mdW5jdGlvbiB4TSh0KXtyZXR1cm4hQXJyYXkuaXNBcnJheSh0KXx8dC5sZW5ndGghPT0xPyExOnRbMF0uZGF0YT8uX19pZ25vcmVfbmdfem9uZV9fPT09ITB9bGV0ICR3PSgoKT0+e3ZhciB0O2NsYXNzIGV7Y29uc3RydWN0b3IoKXt0aGlzLmhhbmRsZXI9bnVsbCx0aGlzLmludGVybmFsQ2FsbGJhY2tzPVtdfWV4ZWN1dGUoKXt0aGlzLmV4ZWN1dGVJbnRlcm5hbENhbGxiYWNrcygpLHRoaXMuaGFuZGxlcj8uZXhlY3V0ZSgpfWV4ZWN1dGVJbnRlcm5hbENhbGxiYWNrcygpe2NvbnN0IHI9Wy4uLnRoaXMuaW50ZXJuYWxDYWxsYmFja3NdO3RoaXMuaW50ZXJuYWxDYWxsYmFja3MubGVuZ3RoPTA7Zm9yKGNvbnN0IGkgb2YgcilpKCl9bmdPbkRlc3Ryb3koKXt0aGlzLmhhbmRsZXI/LmRlc3Ryb3koKSx0aGlzLmhhbmRsZXI9bnVsbCx0aGlzLmludGVybmFsQ2FsbGJhY2tzLmxlbmd0aD0wfX1yZXR1cm4gdD1lLHQuybVwcm92PXEoe3Rva2VuOnQscHJvdmlkZWRJbjoicm9vdCIsZmFjdG9yeTooKT0+bmV3IHR9KSxlfSkoKTtmdW5jdGlvbiB4aCh0LGUsbil7bGV0IHI9bj90LnN0eWxlczpudWxsLGk9bj90LmNsYXNzZXM6bnVsbCxzPTA7aWYoZSE9PW51bGwpZm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKyspe2NvbnN0IGE9ZVtvXTtpZih0eXBlb2YgYT09Im51bWJlciIpcz1hO2Vsc2UgaWYocz09MSlpPXBoKGksYSk7ZWxzZSBpZihzPT0yKXtjb25zdCBjPWEsdT1lWysrb107cj1waChyLGMrIjogIit1KyI7Iil9fW4/dC5zdHlsZXM9cjp0LnN0eWxlc1dpdGhvdXRIb3N0PXIsbj90LmNsYXNzZXM9aTp0LmNsYXNzZXNXaXRob3V0SG9zdD1pfWNsYXNzIEJ3IGV4dGVuZHMgdnV7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLm5nTW9kdWxlPWV9cmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoZSl7Y29uc3Qgbj1GcihlKTtyZXR1cm4gbmV3IGpmKG4sdGhpcy5uZ01vZHVsZSl9fWZ1bmN0aW9uIF9tKHQpe2NvbnN0IGU9W107Zm9yKGNvbnN0IG4gaW4gdCl7aWYoIXQuaGFzT3duUHJvcGVydHkobikpY29udGludWU7Y29uc3Qgcj10W25dO3IhPT12b2lkIDAmJmUucHVzaCh7cHJvcE5hbWU6QXJyYXkuaXNBcnJheShyKT9yWzBdOnIsdGVtcGxhdGVOYW1lOm59KX1yZXR1cm4gZX1mdW5jdGlvbiBMTSh0KXtjb25zdCBlPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gZT09PSJzdmciP01iOmU9PT0ibWF0aCI/TmI6bnVsbH1jbGFzcyBWTXtjb25zdHJ1Y3RvcihlLG4pe3RoaXMuaW5qZWN0b3I9ZSx0aGlzLnBhcmVudEluamVjdG9yPW59Z2V0KGUsbixyKXtyPWx1KHIpO2NvbnN0IGk9dGhpcy5pbmplY3Rvci5nZXQoZSxBbCxyKTtyZXR1cm4gaSE9PUFsfHxuPT09QWw/aTp0aGlzLnBhcmVudEluamVjdG9yLmdldChlLG4scil9fWNsYXNzIGpmIGV4dGVuZHMgRnd7Z2V0IGlucHV0cygpe2NvbnN0IGU9dGhpcy5jb21wb25lbnREZWYsbj1lLmlucHV0VHJhbnNmb3JtcyxyPV9tKGUuaW5wdXRzKTtpZihuIT09bnVsbClmb3IoY29uc3QgaSBvZiByKW4uaGFzT3duUHJvcGVydHkoaS5wcm9wTmFtZSkmJihpLnRyYW5zZm9ybT1uW2kucHJvcE5hbWVdKTtyZXR1cm4gcn1nZXQgb3V0cHV0cygpe3JldHVybiBfbSh0aGlzLmNvbXBvbmVudERlZi5vdXRwdXRzKX1jb25zdHJ1Y3RvcihlLG4pe3N1cGVyKCksdGhpcy5jb21wb25lbnREZWY9ZSx0aGlzLm5nTW9kdWxlPW4sdGhpcy5jb21wb25lbnRUeXBlPWUudHlwZSx0aGlzLnNlbGVjdG9yPVNiKGUuc2VsZWN0b3JzKSx0aGlzLm5nQ29udGVudFNlbGVjdG9ycz1lLm5nQ29udGVudFNlbGVjdG9ycz9lLm5nQ29udGVudFNlbGVjdG9yczpbXSx0aGlzLmlzQm91bmRUb01vZHVsZT0hIW59Y3JlYXRlKGUsbixyLGkpe2k9aXx8dGhpcy5uZ01vZHVsZTtsZXQgcz1pIGluc3RhbmNlb2Ygam4/aTppPy5pbmplY3RvcjtzJiZ0aGlzLmNvbXBvbmVudERlZi5nZXRTdGFuZGFsb25lSW5qZWN0b3IhPT1udWxsJiYocz10aGlzLmNvbXBvbmVudERlZi5nZXRTdGFuZGFsb25lSW5qZWN0b3Iocyl8fHMpO2NvbnN0IG89cz9uZXcgVk0oZSxzKTplLGE9by5nZXQoVXcsbnVsbCk7aWYoYT09PW51bGwpdGhyb3cgbmV3IFcoNDA3LCExKTtjb25zdCBjPW8uZ2V0KEVNLG51bGwpLHU9by5nZXQoJHcsbnVsbCksbD1vLmdldChmTSxudWxsKSxoPXtyZW5kZXJlckZhY3Rvcnk6YSxzYW5pdGl6ZXI6YyxpbmxpbmVFZmZlY3RSdW5uZXI6bnVsbCxhZnRlclJlbmRlckV2ZW50TWFuYWdlcjp1LGNoYW5nZURldGVjdGlvblNjaGVkdWxlcjpsfSxkPWEuY3JlYXRlUmVuZGVyZXIobnVsbCx0aGlzLmNvbXBvbmVudERlZiksZj10aGlzLmNvbXBvbmVudERlZi5zZWxlY3RvcnNbMF1bMF18fCJkaXYiLG09cj9FUChkLHIsdGhpcy5jb21wb25lbnREZWYuZW5jYXBzdWxhdGlvbixvKTpSZihkLGYsTE0oZikpO2xldCB5PTUxMjt0aGlzLmNvbXBvbmVudERlZi5zaWduYWxzP3l8PTQwOTY6dGhpcy5jb21wb25lbnREZWYub25QdXNofHwoeXw9MTYpO2xldCBfPW51bGw7bSE9PW51bGwmJihfPW1mKG0sbywhMCkpO2NvbnN0IFQ9TWYoMCxudWxsLG51bGwsMSwwLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsKSxDPXB1KG51bGwsVCxudWxsLHksbnVsbCxudWxsLGgsZCxvLG51bGwsXyk7Y2YoQyk7bGV0IFMsVjt0cnl7Y29uc3QgVT10aGlzLmNvbXBvbmVudERlZjtsZXQgSCxCPW51bGw7VS5maW5kSG9zdERpcmVjdGl2ZURlZnM/KEg9W10sQj1uZXcgTWFwLFUuZmluZEhvc3REaXJlY3RpdmVEZWZzKFUsSCxCKSxILnB1c2goVSkpOkg9W1VdO2NvbnN0IE89VU0oQyxtKSxmZT1qTShPLG0sVSxILEMsaCxkKTtWPXNmKFQsWGUpLG0mJkhNKGQsVSxtLHIpLG4hPT12b2lkIDAmJnFNKFYsdGhpcy5uZ0NvbnRlbnRTZWxlY3RvcnMsbiksUz1CTShmZSxVLEgsQixDLFt6TV0pLGtmKFQsQyxudWxsKX1maW5hbGx5e3VmKCl9cmV0dXJuIG5ldyBGTSh0aGlzLmNvbXBvbmVudFR5cGUsUyxoZihWLEMpLEMsVil9fWNsYXNzIEZNIGV4dGVuZHMgcE17Y29uc3RydWN0b3IoZSxuLHIsaSxzKXtzdXBlcigpLHRoaXMubG9jYXRpb249cix0aGlzLl9yb290TFZpZXc9aSx0aGlzLl90Tm9kZT1zLHRoaXMucHJldmlvdXNJbnB1dFZhbHVlcz1udWxsLHRoaXMuaW5zdGFuY2U9bix0aGlzLmhvc3RWaWV3PXRoaXMuY2hhbmdlRGV0ZWN0b3JSZWY9bmV3IEljKGksdm9pZCAwLCExKSx0aGlzLmNvbXBvbmVudFR5cGU9ZX1zZXRJbnB1dChlLG4pe2NvbnN0IHI9dGhpcy5fdE5vZGUuaW5wdXRzO2xldCBpO2lmKHIhPT1udWxsJiYoaT1yW2VdKSl7aWYodGhpcy5wcmV2aW91c0lucHV0VmFsdWVzPz8odGhpcy5wcmV2aW91c0lucHV0VmFsdWVzPW5ldyBNYXApLHRoaXMucHJldmlvdXNJbnB1dFZhbHVlcy5oYXMoZSkmJk9iamVjdC5pcyh0aGlzLnByZXZpb3VzSW5wdXRWYWx1ZXMuZ2V0KGUpLG4pKXJldHVybjtjb25zdCBzPXRoaXMuX3Jvb3RMVmlldztOZihzW2llXSxzLGksZSxuKSx0aGlzLnByZXZpb3VzSW5wdXRWYWx1ZXMuc2V0KGUsbik7Y29uc3Qgbz1wcih0aGlzLl90Tm9kZS5pbmRleCxzKTt4ZihvKX19Z2V0IGluamVjdG9yKCl7cmV0dXJuIG5ldyBOcyh0aGlzLl90Tm9kZSx0aGlzLl9yb290TFZpZXcpfWRlc3Ryb3koKXt0aGlzLmhvc3RWaWV3LmRlc3Ryb3koKX1vbkRlc3Ryb3koZSl7dGhpcy5ob3N0Vmlldy5vbkRlc3Ryb3koZSl9fWZ1bmN0aW9uIFVNKHQsZSl7Y29uc3Qgbj10W2llXSxyPVhlO3JldHVybiB0W3JdPWUsZ3UobixyLDIsIiNob3N0IixudWxsKX1mdW5jdGlvbiBqTSh0LGUsbixyLGkscyxvKXtjb25zdCBhPWlbaWVdOyRNKHIsdCxlLG8pO2xldCBjPW51bGw7ZSE9PW51bGwmJihjPW1mKGUsaVt4aV0pKTtjb25zdCB1PXMucmVuZGVyZXJGYWN0b3J5LmNyZWF0ZVJlbmRlcmVyKGUsbik7bGV0IGw9MTY7bi5zaWduYWxzP2w9NDA5NjpuLm9uUHVzaCYmKGw9NjQpO2NvbnN0IGg9cHUoaSxtdyhuKSxudWxsLGwsaVt0LmluZGV4XSx0LHMsdSxudWxsLG51bGwsYyk7cmV0dXJuIGEuZmlyc3RDcmVhdGVQYXNzJiZNaChhLHQsci5sZW5ndGgtMSksbXUoaSxoKSxpW3QuaW5kZXhdPWh9ZnVuY3Rpb24gJE0odCxlLG4scil7Zm9yKGNvbnN0IGkgb2YgdCllLm1lcmdlZEF0dHJzPWVmKGUubWVyZ2VkQXR0cnMsaS5ob3N0QXR0cnMpO2UubWVyZ2VkQXR0cnMhPT1udWxsJiYoeGgoZSxlLm1lcmdlZEF0dHJzLCEwKSxuIT09bnVsbCYmY3cocixuLGUpKX1mdW5jdGlvbiBCTSh0LGUsbixyLGkscyl7Y29uc3Qgbz1FbigpLGE9aVtpZV0sYz1CdChvLGkpO193KGEsaSxvLG4sbnVsbCxyKTtmb3IobGV0IGw9MDtsPG4ubGVuZ3RoO2wrKyl7Y29uc3QgaD1vLmRpcmVjdGl2ZVN0YXJ0K2wsZD1pbyhpLGEsaCxvKTtCcihkLGkpfUV3KGEsaSxvKSxjJiZCcihjLGkpO2NvbnN0IHU9aW8oaSxhLG8uZGlyZWN0aXZlU3RhcnQrby5jb21wb25lbnRPZmZzZXQsbyk7aWYodFtkdF09aVtkdF09dSxzIT09bnVsbClmb3IoY29uc3QgbCBvZiBzKWwodSxlKTtyZXR1cm4gZncoYSxvLGkpLHV9ZnVuY3Rpb24gSE0odCxlLG4scil7aWYocilnaCh0LG4sWyJuZy12ZXJzaW9uIiwiMTcuMi4zIl0pO2Vsc2V7Y29uc3R7YXR0cnM6aSxjbGFzc2VzOnN9PUNiKGUuc2VsZWN0b3JzWzBdKTtpJiZnaCh0LG4saSkscyYmcy5sZW5ndGg+MCYmYXcodCxuLHMuam9pbigiICIpKX19ZnVuY3Rpb24gcU0odCxlLG4pe2NvbnN0IHI9dC5wcm9qZWN0aW9uPVtdO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBzPW5baV07ci5wdXNoKHMhPW51bGw/QXJyYXkuZnJvbShzKTpudWxsKX19ZnVuY3Rpb24gek0oKXtjb25zdCB0PUVuKCk7SWYoUGUoKVtpZV0sdCl9bGV0IEh3PSgoKT0+e3ZhciB0O2NsYXNzIGV7fXJldHVybiB0PWUsdC5fX05HX0VMRU1FTlRfSURfXz1XTSxlfSkoKTtmdW5jdGlvbiBXTSgpe2NvbnN0IHQ9RW4oKTtyZXR1cm4gS00odCxQZSgpKX1jb25zdCBHTT1Idyxxdz1jbGFzcyBleHRlbmRzIEdNe2NvbnN0cnVjdG9yKGUsbixyKXtzdXBlcigpLHRoaXMuX2xDb250YWluZXI9ZSx0aGlzLl9ob3N0VE5vZGU9bix0aGlzLl9ob3N0TFZpZXc9cn1nZXQgZWxlbWVudCgpe3JldHVybiBoZih0aGlzLl9ob3N0VE5vZGUsdGhpcy5faG9zdExWaWV3KX1nZXQgaW5qZWN0b3IoKXtyZXR1cm4gbmV3IE5zKHRoaXMuX2hvc3RUTm9kZSx0aGlzLl9ob3N0TFZpZXcpfWdldCBwYXJlbnRJbmplY3Rvcigpe2NvbnN0IGU9U2YodGhpcy5faG9zdFROb2RlLHRoaXMuX2hvc3RMVmlldyk7aWYoTUUoZSkpe2NvbnN0IG49dmMoZSx0aGlzLl9ob3N0TFZpZXcpLHI9eWMoZSksaT1uW2llXS5kYXRhW3IrOF07cmV0dXJuIG5ldyBOcyhpLG4pfWVsc2UgcmV0dXJuIG5ldyBOcyhudWxsLHRoaXMuX2hvc3RMVmlldyl9Y2xlYXIoKXtmb3IoO3RoaXMubGVuZ3RoPjA7KXRoaXMucmVtb3ZlKHRoaXMubGVuZ3RoLTEpfWdldChlKXtjb25zdCBuPUVtKHRoaXMuX2xDb250YWluZXIpO3JldHVybiBuIT09bnVsbCYmbltlXXx8bnVsbH1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX2xDb250YWluZXIubGVuZ3RoLWZ0fWNyZWF0ZUVtYmVkZGVkVmlldyhlLG4scil7bGV0IGksczt0eXBlb2Ygcj09Im51bWJlciI/aT1yOnIhPW51bGwmJihpPXIuaW5kZXgscz1yLmluamVjdG9yKTtjb25zdCBvPWNvKHRoaXMuX2xDb250YWluZXIsZS5zc3JJZCksYT1lLmNyZWF0ZUVtYmVkZGVkVmlld0ltcGwobnx8e30scyxvKTtyZXR1cm4gdGhpcy5pbnNlcnRJbXBsKGEsaSxhbyh0aGlzLl9ob3N0VE5vZGUsbykpLGF9Y3JlYXRlQ29tcG9uZW50KGUsbixyLGkscyl7Y29uc3Qgbz1lJiYhWUQoZSk7bGV0IGE7aWYobylhPW47ZWxzZXtjb25zdCBtPW58fHt9O2E9bS5pbmRleCxyPW0uaW5qZWN0b3IsaT1tLnByb2plY3RhYmxlTm9kZXMscz1tLmVudmlyb25tZW50SW5qZWN0b3J8fG0ubmdNb2R1bGVSZWZ9Y29uc3QgYz1vP2U6bmV3IGpmKEZyKGUpKSx1PXJ8fHRoaXMucGFyZW50SW5qZWN0b3I7aWYoIXMmJmMubmdNb2R1bGU9PW51bGwpe2NvbnN0IHk9KG8/dTp0aGlzLnBhcmVudEluamVjdG9yKS5nZXQoam4sbnVsbCk7eSYmKHM9eSl9Y29uc3QgbD1GcihjLmNvbXBvbmVudFR5cGU/P3t9KSxoPWNvKHRoaXMuX2xDb250YWluZXIsbD8uaWQ/P251bGwpLGQ9aD8uZmlyc3RDaGlsZD8/bnVsbCxmPWMuY3JlYXRlKHUsaSxkLHMpO3JldHVybiB0aGlzLmluc2VydEltcGwoZi5ob3N0VmlldyxhLGFvKHRoaXMuX2hvc3RUTm9kZSxoKSksZn1pbnNlcnQoZSxuKXtyZXR1cm4gdGhpcy5pbnNlcnRJbXBsKGUsbiwhMCl9aW5zZXJ0SW1wbChlLG4scil7Y29uc3QgaT1lLl9sVmlldztpZihPYihpKSl7Y29uc3QgYT10aGlzLmluZGV4T2YoZSk7aWYoYSE9PS0xKXRoaXMuZGV0YWNoKGEpO2Vsc2V7Y29uc3QgYz1pW3N0XSx1PW5ldyBxdyhjLGNbSnRdLGNbc3RdKTt1LmRldGFjaCh1LmluZGV4T2YoZSkpfX1jb25zdCBzPXRoaXMuX2FkanVzdEluZGV4KG4pLG89dGhpcy5fbENvbnRhaW5lcjtyZXR1cm4geXUobyxpLHMsciksZS5hdHRhY2hUb1ZpZXdDb250YWluZXJSZWYoKSxZXyhSbChvKSxzLGUpLGV9bW92ZShlLG4pe3JldHVybiB0aGlzLmluc2VydChlLG4pfWluZGV4T2YoZSl7Y29uc3Qgbj1FbSh0aGlzLl9sQ29udGFpbmVyKTtyZXR1cm4gbiE9PW51bGw/bi5pbmRleE9mKGUpOi0xfXJlbW92ZShlKXtjb25zdCBuPXRoaXMuX2FkanVzdEluZGV4KGUsLTEpLHI9c28odGhpcy5fbENvbnRhaW5lcixuKTtyJiYoZmMoUmwodGhpcy5fbENvbnRhaW5lciksbiksZHUocltpZV0scikpfWRldGFjaChlKXtjb25zdCBuPXRoaXMuX2FkanVzdEluZGV4KGUsLTEpLHI9c28odGhpcy5fbENvbnRhaW5lcixuKTtyZXR1cm4gciYmZmMoUmwodGhpcy5fbENvbnRhaW5lciksbikhPW51bGw/bmV3IEljKHIpOm51bGx9X2FkanVzdEluZGV4KGUsbj0wKXtyZXR1cm4gZT8/dGhpcy5sZW5ndGgrbn19O2Z1bmN0aW9uIEVtKHQpe3JldHVybiB0W2xjXX1mdW5jdGlvbiBSbCh0KXtyZXR1cm4gdFtsY118fCh0W2xjXT1bXSl9ZnVuY3Rpb24gS00odCxlKXtsZXQgbjtjb25zdCByPWVbdC5pbmRleF07cmV0dXJuIF9uKHIpP249cjoobj13dyhyLGUsbnVsbCx0KSxlW3QuaW5kZXhdPW4sbXUoZSxuKSksencobixlLHQsciksbmV3IHF3KG4sdCxlKX1mdW5jdGlvbiBRTSh0LGUpe2NvbnN0IG49dFtaZV0scj1uLmNyZWF0ZUNvbW1lbnQoIiIpLGk9QnQoZSx0KSxzPWJmKG4saSk7cmV0dXJuIEVjKG4scyxyLHVQKG4saSksITEpLHJ9bGV0IHp3PVd3LCRmPSgpPT4hMTtmdW5jdGlvbiBaTSh0LGUsbil7cmV0dXJuICRmKHQsZSxuKX1mdW5jdGlvbiBXdyh0LGUsbixyKXtpZih0W0ZuXSlyZXR1cm47bGV0IGk7bi50eXBlJjg/aT1adChyKTppPVFNKGUsbiksdFtGbl09aX1mdW5jdGlvbiBYTSh0LGUsbil7aWYodFtGbl0mJnRbdG9dKXJldHVybiEwO2NvbnN0IHI9bltMbl0saT1lLmluZGV4LVhlO2lmKCFyfHxhRChlKXx8aHUocixpKSlyZXR1cm4hMTtjb25zdCBvPVRoKHIsaSksYT1yLmRhdGFbZEVdPy5baV0sW2MsdV09bE0obyxhKTtyZXR1cm4gdFtGbl09Yyx0W3RvXT11LCEwfWZ1bmN0aW9uIFlNKHQsZSxuLHIpeyRmKHQsbixlKXx8V3codCxlLG4scil9ZnVuY3Rpb24gSk0oKXt6dz1ZTSwkZj1YTX1mdW5jdGlvbiBoSCh0KXtjb25zdCBlPW49Pntjb25zdCByPShBcnJheS5pc0FycmF5KHQpP3Q6dCgpKS5tYXAoaT0+dHlwZW9mIGk9PSJmdW5jdGlvbiI/e2RpcmVjdGl2ZTpSdChpKSxpbnB1dHM6dXIsb3V0cHV0czp1cn06e2RpcmVjdGl2ZTpSdChpLmRpcmVjdGl2ZSksaW5wdXRzOndtKGkuaW5wdXRzKSxvdXRwdXRzOndtKGkub3V0cHV0cyl9KTtuLmhvc3REaXJlY3RpdmVzPT09bnVsbD8obi5maW5kSG9zdERpcmVjdGl2ZURlZnM9R3csbi5ob3N0RGlyZWN0aXZlcz1yKTpuLmhvc3REaXJlY3RpdmVzLnVuc2hpZnQoLi4ucil9O3JldHVybiBlLm5nSW5oZXJpdD0hMCxlfWZ1bmN0aW9uIEd3KHQsZSxuKXtpZih0Lmhvc3REaXJlY3RpdmVzIT09bnVsbClmb3IoY29uc3QgciBvZiB0Lmhvc3REaXJlY3RpdmVzKXtjb25zdCBpPXRmKHIuZGlyZWN0aXZlKTtlTihpLmRlY2xhcmVkSW5wdXRzLHIuaW5wdXRzKSxHdyhpLGUsbiksbi5zZXQoaSxyKSxlLnB1c2goaSl9fWZ1bmN0aW9uIHdtKHQpe2lmKHQ9PT12b2lkIDB8fHQubGVuZ3RoPT09MClyZXR1cm4gdXI7Y29uc3QgZT17fTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rPTIpZVt0W25dXT10W24rMV07cmV0dXJuIGV9ZnVuY3Rpb24gZU4odCxlKXtmb3IoY29uc3QgbiBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkobikpe2NvbnN0IHI9ZVtuXSxpPXRbbl07dFtyXT1pfX1jbGFzcyB1b3t9Y2xhc3MgS3d7fWNsYXNzIHROIGV4dGVuZHMgdW97Y29uc3RydWN0b3IoZSxuLHIpe3N1cGVyKCksdGhpcy5fcGFyZW50PW4sdGhpcy5fYm9vdHN0cmFwQ29tcG9uZW50cz1bXSx0aGlzLmRlc3Ryb3lDYnM9W10sdGhpcy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI9bmV3IEJ3KHRoaXMpO2NvbnN0IGk9TV8oZSk7dGhpcy5fYm9vdHN0cmFwQ29tcG9uZW50cz1KRShpLmJvb3RzdHJhcCksdGhpcy5fcjNJbmplY3Rvcj1CRShlLG4sW3twcm92aWRlOnVvLHVzZVZhbHVlOnRoaXN9LHtwcm92aWRlOnZ1LHVzZVZhbHVlOnRoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyfSwuLi5yXSxGdChlKSxuZXcgU2V0KFsiZW52aXJvbm1lbnQiXSkpLHRoaXMuX3IzSW5qZWN0b3IucmVzb2x2ZUluamVjdG9ySW5pdGlhbGl6ZXJzKCksdGhpcy5pbnN0YW5jZT10aGlzLl9yM0luamVjdG9yLmdldChlKX1nZXQgaW5qZWN0b3IoKXtyZXR1cm4gdGhpcy5fcjNJbmplY3Rvcn1kZXN0cm95KCl7Y29uc3QgZT10aGlzLl9yM0luamVjdG9yOyFlLmRlc3Ryb3llZCYmZS5kZXN0cm95KCksdGhpcy5kZXN0cm95Q2JzLmZvckVhY2gobj0+bigpKSx0aGlzLmRlc3Ryb3lDYnM9bnVsbH1vbkRlc3Ryb3koZSl7dGhpcy5kZXN0cm95Q2JzLnB1c2goZSl9fWNsYXNzIG5OIGV4dGVuZHMgS3d7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLm1vZHVsZVR5cGU9ZX1jcmVhdGUoZSl7cmV0dXJuIG5ldyB0Tih0aGlzLm1vZHVsZVR5cGUsZSxbXSl9fWNsYXNzIFF3IGV4dGVuZHMgdW97Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcj1uZXcgQncodGhpcyksdGhpcy5pbnN0YW5jZT1udWxsO2NvbnN0IG49bmV3IHdmKFsuLi5lLnByb3ZpZGVycyx7cHJvdmlkZTp1byx1c2VWYWx1ZTp0aGlzfSx7cHJvdmlkZTp2dSx1c2VWYWx1ZTp0aGlzLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcn1dLGUucGFyZW50fHxFZigpLGUuZGVidWdOYW1lLG5ldyBTZXQoWyJlbnZpcm9ubWVudCJdKSk7dGhpcy5pbmplY3Rvcj1uLGUucnVuRW52aXJvbm1lbnRJbml0aWFsaXplcnMmJm4ucmVzb2x2ZUluamVjdG9ySW5pdGlhbGl6ZXJzKCl9ZGVzdHJveSgpe3RoaXMuaW5qZWN0b3IuZGVzdHJveSgpfW9uRGVzdHJveShlKXt0aGlzLmluamVjdG9yLm9uRGVzdHJveShlKX19ZnVuY3Rpb24gWncodCxlLG49bnVsbCl7cmV0dXJuIG5ldyBRdyh7cHJvdmlkZXJzOnQscGFyZW50OmUsZGVidWdOYW1lOm4scnVuRW52aXJvbm1lbnRJbml0aWFsaXplcnM6ITB9KS5pbmplY3Rvcn1sZXQgX3U9KCgpPT57dmFyIHQ7Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMudGFza0lkPTAsdGhpcy5wZW5kaW5nVGFza3M9bmV3IFNldCx0aGlzLmhhc1BlbmRpbmdUYXNrcz1uZXcgTHQoITEpfWdldCBfaGFzUGVuZGluZ1Rhc2tzKCl7cmV0dXJuIHRoaXMuaGFzUGVuZGluZ1Rhc2tzLnZhbHVlfWFkZCgpe3RoaXMuX2hhc1BlbmRpbmdUYXNrc3x8dGhpcy5oYXNQZW5kaW5nVGFza3MubmV4dCghMCk7Y29uc3Qgcj10aGlzLnRhc2tJZCsrO3JldHVybiB0aGlzLnBlbmRpbmdUYXNrcy5hZGQocikscn1yZW1vdmUocil7dGhpcy5wZW5kaW5nVGFza3MuZGVsZXRlKHIpLHRoaXMucGVuZGluZ1Rhc2tzLnNpemU9PT0wJiZ0aGlzLl9oYXNQZW5kaW5nVGFza3MmJnRoaXMuaGFzUGVuZGluZ1Rhc2tzLm5leHQoITEpfW5nT25EZXN0cm95KCl7dGhpcy5wZW5kaW5nVGFza3MuY2xlYXIoKSx0aGlzLl9oYXNQZW5kaW5nVGFza3MmJnRoaXMuaGFzUGVuZGluZ1Rhc2tzLm5leHQoITEpfX1yZXR1cm4gdD1lLHQuybVmYWM9ZnVuY3Rpb24ocil7cmV0dXJuIG5ldyhyfHx0KX0sdC7JtXByb3Y9cSh7dG9rZW46dCxmYWN0b3J5OnQuybVmYWMscHJvdmlkZWRJbjoicm9vdCJ9KSxlfSkoKTtmdW5jdGlvbiByTih0LGUsbil7cmV0dXJuIHRbZV09bn1mdW5jdGlvbiBzcyh0LGUsbil7Y29uc3Qgcj10W2VdO3JldHVybiBPYmplY3QuaXMocixuKT8hMToodFtlXT1uLCEwKX1mdW5jdGlvbiBpTih0LGUsbixyLGkscyxvLGEsYyl7Y29uc3QgdT1lLmNvbnN0cyxsPWd1KGUsdCw0LG98fG51bGwsZGModSxhKSk7dncoZSxuLGwsZGModSxjKSksSWYoZSxsKTtjb25zdCBoPWwudFZpZXc9TWYoMixsLHIsaSxzLGUuZGlyZWN0aXZlUmVnaXN0cnksZS5waXBlUmVnaXN0cnksbnVsbCxlLnNjaGVtYXMsdSxudWxsKTtyZXR1cm4gZS5xdWVyaWVzIT09bnVsbCYmKGUucXVlcmllcy50ZW1wbGF0ZShlLGwpLGgucXVlcmllcz1lLnF1ZXJpZXMuZW1iZWRkZWRUVmlldyhsKSksbH1mdW5jdGlvbiBMaCh0LGUsbixyLGkscyxvLGEpe2NvbnN0IGM9UGUoKSx1PXpuKCksbD10K1hlLGg9dS5maXJzdENyZWF0ZVBhc3M/aU4obCx1LGMsZSxuLHIsaSxzLG8pOnUuZGF0YVtsXTskbyhoLCExKTtjb25zdCBkPVh3KHUsYyxoLHQpO2xmKCkmJkRmKHUsYyxkLGgpLEJyKGQsYyk7Y29uc3QgZj13dyhkLGMsZCxoKTtyZXR1cm4gY1tsXT1mLG11KGMsZiksWk0oZixoLGMpLHJmKGgpJiZwdyh1LGMsaCksbyE9bnVsbCYmZ3coYyxoLGEpLExofWxldCBYdz1ZdztmdW5jdGlvbiBZdyh0LGUsbixyKXtyZXR1cm4gcnMoITApLGVbWmVdLmNyZWF0ZUNvbW1lbnQoIiIpfWZ1bmN0aW9uIHNOKHQsZSxuLHIpe2NvbnN0IGk9ZVtMbl0scz0haXx8c3UoKXx8aHUoaSxyKTtpZihycyhzKSxzKXJldHVybiBZdyh0LGUpO2NvbnN0IG89aS5kYXRhW2JEXT8uW3JdPz9udWxsO28hPT1udWxsJiZuLnRWaWV3IT09bnVsbCYmbi50Vmlldy5zc3JJZD09PW51bGwmJihuLnRWaWV3LnNzcklkPW8pO2NvbnN0IGE9TGYoaSx0LGUsbik7eWYoaSxyLGEpO2NvbnN0IGM9eUUoaSxyKTtyZXR1cm4gVmYoYyxhKX1mdW5jdGlvbiBvTigpe1h3PXNOfWZ1bmN0aW9uIGFOKHQsZSxuLHIpe3JldHVybiBzcyh0LG91KCksbik/ZSt1dShuKStyOm1yfWZ1bmN0aW9uIFRhKHQsZSl7cmV0dXJuIHQ8PDE3fGU8PDJ9ZnVuY3Rpb24gSHIodCl7cmV0dXJuIHQ+PjE3JjMyNzY3fWZ1bmN0aW9uIGNOKHQpe3JldHVybih0JjIpPT0yfWZ1bmN0aW9uIHVOKHQsZSl7cmV0dXJuIHQmMTMxMDcxfGU8PDE3fWZ1bmN0aW9uIFZoKHQpe3JldHVybiB0fDJ9ZnVuY3Rpb24gRmkodCl7cmV0dXJuKHQmMTMxMDY4KT4+Mn1mdW5jdGlvbiBibCh0LGUpe3JldHVybiB0Ji0xMzEwNjl8ZTw8Mn1mdW5jdGlvbiBsTih0KXtyZXR1cm4odCYxKT09PTF9ZnVuY3Rpb24gRmgodCl7cmV0dXJuIHR8MX1mdW5jdGlvbiBoTih0LGUsbixyLGkscyl7bGV0IG89cz9lLmNsYXNzQmluZGluZ3M6ZS5zdHlsZUJpbmRpbmdzLGE9SHIobyksYz1GaShvKTt0W3JdPW47bGV0IHU9ITEsbDtpZihBcnJheS5pc0FycmF5KG4pKXtjb25zdCBoPW47bD1oWzFdLChsPT09bnVsbHx8Qm8oaCxsKT4wKSYmKHU9ITApfWVsc2UgbD1uO2lmKGkpaWYoYyE9PTApe2NvbnN0IGQ9SHIodFthKzFdKTt0W3IrMV09VGEoZCxhKSxkIT09MCYmKHRbZCsxXT1ibCh0W2QrMV0scikpLHRbYSsxXT11Tih0W2ErMV0scil9ZWxzZSB0W3IrMV09VGEoYSwwKSxhIT09MCYmKHRbYSsxXT1ibCh0W2ErMV0scikpLGE9cjtlbHNlIHRbcisxXT1UYShjLDApLGE9PT0wP2E9cjp0W2MrMV09YmwodFtjKzFdLHIpLGM9cjt1JiYodFtyKzFdPVZoKHRbcisxXSkpLEltKHQsbCxyLCEwKSxJbSh0LGwsciwhMSksZE4oZSxsLHQscixzKSxvPVRhKGEsYykscz9lLmNsYXNzQmluZGluZ3M9bzplLnN0eWxlQmluZGluZ3M9b31mdW5jdGlvbiBkTih0LGUsbixyLGkpe2NvbnN0IHM9aT90LnJlc2lkdWFsQ2xhc3Nlczp0LnJlc2lkdWFsU3R5bGVzO3MhPW51bGwmJnR5cGVvZiBlPT0ic3RyaW5nIiYmQm8ocyxlKT49MCYmKG5bcisxXT1GaChuW3IrMV0pKX1mdW5jdGlvbiBJbSh0LGUsbixyKXtjb25zdCBpPXRbbisxXSxzPWU9PT1udWxsO2xldCBvPXI/SHIoaSk6RmkoaSksYT0hMTtmb3IoO28hPT0wJiYoYT09PSExfHxzKTspe2NvbnN0IGM9dFtvXSx1PXRbbysxXTtmTihjLGUpJiYoYT0hMCx0W28rMV09cj9GaCh1KTpWaCh1KSksbz1yP0hyKHUpOkZpKHUpfWEmJih0W24rMV09cj9WaChpKTpGaChpKSl9ZnVuY3Rpb24gZk4odCxlKXtyZXR1cm4gdD09PW51bGx8fGU9PW51bGx8fChBcnJheS5pc0FycmF5KHQpP3RbMV06dCk9PT1lPyEwOkFycmF5LmlzQXJyYXkodCkmJnR5cGVvZiBlPT0ic3RyaW5nIj9Cbyh0LGUpPj0wOiExfWNvbnN0IEd0PXt0ZXh0RW5kOjAsa2V5OjAsa2V5RW5kOjAsdmFsdWU6MCx2YWx1ZUVuZDowfTtmdW5jdGlvbiBwTih0KXtyZXR1cm4gdC5zdWJzdHJpbmcoR3Qua2V5LEd0LmtleUVuZCl9ZnVuY3Rpb24gZ04odCl7cmV0dXJuIG1OKHQpLEp3KHQsZUkodCwwLEd0LnRleHRFbmQpKX1mdW5jdGlvbiBKdyh0LGUpe2NvbnN0IG49R3QudGV4dEVuZDtyZXR1cm4gbj09PWU/LTE6KGU9R3Qua2V5RW5kPXlOKHQsR3Qua2V5PWUsbiksZUkodCxlLG4pKX1mdW5jdGlvbiBtTih0KXtHdC5rZXk9MCxHdC5rZXlFbmQ9MCxHdC52YWx1ZT0wLEd0LnZhbHVlRW5kPTAsR3QudGV4dEVuZD10Lmxlbmd0aH1mdW5jdGlvbiBlSSh0LGUsbil7Zm9yKDtlPG4mJnQuY2hhckNvZGVBdChlKTw9MzI7KWUrKztyZXR1cm4gZX1mdW5jdGlvbiB5Tih0LGUsbil7Zm9yKDtlPG4mJnQuY2hhckNvZGVBdChlKT4zMjspZSsrO3JldHVybiBlfWZ1bmN0aW9uIHZOKHQsZSxuKXtjb25zdCByPVBlKCksaT1vdSgpO2lmKHNzKHIsaSxlKSl7Y29uc3Qgcz16bigpLG89dEQoKTtSUChzLG8scix0LGUscltaZV0sbiwhMSl9cmV0dXJuIHZOfWZ1bmN0aW9uIFVoKHQsZSxuLHIsaSl7Y29uc3Qgcz1lLmlucHV0cyxvPWk/ImNsYXNzIjoic3R5bGUiO05mKHQsbixzW29dLG8scil9ZnVuY3Rpb24gZEgodCl7RU4oUk4sX04sdCwhMCl9ZnVuY3Rpb24gX04odCxlKXtmb3IobGV0IG49Z04oZSk7bj49MDtuPUp3KGUsbikpZmYodCxwTihlKSwhMCl9ZnVuY3Rpb24gRU4odCxlLG4scil7Y29uc3QgaT16bigpLHM9S2IoMik7aS5maXJzdFVwZGF0ZVBhc3MmJndOKGksbnVsbCxzLHIpO2NvbnN0IG89UGUoKTtpZihuIT09bXImJnNzKG8scyxuKSl7Y29uc3QgYT1pLmRhdGFbWHIoKV07aWYobkkoYSxyKSYmIXRJKGkscykpe2xldCBjPXI/YS5jbGFzc2VzV2l0aG91dEhvc3Q6YS5zdHlsZXNXaXRob3V0SG9zdDtjIT09bnVsbCYmKG49cGgoYyxufHwiIikpLFVoKGksYSxvLG4scil9ZWxzZSBiTihpLGEsbyxvW1plXSxvW3MrMV0sb1tzKzFdPUFOKHQsZSxuKSxyLHMpfX1mdW5jdGlvbiB0SSh0LGUpe3JldHVybiBlPj10LmV4cGFuZG9TdGFydEluZGV4fWZ1bmN0aW9uIHdOKHQsZSxuLHIpe2NvbnN0IGk9dC5kYXRhO2lmKGlbbisxXT09PW51bGwpe2NvbnN0IHM9aVtYcigpXSxvPXRJKHQsbik7bkkocyxyKSYmZT09PW51bGwmJiFvJiYoZT0hMSksZT1JTihpLHMsZSxyKSxoTihpLHMsZSxuLG8scil9fWZ1bmN0aW9uIElOKHQsZSxuLHIpe2NvbnN0IGk9WWIodCk7bGV0IHM9cj9lLnJlc2lkdWFsQ2xhc3NlczplLnJlc2lkdWFsU3R5bGVzO2lmKGk9PT1udWxsKShyP2UuY2xhc3NCaW5kaW5nczplLnN0eWxlQmluZGluZ3MpPT09MCYmKG49RGwobnVsbCx0LGUsbixyKSxuPWxvKG4sZS5hdHRycyxyKSxzPW51bGwpO2Vsc2V7Y29uc3Qgbz1lLmRpcmVjdGl2ZVN0eWxpbmdMYXN0O2lmKG89PT0tMXx8dFtvXSE9PWkpaWYobj1EbChpLHQsZSxuLHIpLHM9PT1udWxsKXtsZXQgYz1UTih0LGUscik7YyE9PXZvaWQgMCYmQXJyYXkuaXNBcnJheShjKSYmKGM9RGwobnVsbCx0LGUsY1sxXSxyKSxjPWxvKGMsZS5hdHRycyxyKSxTTih0LGUscixjKSl9ZWxzZSBzPUNOKHQsZSxyKX1yZXR1cm4gcyE9PXZvaWQgMCYmKHI/ZS5yZXNpZHVhbENsYXNzZXM9czplLnJlc2lkdWFsU3R5bGVzPXMpLG59ZnVuY3Rpb24gVE4odCxlLG4pe2NvbnN0IHI9bj9lLmNsYXNzQmluZGluZ3M6ZS5zdHlsZUJpbmRpbmdzO2lmKEZpKHIpIT09MClyZXR1cm4gdFtIcihyKV19ZnVuY3Rpb24gU04odCxlLG4scil7Y29uc3QgaT1uP2UuY2xhc3NCaW5kaW5nczplLnN0eWxlQmluZGluZ3M7dFtIcihpKV09cn1mdW5jdGlvbiBDTih0LGUsbil7bGV0IHI7Y29uc3QgaT1lLmRpcmVjdGl2ZUVuZDtmb3IobGV0IHM9MStlLmRpcmVjdGl2ZVN0eWxpbmdMYXN0O3M8aTtzKyspe2NvbnN0IG89dFtzXS5ob3N0QXR0cnM7cj1sbyhyLG8sbil9cmV0dXJuIGxvKHIsZS5hdHRycyxuKX1mdW5jdGlvbiBEbCh0LGUsbixyLGkpe2xldCBzPW51bGw7Y29uc3Qgbz1uLmRpcmVjdGl2ZUVuZDtsZXQgYT1uLmRpcmVjdGl2ZVN0eWxpbmdMYXN0O2ZvcihhPT09LTE/YT1uLmRpcmVjdGl2ZVN0YXJ0OmErKzthPG8mJihzPWVbYV0scj1sbyhyLHMuaG9zdEF0dHJzLGkpLHMhPT10KTspYSsrO3JldHVybiB0IT09bnVsbCYmKG4uZGlyZWN0aXZlU3R5bGluZ0xhc3Q9YSkscn1mdW5jdGlvbiBsbyh0LGUsbil7Y29uc3Qgcj1uPzE6MjtsZXQgaT0tMTtpZihlIT09bnVsbClmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKyl7Y29uc3Qgbz1lW3NdO3R5cGVvZiBvPT0ibnVtYmVyIj9pPW86aT09PXImJihBcnJheS5pc0FycmF5KHQpfHwodD10PT09dm9pZCAwP1tdOlsiIix0XSksZmYodCxvLG4/ITA6ZVsrK3NdKSl9cmV0dXJuIHQ9PT12b2lkIDA/bnVsbDp0fWZ1bmN0aW9uIEFOKHQsZSxuKXtpZihuPT1udWxsfHxuPT09IiIpcmV0dXJuIEF0O2NvbnN0IHI9W10saT1ZbihuKTtpZihBcnJheS5pc0FycmF5KGkpKWZvcihsZXQgcz0wO3M8aS5sZW5ndGg7cysrKXQocixpW3NdLCEwKTtlbHNlIGlmKHR5cGVvZiBpPT0ib2JqZWN0Iilmb3IoY29uc3QgcyBpbiBpKWkuaGFzT3duUHJvcGVydHkocykmJnQocixzLGlbc10pO2Vsc2UgdHlwZW9mIGk9PSJzdHJpbmciJiZlKHIsaSk7cmV0dXJuIHJ9ZnVuY3Rpb24gUk4odCxlLG4pe2NvbnN0IHI9U3RyaW5nKGUpO3IhPT0iIiYmIXIuaW5jbHVkZXMoIiAiKSYmZmYodCxyLG4pfWZ1bmN0aW9uIGJOKHQsZSxuLHIsaSxzLG8sYSl7aT09PW1yJiYoaT1BdCk7bGV0IGM9MCx1PTAsbD0wPGkubGVuZ3RoP2lbMF06bnVsbCxoPTA8cy5sZW5ndGg/c1swXTpudWxsO2Zvcig7bCE9PW51bGx8fGghPT1udWxsOyl7Y29uc3QgZD1jPGkubGVuZ3RoP2lbYysxXTp2b2lkIDAsZj11PHMubGVuZ3RoP3NbdSsxXTp2b2lkIDA7bGV0IG09bnVsbCx5O2w9PT1oPyhjKz0yLHUrPTIsZCE9PWYmJihtPWgseT1mKSk6aD09PW51bGx8fGwhPT1udWxsJiZsPGg/KGMrPTIsbT1sKToodSs9MixtPWgseT1mKSxtIT09bnVsbCYmRE4odCxlLG4scixtLHksbyxhKSxsPWM8aS5sZW5ndGg/aVtjXTpudWxsLGg9dTxzLmxlbmd0aD9zW3VdOm51bGx9fWZ1bmN0aW9uIEROKHQsZSxuLHIsaSxzLG8sYSl7aWYoIShlLnR5cGUmMykpcmV0dXJuO2NvbnN0IGM9dC5kYXRhLHU9Y1thKzFdLGw9bE4odSk/VG0oYyxlLG4saSxGaSh1KSxvKTp2b2lkIDA7aWYoIVNjKGwpKXtTYyhzKXx8Y04odSkmJihzPVRtKGMsbnVsbCxuLGksYSxvKSk7Y29uc3QgaD1GXyhYcigpLG4pO2dQKHIsbyxoLGkscyl9fWZ1bmN0aW9uIFRtKHQsZSxuLHIsaSxzKXtjb25zdCBvPWU9PT1udWxsO2xldCBhO2Zvcig7aT4wOyl7Y29uc3QgYz10W2ldLHU9QXJyYXkuaXNBcnJheShjKSxsPXU/Y1sxXTpjLGg9bD09PW51bGw7bGV0IGQ9bltpKzFdO2Q9PT1tciYmKGQ9aD9BdDp2b2lkIDApO2xldCBmPWg/dmwoZCxyKTpsPT09cj9kOnZvaWQgMDtpZih1JiYhU2MoZikmJihmPXZsKGMscikpLFNjKGYpJiYoYT1mLG8pKXJldHVybiBhO2NvbnN0IG09dFtpKzFdO2k9bz9IcihtKTpGaShtKX1pZihlIT09bnVsbCl7bGV0IGM9cz9lLnJlc2lkdWFsQ2xhc3NlczplLnJlc2lkdWFsU3R5bGVzO2MhPW51bGwmJihhPXZsKGMscikpfXJldHVybiBhfWZ1bmN0aW9uIFNjKHQpe3JldHVybiB0IT09dm9pZCAwfWZ1bmN0aW9uIG5JKHQsZSl7cmV0dXJuKHQuZmxhZ3MmKGU/ODoxNikpIT09MH1jbGFzcyBQTntkZXN0cm95KGUpe311cGRhdGVWYWx1ZShlLG4pe31zd2FwKGUsbil7Y29uc3Qgcj1NYXRoLm1pbihlLG4pLGk9TWF0aC5tYXgoZSxuKSxzPXRoaXMuZGV0YWNoKGkpO2lmKGktcj4xKXtjb25zdCBvPXRoaXMuZGV0YWNoKHIpO3RoaXMuYXR0YWNoKHIscyksdGhpcy5hdHRhY2goaSxvKX1lbHNlIHRoaXMuYXR0YWNoKHIscyl9bW92ZShlLG4pe3RoaXMuYXR0YWNoKG4sdGhpcy5kZXRhY2goZSkpfX1mdW5jdGlvbiBQbCh0LGUsbixyLGkpe3JldHVybiB0PT09biYmT2JqZWN0LmlzKGUscik/MTpPYmplY3QuaXMoaSh0LGUpLGkobixyKSk/LTE6MH1mdW5jdGlvbiBNTih0LGUsbil7bGV0IHIsaSxzPTAsbz10Lmxlbmd0aC0xO2lmKEFycmF5LmlzQXJyYXkoZSkpe2xldCBhPWUubGVuZ3RoLTE7Zm9yKDtzPD1vJiZzPD1hOyl7Y29uc3QgYz10LmF0KHMpLHU9ZVtzXSxsPVBsKHMsYyxzLHUsbik7aWYobCE9PTApe2w8MCYmdC51cGRhdGVWYWx1ZShzLHUpLHMrKztjb250aW51ZX1jb25zdCBoPXQuYXQobyksZD1lW2FdLGY9UGwobyxoLGEsZCxuKTtpZihmIT09MCl7ZjwwJiZ0LnVwZGF0ZVZhbHVlKG8sZCksby0tLGEtLTtjb250aW51ZX1jb25zdCBtPW4ocyxjKSx5PW4obyxoKSxfPW4ocyx1KTtpZihPYmplY3QuaXMoXyx5KSl7Y29uc3QgVD1uKGEsZCk7T2JqZWN0LmlzKFQsbSk/KHQuc3dhcChzLG8pLHQudXBkYXRlVmFsdWUobyxkKSxhLS0sby0tKTp0Lm1vdmUobyxzKSx0LnVwZGF0ZVZhbHVlKHMsdSkscysrO2NvbnRpbnVlfWlmKHI/PyhyPW5ldyBBbSksaT8/KGk9Q20odCxzLG8sbikpLGpoKHQscixzLF8pKXQudXBkYXRlVmFsdWUocyx1KSxzKyssbysrO2Vsc2UgaWYoaS5oYXMoXykpci5zZXQobSx0LmRldGFjaChzKSksby0tO2Vsc2V7Y29uc3QgVD10LmNyZWF0ZShzLGVbc10pO3QuYXR0YWNoKHMsVCkscysrLG8rK319Zm9yKDtzPD1hOylTbSh0LHIsbixzLGVbc10pLHMrK31lbHNlIGlmKGUhPW51bGwpe2NvbnN0IGE9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7bGV0IGM9YS5uZXh0KCk7Zm9yKDshYy5kb25lJiZzPD1vOyl7Y29uc3QgdT10LmF0KHMpLGw9Yy52YWx1ZSxoPVBsKHMsdSxzLGwsbik7aWYoaCE9PTApaDwwJiZ0LnVwZGF0ZVZhbHVlKHMsbCkscysrLGM9YS5uZXh0KCk7ZWxzZXtyPz8ocj1uZXcgQW0pLGk/PyhpPUNtKHQscyxvLG4pKTtjb25zdCBkPW4ocyxsKTtpZihqaCh0LHIscyxkKSl0LnVwZGF0ZVZhbHVlKHMsbCkscysrLG8rKyxjPWEubmV4dCgpO2Vsc2UgaWYoIWkuaGFzKGQpKXQuYXR0YWNoKHMsdC5jcmVhdGUocyxsKSkscysrLG8rKyxjPWEubmV4dCgpO2Vsc2V7Y29uc3QgZj1uKHMsdSk7ci5zZXQoZix0LmRldGFjaChzKSksby0tfX19Zm9yKDshYy5kb25lOylTbSh0LHIsbix0Lmxlbmd0aCxjLnZhbHVlKSxjPWEubmV4dCgpfWZvcig7czw9bzspdC5kZXN0cm95KHQuZGV0YWNoKG8tLSkpO3I/LmZvckVhY2goYT0+e3QuZGVzdHJveShhKX0pfWZ1bmN0aW9uIGpoKHQsZSxuLHIpe3JldHVybiBlIT09dm9pZCAwJiZlLmhhcyhyKT8odC5hdHRhY2gobixlLmdldChyKSksZS5kZWxldGUociksITApOiExfWZ1bmN0aW9uIFNtKHQsZSxuLHIsaSl7aWYoamgodCxlLHIsbihyLGkpKSl0LnVwZGF0ZVZhbHVlKHIsaSk7ZWxzZXtjb25zdCBzPXQuY3JlYXRlKHIsaSk7dC5hdHRhY2gocixzKX19ZnVuY3Rpb24gQ20odCxlLG4scil7Y29uc3QgaT1uZXcgU2V0O2ZvcihsZXQgcz1lO3M8PW47cysrKWkuYWRkKHIocyx0LmF0KHMpKSk7cmV0dXJuIGl9Y2xhc3MgQW17Y29uc3RydWN0b3IoKXt0aGlzLmt2TWFwPW5ldyBNYXAsdGhpcy5fdk1hcD12b2lkIDB9aGFzKGUpe3JldHVybiB0aGlzLmt2TWFwLmhhcyhlKX1kZWxldGUoZSl7aWYoIXRoaXMuaGFzKGUpKXJldHVybiExO2NvbnN0IG49dGhpcy5rdk1hcC5nZXQoZSk7cmV0dXJuIHRoaXMuX3ZNYXAhPT12b2lkIDAmJnRoaXMuX3ZNYXAuaGFzKG4pPyh0aGlzLmt2TWFwLnNldChlLHRoaXMuX3ZNYXAuZ2V0KG4pKSx0aGlzLl92TWFwLmRlbGV0ZShuKSk6dGhpcy5rdk1hcC5kZWxldGUoZSksITB9Z2V0KGUpe3JldHVybiB0aGlzLmt2TWFwLmdldChlKX1zZXQoZSxuKXtpZih0aGlzLmt2TWFwLmhhcyhlKSl7bGV0IHI9dGhpcy5rdk1hcC5nZXQoZSk7dGhpcy5fdk1hcD09PXZvaWQgMCYmKHRoaXMuX3ZNYXA9bmV3IE1hcCk7Y29uc3QgaT10aGlzLl92TWFwO2Zvcig7aS5oYXMocik7KXI9aS5nZXQocik7aS5zZXQocixuKX1lbHNlIHRoaXMua3ZNYXAuc2V0KGUsbil9Zm9yRWFjaChlKXtmb3IobGV0W24scl1vZiB0aGlzLmt2TWFwKWlmKGUocixuKSx0aGlzLl92TWFwIT09dm9pZCAwKXtjb25zdCBpPXRoaXMuX3ZNYXA7Zm9yKDtpLmhhcyhyKTspcj1pLmdldChyKSxlKHIsbil9fX1mdW5jdGlvbiBmSCh0LGUsbil7dGkoIk5nQ29udHJvbEZsb3ciKTtjb25zdCByPVBlKCksaT1vdSgpLHM9JGgocixYZSt0KSxvPTA7aWYoc3MocixpLGUpKXtjb25zdCBhPUtlKG51bGwpO3RyeXtpZihDdyhzLG8pLGUhPT0tMSl7Y29uc3QgYz1CaChyW2llXSxYZStlKSx1PWNvKHMsYy50Vmlldy5zc3JJZCksbD1PZihyLGMsbix7ZGVoeWRyYXRlZFZpZXc6dX0pO3l1KHMsbCxvLGFvKGMsdSkpfX1maW5hbGx5e0tlKGEpfX1lbHNle2NvbnN0IGE9U3cocyxvKTthIT09dm9pZCAwJiYoYVtkdF09bil9fWNsYXNzIE5Oe2NvbnN0cnVjdG9yKGUsbixyKXt0aGlzLmxDb250YWluZXI9ZSx0aGlzLiRpbXBsaWNpdD1uLHRoaXMuJGluZGV4PXJ9Z2V0ICRjb3VudCgpe3JldHVybiB0aGlzLmxDb250YWluZXIubGVuZ3RoLWZ0fX1jbGFzcyBrTntjb25zdHJ1Y3RvcihlLG4scil7dGhpcy5oYXNFbXB0eUJsb2NrPWUsdGhpcy50cmFja0J5Rm49bix0aGlzLmxpdmVDb2xsZWN0aW9uPXJ9fWZ1bmN0aW9uIHBIKHQsZSxuLHIsaSxzLG8sYSxjLHUsbCxoLGQpe3RpKCJOZ0NvbnRyb2xGbG93Iik7Y29uc3QgZj1jIT09dm9pZCAwLG09UGUoKSx5PWE/by5iaW5kKG1bTnRdW2R0XSk6byxfPW5ldyBrTihmLHkpO21bWGUrdF09XyxMaCh0KzEsZSxuLHIsaSxzKSxmJiZMaCh0KzIsYyx1LGwsaCxkKX1jbGFzcyBPTiBleHRlbmRzIFBOe2NvbnN0cnVjdG9yKGUsbixyKXtzdXBlcigpLHRoaXMubENvbnRhaW5lcj1lLHRoaXMuaG9zdExWaWV3PW4sdGhpcy50ZW1wbGF0ZVROb2RlPXIsdGhpcy5uZWVkc0luZGV4VXBkYXRlPSExfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5sQ29udGFpbmVyLmxlbmd0aC1mdH1hdChlKXtyZXR1cm4gdGhpcy5nZXRMVmlldyhlKVtkdF0uJGltcGxpY2l0fWF0dGFjaChlLG4pe2NvbnN0IHI9bltMbl07dGhpcy5uZWVkc0luZGV4VXBkYXRlfHwodGhpcy5uZWVkc0luZGV4VXBkYXRlPWUhPT10aGlzLmxlbmd0aCkseXUodGhpcy5sQ29udGFpbmVyLG4sZSxhbyh0aGlzLnRlbXBsYXRlVE5vZGUscikpfWRldGFjaChlKXtyZXR1cm4gdGhpcy5uZWVkc0luZGV4VXBkYXRlfHwodGhpcy5uZWVkc0luZGV4VXBkYXRlPWUhPT10aGlzLmxlbmd0aC0xKSx4Tih0aGlzLmxDb250YWluZXIsZSl9Y3JlYXRlKGUsbil7Y29uc3Qgcj1jbyh0aGlzLmxDb250YWluZXIsdGhpcy50ZW1wbGF0ZVROb2RlLnRWaWV3LnNzcklkKTtyZXR1cm4gT2YodGhpcy5ob3N0TFZpZXcsdGhpcy50ZW1wbGF0ZVROb2RlLG5ldyBOTih0aGlzLmxDb250YWluZXIsbixlKSx7ZGVoeWRyYXRlZFZpZXc6cn0pfWRlc3Ryb3koZSl7ZHUoZVtpZV0sZSl9dXBkYXRlVmFsdWUoZSxuKXt0aGlzLmdldExWaWV3KGUpW2R0XS4kaW1wbGljaXQ9bn1yZXNldCgpe3RoaXMubmVlZHNJbmRleFVwZGF0ZT0hMX11cGRhdGVJbmRleGVzKCl7aWYodGhpcy5uZWVkc0luZGV4VXBkYXRlKWZvcihsZXQgZT0wO2U8dGhpcy5sZW5ndGg7ZSsrKXRoaXMuZ2V0TFZpZXcoZSlbZHRdLiRpbmRleD1lfWdldExWaWV3KGUpe3JldHVybiBMTih0aGlzLmxDb250YWluZXIsZSl9fWZ1bmN0aW9uIGdIKHQpe2NvbnN0IGU9S2UobnVsbCksbj1YcigpO3RyeXtjb25zdCByPVBlKCksaT1yW2llXSxzPXJbbl07aWYocy5saXZlQ29sbGVjdGlvbj09PXZvaWQgMCl7Y29uc3QgYT1uKzEsYz0kaChyLGEpLHU9QmgoaSxhKTtzLmxpdmVDb2xsZWN0aW9uPW5ldyBPTihjLHIsdSl9ZWxzZSBzLmxpdmVDb2xsZWN0aW9uLnJlc2V0KCk7Y29uc3Qgbz1zLmxpdmVDb2xsZWN0aW9uO2lmKE1OKG8sdCxzLnRyYWNrQnlGbiksby51cGRhdGVJbmRleGVzKCkscy5oYXNFbXB0eUJsb2NrKXtjb25zdCBhPW91KCksYz1vLmxlbmd0aD09PTA7aWYoc3MocixhLGMpKXtjb25zdCB1PW4rMixsPSRoKHIsdSk7aWYoYyl7Y29uc3QgaD1CaChpLHUpLGQ9Y28obCxoLnRWaWV3LnNzcklkKSxmPU9mKHIsaCx2b2lkIDAse2RlaHlkcmF0ZWRWaWV3OmR9KTt5dShsLGYsMCxhbyhoLGQpKX1lbHNlIEN3KGwsMCl9fX1maW5hbGx5e0tlKGUpfX1mdW5jdGlvbiAkaCh0LGUpe3JldHVybiB0W2VdfWZ1bmN0aW9uIHhOKHQsZSl7cmV0dXJuIHNvKHQsZSl9ZnVuY3Rpb24gTE4odCxlKXtyZXR1cm4gU3codCxlKX1mdW5jdGlvbiBCaCh0LGUpe3JldHVybiBzZih0LGUpfWZ1bmN0aW9uIFZOKHQsZSxuLHIsaSxzKXtjb25zdCBvPWUuY29uc3RzLGE9ZGMobyxpKSxjPWd1KGUsdCwyLHIsYSk7cmV0dXJuIHZ3KGUsbixjLGRjKG8scykpLGMuYXR0cnMhPT1udWxsJiZ4aChjLGMuYXR0cnMsITEpLGMubWVyZ2VkQXR0cnMhPT1udWxsJiZ4aChjLGMubWVyZ2VkQXR0cnMsITApLGUucXVlcmllcyE9PW51bGwmJmUucXVlcmllcy5lbGVtZW50U3RhcnQoZSxjKSxjfWZ1bmN0aW9uIHJJKHQsZSxuLHIpe2NvbnN0IGk9UGUoKSxzPXpuKCksbz1YZSt0LGE9aVtaZV0sYz1zLmZpcnN0Q3JlYXRlUGFzcz9WTihvLHMsaSxlLG4scik6cy5kYXRhW29dLHU9c0kocyxpLGMsYSxlLHQpO2lbb109dTtjb25zdCBsPXJmKGMpO3JldHVybiAkbyhjLCEwKSxjdyhhLHUsYyksKGMuZmxhZ3MmMzIpIT09MzImJmxmKCkmJkRmKHMsaSx1LGMpLEZiKCk9PT0wJiZCcih1LGkpLFViKCksbCYmKHB3KHMsaSxjKSxmdyhzLGMsaSkpLHIhPT1udWxsJiZndyhpLGMpLHJJfWZ1bmN0aW9uIGlJKCl7bGV0IHQ9RW4oKTtCXygpP3piKCk6KHQ9dC5wYXJlbnQsJG8odCwhMSkpO2NvbnN0IGU9dDskYihlKSYmSGIoKSxqYigpO2NvbnN0IG49em4oKTtyZXR1cm4gbi5maXJzdENyZWF0ZVBhc3MmJihJZihuLHQpLExfKHQpJiZuLnF1ZXJpZXMuZWxlbWVudEVuZCh0KSksZS5jbGFzc2VzV2l0aG91dEhvc3QhPW51bGwmJm8wKGUpJiZVaChuLGUsUGUoKSxlLmNsYXNzZXNXaXRob3V0SG9zdCwhMCksZS5zdHlsZXNXaXRob3V0SG9zdCE9bnVsbCYmYTAoZSkmJlVoKG4sZSxQZSgpLGUuc3R5bGVzV2l0aG91dEhvc3QsITEpLGlJfWZ1bmN0aW9uIEJmKHQsZSxuLHIpe3JldHVybiBySSh0LGUsbixyKSxpSSgpLEJmfWxldCBzST0odCxlLG4scixpLHMpPT4ocnMoITApLFJmKHIsaSxRXygpKSk7ZnVuY3Rpb24gRk4odCxlLG4scixpLHMpe2NvbnN0IG89ZVtMbl0sYT0hb3x8c3UoKXx8aHUobyxzKTtpZihycyhhKSxhKXJldHVybiBSZihyLGksUV8oKSk7Y29uc3QgYz1MZihvLHQsZSxuKTtyZXR1cm4gbUUobyxzKSYmeWYobyxzLGMubmV4dFNpYmxpbmcpLG8mJihKXyhuKXx8ZUUoYykpJiZVbyhuKSYmKEJiKG4pLG93KGMpKSxjfWZ1bmN0aW9uIFVOKCl7c0k9Rk59ZnVuY3Rpb24gbUgoKXtyZXR1cm4gUGUoKX1jb25zdCBIaD0iZW4tVVMiO2Z1bmN0aW9uIGpOKHQpe3R5cGVvZiB0PT0ic3RyaW5nIiYmdC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL18vZywiLSIpfWZ1bmN0aW9uICROKHQsZSxuLHIpe2NvbnN0IGk9UGUoKSxzPXpuKCksbz1FbigpO3JldHVybiBITihzLGksaVtaZV0sbyx0LGUsciksJE59ZnVuY3Rpb24gQk4odCxlLG4scil7Y29uc3QgaT10LmNsZWFudXA7aWYoaSE9bnVsbClmb3IobGV0IHM9MDtzPGkubGVuZ3RoLTE7cys9Mil7Y29uc3Qgbz1pW3NdO2lmKG89PT1uJiZpW3MrMV09PT1yKXtjb25zdCBhPWVbSnNdLGM9aVtzKzJdO3JldHVybiBhLmxlbmd0aD5jP2FbY106bnVsbH10eXBlb2Ygbz09InN0cmluZyImJihzKz0yKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBITih0LGUsbixyLGkscyxvKXtjb25zdCBhPXJmKHIpLHU9dC5maXJzdENyZWF0ZVBhc3MmJkJQKHQpLGw9ZVtkdF0saD0kUChlKTtsZXQgZD0hMDtpZihyLnR5cGUmM3x8byl7Y29uc3QgeT1CdChyLGUpLF89bz9vKHkpOnksVD1oLmxlbmd0aCxDPW8/Vj0+byhadChWW3IuaW5kZXhdKSk6ci5pbmRleDtsZXQgUz1udWxsO2lmKCFvJiZhJiYoUz1CTih0LGUsaSxyLmluZGV4KSksUyE9PW51bGwpe2NvbnN0IFY9Uy5fX25nTGFzdExpc3RlbmVyRm5fX3x8UztWLl9fbmdOZXh0TGlzdGVuZXJGbl9fPXMsUy5fX25nTGFzdExpc3RlbmVyRm5fXz1zLGQ9ITF9ZWxzZXtzPWJtKHIsZSxsLHMsITEpO2NvbnN0IFY9bi5saXN0ZW4oXyxpLHMpO2gucHVzaChzLFYpLHUmJnUucHVzaChpLEMsVCxUKzEpfX1lbHNlIHM9Ym0ocixlLGwscywhMSk7Y29uc3QgZj1yLm91dHB1dHM7bGV0IG07aWYoZCYmZiE9PW51bGwmJihtPWZbaV0pKXtjb25zdCB5PW0ubGVuZ3RoO2lmKHkpZm9yKGxldCBfPTA7Xzx5O18rPTIpe2NvbnN0IFQ9bVtfXSxDPW1bXysxXSxVPWVbVF1bQ10uc3Vic2NyaWJlKHMpLEg9aC5sZW5ndGg7aWYoaC5wdXNoKHMsVSksdSl7Y29uc3QgQj10eXBlb2YgVT09ImZ1bmN0aW9uIj9IKzE6LShIKzEpO3UucHVzaChpLHIuaW5kZXgsSCxCKX19fX1mdW5jdGlvbiBSbSh0LGUsbixyKXt0cnl7cmV0dXJuIHNuKDYsZSxuKSxuKHIpIT09ITF9Y2F0Y2goaSl7cmV0dXJuIFR3KHQsaSksITF9ZmluYWxseXtzbig3LGUsbil9fWZ1bmN0aW9uIGJtKHQsZSxuLHIsaSl7cmV0dXJuIGZ1bmN0aW9uIHMobyl7aWYobz09PUZ1bmN0aW9uKXJldHVybiByO2NvbnN0IGE9dC5jb21wb25lbnRPZmZzZXQ+LTE/cHIodC5pbmRleCxlKTplO3hmKGEpO2xldCBjPVJtKGUsbixyLG8pLHU9cy5fX25nTmV4dExpc3RlbmVyRm5fXztmb3IoO3U7KWM9Um0oZSxuLHUsbykmJmMsdT11Ll9fbmdOZXh0TGlzdGVuZXJGbl9fO3JldHVybiBpJiZjPT09ITEmJm8ucHJldmVudERlZmF1bHQoKSxjfX1mdW5jdGlvbiB5SCh0PTEpe3JldHVybiBlRCh0KX1mdW5jdGlvbiBxTih0LGUsbixyKXtuPj10LmRhdGEubGVuZ3RoJiYodC5kYXRhW25dPW51bGwsdC5ibHVlcHJpbnRbbl09bnVsbCksZVtuXT1yfWZ1bmN0aW9uIHZIKHQsZT0iIil7Y29uc3Qgbj1QZSgpLHI9em4oKSxpPXQrWGUscz1yLmZpcnN0Q3JlYXRlUGFzcz9ndShyLGksMSxlLG51bGwpOnIuZGF0YVtpXSxvPW9JKHIsbixzLGUsdCk7bltpXT1vLGxmKCkmJkRmKHIsbixvLHMpLCRvKHMsITEpfWxldCBvST0odCxlLG4scixpKT0+KHJzKCEwKSxldyhlW1plXSxyKSk7ZnVuY3Rpb24gek4odCxlLG4scixpKXtjb25zdCBzPWVbTG5dLG89IXN8fHN1KCl8fGh1KHMsaSk7cmV0dXJuIHJzKG8pLG8/ZXcoZVtaZV0scik6TGYocyx0LGUsbil9ZnVuY3Rpb24gV04oKXtvST16Tn1mdW5jdGlvbiBHTih0KXtyZXR1cm4gYUkoIiIsdCwiIiksR059ZnVuY3Rpb24gYUkodCxlLG4pe2NvbnN0IHI9UGUoKSxpPWFOKHIsdCxlLG4pO3JldHVybiBpIT09bXImJkhQKHIsWHIoKSxpKSxhSX1sZXQgS049KCgpPT57dmFyIHQ7Y2xhc3MgZXtjb25zdHJ1Y3RvcihyKXt0aGlzLl9pbmplY3Rvcj1yLHRoaXMuY2FjaGVkSW5qZWN0b3JzPW5ldyBNYXB9Z2V0T3JDcmVhdGVTdGFuZGFsb25lSW5qZWN0b3Iocil7aWYoIXIuc3RhbmRhbG9uZSlyZXR1cm4gbnVsbDtpZighdGhpcy5jYWNoZWRJbmplY3RvcnMuaGFzKHIpKXtjb25zdCBpPUlFKCExLHIudHlwZSkscz1pLmxlbmd0aD4wP1p3KFtpXSx0aGlzLl9pbmplY3RvcixgU3RhbmRhbG9uZVske3IudHlwZS5uYW1lfV1gKTpudWxsO3RoaXMuY2FjaGVkSW5qZWN0b3JzLnNldChyLHMpfXJldHVybiB0aGlzLmNhY2hlZEluamVjdG9ycy5nZXQocil9bmdPbkRlc3Ryb3koKXt0cnl7Zm9yKGNvbnN0IHIgb2YgdGhpcy5jYWNoZWRJbmplY3RvcnMudmFsdWVzKCkpciE9PW51bGwmJnIuZGVzdHJveSgpfWZpbmFsbHl7dGhpcy5jYWNoZWRJbmplY3RvcnMuY2xlYXIoKX19fXJldHVybiB0PWUsdC7JtXByb3Y9cSh7dG9rZW46dCxwcm92aWRlZEluOiJlbnZpcm9ubWVudCIsZmFjdG9yeTooKT0+bmV3IHQodGUoam4pKX0pLGV9KSgpO2Z1bmN0aW9uIGNJKHQpe3RpKCJOZ1N0YW5kYWxvbmUiKSx0LmdldFN0YW5kYWxvbmVJbmplY3Rvcj1lPT5lLmdldChLTikuZ2V0T3JDcmVhdGVTdGFuZGFsb25lSW5qZWN0b3IodCl9ZnVuY3Rpb24gUU4odCxlKXtjb25zdCBuPXRbZV07cmV0dXJuIG49PT1tcj92b2lkIDA6bn1mdW5jdGlvbiBaTih0LGUsbixyLGkscyl7Y29uc3Qgbz1lK247cmV0dXJuIHNzKHQsbyxpKT9yTih0LG8rMSxzP3IuY2FsbChzLGkpOnIoaSkpOlFOKHQsbysxKX1mdW5jdGlvbiBfSCh0LGUpe2NvbnN0IG49em4oKTtsZXQgcjtjb25zdCBpPXQrWGU7bi5maXJzdENyZWF0ZVBhc3M/KHI9WE4oZSxuLnBpcGVSZWdpc3RyeSksbi5kYXRhW2ldPXIsci5vbkRlc3Ryb3kmJihuLmRlc3Ryb3lIb29rcz8/KG4uZGVzdHJveUhvb2tzPVtdKSkucHVzaChpLHIub25EZXN0cm95KSk6cj1uLmRhdGFbaV07Y29uc3Qgcz1yLmZhY3Rvcnl8fChyLmZhY3Rvcnk9JHIoci50eXBlLCEwKSk7bGV0IG87Y29uc3QgYT1TdChvbyk7dHJ5e2NvbnN0IGM9X2MoITEpLHU9cygpO3JldHVybiBfYyhjKSxxTihuLFBlKCksaSx1KSx1fWZpbmFsbHl7U3QoYSl9fWZ1bmN0aW9uIFhOKHQsZSl7aWYoZSlmb3IobGV0IG49ZS5sZW5ndGgtMTtuPj0wO24tLSl7Y29uc3Qgcj1lW25dO2lmKHQ9PT1yLm5hbWUpcmV0dXJuIHJ9fWZ1bmN0aW9uIEVIKHQsZSxuKXtjb25zdCByPXQrWGUsaT1QZSgpLHM9a2IoaSxyKTtyZXR1cm4gWU4oaSxyKT9aTihpLFdiKCksZSxzLnRyYW5zZm9ybSxuLHMpOnMudHJhbnNmb3JtKG4pfWZ1bmN0aW9uIFlOKHQsZSl7cmV0dXJuIHRbaWVdLmRhdGFbZV0ucHVyZX1jbGFzcyB1SXtjb25zdHJ1Y3RvcihlKXt0aGlzLmZ1bGw9ZTtjb25zdCBuPWUuc3BsaXQoIi4iKTt0aGlzLm1ham9yPW5bMF0sdGhpcy5taW5vcj1uWzFdLHRoaXMucGF0Y2g9bi5zbGljZSgyKS5qb2luKCIuIil9fWNvbnN0IEpOPW5ldyB1SSgiMTcuMi4zIik7bGV0IGVrPSgoKT0+e3ZhciB0O2NsYXNzIGV7bG9nKHIpe2NvbnNvbGUubG9nKHIpfXdhcm4ocil7Y29uc29sZS53YXJuKHIpfX1yZXR1cm4gdD1lLHQuybVmYWM9ZnVuY3Rpb24ocil7cmV0dXJuIG5ldyhyfHx0KX0sdC7JtXByb3Y9cSh7dG9rZW46dCxmYWN0b3J5OnQuybVmYWMscHJvdmlkZWRJbjoicGxhdGZvcm0ifSksZX0pKCk7Y29uc3QgdGs9bmV3IHNlKCIiKTtmdW5jdGlvbiBFdSh0KXtyZXR1cm4hIXQmJnR5cGVvZiB0LnRoZW49PSJmdW5jdGlvbiJ9ZnVuY3Rpb24gbEkodCl7cmV0dXJuISF0JiZ0eXBlb2YgdC5zdWJzY3JpYmU9PSJmdW5jdGlvbiJ9Y29uc3Qgbms9bmV3IHNlKCIiKTtsZXQgaEk9KCgpPT57dmFyIHQ7Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuaW5pdGlhbGl6ZWQ9ITEsdGhpcy5kb25lPSExLHRoaXMuZG9uZVByb21pc2U9bmV3IFByb21pc2UoKHIsaSk9Pnt0aGlzLnJlc29sdmU9cix0aGlzLnJlamVjdD1pfSksdGhpcy5hcHBJbml0cz1iKG5rLHtvcHRpb25hbDohMH0pPz9bXX1ydW5Jbml0aWFsaXplcnMoKXtpZih0aGlzLmluaXRpYWxpemVkKXJldHVybjtjb25zdCByPVtdO2Zvcihjb25zdCBzIG9mIHRoaXMuYXBwSW5pdHMpe2NvbnN0IG89cygpO2lmKEV1KG8pKXIucHVzaChvKTtlbHNlIGlmKGxJKG8pKXtjb25zdCBhPW5ldyBQcm9taXNlKChjLHUpPT57by5zdWJzY3JpYmUoe2NvbXBsZXRlOmMsZXJyb3I6dX0pfSk7ci5wdXNoKGEpfX1jb25zdCBpPSgpPT57dGhpcy5kb25lPSEwLHRoaXMucmVzb2x2ZSgpfTtQcm9taXNlLmFsbChyKS50aGVuKCgpPT57aSgpfSkuY2F0Y2gocz0+e3RoaXMucmVqZWN0KHMpfSksci5sZW5ndGg9PT0wJiZpKCksdGhpcy5pbml0aWFsaXplZD0hMH19cmV0dXJuIHQ9ZSx0Lsm1ZmFjPWZ1bmN0aW9uKHIpe3JldHVybiBuZXcocnx8dCl9LHQuybVwcm92PXEoe3Rva2VuOnQsZmFjdG9yeTp0Lsm1ZmFjLHByb3ZpZGVkSW46InJvb3QifSksZX0pKCk7Y29uc3Qgd3U9bmV3IHNlKCIiKTtmdW5jdGlvbiByaygpe0pBKCgpPT57dGhyb3cgbmV3IFcoNjAwLCExKX0pfWZ1bmN0aW9uIGlrKHQpe3JldHVybiB0LmlzQm91bmRUb01vZHVsZX1mdW5jdGlvbiBzayh0LGUsbil7dHJ5e2NvbnN0IHI9bigpO3JldHVybiBFdShyKT9yLmNhdGNoKGk9Pnt0aHJvdyBlLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT50LmhhbmRsZUVycm9yKGkpKSxpfSk6cn1jYXRjaChyKXt0aHJvdyBlLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT50LmhhbmRsZUVycm9yKHIpKSxyfX1sZXQgV289KCgpPT57dmFyIHQ7Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2Jvb3RzdHJhcExpc3RlbmVycz1bXSx0aGlzLl9ydW5uaW5nVGljaz0hMSx0aGlzLl9kZXN0cm95ZWQ9ITEsdGhpcy5fZGVzdHJveUxpc3RlbmVycz1bXSx0aGlzLl92aWV3cz1bXSx0aGlzLmludGVybmFsRXJyb3JIYW5kbGVyPWIoSEUpLHRoaXMuYWZ0ZXJSZW5kZXJFZmZlY3RNYW5hZ2VyPWIoJHcpLHRoaXMuY29tcG9uZW50VHlwZXM9W10sdGhpcy5jb21wb25lbnRzPVtdLHRoaXMuaXNTdGFibGU9YihfdSkuaGFzUGVuZGluZ1Rhc2tzLnBpcGUoeWUocj0+IXIpKSx0aGlzLl9pbmplY3Rvcj1iKGpuKX1nZXQgZGVzdHJveWVkKCl7cmV0dXJuIHRoaXMuX2Rlc3Ryb3llZH1nZXQgaW5qZWN0b3IoKXtyZXR1cm4gdGhpcy5faW5qZWN0b3J9Ym9vdHN0cmFwKHIsaSl7Y29uc3Qgcz1yIGluc3RhbmNlb2YgRnc7aWYoIXRoaXMuX2luamVjdG9yLmdldChoSSkuZG9uZSl7Y29uc3QgZj0hcyYmRGIociksbT0hMTt0aHJvdyBuZXcgVyg0MDUsbSl9bGV0IGE7cz9hPXI6YT10aGlzLl9pbmplY3Rvci5nZXQodnUpLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KHIpLHRoaXMuY29tcG9uZW50VHlwZXMucHVzaChhLmNvbXBvbmVudFR5cGUpO2NvbnN0IGM9aWsoYSk/dm9pZCAwOnRoaXMuX2luamVjdG9yLmdldCh1byksdT1pfHxhLnNlbGVjdG9yLGw9YS5jcmVhdGUoV24uTlVMTCxbXSx1LGMpLGg9bC5sb2NhdGlvbi5uYXRpdmVFbGVtZW50LGQ9bC5pbmplY3Rvci5nZXQodGssbnVsbCk7cmV0dXJuIGQ/LnJlZ2lzdGVyQXBwbGljYXRpb24oaCksbC5vbkRlc3Ryb3koKCk9Pnt0aGlzLmRldGFjaFZpZXcobC5ob3N0VmlldyksTWwodGhpcy5jb21wb25lbnRzLGwpLGQ/LnVucmVnaXN0ZXJBcHBsaWNhdGlvbihoKX0pLHRoaXMuX2xvYWRDb21wb25lbnQobCksbH10aWNrKCl7aWYodGhpcy5fcnVubmluZ1RpY2spdGhyb3cgbmV3IFcoMTAxLCExKTt0cnl7dGhpcy5fcnVubmluZ1RpY2s9ITAsdGhpcy5kZXRlY3RDaGFuZ2VzSW5BdHRhY2hlZFZpZXdzKCl9Y2F0Y2gocil7dGhpcy5pbnRlcm5hbEVycm9ySGFuZGxlcihyKX1maW5hbGx5e3RoaXMuX3J1bm5pbmdUaWNrPSExfX1kZXRlY3RDaGFuZ2VzSW5BdHRhY2hlZFZpZXdzKCl7bGV0IHI9MDtjb25zdCBpPXRoaXMuYWZ0ZXJSZW5kZXJFZmZlY3RNYW5hZ2VyO2Zvcig7Oyl7aWYocj09PVB3KXRocm93IG5ldyBXKDEwMywhMSk7Y29uc3Qgcz1yPT09MDtmb3IobGV0e19sVmlldzpvLG5vdGlmeUVycm9ySGFuZGxlcjphfW9mIHRoaXMuX3ZpZXdzKSFzJiYhTmwobyl8fHRoaXMuZGV0ZWN0Q2hhbmdlc0luVmlldyhvLGEscyk7aWYocisrLGkuZXhlY3V0ZUludGVybmFsQ2FsbGJhY2tzKCksIXRoaXMuX3ZpZXdzLnNvbWUoKHtfbFZpZXc6b30pPT5ObChvKSkmJihpLmV4ZWN1dGUoKSwhdGhpcy5fdmlld3Muc29tZSgoe19sVmlldzpvfSk9Pk5sKG8pKSkpYnJlYWt9fWRldGVjdENoYW5nZXNJblZpZXcocixpLHMpe2xldCBvO3M/KG89MCxyW0ddfD0xMDI0KTpyW0ddJjY0P289MDpvPTEsTXcocixpLG8pfWF0dGFjaFZpZXcocil7Y29uc3QgaT1yO3RoaXMuX3ZpZXdzLnB1c2goaSksaS5hdHRhY2hUb0FwcFJlZih0aGlzKX1kZXRhY2hWaWV3KHIpe2NvbnN0IGk9cjtNbCh0aGlzLl92aWV3cyxpKSxpLmRldGFjaEZyb21BcHBSZWYoKX1fbG9hZENvbXBvbmVudChyKXt0aGlzLmF0dGFjaFZpZXcoci5ob3N0VmlldyksdGhpcy50aWNrKCksdGhpcy5jb21wb25lbnRzLnB1c2gocik7Y29uc3QgaT10aGlzLl9pbmplY3Rvci5nZXQod3UsW10pO1suLi50aGlzLl9ib290c3RyYXBMaXN0ZW5lcnMsLi4uaV0uZm9yRWFjaChzPT5zKHIpKX1uZ09uRGVzdHJveSgpe2lmKCF0aGlzLl9kZXN0cm95ZWQpdHJ5e3RoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnMuZm9yRWFjaChyPT5yKCkpLHRoaXMuX3ZpZXdzLnNsaWNlKCkuZm9yRWFjaChyPT5yLmRlc3Ryb3koKSl9ZmluYWxseXt0aGlzLl9kZXN0cm95ZWQ9ITAsdGhpcy5fdmlld3M9W10sdGhpcy5fYm9vdHN0cmFwTGlzdGVuZXJzPVtdLHRoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnM9W119fW9uRGVzdHJveShyKXtyZXR1cm4gdGhpcy5fZGVzdHJveUxpc3RlbmVycy5wdXNoKHIpLCgpPT5NbCh0aGlzLl9kZXN0cm95TGlzdGVuZXJzLHIpfWRlc3Ryb3koKXtpZih0aGlzLl9kZXN0cm95ZWQpdGhyb3cgbmV3IFcoNDA2LCExKTtjb25zdCByPXRoaXMuX2luamVjdG9yO3IuZGVzdHJveSYmIXIuZGVzdHJveWVkJiZyLmRlc3Ryb3koKX1nZXQgdmlld0NvdW50KCl7cmV0dXJuIHRoaXMuX3ZpZXdzLmxlbmd0aH13YXJuSWZEZXN0cm95ZWQoKXt9fXJldHVybiB0PWUsdC7JtWZhYz1mdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fHQpfSx0Lsm1cHJvdj1xKHt0b2tlbjp0LGZhY3Rvcnk6dC7JtWZhYyxwcm92aWRlZEluOiJyb290In0pLGV9KSgpO2Z1bmN0aW9uIE1sKHQsZSl7Y29uc3Qgbj10LmluZGV4T2YoZSk7bj4tMSYmdC5zcGxpY2UobiwxKX1sZXQgU2E7ZnVuY3Rpb24gZEkodCl7U2E/PyhTYT1uZXcgV2Vha01hcCk7Y29uc3QgZT1TYS5nZXQodCk7aWYoZSlyZXR1cm4gZTtjb25zdCBuPXQuaXNTdGFibGUucGlwZShmcihyPT5yKSkudG9Qcm9taXNlKCkudGhlbigoKT0+e30pO3JldHVybiBTYS5zZXQodCxuKSx0Lm9uRGVzdHJveSgoKT0+U2E/LmRlbGV0ZSh0KSksbn1mdW5jdGlvbiBObCh0KXtyZXR1cm4gYWYodCl9Y2xhc3Mgb2t7Y29uc3RydWN0b3IoZSxuKXt0aGlzLm5nTW9kdWxlRmFjdG9yeT1lLHRoaXMuY29tcG9uZW50RmFjdG9yaWVzPW59fWxldCBhaz0oKCk9Pnt2YXIgdDtjbGFzcyBle2NvbXBpbGVNb2R1bGVTeW5jKHIpe3JldHVybiBuZXcgbk4ocil9Y29tcGlsZU1vZHVsZUFzeW5jKHIpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5jb21waWxlTW9kdWxlU3luYyhyKSl9Y29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jKHIpe2NvbnN0IGk9dGhpcy5jb21waWxlTW9kdWxlU3luYyhyKSxzPU1fKHIpLG89SkUocy5kZWNsYXJhdGlvbnMpLnJlZHVjZSgoYSxjKT0+e2NvbnN0IHU9RnIoYyk7cmV0dXJuIHUmJmEucHVzaChuZXcgamYodSkpLGF9LFtdKTtyZXR1cm4gbmV3IG9rKGksbyl9Y29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNBc3luYyhyKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jKHIpKX1jbGVhckNhY2hlKCl7fWNsZWFyQ2FjaGVGb3Iocil7fWdldE1vZHVsZUlkKHIpe319cmV0dXJuIHQ9ZSx0Lsm1ZmFjPWZ1bmN0aW9uKHIpe3JldHVybiBuZXcocnx8dCl9LHQuybVwcm92PXEoe3Rva2VuOnQsZmFjdG9yeTp0Lsm1ZmFjLHByb3ZpZGVkSW46InJvb3QifSksZX0pKCksY2s9KCgpPT57dmFyIHQ7Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuem9uZT1iKE1lKSx0aGlzLmFwcGxpY2F0aW9uUmVmPWIoV28pfWluaXRpYWxpemUoKXt0aGlzLl9vbk1pY3JvdGFza0VtcHR5U3Vic2NyaXB0aW9ufHwodGhpcy5fb25NaWNyb3Rhc2tFbXB0eVN1YnNjcmlwdGlvbj10aGlzLnpvbmUub25NaWNyb3Rhc2tFbXB0eS5zdWJzY3JpYmUoe25leHQ6KCk9Pnt0aGlzLnpvbmUucnVuKCgpPT57dGhpcy5hcHBsaWNhdGlvblJlZi50aWNrKCl9KX19KSl9bmdPbkRlc3Ryb3koKXt0aGlzLl9vbk1pY3JvdGFza0VtcHR5U3Vic2NyaXB0aW9uPy51bnN1YnNjcmliZSgpfX1yZXR1cm4gdD1lLHQuybVmYWM9ZnVuY3Rpb24ocil7cmV0dXJuIG5ldyhyfHx0KX0sdC7JtXByb3Y9cSh7dG9rZW46dCxmYWN0b3J5OnQuybVmYWMscHJvdmlkZWRJbjoicm9vdCJ9KSxlfSkoKTtmdW5jdGlvbiB1ayh0KXtyZXR1cm5be3Byb3ZpZGU6TWUsdXNlRmFjdG9yeTp0fSx7cHJvdmlkZTpWaSxtdWx0aTohMCx1c2VGYWN0b3J5OigpPT57Y29uc3QgZT1iKGNrLHtvcHRpb25hbDohMH0pO3JldHVybigpPT5lLmluaXRpYWxpemUoKX19LHtwcm92aWRlOlZpLG11bHRpOiEwLHVzZUZhY3Rvcnk6KCk9Pntjb25zdCBlPWIoZmspO3JldHVybigpPT57ZS5pbml0aWFsaXplKCl9fX0se3Byb3ZpZGU6SEUsdXNlRmFjdG9yeTpsa31dfWZ1bmN0aW9uIGxrKCl7Y29uc3QgdD1iKE1lKSxlPWIoSnIpO3JldHVybiBuPT50LnJ1bk91dHNpZGVBbmd1bGFyKCgpPT5lLmhhbmRsZUVycm9yKG4pKX1mdW5jdGlvbiBoayh0KXtjb25zdCBlPXVrKCgpPT5uZXcgTWUoZGsodCkpKTtyZXR1cm4gaXMoW1tdLGVdKX1mdW5jdGlvbiBkayh0KXtyZXR1cm57ZW5hYmxlTG9uZ1N0YWNrVHJhY2U6ITEsc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbjp0Py5ldmVudENvYWxlc2Npbmc/PyExLHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uOnQ/LnJ1bkNvYWxlc2Npbmc/PyExfX1sZXQgZms9KCgpPT57dmFyIHQ7Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuc3Vic2NyaXB0aW9uPW5ldyBwbix0aGlzLmluaXRpYWxpemVkPSExLHRoaXMuem9uZT1iKE1lKSx0aGlzLnBlbmRpbmdUYXNrcz1iKF91KX1pbml0aWFsaXplKCl7aWYodGhpcy5pbml0aWFsaXplZClyZXR1cm47dGhpcy5pbml0aWFsaXplZD0hMDtsZXQgcj1udWxsOyF0aGlzLnpvbmUuaXNTdGFibGUmJiF0aGlzLnpvbmUuaGFzUGVuZGluZ01hY3JvdGFza3MmJiF0aGlzLnpvbmUuaGFzUGVuZGluZ01pY3JvdGFza3MmJihyPXRoaXMucGVuZGluZ1Rhc2tzLmFkZCgpKSx0aGlzLnpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9Pnt0aGlzLnN1YnNjcmlwdGlvbi5hZGQodGhpcy56b25lLm9uU3RhYmxlLnN1YnNjcmliZSgoKT0+e01lLmFzc2VydE5vdEluQW5ndWxhclpvbmUoKSxxdWV1ZU1pY3JvdGFzaygoKT0+e3IhPT1udWxsJiYhdGhpcy56b25lLmhhc1BlbmRpbmdNYWNyb3Rhc2tzJiYhdGhpcy56b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzJiYodGhpcy5wZW5kaW5nVGFza3MucmVtb3ZlKHIpLHI9bnVsbCl9KX0pKX0pLHRoaXMuc3Vic2NyaXB0aW9uLmFkZCh0aGlzLnpvbmUub25VbnN0YWJsZS5zdWJzY3JpYmUoKCk9PntNZS5hc3NlcnRJbkFuZ3VsYXJab25lKCkscj8/KHI9dGhpcy5wZW5kaW5nVGFza3MuYWRkKCkpfSkpfW5nT25EZXN0cm95KCl7dGhpcy5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKX19cmV0dXJuIHQ9ZSx0Lsm1ZmFjPWZ1bmN0aW9uKHIpe3JldHVybiBuZXcocnx8dCl9LHQuybVwcm92PXEoe3Rva2VuOnQsZmFjdG9yeTp0Lsm1ZmFjLHByb3ZpZGVkSW46InJvb3QifSksZX0pKCk7ZnVuY3Rpb24gcGsoKXtyZXR1cm4gdHlwZW9mICRsb2NhbGl6ZTwidSImJiRsb2NhbGl6ZS5sb2NhbGV8fEhofWNvbnN0IGZJPW5ldyBzZSgiIix7cHJvdmlkZWRJbjoicm9vdCIsZmFjdG9yeTooKT0+YihmSSx1ZS5PcHRpb25hbHx1ZS5Ta2lwU2VsZil8fHBrKCl9KSxwST1uZXcgc2UoIiIpO2xldCBxYT1udWxsO2Z1bmN0aW9uIGdrKHQ9W10sZSl7cmV0dXJuIFduLmNyZWF0ZSh7bmFtZTplLHByb3ZpZGVyczpbe3Byb3ZpZGU6X2YsdXNlVmFsdWU6InBsYXRmb3JtIn0se3Byb3ZpZGU6cEksdXNlVmFsdWU6bmV3IFNldChbKCk9PnFhPW51bGxdKX0sLi4udF19KX1mdW5jdGlvbiBtayh0PVtdKXtpZihxYSlyZXR1cm4gcWE7Y29uc3QgZT1nayh0KTtyZXR1cm4gcWE9ZSxyaygpLHlrKGUpLGV9ZnVuY3Rpb24geWsodCl7dC5nZXQockUsbnVsbCk/LmZvckVhY2gobj0+bigpKX1mdW5jdGlvbiB3SCgpe3JldHVybiExfWZ1bmN0aW9uIHZrKHQpe3RyeXtjb25zdHtyb290Q29tcG9uZW50OmUsYXBwUHJvdmlkZXJzOm4scGxhdGZvcm1Qcm92aWRlcnM6cn09dCxpPW1rKHIpLHM9W2hrKCksLi4ubnx8W11dLGE9bmV3IFF3KHtwcm92aWRlcnM6cyxwYXJlbnQ6aSxkZWJ1Z05hbWU6IiIscnVuRW52aXJvbm1lbnRJbml0aWFsaXplcnM6ITF9KS5pbmplY3RvcixjPWEuZ2V0KE1lKTtyZXR1cm4gYy5ydW4oKCk9PnthLnJlc29sdmVJbmplY3RvckluaXRpYWxpemVycygpO2NvbnN0IHU9YS5nZXQoSnIsbnVsbCk7bGV0IGw7Yy5ydW5PdXRzaWRlQW5ndWxhcigoKT0+e2w9Yy5vbkVycm9yLnN1YnNjcmliZSh7bmV4dDpmPT57dS5oYW5kbGVFcnJvcihmKX19KX0pO2NvbnN0IGg9KCk9PmEuZGVzdHJveSgpLGQ9aS5nZXQocEkpO3JldHVybiBkLmFkZChoKSxhLm9uRGVzdHJveSgoKT0+e2wudW5zdWJzY3JpYmUoKSxkLmRlbGV0ZShoKX0pLHNrKHUsYywoKT0+e2NvbnN0IGY9YS5nZXQoaEkpO3JldHVybiBmLnJ1bkluaXRpYWxpemVycygpLGYuZG9uZVByb21pc2UudGhlbigoKT0+e2NvbnN0IG09YS5nZXQoZkksSGgpO2pOKG18fEhoKTtjb25zdCB5PWEuZ2V0KFdvKTtyZXR1cm4gZSE9PXZvaWQgMCYmeS5ib290c3RyYXAoZSkseX0pfSl9KX1jYXRjaChlKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZSl9fWxldCBEbT0hMTtmdW5jdGlvbiBfaygpe0RtfHwoRG09ITAseEQoKSxVTigpLFdOKCksb04oKSxKTSgpLGRNKCksVFAoKSl9ZnVuY3Rpb24gRWsodCxlKXtyZXR1cm4gZEkodCl9ZnVuY3Rpb24gd2soKXtyZXR1cm4gaXMoW3twcm92aWRlOkVhLHVzZUZhY3Rvcnk6KCk9PntsZXQgdD0hMDtyZXR1cm4gSWEoKSYmKHQ9ISFiKHFvLHtvcHRpb25hbDohMH0pPy5nZXQocEUsbnVsbCkpLHQmJnRpKCJOZ0h5ZHJhdGlvbiIpLHR9fSx7cHJvdmlkZTpWaSx1c2VWYWx1ZTooKT0+e0lhKCkmJmIoRWEpJiYoSWsoKSxfaygpKX0sbXVsdGk6ITB9LHtwcm92aWRlOnpFLHVzZUZhY3Rvcnk6KCk9PklhKCkmJmIoRWEpfSx7cHJvdmlkZTp3dSx1c2VGYWN0b3J5OigpPT57aWYoSWEoKSYmYihFYSkpe2NvbnN0IHQ9YihXbyksZT1iKFduKTtyZXR1cm4oKT0+e0VrKHQsZSkudGhlbigoKT0+e01lLmFzc2VydEluQW5ndWxhclpvbmUoKSxpTSh0KX0pfX1yZXR1cm4oKT0+e319LG11bHRpOiEwfV0pfWZ1bmN0aW9uIElrKCl7Y29uc3QgdD1IbygpO2xldCBlO2Zvcihjb25zdCBuIG9mIHQuYm9keS5jaGlsZE5vZGVzKWlmKG4ubm9kZVR5cGU9PT1Ob2RlLkNPTU1FTlRfTk9ERSYmbi50ZXh0Q29udGVudD8udHJpbSgpPT09a0Qpe2U9bjticmVha31pZighZSl0aHJvdyBuZXcgVygtNTA3LCExKX1sZXQgZ0k9bnVsbDtmdW5jdGlvbiBDaSgpe3JldHVybiBnSX1mdW5jdGlvbiBUayh0KXtnST8/KGdJPXQpfWNsYXNzIFNre31jb25zdCBrdD1uZXcgc2UoIiIpO2xldCBtST0oKCk9Pnt2YXIgdDtjbGFzcyBle2hpc3RvcnlHbyhyKXt0aHJvdyBuZXcgRXJyb3IoIiIpfX1yZXR1cm4gdD1lLHQuybVmYWM9ZnVuY3Rpb24ocil7cmV0dXJuIG5ldyhyfHx0KX0sdC7JtXByb3Y9cSh7dG9rZW46dCxmYWN0b3J5OigpPT5iKENrKSxwcm92aWRlZEluOiJwbGF0Zm9ybSJ9KSxlfSkoKSxDaz0oKCk9Pnt2YXIgdDtjbGFzcyBlIGV4dGVuZHMgbUl7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuX2RvYz1iKGt0KSx0aGlzLl9sb2NhdGlvbj13aW5kb3cubG9jYXRpb24sdGhpcy5faGlzdG9yeT13aW5kb3cuaGlzdG9yeX1nZXRCYXNlSHJlZkZyb21ET00oKXtyZXR1cm4gQ2koKS5nZXRCYXNlSHJlZih0aGlzLl9kb2MpfW9uUG9wU3RhdGUocil7Y29uc3QgaT1DaSgpLmdldEdsb2JhbEV2ZW50VGFyZ2V0KHRoaXMuX2RvYywid2luZG93Iik7cmV0dXJuIGkuYWRkRXZlbnRMaXN0ZW5lcigicG9wc3RhdGUiLHIsITEpLCgpPT5pLnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvcHN0YXRlIixyKX1vbkhhc2hDaGFuZ2Uocil7Y29uc3QgaT1DaSgpLmdldEdsb2JhbEV2ZW50VGFyZ2V0KHRoaXMuX2RvYywid2luZG93Iik7cmV0dXJuIGkuYWRkRXZlbnRMaXN0ZW5lcigiaGFzaGNoYW5nZSIsciwhMSksKCk9PmkucmVtb3ZlRXZlbnRMaXN0ZW5lcigiaGFzaGNoYW5nZSIscil9Z2V0IGhyZWYoKXtyZXR1cm4gdGhpcy5fbG9jYXRpb24uaHJlZn1nZXQgcHJvdG9jb2woKXtyZXR1cm4gdGhpcy5fbG9jYXRpb24ucHJvdG9jb2x9Z2V0IGhvc3RuYW1lKCl7cmV0dXJuIHRoaXMuX2xvY2F0aW9uLmhvc3RuYW1lfWdldCBwb3J0KCl7cmV0dXJuIHRoaXMuX2xvY2F0aW9uLnBvcnR9Z2V0IHBhdGhuYW1lKCl7cmV0dXJuIHRoaXMuX2xvY2F0aW9uLnBhdGhuYW1lfWdldCBzZWFyY2goKXtyZXR1cm4gdGhpcy5fbG9jYXRpb24uc2VhcmNofWdldCBoYXNoKCl7cmV0dXJuIHRoaXMuX2xvY2F0aW9uLmhhc2h9c2V0IHBhdGhuYW1lKHIpe3RoaXMuX2xvY2F0aW9uLnBhdGhuYW1lPXJ9cHVzaFN0YXRlKHIsaSxzKXt0aGlzLl9oaXN0b3J5LnB1c2hTdGF0ZShyLGkscyl9cmVwbGFjZVN0YXRlKHIsaSxzKXt0aGlzLl9oaXN0b3J5LnJlcGxhY2VTdGF0ZShyLGkscyl9Zm9yd2FyZCgpe3RoaXMuX2hpc3RvcnkuZm9yd2FyZCgpfWJhY2soKXt0aGlzLl9oaXN0b3J5LmJhY2soKX1oaXN0b3J5R28ocj0wKXt0aGlzLl9oaXN0b3J5LmdvKHIpfWdldFN0YXRlKCl7cmV0dXJuIHRoaXMuX2hpc3Rvcnkuc3RhdGV9fXJldHVybiB0PWUsdC7JtWZhYz1mdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fHQpfSx0Lsm1cHJvdj1xKHt0b2tlbjp0LGZhY3Rvcnk6KCk9Pm5ldyB0LHByb3ZpZGVkSW46InBsYXRmb3JtIn0pLGV9KSgpO2Z1bmN0aW9uIHlJKHQsZSl7aWYodC5sZW5ndGg9PTApcmV0dXJuIGU7aWYoZS5sZW5ndGg9PTApcmV0dXJuIHQ7bGV0IG49MDtyZXR1cm4gdC5lbmRzV2l0aCgiLyIpJiZuKyssZS5zdGFydHNXaXRoKCIvIikmJm4rKyxuPT0yP3QrZS5zdWJzdHJpbmcoMSk6bj09MT90K2U6dCsiLyIrZX1mdW5jdGlvbiBQbSh0KXtjb25zdCBlPXQubWF0Y2goLyN8XD98JC8pLG49ZSYmZS5pbmRleHx8dC5sZW5ndGgscj1uLSh0W24tMV09PT0iLyI/MTowKTtyZXR1cm4gdC5zbGljZSgwLHIpK3Quc2xpY2Uobil9ZnVuY3Rpb24gYnIodCl7cmV0dXJuIHQmJnRbMF0hPT0iPyI/Ij8iK3Q6dH1sZXQgSGY9KCgpPT57dmFyIHQ7Y2xhc3MgZXtoaXN0b3J5R28ocil7dGhyb3cgbmV3IEVycm9yKCIiKX19cmV0dXJuIHQ9ZSx0Lsm1ZmFjPWZ1bmN0aW9uKHIpe3JldHVybiBuZXcocnx8dCl9LHQuybVwcm92PXEoe3Rva2VuOnQsZmFjdG9yeTooKT0+YihSaykscHJvdmlkZWRJbjoicm9vdCJ9KSxlfSkoKTtjb25zdCBBaz1uZXcgc2UoIiIpO2xldCBSaz0oKCk9Pnt2YXIgdDtjbGFzcyBlIGV4dGVuZHMgSGZ7Y29uc3RydWN0b3IocixpKXtzdXBlcigpLHRoaXMuX3BsYXRmb3JtTG9jYXRpb249cix0aGlzLl9yZW1vdmVMaXN0ZW5lckZucz1bXSx0aGlzLl9iYXNlSHJlZj1pPz90aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmdldEJhc2VIcmVmRnJvbURPTSgpPz9iKGt0KS5sb2NhdGlvbj8ub3JpZ2luPz8iIn1uZ09uRGVzdHJveSgpe2Zvcig7dGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnMubGVuZ3RoOyl0aGlzLl9yZW1vdmVMaXN0ZW5lckZucy5wb3AoKSgpfW9uUG9wU3RhdGUocil7dGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnMucHVzaCh0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLm9uUG9wU3RhdGUociksdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5vbkhhc2hDaGFuZ2UocikpfWdldEJhc2VIcmVmKCl7cmV0dXJuIHRoaXMuX2Jhc2VIcmVmfXByZXBhcmVFeHRlcm5hbFVybChyKXtyZXR1cm4geUkodGhpcy5fYmFzZUhyZWYscil9cGF0aChyPSExKXtjb25zdCBpPXRoaXMuX3BsYXRmb3JtTG9jYXRpb24ucGF0aG5hbWUrYnIodGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5zZWFyY2gpLHM9dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5oYXNoO3JldHVybiBzJiZyP2Ake2l9JHtzfWA6aX1wdXNoU3RhdGUocixpLHMsbyl7Y29uc3QgYT10aGlzLnByZXBhcmVFeHRlcm5hbFVybChzK2JyKG8pKTt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnB1c2hTdGF0ZShyLGksYSl9cmVwbGFjZVN0YXRlKHIsaSxzLG8pe2NvbnN0IGE9dGhpcy5wcmVwYXJlRXh0ZXJuYWxVcmwocyticihvKSk7dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5yZXBsYWNlU3RhdGUocixpLGEpfWZvcndhcmQoKXt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmZvcndhcmQoKX1iYWNrKCl7dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5iYWNrKCl9Z2V0U3RhdGUoKXtyZXR1cm4gdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5nZXRTdGF0ZSgpfWhpc3RvcnlHbyhyPTApe3RoaXMuX3BsYXRmb3JtTG9jYXRpb24uaGlzdG9yeUdvPy4ocil9fXJldHVybiB0PWUsdC7JtWZhYz1mdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fHQpKHRlKG1JKSx0ZShBayw4KSl9LHQuybVwcm92PXEoe3Rva2VuOnQsZmFjdG9yeTp0Lsm1ZmFjLHByb3ZpZGVkSW46InJvb3QifSksZX0pKCksSXU9KCgpPT57dmFyIHQ7Y2xhc3MgZXtjb25zdHJ1Y3RvcihyKXt0aGlzLl9zdWJqZWN0PW5ldyBBbix0aGlzLl91cmxDaGFuZ2VMaXN0ZW5lcnM9W10sdGhpcy5fdXJsQ2hhbmdlU3Vic2NyaXB0aW9uPW51bGwsdGhpcy5fbG9jYXRpb25TdHJhdGVneT1yO2NvbnN0IGk9dGhpcy5fbG9jYXRpb25TdHJhdGVneS5nZXRCYXNlSHJlZigpO3RoaXMuX2Jhc2VQYXRoPVBrKFBtKE1tKGkpKSksdGhpcy5fbG9jYXRpb25TdHJhdGVneS5vblBvcFN0YXRlKHM9Pnt0aGlzLl9zdWJqZWN0LmVtaXQoe3VybDp0aGlzLnBhdGgoITApLHBvcDohMCxzdGF0ZTpzLnN0YXRlLHR5cGU6cy50eXBlfSl9KX1uZ09uRGVzdHJveSgpe3RoaXMuX3VybENoYW5nZVN1YnNjcmlwdGlvbj8udW5zdWJzY3JpYmUoKSx0aGlzLl91cmxDaGFuZ2VMaXN0ZW5lcnM9W119cGF0aChyPSExKXtyZXR1cm4gdGhpcy5ub3JtYWxpemUodGhpcy5fbG9jYXRpb25TdHJhdGVneS5wYXRoKHIpKX1nZXRTdGF0ZSgpe3JldHVybiB0aGlzLl9sb2NhdGlvblN0cmF0ZWd5LmdldFN0YXRlKCl9aXNDdXJyZW50UGF0aEVxdWFsVG8ocixpPSIiKXtyZXR1cm4gdGhpcy5wYXRoKCk9PXRoaXMubm9ybWFsaXplKHIrYnIoaSkpfW5vcm1hbGl6ZShyKXtyZXR1cm4gZS5zdHJpcFRyYWlsaW5nU2xhc2goRGsodGhpcy5fYmFzZVBhdGgsTW0ocikpKX1wcmVwYXJlRXh0ZXJuYWxVcmwocil7cmV0dXJuIHImJnJbMF0hPT0iLyImJihyPSIvIityKSx0aGlzLl9sb2NhdGlvblN0cmF0ZWd5LnByZXBhcmVFeHRlcm5hbFVybChyKX1nbyhyLGk9IiIscz1udWxsKXt0aGlzLl9sb2NhdGlvblN0cmF0ZWd5LnB1c2hTdGF0ZShzLCIiLHIsaSksdGhpcy5fbm90aWZ5VXJsQ2hhbmdlTGlzdGVuZXJzKHRoaXMucHJlcGFyZUV4dGVybmFsVXJsKHIrYnIoaSkpLHMpfXJlcGxhY2VTdGF0ZShyLGk9IiIscz1udWxsKXt0aGlzLl9sb2NhdGlvblN0cmF0ZWd5LnJlcGxhY2VTdGF0ZShzLCIiLHIsaSksdGhpcy5fbm90aWZ5VXJsQ2hhbmdlTGlzdGVuZXJzKHRoaXMucHJlcGFyZUV4dGVybmFsVXJsKHIrYnIoaSkpLHMpfWZvcndhcmQoKXt0aGlzLl9sb2NhdGlvblN0cmF0ZWd5LmZvcndhcmQoKX1iYWNrKCl7dGhpcy5fbG9jYXRpb25TdHJhdGVneS5iYWNrKCl9aGlzdG9yeUdvKHI9MCl7dGhpcy5fbG9jYXRpb25TdHJhdGVneS5oaXN0b3J5R28/LihyKX1vblVybENoYW5nZShyKXtyZXR1cm4gdGhpcy5fdXJsQ2hhbmdlTGlzdGVuZXJzLnB1c2gociksdGhpcy5fdXJsQ2hhbmdlU3Vic2NyaXB0aW9uPz8odGhpcy5fdXJsQ2hhbmdlU3Vic2NyaXB0aW9uPXRoaXMuc3Vic2NyaWJlKGk9Pnt0aGlzLl9ub3RpZnlVcmxDaGFuZ2VMaXN0ZW5lcnMoaS51cmwsaS5zdGF0ZSl9KSksKCk9Pntjb25zdCBpPXRoaXMuX3VybENoYW5nZUxpc3RlbmVycy5pbmRleE9mKHIpO3RoaXMuX3VybENoYW5nZUxpc3RlbmVycy5zcGxpY2UoaSwxKSx0aGlzLl91cmxDaGFuZ2VMaXN0ZW5lcnMubGVuZ3RoPT09MCYmKHRoaXMuX3VybENoYW5nZVN1YnNjcmlwdGlvbj8udW5zdWJzY3JpYmUoKSx0aGlzLl91cmxDaGFuZ2VTdWJzY3JpcHRpb249bnVsbCl9fV9ub3RpZnlVcmxDaGFuZ2VMaXN0ZW5lcnMocj0iIixpKXt0aGlzLl91cmxDaGFuZ2VMaXN0ZW5lcnMuZm9yRWFjaChzPT5zKHIsaSkpfXN1YnNjcmliZShyLGkscyl7cmV0dXJuIHRoaXMuX3N1YmplY3Quc3Vic2NyaWJlKHtuZXh0OnIsZXJyb3I6aSxjb21wbGV0ZTpzfSl9fXJldHVybiB0PWUsdC5ub3JtYWxpemVRdWVyeVBhcmFtcz1icix0LmpvaW5XaXRoU2xhc2g9eUksdC5zdHJpcFRyYWlsaW5nU2xhc2g9UG0sdC7JtWZhYz1mdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fHQpKHRlKEhmKSl9LHQuybVwcm92PXEoe3Rva2VuOnQsZmFjdG9yeTooKT0+YmsoKSxwcm92aWRlZEluOiJyb290In0pLGV9KSgpO2Z1bmN0aW9uIGJrKCl7cmV0dXJuIG5ldyBJdSh0ZShIZikpfWZ1bmN0aW9uIERrKHQsZSl7aWYoIXR8fCFlLnN0YXJ0c1dpdGgodCkpcmV0dXJuIGU7Y29uc3Qgbj1lLnN1YnN0cmluZyh0Lmxlbmd0aCk7cmV0dXJuIG49PT0iInx8WyIvIiwiOyIsIj8iLCIjIl0uaW5jbHVkZXMoblswXSk/bjplfWZ1bmN0aW9uIE1tKHQpe3JldHVybiB0LnJlcGxhY2UoL1wvaW5kZXguaHRtbCQvLCIiKX1mdW5jdGlvbiBQayh0KXtpZihuZXcgUmVnRXhwKCJeKGh0dHBzPzopPy8vIikudGVzdCh0KSl7Y29uc3RbLG5dPXQuc3BsaXQoL1wvXC9bXlwvXSsvKTtyZXR1cm4gbn1yZXR1cm4gdH1mdW5jdGlvbiB2SSh0LGUpe2U9ZW5jb2RlVVJJQ29tcG9uZW50KGUpO2Zvcihjb25zdCBuIG9mIHQuc3BsaXQoIjsiKSl7Y29uc3Qgcj1uLmluZGV4T2YoIj0iKSxbaSxzXT1yPT0tMT9bbiwiIl06W24uc2xpY2UoMCxyKSxuLnNsaWNlKHIrMSldO2lmKGkudHJpbSgpPT09ZSlyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHMpfXJldHVybiBudWxsfWNvbnN0IGtsPS9ccysvLE5tPVtdO2xldCBJSD0oKCk9Pnt2YXIgdDtjbGFzcyBle2NvbnN0cnVjdG9yKHIsaSl7dGhpcy5fbmdFbD1yLHRoaXMuX3JlbmRlcmVyPWksdGhpcy5pbml0aWFsQ2xhc3Nlcz1ObSx0aGlzLnN0YXRlTWFwPW5ldyBNYXB9c2V0IGtsYXNzKHIpe3RoaXMuaW5pdGlhbENsYXNzZXM9ciE9bnVsbD9yLnRyaW0oKS5zcGxpdChrbCk6Tm19c2V0IG5nQ2xhc3Mocil7dGhpcy5yYXdDbGFzcz10eXBlb2Ygcj09InN0cmluZyI/ci50cmltKCkuc3BsaXQoa2wpOnJ9bmdEb0NoZWNrKCl7Zm9yKGNvbnN0IGkgb2YgdGhpcy5pbml0aWFsQ2xhc3Nlcyl0aGlzLl91cGRhdGVTdGF0ZShpLCEwKTtjb25zdCByPXRoaXMucmF3Q2xhc3M7aWYoQXJyYXkuaXNBcnJheShyKXx8ciBpbnN0YW5jZW9mIFNldClmb3IoY29uc3QgaSBvZiByKXRoaXMuX3VwZGF0ZVN0YXRlKGksITApO2Vsc2UgaWYociE9bnVsbClmb3IoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhyKSl0aGlzLl91cGRhdGVTdGF0ZShpLCEhcltpXSk7dGhpcy5fYXBwbHlTdGF0ZURpZmYoKX1fdXBkYXRlU3RhdGUocixpKXtjb25zdCBzPXRoaXMuc3RhdGVNYXAuZ2V0KHIpO3MhPT12b2lkIDA/KHMuZW5hYmxlZCE9PWkmJihzLmNoYW5nZWQ9ITAscy5lbmFibGVkPWkpLHMudG91Y2hlZD0hMCk6dGhpcy5zdGF0ZU1hcC5zZXQocix7ZW5hYmxlZDppLGNoYW5nZWQ6ITAsdG91Y2hlZDohMH0pfV9hcHBseVN0YXRlRGlmZigpe2Zvcihjb25zdCByIG9mIHRoaXMuc3RhdGVNYXApe2NvbnN0IGk9clswXSxzPXJbMV07cy5jaGFuZ2VkPyh0aGlzLl90b2dnbGVDbGFzcyhpLHMuZW5hYmxlZCkscy5jaGFuZ2VkPSExKTpzLnRvdWNoZWR8fChzLmVuYWJsZWQmJnRoaXMuX3RvZ2dsZUNsYXNzKGksITEpLHRoaXMuc3RhdGVNYXAuZGVsZXRlKGkpKSxzLnRvdWNoZWQ9ITF9fV90b2dnbGVDbGFzcyhyLGkpe3I9ci50cmltKCksci5sZW5ndGg+MCYmci5zcGxpdChrbCkuZm9yRWFjaChzPT57aT90aGlzLl9yZW5kZXJlci5hZGRDbGFzcyh0aGlzLl9uZ0VsLm5hdGl2ZUVsZW1lbnQscyk6dGhpcy5fcmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5fbmdFbC5uYXRpdmVFbGVtZW50LHMpfSl9fXJldHVybiB0PWUsdC7JtWZhYz1mdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fHQpKG9vKFhfKSxvbyh2TSkpfSx0Lsm1ZGlyPURfKHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsIm5nQ2xhc3MiLCIiXV0saW5wdXRzOntrbGFzczpbVnIuTm9uZSwiY2xhc3MiLCJrbGFzcyJdLG5nQ2xhc3M6Im5nQ2xhc3MifSxzdGFuZGFsb25lOiEwfSksZX0pKCk7ZnVuY3Rpb24gTWsodCxlKXtyZXR1cm4gbmV3IFcoMjEwMCwhMSl9Y2xhc3MgTmt7Y3JlYXRlU3Vic2NyaXB0aW9uKGUsbil7cmV0dXJuIGdtKCgpPT5lLnN1YnNjcmliZSh7bmV4dDpuLGVycm9yOnI9Pnt0aHJvdyByfX0pKX1kaXNwb3NlKGUpe2dtKCgpPT5lLnVuc3Vic2NyaWJlKCkpfX1jbGFzcyBra3tjcmVhdGVTdWJzY3JpcHRpb24oZSxuKXtyZXR1cm4gZS50aGVuKG4scj0+e3Rocm93IHJ9KX1kaXNwb3NlKGUpe319Y29uc3QgT2s9bmV3IGtrLHhrPW5ldyBOaztsZXQgVEg9KCgpPT57dmFyIHQ7Y2xhc3MgZXtjb25zdHJ1Y3RvcihyKXt0aGlzLl9sYXRlc3RWYWx1ZT1udWxsLHRoaXMubWFya0ZvckNoZWNrT25WYWx1ZVVwZGF0ZT0hMCx0aGlzLl9zdWJzY3JpcHRpb249bnVsbCx0aGlzLl9vYmo9bnVsbCx0aGlzLl9zdHJhdGVneT1udWxsLHRoaXMuX3JlZj1yfW5nT25EZXN0cm95KCl7dGhpcy5fc3Vic2NyaXB0aW9uJiZ0aGlzLl9kaXNwb3NlKCksdGhpcy5fcmVmPW51bGx9dHJhbnNmb3JtKHIpe2lmKCF0aGlzLl9vYmope2lmKHIpdHJ5e3RoaXMubWFya0ZvckNoZWNrT25WYWx1ZVVwZGF0ZT0hMSx0aGlzLl9zdWJzY3JpYmUocil9ZmluYWxseXt0aGlzLm1hcmtGb3JDaGVja09uVmFsdWVVcGRhdGU9ITB9cmV0dXJuIHRoaXMuX2xhdGVzdFZhbHVlfXJldHVybiByIT09dGhpcy5fb2JqPyh0aGlzLl9kaXNwb3NlKCksdGhpcy50cmFuc2Zvcm0ocikpOnRoaXMuX2xhdGVzdFZhbHVlfV9zdWJzY3JpYmUocil7dGhpcy5fb2JqPXIsdGhpcy5fc3RyYXRlZ3k9dGhpcy5fc2VsZWN0U3RyYXRlZ3kociksdGhpcy5fc3Vic2NyaXB0aW9uPXRoaXMuX3N0cmF0ZWd5LmNyZWF0ZVN1YnNjcmlwdGlvbihyLGk9PnRoaXMuX3VwZGF0ZUxhdGVzdFZhbHVlKHIsaSkpfV9zZWxlY3RTdHJhdGVneShyKXtpZihFdShyKSlyZXR1cm4gT2s7aWYobEkocikpcmV0dXJuIHhrO3Rocm93IE1rKGUscil9X2Rpc3Bvc2UoKXt0aGlzLl9zdHJhdGVneS5kaXNwb3NlKHRoaXMuX3N1YnNjcmlwdGlvbiksdGhpcy5fbGF0ZXN0VmFsdWU9bnVsbCx0aGlzLl9zdWJzY3JpcHRpb249bnVsbCx0aGlzLl9vYmo9bnVsbH1fdXBkYXRlTGF0ZXN0VmFsdWUocixpKXtyPT09dGhpcy5fb2JqJiYodGhpcy5fbGF0ZXN0VmFsdWU9aSx0aGlzLm1hcmtGb3JDaGVja09uVmFsdWVVcGRhdGUmJnRoaXMuX3JlZj8ubWFya0ZvckNoZWNrKCkpfX1yZXR1cm4gdD1lLHQuybVmYWM9ZnVuY3Rpb24ocil7cmV0dXJuIG5ldyhyfHx0KShvbyhGZiwxNikpfSx0Lsm1cGlwZT1iYih7bmFtZToiYXN5bmMiLHR5cGU6dCxwdXJlOiExLHN0YW5kYWxvbmU6ITB9KSxlfSkoKSxTSD0oKCk9Pnt2YXIgdDtjbGFzcyBle31yZXR1cm4gdD1lLHQuybVmYWM9ZnVuY3Rpb24ocil7cmV0dXJuIG5ldyhyfHx0KX0sdC7JtW1vZD10dSh7dHlwZTp0fSksdC7JtWluaj1hdSh7fSksZX0pKCk7Y29uc3QgX0k9ImJyb3dzZXIiLExrPSJzZXJ2ZXIiO2Z1bmN0aW9uIENIKHQpe3JldHVybiB0PT09X0l9ZnVuY3Rpb24gRUkodCl7cmV0dXJuIHQ9PT1Ma31jbGFzcyB3SXt9Y2xhc3MgcWZ7fWNsYXNzIHpme31jbGFzcyBVdHtjb25zdHJ1Y3RvcihlKXt0aGlzLm5vcm1hbGl6ZWROYW1lcz1uZXcgTWFwLHRoaXMubGF6eVVwZGF0ZT1udWxsLGU/dHlwZW9mIGU9PSJzdHJpbmciP3RoaXMubGF6eUluaXQ9KCk9Pnt0aGlzLmhlYWRlcnM9bmV3IE1hcCxlLnNwbGl0KGAKYCkuZm9yRWFjaChuPT57Y29uc3Qgcj1uLmluZGV4T2YoIjoiKTtpZihyPjApe2NvbnN0IGk9bi5zbGljZSgwLHIpLHM9aS50b0xvd2VyQ2FzZSgpLG89bi5zbGljZShyKzEpLnRyaW0oKTt0aGlzLm1heWJlU2V0Tm9ybWFsaXplZE5hbWUoaSxzKSx0aGlzLmhlYWRlcnMuaGFzKHMpP3RoaXMuaGVhZGVycy5nZXQocykucHVzaChvKTp0aGlzLmhlYWRlcnMuc2V0KHMsW29dKX19KX06dHlwZW9mIEhlYWRlcnM8InUiJiZlIGluc3RhbmNlb2YgSGVhZGVycz8odGhpcy5oZWFkZXJzPW5ldyBNYXAsZS5mb3JFYWNoKChuLHIpPT57dGhpcy5zZXRIZWFkZXJFbnRyaWVzKHIsbil9KSk6dGhpcy5sYXp5SW5pdD0oKT0+e3RoaXMuaGVhZGVycz1uZXcgTWFwLE9iamVjdC5lbnRyaWVzKGUpLmZvckVhY2goKFtuLHJdKT0+e3RoaXMuc2V0SGVhZGVyRW50cmllcyhuLHIpfSl9OnRoaXMuaGVhZGVycz1uZXcgTWFwfWhhcyhlKXtyZXR1cm4gdGhpcy5pbml0KCksdGhpcy5oZWFkZXJzLmhhcyhlLnRvTG93ZXJDYXNlKCkpfWdldChlKXt0aGlzLmluaXQoKTtjb25zdCBuPXRoaXMuaGVhZGVycy5nZXQoZS50b0xvd2VyQ2FzZSgpKTtyZXR1cm4gbiYmbi5sZW5ndGg+MD9uWzBdOm51bGx9a2V5cygpe3JldHVybiB0aGlzLmluaXQoKSxBcnJheS5mcm9tKHRoaXMubm9ybWFsaXplZE5hbWVzLnZhbHVlcygpKX1nZXRBbGwoZSl7cmV0dXJuIHRoaXMuaW5pdCgpLHRoaXMuaGVhZGVycy5nZXQoZS50b0xvd2VyQ2FzZSgpKXx8bnVsbH1hcHBlbmQoZSxuKXtyZXR1cm4gdGhpcy5jbG9uZSh7bmFtZTplLHZhbHVlOm4sb3A6ImEifSl9c2V0KGUsbil7cmV0dXJuIHRoaXMuY2xvbmUoe25hbWU6ZSx2YWx1ZTpuLG9wOiJzIn0pfWRlbGV0ZShlLG4pe3JldHVybiB0aGlzLmNsb25lKHtuYW1lOmUsdmFsdWU6bixvcDoiZCJ9KX1tYXliZVNldE5vcm1hbGl6ZWROYW1lKGUsbil7dGhpcy5ub3JtYWxpemVkTmFtZXMuaGFzKG4pfHx0aGlzLm5vcm1hbGl6ZWROYW1lcy5zZXQobixlKX1pbml0KCl7dGhpcy5sYXp5SW5pdCYmKHRoaXMubGF6eUluaXQgaW5zdGFuY2VvZiBVdD90aGlzLmNvcHlGcm9tKHRoaXMubGF6eUluaXQpOnRoaXMubGF6eUluaXQoKSx0aGlzLmxhenlJbml0PW51bGwsdGhpcy5sYXp5VXBkYXRlJiYodGhpcy5sYXp5VXBkYXRlLmZvckVhY2goZT0+dGhpcy5hcHBseVVwZGF0ZShlKSksdGhpcy5sYXp5VXBkYXRlPW51bGwpKX1jb3B5RnJvbShlKXtlLmluaXQoKSxBcnJheS5mcm9tKGUuaGVhZGVycy5rZXlzKCkpLmZvckVhY2gobj0+e3RoaXMuaGVhZGVycy5zZXQobixlLmhlYWRlcnMuZ2V0KG4pKSx0aGlzLm5vcm1hbGl6ZWROYW1lcy5zZXQobixlLm5vcm1hbGl6ZWROYW1lcy5nZXQobikpfSl9Y2xvbmUoZSl7Y29uc3Qgbj1uZXcgVXQ7cmV0dXJuIG4ubGF6eUluaXQ9dGhpcy5sYXp5SW5pdCYmdGhpcy5sYXp5SW5pdCBpbnN0YW5jZW9mIFV0P3RoaXMubGF6eUluaXQ6dGhpcyxuLmxhenlVcGRhdGU9KHRoaXMubGF6eVVwZGF0ZXx8W10pLmNvbmNhdChbZV0pLG59YXBwbHlVcGRhdGUoZSl7Y29uc3Qgbj1lLm5hbWUudG9Mb3dlckNhc2UoKTtzd2l0Y2goZS5vcCl7Y2FzZSJhIjpjYXNlInMiOmxldCByPWUudmFsdWU7aWYodHlwZW9mIHI9PSJzdHJpbmciJiYocj1bcl0pLHIubGVuZ3RoPT09MClyZXR1cm47dGhpcy5tYXliZVNldE5vcm1hbGl6ZWROYW1lKGUubmFtZSxuKTtjb25zdCBpPShlLm9wPT09ImEiP3RoaXMuaGVhZGVycy5nZXQobik6dm9pZCAwKXx8W107aS5wdXNoKC4uLnIpLHRoaXMuaGVhZGVycy5zZXQobixpKTticmVhaztjYXNlImQiOmNvbnN0IHM9ZS52YWx1ZTtpZighcyl0aGlzLmhlYWRlcnMuZGVsZXRlKG4pLHRoaXMubm9ybWFsaXplZE5hbWVzLmRlbGV0ZShuKTtlbHNle2xldCBvPXRoaXMuaGVhZGVycy5nZXQobik7aWYoIW8pcmV0dXJuO289by5maWx0ZXIoYT0+cy5pbmRleE9mKGEpPT09LTEpLG8ubGVuZ3RoPT09MD8odGhpcy5oZWFkZXJzLmRlbGV0ZShuKSx0aGlzLm5vcm1hbGl6ZWROYW1lcy5kZWxldGUobikpOnRoaXMuaGVhZGVycy5zZXQobixvKX1icmVha319c2V0SGVhZGVyRW50cmllcyhlLG4pe2NvbnN0IHI9KEFycmF5LmlzQXJyYXkobik/bjpbbl0pLm1hcChzPT5zLnRvU3RyaW5nKCkpLGk9ZS50b0xvd2VyQ2FzZSgpO3RoaXMuaGVhZGVycy5zZXQoaSxyKSx0aGlzLm1heWJlU2V0Tm9ybWFsaXplZE5hbWUoZSxpKX1mb3JFYWNoKGUpe3RoaXMuaW5pdCgpLEFycmF5LmZyb20odGhpcy5ub3JtYWxpemVkTmFtZXMua2V5cygpKS5mb3JFYWNoKG49PmUodGhpcy5ub3JtYWxpemVkTmFtZXMuZ2V0KG4pLHRoaXMuaGVhZGVycy5nZXQobikpKX19Y2xhc3MgVmt7ZW5jb2RlS2V5KGUpe3JldHVybiBrbShlKX1lbmNvZGVWYWx1ZShlKXtyZXR1cm4ga20oZSl9ZGVjb2RlS2V5KGUpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZSl9ZGVjb2RlVmFsdWUoZSl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlKX19ZnVuY3Rpb24gRmsodCxlKXtjb25zdCBuPW5ldyBNYXA7cmV0dXJuIHQubGVuZ3RoPjAmJnQucmVwbGFjZSgvXlw/LywiIikuc3BsaXQoIiYiKS5mb3JFYWNoKGk9Pntjb25zdCBzPWkuaW5kZXhPZigiPSIpLFtvLGFdPXM9PS0xP1tlLmRlY29kZUtleShpKSwiIl06W2UuZGVjb2RlS2V5KGkuc2xpY2UoMCxzKSksZS5kZWNvZGVWYWx1ZShpLnNsaWNlKHMrMSkpXSxjPW4uZ2V0KG8pfHxbXTtjLnB1c2goYSksbi5zZXQobyxjKX0pLG59Y29uc3QgVWs9LyUoXGRbYS1mMC05XSkvZ2ksams9ezQwOiJAIiwiM0EiOiI6IiwyNDoiJCIsIjJDIjoiLCIsIjNCIjoiOyIsIjNEIjoiPSIsIjNGIjoiPyIsIjJGIjoiLyJ9O2Z1bmN0aW9uIGttKHQpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQodCkucmVwbGFjZShVaywoZSxuKT0+amtbbl0/P2UpfWZ1bmN0aW9uIENhKHQpe3JldHVybmAke3R9YH1jbGFzcyBucntjb25zdHJ1Y3RvcihlPXt9KXtpZih0aGlzLnVwZGF0ZXM9bnVsbCx0aGlzLmNsb25lRnJvbT1udWxsLHRoaXMuZW5jb2Rlcj1lLmVuY29kZXJ8fG5ldyBWayxlLmZyb21TdHJpbmcpe2lmKGUuZnJvbU9iamVjdCl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBzcGVjaWZ5IGJvdGggZnJvbVN0cmluZyBhbmQgZnJvbU9iamVjdC4iKTt0aGlzLm1hcD1GayhlLmZyb21TdHJpbmcsdGhpcy5lbmNvZGVyKX1lbHNlIGUuZnJvbU9iamVjdD8odGhpcy5tYXA9bmV3IE1hcCxPYmplY3Qua2V5cyhlLmZyb21PYmplY3QpLmZvckVhY2gobj0+e2NvbnN0IHI9ZS5mcm9tT2JqZWN0W25dLGk9QXJyYXkuaXNBcnJheShyKT9yLm1hcChDYSk6W0NhKHIpXTt0aGlzLm1hcC5zZXQobixpKX0pKTp0aGlzLm1hcD1udWxsfWhhcyhlKXtyZXR1cm4gdGhpcy5pbml0KCksdGhpcy5tYXAuaGFzKGUpfWdldChlKXt0aGlzLmluaXQoKTtjb25zdCBuPXRoaXMubWFwLmdldChlKTtyZXR1cm4gbj9uWzBdOm51bGx9Z2V0QWxsKGUpe3JldHVybiB0aGlzLmluaXQoKSx0aGlzLm1hcC5nZXQoZSl8fG51bGx9a2V5cygpe3JldHVybiB0aGlzLmluaXQoKSxBcnJheS5mcm9tKHRoaXMubWFwLmtleXMoKSl9YXBwZW5kKGUsbil7cmV0dXJuIHRoaXMuY2xvbmUoe3BhcmFtOmUsdmFsdWU6bixvcDoiYSJ9KX1hcHBlbmRBbGwoZSl7Y29uc3Qgbj1bXTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaChyPT57Y29uc3QgaT1lW3JdO0FycmF5LmlzQXJyYXkoaSk/aS5mb3JFYWNoKHM9PntuLnB1c2goe3BhcmFtOnIsdmFsdWU6cyxvcDoiYSJ9KX0pOm4ucHVzaCh7cGFyYW06cix2YWx1ZTppLG9wOiJhIn0pfSksdGhpcy5jbG9uZShuKX1zZXQoZSxuKXtyZXR1cm4gdGhpcy5jbG9uZSh7cGFyYW06ZSx2YWx1ZTpuLG9wOiJzIn0pfWRlbGV0ZShlLG4pe3JldHVybiB0aGlzLmNsb25lKHtwYXJhbTplLHZhbHVlOm4sb3A6ImQifSl9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5pbml0KCksdGhpcy5rZXlzKCkubWFwKGU9Pntjb25zdCBuPXRoaXMuZW5jb2Rlci5lbmNvZGVLZXkoZSk7cmV0dXJuIHRoaXMubWFwLmdldChlKS5tYXAocj0+bisiPSIrdGhpcy5lbmNvZGVyLmVuY29kZVZhbHVlKHIpKS5qb2luKCImIil9KS5maWx0ZXIoZT0+ZSE9PSIiKS5qb2luKCImIil9Y2xvbmUoZSl7Y29uc3Qgbj1uZXcgbnIoe2VuY29kZXI6dGhpcy5lbmNvZGVyfSk7cmV0dXJuIG4uY2xvbmVGcm9tPXRoaXMuY2xvbmVGcm9tfHx0aGlzLG4udXBkYXRlcz0odGhpcy51cGRhdGVzfHxbXSkuY29uY2F0KGUpLG59aW5pdCgpe3RoaXMubWFwPT09bnVsbCYmKHRoaXMubWFwPW5ldyBNYXApLHRoaXMuY2xvbmVGcm9tIT09bnVsbCYmKHRoaXMuY2xvbmVGcm9tLmluaXQoKSx0aGlzLmNsb25lRnJvbS5rZXlzKCkuZm9yRWFjaChlPT50aGlzLm1hcC5zZXQoZSx0aGlzLmNsb25lRnJvbS5tYXAuZ2V0KGUpKSksdGhpcy51cGRhdGVzLmZvckVhY2goZT0+e3N3aXRjaChlLm9wKXtjYXNlImEiOmNhc2UicyI6Y29uc3Qgbj0oZS5vcD09PSJhIj90aGlzLm1hcC5nZXQoZS5wYXJhbSk6dm9pZCAwKXx8W107bi5wdXNoKENhKGUudmFsdWUpKSx0aGlzLm1hcC5zZXQoZS5wYXJhbSxuKTticmVhaztjYXNlImQiOmlmKGUudmFsdWUhPT12b2lkIDApe2xldCByPXRoaXMubWFwLmdldChlLnBhcmFtKXx8W107Y29uc3QgaT1yLmluZGV4T2YoQ2EoZS52YWx1ZSkpO2khPT0tMSYmci5zcGxpY2UoaSwxKSxyLmxlbmd0aD4wP3RoaXMubWFwLnNldChlLnBhcmFtLHIpOnRoaXMubWFwLmRlbGV0ZShlLnBhcmFtKX1lbHNle3RoaXMubWFwLmRlbGV0ZShlLnBhcmFtKTticmVha319fSksdGhpcy5jbG9uZUZyb209dGhpcy51cGRhdGVzPW51bGwpfX1jbGFzcyAka3tjb25zdHJ1Y3Rvcigpe3RoaXMubWFwPW5ldyBNYXB9c2V0KGUsbil7cmV0dXJuIHRoaXMubWFwLnNldChlLG4pLHRoaXN9Z2V0KGUpe3JldHVybiB0aGlzLm1hcC5oYXMoZSl8fHRoaXMubWFwLnNldChlLGUuZGVmYXVsdFZhbHVlKCkpLHRoaXMubWFwLmdldChlKX1kZWxldGUoZSl7cmV0dXJuIHRoaXMubWFwLmRlbGV0ZShlKSx0aGlzfWhhcyhlKXtyZXR1cm4gdGhpcy5tYXAuaGFzKGUpfWtleXMoKXtyZXR1cm4gdGhpcy5tYXAua2V5cygpfX1mdW5jdGlvbiBCayh0KXtzd2l0Y2godCl7Y2FzZSJERUxFVEUiOmNhc2UiR0VUIjpjYXNlIkhFQUQiOmNhc2UiT1BUSU9OUyI6Y2FzZSJKU09OUCI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4hMH19ZnVuY3Rpb24gT20odCl7cmV0dXJuIHR5cGVvZiBBcnJheUJ1ZmZlcjwidSImJnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcn1mdW5jdGlvbiB4bSh0KXtyZXR1cm4gdHlwZW9mIEJsb2I8InUiJiZ0IGluc3RhbmNlb2YgQmxvYn1mdW5jdGlvbiBMbSh0KXtyZXR1cm4gdHlwZW9mIEZvcm1EYXRhPCJ1IiYmdCBpbnN0YW5jZW9mIEZvcm1EYXRhfWZ1bmN0aW9uIEhrKHQpe3JldHVybiB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zPCJ1IiYmdCBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtc31jbGFzcyBrc3tjb25zdHJ1Y3RvcihlLG4scixpKXt0aGlzLnVybD1uLHRoaXMuYm9keT1udWxsLHRoaXMucmVwb3J0UHJvZ3Jlc3M9ITEsdGhpcy53aXRoQ3JlZGVudGlhbHM9ITEsdGhpcy5yZXNwb25zZVR5cGU9Impzb24iLHRoaXMubWV0aG9kPWUudG9VcHBlckNhc2UoKTtsZXQgcztpZihCayh0aGlzLm1ldGhvZCl8fGk/KHRoaXMuYm9keT1yIT09dm9pZCAwP3I6bnVsbCxzPWkpOnM9cixzJiYodGhpcy5yZXBvcnRQcm9ncmVzcz0hIXMucmVwb3J0UHJvZ3Jlc3MsdGhpcy53aXRoQ3JlZGVudGlhbHM9ISFzLndpdGhDcmVkZW50aWFscyxzLnJlc3BvbnNlVHlwZSYmKHRoaXMucmVzcG9uc2VUeXBlPXMucmVzcG9uc2VUeXBlKSxzLmhlYWRlcnMmJih0aGlzLmhlYWRlcnM9cy5oZWFkZXJzKSxzLmNvbnRleHQmJih0aGlzLmNvbnRleHQ9cy5jb250ZXh0KSxzLnBhcmFtcyYmKHRoaXMucGFyYW1zPXMucGFyYW1zKSx0aGlzLnRyYW5zZmVyQ2FjaGU9cy50cmFuc2ZlckNhY2hlKSx0aGlzLmhlYWRlcnM/Pyh0aGlzLmhlYWRlcnM9bmV3IFV0KSx0aGlzLmNvbnRleHQ/Pyh0aGlzLmNvbnRleHQ9bmV3ICRrKSwhdGhpcy5wYXJhbXMpdGhpcy5wYXJhbXM9bmV3IG5yLHRoaXMudXJsV2l0aFBhcmFtcz1uO2Vsc2V7Y29uc3Qgbz10aGlzLnBhcmFtcy50b1N0cmluZygpO2lmKG8ubGVuZ3RoPT09MCl0aGlzLnVybFdpdGhQYXJhbXM9bjtlbHNle2NvbnN0IGE9bi5pbmRleE9mKCI/IiksYz1hPT09LTE/Ij8iOmE8bi5sZW5ndGgtMT8iJiI6IiI7dGhpcy51cmxXaXRoUGFyYW1zPW4rYytvfX19c2VyaWFsaXplQm9keSgpe3JldHVybiB0aGlzLmJvZHk9PT1udWxsP251bGw6T20odGhpcy5ib2R5KXx8eG0odGhpcy5ib2R5KXx8TG0odGhpcy5ib2R5KXx8SGsodGhpcy5ib2R5KXx8dHlwZW9mIHRoaXMuYm9keT09InN0cmluZyI/dGhpcy5ib2R5OnRoaXMuYm9keSBpbnN0YW5jZW9mIG5yP3RoaXMuYm9keS50b1N0cmluZygpOnR5cGVvZiB0aGlzLmJvZHk9PSJvYmplY3QifHx0eXBlb2YgdGhpcy5ib2R5PT0iYm9vbGVhbiJ8fEFycmF5LmlzQXJyYXkodGhpcy5ib2R5KT9KU09OLnN0cmluZ2lmeSh0aGlzLmJvZHkpOnRoaXMuYm9keS50b1N0cmluZygpfWRldGVjdENvbnRlbnRUeXBlSGVhZGVyKCl7cmV0dXJuIHRoaXMuYm9keT09PW51bGx8fExtKHRoaXMuYm9keSk/bnVsbDp4bSh0aGlzLmJvZHkpP3RoaXMuYm9keS50eXBlfHxudWxsOk9tKHRoaXMuYm9keSk/bnVsbDp0eXBlb2YgdGhpcy5ib2R5PT0ic3RyaW5nIj8idGV4dC9wbGFpbiI6dGhpcy5ib2R5IGluc3RhbmNlb2YgbnI/ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04Ijp0eXBlb2YgdGhpcy5ib2R5PT0ib2JqZWN0Inx8dHlwZW9mIHRoaXMuYm9keT09Im51bWJlciJ8fHR5cGVvZiB0aGlzLmJvZHk9PSJib29sZWFuIj8iYXBwbGljYXRpb24vanNvbiI6bnVsbH1jbG9uZShlPXt9KXtjb25zdCBuPWUubWV0aG9kfHx0aGlzLm1ldGhvZCxyPWUudXJsfHx0aGlzLnVybCxpPWUucmVzcG9uc2VUeXBlfHx0aGlzLnJlc3BvbnNlVHlwZSxzPWUuYm9keSE9PXZvaWQgMD9lLmJvZHk6dGhpcy5ib2R5LG89ZS53aXRoQ3JlZGVudGlhbHMhPT12b2lkIDA/ZS53aXRoQ3JlZGVudGlhbHM6dGhpcy53aXRoQ3JlZGVudGlhbHMsYT1lLnJlcG9ydFByb2dyZXNzIT09dm9pZCAwP2UucmVwb3J0UHJvZ3Jlc3M6dGhpcy5yZXBvcnRQcm9ncmVzcztsZXQgYz1lLmhlYWRlcnN8fHRoaXMuaGVhZGVycyx1PWUucGFyYW1zfHx0aGlzLnBhcmFtcztjb25zdCBsPWUuY29udGV4dD8/dGhpcy5jb250ZXh0O3JldHVybiBlLnNldEhlYWRlcnMhPT12b2lkIDAmJihjPU9iamVjdC5rZXlzKGUuc2V0SGVhZGVycykucmVkdWNlKChoLGQpPT5oLnNldChkLGUuc2V0SGVhZGVyc1tkXSksYykpLGUuc2V0UGFyYW1zJiYodT1PYmplY3Qua2V5cyhlLnNldFBhcmFtcykucmVkdWNlKChoLGQpPT5oLnNldChkLGUuc2V0UGFyYW1zW2RdKSx1KSksbmV3IGtzKG4scixzLHtwYXJhbXM6dSxoZWFkZXJzOmMsY29udGV4dDpsLHJlcG9ydFByb2dyZXNzOmEscmVzcG9uc2VUeXBlOmksd2l0aENyZWRlbnRpYWxzOm99KX19dmFyIHJyPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuU2VudD0wXT0iU2VudCIsdFt0LlVwbG9hZFByb2dyZXNzPTFdPSJVcGxvYWRQcm9ncmVzcyIsdFt0LlJlc3BvbnNlSGVhZGVyPTJdPSJSZXNwb25zZUhlYWRlciIsdFt0LkRvd25sb2FkUHJvZ3Jlc3M9M109IkRvd25sb2FkUHJvZ3Jlc3MiLHRbdC5SZXNwb25zZT00XT0iUmVzcG9uc2UiLHRbdC5Vc2VyPTVdPSJVc2VyIix0fShycnx8e30pO2NsYXNzIFdme2NvbnN0cnVjdG9yKGUsbj1oby5PayxyPSJPSyIpe3RoaXMuaGVhZGVycz1lLmhlYWRlcnN8fG5ldyBVdCx0aGlzLnN0YXR1cz1lLnN0YXR1cyE9PXZvaWQgMD9lLnN0YXR1czpuLHRoaXMuc3RhdHVzVGV4dD1lLnN0YXR1c1RleHR8fHIsdGhpcy51cmw9ZS51cmx8fG51bGwsdGhpcy5vaz10aGlzLnN0YXR1cz49MjAwJiZ0aGlzLnN0YXR1czwzMDB9fWNsYXNzIFR1IGV4dGVuZHMgV2Z7Y29uc3RydWN0b3IoZT17fSl7c3VwZXIoZSksdGhpcy50eXBlPXJyLlJlc3BvbnNlSGVhZGVyfWNsb25lKGU9e30pe3JldHVybiBuZXcgVHUoe2hlYWRlcnM6ZS5oZWFkZXJzfHx0aGlzLmhlYWRlcnMsc3RhdHVzOmUuc3RhdHVzIT09dm9pZCAwP2Uuc3RhdHVzOnRoaXMuc3RhdHVzLHN0YXR1c1RleHQ6ZS5zdGF0dXNUZXh0fHx0aGlzLnN0YXR1c1RleHQsdXJsOmUudXJsfHx0aGlzLnVybHx8dm9pZCAwfSl9fWNsYXNzIHFyIGV4dGVuZHMgV2Z7Y29uc3RydWN0b3IoZT17fSl7c3VwZXIoZSksdGhpcy50eXBlPXJyLlJlc3BvbnNlLHRoaXMuYm9keT1lLmJvZHkhPT12b2lkIDA/ZS5ib2R5Om51bGx9Y2xvbmUoZT17fSl7cmV0dXJuIG5ldyBxcih7Ym9keTplLmJvZHkhPT12b2lkIDA/ZS5ib2R5OnRoaXMuYm9keSxoZWFkZXJzOmUuaGVhZGVyc3x8dGhpcy5oZWFkZXJzLHN0YXR1czplLnN0YXR1cyE9PXZvaWQgMD9lLnN0YXR1czp0aGlzLnN0YXR1cyxzdGF0dXNUZXh0OmUuc3RhdHVzVGV4dHx8dGhpcy5zdGF0dXNUZXh0LHVybDplLnVybHx8dGhpcy51cmx8fHZvaWQgMH0pfX1jbGFzcyBtaSBleHRlbmRzIFdme2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUsMCwiVW5rbm93biBFcnJvciIpLHRoaXMubmFtZT0iSHR0cEVycm9yUmVzcG9uc2UiLHRoaXMub2s9ITEsdGhpcy5zdGF0dXM+PTIwMCYmdGhpcy5zdGF0dXM8MzAwP3RoaXMubWVzc2FnZT1gSHR0cCBmYWlsdXJlIGR1cmluZyBwYXJzaW5nIGZvciAke2UudXJsfHwiKHVua25vd24gdXJsKSJ9YDp0aGlzLm1lc3NhZ2U9YEh0dHAgZmFpbHVyZSByZXNwb25zZSBmb3IgJHtlLnVybHx8Iih1bmtub3duIHVybCkifTogJHtlLnN0YXR1c30gJHtlLnN0YXR1c1RleHR9YCx0aGlzLmVycm9yPWUuZXJyb3J8fG51bGx9fXZhciBobz1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkNvbnRpbnVlPTEwMF09IkNvbnRpbnVlIix0W3QuU3dpdGNoaW5nUHJvdG9jb2xzPTEwMV09IlN3aXRjaGluZ1Byb3RvY29scyIsdFt0LlByb2Nlc3Npbmc9MTAyXT0iUHJvY2Vzc2luZyIsdFt0LkVhcmx5SGludHM9MTAzXT0iRWFybHlIaW50cyIsdFt0Lk9rPTIwMF09Ik9rIix0W3QuQ3JlYXRlZD0yMDFdPSJDcmVhdGVkIix0W3QuQWNjZXB0ZWQ9MjAyXT0iQWNjZXB0ZWQiLHRbdC5Ob25BdXRob3JpdGF0aXZlSW5mb3JtYXRpb249MjAzXT0iTm9uQXV0aG9yaXRhdGl2ZUluZm9ybWF0aW9uIix0W3QuTm9Db250ZW50PTIwNF09Ik5vQ29udGVudCIsdFt0LlJlc2V0Q29udGVudD0yMDVdPSJSZXNldENvbnRlbnQiLHRbdC5QYXJ0aWFsQ29udGVudD0yMDZdPSJQYXJ0aWFsQ29udGVudCIsdFt0Lk11bHRpU3RhdHVzPTIwN109Ik11bHRpU3RhdHVzIix0W3QuQWxyZWFkeVJlcG9ydGVkPTIwOF09IkFscmVhZHlSZXBvcnRlZCIsdFt0LkltVXNlZD0yMjZdPSJJbVVzZWQiLHRbdC5NdWx0aXBsZUNob2ljZXM9MzAwXT0iTXVsdGlwbGVDaG9pY2VzIix0W3QuTW92ZWRQZXJtYW5lbnRseT0zMDFdPSJNb3ZlZFBlcm1hbmVudGx5Iix0W3QuRm91bmQ9MzAyXT0iRm91bmQiLHRbdC5TZWVPdGhlcj0zMDNdPSJTZWVPdGhlciIsdFt0Lk5vdE1vZGlmaWVkPTMwNF09Ik5vdE1vZGlmaWVkIix0W3QuVXNlUHJveHk9MzA1XT0iVXNlUHJveHkiLHRbdC5VbnVzZWQ9MzA2XT0iVW51c2VkIix0W3QuVGVtcG9yYXJ5UmVkaXJlY3Q9MzA3XT0iVGVtcG9yYXJ5UmVkaXJlY3QiLHRbdC5QZXJtYW5lbnRSZWRpcmVjdD0zMDhdPSJQZXJtYW5lbnRSZWRpcmVjdCIsdFt0LkJhZFJlcXVlc3Q9NDAwXT0iQmFkUmVxdWVzdCIsdFt0LlVuYXV0aG9yaXplZD00MDFdPSJVbmF1dGhvcml6ZWQiLHRbdC5QYXltZW50UmVxdWlyZWQ9NDAyXT0iUGF5bWVudFJlcXVpcmVkIix0W3QuRm9yYmlkZGVuPTQwM109IkZvcmJpZGRlbiIsdFt0Lk5vdEZvdW5kPTQwNF09Ik5vdEZvdW5kIix0W3QuTWV0aG9kTm90QWxsb3dlZD00MDVdPSJNZXRob2ROb3RBbGxvd2VkIix0W3QuTm90QWNjZXB0YWJsZT00MDZdPSJOb3RBY2NlcHRhYmxlIix0W3QuUHJveHlBdXRoZW50aWNhdGlvblJlcXVpcmVkPTQwN109IlByb3h5QXV0aGVudGljYXRpb25SZXF1aXJlZCIsdFt0LlJlcXVlc3RUaW1lb3V0PTQwOF09IlJlcXVlc3RUaW1lb3V0Iix0W3QuQ29uZmxpY3Q9NDA5XT0iQ29uZmxpY3QiLHRbdC5Hb25lPTQxMF09IkdvbmUiLHRbdC5MZW5ndGhSZXF1aXJlZD00MTFdPSJMZW5ndGhSZXF1aXJlZCIsdFt0LlByZWNvbmRpdGlvbkZhaWxlZD00MTJdPSJQcmVjb25kaXRpb25GYWlsZWQiLHRbdC5QYXlsb2FkVG9vTGFyZ2U9NDEzXT0iUGF5bG9hZFRvb0xhcmdlIix0W3QuVXJpVG9vTG9uZz00MTRdPSJVcmlUb29Mb25nIix0W3QuVW5zdXBwb3J0ZWRNZWRpYVR5cGU9NDE1XT0iVW5zdXBwb3J0ZWRNZWRpYVR5cGUiLHRbdC5SYW5nZU5vdFNhdGlzZmlhYmxlPTQxNl09IlJhbmdlTm90U2F0aXNmaWFibGUiLHRbdC5FeHBlY3RhdGlvbkZhaWxlZD00MTddPSJFeHBlY3RhdGlvbkZhaWxlZCIsdFt0LkltQVRlYXBvdD00MThdPSJJbUFUZWFwb3QiLHRbdC5NaXNkaXJlY3RlZFJlcXVlc3Q9NDIxXT0iTWlzZGlyZWN0ZWRSZXF1ZXN0Iix0W3QuVW5wcm9jZXNzYWJsZUVudGl0eT00MjJdPSJVbnByb2Nlc3NhYmxlRW50aXR5Iix0W3QuTG9ja2VkPTQyM109IkxvY2tlZCIsdFt0LkZhaWxlZERlcGVuZGVuY3k9NDI0XT0iRmFpbGVkRGVwZW5kZW5jeSIsdFt0LlRvb0Vhcmx5PTQyNV09IlRvb0Vhcmx5Iix0W3QuVXBncmFkZVJlcXVpcmVkPTQyNl09IlVwZ3JhZGVSZXF1aXJlZCIsdFt0LlByZWNvbmRpdGlvblJlcXVpcmVkPTQyOF09IlByZWNvbmRpdGlvblJlcXVpcmVkIix0W3QuVG9vTWFueVJlcXVlc3RzPTQyOV09IlRvb01hbnlSZXF1ZXN0cyIsdFt0LlJlcXVlc3RIZWFkZXJGaWVsZHNUb29MYXJnZT00MzFdPSJSZXF1ZXN0SGVhZGVyRmllbGRzVG9vTGFyZ2UiLHRbdC5VbmF2YWlsYWJsZUZvckxlZ2FsUmVhc29ucz00NTFdPSJVbmF2YWlsYWJsZUZvckxlZ2FsUmVhc29ucyIsdFt0LkludGVybmFsU2VydmVyRXJyb3I9NTAwXT0iSW50ZXJuYWxTZXJ2ZXJFcnJvciIsdFt0Lk5vdEltcGxlbWVudGVkPTUwMV09Ik5vdEltcGxlbWVudGVkIix0W3QuQmFkR2F0ZXdheT01MDJdPSJCYWRHYXRld2F5Iix0W3QuU2VydmljZVVuYXZhaWxhYmxlPTUwM109IlNlcnZpY2VVbmF2YWlsYWJsZSIsdFt0LkdhdGV3YXlUaW1lb3V0PTUwNF09IkdhdGV3YXlUaW1lb3V0Iix0W3QuSHR0cFZlcnNpb25Ob3RTdXBwb3J0ZWQ9NTA1XT0iSHR0cFZlcnNpb25Ob3RTdXBwb3J0ZWQiLHRbdC5WYXJpYW50QWxzb05lZ290aWF0ZXM9NTA2XT0iVmFyaWFudEFsc29OZWdvdGlhdGVzIix0W3QuSW5zdWZmaWNpZW50U3RvcmFnZT01MDddPSJJbnN1ZmZpY2llbnRTdG9yYWdlIix0W3QuTG9vcERldGVjdGVkPTUwOF09Ikxvb3BEZXRlY3RlZCIsdFt0Lk5vdEV4dGVuZGVkPTUxMF09Ik5vdEV4dGVuZGVkIix0W3QuTmV0d29ya0F1dGhlbnRpY2F0aW9uUmVxdWlyZWQ9NTExXT0iTmV0d29ya0F1dGhlbnRpY2F0aW9uUmVxdWlyZWQiLHR9KGhvfHx7fSk7ZnVuY3Rpb24gT2wodCxlKXtyZXR1cm57Ym9keTplLGhlYWRlcnM6dC5oZWFkZXJzLGNvbnRleHQ6dC5jb250ZXh0LG9ic2VydmU6dC5vYnNlcnZlLHBhcmFtczp0LnBhcmFtcyxyZXBvcnRQcm9ncmVzczp0LnJlcG9ydFByb2dyZXNzLHJlc3BvbnNlVHlwZTp0LnJlc3BvbnNlVHlwZSx3aXRoQ3JlZGVudGlhbHM6dC53aXRoQ3JlZGVudGlhbHMsdHJhbnNmZXJDYWNoZTp0LnRyYW5zZmVyQ2FjaGV9fWxldCBJST0oKCk9Pnt2YXIgdDtjbGFzcyBle2NvbnN0cnVjdG9yKHIpe3RoaXMuaGFuZGxlcj1yfXJlcXVlc3QocixpLHM9e30pe2xldCBvO2lmKHIgaW5zdGFuY2VvZiBrcylvPXI7ZWxzZXtsZXQgdTtzLmhlYWRlcnMgaW5zdGFuY2VvZiBVdD91PXMuaGVhZGVyczp1PW5ldyBVdChzLmhlYWRlcnMpO2xldCBsO3MucGFyYW1zJiYocy5wYXJhbXMgaW5zdGFuY2VvZiBucj9sPXMucGFyYW1zOmw9bmV3IG5yKHtmcm9tT2JqZWN0OnMucGFyYW1zfSkpLG89bmV3IGtzKHIsaSxzLmJvZHkhPT12b2lkIDA/cy5ib2R5Om51bGwse2hlYWRlcnM6dSxjb250ZXh0OnMuY29udGV4dCxwYXJhbXM6bCxyZXBvcnRQcm9ncmVzczpzLnJlcG9ydFByb2dyZXNzLHJlc3BvbnNlVHlwZTpzLnJlc3BvbnNlVHlwZXx8Impzb24iLHdpdGhDcmVkZW50aWFsczpzLndpdGhDcmVkZW50aWFscyx0cmFuc2ZlckNhY2hlOnMudHJhbnNmZXJDYWNoZX0pfWNvbnN0IGE9ZWUobykucGlwZShZcyh1PT50aGlzLmhhbmRsZXIuaGFuZGxlKHUpKSk7aWYociBpbnN0YW5jZW9mIGtzfHxzLm9ic2VydmU9PT0iZXZlbnRzIilyZXR1cm4gYTtjb25zdCBjPWEucGlwZSh4bih1PT51IGluc3RhbmNlb2YgcXIpKTtzd2l0Y2gocy5vYnNlcnZlfHwiYm9keSIpe2Nhc2UiYm9keSI6c3dpdGNoKG8ucmVzcG9uc2VUeXBlKXtjYXNlImFycmF5YnVmZmVyIjpyZXR1cm4gYy5waXBlKHllKHU9PntpZih1LmJvZHkhPT1udWxsJiYhKHUuYm9keSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSl0aHJvdyBuZXcgRXJyb3IoIlJlc3BvbnNlIGlzIG5vdCBhbiBBcnJheUJ1ZmZlci4iKTtyZXR1cm4gdS5ib2R5fSkpO2Nhc2UiYmxvYiI6cmV0dXJuIGMucGlwZSh5ZSh1PT57aWYodS5ib2R5IT09bnVsbCYmISh1LmJvZHkgaW5zdGFuY2VvZiBCbG9iKSl0aHJvdyBuZXcgRXJyb3IoIlJlc3BvbnNlIGlzIG5vdCBhIEJsb2IuIik7cmV0dXJuIHUuYm9keX0pKTtjYXNlInRleHQiOnJldHVybiBjLnBpcGUoeWUodT0+e2lmKHUuYm9keSE9PW51bGwmJnR5cGVvZiB1LmJvZHkhPSJzdHJpbmciKXRocm93IG5ldyBFcnJvcigiUmVzcG9uc2UgaXMgbm90IGEgc3RyaW5nLiIpO3JldHVybiB1LmJvZHl9KSk7Y2FzZSJqc29uIjpkZWZhdWx0OnJldHVybiBjLnBpcGUoeWUodT0+dS5ib2R5KSl9Y2FzZSJyZXNwb25zZSI6cmV0dXJuIGM7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVucmVhY2hhYmxlOiB1bmhhbmRsZWQgb2JzZXJ2ZSB0eXBlICR7cy5vYnNlcnZlfX1gKX19ZGVsZXRlKHIsaT17fSl7cmV0dXJuIHRoaXMucmVxdWVzdCgiREVMRVRFIixyLGkpfWdldChyLGk9e30pe3JldHVybiB0aGlzLnJlcXVlc3QoIkdFVCIscixpKX1oZWFkKHIsaT17fSl7cmV0dXJuIHRoaXMucmVxdWVzdCgiSEVBRCIscixpKX1qc29ucChyLGkpe3JldHVybiB0aGlzLnJlcXVlc3QoIkpTT05QIixyLHtwYXJhbXM6bmV3IG5yKCkuYXBwZW5kKGksIkpTT05QX0NBTExCQUNLIiksb2JzZXJ2ZToiYm9keSIscmVzcG9uc2VUeXBlOiJqc29uIn0pfW9wdGlvbnMocixpPXt9KXtyZXR1cm4gdGhpcy5yZXF1ZXN0KCJPUFRJT05TIixyLGkpfXBhdGNoKHIsaSxzPXt9KXtyZXR1cm4gdGhpcy5yZXF1ZXN0KCJQQVRDSCIscixPbChzLGkpKX1wb3N0KHIsaSxzPXt9KXtyZXR1cm4gdGhpcy5yZXF1ZXN0KCJQT1NUIixyLE9sKHMsaSkpfXB1dChyLGkscz17fSl7cmV0dXJuIHRoaXMucmVxdWVzdCgiUFVUIixyLE9sKHMsaSkpfX1yZXR1cm4gdD1lLHQuybVmYWM9ZnVuY3Rpb24ocil7cmV0dXJuIG5ldyhyfHx0KSh0ZShxZikpfSx0Lsm1cHJvdj1xKHt0b2tlbjp0LGZhY3Rvcnk6dC7JtWZhY30pLGV9KSgpO2NvbnN0IHFrPS9eXClcXVx9Jyw/XG4vLHprPSJYLVJlcXVlc3QtVVJMIjtmdW5jdGlvbiBWbSh0KXtpZih0LnVybClyZXR1cm4gdC51cmw7Y29uc3QgZT16ay50b0xvY2FsZUxvd2VyQ2FzZSgpO3JldHVybiB0LmhlYWRlcnMuZ2V0KGUpfWxldCB4bD0oKCk9Pnt2YXIgdDtjbGFzcyBle2NvbnN0cnVjdG9yKCl7dGhpcy5mZXRjaEltcGw9YihXayx7b3B0aW9uYWw6ITB9KT8uZmV0Y2g/P2ZldGNoLmJpbmQoZ2xvYmFsVGhpcyksdGhpcy5uZ1pvbmU9YihNZSl9aGFuZGxlKHIpe3JldHVybiBuZXcgTGUoaT0+e2NvbnN0IHM9bmV3IEFib3J0Q29udHJvbGxlcjtyZXR1cm4gdGhpcy5kb1JlcXVlc3QocixzLnNpZ25hbCxpKS50aGVuKHFoLG89PmkuZXJyb3IobmV3IG1pKHtlcnJvcjpvfSkpKSwoKT0+cy5hYm9ydCgpfSl9ZG9SZXF1ZXN0KHIsaSxzKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3Qgbz10aGlzLmNyZWF0ZVJlcXVlc3RJbml0KHIpO2xldCBhO3RyeXtjb25zdCBtPXRoaXMuZmV0Y2hJbXBsKHIudXJsV2l0aFBhcmFtcyx7c2lnbmFsOmksLi4ub30pO0drKG0pLHMubmV4dCh7dHlwZTpyci5TZW50fSksYT15aWVsZCBtfWNhdGNoKG0pe3MuZXJyb3IobmV3IG1pKHtlcnJvcjptLHN0YXR1czptLnN0YXR1cz8/MCxzdGF0dXNUZXh0Om0uc3RhdHVzVGV4dCx1cmw6ci51cmxXaXRoUGFyYW1zLGhlYWRlcnM6bS5oZWFkZXJzfSkpO3JldHVybn1jb25zdCBjPW5ldyBVdChhLmhlYWRlcnMpLHU9YS5zdGF0dXNUZXh0LGw9Vm0oYSk/P3IudXJsV2l0aFBhcmFtcztsZXQgaD1hLnN0YXR1cyxkPW51bGw7aWYoci5yZXBvcnRQcm9ncmVzcyYmcy5uZXh0KG5ldyBUdSh7aGVhZGVyczpjLHN0YXR1czpoLHN0YXR1c1RleHQ6dSx1cmw6bH0pKSxhLmJvZHkpe2NvbnN0IG09YS5oZWFkZXJzLmdldCgiY29udGVudC1sZW5ndGgiKSx5PVtdLF89YS5ib2R5LmdldFJlYWRlcigpO2xldCBUPTAsQyxTO2NvbnN0IFY9dHlwZW9mIFpvbmU8InUiJiZab25lLmN1cnJlbnQ7eWllbGQgdGhpcy5uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PmcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2Zvcig7Oyl7Y29uc3R7ZG9uZTpILHZhbHVlOkJ9PXlpZWxkIF8ucmVhZCgpO2lmKEgpYnJlYWs7aWYoeS5wdXNoKEIpLFQrPUIubGVuZ3RoLHIucmVwb3J0UHJvZ3Jlc3Mpe1M9ci5yZXNwb25zZVR5cGU9PT0idGV4dCI/KFM/PyIiKSsoQz8/KEM9bmV3IFRleHREZWNvZGVyKSkuZGVjb2RlKEIse3N0cmVhbTohMH0pOnZvaWQgMDtjb25zdCBPPSgpPT5zLm5leHQoe3R5cGU6cnIuRG93bmxvYWRQcm9ncmVzcyx0b3RhbDptPyttOnZvaWQgMCxsb2FkZWQ6VCxwYXJ0aWFsVGV4dDpTfSk7Vj9WLnJ1bihPKTpPKCl9fX0pKTtjb25zdCBVPXRoaXMuY29uY2F0Q2h1bmtzKHksVCk7dHJ5e2NvbnN0IEg9YS5oZWFkZXJzLmdldCgiQ29udGVudC1UeXBlIik/PyIiO2Q9dGhpcy5wYXJzZUJvZHkocixVLEgpfWNhdGNoKEgpe3MuZXJyb3IobmV3IG1pKHtlcnJvcjpILGhlYWRlcnM6bmV3IFV0KGEuaGVhZGVycyksc3RhdHVzOmEuc3RhdHVzLHN0YXR1c1RleHQ6YS5zdGF0dXNUZXh0LHVybDpWbShhKT8/ci51cmxXaXRoUGFyYW1zfSkpO3JldHVybn19aD09PTAmJihoPWQ/aG8uT2s6MCksaD49MjAwJiZoPDMwMD8ocy5uZXh0KG5ldyBxcih7Ym9keTpkLGhlYWRlcnM6YyxzdGF0dXM6aCxzdGF0dXNUZXh0OnUsdXJsOmx9KSkscy5jb21wbGV0ZSgpKTpzLmVycm9yKG5ldyBtaSh7ZXJyb3I6ZCxoZWFkZXJzOmMsc3RhdHVzOmgsc3RhdHVzVGV4dDp1LHVybDpsfSkpfSl9cGFyc2VCb2R5KHIsaSxzKXtzd2l0Y2goci5yZXNwb25zZVR5cGUpe2Nhc2UianNvbiI6Y29uc3Qgbz1uZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoaSkucmVwbGFjZShxaywiIik7cmV0dXJuIG89PT0iIj9udWxsOkpTT04ucGFyc2Uobyk7Y2FzZSJ0ZXh0IjpyZXR1cm4gbmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKGkpO2Nhc2UiYmxvYiI6cmV0dXJuIG5ldyBCbG9iKFtpXSx7dHlwZTpzfSk7Y2FzZSJhcnJheWJ1ZmZlciI6cmV0dXJuIGkuYnVmZmVyfX1jcmVhdGVSZXF1ZXN0SW5pdChyKXtjb25zdCBpPXt9LHM9ci53aXRoQ3JlZGVudGlhbHM/ImluY2x1ZGUiOnZvaWQgMDtpZihyLmhlYWRlcnMuZm9yRWFjaCgobyxhKT0+aVtvXT1hLmpvaW4oIiwiKSksaS5BY2NlcHQ/PyhpLkFjY2VwdD0iYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qIiksIWlbIkNvbnRlbnQtVHlwZSJdKXtjb25zdCBvPXIuZGV0ZWN0Q29udGVudFR5cGVIZWFkZXIoKTtvIT09bnVsbCYmKGlbIkNvbnRlbnQtVHlwZSJdPW8pfXJldHVybntib2R5OnIuc2VyaWFsaXplQm9keSgpLG1ldGhvZDpyLm1ldGhvZCxoZWFkZXJzOmksY3JlZGVudGlhbHM6c319Y29uY2F0Q2h1bmtzKHIsaSl7Y29uc3Qgcz1uZXcgVWludDhBcnJheShpKTtsZXQgbz0wO2Zvcihjb25zdCBhIG9mIHIpcy5zZXQoYSxvKSxvKz1hLmxlbmd0aDtyZXR1cm4gc319cmV0dXJuIHQ9ZSx0Lsm1ZmFjPWZ1bmN0aW9uKHIpe3JldHVybiBuZXcocnx8dCl9LHQuybVwcm92PXEoe3Rva2VuOnQsZmFjdG9yeTp0Lsm1ZmFjfSksZX0pKCk7Y2xhc3MgV2t7fWZ1bmN0aW9uIHFoKCl7fWZ1bmN0aW9uIEdrKHQpe3QudGhlbihxaCxxaCl9ZnVuY3Rpb24gS2sodCxlKXtyZXR1cm4gZSh0KX1mdW5jdGlvbiBRayh0LGUsbil7cmV0dXJuKHIsaSk9PllyKG4sKCk9PmUocixzPT50KHMsaSkpKX1jb25zdCBUST1uZXcgc2UoIiIpLFNJPW5ldyBzZSgiIiksQ0k9bmV3IHNlKCIiKTtsZXQgRm09KCgpPT57dmFyIHQ7Y2xhc3MgZSBleHRlbmRzIHFme2NvbnN0cnVjdG9yKHIsaSl7c3VwZXIoKSx0aGlzLmJhY2tlbmQ9cix0aGlzLmluamVjdG9yPWksdGhpcy5jaGFpbj1udWxsLHRoaXMucGVuZGluZ1Rhc2tzPWIoX3UpO2NvbnN0IHM9YihDSSx7b3B0aW9uYWw6ITB9KTt0aGlzLmJhY2tlbmQ9cz8/cn1oYW5kbGUocil7aWYodGhpcy5jaGFpbj09PW51bGwpe2NvbnN0IHM9QXJyYXkuZnJvbShuZXcgU2V0KFsuLi50aGlzLmluamVjdG9yLmdldChUSSksLi4udGhpcy5pbmplY3Rvci5nZXQoU0ksW10pXSkpO3RoaXMuY2hhaW49cy5yZWR1Y2VSaWdodCgobyxhKT0+UWsobyxhLHRoaXMuaW5qZWN0b3IpLEtrKX1jb25zdCBpPXRoaXMucGVuZGluZ1Rhc2tzLmFkZCgpO3JldHVybiB0aGlzLmNoYWluKHIscz0+dGhpcy5iYWNrZW5kLmhhbmRsZShzKSkucGlwZShjYygoKT0+dGhpcy5wZW5kaW5nVGFza3MucmVtb3ZlKGkpKSl9fXJldHVybiB0PWUsdC7JtWZhYz1mdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fHQpKHRlKHpmKSx0ZShqbikpfSx0Lsm1cHJvdj1xKHt0b2tlbjp0LGZhY3Rvcnk6dC7JtWZhY30pLGV9KSgpO2NvbnN0IFprPS9eXClcXVx9Jyw/XG4vO2Z1bmN0aW9uIFhrKHQpe3JldHVybiJyZXNwb25zZVVSTCJpbiB0JiZ0LnJlc3BvbnNlVVJMP3QucmVzcG9uc2VVUkw6L15YLVJlcXVlc3QtVVJMOi9tLnRlc3QodC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSk/dC5nZXRSZXNwb25zZUhlYWRlcigiWC1SZXF1ZXN0LVVSTCIpOm51bGx9bGV0IFVtPSgoKT0+e3ZhciB0O2NsYXNzIGV7Y29uc3RydWN0b3Iocil7dGhpcy54aHJGYWN0b3J5PXJ9aGFuZGxlKHIpe2lmKHIubWV0aG9kPT09IkpTT05QIil0aHJvdyBuZXcgVygtMjgwMCwhMSk7Y29uc3QgaT10aGlzLnhockZhY3Rvcnk7cmV0dXJuKGkuybVsb2FkSW1wbD9JdChpLsm1bG9hZEltcGwoKSk6ZWUobnVsbCkpLnBpcGUobm4oKCk9Pm5ldyBMZShvPT57Y29uc3QgYT1pLmJ1aWxkKCk7aWYoYS5vcGVuKHIubWV0aG9kLHIudXJsV2l0aFBhcmFtcyksci53aXRoQ3JlZGVudGlhbHMmJihhLndpdGhDcmVkZW50aWFscz0hMCksci5oZWFkZXJzLmZvckVhY2goKF8sVCk9PmEuc2V0UmVxdWVzdEhlYWRlcihfLFQuam9pbigiLCIpKSksci5oZWFkZXJzLmhhcygiQWNjZXB0Iil8fGEuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IiwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qIiksIXIuaGVhZGVycy5oYXMoIkNvbnRlbnQtVHlwZSIpKXtjb25zdCBfPXIuZGV0ZWN0Q29udGVudFR5cGVIZWFkZXIoKTtfIT09bnVsbCYmYS5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLF8pfWlmKHIucmVzcG9uc2VUeXBlKXtjb25zdCBfPXIucmVzcG9uc2VUeXBlLnRvTG93ZXJDYXNlKCk7YS5yZXNwb25zZVR5cGU9XyE9PSJqc29uIj9fOiJ0ZXh0In1jb25zdCBjPXIuc2VyaWFsaXplQm9keSgpO2xldCB1PW51bGw7Y29uc3QgbD0oKT0+e2lmKHUhPT1udWxsKXJldHVybiB1O2NvbnN0IF89YS5zdGF0dXNUZXh0fHwiT0siLFQ9bmV3IFV0KGEuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpLEM9WGsoYSl8fHIudXJsO3JldHVybiB1PW5ldyBUdSh7aGVhZGVyczpULHN0YXR1czphLnN0YXR1cyxzdGF0dXNUZXh0Ol8sdXJsOkN9KSx1fSxoPSgpPT57bGV0e2hlYWRlcnM6XyxzdGF0dXM6VCxzdGF0dXNUZXh0OkMsdXJsOlN9PWwoKSxWPW51bGw7VCE9PWhvLk5vQ29udGVudCYmKFY9dHlwZW9mIGEucmVzcG9uc2U+InUiP2EucmVzcG9uc2VUZXh0OmEucmVzcG9uc2UpLFQ9PT0wJiYoVD1WP2hvLk9rOjApO2xldCBVPVQ+PTIwMCYmVDwzMDA7aWYoci5yZXNwb25zZVR5cGU9PT0ianNvbiImJnR5cGVvZiBWPT0ic3RyaW5nIil7Y29uc3QgSD1WO1Y9Vi5yZXBsYWNlKFprLCIiKTt0cnl7Vj1WIT09IiI/SlNPTi5wYXJzZShWKTpudWxsfWNhdGNoKEIpe1Y9SCxVJiYoVT0hMSxWPXtlcnJvcjpCLHRleHQ6Vn0pfX1VPyhvLm5leHQobmV3IHFyKHtib2R5OlYsaGVhZGVyczpfLHN0YXR1czpULHN0YXR1c1RleHQ6Qyx1cmw6U3x8dm9pZCAwfSkpLG8uY29tcGxldGUoKSk6by5lcnJvcihuZXcgbWkoe2Vycm9yOlYsaGVhZGVyczpfLHN0YXR1czpULHN0YXR1c1RleHQ6Qyx1cmw6U3x8dm9pZCAwfSkpfSxkPV89Pntjb25zdHt1cmw6VH09bCgpLEM9bmV3IG1pKHtlcnJvcjpfLHN0YXR1czphLnN0YXR1c3x8MCxzdGF0dXNUZXh0OmEuc3RhdHVzVGV4dHx8IlVua25vd24gRXJyb3IiLHVybDpUfHx2b2lkIDB9KTtvLmVycm9yKEMpfTtsZXQgZj0hMTtjb25zdCBtPV89PntmfHwoby5uZXh0KGwoKSksZj0hMCk7bGV0IFQ9e3R5cGU6cnIuRG93bmxvYWRQcm9ncmVzcyxsb2FkZWQ6Xy5sb2FkZWR9O18ubGVuZ3RoQ29tcHV0YWJsZSYmKFQudG90YWw9Xy50b3RhbCksci5yZXNwb25zZVR5cGU9PT0idGV4dCImJmEucmVzcG9uc2VUZXh0JiYoVC5wYXJ0aWFsVGV4dD1hLnJlc3BvbnNlVGV4dCksby5uZXh0KFQpfSx5PV89PntsZXQgVD17dHlwZTpyci5VcGxvYWRQcm9ncmVzcyxsb2FkZWQ6Xy5sb2FkZWR9O18ubGVuZ3RoQ29tcHV0YWJsZSYmKFQudG90YWw9Xy50b3RhbCksby5uZXh0KFQpfTtyZXR1cm4gYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixoKSxhLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixkKSxhLmFkZEV2ZW50TGlzdGVuZXIoInRpbWVvdXQiLGQpLGEuYWRkRXZlbnRMaXN0ZW5lcigiYWJvcnQiLGQpLHIucmVwb3J0UHJvZ3Jlc3MmJihhLmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIixtKSxjIT09bnVsbCYmYS51cGxvYWQmJmEudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIix5KSksYS5zZW5kKGMpLG8ubmV4dCh7dHlwZTpyci5TZW50fSksKCk9PnthLnJlbW92ZUV2ZW50TGlzdGVuZXIoImVycm9yIixkKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoImFib3J0IixkKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLGgpLGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigidGltZW91dCIsZCksci5yZXBvcnRQcm9ncmVzcyYmKGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLG0pLGMhPT1udWxsJiZhLnVwbG9hZCYmYS51cGxvYWQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLHkpKSxhLnJlYWR5U3RhdGUhPT1hLkRPTkUmJmEuYWJvcnQoKX19KSkpfX1yZXR1cm4gdD1lLHQuybVmYWM9ZnVuY3Rpb24ocil7cmV0dXJuIG5ldyhyfHx0KSh0ZSh3SSkpfSx0Lsm1cHJvdj1xKHt0b2tlbjp0LGZhY3Rvcnk6dC7JtWZhY30pLGV9KSgpO2NvbnN0IEFJPW5ldyBzZSgiIiksWWs9IlhTUkYtVE9LRU4iLEprPW5ldyBzZSgiIix7cHJvdmlkZWRJbjoicm9vdCIsZmFjdG9yeTooKT0+WWt9KSxlTz0iWC1YU1JGLVRPS0VOIix0Tz1uZXcgc2UoIiIse3Byb3ZpZGVkSW46InJvb3QiLGZhY3Rvcnk6KCk9PmVPfSk7Y2xhc3MgUkl7fWxldCBuTz0oKCk9Pnt2YXIgdDtjbGFzcyBle2NvbnN0cnVjdG9yKHIsaSxzKXt0aGlzLmRvYz1yLHRoaXMucGxhdGZvcm09aSx0aGlzLmNvb2tpZU5hbWU9cyx0aGlzLmxhc3RDb29raWVTdHJpbmc9IiIsdGhpcy5sYXN0VG9rZW49bnVsbCx0aGlzLnBhcnNlQ291bnQ9MH1nZXRUb2tlbigpe2lmKHRoaXMucGxhdGZvcm09PT0ic2VydmVyIilyZXR1cm4gbnVsbDtjb25zdCByPXRoaXMuZG9jLmNvb2tpZXx8IiI7cmV0dXJuIHIhPT10aGlzLmxhc3RDb29raWVTdHJpbmcmJih0aGlzLnBhcnNlQ291bnQrKyx0aGlzLmxhc3RUb2tlbj12SShyLHRoaXMuY29va2llTmFtZSksdGhpcy5sYXN0Q29va2llU3RyaW5nPXIpLHRoaXMubGFzdFRva2VufX1yZXR1cm4gdD1lLHQuybVmYWM9ZnVuY3Rpb24ocil7cmV0dXJuIG5ldyhyfHx0KSh0ZShrdCksdGUoZ3IpLHRlKEprKSl9LHQuybVwcm92PXEoe3Rva2VuOnQsZmFjdG9yeTp0Lsm1ZmFjfSksZX0pKCk7ZnVuY3Rpb24gck8odCxlKXtjb25zdCBuPXQudXJsLnRvTG93ZXJDYXNlKCk7aWYoIWIoQUkpfHx0Lm1ldGhvZD09PSJHRVQifHx0Lm1ldGhvZD09PSJIRUFEInx8bi5zdGFydHNXaXRoKCJodHRwOi8vIil8fG4uc3RhcnRzV2l0aCgiaHR0cHM6Ly8iKSlyZXR1cm4gZSh0KTtjb25zdCByPWIoUkkpLmdldFRva2VuKCksaT1iKHRPKTtyZXR1cm4gciE9bnVsbCYmIXQuaGVhZGVycy5oYXMoaSkmJih0PXQuY2xvbmUoe2hlYWRlcnM6dC5oZWFkZXJzLnNldChpLHIpfSkpLGUodCl9dmFyIGJJPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuSW50ZXJjZXB0b3JzPTBdPSJJbnRlcmNlcHRvcnMiLHRbdC5MZWdhY3lJbnRlcmNlcHRvcnM9MV09IkxlZ2FjeUludGVyY2VwdG9ycyIsdFt0LkN1c3RvbVhzcmZDb25maWd1cmF0aW9uPTJdPSJDdXN0b21Yc3JmQ29uZmlndXJhdGlvbiIsdFt0Lk5vWHNyZlByb3RlY3Rpb249M109Ik5vWHNyZlByb3RlY3Rpb24iLHRbdC5Kc29ucFN1cHBvcnQ9NF09Ikpzb25wU3VwcG9ydCIsdFt0LlJlcXVlc3RzTWFkZVZpYVBhcmVudD01XT0iUmVxdWVzdHNNYWRlVmlhUGFyZW50Iix0W3QuRmV0Y2g9Nl09IkZldGNoIix0fShiSXx8e30pO2Z1bmN0aW9uIGlPKHQsZSl7cmV0dXJue8m1a2luZDp0LMm1cHJvdmlkZXJzOmV9fWZ1bmN0aW9uIHNPKC4uLnQpe2NvbnN0IGU9W0lJLFVtLEZtLHtwcm92aWRlOnFmLHVzZUV4aXN0aW5nOkZtfSx7cHJvdmlkZTp6Zix1c2VFeGlzdGluZzpVbX0se3Byb3ZpZGU6VEksdXNlVmFsdWU6ck8sbXVsdGk6ITB9LHtwcm92aWRlOkFJLHVzZVZhbHVlOiEwfSx7cHJvdmlkZTpSSSx1c2VDbGFzczpuT31dO2Zvcihjb25zdCBuIG9mIHQpZS5wdXNoKC4uLm4uybVwcm92aWRlcnMpO3JldHVybiBpcyhlKX1mdW5jdGlvbiBvTygpe3JldHVybiBpTyhiSS5GZXRjaCxbeGwse3Byb3ZpZGU6emYsdXNlRXhpc3Rpbmc6eGx9LHtwcm92aWRlOkNJLHVzZUV4aXN0aW5nOnhsfV0pfWNvbnN0IGptPSJiIiwkbT0iaCIsQm09InMiLEhtPSJzdCIscW09InUiLHptPSJydCIsemE9bmV3IHNlKCIiKSxhTz1bIkdFVCIsIkhFQUQiXTtmdW5jdGlvbiBjTyh0LGUpe2NvbnN0e2lzQ2FjaGVBY3RpdmU6biwuLi5yfT1iKHphKSx7dHJhbnNmZXJDYWNoZTppLG1ldGhvZDpzfT10O2lmKCFufHxzPT09IlBPU1QiJiYhci5pbmNsdWRlUG9zdFJlcXVlc3RzJiYhaXx8cyE9PSJQT1NUIiYmIWFPLmluY2x1ZGVzKHMpfHxpPT09ITF8fHIuZmlsdGVyPy4odCk9PT0hMSlyZXR1cm4gZSh0KTtjb25zdCBvPWIocW8pLGE9bE8odCksYz1vLmdldChhLG51bGwpO2xldCB1PXIuaW5jbHVkZUhlYWRlcnM7aWYodHlwZW9mIGk9PSJvYmplY3QiJiZpLmluY2x1ZGVIZWFkZXJzJiYodT1pLmluY2x1ZGVIZWFkZXJzKSxjKXtjb25zdHtbam1dOmwsW3ptXTpoLFskbV06ZCxbQm1dOmYsW0htXTptLFtxbV06eX09YztsZXQgXz1sO3N3aXRjaChoKXtjYXNlImFycmF5YnVmZmVyIjpfPW5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShsKS5idWZmZXI7YnJlYWs7Y2FzZSJibG9iIjpfPW5ldyBCbG9iKFtsXSk7YnJlYWt9bGV0IFQ9bmV3IFV0KGQpO3JldHVybiBlZShuZXcgcXIoe2JvZHk6XyxoZWFkZXJzOlQsc3RhdHVzOmYsc3RhdHVzVGV4dDptLHVybDp5fSkpfXJldHVybiBlKHQpLnBpcGUocWUobD0+e2wgaW5zdGFuY2VvZiBxciYmby5zZXQoYSx7W2ptXTpsLmJvZHksWyRtXTp1TyhsLmhlYWRlcnMsdSksW0JtXTpsLnN0YXR1cyxbSG1dOmwuc3RhdHVzVGV4dCxbcW1dOmwudXJsfHwiIixbem1dOnQucmVzcG9uc2VUeXBlfSl9KSl9ZnVuY3Rpb24gdU8odCxlKXtpZighZSlyZXR1cm57fTtjb25zdCBuPXt9O2Zvcihjb25zdCByIG9mIGUpe2NvbnN0IGk9dC5nZXRBbGwocik7aSE9PW51bGwmJihuW3JdPWkpfXJldHVybiBufWZ1bmN0aW9uIGxPKHQpe2NvbnN0e3BhcmFtczplLG1ldGhvZDpuLHJlc3BvbnNlVHlwZTpyLHVybDppLGJvZHk6c309dCxvPWUua2V5cygpLnNvcnQoKS5tYXAobD0+YCR7bH09JHtlLmdldEFsbChsKX1gKS5qb2luKCImIiksYz1bbixyLGksdHlwZW9mIHM9PSJzdHJpbmciP3M6IiIsb10uam9pbigifCIpLHU9aE8oYyk7cmV0dXJuIHV9ZnVuY3Rpb24gaE8odCl7bGV0IGU9MDtmb3IoY29uc3QgbiBvZiB0KWU9TWF0aC5pbXVsKDMxLGUpK24uY2hhckNvZGVBdCgwKTw8MDtyZXR1cm4gZSs9MjE0NzQ4MzY0OCxlLnRvU3RyaW5nKCl9ZnVuY3Rpb24gZE8odCl7cmV0dXJuW3twcm92aWRlOnphLHVzZUZhY3Rvcnk6KCk9Pih0aSgiTmdIdHRwVHJhbnNmZXJDYWNoZSIpLHtpc0NhY2hlQWN0aXZlOiEwLC4uLnR9KX0se3Byb3ZpZGU6U0ksdXNlVmFsdWU6Y08sbXVsdGk6ITAsZGVwczpbcW8semFdfSx7cHJvdmlkZTp3dSxtdWx0aTohMCx1c2VGYWN0b3J5OigpPT57Y29uc3QgZT1iKFdvKSxuPWIoemEpO3JldHVybigpPT57ZEkoZSkudGhlbigoKT0+e24uaXNDYWNoZUFjdGl2ZT0hMX0pfX19XX1jbGFzcyBmTyBleHRlbmRzIFNre2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnN1cHBvcnRzRE9NRXZlbnRzPSEwfX1jbGFzcyBHZiBleHRlbmRzIGZPe3N0YXRpYyBtYWtlQ3VycmVudCgpe1RrKG5ldyBHZil9b25BbmRDYW5jZWwoZSxuLHIpe3JldHVybiBlLmFkZEV2ZW50TGlzdGVuZXIobixyKSwoKT0+e2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLHIpfX1kaXNwYXRjaEV2ZW50KGUsbil7ZS5kaXNwYXRjaEV2ZW50KG4pfXJlbW92ZShlKXtlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKX1jcmVhdGVFbGVtZW50KGUsbil7cmV0dXJuIG49bnx8dGhpcy5nZXREZWZhdWx0RG9jdW1lbnQoKSxuLmNyZWF0ZUVsZW1lbnQoZSl9Y3JlYXRlSHRtbERvY3VtZW50KCl7cmV0dXJuIGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiZmFrZVRpdGxlIil9Z2V0RGVmYXVsdERvY3VtZW50KCl7cmV0dXJuIGRvY3VtZW50fWlzRWxlbWVudE5vZGUoZSl7cmV0dXJuIGUubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERX1pc1NoYWRvd1Jvb3QoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50fWdldEdsb2JhbEV2ZW50VGFyZ2V0KGUsbil7cmV0dXJuIG49PT0id2luZG93Ij93aW5kb3c6bj09PSJkb2N1bWVudCI/ZTpuPT09ImJvZHkiP2UuYm9keTpudWxsfWdldEJhc2VIcmVmKGUpe2NvbnN0IG49cE8oKTtyZXR1cm4gbj09bnVsbD9udWxsOmdPKG4pfXJlc2V0QmFzZUVsZW1lbnQoKXt3cz1udWxsfWdldFVzZXJBZ2VudCgpe3JldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudH1nZXRDb29raWUoZSl7cmV0dXJuIHZJKGRvY3VtZW50LmNvb2tpZSxlKX19bGV0IHdzPW51bGw7ZnVuY3Rpb24gcE8oKXtyZXR1cm4gd3M9d3N8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImJhc2UiKSx3cz93cy5nZXRBdHRyaWJ1dGUoImhyZWYiKTpudWxsfWZ1bmN0aW9uIGdPKHQpe3JldHVybiBuZXcgVVJMKHQsZG9jdW1lbnQuYmFzZVVSSSkucGF0aG5hbWV9bGV0IG1PPSgoKT0+e3ZhciB0O2NsYXNzIGV7YnVpbGQoKXtyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0fX1yZXR1cm4gdD1lLHQuybVmYWM9ZnVuY3Rpb24ocil7cmV0dXJuIG5ldyhyfHx0KX0sdC7JtXByb3Y9cSh7dG9rZW46dCxmYWN0b3J5OnQuybVmYWN9KSxlfSkoKTtjb25zdCB6aD1uZXcgc2UoIiIpO2xldCBEST0oKCk9Pnt2YXIgdDtjbGFzcyBle2NvbnN0cnVjdG9yKHIsaSl7dGhpcy5fem9uZT1pLHRoaXMuX2V2ZW50TmFtZVRvUGx1Z2luPW5ldyBNYXAsci5mb3JFYWNoKHM9PntzLm1hbmFnZXI9dGhpc30pLHRoaXMuX3BsdWdpbnM9ci5zbGljZSgpLnJldmVyc2UoKX1hZGRFdmVudExpc3RlbmVyKHIsaSxzKXtyZXR1cm4gdGhpcy5fZmluZFBsdWdpbkZvcihpKS5hZGRFdmVudExpc3RlbmVyKHIsaSxzKX1nZXRab25lKCl7cmV0dXJuIHRoaXMuX3pvbmV9X2ZpbmRQbHVnaW5Gb3Iocil7bGV0IGk9dGhpcy5fZXZlbnROYW1lVG9QbHVnaW4uZ2V0KHIpO2lmKGkpcmV0dXJuIGk7aWYoaT10aGlzLl9wbHVnaW5zLmZpbmQobz0+by5zdXBwb3J0cyhyKSksIWkpdGhyb3cgbmV3IFcoNTEwMSwhMSk7cmV0dXJuIHRoaXMuX2V2ZW50TmFtZVRvUGx1Z2luLnNldChyLGkpLGl9fXJldHVybiB0PWUsdC7JtWZhYz1mdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fHQpKHRlKHpoKSx0ZShNZSkpfSx0Lsm1cHJvdj1xKHt0b2tlbjp0LGZhY3Rvcnk6dC7JtWZhY30pLGV9KSgpO2NsYXNzIFBJe2NvbnN0cnVjdG9yKGUpe3RoaXMuX2RvYz1lfX1jb25zdCBMbD0ibmctYXBwLWlkIjtsZXQgTUk9KCgpPT57dmFyIHQ7Y2xhc3MgZXtjb25zdHJ1Y3RvcihyLGkscyxvPXt9KXt0aGlzLmRvYz1yLHRoaXMuYXBwSWQ9aSx0aGlzLm5vbmNlPXMsdGhpcy5wbGF0Zm9ybUlkPW8sdGhpcy5zdHlsZVJlZj1uZXcgTWFwLHRoaXMuaG9zdE5vZGVzPW5ldyBTZXQsdGhpcy5zdHlsZU5vZGVzSW5ET009dGhpcy5jb2xsZWN0U2VydmVyUmVuZGVyZWRTdHlsZXMoKSx0aGlzLnBsYXRmb3JtSXNTZXJ2ZXI9RUkobyksdGhpcy5yZXNldEhvc3ROb2RlcygpfWFkZFN0eWxlcyhyKXtmb3IoY29uc3QgaSBvZiByKXRoaXMuY2hhbmdlVXNhZ2VDb3VudChpLDEpPT09MSYmdGhpcy5vblN0eWxlQWRkZWQoaSl9cmVtb3ZlU3R5bGVzKHIpe2Zvcihjb25zdCBpIG9mIHIpdGhpcy5jaGFuZ2VVc2FnZUNvdW50KGksLTEpPD0wJiZ0aGlzLm9uU3R5bGVSZW1vdmVkKGkpfW5nT25EZXN0cm95KCl7Y29uc3Qgcj10aGlzLnN0eWxlTm9kZXNJbkRPTTtyJiYoci5mb3JFYWNoKGk9PmkucmVtb3ZlKCkpLHIuY2xlYXIoKSk7Zm9yKGNvbnN0IGkgb2YgdGhpcy5nZXRBbGxTdHlsZXMoKSl0aGlzLm9uU3R5bGVSZW1vdmVkKGkpO3RoaXMucmVzZXRIb3N0Tm9kZXMoKX1hZGRIb3N0KHIpe3RoaXMuaG9zdE5vZGVzLmFkZChyKTtmb3IoY29uc3QgaSBvZiB0aGlzLmdldEFsbFN0eWxlcygpKXRoaXMuYWRkU3R5bGVUb0hvc3QocixpKX1yZW1vdmVIb3N0KHIpe3RoaXMuaG9zdE5vZGVzLmRlbGV0ZShyKX1nZXRBbGxTdHlsZXMoKXtyZXR1cm4gdGhpcy5zdHlsZVJlZi5rZXlzKCl9b25TdHlsZUFkZGVkKHIpe2Zvcihjb25zdCBpIG9mIHRoaXMuaG9zdE5vZGVzKXRoaXMuYWRkU3R5bGVUb0hvc3QoaSxyKX1vblN0eWxlUmVtb3ZlZChyKXtjb25zdCBpPXRoaXMuc3R5bGVSZWY7aS5nZXQocik/LmVsZW1lbnRzPy5mb3JFYWNoKHM9PnMucmVtb3ZlKCkpLGkuZGVsZXRlKHIpfWNvbGxlY3RTZXJ2ZXJSZW5kZXJlZFN0eWxlcygpe2NvbnN0IHI9dGhpcy5kb2MuaGVhZD8ucXVlcnlTZWxlY3RvckFsbChgc3R5bGVbJHtMbH09IiR7dGhpcy5hcHBJZH0iXWApO2lmKHI/Lmxlbmd0aCl7Y29uc3QgaT1uZXcgTWFwO3JldHVybiByLmZvckVhY2gocz0+e3MudGV4dENvbnRlbnQhPW51bGwmJmkuc2V0KHMudGV4dENvbnRlbnQscyl9KSxpfXJldHVybiBudWxsfWNoYW5nZVVzYWdlQ291bnQocixpKXtjb25zdCBzPXRoaXMuc3R5bGVSZWY7aWYocy5oYXMocikpe2NvbnN0IG89cy5nZXQocik7cmV0dXJuIG8udXNhZ2UrPWksby51c2FnZX1yZXR1cm4gcy5zZXQocix7dXNhZ2U6aSxlbGVtZW50czpbXX0pLGl9Z2V0U3R5bGVFbGVtZW50KHIsaSl7Y29uc3Qgcz10aGlzLnN0eWxlTm9kZXNJbkRPTSxvPXM/LmdldChpKTtpZihvPy5wYXJlbnROb2RlPT09cilyZXR1cm4gcy5kZWxldGUoaSksby5yZW1vdmVBdHRyaWJ1dGUoTGwpLG87e2NvbnN0IGE9dGhpcy5kb2MuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gdGhpcy5ub25jZSYmYS5zZXRBdHRyaWJ1dGUoIm5vbmNlIix0aGlzLm5vbmNlKSxhLnRleHRDb250ZW50PWksdGhpcy5wbGF0Zm9ybUlzU2VydmVyJiZhLnNldEF0dHJpYnV0ZShMbCx0aGlzLmFwcElkKSxyLmFwcGVuZENoaWxkKGEpLGF9fWFkZFN0eWxlVG9Ib3N0KHIsaSl7Y29uc3Qgcz10aGlzLmdldFN0eWxlRWxlbWVudChyLGkpLG89dGhpcy5zdHlsZVJlZixhPW8uZ2V0KGkpPy5lbGVtZW50czthP2EucHVzaChzKTpvLnNldChpLHtlbGVtZW50czpbc10sdXNhZ2U6MX0pfXJlc2V0SG9zdE5vZGVzKCl7Y29uc3Qgcj10aGlzLmhvc3ROb2RlcztyLmNsZWFyKCksci5hZGQodGhpcy5kb2MuaGVhZCl9fXJldHVybiB0PWUsdC7JtWZhYz1mdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fHQpKHRlKGt0KSx0ZShwZiksdGUoaUUsOCksdGUoZ3IpKX0sdC7JtXByb3Y9cSh7dG9rZW46dCxmYWN0b3J5OnQuybVmYWN9KSxlfSkoKTtjb25zdCBWbD17c3ZnOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIseGh0bWw6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLHhsaW5rOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIix4bWw6Imh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZSIseG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvIixtYXRoOiJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGhNTC8ifSxLZj0vJUNPTVAlL2csTkk9IiVDT01QJSIseU89YF9uZ2hvc3QtJHtOSX1gLHZPPWBfbmdjb250ZW50LSR7Tkl9YCxfTz0hMCxFTz1uZXcgc2UoIiIse3Byb3ZpZGVkSW46InJvb3QiLGZhY3Rvcnk6KCk9Pl9PfSk7ZnVuY3Rpb24gd08odCl7cmV0dXJuIHZPLnJlcGxhY2UoS2YsdCl9ZnVuY3Rpb24gSU8odCl7cmV0dXJuIHlPLnJlcGxhY2UoS2YsdCl9ZnVuY3Rpb24ga0kodCxlKXtyZXR1cm4gZS5tYXAobj0+bi5yZXBsYWNlKEtmLHQpKX1sZXQgV209KCgpPT57dmFyIHQ7Y2xhc3MgZXtjb25zdHJ1Y3RvcihyLGkscyxvLGEsYyx1LGw9bnVsbCl7dGhpcy5ldmVudE1hbmFnZXI9cix0aGlzLnNoYXJlZFN0eWxlc0hvc3Q9aSx0aGlzLmFwcElkPXMsdGhpcy5yZW1vdmVTdHlsZXNPbkNvbXBEZXN0cm95PW8sdGhpcy5kb2M9YSx0aGlzLnBsYXRmb3JtSWQ9Yyx0aGlzLm5nWm9uZT11LHRoaXMubm9uY2U9bCx0aGlzLnJlbmRlcmVyQnlDb21wSWQ9bmV3IE1hcCx0aGlzLnBsYXRmb3JtSXNTZXJ2ZXI9RUkoYyksdGhpcy5kZWZhdWx0UmVuZGVyZXI9bmV3IFFmKHIsYSx1LHRoaXMucGxhdGZvcm1Jc1NlcnZlcil9Y3JlYXRlUmVuZGVyZXIocixpKXtpZighcnx8IWkpcmV0dXJuIHRoaXMuZGVmYXVsdFJlbmRlcmVyO3RoaXMucGxhdGZvcm1Jc1NlcnZlciYmaS5lbmNhcHN1bGF0aW9uPT09Um4uU2hhZG93RG9tJiYoaT17Li4uaSxlbmNhcHN1bGF0aW9uOlJuLkVtdWxhdGVkfSk7Y29uc3Qgcz10aGlzLmdldE9yQ3JlYXRlUmVuZGVyZXIocixpKTtyZXR1cm4gcyBpbnN0YW5jZW9mIEttP3MuYXBwbHlUb0hvc3Qocik6cyBpbnN0YW5jZW9mIFdoJiZzLmFwcGx5U3R5bGVzKCksc31nZXRPckNyZWF0ZVJlbmRlcmVyKHIsaSl7Y29uc3Qgcz10aGlzLnJlbmRlcmVyQnlDb21wSWQ7bGV0IG89cy5nZXQoaS5pZCk7aWYoIW8pe2NvbnN0IGE9dGhpcy5kb2MsYz10aGlzLm5nWm9uZSx1PXRoaXMuZXZlbnRNYW5hZ2VyLGw9dGhpcy5zaGFyZWRTdHlsZXNIb3N0LGg9dGhpcy5yZW1vdmVTdHlsZXNPbkNvbXBEZXN0cm95LGQ9dGhpcy5wbGF0Zm9ybUlzU2VydmVyO3N3aXRjaChpLmVuY2Fwc3VsYXRpb24pe2Nhc2UgUm4uRW11bGF0ZWQ6bz1uZXcgS20odSxsLGksdGhpcy5hcHBJZCxoLGEsYyxkKTticmVhaztjYXNlIFJuLlNoYWRvd0RvbTpyZXR1cm4gbmV3IFRPKHUsbCxyLGksYSxjLHRoaXMubm9uY2UsZCk7ZGVmYXVsdDpvPW5ldyBXaCh1LGwsaSxoLGEsYyxkKTticmVha31zLnNldChpLmlkLG8pfXJldHVybiBvfW5nT25EZXN0cm95KCl7dGhpcy5yZW5kZXJlckJ5Q29tcElkLmNsZWFyKCl9fXJldHVybiB0PWUsdC7JtWZhYz1mdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fHQpKHRlKERJKSx0ZShNSSksdGUocGYpLHRlKEVPKSx0ZShrdCksdGUoZ3IpLHRlKE1lKSx0ZShpRSkpfSx0Lsm1cHJvdj1xKHt0b2tlbjp0LGZhY3Rvcnk6dC7JtWZhY30pLGV9KSgpO2NsYXNzIFFme2NvbnN0cnVjdG9yKGUsbixyLGkpe3RoaXMuZXZlbnRNYW5hZ2VyPWUsdGhpcy5kb2M9bix0aGlzLm5nWm9uZT1yLHRoaXMucGxhdGZvcm1Jc1NlcnZlcj1pLHRoaXMuZGF0YT1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMudGhyb3dPblN5bnRoZXRpY1Byb3BzPSEwLHRoaXMuZGVzdHJveU5vZGU9bnVsbH1kZXN0cm95KCl7fWNyZWF0ZUVsZW1lbnQoZSxuKXtyZXR1cm4gbj90aGlzLmRvYy5jcmVhdGVFbGVtZW50TlMoVmxbbl18fG4sZSk6dGhpcy5kb2MuY3JlYXRlRWxlbWVudChlKX1jcmVhdGVDb21tZW50KGUpe3JldHVybiB0aGlzLmRvYy5jcmVhdGVDb21tZW50KGUpfWNyZWF0ZVRleHQoZSl7cmV0dXJuIHRoaXMuZG9jLmNyZWF0ZVRleHROb2RlKGUpfWFwcGVuZENoaWxkKGUsbil7KEdtKGUpP2UuY29udGVudDplKS5hcHBlbmRDaGlsZChuKX1pbnNlcnRCZWZvcmUoZSxuLHIpe2UmJihHbShlKT9lLmNvbnRlbnQ6ZSkuaW5zZXJ0QmVmb3JlKG4scil9cmVtb3ZlQ2hpbGQoZSxuKXtlJiZlLnJlbW92ZUNoaWxkKG4pfXNlbGVjdFJvb3RFbGVtZW50KGUsbil7bGV0IHI9dHlwZW9mIGU9PSJzdHJpbmciP3RoaXMuZG9jLnF1ZXJ5U2VsZWN0b3IoZSk6ZTtpZighcil0aHJvdyBuZXcgVygtNTEwNCwhMSk7cmV0dXJuIG58fChyLnRleHRDb250ZW50PSIiKSxyfXBhcmVudE5vZGUoZSl7cmV0dXJuIGUucGFyZW50Tm9kZX1uZXh0U2libGluZyhlKXtyZXR1cm4gZS5uZXh0U2libGluZ31zZXRBdHRyaWJ1dGUoZSxuLHIsaSl7aWYoaSl7bj1pKyI6IituO2NvbnN0IHM9VmxbaV07cz9lLnNldEF0dHJpYnV0ZU5TKHMsbixyKTplLnNldEF0dHJpYnV0ZShuLHIpfWVsc2UgZS5zZXRBdHRyaWJ1dGUobixyKX1yZW1vdmVBdHRyaWJ1dGUoZSxuLHIpe2lmKHIpe2NvbnN0IGk9Vmxbcl07aT9lLnJlbW92ZUF0dHJpYnV0ZU5TKGksbik6ZS5yZW1vdmVBdHRyaWJ1dGUoYCR7cn06JHtufWApfWVsc2UgZS5yZW1vdmVBdHRyaWJ1dGUobil9YWRkQ2xhc3MoZSxuKXtlLmNsYXNzTGlzdC5hZGQobil9cmVtb3ZlQ2xhc3MoZSxuKXtlLmNsYXNzTGlzdC5yZW1vdmUobil9c2V0U3R5bGUoZSxuLHIsaSl7aSYoUnIuRGFzaENhc2V8UnIuSW1wb3J0YW50KT9lLnN0eWxlLnNldFByb3BlcnR5KG4scixpJlJyLkltcG9ydGFudD8iaW1wb3J0YW50IjoiIik6ZS5zdHlsZVtuXT1yfXJlbW92ZVN0eWxlKGUsbixyKXtyJlJyLkRhc2hDYXNlP2Uuc3R5bGUucmVtb3ZlUHJvcGVydHkobik6ZS5zdHlsZVtuXT0iIn1zZXRQcm9wZXJ0eShlLG4scil7ZSE9bnVsbCYmKGVbbl09cil9c2V0VmFsdWUoZSxuKXtlLm5vZGVWYWx1ZT1ufWxpc3RlbihlLG4scil7aWYodHlwZW9mIGU9PSJzdHJpbmciJiYoZT1DaSgpLmdldEdsb2JhbEV2ZW50VGFyZ2V0KHRoaXMuZG9jLGUpLCFlKSl0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGV2ZW50IHRhcmdldCAke2V9IGZvciBldmVudCAke259YCk7cmV0dXJuIHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZSxuLHRoaXMuZGVjb3JhdGVQcmV2ZW50RGVmYXVsdChyKSl9ZGVjb3JhdGVQcmV2ZW50RGVmYXVsdChlKXtyZXR1cm4gbj0+e2lmKG49PT0iX19uZ1Vud3JhcF9fIilyZXR1cm4gZTsodGhpcy5wbGF0Zm9ybUlzU2VydmVyP3RoaXMubmdab25lLnJ1bkd1YXJkZWQoKCk9PmUobikpOmUobikpPT09ITEmJm4ucHJldmVudERlZmF1bHQoKX19fWZ1bmN0aW9uIEdtKHQpe3JldHVybiB0LnRhZ05hbWU9PT0iVEVNUExBVEUiJiZ0LmNvbnRlbnQhPT12b2lkIDB9Y2xhc3MgVE8gZXh0ZW5kcyBRZntjb25zdHJ1Y3RvcihlLG4scixpLHMsbyxhLGMpe3N1cGVyKGUscyxvLGMpLHRoaXMuc2hhcmVkU3R5bGVzSG9zdD1uLHRoaXMuaG9zdEVsPXIsdGhpcy5zaGFkb3dSb290PXIuYXR0YWNoU2hhZG93KHttb2RlOiJvcGVuIn0pLHRoaXMuc2hhcmVkU3R5bGVzSG9zdC5hZGRIb3N0KHRoaXMuc2hhZG93Um9vdCk7Y29uc3QgdT1rSShpLmlkLGkuc3R5bGVzKTtmb3IoY29uc3QgbCBvZiB1KXtjb25zdCBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7YSYmaC5zZXRBdHRyaWJ1dGUoIm5vbmNlIixhKSxoLnRleHRDb250ZW50PWwsdGhpcy5zaGFkb3dSb290LmFwcGVuZENoaWxkKGgpfX1ub2RlT3JTaGFkb3dSb290KGUpe3JldHVybiBlPT09dGhpcy5ob3N0RWw/dGhpcy5zaGFkb3dSb290OmV9YXBwZW5kQ2hpbGQoZSxuKXtyZXR1cm4gc3VwZXIuYXBwZW5kQ2hpbGQodGhpcy5ub2RlT3JTaGFkb3dSb290KGUpLG4pfWluc2VydEJlZm9yZShlLG4scil7cmV0dXJuIHN1cGVyLmluc2VydEJlZm9yZSh0aGlzLm5vZGVPclNoYWRvd1Jvb3QoZSksbixyKX1yZW1vdmVDaGlsZChlLG4pe3JldHVybiBzdXBlci5yZW1vdmVDaGlsZCh0aGlzLm5vZGVPclNoYWRvd1Jvb3QoZSksbil9cGFyZW50Tm9kZShlKXtyZXR1cm4gdGhpcy5ub2RlT3JTaGFkb3dSb290KHN1cGVyLnBhcmVudE5vZGUodGhpcy5ub2RlT3JTaGFkb3dSb290KGUpKSl9ZGVzdHJveSgpe3RoaXMuc2hhcmVkU3R5bGVzSG9zdC5yZW1vdmVIb3N0KHRoaXMuc2hhZG93Um9vdCl9fWNsYXNzIFdoIGV4dGVuZHMgUWZ7Y29uc3RydWN0b3IoZSxuLHIsaSxzLG8sYSxjKXtzdXBlcihlLHMsbyxhKSx0aGlzLnNoYXJlZFN0eWxlc0hvc3Q9bix0aGlzLnJlbW92ZVN0eWxlc09uQ29tcERlc3Ryb3k9aSx0aGlzLnN0eWxlcz1jP2tJKGMsci5zdHlsZXMpOnIuc3R5bGVzfWFwcGx5U3R5bGVzKCl7dGhpcy5zaGFyZWRTdHlsZXNIb3N0LmFkZFN0eWxlcyh0aGlzLnN0eWxlcyl9ZGVzdHJveSgpe3RoaXMucmVtb3ZlU3R5bGVzT25Db21wRGVzdHJveSYmdGhpcy5zaGFyZWRTdHlsZXNIb3N0LnJlbW92ZVN0eWxlcyh0aGlzLnN0eWxlcyl9fWNsYXNzIEttIGV4dGVuZHMgV2h7Y29uc3RydWN0b3IoZSxuLHIsaSxzLG8sYSxjKXtjb25zdCB1PWkrIi0iK3IuaWQ7c3VwZXIoZSxuLHIscyxvLGEsYyx1KSx0aGlzLmNvbnRlbnRBdHRyPXdPKHUpLHRoaXMuaG9zdEF0dHI9SU8odSl9YXBwbHlUb0hvc3QoZSl7dGhpcy5hcHBseVN0eWxlcygpLHRoaXMuc2V0QXR0cmlidXRlKGUsdGhpcy5ob3N0QXR0ciwiIil9Y3JlYXRlRWxlbWVudChlLG4pe2NvbnN0IHI9c3VwZXIuY3JlYXRlRWxlbWVudChlLG4pO3JldHVybiBzdXBlci5zZXRBdHRyaWJ1dGUocix0aGlzLmNvbnRlbnRBdHRyLCIiKSxyfX1sZXQgU089KCgpPT57dmFyIHQ7Y2xhc3MgZSBleHRlbmRzIFBJe2NvbnN0cnVjdG9yKHIpe3N1cGVyKHIpfXN1cHBvcnRzKHIpe3JldHVybiEwfWFkZEV2ZW50TGlzdGVuZXIocixpLHMpe3JldHVybiByLmFkZEV2ZW50TGlzdGVuZXIoaSxzLCExKSwoKT0+dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKHIsaSxzKX1yZW1vdmVFdmVudExpc3RlbmVyKHIsaSxzKXtyZXR1cm4gci5yZW1vdmVFdmVudExpc3RlbmVyKGkscyl9fXJldHVybiB0PWUsdC7JtWZhYz1mdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fHQpKHRlKGt0KSl9LHQuybVwcm92PXEoe3Rva2VuOnQsZmFjdG9yeTp0Lsm1ZmFjfSksZX0pKCk7Y29uc3QgUW09WyJhbHQiLCJjb250cm9sIiwibWV0YSIsInNoaWZ0Il0sQ089eyJcYiI6IkJhY2tzcGFjZSIsIgkiOiJUYWIiLCJ/IjoiRGVsZXRlIiwiXHgxQiI6IkVzY2FwZSIsRGVsOiJEZWxldGUiLEVzYzoiRXNjYXBlIixMZWZ0OiJBcnJvd0xlZnQiLFJpZ2h0OiJBcnJvd1JpZ2h0IixVcDoiQXJyb3dVcCIsRG93bjoiQXJyb3dEb3duIixNZW51OiJDb250ZXh0TWVudSIsU2Nyb2xsOiJTY3JvbGxMb2NrIixXaW46Ik9TIn0sQU89e2FsdDp0PT50LmFsdEtleSxjb250cm9sOnQ9PnQuY3RybEtleSxtZXRhOnQ9PnQubWV0YUtleSxzaGlmdDp0PT50LnNoaWZ0S2V5fTtsZXQgUk89KCgpPT57dmFyIHQ7Y2xhc3MgZSBleHRlbmRzIFBJe2NvbnN0cnVjdG9yKHIpe3N1cGVyKHIpfXN1cHBvcnRzKHIpe3JldHVybiBlLnBhcnNlRXZlbnROYW1lKHIpIT1udWxsfWFkZEV2ZW50TGlzdGVuZXIocixpLHMpe2NvbnN0IG89ZS5wYXJzZUV2ZW50TmFtZShpKSxhPWUuZXZlbnRDYWxsYmFjayhvLmZ1bGxLZXkscyx0aGlzLm1hbmFnZXIuZ2V0Wm9uZSgpKTtyZXR1cm4gdGhpcy5tYW5hZ2VyLmdldFpvbmUoKS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+Q2koKS5vbkFuZENhbmNlbChyLG8uZG9tRXZlbnROYW1lLGEpKX1zdGF0aWMgcGFyc2VFdmVudE5hbWUocil7Y29uc3QgaT1yLnRvTG93ZXJDYXNlKCkuc3BsaXQoIi4iKSxzPWkuc2hpZnQoKTtpZihpLmxlbmd0aD09PTB8fCEocz09PSJrZXlkb3duInx8cz09PSJrZXl1cCIpKXJldHVybiBudWxsO2NvbnN0IG89ZS5fbm9ybWFsaXplS2V5KGkucG9wKCkpO2xldCBhPSIiLGM9aS5pbmRleE9mKCJjb2RlIik7aWYoYz4tMSYmKGkuc3BsaWNlKGMsMSksYT0iY29kZS4iKSxRbS5mb3JFYWNoKGw9Pntjb25zdCBoPWkuaW5kZXhPZihsKTtoPi0xJiYoaS5zcGxpY2UoaCwxKSxhKz1sKyIuIil9KSxhKz1vLGkubGVuZ3RoIT0wfHxvLmxlbmd0aD09PTApcmV0dXJuIG51bGw7Y29uc3QgdT17fTtyZXR1cm4gdS5kb21FdmVudE5hbWU9cyx1LmZ1bGxLZXk9YSx1fXN0YXRpYyBtYXRjaEV2ZW50RnVsbEtleUNvZGUocixpKXtsZXQgcz1DT1tyLmtleV18fHIua2V5LG89IiI7cmV0dXJuIGkuaW5kZXhPZigiY29kZS4iKT4tMSYmKHM9ci5jb2RlLG89ImNvZGUuIikscz09bnVsbHx8IXM/ITE6KHM9cy50b0xvd2VyQ2FzZSgpLHM9PT0iICI/cz0ic3BhY2UiOnM9PT0iLiImJihzPSJkb3QiKSxRbS5mb3JFYWNoKGE9PntpZihhIT09cyl7Y29uc3QgYz1BT1thXTtjKHIpJiYobys9YSsiLiIpfX0pLG8rPXMsbz09PWkpfXN0YXRpYyBldmVudENhbGxiYWNrKHIsaSxzKXtyZXR1cm4gbz0+e2UubWF0Y2hFdmVudEZ1bGxLZXlDb2RlKG8scikmJnMucnVuR3VhcmRlZCgoKT0+aShvKSl9fXN0YXRpYyBfbm9ybWFsaXplS2V5KHIpe3JldHVybiByPT09ImVzYyI/ImVzY2FwZSI6cn19cmV0dXJuIHQ9ZSx0Lsm1ZmFjPWZ1bmN0aW9uKHIpe3JldHVybiBuZXcocnx8dCkodGUoa3QpKX0sdC7JtXByb3Y9cSh7dG9rZW46dCxmYWN0b3J5OnQuybVmYWN9KSxlfSkoKTtmdW5jdGlvbiBiTyh0LGUpe3JldHVybiB2ayh7cm9vdENvbXBvbmVudDp0LC4uLkRPKGUpfSl9ZnVuY3Rpb24gRE8odCl7cmV0dXJue2FwcFByb3ZpZGVyczpbLi4uT08sLi4udD8ucHJvdmlkZXJzPz9bXV0scGxhdGZvcm1Qcm92aWRlcnM6a099fWZ1bmN0aW9uIFBPKCl7R2YubWFrZUN1cnJlbnQoKX1mdW5jdGlvbiBNTygpe3JldHVybiBuZXcgSnJ9ZnVuY3Rpb24gTk8oKXtyZXR1cm4gY0QoZG9jdW1lbnQpLGRvY3VtZW50fWNvbnN0IGtPPVt7cHJvdmlkZTpncix1c2VWYWx1ZTpfSX0se3Byb3ZpZGU6ckUsdXNlVmFsdWU6UE8sbXVsdGk6ITB9LHtwcm92aWRlOmt0LHVzZUZhY3Rvcnk6Tk8sZGVwczpbXX1dO2NvbnN0IE9PPVt7cHJvdmlkZTpfZix1c2VWYWx1ZToicm9vdCJ9LHtwcm92aWRlOkpyLHVzZUZhY3Rvcnk6TU8sZGVwczpbXX0se3Byb3ZpZGU6emgsdXNlQ2xhc3M6U08sbXVsdGk6ITAsZGVwczpba3QsTWUsZ3JdfSx7cHJvdmlkZTp6aCx1c2VDbGFzczpSTyxtdWx0aTohMCxkZXBzOltrdF19LFdtLE1JLERJLHtwcm92aWRlOlV3LHVzZUV4aXN0aW5nOldtfSx7cHJvdmlkZTp3SSx1c2VDbGFzczptTyxkZXBzOltdfSxbXV07bGV0IHhPPSgoKT0+e3ZhciB0O2NsYXNzIGV7Y29uc3RydWN0b3Iocil7dGhpcy5fZG9jPXIsdGhpcy5fZG9tPUNpKCl9YWRkVGFnKHIsaT0hMSl7cmV0dXJuIHI/dGhpcy5fZ2V0T3JDcmVhdGVFbGVtZW50KHIsaSk6bnVsbH1hZGRUYWdzKHIsaT0hMSl7cmV0dXJuIHI/ci5yZWR1Y2UoKHMsbyk9PihvJiZzLnB1c2godGhpcy5fZ2V0T3JDcmVhdGVFbGVtZW50KG8saSkpLHMpLFtdKTpbXX1nZXRUYWcocil7cmV0dXJuIHImJnRoaXMuX2RvYy5xdWVyeVNlbGVjdG9yKGBtZXRhWyR7cn1dYCl8fG51bGx9Z2V0VGFncyhyKXtpZighcilyZXR1cm5bXTtjb25zdCBpPXRoaXMuX2RvYy5xdWVyeVNlbGVjdG9yQWxsKGBtZXRhWyR7cn1dYCk7cmV0dXJuIGk/W10uc2xpY2UuY2FsbChpKTpbXX11cGRhdGVUYWcocixpKXtpZighcilyZXR1cm4gbnVsbDtpPWl8fHRoaXMuX3BhcnNlU2VsZWN0b3Iocik7Y29uc3Qgcz10aGlzLmdldFRhZyhpKTtyZXR1cm4gcz90aGlzLl9zZXRNZXRhRWxlbWVudEF0dHJpYnV0ZXMocixzKTp0aGlzLl9nZXRPckNyZWF0ZUVsZW1lbnQociwhMCl9cmVtb3ZlVGFnKHIpe3RoaXMucmVtb3ZlVGFnRWxlbWVudCh0aGlzLmdldFRhZyhyKSl9cmVtb3ZlVGFnRWxlbWVudChyKXtyJiZ0aGlzLl9kb20ucmVtb3ZlKHIpfV9nZXRPckNyZWF0ZUVsZW1lbnQocixpPSExKXtpZighaSl7Y29uc3QgYT10aGlzLl9wYXJzZVNlbGVjdG9yKHIpLGM9dGhpcy5nZXRUYWdzKGEpLmZpbHRlcih1PT50aGlzLl9jb250YWluc0F0dHJpYnV0ZXMocix1KSlbMF07aWYoYyE9PXZvaWQgMClyZXR1cm4gY31jb25zdCBzPXRoaXMuX2RvbS5jcmVhdGVFbGVtZW50KCJtZXRhIik7cmV0dXJuIHRoaXMuX3NldE1ldGFFbGVtZW50QXR0cmlidXRlcyhyLHMpLHRoaXMuX2RvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLmFwcGVuZENoaWxkKHMpLHN9X3NldE1ldGFFbGVtZW50QXR0cmlidXRlcyhyLGkpe3JldHVybiBPYmplY3Qua2V5cyhyKS5mb3JFYWNoKHM9Pmkuc2V0QXR0cmlidXRlKHRoaXMuX2dldE1ldGFLZXlNYXAocykscltzXSkpLGl9X3BhcnNlU2VsZWN0b3Iocil7Y29uc3QgaT1yLm5hbWU/Im5hbWUiOiJwcm9wZXJ0eSI7cmV0dXJuYCR7aX09IiR7cltpXX0iYH1fY29udGFpbnNBdHRyaWJ1dGVzKHIsaSl7cmV0dXJuIE9iamVjdC5rZXlzKHIpLmV2ZXJ5KHM9PmkuZ2V0QXR0cmlidXRlKHRoaXMuX2dldE1ldGFLZXlNYXAocykpPT09cltzXSl9X2dldE1ldGFLZXlNYXAocil7cmV0dXJuIExPW3JdfHxyfX1yZXR1cm4gdD1lLHQuybVmYWM9ZnVuY3Rpb24ocil7cmV0dXJuIG5ldyhyfHx0KSh0ZShrdCkpfSx0Lsm1cHJvdj1xKHt0b2tlbjp0LGZhY3Rvcnk6dC7JtWZhYyxwcm92aWRlZEluOiJyb290In0pLGV9KSgpO2NvbnN0IExPPXtodHRwRXF1aXY6Imh0dHAtZXF1aXYifTtsZXQgVk89KCgpPT57dmFyIHQ7Y2xhc3MgZXtjb25zdHJ1Y3RvcihyKXt0aGlzLl9kb2M9cn1nZXRUaXRsZSgpe3JldHVybiB0aGlzLl9kb2MudGl0bGV9c2V0VGl0bGUocil7dGhpcy5fZG9jLnRpdGxlPXJ8fCIifX1yZXR1cm4gdD1lLHQuybVmYWM9ZnVuY3Rpb24ocil7cmV0dXJuIG5ldyhyfHx0KSh0ZShrdCkpfSx0Lsm1cHJvdj1xKHt0b2tlbjp0LGZhY3Rvcnk6dC7JtWZhYyxwcm92aWRlZEluOiJyb290In0pLGV9KSgpLEZPPSgoKT0+e3ZhciB0O2NsYXNzIGV7fXJldHVybiB0PWUsdC7JtWZhYz1mdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fHQpfSx0Lsm1cHJvdj1xKHt0b2tlbjp0LGZhY3Rvcnk6ZnVuY3Rpb24ocil7bGV0IGk9bnVsbDtyZXR1cm4gcj9pPW5ldyhyfHx0KTppPXRlKFVPKSxpfSxwcm92aWRlZEluOiJyb290In0pLGV9KSgpLFVPPSgoKT0+e3ZhciB0O2NsYXNzIGUgZXh0ZW5kcyBGT3tjb25zdHJ1Y3RvcihyKXtzdXBlcigpLHRoaXMuX2RvYz1yfXNhbml0aXplKHIsaSl7aWYoaT09bnVsbClyZXR1cm4gbnVsbDtzd2l0Y2gocil7Y2FzZSBJbi5OT05FOnJldHVybiBpO2Nhc2UgSW4uSFRNTDpyZXR1cm4gQ3IoaSwiSFRNTCIpP1luKGkpOlpFKHRoaXMuX2RvYyxTdHJpbmcoaSkpLnRvU3RyaW5nKCk7Y2FzZSBJbi5TVFlMRTpyZXR1cm4gQ3IoaSwiU3R5bGUiKT9ZbihpKTppO2Nhc2UgSW4uU0NSSVBUOmlmKENyKGksIlNjcmlwdCIpKXJldHVybiBZbihpKTt0aHJvdyBuZXcgVyg1MjAwLCExKTtjYXNlIEluLlVSTDpyZXR1cm4gQ3IoaSwiVVJMIik/WW4oaSk6Q2YoU3RyaW5nKGkpKTtjYXNlIEluLlJFU09VUkNFX1VSTDppZihDcihpLCJSZXNvdXJjZVVSTCIpKXJldHVybiBZbihpKTt0aHJvdyBuZXcgVyg1MjAxLCExKTtkZWZhdWx0OnRocm93IG5ldyBXKDUyMDIsITEpfX1ieXBhc3NTZWN1cml0eVRydXN0SHRtbChyKXtyZXR1cm4gQzAocil9YnlwYXNzU2VjdXJpdHlUcnVzdFN0eWxlKHIpe3JldHVybiBBMChyKX1ieXBhc3NTZWN1cml0eVRydXN0U2NyaXB0KHIpe3JldHVybiBSMChyKX1ieXBhc3NTZWN1cml0eVRydXN0VXJsKHIpe3JldHVybiBiMChyKX1ieXBhc3NTZWN1cml0eVRydXN0UmVzb3VyY2VVcmwocil7cmV0dXJuIEQwKHIpfX1yZXR1cm4gdD1lLHQuybVmYWM9ZnVuY3Rpb24ocil7cmV0dXJuIG5ldyhyfHx0KSh0ZShrdCkpfSx0Lsm1cHJvdj1xKHt0b2tlbjp0LGZhY3Rvcnk6dC7JtWZhYyxwcm92aWRlZEluOiJyb290In0pLGV9KSgpO3ZhciBHaD1mdW5jdGlvbih0KXtyZXR1cm4gdFt0Lk5vSHR0cFRyYW5zZmVyQ2FjaGU9MF09Ik5vSHR0cFRyYW5zZmVyQ2FjaGUiLHRbdC5IdHRwVHJhbnNmZXJDYWNoZU9wdGlvbnM9MV09Ikh0dHBUcmFuc2ZlckNhY2hlT3B0aW9ucyIsdH0oR2h8fHt9KTtmdW5jdGlvbiBqTyguLi50KXtjb25zdCBlPVtdLG49bmV3IFNldCxyPW4uaGFzKEdoLkh0dHBUcmFuc2ZlckNhY2hlT3B0aW9ucyk7Zm9yKGNvbnN0e8m1cHJvdmlkZXJzOmksybVraW5kOnN9b2YgdCluLmFkZChzKSxpLmxlbmd0aCYmZS5wdXNoKGkpO3JldHVybiBpcyhbW10sd2soKSxuLmhhcyhHaC5Ob0h0dHBUcmFuc2ZlckNhY2hlKXx8cj9bXTpkTyh7fSksZV0pfWNvbnN0IHJlPSJwcmltYXJ5IixHbz1TeW1ib2woIlJvdXRlVGl0bGUiKTtjbGFzcyAkT3tjb25zdHJ1Y3RvcihlKXt0aGlzLnBhcmFtcz1lfHx7fX1oYXMoZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnBhcmFtcyxlKX1nZXQoZSl7aWYodGhpcy5oYXMoZSkpe2NvbnN0IG49dGhpcy5wYXJhbXNbZV07cmV0dXJuIEFycmF5LmlzQXJyYXkobik/blswXTpufXJldHVybiBudWxsfWdldEFsbChlKXtpZih0aGlzLmhhcyhlKSl7Y29uc3Qgbj10aGlzLnBhcmFtc1tlXTtyZXR1cm4gQXJyYXkuaXNBcnJheShuKT9uOltuXX1yZXR1cm5bXX1nZXQga2V5cygpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyl9fWZ1bmN0aW9uIFVpKHQpe3JldHVybiBuZXcgJE8odCl9ZnVuY3Rpb24gQk8odCxlLG4pe2NvbnN0IHI9bi5wYXRoLnNwbGl0KCIvIik7aWYoci5sZW5ndGg+dC5sZW5ndGh8fG4ucGF0aE1hdGNoPT09ImZ1bGwiJiYoZS5oYXNDaGlsZHJlbigpfHxyLmxlbmd0aDx0Lmxlbmd0aCkpcmV0dXJuIG51bGw7Y29uc3QgaT17fTtmb3IobGV0IHM9MDtzPHIubGVuZ3RoO3MrKyl7Y29uc3Qgbz1yW3NdLGE9dFtzXTtpZihvLnN0YXJ0c1dpdGgoIjoiKSlpW28uc3Vic3RyaW5nKDEpXT1hO2Vsc2UgaWYobyE9PWEucGF0aClyZXR1cm4gbnVsbH1yZXR1cm57Y29uc3VtZWQ6dC5zbGljZSgwLHIubGVuZ3RoKSxwb3NQYXJhbXM6aX19ZnVuY3Rpb24gSE8odCxlKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7KytuKWlmKCF1bih0W25dLGVbbl0pKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHVuKHQsZSl7Y29uc3Qgbj10P0toKHQpOnZvaWQgMCxyPWU/S2goZSk6dm9pZCAwO2lmKCFufHwhcnx8bi5sZW5ndGghPXIubGVuZ3RoKXJldHVybiExO2xldCBpO2ZvcihsZXQgcz0wO3M8bi5sZW5ndGg7cysrKWlmKGk9bltzXSwhT0kodFtpXSxlW2ldKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBLaCh0KXtyZXR1cm5bLi4uT2JqZWN0LmtleXModCksLi4uT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KV19ZnVuY3Rpb24gT0kodCxlKXtpZihBcnJheS5pc0FycmF5KHQpJiZBcnJheS5pc0FycmF5KGUpKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2NvbnN0IG49Wy4uLnRdLnNvcnQoKSxyPVsuLi5lXS5zb3J0KCk7cmV0dXJuIG4uZXZlcnkoKGkscyk9PnJbc109PT1pKX1lbHNlIHJldHVybiB0PT09ZX1mdW5jdGlvbiB4SSh0KXtyZXR1cm4gdC5sZW5ndGg+MD90W3QubGVuZ3RoLTFdOm51bGx9ZnVuY3Rpb24geXIodCl7cmV0dXJuIFVSKHQpP3Q6RXUodCk/SXQoUHJvbWlzZS5yZXNvbHZlKHQpKTplZSh0KX1jb25zdCBxTz17ZXhhY3Q6Vkksc3Vic2V0OkZJfSxMST17ZXhhY3Q6ek8sc3Vic2V0OldPLGlnbm9yZWQ6KCk9PiEwfTtmdW5jdGlvbiBabSh0LGUsbil7cmV0dXJuIHFPW24ucGF0aHNdKHQucm9vdCxlLnJvb3Qsbi5tYXRyaXhQYXJhbXMpJiZMSVtuLnF1ZXJ5UGFyYW1zXSh0LnF1ZXJ5UGFyYW1zLGUucXVlcnlQYXJhbXMpJiYhKG4uZnJhZ21lbnQ9PT0iZXhhY3QiJiZ0LmZyYWdtZW50IT09ZS5mcmFnbWVudCl9ZnVuY3Rpb24gek8odCxlKXtyZXR1cm4gdW4odCxlKX1mdW5jdGlvbiBWSSh0LGUsbil7aWYoIWtyKHQuc2VnbWVudHMsZS5zZWdtZW50cyl8fCFXYSh0LnNlZ21lbnRzLGUuc2VnbWVudHMsbil8fHQubnVtYmVyT2ZDaGlsZHJlbiE9PWUubnVtYmVyT2ZDaGlsZHJlbilyZXR1cm4hMTtmb3IoY29uc3QgciBpbiBlLmNoaWxkcmVuKWlmKCF0LmNoaWxkcmVuW3JdfHwhVkkodC5jaGlsZHJlbltyXSxlLmNoaWxkcmVuW3JdLG4pKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIFdPKHQsZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmxlbmd0aDw9T2JqZWN0LmtleXModCkubGVuZ3RoJiZPYmplY3Qua2V5cyhlKS5ldmVyeShuPT5PSSh0W25dLGVbbl0pKX1mdW5jdGlvbiBGSSh0LGUsbil7cmV0dXJuIFVJKHQsZSxlLnNlZ21lbnRzLG4pfWZ1bmN0aW9uIFVJKHQsZSxuLHIpe2lmKHQuc2VnbWVudHMubGVuZ3RoPm4ubGVuZ3RoKXtjb25zdCBpPXQuc2VnbWVudHMuc2xpY2UoMCxuLmxlbmd0aCk7cmV0dXJuISgha3IoaSxuKXx8ZS5oYXNDaGlsZHJlbigpfHwhV2EoaSxuLHIpKX1lbHNlIGlmKHQuc2VnbWVudHMubGVuZ3RoPT09bi5sZW5ndGgpe2lmKCFrcih0LnNlZ21lbnRzLG4pfHwhV2EodC5zZWdtZW50cyxuLHIpKXJldHVybiExO2Zvcihjb25zdCBpIGluIGUuY2hpbGRyZW4paWYoIXQuY2hpbGRyZW5baV18fCFGSSh0LmNoaWxkcmVuW2ldLGUuY2hpbGRyZW5baV0scikpcmV0dXJuITE7cmV0dXJuITB9ZWxzZXtjb25zdCBpPW4uc2xpY2UoMCx0LnNlZ21lbnRzLmxlbmd0aCkscz1uLnNsaWNlKHQuc2VnbWVudHMubGVuZ3RoKTtyZXR1cm4ha3IodC5zZWdtZW50cyxpKXx8IVdhKHQuc2VnbWVudHMsaSxyKXx8IXQuY2hpbGRyZW5bcmVdPyExOlVJKHQuY2hpbGRyZW5bcmVdLGUscyxyKX19ZnVuY3Rpb24gV2EodCxlLG4pe3JldHVybiBlLmV2ZXJ5KChyLGkpPT5MSVtuXSh0W2ldLnBhcmFtZXRlcnMsci5wYXJhbWV0ZXJzKSl9Y2xhc3Mgb3N7Y29uc3RydWN0b3IoZT1uZXcgSWUoW10se30pLG49e30scj1udWxsKXt0aGlzLnJvb3Q9ZSx0aGlzLnF1ZXJ5UGFyYW1zPW4sdGhpcy5mcmFnbWVudD1yfWdldCBxdWVyeVBhcmFtTWFwKCl7cmV0dXJuIHRoaXMuX3F1ZXJ5UGFyYW1NYXA/Pyh0aGlzLl9xdWVyeVBhcmFtTWFwPVVpKHRoaXMucXVlcnlQYXJhbXMpKSx0aGlzLl9xdWVyeVBhcmFtTWFwfXRvU3RyaW5nKCl7cmV0dXJuIFFPLnNlcmlhbGl6ZSh0aGlzKX19Y2xhc3MgSWV7Y29uc3RydWN0b3IoZSxuKXt0aGlzLnNlZ21lbnRzPWUsdGhpcy5jaGlsZHJlbj1uLHRoaXMucGFyZW50PW51bGwsT2JqZWN0LnZhbHVlcyhuKS5mb3JFYWNoKHI9PnIucGFyZW50PXRoaXMpfWhhc0NoaWxkcmVuKCl7cmV0dXJuIHRoaXMubnVtYmVyT2ZDaGlsZHJlbj4wfWdldCBudW1iZXJPZkNoaWxkcmVuKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuY2hpbGRyZW4pLmxlbmd0aH10b1N0cmluZygpe3JldHVybiBHYSh0aGlzKX19Y2xhc3MgT3N7Y29uc3RydWN0b3IoZSxuKXt0aGlzLnBhdGg9ZSx0aGlzLnBhcmFtZXRlcnM9bn1nZXQgcGFyYW1ldGVyTWFwKCl7cmV0dXJuIHRoaXMuX3BhcmFtZXRlck1hcD8/KHRoaXMuX3BhcmFtZXRlck1hcD1VaSh0aGlzLnBhcmFtZXRlcnMpKSx0aGlzLl9wYXJhbWV0ZXJNYXB9dG9TdHJpbmcoKXtyZXR1cm4gQkkodGhpcyl9fWZ1bmN0aW9uIEdPKHQsZSl7cmV0dXJuIGtyKHQsZSkmJnQuZXZlcnkoKG4scik9PnVuKG4ucGFyYW1ldGVycyxlW3JdLnBhcmFtZXRlcnMpKX1mdW5jdGlvbiBrcih0LGUpe3JldHVybiB0Lmxlbmd0aCE9PWUubGVuZ3RoPyExOnQuZXZlcnkoKG4scik9Pm4ucGF0aD09PWVbcl0ucGF0aCl9ZnVuY3Rpb24gS08odCxlKXtsZXQgbj1bXTtyZXR1cm4gT2JqZWN0LmVudHJpZXModC5jaGlsZHJlbikuZm9yRWFjaCgoW3IsaV0pPT57cj09PXJlJiYobj1uLmNvbmNhdChlKGkscikpKX0pLE9iamVjdC5lbnRyaWVzKHQuY2hpbGRyZW4pLmZvckVhY2goKFtyLGldKT0+e3IhPT1yZSYmKG49bi5jb25jYXQoZShpLHIpKSl9KSxufWxldCBaZj0oKCk9Pnt2YXIgdDtjbGFzcyBle31yZXR1cm4gdD1lLHQuybVmYWM9ZnVuY3Rpb24ocil7cmV0dXJuIG5ldyhyfHx0KX0sdC7JtXByb3Y9cSh7dG9rZW46dCxmYWN0b3J5OigpPT5uZXcgakkscHJvdmlkZWRJbjoicm9vdCJ9KSxlfSkoKTtjbGFzcyBqSXtwYXJzZShlKXtjb25zdCBuPW5ldyBveChlKTtyZXR1cm4gbmV3IG9zKG4ucGFyc2VSb290U2VnbWVudCgpLG4ucGFyc2VRdWVyeVBhcmFtcygpLG4ucGFyc2VGcmFnbWVudCgpKX1zZXJpYWxpemUoZSl7Y29uc3Qgbj1gLyR7SXMoZS5yb290LCEwKX1gLHI9WU8oZS5xdWVyeVBhcmFtcyksaT10eXBlb2YgZS5mcmFnbWVudD09InN0cmluZyI/YCMke1pPKGUuZnJhZ21lbnQpfWA6IiI7cmV0dXJuYCR7bn0ke3J9JHtpfWB9fWNvbnN0IFFPPW5ldyBqSTtmdW5jdGlvbiBHYSh0KXtyZXR1cm4gdC5zZWdtZW50cy5tYXAoZT0+QkkoZSkpLmpvaW4oIi8iKX1mdW5jdGlvbiBJcyh0LGUpe2lmKCF0Lmhhc0NoaWxkcmVuKCkpcmV0dXJuIEdhKHQpO2lmKGUpe2NvbnN0IG49dC5jaGlsZHJlbltyZV0/SXModC5jaGlsZHJlbltyZV0sITEpOiIiLHI9W107cmV0dXJuIE9iamVjdC5lbnRyaWVzKHQuY2hpbGRyZW4pLmZvckVhY2goKFtpLHNdKT0+e2khPT1yZSYmci5wdXNoKGAke2l9OiR7SXMocywhMSl9YCl9KSxyLmxlbmd0aD4wP2Ake259KCR7ci5qb2luKCIvLyIpfSlgOm59ZWxzZXtjb25zdCBuPUtPKHQsKHIsaSk9Pmk9PT1yZT9bSXModC5jaGlsZHJlbltyZV0sITEpXTpbYCR7aX06JHtJcyhyLCExKX1gXSk7cmV0dXJuIE9iamVjdC5rZXlzKHQuY2hpbGRyZW4pLmxlbmd0aD09PTEmJnQuY2hpbGRyZW5bcmVdIT1udWxsP2Ake0dhKHQpfS8ke25bMF19YDpgJHtHYSh0KX0vKCR7bi5qb2luKCIvLyIpfSlgfX1mdW5jdGlvbiAkSSh0KXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHQpLnJlcGxhY2UoLyU0MC9nLCJAIikucmVwbGFjZSgvJTNBL2dpLCI6IikucmVwbGFjZSgvJTI0L2csIiQiKS5yZXBsYWNlKC8lMkMvZ2ksIiwiKX1mdW5jdGlvbiBBYSh0KXtyZXR1cm4gJEkodCkucmVwbGFjZSgvJTNCL2dpLCI7Iil9ZnVuY3Rpb24gWk8odCl7cmV0dXJuIGVuY29kZVVSSSh0KX1mdW5jdGlvbiBRaCh0KXtyZXR1cm4gJEkodCkucmVwbGFjZSgvXCgvZywiJTI4IikucmVwbGFjZSgvXCkvZywiJTI5IikucmVwbGFjZSgvJTI2L2dpLCImIil9ZnVuY3Rpb24gS2EodCl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh0KX1mdW5jdGlvbiBYbSh0KXtyZXR1cm4gS2EodC5yZXBsYWNlKC9cKy9nLCIlMjAiKSl9ZnVuY3Rpb24gQkkodCl7cmV0dXJuYCR7UWgodC5wYXRoKX0ke1hPKHQucGFyYW1ldGVycyl9YH1mdW5jdGlvbiBYTyh0KXtyZXR1cm4gT2JqZWN0LmVudHJpZXModCkubWFwKChbZSxuXSk9PmA7JHtRaChlKX09JHtRaChuKX1gKS5qb2luKCIiKX1mdW5jdGlvbiBZTyh0KXtjb25zdCBlPU9iamVjdC5lbnRyaWVzKHQpLm1hcCgoW24scl0pPT5BcnJheS5pc0FycmF5KHIpP3IubWFwKGk9PmAke0FhKG4pfT0ke0FhKGkpfWApLmpvaW4oIiYiKTpgJHtBYShuKX09JHtBYShyKX1gKS5maWx0ZXIobj0+bik7cmV0dXJuIGUubGVuZ3RoP2A/JHtlLmpvaW4oIiYiKX1gOiIifWNvbnN0IEpPPS9eW15cLygpPzsjXSsvO2Z1bmN0aW9uIEZsKHQpe2NvbnN0IGU9dC5tYXRjaChKTyk7cmV0dXJuIGU/ZVswXToiIn1jb25zdCBleD0vXlteXC8oKT87PSNdKy87ZnVuY3Rpb24gdHgodCl7Y29uc3QgZT10Lm1hdGNoKGV4KTtyZXR1cm4gZT9lWzBdOiIifWNvbnN0IG54PS9eW149PyYjXSsvO2Z1bmN0aW9uIHJ4KHQpe2NvbnN0IGU9dC5tYXRjaChueCk7cmV0dXJuIGU/ZVswXToiIn1jb25zdCBpeD0vXlteJiNdKy87ZnVuY3Rpb24gc3godCl7Y29uc3QgZT10Lm1hdGNoKGl4KTtyZXR1cm4gZT9lWzBdOiIifWNsYXNzIG94e2NvbnN0cnVjdG9yKGUpe3RoaXMudXJsPWUsdGhpcy5yZW1haW5pbmc9ZX1wYXJzZVJvb3RTZWdtZW50KCl7cmV0dXJuIHRoaXMuY29uc3VtZU9wdGlvbmFsKCIvIiksdGhpcy5yZW1haW5pbmc9PT0iInx8dGhpcy5wZWVrU3RhcnRzV2l0aCgiPyIpfHx0aGlzLnBlZWtTdGFydHNXaXRoKCIjIik/bmV3IEllKFtdLHt9KTpuZXcgSWUoW10sdGhpcy5wYXJzZUNoaWxkcmVuKCkpfXBhcnNlUXVlcnlQYXJhbXMoKXtjb25zdCBlPXt9O2lmKHRoaXMuY29uc3VtZU9wdGlvbmFsKCI/IikpZG8gdGhpcy5wYXJzZVF1ZXJ5UGFyYW0oZSk7d2hpbGUodGhpcy5jb25zdW1lT3B0aW9uYWwoIiYiKSk7cmV0dXJuIGV9cGFyc2VGcmFnbWVudCgpe3JldHVybiB0aGlzLmNvbnN1bWVPcHRpb25hbCgiIyIpP2RlY29kZVVSSUNvbXBvbmVudCh0aGlzLnJlbWFpbmluZyk6bnVsbH1wYXJzZUNoaWxkcmVuKCl7aWYodGhpcy5yZW1haW5pbmc9PT0iIilyZXR1cm57fTt0aGlzLmNvbnN1bWVPcHRpb25hbCgiLyIpO2NvbnN0IGU9W107Zm9yKHRoaXMucGVla1N0YXJ0c1dpdGgoIigiKXx8ZS5wdXNoKHRoaXMucGFyc2VTZWdtZW50KCkpO3RoaXMucGVla1N0YXJ0c1dpdGgoIi8iKSYmIXRoaXMucGVla1N0YXJ0c1dpdGgoIi8vIikmJiF0aGlzLnBlZWtTdGFydHNXaXRoKCIvKCIpOyl0aGlzLmNhcHR1cmUoIi8iKSxlLnB1c2godGhpcy5wYXJzZVNlZ21lbnQoKSk7bGV0IG49e307dGhpcy5wZWVrU3RhcnRzV2l0aCgiLygiKSYmKHRoaXMuY2FwdHVyZSgiLyIpLG49dGhpcy5wYXJzZVBhcmVucyghMCkpO2xldCByPXt9O3JldHVybiB0aGlzLnBlZWtTdGFydHNXaXRoKCIoIikmJihyPXRoaXMucGFyc2VQYXJlbnMoITEpKSwoZS5sZW5ndGg+MHx8T2JqZWN0LmtleXMobikubGVuZ3RoPjApJiYocltyZV09bmV3IEllKGUsbikpLHJ9cGFyc2VTZWdtZW50KCl7Y29uc3QgZT1GbCh0aGlzLnJlbWFpbmluZyk7aWYoZT09PSIiJiZ0aGlzLnBlZWtTdGFydHNXaXRoKCI7IikpdGhyb3cgbmV3IFcoNDAwOSwhMSk7cmV0dXJuIHRoaXMuY2FwdHVyZShlKSxuZXcgT3MoS2EoZSksdGhpcy5wYXJzZU1hdHJpeFBhcmFtcygpKX1wYXJzZU1hdHJpeFBhcmFtcygpe2NvbnN0IGU9e307Zm9yKDt0aGlzLmNvbnN1bWVPcHRpb25hbCgiOyIpOyl0aGlzLnBhcnNlUGFyYW0oZSk7cmV0dXJuIGV9cGFyc2VQYXJhbShlKXtjb25zdCBuPXR4KHRoaXMucmVtYWluaW5nKTtpZighbilyZXR1cm47dGhpcy5jYXB0dXJlKG4pO2xldCByPSIiO2lmKHRoaXMuY29uc3VtZU9wdGlvbmFsKCI9Iikpe2NvbnN0IGk9RmwodGhpcy5yZW1haW5pbmcpO2kmJihyPWksdGhpcy5jYXB0dXJlKHIpKX1lW0thKG4pXT1LYShyKX1wYXJzZVF1ZXJ5UGFyYW0oZSl7Y29uc3Qgbj1yeCh0aGlzLnJlbWFpbmluZyk7aWYoIW4pcmV0dXJuO3RoaXMuY2FwdHVyZShuKTtsZXQgcj0iIjtpZih0aGlzLmNvbnN1bWVPcHRpb25hbCgiPSIpKXtjb25zdCBvPXN4KHRoaXMucmVtYWluaW5nKTtvJiYocj1vLHRoaXMuY2FwdHVyZShyKSl9Y29uc3QgaT1YbShuKSxzPVhtKHIpO2lmKGUuaGFzT3duUHJvcGVydHkoaSkpe2xldCBvPWVbaV07QXJyYXkuaXNBcnJheShvKXx8KG89W29dLGVbaV09byksby5wdXNoKHMpfWVsc2UgZVtpXT1zfXBhcnNlUGFyZW5zKGUpe2NvbnN0IG49e307Zm9yKHRoaXMuY2FwdHVyZSgiKCIpOyF0aGlzLmNvbnN1bWVPcHRpb25hbCgiKSIpJiZ0aGlzLnJlbWFpbmluZy5sZW5ndGg+MDspe2NvbnN0IHI9RmwodGhpcy5yZW1haW5pbmcpLGk9dGhpcy5yZW1haW5pbmdbci5sZW5ndGhdO2lmKGkhPT0iLyImJmkhPT0iKSImJmkhPT0iOyIpdGhyb3cgbmV3IFcoNDAxMCwhMSk7bGV0IHM7ci5pbmRleE9mKCI6Iik+LTE/KHM9ci5zbGljZSgwLHIuaW5kZXhPZigiOiIpKSx0aGlzLmNhcHR1cmUocyksdGhpcy5jYXB0dXJlKCI6IikpOmUmJihzPXJlKTtjb25zdCBvPXRoaXMucGFyc2VDaGlsZHJlbigpO25bc109T2JqZWN0LmtleXMobykubGVuZ3RoPT09MT9vW3JlXTpuZXcgSWUoW10sbyksdGhpcy5jb25zdW1lT3B0aW9uYWwoIi8vIil9cmV0dXJuIG59cGVla1N0YXJ0c1dpdGgoZSl7cmV0dXJuIHRoaXMucmVtYWluaW5nLnN0YXJ0c1dpdGgoZSl9Y29uc3VtZU9wdGlvbmFsKGUpe3JldHVybiB0aGlzLnBlZWtTdGFydHNXaXRoKGUpPyh0aGlzLnJlbWFpbmluZz10aGlzLnJlbWFpbmluZy5zdWJzdHJpbmcoZS5sZW5ndGgpLCEwKTohMX1jYXB0dXJlKGUpe2lmKCF0aGlzLmNvbnN1bWVPcHRpb25hbChlKSl0aHJvdyBuZXcgVyg0MDExLCExKX19ZnVuY3Rpb24gSEkodCl7cmV0dXJuIHQuc2VnbWVudHMubGVuZ3RoPjA/bmV3IEllKFtdLHtbcmVdOnR9KTp0fWZ1bmN0aW9uIHFJKHQpe2NvbnN0IGU9e307Zm9yKGNvbnN0W3IsaV1vZiBPYmplY3QuZW50cmllcyh0LmNoaWxkcmVuKSl7Y29uc3Qgcz1xSShpKTtpZihyPT09cmUmJnMuc2VnbWVudHMubGVuZ3RoPT09MCYmcy5oYXNDaGlsZHJlbigpKWZvcihjb25zdFtvLGFdb2YgT2JqZWN0LmVudHJpZXMocy5jaGlsZHJlbikpZVtvXT1hO2Vsc2Uocy5zZWdtZW50cy5sZW5ndGg+MHx8cy5oYXNDaGlsZHJlbigpKSYmKGVbcl09cyl9Y29uc3Qgbj1uZXcgSWUodC5zZWdtZW50cyxlKTtyZXR1cm4gYXgobil9ZnVuY3Rpb24gYXgodCl7aWYodC5udW1iZXJPZkNoaWxkcmVuPT09MSYmdC5jaGlsZHJlbltyZV0pe2NvbnN0IGU9dC5jaGlsZHJlbltyZV07cmV0dXJuIG5ldyBJZSh0LnNlZ21lbnRzLmNvbmNhdChlLnNlZ21lbnRzKSxlLmNoaWxkcmVuKX1yZXR1cm4gdH1mdW5jdGlvbiBqaSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIG9zfWZ1bmN0aW9uIGN4KHQsZSxuPW51bGwscj1udWxsKXtjb25zdCBpPXpJKHQpO3JldHVybiBXSShpLGUsbixyKX1mdW5jdGlvbiB6SSh0KXtsZXQgZTtmdW5jdGlvbiBuKHMpe2NvbnN0IG89e307Zm9yKGNvbnN0IGMgb2Ygcy5jaGlsZHJlbil7Y29uc3QgdT1uKGMpO29bYy5vdXRsZXRdPXV9Y29uc3QgYT1uZXcgSWUocy51cmwsbyk7cmV0dXJuIHM9PT10JiYoZT1hKSxhfWNvbnN0IHI9bih0LnJvb3QpLGk9SEkocik7cmV0dXJuIGU/P2l9ZnVuY3Rpb24gV0kodCxlLG4scil7bGV0IGk9dDtmb3IoO2kucGFyZW50OylpPWkucGFyZW50O2lmKGUubGVuZ3RoPT09MClyZXR1cm4gVWwoaSxpLGksbixyKTtjb25zdCBzPXV4KGUpO2lmKHMudG9Sb290KCkpcmV0dXJuIFVsKGksaSxuZXcgSWUoW10se30pLG4scik7Y29uc3Qgbz1seChzLGksdCksYT1vLnByb2Nlc3NDaGlsZHJlbj94cyhvLnNlZ21lbnRHcm91cCxvLmluZGV4LHMuY29tbWFuZHMpOktJKG8uc2VnbWVudEdyb3VwLG8uaW5kZXgscy5jb21tYW5kcyk7cmV0dXJuIFVsKGksby5zZWdtZW50R3JvdXAsYSxuLHIpfWZ1bmN0aW9uIENjKHQpe3JldHVybiB0eXBlb2YgdD09Im9iamVjdCImJnQhPW51bGwmJiF0Lm91dGxldHMmJiF0LnNlZ21lbnRQYXRofWZ1bmN0aW9uIGZvKHQpe3JldHVybiB0eXBlb2YgdD09Im9iamVjdCImJnQhPW51bGwmJnQub3V0bGV0c31mdW5jdGlvbiBVbCh0LGUsbixyLGkpe2xldCBzPXt9O3ImJk9iamVjdC5lbnRyaWVzKHIpLmZvckVhY2goKFtjLHVdKT0+e3NbY109QXJyYXkuaXNBcnJheSh1KT91Lm1hcChsPT5gJHtsfWApOmAke3V9YH0pO2xldCBvO3Q9PT1lP289bjpvPUdJKHQsZSxuKTtjb25zdCBhPUhJKHFJKG8pKTtyZXR1cm4gbmV3IG9zKGEscyxpKX1mdW5jdGlvbiBHSSh0LGUsbil7Y29uc3Qgcj17fTtyZXR1cm4gT2JqZWN0LmVudHJpZXModC5jaGlsZHJlbikuZm9yRWFjaCgoW2ksc10pPT57cz09PWU/cltpXT1uOnJbaV09R0kocyxlLG4pfSksbmV3IEllKHQuc2VnbWVudHMscil9Y2xhc3MgWW17Y29uc3RydWN0b3IoZSxuLHIpe2lmKHRoaXMuaXNBYnNvbHV0ZT1lLHRoaXMubnVtYmVyT2ZEb3VibGVEb3RzPW4sdGhpcy5jb21tYW5kcz1yLGUmJnIubGVuZ3RoPjAmJkNjKHJbMF0pKXRocm93IG5ldyBXKDQwMDMsITEpO2NvbnN0IGk9ci5maW5kKGZvKTtpZihpJiZpIT09eEkocikpdGhyb3cgbmV3IFcoNDAwNCwhMSl9dG9Sb290KCl7cmV0dXJuIHRoaXMuaXNBYnNvbHV0ZSYmdGhpcy5jb21tYW5kcy5sZW5ndGg9PT0xJiZ0aGlzLmNvbW1hbmRzWzBdPT0iLyJ9fWZ1bmN0aW9uIHV4KHQpe2lmKHR5cGVvZiB0WzBdPT0ic3RyaW5nIiYmdC5sZW5ndGg9PT0xJiZ0WzBdPT09Ii8iKXJldHVybiBuZXcgWW0oITAsMCx0KTtsZXQgZT0wLG49ITE7Y29uc3Qgcj10LnJlZHVjZSgoaSxzLG8pPT57aWYodHlwZW9mIHM9PSJvYmplY3QiJiZzIT1udWxsKXtpZihzLm91dGxldHMpe2NvbnN0IGE9e307cmV0dXJuIE9iamVjdC5lbnRyaWVzKHMub3V0bGV0cykuZm9yRWFjaCgoW2MsdV0pPT57YVtjXT10eXBlb2YgdT09InN0cmluZyI/dS5zcGxpdCgiLyIpOnV9KSxbLi4uaSx7b3V0bGV0czphfV19aWYocy5zZWdtZW50UGF0aClyZXR1cm5bLi4uaSxzLnNlZ21lbnRQYXRoXX1yZXR1cm4gdHlwZW9mIHMhPSJzdHJpbmciP1suLi5pLHNdOm89PT0wPyhzLnNwbGl0KCIvIikuZm9yRWFjaCgoYSxjKT0+e2M9PTAmJmE9PT0iLiJ8fChjPT0wJiZhPT09IiI/bj0hMDphPT09Ii4uIj9lKys6YSE9IiImJmkucHVzaChhKSl9KSxpKTpbLi4uaSxzXX0sW10pO3JldHVybiBuZXcgWW0obixlLHIpfWNsYXNzIFFhe2NvbnN0cnVjdG9yKGUsbixyKXt0aGlzLnNlZ21lbnRHcm91cD1lLHRoaXMucHJvY2Vzc0NoaWxkcmVuPW4sdGhpcy5pbmRleD1yfX1mdW5jdGlvbiBseCh0LGUsbil7aWYodC5pc0Fic29sdXRlKXJldHVybiBuZXcgUWEoZSwhMCwwKTtpZighbilyZXR1cm4gbmV3IFFhKGUsITEsTmFOKTtpZihuLnBhcmVudD09PW51bGwpcmV0dXJuIG5ldyBRYShuLCEwLDApO2NvbnN0IHI9Q2ModC5jb21tYW5kc1swXSk/MDoxLGk9bi5zZWdtZW50cy5sZW5ndGgtMStyO3JldHVybiBoeChuLGksdC5udW1iZXJPZkRvdWJsZURvdHMpfWZ1bmN0aW9uIGh4KHQsZSxuKXtsZXQgcj10LGk9ZSxzPW47Zm9yKDtzPmk7KXtpZihzLT1pLHI9ci5wYXJlbnQsIXIpdGhyb3cgbmV3IFcoNDAwNSwhMSk7aT1yLnNlZ21lbnRzLmxlbmd0aH1yZXR1cm4gbmV3IFFhKHIsITEsaS1zKX1mdW5jdGlvbiBkeCh0KXtyZXR1cm4gZm8odFswXSk/dFswXS5vdXRsZXRzOntbcmVdOnR9fWZ1bmN0aW9uIEtJKHQsZSxuKXtpZih0Pz8odD1uZXcgSWUoW10se30pKSx0LnNlZ21lbnRzLmxlbmd0aD09PTAmJnQuaGFzQ2hpbGRyZW4oKSlyZXR1cm4geHModCxlLG4pO2NvbnN0IHI9ZngodCxlLG4pLGk9bi5zbGljZShyLmNvbW1hbmRJbmRleCk7aWYoci5tYXRjaCYmci5wYXRoSW5kZXg8dC5zZWdtZW50cy5sZW5ndGgpe2NvbnN0IHM9bmV3IEllKHQuc2VnbWVudHMuc2xpY2UoMCxyLnBhdGhJbmRleCkse30pO3JldHVybiBzLmNoaWxkcmVuW3JlXT1uZXcgSWUodC5zZWdtZW50cy5zbGljZShyLnBhdGhJbmRleCksdC5jaGlsZHJlbikseHMocywwLGkpfWVsc2UgcmV0dXJuIHIubWF0Y2gmJmkubGVuZ3RoPT09MD9uZXcgSWUodC5zZWdtZW50cyx7fSk6ci5tYXRjaCYmIXQuaGFzQ2hpbGRyZW4oKT9aaCh0LGUsbik6ci5tYXRjaD94cyh0LDAsaSk6WmgodCxlLG4pfWZ1bmN0aW9uIHhzKHQsZSxuKXtpZihuLmxlbmd0aD09PTApcmV0dXJuIG5ldyBJZSh0LnNlZ21lbnRzLHt9KTt7Y29uc3Qgcj1keChuKSxpPXt9O2lmKE9iamVjdC5rZXlzKHIpLnNvbWUocz0+cyE9PXJlKSYmdC5jaGlsZHJlbltyZV0mJnQubnVtYmVyT2ZDaGlsZHJlbj09PTEmJnQuY2hpbGRyZW5bcmVdLnNlZ21lbnRzLmxlbmd0aD09PTApe2NvbnN0IHM9eHModC5jaGlsZHJlbltyZV0sZSxuKTtyZXR1cm4gbmV3IEllKHQuc2VnbWVudHMscy5jaGlsZHJlbil9cmV0dXJuIE9iamVjdC5lbnRyaWVzKHIpLmZvckVhY2goKFtzLG9dKT0+e3R5cGVvZiBvPT0ic3RyaW5nIiYmKG89W29dKSxvIT09bnVsbCYmKGlbc109S0kodC5jaGlsZHJlbltzXSxlLG8pKX0pLE9iamVjdC5lbnRyaWVzKHQuY2hpbGRyZW4pLmZvckVhY2goKFtzLG9dKT0+e3Jbc109PT12b2lkIDAmJihpW3NdPW8pfSksbmV3IEllKHQuc2VnbWVudHMsaSl9fWZ1bmN0aW9uIGZ4KHQsZSxuKXtsZXQgcj0wLGk9ZTtjb25zdCBzPXttYXRjaDohMSxwYXRoSW5kZXg6MCxjb21tYW5kSW5kZXg6MH07Zm9yKDtpPHQuc2VnbWVudHMubGVuZ3RoOyl7aWYocj49bi5sZW5ndGgpcmV0dXJuIHM7Y29uc3Qgbz10LnNlZ21lbnRzW2ldLGE9bltyXTtpZihmbyhhKSlicmVhaztjb25zdCBjPWAke2F9YCx1PXI8bi5sZW5ndGgtMT9uW3IrMV06bnVsbDtpZihpPjAmJmM9PT12b2lkIDApYnJlYWs7aWYoYyYmdSYmdHlwZW9mIHU9PSJvYmplY3QiJiZ1Lm91dGxldHM9PT12b2lkIDApe2lmKCFleShjLHUsbykpcmV0dXJuIHM7cis9Mn1lbHNle2lmKCFleShjLHt9LG8pKXJldHVybiBzO3IrK31pKyt9cmV0dXJue21hdGNoOiEwLHBhdGhJbmRleDppLGNvbW1hbmRJbmRleDpyfX1mdW5jdGlvbiBaaCh0LGUsbil7Y29uc3Qgcj10LnNlZ21lbnRzLnNsaWNlKDAsZSk7bGV0IGk9MDtmb3IoO2k8bi5sZW5ndGg7KXtjb25zdCBzPW5baV07aWYoZm8ocykpe2NvbnN0IGM9cHgocy5vdXRsZXRzKTtyZXR1cm4gbmV3IEllKHIsYyl9aWYoaT09PTAmJkNjKG5bMF0pKXtjb25zdCBjPXQuc2VnbWVudHNbZV07ci5wdXNoKG5ldyBPcyhjLnBhdGgsSm0oblswXSkpKSxpKys7Y29udGludWV9Y29uc3Qgbz1mbyhzKT9zLm91dGxldHNbcmVdOmAke3N9YCxhPWk8bi5sZW5ndGgtMT9uW2krMV06bnVsbDtvJiZhJiZDYyhhKT8oci5wdXNoKG5ldyBPcyhvLEptKGEpKSksaSs9Mik6KHIucHVzaChuZXcgT3Mobyx7fSkpLGkrKyl9cmV0dXJuIG5ldyBJZShyLHt9KX1mdW5jdGlvbiBweCh0KXtjb25zdCBlPXt9O3JldHVybiBPYmplY3QuZW50cmllcyh0KS5mb3JFYWNoKChbbixyXSk9Pnt0eXBlb2Ygcj09InN0cmluZyImJihyPVtyXSksciE9PW51bGwmJihlW25dPVpoKG5ldyBJZShbXSx7fSksMCxyKSl9KSxlfWZ1bmN0aW9uIEptKHQpe2NvbnN0IGU9e307cmV0dXJuIE9iamVjdC5lbnRyaWVzKHQpLmZvckVhY2goKFtuLHJdKT0+ZVtuXT1gJHtyfWApLGV9ZnVuY3Rpb24gZXkodCxlLG4pe3JldHVybiB0PT1uLnBhdGgmJnVuKGUsbi5wYXJhbWV0ZXJzKX1jb25zdCBMcz0iaW1wZXJhdGl2ZSI7dmFyIGN0PWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuTmF2aWdhdGlvblN0YXJ0PTBdPSJOYXZpZ2F0aW9uU3RhcnQiLHRbdC5OYXZpZ2F0aW9uRW5kPTFdPSJOYXZpZ2F0aW9uRW5kIix0W3QuTmF2aWdhdGlvbkNhbmNlbD0yXT0iTmF2aWdhdGlvbkNhbmNlbCIsdFt0Lk5hdmlnYXRpb25FcnJvcj0zXT0iTmF2aWdhdGlvbkVycm9yIix0W3QuUm91dGVzUmVjb2duaXplZD00XT0iUm91dGVzUmVjb2duaXplZCIsdFt0LlJlc29sdmVTdGFydD01XT0iUmVzb2x2ZVN0YXJ0Iix0W3QuUmVzb2x2ZUVuZD02XT0iUmVzb2x2ZUVuZCIsdFt0Lkd1YXJkc0NoZWNrU3RhcnQ9N109Ikd1YXJkc0NoZWNrU3RhcnQiLHRbdC5HdWFyZHNDaGVja0VuZD04XT0iR3VhcmRzQ2hlY2tFbmQiLHRbdC5Sb3V0ZUNvbmZpZ0xvYWRTdGFydD05XT0iUm91dGVDb25maWdMb2FkU3RhcnQiLHRbdC5Sb3V0ZUNvbmZpZ0xvYWRFbmQ9MTBdPSJSb3V0ZUNvbmZpZ0xvYWRFbmQiLHRbdC5DaGlsZEFjdGl2YXRpb25TdGFydD0xMV09IkNoaWxkQWN0aXZhdGlvblN0YXJ0Iix0W3QuQ2hpbGRBY3RpdmF0aW9uRW5kPTEyXT0iQ2hpbGRBY3RpdmF0aW9uRW5kIix0W3QuQWN0aXZhdGlvblN0YXJ0PTEzXT0iQWN0aXZhdGlvblN0YXJ0Iix0W3QuQWN0aXZhdGlvbkVuZD0xNF09IkFjdGl2YXRpb25FbmQiLHRbdC5TY3JvbGw9MTVdPSJTY3JvbGwiLHRbdC5OYXZpZ2F0aW9uU2tpcHBlZD0xNl09Ik5hdmlnYXRpb25Ta2lwcGVkIix0fShjdHx8e30pO2NsYXNzIHdue2NvbnN0cnVjdG9yKGUsbil7dGhpcy5pZD1lLHRoaXMudXJsPW59fWNsYXNzIFhoIGV4dGVuZHMgd257Y29uc3RydWN0b3IoZSxuLHI9ImltcGVyYXRpdmUiLGk9bnVsbCl7c3VwZXIoZSxuKSx0aGlzLnR5cGU9Y3QuTmF2aWdhdGlvblN0YXJ0LHRoaXMubmF2aWdhdGlvblRyaWdnZXI9cix0aGlzLnJlc3RvcmVkU3RhdGU9aX10b1N0cmluZygpe3JldHVybmBOYXZpZ2F0aW9uU3RhcnQoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JylgfX1jbGFzcyAkaSBleHRlbmRzIHdue2NvbnN0cnVjdG9yKGUsbixyKXtzdXBlcihlLG4pLHRoaXMudXJsQWZ0ZXJSZWRpcmVjdHM9cix0aGlzLnR5cGU9Y3QuTmF2aWdhdGlvbkVuZH10b1N0cmluZygpe3JldHVybmBOYXZpZ2F0aW9uRW5kKGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScsIHVybEFmdGVyUmVkaXJlY3RzOiAnJHt0aGlzLnVybEFmdGVyUmVkaXJlY3RzfScpYH19dmFyIGp0PWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuUmVkaXJlY3Q9MF09IlJlZGlyZWN0Iix0W3QuU3VwZXJzZWRlZEJ5TmV3TmF2aWdhdGlvbj0xXT0iU3VwZXJzZWRlZEJ5TmV3TmF2aWdhdGlvbiIsdFt0Lk5vRGF0YUZyb21SZXNvbHZlcj0yXT0iTm9EYXRhRnJvbVJlc29sdmVyIix0W3QuR3VhcmRSZWplY3RlZD0zXT0iR3VhcmRSZWplY3RlZCIsdH0oanR8fHt9KSxZaD1mdW5jdGlvbih0KXtyZXR1cm4gdFt0Lklnbm9yZWRTYW1lVXJsTmF2aWdhdGlvbj0wXT0iSWdub3JlZFNhbWVVcmxOYXZpZ2F0aW9uIix0W3QuSWdub3JlZEJ5VXJsSGFuZGxpbmdTdHJhdGVneT0xXT0iSWdub3JlZEJ5VXJsSGFuZGxpbmdTdHJhdGVneSIsdH0oWWh8fHt9KTtjbGFzcyBCaSBleHRlbmRzIHdue2NvbnN0cnVjdG9yKGUsbixyLGkpe3N1cGVyKGUsbiksdGhpcy5yZWFzb249cix0aGlzLmNvZGU9aSx0aGlzLnR5cGU9Y3QuTmF2aWdhdGlvbkNhbmNlbH10b1N0cmluZygpe3JldHVybmBOYXZpZ2F0aW9uQ2FuY2VsKGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScpYH19Y2xhc3MgcG8gZXh0ZW5kcyB3bntjb25zdHJ1Y3RvcihlLG4scixpKXtzdXBlcihlLG4pLHRoaXMucmVhc29uPXIsdGhpcy5jb2RlPWksdGhpcy50eXBlPWN0Lk5hdmlnYXRpb25Ta2lwcGVkfX1jbGFzcyBYZiBleHRlbmRzIHdue2NvbnN0cnVjdG9yKGUsbixyLGkpe3N1cGVyKGUsbiksdGhpcy5lcnJvcj1yLHRoaXMudGFyZ2V0PWksdGhpcy50eXBlPWN0Lk5hdmlnYXRpb25FcnJvcn10b1N0cmluZygpe3JldHVybmBOYXZpZ2F0aW9uRXJyb3IoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JywgZXJyb3I6ICR7dGhpcy5lcnJvcn0pYH19Y2xhc3MgUUkgZXh0ZW5kcyB3bntjb25zdHJ1Y3RvcihlLG4scixpKXtzdXBlcihlLG4pLHRoaXMudXJsQWZ0ZXJSZWRpcmVjdHM9cix0aGlzLnN0YXRlPWksdGhpcy50eXBlPWN0LlJvdXRlc1JlY29nbml6ZWR9dG9TdHJpbmcoKXtyZXR1cm5gUm91dGVzUmVjb2duaXplZChpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nLCB1cmxBZnRlclJlZGlyZWN0czogJyR7dGhpcy51cmxBZnRlclJlZGlyZWN0c30nLCBzdGF0ZTogJHt0aGlzLnN0YXRlfSlgfX1jbGFzcyBneCBleHRlbmRzIHdue2NvbnN0cnVjdG9yKGUsbixyLGkpe3N1cGVyKGUsbiksdGhpcy51cmxBZnRlclJlZGlyZWN0cz1yLHRoaXMuc3RhdGU9aSx0aGlzLnR5cGU9Y3QuR3VhcmRzQ2hlY2tTdGFydH10b1N0cmluZygpe3JldHVybmBHdWFyZHNDaGVja1N0YXJ0KGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScsIHVybEFmdGVyUmVkaXJlY3RzOiAnJHt0aGlzLnVybEFmdGVyUmVkaXJlY3RzfScsIHN0YXRlOiAke3RoaXMuc3RhdGV9KWB9fWNsYXNzIG14IGV4dGVuZHMgd257Y29uc3RydWN0b3IoZSxuLHIsaSxzKXtzdXBlcihlLG4pLHRoaXMudXJsQWZ0ZXJSZWRpcmVjdHM9cix0aGlzLnN0YXRlPWksdGhpcy5zaG91bGRBY3RpdmF0ZT1zLHRoaXMudHlwZT1jdC5HdWFyZHNDaGVja0VuZH10b1N0cmluZygpe3JldHVybmBHdWFyZHNDaGVja0VuZChpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nLCB1cmxBZnRlclJlZGlyZWN0czogJyR7dGhpcy51cmxBZnRlclJlZGlyZWN0c30nLCBzdGF0ZTogJHt0aGlzLnN0YXRlfSwgc2hvdWxkQWN0aXZhdGU6ICR7dGhpcy5zaG91bGRBY3RpdmF0ZX0pYH19Y2xhc3MgeXggZXh0ZW5kcyB3bntjb25zdHJ1Y3RvcihlLG4scixpKXtzdXBlcihlLG4pLHRoaXMudXJsQWZ0ZXJSZWRpcmVjdHM9cix0aGlzLnN0YXRlPWksdGhpcy50eXBlPWN0LlJlc29sdmVTdGFydH10b1N0cmluZygpe3JldHVybmBSZXNvbHZlU3RhcnQoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JywgdXJsQWZ0ZXJSZWRpcmVjdHM6ICcke3RoaXMudXJsQWZ0ZXJSZWRpcmVjdHN9Jywgc3RhdGU6ICR7dGhpcy5zdGF0ZX0pYH19Y2xhc3MgdnggZXh0ZW5kcyB3bntjb25zdHJ1Y3RvcihlLG4scixpKXtzdXBlcihlLG4pLHRoaXMudXJsQWZ0ZXJSZWRpcmVjdHM9cix0aGlzLnN0YXRlPWksdGhpcy50eXBlPWN0LlJlc29sdmVFbmR9dG9TdHJpbmcoKXtyZXR1cm5gUmVzb2x2ZUVuZChpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nLCB1cmxBZnRlclJlZGlyZWN0czogJyR7dGhpcy51cmxBZnRlclJlZGlyZWN0c30nLCBzdGF0ZTogJHt0aGlzLnN0YXRlfSlgfX1jbGFzcyBfeHtjb25zdHJ1Y3RvcihlKXt0aGlzLnJvdXRlPWUsdGhpcy50eXBlPWN0LlJvdXRlQ29uZmlnTG9hZFN0YXJ0fXRvU3RyaW5nKCl7cmV0dXJuYFJvdXRlQ29uZmlnTG9hZFN0YXJ0KHBhdGg6ICR7dGhpcy5yb3V0ZS5wYXRofSlgfX1jbGFzcyBFeHtjb25zdHJ1Y3RvcihlKXt0aGlzLnJvdXRlPWUsdGhpcy50eXBlPWN0LlJvdXRlQ29uZmlnTG9hZEVuZH10b1N0cmluZygpe3JldHVybmBSb3V0ZUNvbmZpZ0xvYWRFbmQocGF0aDogJHt0aGlzLnJvdXRlLnBhdGh9KWB9fWNsYXNzIHd4e2NvbnN0cnVjdG9yKGUpe3RoaXMuc25hcHNob3Q9ZSx0aGlzLnR5cGU9Y3QuQ2hpbGRBY3RpdmF0aW9uU3RhcnR9dG9TdHJpbmcoKXtyZXR1cm5gQ2hpbGRBY3RpdmF0aW9uU3RhcnQocGF0aDogJyR7dGhpcy5zbmFwc2hvdC5yb3V0ZUNvbmZpZyYmdGhpcy5zbmFwc2hvdC5yb3V0ZUNvbmZpZy5wYXRofHwiIn0nKWB9fWNsYXNzIEl4e2NvbnN0cnVjdG9yKGUpe3RoaXMuc25hcHNob3Q9ZSx0aGlzLnR5cGU9Y3QuQ2hpbGRBY3RpdmF0aW9uRW5kfXRvU3RyaW5nKCl7cmV0dXJuYENoaWxkQWN0aXZhdGlvbkVuZChwYXRoOiAnJHt0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnJiZ0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnLnBhdGh8fCIifScpYH19Y2xhc3MgVHh7Y29uc3RydWN0b3IoZSl7dGhpcy5zbmFwc2hvdD1lLHRoaXMudHlwZT1jdC5BY3RpdmF0aW9uU3RhcnR9dG9TdHJpbmcoKXtyZXR1cm5gQWN0aXZhdGlvblN0YXJ0KHBhdGg6ICcke3RoaXMuc25hcHNob3Qucm91dGVDb25maWcmJnRoaXMuc25hcHNob3Qucm91dGVDb25maWcucGF0aHx8IiJ9JylgfX1jbGFzcyBTeHtjb25zdHJ1Y3RvcihlKXt0aGlzLnNuYXBzaG90PWUsdGhpcy50eXBlPWN0LkFjdGl2YXRpb25FbmR9dG9TdHJpbmcoKXtyZXR1cm5gQWN0aXZhdGlvbkVuZChwYXRoOiAnJHt0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnJiZ0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnLnBhdGh8fCIifScpYH19Y2xhc3MgWWZ7fWNsYXNzIEpme2NvbnN0cnVjdG9yKGUpe3RoaXMudXJsPWV9fWNsYXNzIEN4e2NvbnN0cnVjdG9yKCl7dGhpcy5vdXRsZXQ9bnVsbCx0aGlzLnJvdXRlPW51bGwsdGhpcy5pbmplY3Rvcj1udWxsLHRoaXMuY2hpbGRyZW49bmV3IFN1LHRoaXMuYXR0YWNoUmVmPW51bGx9fWxldCBTdT0oKCk9Pnt2YXIgdDtjbGFzcyBle2NvbnN0cnVjdG9yKCl7dGhpcy5jb250ZXh0cz1uZXcgTWFwfW9uQ2hpbGRPdXRsZXRDcmVhdGVkKHIsaSl7Y29uc3Qgcz10aGlzLmdldE9yQ3JlYXRlQ29udGV4dChyKTtzLm91dGxldD1pLHRoaXMuY29udGV4dHMuc2V0KHIscyl9b25DaGlsZE91dGxldERlc3Ryb3llZChyKXtjb25zdCBpPXRoaXMuZ2V0Q29udGV4dChyKTtpJiYoaS5vdXRsZXQ9bnVsbCxpLmF0dGFjaFJlZj1udWxsKX1vbk91dGxldERlYWN0aXZhdGVkKCl7Y29uc3Qgcj10aGlzLmNvbnRleHRzO3JldHVybiB0aGlzLmNvbnRleHRzPW5ldyBNYXAscn1vbk91dGxldFJlQXR0YWNoZWQocil7dGhpcy5jb250ZXh0cz1yfWdldE9yQ3JlYXRlQ29udGV4dChyKXtsZXQgaT10aGlzLmdldENvbnRleHQocik7cmV0dXJuIGl8fChpPW5ldyBDeCx0aGlzLmNvbnRleHRzLnNldChyLGkpKSxpfWdldENvbnRleHQocil7cmV0dXJuIHRoaXMuY29udGV4dHMuZ2V0KHIpfHxudWxsfX1yZXR1cm4gdD1lLHQuybVmYWM9ZnVuY3Rpb24ocil7cmV0dXJuIG5ldyhyfHx0KX0sdC7JtXByb3Y9cSh7dG9rZW46dCxmYWN0b3J5OnQuybVmYWMscHJvdmlkZWRJbjoicm9vdCJ9KSxlfSkoKTtjbGFzcyBaSXtjb25zdHJ1Y3RvcihlKXt0aGlzLl9yb290PWV9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpcy5fcm9vdC52YWx1ZX1wYXJlbnQoZSl7Y29uc3Qgbj10aGlzLnBhdGhGcm9tUm9vdChlKTtyZXR1cm4gbi5sZW5ndGg+MT9uW24ubGVuZ3RoLTJdOm51bGx9Y2hpbGRyZW4oZSl7Y29uc3Qgbj1KaChlLHRoaXMuX3Jvb3QpO3JldHVybiBuP24uY2hpbGRyZW4ubWFwKHI9PnIudmFsdWUpOltdfWZpcnN0Q2hpbGQoZSl7Y29uc3Qgbj1KaChlLHRoaXMuX3Jvb3QpO3JldHVybiBuJiZuLmNoaWxkcmVuLmxlbmd0aD4wP24uY2hpbGRyZW5bMF0udmFsdWU6bnVsbH1zaWJsaW5ncyhlKXtjb25zdCBuPWVkKGUsdGhpcy5fcm9vdCk7cmV0dXJuIG4ubGVuZ3RoPDI/W106bltuLmxlbmd0aC0yXS5jaGlsZHJlbi5tYXAoaT0+aS52YWx1ZSkuZmlsdGVyKGk9PmkhPT1lKX1wYXRoRnJvbVJvb3QoZSl7cmV0dXJuIGVkKGUsdGhpcy5fcm9vdCkubWFwKG49Pm4udmFsdWUpfX1mdW5jdGlvbiBKaCh0LGUpe2lmKHQ9PT1lLnZhbHVlKXJldHVybiBlO2Zvcihjb25zdCBuIG9mIGUuY2hpbGRyZW4pe2NvbnN0IHI9SmgodCxuKTtpZihyKXJldHVybiByfXJldHVybiBudWxsfWZ1bmN0aW9uIGVkKHQsZSl7aWYodD09PWUudmFsdWUpcmV0dXJuW2VdO2Zvcihjb25zdCBuIG9mIGUuY2hpbGRyZW4pe2NvbnN0IHI9ZWQodCxuKTtpZihyLmxlbmd0aClyZXR1cm4gci51bnNoaWZ0KGUpLHJ9cmV0dXJuW119Y2xhc3MgV3R7Y29uc3RydWN0b3IoZSxuKXt0aGlzLnZhbHVlPWUsdGhpcy5jaGlsZHJlbj1ufXRvU3RyaW5nKCl7cmV0dXJuYFRyZWVOb2RlKCR7dGhpcy52YWx1ZX0pYH19ZnVuY3Rpb24geWkodCl7Y29uc3QgZT17fTtyZXR1cm4gdCYmdC5jaGlsZHJlbi5mb3JFYWNoKG49PmVbbi52YWx1ZS5vdXRsZXRdPW4pLGV9Y2xhc3MgWEkgZXh0ZW5kcyBaSXtjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKGUpLHRoaXMuc25hcHNob3Q9bix0cCh0aGlzLGUpfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMuc25hcHNob3QudG9TdHJpbmcoKX19ZnVuY3Rpb24gWUkodCl7Y29uc3QgZT1BeCh0KSxuPW5ldyBMdChbbmV3IE9zKCIiLHt9KV0pLHI9bmV3IEx0KHt9KSxpPW5ldyBMdCh7fSkscz1uZXcgTHQoe30pLG89bmV3IEx0KCIiKSxhPW5ldyBDdShuLHIscyxvLGkscmUsdCxlLnJvb3QpO3JldHVybiBhLnNuYXBzaG90PWUucm9vdCxuZXcgWEkobmV3IFd0KGEsW10pLGUpfWZ1bmN0aW9uIEF4KHQpe2NvbnN0IGU9e30sbj17fSxyPXt9LGk9IiIscz1uZXcgdGQoW10sZSxyLGksbixyZSx0LG51bGwse30pO3JldHVybiBuZXcgSkkoIiIsbmV3IFd0KHMsW10pKX1jbGFzcyBDdXtjb25zdHJ1Y3RvcihlLG4scixpLHMsbyxhLGMpe3RoaXMudXJsU3ViamVjdD1lLHRoaXMucGFyYW1zU3ViamVjdD1uLHRoaXMucXVlcnlQYXJhbXNTdWJqZWN0PXIsdGhpcy5mcmFnbWVudFN1YmplY3Q9aSx0aGlzLmRhdGFTdWJqZWN0PXMsdGhpcy5vdXRsZXQ9byx0aGlzLmNvbXBvbmVudD1hLHRoaXMuX2Z1dHVyZVNuYXBzaG90PWMsdGhpcy50aXRsZT10aGlzLmRhdGFTdWJqZWN0Py5waXBlKHllKHU9PnVbR29dKSk/P2VlKHZvaWQgMCksdGhpcy51cmw9ZSx0aGlzLnBhcmFtcz1uLHRoaXMucXVlcnlQYXJhbXM9cix0aGlzLmZyYWdtZW50PWksdGhpcy5kYXRhPXN9Z2V0IHJvdXRlQ29uZmlnKCl7cmV0dXJuIHRoaXMuX2Z1dHVyZVNuYXBzaG90LnJvdXRlQ29uZmlnfWdldCByb290KCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLnJvb3R9Z2V0IHBhcmVudCgpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5wYXJlbnQodGhpcyl9Z2V0IGZpcnN0Q2hpbGQoKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUuZmlyc3RDaGlsZCh0aGlzKX1nZXQgY2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUuY2hpbGRyZW4odGhpcyl9Z2V0IHBhdGhGcm9tUm9vdCgpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5wYXRoRnJvbVJvb3QodGhpcyl9Z2V0IHBhcmFtTWFwKCl7cmV0dXJuIHRoaXMuX3BhcmFtTWFwPz8odGhpcy5fcGFyYW1NYXA9dGhpcy5wYXJhbXMucGlwZSh5ZShlPT5VaShlKSkpKSx0aGlzLl9wYXJhbU1hcH1nZXQgcXVlcnlQYXJhbU1hcCgpe3JldHVybiB0aGlzLl9xdWVyeVBhcmFtTWFwPz8odGhpcy5fcXVlcnlQYXJhbU1hcD10aGlzLnF1ZXJ5UGFyYW1zLnBpcGUoeWUoZT0+VWkoZSkpKSksdGhpcy5fcXVlcnlQYXJhbU1hcH10b1N0cmluZygpe3JldHVybiB0aGlzLnNuYXBzaG90P3RoaXMuc25hcHNob3QudG9TdHJpbmcoKTpgRnV0dXJlKCR7dGhpcy5fZnV0dXJlU25hcHNob3R9KWB9fWZ1bmN0aW9uIGVwKHQsZSxuPSJlbXB0eU9ubHkiKXtsZXQgcjtjb25zdHtyb3V0ZUNvbmZpZzppfT10O3JldHVybiBlIT09bnVsbCYmKG49PT0iYWx3YXlzInx8aT8ucGF0aD09PSIifHwhZS5jb21wb25lbnQmJiFlLnJvdXRlQ29uZmlnPy5sb2FkQ29tcG9uZW50KT9yPXtwYXJhbXM6ey4uLmUucGFyYW1zLC4uLnQucGFyYW1zfSxkYXRhOnsuLi5lLmRhdGEsLi4udC5kYXRhfSxyZXNvbHZlOnsuLi50LmRhdGEsLi4uZS5kYXRhLC4uLmk/LmRhdGEsLi4udC5fcmVzb2x2ZWREYXRhfX06cj17cGFyYW1zOnsuLi50LnBhcmFtc30sZGF0YTp7Li4udC5kYXRhfSxyZXNvbHZlOnsuLi50LmRhdGEsLi4udC5fcmVzb2x2ZWREYXRhPz97fX19LGkmJnRUKGkpJiYoci5yZXNvbHZlW0dvXT1pLnRpdGxlKSxyfWNsYXNzIHRke2dldCB0aXRsZSgpe3JldHVybiB0aGlzLmRhdGE/LltHb119Y29uc3RydWN0b3IoZSxuLHIsaSxzLG8sYSxjLHUpe3RoaXMudXJsPWUsdGhpcy5wYXJhbXM9bix0aGlzLnF1ZXJ5UGFyYW1zPXIsdGhpcy5mcmFnbWVudD1pLHRoaXMuZGF0YT1zLHRoaXMub3V0bGV0PW8sdGhpcy5jb21wb25lbnQ9YSx0aGlzLnJvdXRlQ29uZmlnPWMsdGhpcy5fcmVzb2x2ZT11fWdldCByb290KCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLnJvb3R9Z2V0IHBhcmVudCgpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5wYXJlbnQodGhpcyl9Z2V0IGZpcnN0Q2hpbGQoKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUuZmlyc3RDaGlsZCh0aGlzKX1nZXQgY2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUuY2hpbGRyZW4odGhpcyl9Z2V0IHBhdGhGcm9tUm9vdCgpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5wYXRoRnJvbVJvb3QodGhpcyl9Z2V0IHBhcmFtTWFwKCl7cmV0dXJuIHRoaXMuX3BhcmFtTWFwPz8odGhpcy5fcGFyYW1NYXA9VWkodGhpcy5wYXJhbXMpKSx0aGlzLl9wYXJhbU1hcH1nZXQgcXVlcnlQYXJhbU1hcCgpe3JldHVybiB0aGlzLl9xdWVyeVBhcmFtTWFwPz8odGhpcy5fcXVlcnlQYXJhbU1hcD1VaSh0aGlzLnF1ZXJ5UGFyYW1zKSksdGhpcy5fcXVlcnlQYXJhbU1hcH10b1N0cmluZygpe2NvbnN0IGU9dGhpcy51cmwubWFwKHI9PnIudG9TdHJpbmcoKSkuam9pbigiLyIpLG49dGhpcy5yb3V0ZUNvbmZpZz90aGlzLnJvdXRlQ29uZmlnLnBhdGg6IiI7cmV0dXJuYFJvdXRlKHVybDonJHtlfScsIHBhdGg6JyR7bn0nKWB9fWNsYXNzIEpJIGV4dGVuZHMgWkl7Y29uc3RydWN0b3IoZSxuKXtzdXBlcihuKSx0aGlzLnVybD1lLHRwKHRoaXMsbil9dG9TdHJpbmcoKXtyZXR1cm4gZVQodGhpcy5fcm9vdCl9fWZ1bmN0aW9uIHRwKHQsZSl7ZS52YWx1ZS5fcm91dGVyU3RhdGU9dCxlLmNoaWxkcmVuLmZvckVhY2gobj0+dHAodCxuKSl9ZnVuY3Rpb24gZVQodCl7Y29uc3QgZT10LmNoaWxkcmVuLmxlbmd0aD4wP2AgeyAke3QuY2hpbGRyZW4ubWFwKGVUKS5qb2luKCIsICIpfSB9IGA6IiI7cmV0dXJuYCR7dC52YWx1ZX0ke2V9YH1mdW5jdGlvbiBqbCh0KXtpZih0LnNuYXBzaG90KXtjb25zdCBlPXQuc25hcHNob3Qsbj10Ll9mdXR1cmVTbmFwc2hvdDt0LnNuYXBzaG90PW4sdW4oZS5xdWVyeVBhcmFtcyxuLnF1ZXJ5UGFyYW1zKXx8dC5xdWVyeVBhcmFtc1N1YmplY3QubmV4dChuLnF1ZXJ5UGFyYW1zKSxlLmZyYWdtZW50IT09bi5mcmFnbWVudCYmdC5mcmFnbWVudFN1YmplY3QubmV4dChuLmZyYWdtZW50KSx1bihlLnBhcmFtcyxuLnBhcmFtcyl8fHQucGFyYW1zU3ViamVjdC5uZXh0KG4ucGFyYW1zKSxITyhlLnVybCxuLnVybCl8fHQudXJsU3ViamVjdC5uZXh0KG4udXJsKSx1bihlLmRhdGEsbi5kYXRhKXx8dC5kYXRhU3ViamVjdC5uZXh0KG4uZGF0YSl9ZWxzZSB0LnNuYXBzaG90PXQuX2Z1dHVyZVNuYXBzaG90LHQuZGF0YVN1YmplY3QubmV4dCh0Ll9mdXR1cmVTbmFwc2hvdC5kYXRhKX1mdW5jdGlvbiBuZCh0LGUpe2NvbnN0IG49dW4odC5wYXJhbXMsZS5wYXJhbXMpJiZHTyh0LnVybCxlLnVybCkscj0hdC5wYXJlbnQhPSFlLnBhcmVudDtyZXR1cm4gbiYmIXImJighdC5wYXJlbnR8fG5kKHQucGFyZW50LGUucGFyZW50KSl9ZnVuY3Rpb24gdFQodCl7cmV0dXJuIHR5cGVvZiB0LnRpdGxlPT0ic3RyaW5nInx8dC50aXRsZT09PW51bGx9bGV0IG5UPSgoKT0+e3ZhciB0O2NsYXNzIGV7Y29uc3RydWN0b3IoKXt0aGlzLmFjdGl2YXRlZD1udWxsLHRoaXMuX2FjdGl2YXRlZFJvdXRlPW51bGwsdGhpcy5uYW1lPXJlLHRoaXMuYWN0aXZhdGVFdmVudHM9bmV3IEFuLHRoaXMuZGVhY3RpdmF0ZUV2ZW50cz1uZXcgQW4sdGhpcy5hdHRhY2hFdmVudHM9bmV3IEFuLHRoaXMuZGV0YWNoRXZlbnRzPW5ldyBBbix0aGlzLnBhcmVudENvbnRleHRzPWIoU3UpLHRoaXMubG9jYXRpb249YihIdyksdGhpcy5jaGFuZ2VEZXRlY3Rvcj1iKEZmKSx0aGlzLmVudmlyb25tZW50SW5qZWN0b3I9YihqbiksdGhpcy5pbnB1dEJpbmRlcj1iKG5wLHtvcHRpb25hbDohMH0pLHRoaXMuc3VwcG9ydHNCaW5kaW5nVG9Db21wb25lbnRJbnB1dHM9ITB9Z2V0IGFjdGl2YXRlZENvbXBvbmVudFJlZigpe3JldHVybiB0aGlzLmFjdGl2YXRlZH1uZ09uQ2hhbmdlcyhyKXtpZihyLm5hbWUpe2NvbnN0e2ZpcnN0Q2hhbmdlOmkscHJldmlvdXNWYWx1ZTpzfT1yLm5hbWU7aWYoaSlyZXR1cm47dGhpcy5pc1RyYWNrZWRJblBhcmVudENvbnRleHRzKHMpJiYodGhpcy5kZWFjdGl2YXRlKCksdGhpcy5wYXJlbnRDb250ZXh0cy5vbkNoaWxkT3V0bGV0RGVzdHJveWVkKHMpKSx0aGlzLmluaXRpYWxpemVPdXRsZXRXaXRoTmFtZSgpfX1uZ09uRGVzdHJveSgpe3RoaXMuaXNUcmFja2VkSW5QYXJlbnRDb250ZXh0cyh0aGlzLm5hbWUpJiZ0aGlzLnBhcmVudENvbnRleHRzLm9uQ2hpbGRPdXRsZXREZXN0cm95ZWQodGhpcy5uYW1lKSx0aGlzLmlucHV0QmluZGVyPy51bnN1YnNjcmliZUZyb21Sb3V0ZURhdGEodGhpcyl9aXNUcmFja2VkSW5QYXJlbnRDb250ZXh0cyhyKXtyZXR1cm4gdGhpcy5wYXJlbnRDb250ZXh0cy5nZXRDb250ZXh0KHIpPy5vdXRsZXQ9PT10aGlzfW5nT25Jbml0KCl7dGhpcy5pbml0aWFsaXplT3V0bGV0V2l0aE5hbWUoKX1pbml0aWFsaXplT3V0bGV0V2l0aE5hbWUoKXtpZih0aGlzLnBhcmVudENvbnRleHRzLm9uQ2hpbGRPdXRsZXRDcmVhdGVkKHRoaXMubmFtZSx0aGlzKSx0aGlzLmFjdGl2YXRlZClyZXR1cm47Y29uc3Qgcj10aGlzLnBhcmVudENvbnRleHRzLmdldENvbnRleHQodGhpcy5uYW1lKTtyPy5yb3V0ZSYmKHIuYXR0YWNoUmVmP3RoaXMuYXR0YWNoKHIuYXR0YWNoUmVmLHIucm91dGUpOnRoaXMuYWN0aXZhdGVXaXRoKHIucm91dGUsci5pbmplY3RvcikpfWdldCBpc0FjdGl2YXRlZCgpe3JldHVybiEhdGhpcy5hY3RpdmF0ZWR9Z2V0IGNvbXBvbmVudCgpe2lmKCF0aGlzLmFjdGl2YXRlZCl0aHJvdyBuZXcgVyg0MDEyLCExKTtyZXR1cm4gdGhpcy5hY3RpdmF0ZWQuaW5zdGFuY2V9Z2V0IGFjdGl2YXRlZFJvdXRlKCl7aWYoIXRoaXMuYWN0aXZhdGVkKXRocm93IG5ldyBXKDQwMTIsITEpO3JldHVybiB0aGlzLl9hY3RpdmF0ZWRSb3V0ZX1nZXQgYWN0aXZhdGVkUm91dGVEYXRhKCl7cmV0dXJuIHRoaXMuX2FjdGl2YXRlZFJvdXRlP3RoaXMuX2FjdGl2YXRlZFJvdXRlLnNuYXBzaG90LmRhdGE6e319ZGV0YWNoKCl7aWYoIXRoaXMuYWN0aXZhdGVkKXRocm93IG5ldyBXKDQwMTIsITEpO3RoaXMubG9jYXRpb24uZGV0YWNoKCk7Y29uc3Qgcj10aGlzLmFjdGl2YXRlZDtyZXR1cm4gdGhpcy5hY3RpdmF0ZWQ9bnVsbCx0aGlzLl9hY3RpdmF0ZWRSb3V0ZT1udWxsLHRoaXMuZGV0YWNoRXZlbnRzLmVtaXQoci5pbnN0YW5jZSkscn1hdHRhY2gocixpKXt0aGlzLmFjdGl2YXRlZD1yLHRoaXMuX2FjdGl2YXRlZFJvdXRlPWksdGhpcy5sb2NhdGlvbi5pbnNlcnQoci5ob3N0VmlldyksdGhpcy5pbnB1dEJpbmRlcj8uYmluZEFjdGl2YXRlZFJvdXRlVG9PdXRsZXRDb21wb25lbnQodGhpcyksdGhpcy5hdHRhY2hFdmVudHMuZW1pdChyLmluc3RhbmNlKX1kZWFjdGl2YXRlKCl7aWYodGhpcy5hY3RpdmF0ZWQpe2NvbnN0IHI9dGhpcy5jb21wb25lbnQ7dGhpcy5hY3RpdmF0ZWQuZGVzdHJveSgpLHRoaXMuYWN0aXZhdGVkPW51bGwsdGhpcy5fYWN0aXZhdGVkUm91dGU9bnVsbCx0aGlzLmRlYWN0aXZhdGVFdmVudHMuZW1pdChyKX19YWN0aXZhdGVXaXRoKHIsaSl7aWYodGhpcy5pc0FjdGl2YXRlZCl0aHJvdyBuZXcgVyg0MDEzLCExKTt0aGlzLl9hY3RpdmF0ZWRSb3V0ZT1yO2NvbnN0IHM9dGhpcy5sb2NhdGlvbixhPXIuc25hcHNob3QuY29tcG9uZW50LGM9dGhpcy5wYXJlbnRDb250ZXh0cy5nZXRPckNyZWF0ZUNvbnRleHQodGhpcy5uYW1lKS5jaGlsZHJlbix1PW5ldyBSeChyLGMscy5pbmplY3Rvcik7dGhpcy5hY3RpdmF0ZWQ9cy5jcmVhdGVDb21wb25lbnQoYSx7aW5kZXg6cy5sZW5ndGgsaW5qZWN0b3I6dSxlbnZpcm9ubWVudEluamVjdG9yOmk/P3RoaXMuZW52aXJvbm1lbnRJbmplY3Rvcn0pLHRoaXMuY2hhbmdlRGV0ZWN0b3IubWFya0ZvckNoZWNrKCksdGhpcy5pbnB1dEJpbmRlcj8uYmluZEFjdGl2YXRlZFJvdXRlVG9PdXRsZXRDb21wb25lbnQodGhpcyksdGhpcy5hY3RpdmF0ZUV2ZW50cy5lbWl0KHRoaXMuYWN0aXZhdGVkLmluc3RhbmNlKX19cmV0dXJuIHQ9ZSx0Lsm1ZmFjPWZ1bmN0aW9uKHIpe3JldHVybiBuZXcocnx8dCl9LHQuybVkaXI9RF8oe3R5cGU6dCxzZWxlY3RvcnM6W1sicm91dGVyLW91dGxldCJdXSxpbnB1dHM6e25hbWU6Im5hbWUifSxvdXRwdXRzOnthY3RpdmF0ZUV2ZW50czoiYWN0aXZhdGUiLGRlYWN0aXZhdGVFdmVudHM6ImRlYWN0aXZhdGUiLGF0dGFjaEV2ZW50czoiYXR0YWNoIixkZXRhY2hFdmVudHM6ImRldGFjaCJ9LGV4cG9ydEFzOlsib3V0bGV0Il0sc3RhbmRhbG9uZTohMCxmZWF0dXJlczpbQUVdfSksZX0pKCk7Y2xhc3MgUnh7Y29uc3RydWN0b3IoZSxuLHIpe3RoaXMucm91dGU9ZSx0aGlzLmNoaWxkQ29udGV4dHM9bix0aGlzLnBhcmVudD1yfWdldChlLG4pe3JldHVybiBlPT09Q3U/dGhpcy5yb3V0ZTplPT09U3U/dGhpcy5jaGlsZENvbnRleHRzOnRoaXMucGFyZW50LmdldChlLG4pfX1jb25zdCBucD1uZXcgc2UoIiIpO2Z1bmN0aW9uIGJ4KHQsZSxuKXtjb25zdCByPWdvKHQsZS5fcm9vdCxuP24uX3Jvb3Q6dm9pZCAwKTtyZXR1cm4gbmV3IFhJKHIsZSl9ZnVuY3Rpb24gZ28odCxlLG4pe2lmKG4mJnQuc2hvdWxkUmV1c2VSb3V0ZShlLnZhbHVlLG4udmFsdWUuc25hcHNob3QpKXtjb25zdCByPW4udmFsdWU7ci5fZnV0dXJlU25hcHNob3Q9ZS52YWx1ZTtjb25zdCBpPUR4KHQsZSxuKTtyZXR1cm4gbmV3IFd0KHIsaSl9ZWxzZXtpZih0LnNob3VsZEF0dGFjaChlLnZhbHVlKSl7Y29uc3Qgcz10LnJldHJpZXZlKGUudmFsdWUpO2lmKHMhPT1udWxsKXtjb25zdCBvPXMucm91dGU7cmV0dXJuIG8udmFsdWUuX2Z1dHVyZVNuYXBzaG90PWUudmFsdWUsby5jaGlsZHJlbj1lLmNoaWxkcmVuLm1hcChhPT5nbyh0LGEpKSxvfX1jb25zdCByPVB4KGUudmFsdWUpLGk9ZS5jaGlsZHJlbi5tYXAocz0+Z28odCxzKSk7cmV0dXJuIG5ldyBXdChyLGkpfX1mdW5jdGlvbiBEeCh0LGUsbil7cmV0dXJuIGUuY2hpbGRyZW4ubWFwKHI9Pntmb3IoY29uc3QgaSBvZiBuLmNoaWxkcmVuKWlmKHQuc2hvdWxkUmV1c2VSb3V0ZShyLnZhbHVlLGkudmFsdWUuc25hcHNob3QpKXJldHVybiBnbyh0LHIsaSk7cmV0dXJuIGdvKHQscil9KX1mdW5jdGlvbiBQeCh0KXtyZXR1cm4gbmV3IEN1KG5ldyBMdCh0LnVybCksbmV3IEx0KHQucGFyYW1zKSxuZXcgTHQodC5xdWVyeVBhcmFtcyksbmV3IEx0KHQuZnJhZ21lbnQpLG5ldyBMdCh0LmRhdGEpLHQub3V0bGV0LHQuY29tcG9uZW50LHQpfWNvbnN0IHJUPSJuZ05hdmlnYXRpb25DYW5jZWxpbmdFcnJvciI7ZnVuY3Rpb24gaVQodCxlKXtjb25zdHtyZWRpcmVjdFRvOm4sbmF2aWdhdGlvbkJlaGF2aW9yT3B0aW9uczpyfT1qaShlKT97cmVkaXJlY3RUbzplLG5hdmlnYXRpb25CZWhhdmlvck9wdGlvbnM6dm9pZCAwfTplLGk9c1QoITEsanQuUmVkaXJlY3QpO3JldHVybiBpLnVybD1uLGkubmF2aWdhdGlvbkJlaGF2aW9yT3B0aW9ucz1yLGl9ZnVuY3Rpb24gc1QodCxlKXtjb25zdCBuPW5ldyBFcnJvcihgTmF2aWdhdGlvbkNhbmNlbGluZ0Vycm9yOiAke3R8fCIifWApO3JldHVybiBuW3JUXT0hMCxuLmNhbmNlbGxhdGlvbkNvZGU9ZSxufWZ1bmN0aW9uIE14KHQpe3JldHVybiBvVCh0KSYmamkodC51cmwpfWZ1bmN0aW9uIG9UKHQpe3JldHVybiEhdCYmdFtyVF19bGV0IE54PSgoKT0+e3ZhciB0O2NsYXNzIGV7fXJldHVybiB0PWUsdC7JtWZhYz1mdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fHQpfSx0Lsm1Y21wPWJfKHt0eXBlOnQsc2VsZWN0b3JzOltbIm5nLWNvbXBvbmVudCJdXSxzdGFuZGFsb25lOiEwLGZlYXR1cmVzOltjSV0sZGVjbHM6MSx2YXJzOjAsdGVtcGxhdGU6ZnVuY3Rpb24ocixpKXtyJjEmJkJmKDAsInJvdXRlci1vdXRsZXQiKX0sZGVwZW5kZW5jaWVzOltuVF0sZW5jYXBzdWxhdGlvbjoyfSksZX0pKCk7ZnVuY3Rpb24ga3godCxlKXtyZXR1cm4gdC5wcm92aWRlcnMmJiF0Ll9pbmplY3RvciYmKHQuX2luamVjdG9yPVp3KHQucHJvdmlkZXJzLGUsYFJvdXRlOiAke3QucGF0aH1gKSksdC5faW5qZWN0b3I/P2V9ZnVuY3Rpb24gcnAodCl7Y29uc3QgZT10LmNoaWxkcmVuJiZ0LmNoaWxkcmVuLm1hcChycCksbj1lP3suLi50LGNoaWxkcmVuOmV9OnsuLi50fTtyZXR1cm4hbi5jb21wb25lbnQmJiFuLmxvYWRDb21wb25lbnQmJihlfHxuLmxvYWRDaGlsZHJlbikmJm4ub3V0bGV0JiZuLm91dGxldCE9PXJlJiYobi5jb21wb25lbnQ9TngpLG59ZnVuY3Rpb24gZ24odCl7cmV0dXJuIHQub3V0bGV0fHxyZX1mdW5jdGlvbiBPeCh0LGUpe2NvbnN0IG49dC5maWx0ZXIocj0+Z24ocik9PT1lKTtyZXR1cm4gbi5wdXNoKC4uLnQuZmlsdGVyKHI9PmduKHIpIT09ZSkpLG59ZnVuY3Rpb24gS28odCl7aWYoIXQpcmV0dXJuIG51bGw7aWYodC5yb3V0ZUNvbmZpZz8uX2luamVjdG9yKXJldHVybiB0LnJvdXRlQ29uZmlnLl9pbmplY3Rvcjtmb3IobGV0IGU9dC5wYXJlbnQ7ZTtlPWUucGFyZW50KXtjb25zdCBuPWUucm91dGVDb25maWc7aWYobj8uX2xvYWRlZEluamVjdG9yKXJldHVybiBuLl9sb2FkZWRJbmplY3RvcjtpZihuPy5faW5qZWN0b3IpcmV0dXJuIG4uX2luamVjdG9yfXJldHVybiBudWxsfWNvbnN0IHh4PSh0LGUsbixyKT0+eWUoaT0+KG5ldyBMeChlLGkudGFyZ2V0Um91dGVyU3RhdGUsaS5jdXJyZW50Um91dGVyU3RhdGUsbixyKS5hY3RpdmF0ZSh0KSxpKSk7Y2xhc3MgTHh7Y29uc3RydWN0b3IoZSxuLHIsaSxzKXt0aGlzLnJvdXRlUmV1c2VTdHJhdGVneT1lLHRoaXMuZnV0dXJlU3RhdGU9bix0aGlzLmN1cnJTdGF0ZT1yLHRoaXMuZm9yd2FyZEV2ZW50PWksdGhpcy5pbnB1dEJpbmRpbmdFbmFibGVkPXN9YWN0aXZhdGUoZSl7Y29uc3Qgbj10aGlzLmZ1dHVyZVN0YXRlLl9yb290LHI9dGhpcy5jdXJyU3RhdGU/dGhpcy5jdXJyU3RhdGUuX3Jvb3Q6bnVsbDt0aGlzLmRlYWN0aXZhdGVDaGlsZFJvdXRlcyhuLHIsZSksamwodGhpcy5mdXR1cmVTdGF0ZS5yb290KSx0aGlzLmFjdGl2YXRlQ2hpbGRSb3V0ZXMobixyLGUpfWRlYWN0aXZhdGVDaGlsZFJvdXRlcyhlLG4scil7Y29uc3QgaT15aShuKTtlLmNoaWxkcmVuLmZvckVhY2gocz0+e2NvbnN0IG89cy52YWx1ZS5vdXRsZXQ7dGhpcy5kZWFjdGl2YXRlUm91dGVzKHMsaVtvXSxyKSxkZWxldGUgaVtvXX0pLE9iamVjdC52YWx1ZXMoaSkuZm9yRWFjaChzPT57dGhpcy5kZWFjdGl2YXRlUm91dGVBbmRJdHNDaGlsZHJlbihzLHIpfSl9ZGVhY3RpdmF0ZVJvdXRlcyhlLG4scil7Y29uc3QgaT1lLnZhbHVlLHM9bj9uLnZhbHVlOm51bGw7aWYoaT09PXMpaWYoaS5jb21wb25lbnQpe2NvbnN0IG89ci5nZXRDb250ZXh0KGkub3V0bGV0KTtvJiZ0aGlzLmRlYWN0aXZhdGVDaGlsZFJvdXRlcyhlLG4sby5jaGlsZHJlbil9ZWxzZSB0aGlzLmRlYWN0aXZhdGVDaGlsZFJvdXRlcyhlLG4scik7ZWxzZSBzJiZ0aGlzLmRlYWN0aXZhdGVSb3V0ZUFuZEl0c0NoaWxkcmVuKG4scil9ZGVhY3RpdmF0ZVJvdXRlQW5kSXRzQ2hpbGRyZW4oZSxuKXtlLnZhbHVlLmNvbXBvbmVudCYmdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kuc2hvdWxkRGV0YWNoKGUudmFsdWUuc25hcHNob3QpP3RoaXMuZGV0YWNoQW5kU3RvcmVSb3V0ZVN1YnRyZWUoZSxuKTp0aGlzLmRlYWN0aXZhdGVSb3V0ZUFuZE91dGxldChlLG4pfWRldGFjaEFuZFN0b3JlUm91dGVTdWJ0cmVlKGUsbil7Y29uc3Qgcj1uLmdldENvbnRleHQoZS52YWx1ZS5vdXRsZXQpLGk9ciYmZS52YWx1ZS5jb21wb25lbnQ/ci5jaGlsZHJlbjpuLHM9eWkoZSk7Zm9yKGNvbnN0IG8gb2YgT2JqZWN0LnZhbHVlcyhzKSl0aGlzLmRlYWN0aXZhdGVSb3V0ZUFuZEl0c0NoaWxkcmVuKG8saSk7aWYociYmci5vdXRsZXQpe2NvbnN0IG89ci5vdXRsZXQuZGV0YWNoKCksYT1yLmNoaWxkcmVuLm9uT3V0bGV0RGVhY3RpdmF0ZWQoKTt0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5zdG9yZShlLnZhbHVlLnNuYXBzaG90LHtjb21wb25lbnRSZWY6byxyb3V0ZTplLGNvbnRleHRzOmF9KX19ZGVhY3RpdmF0ZVJvdXRlQW5kT3V0bGV0KGUsbil7Y29uc3Qgcj1uLmdldENvbnRleHQoZS52YWx1ZS5vdXRsZXQpLGk9ciYmZS52YWx1ZS5jb21wb25lbnQ/ci5jaGlsZHJlbjpuLHM9eWkoZSk7Zm9yKGNvbnN0IG8gb2YgT2JqZWN0LnZhbHVlcyhzKSl0aGlzLmRlYWN0aXZhdGVSb3V0ZUFuZEl0c0NoaWxkcmVuKG8saSk7ciYmKHIub3V0bGV0JiYoci5vdXRsZXQuZGVhY3RpdmF0ZSgpLHIuY2hpbGRyZW4ub25PdXRsZXREZWFjdGl2YXRlZCgpKSxyLmF0dGFjaFJlZj1udWxsLHIucm91dGU9bnVsbCl9YWN0aXZhdGVDaGlsZFJvdXRlcyhlLG4scil7Y29uc3QgaT15aShuKTtlLmNoaWxkcmVuLmZvckVhY2gocz0+e3RoaXMuYWN0aXZhdGVSb3V0ZXMocyxpW3MudmFsdWUub3V0bGV0XSxyKSx0aGlzLmZvcndhcmRFdmVudChuZXcgU3gocy52YWx1ZS5zbmFwc2hvdCkpfSksZS5jaGlsZHJlbi5sZW5ndGgmJnRoaXMuZm9yd2FyZEV2ZW50KG5ldyBJeChlLnZhbHVlLnNuYXBzaG90KSl9YWN0aXZhdGVSb3V0ZXMoZSxuLHIpe2NvbnN0IGk9ZS52YWx1ZSxzPW4/bi52YWx1ZTpudWxsO2lmKGpsKGkpLGk9PT1zKWlmKGkuY29tcG9uZW50KXtjb25zdCBvPXIuZ2V0T3JDcmVhdGVDb250ZXh0KGkub3V0bGV0KTt0aGlzLmFjdGl2YXRlQ2hpbGRSb3V0ZXMoZSxuLG8uY2hpbGRyZW4pfWVsc2UgdGhpcy5hY3RpdmF0ZUNoaWxkUm91dGVzKGUsbixyKTtlbHNlIGlmKGkuY29tcG9uZW50KXtjb25zdCBvPXIuZ2V0T3JDcmVhdGVDb250ZXh0KGkub3V0bGV0KTtpZih0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5zaG91bGRBdHRhY2goaS5zbmFwc2hvdCkpe2NvbnN0IGE9dGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kucmV0cmlldmUoaS5zbmFwc2hvdCk7dGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kuc3RvcmUoaS5zbmFwc2hvdCxudWxsKSxvLmNoaWxkcmVuLm9uT3V0bGV0UmVBdHRhY2hlZChhLmNvbnRleHRzKSxvLmF0dGFjaFJlZj1hLmNvbXBvbmVudFJlZixvLnJvdXRlPWEucm91dGUudmFsdWUsby5vdXRsZXQmJm8ub3V0bGV0LmF0dGFjaChhLmNvbXBvbmVudFJlZixhLnJvdXRlLnZhbHVlKSxqbChhLnJvdXRlLnZhbHVlKSx0aGlzLmFjdGl2YXRlQ2hpbGRSb3V0ZXMoZSxudWxsLG8uY2hpbGRyZW4pfWVsc2V7Y29uc3QgYT1LbyhpLnNuYXBzaG90KTtvLmF0dGFjaFJlZj1udWxsLG8ucm91dGU9aSxvLmluamVjdG9yPWEsby5vdXRsZXQmJm8ub3V0bGV0LmFjdGl2YXRlV2l0aChpLG8uaW5qZWN0b3IpLHRoaXMuYWN0aXZhdGVDaGlsZFJvdXRlcyhlLG51bGwsby5jaGlsZHJlbil9fWVsc2UgdGhpcy5hY3RpdmF0ZUNoaWxkUm91dGVzKGUsbnVsbCxyKX19Y2xhc3MgdHl7Y29uc3RydWN0b3IoZSl7dGhpcy5wYXRoPWUsdGhpcy5yb3V0ZT10aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aC0xXX19Y2xhc3MgWmF7Y29uc3RydWN0b3IoZSxuKXt0aGlzLmNvbXBvbmVudD1lLHRoaXMucm91dGU9bn19ZnVuY3Rpb24gVngodCxlLG4pe2NvbnN0IHI9dC5fcm9vdCxpPWU/ZS5fcm9vdDpudWxsO3JldHVybiBUcyhyLGksbixbci52YWx1ZV0pfWZ1bmN0aW9uIEZ4KHQpe2NvbnN0IGU9dC5yb3V0ZUNvbmZpZz90LnJvdXRlQ29uZmlnLmNhbkFjdGl2YXRlQ2hpbGQ6bnVsbDtyZXR1cm4hZXx8ZS5sZW5ndGg9PT0wP251bGw6e25vZGU6dCxndWFyZHM6ZX19ZnVuY3Rpb24gYXModCxlKXtjb25zdCBuPVN5bWJvbCgpLHI9ZS5nZXQodCxuKTtyZXR1cm4gcj09PW4/dHlwZW9mIHQ9PSJmdW5jdGlvbiImJiF1RCh0KT90OmUuZ2V0KHQpOnJ9ZnVuY3Rpb24gVHModCxlLG4scixpPXtjYW5EZWFjdGl2YXRlQ2hlY2tzOltdLGNhbkFjdGl2YXRlQ2hlY2tzOltdfSl7Y29uc3Qgcz15aShlKTtyZXR1cm4gdC5jaGlsZHJlbi5mb3JFYWNoKG89PntVeChvLHNbby52YWx1ZS5vdXRsZXRdLG4sci5jb25jYXQoW28udmFsdWVdKSxpKSxkZWxldGUgc1tvLnZhbHVlLm91dGxldF19KSxPYmplY3QuZW50cmllcyhzKS5mb3JFYWNoKChbbyxhXSk9PlZzKGEsbi5nZXRDb250ZXh0KG8pLGkpKSxpfWZ1bmN0aW9uIFV4KHQsZSxuLHIsaT17Y2FuRGVhY3RpdmF0ZUNoZWNrczpbXSxjYW5BY3RpdmF0ZUNoZWNrczpbXX0pe2NvbnN0IHM9dC52YWx1ZSxvPWU/ZS52YWx1ZTpudWxsLGE9bj9uLmdldENvbnRleHQodC52YWx1ZS5vdXRsZXQpOm51bGw7aWYobyYmcy5yb3V0ZUNvbmZpZz09PW8ucm91dGVDb25maWcpe2NvbnN0IGM9angobyxzLHMucm91dGVDb25maWcucnVuR3VhcmRzQW5kUmVzb2x2ZXJzKTtjP2kuY2FuQWN0aXZhdGVDaGVja3MucHVzaChuZXcgdHkocikpOihzLmRhdGE9by5kYXRhLHMuX3Jlc29sdmVkRGF0YT1vLl9yZXNvbHZlZERhdGEpLHMuY29tcG9uZW50P1RzKHQsZSxhP2EuY2hpbGRyZW46bnVsbCxyLGkpOlRzKHQsZSxuLHIsaSksYyYmYSYmYS5vdXRsZXQmJmEub3V0bGV0LmlzQWN0aXZhdGVkJiZpLmNhbkRlYWN0aXZhdGVDaGVja3MucHVzaChuZXcgWmEoYS5vdXRsZXQuY29tcG9uZW50LG8pKX1lbHNlIG8mJlZzKGUsYSxpKSxpLmNhbkFjdGl2YXRlQ2hlY2tzLnB1c2gobmV3IHR5KHIpKSxzLmNvbXBvbmVudD9Ucyh0LG51bGwsYT9hLmNoaWxkcmVuOm51bGwscixpKTpUcyh0LG51bGwsbixyLGkpO3JldHVybiBpfWZ1bmN0aW9uIGp4KHQsZSxuKXtpZih0eXBlb2Ygbj09ImZ1bmN0aW9uIilyZXR1cm4gbih0LGUpO3N3aXRjaChuKXtjYXNlInBhdGhQYXJhbXNDaGFuZ2UiOnJldHVybiFrcih0LnVybCxlLnVybCk7Y2FzZSJwYXRoUGFyYW1zT3JRdWVyeVBhcmFtc0NoYW5nZSI6cmV0dXJuIWtyKHQudXJsLGUudXJsKXx8IXVuKHQucXVlcnlQYXJhbXMsZS5xdWVyeVBhcmFtcyk7Y2FzZSJhbHdheXMiOnJldHVybiEwO2Nhc2UicGFyYW1zT3JRdWVyeVBhcmFtc0NoYW5nZSI6cmV0dXJuIW5kKHQsZSl8fCF1bih0LnF1ZXJ5UGFyYW1zLGUucXVlcnlQYXJhbXMpO2Nhc2UicGFyYW1zQ2hhbmdlIjpkZWZhdWx0OnJldHVybiFuZCh0LGUpfX1mdW5jdGlvbiBWcyh0LGUsbil7Y29uc3Qgcj15aSh0KSxpPXQudmFsdWU7T2JqZWN0LmVudHJpZXMocikuZm9yRWFjaCgoW3Msb10pPT57aS5jb21wb25lbnQ/ZT9WcyhvLGUuY2hpbGRyZW4uZ2V0Q29udGV4dChzKSxuKTpWcyhvLG51bGwsbik6VnMobyxlLG4pfSksaS5jb21wb25lbnQ/ZSYmZS5vdXRsZXQmJmUub3V0bGV0LmlzQWN0aXZhdGVkP24uY2FuRGVhY3RpdmF0ZUNoZWNrcy5wdXNoKG5ldyBaYShlLm91dGxldC5jb21wb25lbnQsaSkpOm4uY2FuRGVhY3RpdmF0ZUNoZWNrcy5wdXNoKG5ldyBaYShudWxsLGkpKTpuLmNhbkRlYWN0aXZhdGVDaGVja3MucHVzaChuZXcgWmEobnVsbCxpKSl9ZnVuY3Rpb24gUW8odCl7cmV0dXJuIHR5cGVvZiB0PT0iZnVuY3Rpb24ifWZ1bmN0aW9uICR4KHQpe3JldHVybiB0eXBlb2YgdD09ImJvb2xlYW4ifWZ1bmN0aW9uIEJ4KHQpe3JldHVybiB0JiZRbyh0LmNhbkxvYWQpfWZ1bmN0aW9uIEh4KHQpe3JldHVybiB0JiZRbyh0LmNhbkFjdGl2YXRlKX1mdW5jdGlvbiBxeCh0KXtyZXR1cm4gdCYmUW8odC5jYW5BY3RpdmF0ZUNoaWxkKX1mdW5jdGlvbiB6eCh0KXtyZXR1cm4gdCYmUW8odC5jYW5EZWFjdGl2YXRlKX1mdW5jdGlvbiBXeCh0KXtyZXR1cm4gdCYmUW8odC5jYW5NYXRjaCl9ZnVuY3Rpb24gYVQodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBWb3x8dD8ubmFtZT09PSJFbXB0eUVycm9yIn1jb25zdCBSYT1TeW1ib2woIklOSVRJQUxfVkFMVUUiKTtmdW5jdGlvbiBIaSgpe3JldHVybiBubih0PT5FXyh0Lm1hcChlPT5lLnBpcGUoT2koMSksb2IoUmEpKSkpLnBpcGUoeWUoZT0+e2Zvcihjb25zdCBuIG9mIGUpaWYobiE9PSEwKXtpZihuPT09UmEpcmV0dXJuIFJhO2lmKG49PT0hMXx8biBpbnN0YW5jZW9mIG9zKXJldHVybiBufXJldHVybiEwfSkseG4oZT0+ZSE9PVJhKSxPaSgxKSkpfWZ1bmN0aW9uIEd4KHQsZSl7cmV0dXJuIHd0KG49Pntjb25zdHt0YXJnZXRTbmFwc2hvdDpyLGN1cnJlbnRTbmFwc2hvdDppLGd1YXJkczp7Y2FuQWN0aXZhdGVDaGVja3M6cyxjYW5EZWFjdGl2YXRlQ2hlY2tzOm99fT1uO3JldHVybiBvLmxlbmd0aD09PTAmJnMubGVuZ3RoPT09MD9lZSh7Li4ubixndWFyZHNSZXN1bHQ6ITB9KTpLeChvLHIsaSx0KS5waXBlKHd0KGE9PmEmJiR4KGEpP1F4KHIscyx0LGUpOmVlKGEpKSx5ZShhPT4oey4uLm4sZ3VhcmRzUmVzdWx0OmF9KSkpfSl9ZnVuY3Rpb24gS3godCxlLG4scil7cmV0dXJuIEl0KHQpLnBpcGUod3QoaT0+ZUwoaS5jb21wb25lbnQsaS5yb3V0ZSxuLGUscikpLGZyKGk9PmkhPT0hMCwhMCkpfWZ1bmN0aW9uIFF4KHQsZSxuLHIpe3JldHVybiBJdChlKS5waXBlKFlzKGk9PmZoKFh4KGkucm91dGUucGFyZW50LHIpLFp4KGkucm91dGUsciksSngodCxpLnBhdGgsbiksWXgodCxpLnJvdXRlLG4pKSksZnIoaT0+aSE9PSEwLCEwKSl9ZnVuY3Rpb24gWngodCxlKXtyZXR1cm4gdCE9PW51bGwmJmUmJmUobmV3IFR4KHQpKSxlZSghMCl9ZnVuY3Rpb24gWHgodCxlKXtyZXR1cm4gdCE9PW51bGwmJmUmJmUobmV3IHd4KHQpKSxlZSghMCl9ZnVuY3Rpb24gWXgodCxlLG4pe2NvbnN0IHI9ZS5yb3V0ZUNvbmZpZz9lLnJvdXRlQ29uZmlnLmNhbkFjdGl2YXRlOm51bGw7aWYoIXJ8fHIubGVuZ3RoPT09MClyZXR1cm4gZWUoITApO2NvbnN0IGk9ci5tYXAocz0+d18oKCk9Pntjb25zdCBvPUtvKGUpPz9uLGE9YXMocyxvKSxjPUh4KGEpP2EuY2FuQWN0aXZhdGUoZSx0KTpZcihvLCgpPT5hKGUsdCkpO3JldHVybiB5cihjKS5waXBlKGZyKCkpfSkpO3JldHVybiBlZShpKS5waXBlKEhpKCkpfWZ1bmN0aW9uIEp4KHQsZSxuKXtjb25zdCByPWVbZS5sZW5ndGgtMV0scz1lLnNsaWNlKDAsZS5sZW5ndGgtMSkucmV2ZXJzZSgpLm1hcChvPT5GeChvKSkuZmlsdGVyKG89Pm8hPT1udWxsKS5tYXAobz0+d18oKCk9Pntjb25zdCBhPW8uZ3VhcmRzLm1hcChjPT57Y29uc3QgdT1LbyhvLm5vZGUpPz9uLGw9YXMoYyx1KSxoPXF4KGwpP2wuY2FuQWN0aXZhdGVDaGlsZChyLHQpOllyKHUsKCk9Pmwocix0KSk7cmV0dXJuIHlyKGgpLnBpcGUoZnIoKSl9KTtyZXR1cm4gZWUoYSkucGlwZShIaSgpKX0pKTtyZXR1cm4gZWUocykucGlwZShIaSgpKX1mdW5jdGlvbiBlTCh0LGUsbixyLGkpe2NvbnN0IHM9ZSYmZS5yb3V0ZUNvbmZpZz9lLnJvdXRlQ29uZmlnLmNhbkRlYWN0aXZhdGU6bnVsbDtpZighc3x8cy5sZW5ndGg9PT0wKXJldHVybiBlZSghMCk7Y29uc3Qgbz1zLm1hcChhPT57Y29uc3QgYz1LbyhlKT8/aSx1PWFzKGEsYyksbD16eCh1KT91LmNhbkRlYWN0aXZhdGUodCxlLG4scik6WXIoYywoKT0+dSh0LGUsbixyKSk7cmV0dXJuIHlyKGwpLnBpcGUoZnIoKSl9KTtyZXR1cm4gZWUobykucGlwZShIaSgpKX1mdW5jdGlvbiB0TCh0LGUsbixyKXtjb25zdCBpPWUuY2FuTG9hZDtpZihpPT09dm9pZCAwfHxpLmxlbmd0aD09PTApcmV0dXJuIGVlKCEwKTtjb25zdCBzPWkubWFwKG89Pntjb25zdCBhPWFzKG8sdCksYz1CeChhKT9hLmNhbkxvYWQoZSxuKTpZcih0LCgpPT5hKGUsbikpO3JldHVybiB5cihjKX0pO3JldHVybiBlZShzKS5waXBlKEhpKCksY1QocikpfWZ1bmN0aW9uIGNUKHQpe3JldHVybiBmUihxZShlPT57aWYoamkoZSkpdGhyb3cgaVQodCxlKX0pLHllKGU9PmU9PT0hMCkpfWZ1bmN0aW9uIG5MKHQsZSxuLHIpe2NvbnN0IGk9ZS5jYW5NYXRjaDtpZighaXx8aS5sZW5ndGg9PT0wKXJldHVybiBlZSghMCk7Y29uc3Qgcz1pLm1hcChvPT57Y29uc3QgYT1hcyhvLHQpLGM9V3goYSk/YS5jYW5NYXRjaChlLG4pOllyKHQsKCk9PmEoZSxuKSk7cmV0dXJuIHlyKGMpfSk7cmV0dXJuIGVlKHMpLnBpcGUoSGkoKSxjVChyKSl9Y2xhc3MgcmR7Y29uc3RydWN0b3IoZSl7dGhpcy5zZWdtZW50R3JvdXA9ZXx8bnVsbH19Y2xhc3MgdVQgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMudXJsVHJlZT1lfX1mdW5jdGlvbiBhaSh0KXtyZXR1cm4gSmMobmV3IHJkKHQpKX1mdW5jdGlvbiByTCh0KXtyZXR1cm4gSmMobmV3IFcoNGUzLCExKSl9ZnVuY3Rpb24gaUwodCl7cmV0dXJuIEpjKHNUKCExLGp0Lkd1YXJkUmVqZWN0ZWQpKX1jbGFzcyBzTHtjb25zdHJ1Y3RvcihlLG4pe3RoaXMudXJsU2VyaWFsaXplcj1lLHRoaXMudXJsVHJlZT1ufWxpbmVyYWxpemVTZWdtZW50cyhlLG4pe2xldCByPVtdLGk9bi5yb290O2Zvcig7Oyl7aWYocj1yLmNvbmNhdChpLnNlZ21lbnRzKSxpLm51bWJlck9mQ2hpbGRyZW49PT0wKXJldHVybiBlZShyKTtpZihpLm51bWJlck9mQ2hpbGRyZW4+MXx8IWkuY2hpbGRyZW5bcmVdKXJldHVybiByTChlLnJlZGlyZWN0VG8pO2k9aS5jaGlsZHJlbltyZV19fWFwcGx5UmVkaXJlY3RDb21tYW5kcyhlLG4scil7Y29uc3QgaT10aGlzLmFwcGx5UmVkaXJlY3RDcmVhdGVVcmxUcmVlKG4sdGhpcy51cmxTZXJpYWxpemVyLnBhcnNlKG4pLGUscik7aWYobi5zdGFydHNXaXRoKCIvIikpdGhyb3cgbmV3IHVUKGkpO3JldHVybiBpfWFwcGx5UmVkaXJlY3RDcmVhdGVVcmxUcmVlKGUsbixyLGkpe2NvbnN0IHM9dGhpcy5jcmVhdGVTZWdtZW50R3JvdXAoZSxuLnJvb3QscixpKTtyZXR1cm4gbmV3IG9zKHMsdGhpcy5jcmVhdGVRdWVyeVBhcmFtcyhuLnF1ZXJ5UGFyYW1zLHRoaXMudXJsVHJlZS5xdWVyeVBhcmFtcyksbi5mcmFnbWVudCl9Y3JlYXRlUXVlcnlQYXJhbXMoZSxuKXtjb25zdCByPXt9O3JldHVybiBPYmplY3QuZW50cmllcyhlKS5mb3JFYWNoKChbaSxzXSk9PntpZih0eXBlb2Ygcz09InN0cmluZyImJnMuc3RhcnRzV2l0aCgiOiIpKXtjb25zdCBhPXMuc3Vic3RyaW5nKDEpO3JbaV09blthXX1lbHNlIHJbaV09c30pLHJ9Y3JlYXRlU2VnbWVudEdyb3VwKGUsbixyLGkpe2NvbnN0IHM9dGhpcy5jcmVhdGVTZWdtZW50cyhlLG4uc2VnbWVudHMscixpKTtsZXQgbz17fTtyZXR1cm4gT2JqZWN0LmVudHJpZXMobi5jaGlsZHJlbikuZm9yRWFjaCgoW2EsY10pPT57b1thXT10aGlzLmNyZWF0ZVNlZ21lbnRHcm91cChlLGMscixpKX0pLG5ldyBJZShzLG8pfWNyZWF0ZVNlZ21lbnRzKGUsbixyLGkpe3JldHVybiBuLm1hcChzPT5zLnBhdGguc3RhcnRzV2l0aCgiOiIpP3RoaXMuZmluZFBvc1BhcmFtKGUscyxpKTp0aGlzLmZpbmRPclJldHVybihzLHIpKX1maW5kUG9zUGFyYW0oZSxuLHIpe2NvbnN0IGk9cltuLnBhdGguc3Vic3RyaW5nKDEpXTtpZighaSl0aHJvdyBuZXcgVyg0MDAxLCExKTtyZXR1cm4gaX1maW5kT3JSZXR1cm4oZSxuKXtsZXQgcj0wO2Zvcihjb25zdCBpIG9mIG4pe2lmKGkucGF0aD09PWUucGF0aClyZXR1cm4gbi5zcGxpY2UociksaTtyKyt9cmV0dXJuIGV9fWNvbnN0IGlkPXttYXRjaGVkOiExLGNvbnN1bWVkU2VnbWVudHM6W10scmVtYWluaW5nU2VnbWVudHM6W10scGFyYW1ldGVyczp7fSxwb3NpdGlvbmFsUGFyYW1TZWdtZW50czp7fX07ZnVuY3Rpb24gb0wodCxlLG4scixpKXtjb25zdCBzPWlwKHQsZSxuKTtyZXR1cm4gcy5tYXRjaGVkPyhyPWt4KGUsciksbkwocixlLG4saSkucGlwZSh5ZShvPT5vPT09ITA/czp7Li4uaWR9KSkpOmVlKHMpfWZ1bmN0aW9uIGlwKHQsZSxuKXtpZihlLnBhdGg9PT0iKioiKXJldHVybiBhTChuKTtpZihlLnBhdGg9PT0iIilyZXR1cm4gZS5wYXRoTWF0Y2g9PT0iZnVsbCImJih0Lmhhc0NoaWxkcmVuKCl8fG4ubGVuZ3RoPjApP3suLi5pZH06e21hdGNoZWQ6ITAsY29uc3VtZWRTZWdtZW50czpbXSxyZW1haW5pbmdTZWdtZW50czpuLHBhcmFtZXRlcnM6e30scG9zaXRpb25hbFBhcmFtU2VnbWVudHM6e319O2NvbnN0IGk9KGUubWF0Y2hlcnx8Qk8pKG4sdCxlKTtpZighaSlyZXR1cm57Li4uaWR9O2NvbnN0IHM9e307T2JqZWN0LmVudHJpZXMoaS5wb3NQYXJhbXM/P3t9KS5mb3JFYWNoKChbYSxjXSk9PntzW2FdPWMucGF0aH0pO2NvbnN0IG89aS5jb25zdW1lZC5sZW5ndGg+MD97Li4ucywuLi5pLmNvbnN1bWVkW2kuY29uc3VtZWQubGVuZ3RoLTFdLnBhcmFtZXRlcnN9OnM7cmV0dXJue21hdGNoZWQ6ITAsY29uc3VtZWRTZWdtZW50czppLmNvbnN1bWVkLHJlbWFpbmluZ1NlZ21lbnRzOm4uc2xpY2UoaS5jb25zdW1lZC5sZW5ndGgpLHBhcmFtZXRlcnM6byxwb3NpdGlvbmFsUGFyYW1TZWdtZW50czppLnBvc1BhcmFtcz8/e319fWZ1bmN0aW9uIGFMKHQpe3JldHVybnttYXRjaGVkOiEwLHBhcmFtZXRlcnM6dC5sZW5ndGg+MD94SSh0KS5wYXJhbWV0ZXJzOnt9LGNvbnN1bWVkU2VnbWVudHM6dCxyZW1haW5pbmdTZWdtZW50czpbXSxwb3NpdGlvbmFsUGFyYW1TZWdtZW50czp7fX19ZnVuY3Rpb24gbnkodCxlLG4scil7cmV0dXJuIG4ubGVuZ3RoPjAmJmxMKHQsbixyKT97c2VnbWVudEdyb3VwOm5ldyBJZShlLHVMKHIsbmV3IEllKG4sdC5jaGlsZHJlbikpKSxzbGljZWRTZWdtZW50czpbXX06bi5sZW5ndGg9PT0wJiZoTCh0LG4scik/e3NlZ21lbnRHcm91cDpuZXcgSWUodC5zZWdtZW50cyxjTCh0LG4scix0LmNoaWxkcmVuKSksc2xpY2VkU2VnbWVudHM6bn06e3NlZ21lbnRHcm91cDpuZXcgSWUodC5zZWdtZW50cyx0LmNoaWxkcmVuKSxzbGljZWRTZWdtZW50czpufX1mdW5jdGlvbiBjTCh0LGUsbixyKXtjb25zdCBpPXt9O2Zvcihjb25zdCBzIG9mIG4paWYoQXUodCxlLHMpJiYhcltnbihzKV0pe2NvbnN0IG89bmV3IEllKFtdLHt9KTtpW2duKHMpXT1vfXJldHVybnsuLi5yLC4uLml9fWZ1bmN0aW9uIHVMKHQsZSl7Y29uc3Qgbj17fTtuW3JlXT1lO2Zvcihjb25zdCByIG9mIHQpaWYoci5wYXRoPT09IiImJmduKHIpIT09cmUpe2NvbnN0IGk9bmV3IEllKFtdLHt9KTtuW2duKHIpXT1pfXJldHVybiBufWZ1bmN0aW9uIGxMKHQsZSxuKXtyZXR1cm4gbi5zb21lKHI9PkF1KHQsZSxyKSYmZ24ocikhPT1yZSl9ZnVuY3Rpb24gaEwodCxlLG4pe3JldHVybiBuLnNvbWUocj0+QXUodCxlLHIpKX1mdW5jdGlvbiBBdSh0LGUsbil7cmV0dXJuKHQuaGFzQ2hpbGRyZW4oKXx8ZS5sZW5ndGg+MCkmJm4ucGF0aE1hdGNoPT09ImZ1bGwiPyExOm4ucGF0aD09PSIifWZ1bmN0aW9uIGRMKHQsZSxuLHIpe3JldHVybiBnbih0KSE9PXImJihyPT09cmV8fCFBdShlLG4sdCkpPyExOmlwKGUsdCxuKS5tYXRjaGVkfWZ1bmN0aW9uIGZMKHQsZSxuKXtyZXR1cm4gZS5sZW5ndGg9PT0wJiYhdC5jaGlsZHJlbltuXX1jbGFzcyBwTHt9ZnVuY3Rpb24gZ0wodCxlLG4scixpLHMsbz0iZW1wdHlPbmx5Iil7cmV0dXJuIG5ldyB5TCh0LGUsbixyLGksbyxzKS5yZWNvZ25pemUoKX1jb25zdCBtTD0zMTtjbGFzcyB5THtjb25zdHJ1Y3RvcihlLG4scixpLHMsbyxhKXt0aGlzLmluamVjdG9yPWUsdGhpcy5jb25maWdMb2FkZXI9bix0aGlzLnJvb3RDb21wb25lbnRUeXBlPXIsdGhpcy5jb25maWc9aSx0aGlzLnVybFRyZWU9cyx0aGlzLnBhcmFtc0luaGVyaXRhbmNlU3RyYXRlZ3k9byx0aGlzLnVybFNlcmlhbGl6ZXI9YSx0aGlzLmFwcGx5UmVkaXJlY3RzPW5ldyBzTCh0aGlzLnVybFNlcmlhbGl6ZXIsdGhpcy51cmxUcmVlKSx0aGlzLmFic29sdXRlUmVkaXJlY3RDb3VudD0wLHRoaXMuYWxsb3dSZWRpcmVjdHM9ITB9bm9NYXRjaEVycm9yKGUpe3JldHVybiBuZXcgVyg0MDAyLGAnJHtlLnNlZ21lbnRHcm91cH0nYCl9cmVjb2duaXplKCl7Y29uc3QgZT1ueSh0aGlzLnVybFRyZWUucm9vdCxbXSxbXSx0aGlzLmNvbmZpZykuc2VnbWVudEdyb3VwO3JldHVybiB0aGlzLm1hdGNoKGUpLnBpcGUoeWUobj0+e2NvbnN0IHI9bmV3IHRkKFtdLE9iamVjdC5mcmVlemUoe30pLE9iamVjdC5mcmVlemUoey4uLnRoaXMudXJsVHJlZS5xdWVyeVBhcmFtc30pLHRoaXMudXJsVHJlZS5mcmFnbWVudCx7fSxyZSx0aGlzLnJvb3RDb21wb25lbnRUeXBlLG51bGwse30pLGk9bmV3IFd0KHIsbikscz1uZXcgSkkoIiIsaSksbz1jeChyLFtdLHRoaXMudXJsVHJlZS5xdWVyeVBhcmFtcyx0aGlzLnVybFRyZWUuZnJhZ21lbnQpO3JldHVybiBvLnF1ZXJ5UGFyYW1zPXRoaXMudXJsVHJlZS5xdWVyeVBhcmFtcyxzLnVybD10aGlzLnVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKG8pLHRoaXMuaW5oZXJpdFBhcmFtc0FuZERhdGEocy5fcm9vdCxudWxsKSx7c3RhdGU6cyx0cmVlOm99fSkpfW1hdGNoKGUpe3JldHVybiB0aGlzLnByb2Nlc3NTZWdtZW50R3JvdXAodGhpcy5pbmplY3Rvcix0aGlzLmNvbmZpZyxlLHJlKS5waXBlKHdpKHI9PntpZihyIGluc3RhbmNlb2YgdVQpcmV0dXJuIHRoaXMudXJsVHJlZT1yLnVybFRyZWUsdGhpcy5tYXRjaChyLnVybFRyZWUucm9vdCk7dGhyb3cgciBpbnN0YW5jZW9mIHJkP3RoaXMubm9NYXRjaEVycm9yKHIpOnJ9KSl9aW5oZXJpdFBhcmFtc0FuZERhdGEoZSxuKXtjb25zdCByPWUudmFsdWUsaT1lcChyLG4sdGhpcy5wYXJhbXNJbmhlcml0YW5jZVN0cmF0ZWd5KTtyLnBhcmFtcz1PYmplY3QuZnJlZXplKGkucGFyYW1zKSxyLmRhdGE9T2JqZWN0LmZyZWV6ZShpLmRhdGEpLGUuY2hpbGRyZW4uZm9yRWFjaChzPT50aGlzLmluaGVyaXRQYXJhbXNBbmREYXRhKHMscikpfXByb2Nlc3NTZWdtZW50R3JvdXAoZSxuLHIsaSl7cmV0dXJuIHIuc2VnbWVudHMubGVuZ3RoPT09MCYmci5oYXNDaGlsZHJlbigpP3RoaXMucHJvY2Vzc0NoaWxkcmVuKGUsbixyKTp0aGlzLnByb2Nlc3NTZWdtZW50KGUsbixyLHIuc2VnbWVudHMsaSwhMCkucGlwZSh5ZShzPT5zIGluc3RhbmNlb2YgV3Q/W3NdOltdKSl9cHJvY2Vzc0NoaWxkcmVuKGUsbixyKXtjb25zdCBpPVtdO2Zvcihjb25zdCBzIG9mIE9iamVjdC5rZXlzKHIuY2hpbGRyZW4pKXM9PT0icHJpbWFyeSI/aS51bnNoaWZ0KHMpOmkucHVzaChzKTtyZXR1cm4gSXQoaSkucGlwZShZcyhzPT57Y29uc3Qgbz1yLmNoaWxkcmVuW3NdLGE9T3gobixzKTtyZXR1cm4gdGhpcy5wcm9jZXNzU2VnbWVudEdyb3VwKGUsYSxvLHMpfSksc2IoKHMsbyk9PihzLnB1c2goLi4ubykscykpLGV1KG51bGwpLGliKCksd3Qocz0+e2lmKHM9PT1udWxsKXJldHVybiBhaShyKTtjb25zdCBvPWxUKHMpO3JldHVybiB2TChvKSxlZShvKX0pKX1wcm9jZXNzU2VnbWVudChlLG4scixpLHMsbyl7cmV0dXJuIEl0KG4pLnBpcGUoWXMoYT0+dGhpcy5wcm9jZXNzU2VnbWVudEFnYWluc3RSb3V0ZShhLl9pbmplY3Rvcj8/ZSxuLGEscixpLHMsbykucGlwZSh3aShjPT57aWYoYyBpbnN0YW5jZW9mIHJkKXJldHVybiBlZShudWxsKTt0aHJvdyBjfSkpKSxmcihhPT4hIWEpLHdpKGE9PntpZihhVChhKSlyZXR1cm4gZkwocixpLHMpP2VlKG5ldyBwTCk6YWkocik7dGhyb3cgYX0pKX1wcm9jZXNzU2VnbWVudEFnYWluc3RSb3V0ZShlLG4scixpLHMsbyxhKXtyZXR1cm4gZEwocixpLHMsbyk/ci5yZWRpcmVjdFRvPT09dm9pZCAwP3RoaXMubWF0Y2hTZWdtZW50QWdhaW5zdFJvdXRlKGUsaSxyLHMsbyk6dGhpcy5hbGxvd1JlZGlyZWN0cyYmYT90aGlzLmV4cGFuZFNlZ21lbnRBZ2FpbnN0Um91dGVVc2luZ1JlZGlyZWN0KGUsaSxuLHIscyxvKTphaShpKTphaShpKX1leHBhbmRTZWdtZW50QWdhaW5zdFJvdXRlVXNpbmdSZWRpcmVjdChlLG4scixpLHMsbyl7Y29uc3R7bWF0Y2hlZDphLGNvbnN1bWVkU2VnbWVudHM6Yyxwb3NpdGlvbmFsUGFyYW1TZWdtZW50czp1LHJlbWFpbmluZ1NlZ21lbnRzOmx9PWlwKG4saSxzKTtpZighYSlyZXR1cm4gYWkobik7aS5yZWRpcmVjdFRvLnN0YXJ0c1dpdGgoIi8iKSYmKHRoaXMuYWJzb2x1dGVSZWRpcmVjdENvdW50KyssdGhpcy5hYnNvbHV0ZVJlZGlyZWN0Q291bnQ+bUwmJih0aGlzLmFsbG93UmVkaXJlY3RzPSExKSk7Y29uc3QgaD10aGlzLmFwcGx5UmVkaXJlY3RzLmFwcGx5UmVkaXJlY3RDb21tYW5kcyhjLGkucmVkaXJlY3RUbyx1KTtyZXR1cm4gdGhpcy5hcHBseVJlZGlyZWN0cy5saW5lcmFsaXplU2VnbWVudHMoaSxoKS5waXBlKHd0KGQ9PnRoaXMucHJvY2Vzc1NlZ21lbnQoZSxyLG4sZC5jb25jYXQobCksbywhMSkpKX1tYXRjaFNlZ21lbnRBZ2FpbnN0Um91dGUoZSxuLHIsaSxzKXtjb25zdCBvPW9MKG4scixpLGUsdGhpcy51cmxTZXJpYWxpemVyKTtyZXR1cm4gci5wYXRoPT09IioqIiYmKG4uY2hpbGRyZW49e30pLG8ucGlwZShubihhPT5hLm1hdGNoZWQ/KGU9ci5faW5qZWN0b3I/P2UsdGhpcy5nZXRDaGlsZENvbmZpZyhlLHIsaSkucGlwZShubigoe3JvdXRlczpjfSk9Pntjb25zdCB1PXIuX2xvYWRlZEluamVjdG9yPz9lLHtjb25zdW1lZFNlZ21lbnRzOmwscmVtYWluaW5nU2VnbWVudHM6aCxwYXJhbWV0ZXJzOmR9PWEsZj1uZXcgdGQobCxkLE9iamVjdC5mcmVlemUoey4uLnRoaXMudXJsVHJlZS5xdWVyeVBhcmFtc30pLHRoaXMudXJsVHJlZS5mcmFnbWVudCxFTChyKSxnbihyKSxyLmNvbXBvbmVudD8/ci5fbG9hZGVkQ29tcG9uZW50Pz9udWxsLHIsd0wocikpLHtzZWdtZW50R3JvdXA6bSxzbGljZWRTZWdtZW50czp5fT1ueShuLGwsaCxjKTtpZih5Lmxlbmd0aD09PTAmJm0uaGFzQ2hpbGRyZW4oKSlyZXR1cm4gdGhpcy5wcm9jZXNzQ2hpbGRyZW4odSxjLG0pLnBpcGUoeWUoVD0+VD09PW51bGw/bnVsbDpuZXcgV3QoZixUKSkpO2lmKGMubGVuZ3RoPT09MCYmeS5sZW5ndGg9PT0wKXJldHVybiBlZShuZXcgV3QoZixbXSkpO2NvbnN0IF89Z24ocik9PT1zO3JldHVybiB0aGlzLnByb2Nlc3NTZWdtZW50KHUsYyxtLHksXz9yZTpzLCEwKS5waXBlKHllKFQ9Pm5ldyBXdChmLFQgaW5zdGFuY2VvZiBXdD9bVF06W10pKSl9KSkpOmFpKG4pKSl9Z2V0Q2hpbGRDb25maWcoZSxuLHIpe3JldHVybiBuLmNoaWxkcmVuP2VlKHtyb3V0ZXM6bi5jaGlsZHJlbixpbmplY3RvcjplfSk6bi5sb2FkQ2hpbGRyZW4/bi5fbG9hZGVkUm91dGVzIT09dm9pZCAwP2VlKHtyb3V0ZXM6bi5fbG9hZGVkUm91dGVzLGluamVjdG9yOm4uX2xvYWRlZEluamVjdG9yfSk6dEwoZSxuLHIsdGhpcy51cmxTZXJpYWxpemVyKS5waXBlKHd0KGk9Pmk/dGhpcy5jb25maWdMb2FkZXIubG9hZENoaWxkcmVuKGUsbikucGlwZShxZShzPT57bi5fbG9hZGVkUm91dGVzPXMucm91dGVzLG4uX2xvYWRlZEluamVjdG9yPXMuaW5qZWN0b3J9KSk6aUwobikpKTplZSh7cm91dGVzOltdLGluamVjdG9yOmV9KX19ZnVuY3Rpb24gdkwodCl7dC5zb3J0KChlLG4pPT5lLnZhbHVlLm91dGxldD09PXJlPy0xOm4udmFsdWUub3V0bGV0PT09cmU/MTplLnZhbHVlLm91dGxldC5sb2NhbGVDb21wYXJlKG4udmFsdWUub3V0bGV0KSl9ZnVuY3Rpb24gX0wodCl7Y29uc3QgZT10LnZhbHVlLnJvdXRlQ29uZmlnO3JldHVybiBlJiZlLnBhdGg9PT0iIn1mdW5jdGlvbiBsVCh0KXtjb25zdCBlPVtdLG49bmV3IFNldDtmb3IoY29uc3QgciBvZiB0KXtpZighX0wocikpe2UucHVzaChyKTtjb250aW51ZX1jb25zdCBpPWUuZmluZChzPT5yLnZhbHVlLnJvdXRlQ29uZmlnPT09cy52YWx1ZS5yb3V0ZUNvbmZpZyk7aSE9PXZvaWQgMD8oaS5jaGlsZHJlbi5wdXNoKC4uLnIuY2hpbGRyZW4pLG4uYWRkKGkpKTplLnB1c2gocil9Zm9yKGNvbnN0IHIgb2Ygbil7Y29uc3QgaT1sVChyLmNoaWxkcmVuKTtlLnB1c2gobmV3IFd0KHIudmFsdWUsaSkpfXJldHVybiBlLmZpbHRlcihyPT4hbi5oYXMocikpfWZ1bmN0aW9uIEVMKHQpe3JldHVybiB0LmRhdGF8fHt9fWZ1bmN0aW9uIHdMKHQpe3JldHVybiB0LnJlc29sdmV8fHt9fWZ1bmN0aW9uIElMKHQsZSxuLHIsaSxzKXtyZXR1cm4gd3Qobz0+Z0wodCxlLG4scixvLmV4dHJhY3RlZFVybCxpLHMpLnBpcGUoeWUoKHtzdGF0ZTphLHRyZWU6Y30pPT4oey4uLm8sdGFyZ2V0U25hcHNob3Q6YSx1cmxBZnRlclJlZGlyZWN0czpjfSkpKSl9ZnVuY3Rpb24gVEwodCxlKXtyZXR1cm4gd3Qobj0+e2NvbnN0e3RhcmdldFNuYXBzaG90OnIsZ3VhcmRzOntjYW5BY3RpdmF0ZUNoZWNrczppfX09bjtpZighaS5sZW5ndGgpcmV0dXJuIGVlKG4pO2NvbnN0IHM9bmV3IFNldChpLm1hcChjPT5jLnJvdXRlKSksbz1uZXcgU2V0O2Zvcihjb25zdCBjIG9mIHMpaWYoIW8uaGFzKGMpKWZvcihjb25zdCB1IG9mIGhUKGMpKW8uYWRkKHUpO2xldCBhPTA7cmV0dXJuIEl0KG8pLnBpcGUoWXMoYz0+cy5oYXMoYyk/U0woYyxyLHQsZSk6KGMuZGF0YT1lcChjLGMucGFyZW50LHQpLnJlc29sdmUsZWUodm9pZCAwKSkpLHFlKCgpPT5hKyspLEpkKDEpLHd0KGM9PmE9PT1vLnNpemU/ZWUobik6Sm4pKX0pfWZ1bmN0aW9uIGhUKHQpe2NvbnN0IGU9dC5jaGlsZHJlbi5tYXAobj0+aFQobikpLmZsYXQoKTtyZXR1cm5bdCwuLi5lXX1mdW5jdGlvbiBTTCh0LGUsbixyKXtjb25zdCBpPXQucm91dGVDb25maWcscz10Ll9yZXNvbHZlO3JldHVybiBpPy50aXRsZSE9PXZvaWQgMCYmIXRUKGkpJiYoc1tHb109aS50aXRsZSksQ0wocyx0LGUscikucGlwZSh5ZShvPT4odC5fcmVzb2x2ZWREYXRhPW8sdC5kYXRhPWVwKHQsdC5wYXJlbnQsbikucmVzb2x2ZSxudWxsKSkpfWZ1bmN0aW9uIENMKHQsZSxuLHIpe2NvbnN0IGk9S2godCk7aWYoaS5sZW5ndGg9PT0wKXJldHVybiBlZSh7fSk7Y29uc3Qgcz17fTtyZXR1cm4gSXQoaSkucGlwZSh3dChvPT5BTCh0W29dLGUsbixyKS5waXBlKGZyKCkscWUoYT0+e3Nbb109YX0pKSksSmQoMSksbmIocyksd2kobz0+YVQobyk/Sm46SmMobykpKX1mdW5jdGlvbiBBTCh0LGUsbixyKXtjb25zdCBpPUtvKGUpPz9yLHM9YXModCxpKSxvPXMucmVzb2x2ZT9zLnJlc29sdmUoZSxuKTpZcihpLCgpPT5zKGUsbikpO3JldHVybiB5cihvKX1mdW5jdGlvbiAkbCh0KXtyZXR1cm4gbm4oZT0+e2NvbnN0IG49dChlKTtyZXR1cm4gbj9JdChuKS5waXBlKHllKCgpPT5lKSk6ZWUoZSl9KX1sZXQgZFQ9KCgpPT57dmFyIHQ7Y2xhc3MgZXtidWlsZFRpdGxlKHIpe2xldCBpLHM9ci5yb290O2Zvcig7cyE9PXZvaWQgMDspaT10aGlzLmdldFJlc29sdmVkVGl0bGVGb3JSb3V0ZShzKT8/aSxzPXMuY2hpbGRyZW4uZmluZChvPT5vLm91dGxldD09PXJlKTtyZXR1cm4gaX1nZXRSZXNvbHZlZFRpdGxlRm9yUm91dGUocil7cmV0dXJuIHIuZGF0YVtHb119fXJldHVybiB0PWUsdC7JtWZhYz1mdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fHQpfSx0Lsm1cHJvdj1xKHt0b2tlbjp0LGZhY3Rvcnk6KCk9PmIoUkwpLHByb3ZpZGVkSW46InJvb3QifSksZX0pKCksUkw9KCgpPT57dmFyIHQ7Y2xhc3MgZSBleHRlbmRzIGRUe2NvbnN0cnVjdG9yKHIpe3N1cGVyKCksdGhpcy50aXRsZT1yfXVwZGF0ZVRpdGxlKHIpe2NvbnN0IGk9dGhpcy5idWlsZFRpdGxlKHIpO2khPT12b2lkIDAmJnRoaXMudGl0bGUuc2V0VGl0bGUoaSl9fXJldHVybiB0PWUsdC7JtWZhYz1mdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fHQpKHRlKFZPKSl9LHQuybVwcm92PXEoe3Rva2VuOnQsZmFjdG9yeTp0Lsm1ZmFjLHByb3ZpZGVkSW46InJvb3QifSksZX0pKCk7Y29uc3Qgc3A9bmV3IHNlKCIiLHtwcm92aWRlZEluOiJyb290IixmYWN0b3J5OigpPT4oe30pfSksb3A9bmV3IHNlKCIiKTtsZXQgYkw9KCgpPT57dmFyIHQ7Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuY29tcG9uZW50TG9hZGVycz1uZXcgV2Vha01hcCx0aGlzLmNoaWxkcmVuTG9hZGVycz1uZXcgV2Vha01hcCx0aGlzLmNvbXBpbGVyPWIoYWspfWxvYWRDb21wb25lbnQocil7aWYodGhpcy5jb21wb25lbnRMb2FkZXJzLmdldChyKSlyZXR1cm4gdGhpcy5jb21wb25lbnRMb2FkZXJzLmdldChyKTtpZihyLl9sb2FkZWRDb21wb25lbnQpcmV0dXJuIGVlKHIuX2xvYWRlZENvbXBvbmVudCk7dGhpcy5vbkxvYWRTdGFydExpc3RlbmVyJiZ0aGlzLm9uTG9hZFN0YXJ0TGlzdGVuZXIocik7Y29uc3QgaT15cihyLmxvYWRDb21wb25lbnQoKSkucGlwZSh5ZShmVCkscWUobz0+e3RoaXMub25Mb2FkRW5kTGlzdGVuZXImJnRoaXMub25Mb2FkRW5kTGlzdGVuZXIociksci5fbG9hZGVkQ29tcG9uZW50PW99KSxjYygoKT0+e3RoaXMuY29tcG9uZW50TG9hZGVycy5kZWxldGUocil9KSkscz1uZXcgQmcoaSwoKT0+bmV3IE9uKS5waXBlKGhoKCkpO3JldHVybiB0aGlzLmNvbXBvbmVudExvYWRlcnMuc2V0KHIscyksc31sb2FkQ2hpbGRyZW4ocixpKXtpZih0aGlzLmNoaWxkcmVuTG9hZGVycy5nZXQoaSkpcmV0dXJuIHRoaXMuY2hpbGRyZW5Mb2FkZXJzLmdldChpKTtpZihpLl9sb2FkZWRSb3V0ZXMpcmV0dXJuIGVlKHtyb3V0ZXM6aS5fbG9hZGVkUm91dGVzLGluamVjdG9yOmkuX2xvYWRlZEluamVjdG9yfSk7dGhpcy5vbkxvYWRTdGFydExpc3RlbmVyJiZ0aGlzLm9uTG9hZFN0YXJ0TGlzdGVuZXIoaSk7Y29uc3Qgbz1ETChpLHRoaXMuY29tcGlsZXIscix0aGlzLm9uTG9hZEVuZExpc3RlbmVyKS5waXBlKGNjKCgpPT57dGhpcy5jaGlsZHJlbkxvYWRlcnMuZGVsZXRlKGkpfSkpLGE9bmV3IEJnKG8sKCk9Pm5ldyBPbikucGlwZShoaCgpKTtyZXR1cm4gdGhpcy5jaGlsZHJlbkxvYWRlcnMuc2V0KGksYSksYX19cmV0dXJuIHQ9ZSx0Lsm1ZmFjPWZ1bmN0aW9uKHIpe3JldHVybiBuZXcocnx8dCl9LHQuybVwcm92PXEoe3Rva2VuOnQsZmFjdG9yeTp0Lsm1ZmFjLHByb3ZpZGVkSW46InJvb3QifSksZX0pKCk7ZnVuY3Rpb24gREwodCxlLG4scil7cmV0dXJuIHlyKHQubG9hZENoaWxkcmVuKCkpLnBpcGUoeWUoZlQpLHd0KGk9PmkgaW5zdGFuY2VvZiBLd3x8QXJyYXkuaXNBcnJheShpKT9lZShpKTpJdChlLmNvbXBpbGVNb2R1bGVBc3luYyhpKSkpLHllKGk9PntyJiZyKHQpO2xldCBzLG8sYT0hMTtyZXR1cm4gQXJyYXkuaXNBcnJheShpKT8obz1pLGE9ITApOihzPWkuY3JlYXRlKG4pLmluamVjdG9yLG89cy5nZXQob3AsW10se29wdGlvbmFsOiEwLHNlbGY6ITB9KS5mbGF0KCkpLHtyb3V0ZXM6by5tYXAocnApLGluamVjdG9yOnN9fSkpfWZ1bmN0aW9uIFBMKHQpe3JldHVybiB0JiZ0eXBlb2YgdD09Im9iamVjdCImJiJkZWZhdWx0ImluIHR9ZnVuY3Rpb24gZlQodCl7cmV0dXJuIFBMKHQpP3QuZGVmYXVsdDp0fWxldCBhcD0oKCk9Pnt2YXIgdDtjbGFzcyBle31yZXR1cm4gdD1lLHQuybVmYWM9ZnVuY3Rpb24ocil7cmV0dXJuIG5ldyhyfHx0KX0sdC7JtXByb3Y9cSh7dG9rZW46dCxmYWN0b3J5OigpPT5iKE1MKSxwcm92aWRlZEluOiJyb290In0pLGV9KSgpLE1MPSgoKT0+e3ZhciB0O2NsYXNzIGV7c2hvdWxkUHJvY2Vzc1VybChyKXtyZXR1cm4hMH1leHRyYWN0KHIpe3JldHVybiByfW1lcmdlKHIsaSl7cmV0dXJuIHJ9fXJldHVybiB0PWUsdC7JtWZhYz1mdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fHQpfSx0Lsm1cHJvdj1xKHt0b2tlbjp0LGZhY3Rvcnk6dC7JtWZhYyxwcm92aWRlZEluOiJyb290In0pLGV9KSgpO2NvbnN0IE5MPW5ldyBzZSgiIik7bGV0IGtMPSgoKT0+e3ZhciB0O2NsYXNzIGV7Z2V0IGhhc1JlcXVlc3RlZE5hdmlnYXRpb24oKXtyZXR1cm4gdGhpcy5uYXZpZ2F0aW9uSWQhPT0wfWNvbnN0cnVjdG9yKCl7dGhpcy5jdXJyZW50TmF2aWdhdGlvbj1udWxsLHRoaXMuY3VycmVudFRyYW5zaXRpb249bnVsbCx0aGlzLmxhc3RTdWNjZXNzZnVsTmF2aWdhdGlvbj1udWxsLHRoaXMuZXZlbnRzPW5ldyBPbix0aGlzLnRyYW5zaXRpb25BYm9ydFN1YmplY3Q9bmV3IE9uLHRoaXMuY29uZmlnTG9hZGVyPWIoYkwpLHRoaXMuZW52aXJvbm1lbnRJbmplY3Rvcj1iKGpuKSx0aGlzLnVybFNlcmlhbGl6ZXI9YihaZiksdGhpcy5yb290Q29udGV4dHM9YihTdSksdGhpcy5sb2NhdGlvbj1iKEl1KSx0aGlzLmlucHV0QmluZGluZ0VuYWJsZWQ9YihucCx7b3B0aW9uYWw6ITB9KSE9PW51bGwsdGhpcy50aXRsZVN0cmF0ZWd5PWIoZFQpLHRoaXMub3B0aW9ucz1iKHNwLHtvcHRpb25hbDohMH0pfHx7fSx0aGlzLnBhcmFtc0luaGVyaXRhbmNlU3RyYXRlZ3k9dGhpcy5vcHRpb25zLnBhcmFtc0luaGVyaXRhbmNlU3RyYXRlZ3l8fCJlbXB0eU9ubHkiLHRoaXMudXJsSGFuZGxpbmdTdHJhdGVneT1iKGFwKSx0aGlzLmNyZWF0ZVZpZXdUcmFuc2l0aW9uPWIoTkwse29wdGlvbmFsOiEwfSksdGhpcy5uYXZpZ2F0aW9uSWQ9MCx0aGlzLmFmdGVyUHJlYWN0aXZhdGlvbj0oKT0+ZWUodm9pZCAwKSx0aGlzLnJvb3RDb21wb25lbnRUeXBlPW51bGw7Y29uc3Qgcj1zPT50aGlzLmV2ZW50cy5uZXh0KG5ldyBfeChzKSksaT1zPT50aGlzLmV2ZW50cy5uZXh0KG5ldyBFeChzKSk7dGhpcy5jb25maWdMb2FkZXIub25Mb2FkRW5kTGlzdGVuZXI9aSx0aGlzLmNvbmZpZ0xvYWRlci5vbkxvYWRTdGFydExpc3RlbmVyPXJ9Y29tcGxldGUoKXt0aGlzLnRyYW5zaXRpb25zPy5jb21wbGV0ZSgpfWhhbmRsZU5hdmlnYXRpb25SZXF1ZXN0KHIpe2NvbnN0IGk9Kyt0aGlzLm5hdmlnYXRpb25JZDt0aGlzLnRyYW5zaXRpb25zPy5uZXh0KHsuLi50aGlzLnRyYW5zaXRpb25zLnZhbHVlLC4uLnIsaWQ6aX0pfXNldHVwTmF2aWdhdGlvbnMocixpLHMpe3JldHVybiB0aGlzLnRyYW5zaXRpb25zPW5ldyBMdCh7aWQ6MCxjdXJyZW50VXJsVHJlZTppLGN1cnJlbnRSYXdVcmw6aSxleHRyYWN0ZWRVcmw6dGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5LmV4dHJhY3QoaSksdXJsQWZ0ZXJSZWRpcmVjdHM6dGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5LmV4dHJhY3QoaSkscmF3VXJsOmksZXh0cmFzOnt9LHJlc29sdmU6bnVsbCxyZWplY3Q6bnVsbCxwcm9taXNlOlByb21pc2UucmVzb2x2ZSghMCksc291cmNlOkxzLHJlc3RvcmVkU3RhdGU6bnVsbCxjdXJyZW50U25hcHNob3Q6cy5zbmFwc2hvdCx0YXJnZXRTbmFwc2hvdDpudWxsLGN1cnJlbnRSb3V0ZXJTdGF0ZTpzLHRhcmdldFJvdXRlclN0YXRlOm51bGwsZ3VhcmRzOntjYW5BY3RpdmF0ZUNoZWNrczpbXSxjYW5EZWFjdGl2YXRlQ2hlY2tzOltdfSxndWFyZHNSZXN1bHQ6bnVsbH0pLHRoaXMudHJhbnNpdGlvbnMucGlwZSh4bihvPT5vLmlkIT09MCkseWUobz0+KHsuLi5vLGV4dHJhY3RlZFVybDp0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kuZXh0cmFjdChvLnJhd1VybCl9KSksbm4obz0+e3RoaXMuY3VycmVudFRyYW5zaXRpb249bztsZXQgYT0hMSxjPSExO3JldHVybiBlZShvKS5waXBlKHFlKHU9Pnt0aGlzLmN1cnJlbnROYXZpZ2F0aW9uPXtpZDp1LmlkLGluaXRpYWxVcmw6dS5yYXdVcmwsZXh0cmFjdGVkVXJsOnUuZXh0cmFjdGVkVXJsLHRyaWdnZXI6dS5zb3VyY2UsZXh0cmFzOnUuZXh0cmFzLHByZXZpb3VzTmF2aWdhdGlvbjp0aGlzLmxhc3RTdWNjZXNzZnVsTmF2aWdhdGlvbj97Li4udGhpcy5sYXN0U3VjY2Vzc2Z1bE5hdmlnYXRpb24scHJldmlvdXNOYXZpZ2F0aW9uOm51bGx9Om51bGx9fSksbm4odT0+e2NvbnN0IGw9IXIubmF2aWdhdGVkfHx0aGlzLmlzVXBkYXRpbmdJbnRlcm5hbFN0YXRlKCl8fHRoaXMuaXNVcGRhdGVkQnJvd3NlclVybCgpLGg9dS5leHRyYXMub25TYW1lVXJsTmF2aWdhdGlvbj8/ci5vblNhbWVVcmxOYXZpZ2F0aW9uO2lmKCFsJiZoIT09InJlbG9hZCIpe2NvbnN0IGQ9IiI7cmV0dXJuIHRoaXMuZXZlbnRzLm5leHQobmV3IHBvKHUuaWQsdGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZSh1LnJhd1VybCksZCxZaC5JZ25vcmVkU2FtZVVybE5hdmlnYXRpb24pKSx1LnJlc29sdmUobnVsbCksSm59aWYodGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5LnNob3VsZFByb2Nlc3NVcmwodS5yYXdVcmwpKXJldHVybiBlZSh1KS5waXBlKG5uKGQ9Pntjb25zdCBmPXRoaXMudHJhbnNpdGlvbnM/LmdldFZhbHVlKCk7cmV0dXJuIHRoaXMuZXZlbnRzLm5leHQobmV3IFhoKGQuaWQsdGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZShkLmV4dHJhY3RlZFVybCksZC5zb3VyY2UsZC5yZXN0b3JlZFN0YXRlKSksZiE9PXRoaXMudHJhbnNpdGlvbnM/LmdldFZhbHVlKCk/Sm46UHJvbWlzZS5yZXNvbHZlKGQpfSksSUwodGhpcy5lbnZpcm9ubWVudEluamVjdG9yLHRoaXMuY29uZmlnTG9hZGVyLHRoaXMucm9vdENvbXBvbmVudFR5cGUsci5jb25maWcsdGhpcy51cmxTZXJpYWxpemVyLHRoaXMucGFyYW1zSW5oZXJpdGFuY2VTdHJhdGVneSkscWUoZD0+e28udGFyZ2V0U25hcHNob3Q9ZC50YXJnZXRTbmFwc2hvdCxvLnVybEFmdGVyUmVkaXJlY3RzPWQudXJsQWZ0ZXJSZWRpcmVjdHMsdGhpcy5jdXJyZW50TmF2aWdhdGlvbj17Li4udGhpcy5jdXJyZW50TmF2aWdhdGlvbixmaW5hbFVybDpkLnVybEFmdGVyUmVkaXJlY3RzfTtjb25zdCBmPW5ldyBRSShkLmlkLHRoaXMudXJsU2VyaWFsaXplci5zZXJpYWxpemUoZC5leHRyYWN0ZWRVcmwpLHRoaXMudXJsU2VyaWFsaXplci5zZXJpYWxpemUoZC51cmxBZnRlclJlZGlyZWN0cyksZC50YXJnZXRTbmFwc2hvdCk7dGhpcy5ldmVudHMubmV4dChmKX0pKTtpZihsJiZ0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kuc2hvdWxkUHJvY2Vzc1VybCh1LmN1cnJlbnRSYXdVcmwpKXtjb25zdHtpZDpkLGV4dHJhY3RlZFVybDpmLHNvdXJjZTptLHJlc3RvcmVkU3RhdGU6eSxleHRyYXM6X309dSxUPW5ldyBYaChkLHRoaXMudXJsU2VyaWFsaXplci5zZXJpYWxpemUoZiksbSx5KTt0aGlzLmV2ZW50cy5uZXh0KFQpO2NvbnN0IEM9WUkodGhpcy5yb290Q29tcG9uZW50VHlwZSkuc25hcHNob3Q7cmV0dXJuIHRoaXMuY3VycmVudFRyYW5zaXRpb249bz17Li4udSx0YXJnZXRTbmFwc2hvdDpDLHVybEFmdGVyUmVkaXJlY3RzOmYsZXh0cmFzOnsuLi5fLHNraXBMb2NhdGlvbkNoYW5nZTohMSxyZXBsYWNlVXJsOiExfX0sdGhpcy5jdXJyZW50TmF2aWdhdGlvbi5maW5hbFVybD1mLGVlKG8pfWVsc2V7Y29uc3QgZD0iIjtyZXR1cm4gdGhpcy5ldmVudHMubmV4dChuZXcgcG8odS5pZCx0aGlzLnVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKHUuZXh0cmFjdGVkVXJsKSxkLFloLklnbm9yZWRCeVVybEhhbmRsaW5nU3RyYXRlZ3kpKSx1LnJlc29sdmUobnVsbCksSm59fSkscWUodT0+e2NvbnN0IGw9bmV3IGd4KHUuaWQsdGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZSh1LmV4dHJhY3RlZFVybCksdGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZSh1LnVybEFmdGVyUmVkaXJlY3RzKSx1LnRhcmdldFNuYXBzaG90KTt0aGlzLmV2ZW50cy5uZXh0KGwpfSkseWUodT0+KHRoaXMuY3VycmVudFRyYW5zaXRpb249bz17Li4udSxndWFyZHM6VngodS50YXJnZXRTbmFwc2hvdCx1LmN1cnJlbnRTbmFwc2hvdCx0aGlzLnJvb3RDb250ZXh0cyl9LG8pKSxHeCh0aGlzLmVudmlyb25tZW50SW5qZWN0b3IsdT0+dGhpcy5ldmVudHMubmV4dCh1KSkscWUodT0+e2lmKG8uZ3VhcmRzUmVzdWx0PXUuZ3VhcmRzUmVzdWx0LGppKHUuZ3VhcmRzUmVzdWx0KSl0aHJvdyBpVCh0aGlzLnVybFNlcmlhbGl6ZXIsdS5ndWFyZHNSZXN1bHQpO2NvbnN0IGw9bmV3IG14KHUuaWQsdGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZSh1LmV4dHJhY3RlZFVybCksdGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZSh1LnVybEFmdGVyUmVkaXJlY3RzKSx1LnRhcmdldFNuYXBzaG90LCEhdS5ndWFyZHNSZXN1bHQpO3RoaXMuZXZlbnRzLm5leHQobCl9KSx4bih1PT51Lmd1YXJkc1Jlc3VsdD8hMDoodGhpcy5jYW5jZWxOYXZpZ2F0aW9uVHJhbnNpdGlvbih1LCIiLGp0Lkd1YXJkUmVqZWN0ZWQpLCExKSksJGwodT0+e2lmKHUuZ3VhcmRzLmNhbkFjdGl2YXRlQ2hlY2tzLmxlbmd0aClyZXR1cm4gZWUodSkucGlwZShxZShsPT57Y29uc3QgaD1uZXcgeXgobC5pZCx0aGlzLnVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKGwuZXh0cmFjdGVkVXJsKSx0aGlzLnVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKGwudXJsQWZ0ZXJSZWRpcmVjdHMpLGwudGFyZ2V0U25hcHNob3QpO3RoaXMuZXZlbnRzLm5leHQoaCl9KSxubihsPT57bGV0IGg9ITE7cmV0dXJuIGVlKGwpLnBpcGUoVEwodGhpcy5wYXJhbXNJbmhlcml0YW5jZVN0cmF0ZWd5LHRoaXMuZW52aXJvbm1lbnRJbmplY3RvcikscWUoe25leHQ6KCk9Pmg9ITAsY29tcGxldGU6KCk9PntofHx0aGlzLmNhbmNlbE5hdmlnYXRpb25UcmFuc2l0aW9uKGwsIiIsanQuTm9EYXRhRnJvbVJlc29sdmVyKX19KSl9KSxxZShsPT57Y29uc3QgaD1uZXcgdngobC5pZCx0aGlzLnVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKGwuZXh0cmFjdGVkVXJsKSx0aGlzLnVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKGwudXJsQWZ0ZXJSZWRpcmVjdHMpLGwudGFyZ2V0U25hcHNob3QpO3RoaXMuZXZlbnRzLm5leHQoaCl9KSl9KSwkbCh1PT57Y29uc3QgbD1oPT57Y29uc3QgZD1bXTtoLnJvdXRlQ29uZmlnPy5sb2FkQ29tcG9uZW50JiYhaC5yb3V0ZUNvbmZpZy5fbG9hZGVkQ29tcG9uZW50JiZkLnB1c2godGhpcy5jb25maWdMb2FkZXIubG9hZENvbXBvbmVudChoLnJvdXRlQ29uZmlnKS5waXBlKHFlKGY9PntoLmNvbXBvbmVudD1mfSkseWUoKCk9Pnt9KSkpO2Zvcihjb25zdCBmIG9mIGguY2hpbGRyZW4pZC5wdXNoKC4uLmwoZikpO3JldHVybiBkfTtyZXR1cm4gRV8obCh1LnRhcmdldFNuYXBzaG90LnJvb3QpKS5waXBlKGV1KG51bGwpLE9pKDEpKX0pLCRsKCgpPT50aGlzLmFmdGVyUHJlYWN0aXZhdGlvbigpKSxubigoKT0+e2NvbnN0e2N1cnJlbnRTbmFwc2hvdDp1LHRhcmdldFNuYXBzaG90Omx9PW8saD10aGlzLmNyZWF0ZVZpZXdUcmFuc2l0aW9uPy4odGhpcy5lbnZpcm9ubWVudEluamVjdG9yLHUucm9vdCxsLnJvb3QpO3JldHVybiBoP0l0KGgpLnBpcGUoeWUoKCk9Pm8pKTplZShvKX0pLHllKHU9Pntjb25zdCBsPWJ4KHIucm91dGVSZXVzZVN0cmF0ZWd5LHUudGFyZ2V0U25hcHNob3QsdS5jdXJyZW50Um91dGVyU3RhdGUpO3JldHVybiB0aGlzLmN1cnJlbnRUcmFuc2l0aW9uPW89ey4uLnUsdGFyZ2V0Um91dGVyU3RhdGU6bH0sdGhpcy5jdXJyZW50TmF2aWdhdGlvbi50YXJnZXRSb3V0ZXJTdGF0ZT1sLG99KSxxZSgoKT0+e3RoaXMuZXZlbnRzLm5leHQobmV3IFlmKX0pLHh4KHRoaXMucm9vdENvbnRleHRzLHIucm91dGVSZXVzZVN0cmF0ZWd5LHU9PnRoaXMuZXZlbnRzLm5leHQodSksdGhpcy5pbnB1dEJpbmRpbmdFbmFibGVkKSxPaSgxKSxxZSh7bmV4dDp1PT57YT0hMCx0aGlzLmxhc3RTdWNjZXNzZnVsTmF2aWdhdGlvbj10aGlzLmN1cnJlbnROYXZpZ2F0aW9uLHRoaXMuZXZlbnRzLm5leHQobmV3ICRpKHUuaWQsdGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZSh1LmV4dHJhY3RlZFVybCksdGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZSh1LnVybEFmdGVyUmVkaXJlY3RzKSkpLHRoaXMudGl0bGVTdHJhdGVneT8udXBkYXRlVGl0bGUodS50YXJnZXRSb3V0ZXJTdGF0ZS5zbmFwc2hvdCksdS5yZXNvbHZlKCEwKX0sY29tcGxldGU6KCk9PnthPSEwfX0pLGFiKHRoaXMudHJhbnNpdGlvbkFib3J0U3ViamVjdC5waXBlKHFlKHU9Pnt0aHJvdyB1fSkpKSxjYygoKT0+eyFhJiYhYyYmdGhpcy5jYW5jZWxOYXZpZ2F0aW9uVHJhbnNpdGlvbihvLCIiLGp0LlN1cGVyc2VkZWRCeU5ld05hdmlnYXRpb24pLHRoaXMuY3VycmVudFRyYW5zaXRpb24/LmlkPT09by5pZCYmKHRoaXMuY3VycmVudE5hdmlnYXRpb249bnVsbCx0aGlzLmN1cnJlbnRUcmFuc2l0aW9uPW51bGwpfSksd2kodT0+e2lmKGM9ITAsb1QodSkpdGhpcy5ldmVudHMubmV4dChuZXcgQmkoby5pZCx0aGlzLnVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKG8uZXh0cmFjdGVkVXJsKSx1Lm1lc3NhZ2UsdS5jYW5jZWxsYXRpb25Db2RlKSksTXgodSk/dGhpcy5ldmVudHMubmV4dChuZXcgSmYodS51cmwpKTpvLnJlc29sdmUoITEpO2Vsc2V7dGhpcy5ldmVudHMubmV4dChuZXcgWGYoby5pZCx0aGlzLnVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKG8uZXh0cmFjdGVkVXJsKSx1LG8udGFyZ2V0U25hcHNob3Q/P3ZvaWQgMCkpO3RyeXtvLnJlc29sdmUoci5lcnJvckhhbmRsZXIodSkpfWNhdGNoKGwpe3RoaXMub3B0aW9ucy5yZXNvbHZlTmF2aWdhdGlvblByb21pc2VPbkVycm9yP28ucmVzb2x2ZSghMSk6by5yZWplY3QobCl9fXJldHVybiBKbn0pKX0pKX1jYW5jZWxOYXZpZ2F0aW9uVHJhbnNpdGlvbihyLGkscyl7Y29uc3Qgbz1uZXcgQmkoci5pZCx0aGlzLnVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKHIuZXh0cmFjdGVkVXJsKSxpLHMpO3RoaXMuZXZlbnRzLm5leHQobyksci5yZXNvbHZlKCExKX1pc1VwZGF0aW5nSW50ZXJuYWxTdGF0ZSgpe3JldHVybiB0aGlzLmN1cnJlbnRUcmFuc2l0aW9uPy5leHRyYWN0ZWRVcmwudG9TdHJpbmcoKSE9PXRoaXMuY3VycmVudFRyYW5zaXRpb24/LmN1cnJlbnRVcmxUcmVlLnRvU3RyaW5nKCl9aXNVcGRhdGVkQnJvd3NlclVybCgpe3JldHVybiB0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kuZXh0cmFjdCh0aGlzLnVybFNlcmlhbGl6ZXIucGFyc2UodGhpcy5sb2NhdGlvbi5wYXRoKCEwKSkpLnRvU3RyaW5nKCkhPT10aGlzLmN1cnJlbnRUcmFuc2l0aW9uPy5leHRyYWN0ZWRVcmwudG9TdHJpbmcoKSYmIXRoaXMuY3VycmVudFRyYW5zaXRpb24/LmV4dHJhcy5za2lwTG9jYXRpb25DaGFuZ2V9fXJldHVybiB0PWUsdC7JtWZhYz1mdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fHQpfSx0Lsm1cHJvdj1xKHt0b2tlbjp0LGZhY3Rvcnk6dC7JtWZhYyxwcm92aWRlZEluOiJyb290In0pLGV9KSgpO2Z1bmN0aW9uIE9MKHQpe3JldHVybiB0IT09THN9bGV0IHhMPSgoKT0+e3ZhciB0O2NsYXNzIGV7fXJldHVybiB0PWUsdC7JtWZhYz1mdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fHQpfSx0Lsm1cHJvdj1xKHt0b2tlbjp0LGZhY3Rvcnk6KCk9PmIoVkwpLHByb3ZpZGVkSW46InJvb3QifSksZX0pKCk7Y2xhc3MgTEx7c2hvdWxkRGV0YWNoKGUpe3JldHVybiExfXN0b3JlKGUsbil7fXNob3VsZEF0dGFjaChlKXtyZXR1cm4hMX1yZXRyaWV2ZShlKXtyZXR1cm4gbnVsbH1zaG91bGRSZXVzZVJvdXRlKGUsbil7cmV0dXJuIGUucm91dGVDb25maWc9PT1uLnJvdXRlQ29uZmlnfX1sZXQgVkw9KCgpPT57dmFyIHQ7Y2xhc3MgZSBleHRlbmRzIExMe31yZXR1cm4gdD1lLHQuybVmYWM9KCgpPT57bGV0IG47cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybihufHwobj1qRSh0KSkpKGl8fHQpfX0pKCksdC7JtXByb3Y9cSh7dG9rZW46dCxmYWN0b3J5OnQuybVmYWMscHJvdmlkZWRJbjoicm9vdCJ9KSxlfSkoKSxwVD0oKCk9Pnt2YXIgdDtjbGFzcyBle31yZXR1cm4gdD1lLHQuybVmYWM9ZnVuY3Rpb24ocil7cmV0dXJuIG5ldyhyfHx0KX0sdC7JtXByb3Y9cSh7dG9rZW46dCxmYWN0b3J5OigpPT5iKEZMKSxwcm92aWRlZEluOiJyb290In0pLGV9KSgpLEZMPSgoKT0+e3ZhciB0O2NsYXNzIGUgZXh0ZW5kcyBwVHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5sb2NhdGlvbj1iKEl1KSx0aGlzLnVybFNlcmlhbGl6ZXI9YihaZiksdGhpcy5vcHRpb25zPWIoc3Ase29wdGlvbmFsOiEwfSl8fHt9LHRoaXMuY2FuY2VsZWROYXZpZ2F0aW9uUmVzb2x1dGlvbj10aGlzLm9wdGlvbnMuY2FuY2VsZWROYXZpZ2F0aW9uUmVzb2x1dGlvbnx8InJlcGxhY2UiLHRoaXMudXJsSGFuZGxpbmdTdHJhdGVneT1iKGFwKSx0aGlzLnVybFVwZGF0ZVN0cmF0ZWd5PXRoaXMub3B0aW9ucy51cmxVcGRhdGVTdHJhdGVneXx8ImRlZmVycmVkIix0aGlzLmN1cnJlbnRVcmxUcmVlPW5ldyBvcyx0aGlzLnJhd1VybFRyZWU9dGhpcy5jdXJyZW50VXJsVHJlZSx0aGlzLmN1cnJlbnRQYWdlSWQ9MCx0aGlzLmxhc3RTdWNjZXNzZnVsSWQ9LTEsdGhpcy5yb3V0ZXJTdGF0ZT1ZSShudWxsKSx0aGlzLnN0YXRlTWVtZW50bz10aGlzLmNyZWF0ZVN0YXRlTWVtZW50bygpfWdldEN1cnJlbnRVcmxUcmVlKCl7cmV0dXJuIHRoaXMuY3VycmVudFVybFRyZWV9Z2V0UmF3VXJsVHJlZSgpe3JldHVybiB0aGlzLnJhd1VybFRyZWV9cmVzdG9yZWRTdGF0ZSgpe3JldHVybiB0aGlzLmxvY2F0aW9uLmdldFN0YXRlKCl9Z2V0IGJyb3dzZXJQYWdlSWQoKXtyZXR1cm4gdGhpcy5jYW5jZWxlZE5hdmlnYXRpb25SZXNvbHV0aW9uIT09ImNvbXB1dGVkIj90aGlzLmN1cnJlbnRQYWdlSWQ6dGhpcy5yZXN0b3JlZFN0YXRlKCk/Lsm1cm91dGVyUGFnZUlkPz90aGlzLmN1cnJlbnRQYWdlSWR9Z2V0Um91dGVyU3RhdGUoKXtyZXR1cm4gdGhpcy5yb3V0ZXJTdGF0ZX1jcmVhdGVTdGF0ZU1lbWVudG8oKXtyZXR1cm57cmF3VXJsVHJlZTp0aGlzLnJhd1VybFRyZWUsY3VycmVudFVybFRyZWU6dGhpcy5jdXJyZW50VXJsVHJlZSxyb3V0ZXJTdGF0ZTp0aGlzLnJvdXRlclN0YXRlfX1yZWdpc3Rlck5vblJvdXRlckN1cnJlbnRFbnRyeUNoYW5nZUxpc3RlbmVyKHIpe3JldHVybiB0aGlzLmxvY2F0aW9uLnN1YnNjcmliZShpPT57aS50eXBlPT09InBvcHN0YXRlIiYmcihpLnVybCxpLnN0YXRlKX0pfWhhbmRsZVJvdXRlckV2ZW50KHIsaSl7aWYociBpbnN0YW5jZW9mIFhoKXRoaXMuc3RhdGVNZW1lbnRvPXRoaXMuY3JlYXRlU3RhdGVNZW1lbnRvKCk7ZWxzZSBpZihyIGluc3RhbmNlb2YgcG8pdGhpcy5yYXdVcmxUcmVlPWkuaW5pdGlhbFVybDtlbHNlIGlmKHIgaW5zdGFuY2VvZiBRSSl7aWYodGhpcy51cmxVcGRhdGVTdHJhdGVneT09PSJlYWdlciImJiFpLmV4dHJhcy5za2lwTG9jYXRpb25DaGFuZ2Upe2NvbnN0IHM9dGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5Lm1lcmdlKGkuZmluYWxVcmwsaS5pbml0aWFsVXJsKTt0aGlzLnNldEJyb3dzZXJVcmwocyxpKX19ZWxzZSByIGluc3RhbmNlb2YgWWY/KHRoaXMuY3VycmVudFVybFRyZWU9aS5maW5hbFVybCx0aGlzLnJhd1VybFRyZWU9dGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5Lm1lcmdlKGkuZmluYWxVcmwsaS5pbml0aWFsVXJsKSx0aGlzLnJvdXRlclN0YXRlPWkudGFyZ2V0Um91dGVyU3RhdGUsdGhpcy51cmxVcGRhdGVTdHJhdGVneT09PSJkZWZlcnJlZCImJihpLmV4dHJhcy5za2lwTG9jYXRpb25DaGFuZ2V8fHRoaXMuc2V0QnJvd3NlclVybCh0aGlzLnJhd1VybFRyZWUsaSkpKTpyIGluc3RhbmNlb2YgQmkmJihyLmNvZGU9PT1qdC5HdWFyZFJlamVjdGVkfHxyLmNvZGU9PT1qdC5Ob0RhdGFGcm9tUmVzb2x2ZXIpP3RoaXMucmVzdG9yZUhpc3RvcnkoaSk6ciBpbnN0YW5jZW9mIFhmP3RoaXMucmVzdG9yZUhpc3RvcnkoaSwhMCk6ciBpbnN0YW5jZW9mICRpJiYodGhpcy5sYXN0U3VjY2Vzc2Z1bElkPXIuaWQsdGhpcy5jdXJyZW50UGFnZUlkPXRoaXMuYnJvd3NlclBhZ2VJZCl9c2V0QnJvd3NlclVybChyLGkpe2NvbnN0IHM9dGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZShyKTtpZih0aGlzLmxvY2F0aW9uLmlzQ3VycmVudFBhdGhFcXVhbFRvKHMpfHxpLmV4dHJhcy5yZXBsYWNlVXJsKXtjb25zdCBvPXRoaXMuYnJvd3NlclBhZ2VJZCxhPXsuLi5pLmV4dHJhcy5zdGF0ZSwuLi50aGlzLmdlbmVyYXRlTmdSb3V0ZXJTdGF0ZShpLmlkLG8pfTt0aGlzLmxvY2F0aW9uLnJlcGxhY2VTdGF0ZShzLCIiLGEpfWVsc2V7Y29uc3Qgbz17Li4uaS5leHRyYXMuc3RhdGUsLi4udGhpcy5nZW5lcmF0ZU5nUm91dGVyU3RhdGUoaS5pZCx0aGlzLmJyb3dzZXJQYWdlSWQrMSl9O3RoaXMubG9jYXRpb24uZ28ocywiIixvKX19cmVzdG9yZUhpc3RvcnkocixpPSExKXtpZih0aGlzLmNhbmNlbGVkTmF2aWdhdGlvblJlc29sdXRpb249PT0iY29tcHV0ZWQiKXtjb25zdCBzPXRoaXMuYnJvd3NlclBhZ2VJZCxvPXRoaXMuY3VycmVudFBhZ2VJZC1zO28hPT0wP3RoaXMubG9jYXRpb24uaGlzdG9yeUdvKG8pOnRoaXMuY3VycmVudFVybFRyZWU9PT1yLmZpbmFsVXJsJiZvPT09MCYmKHRoaXMucmVzZXRTdGF0ZShyKSx0aGlzLnJlc2V0VXJsVG9DdXJyZW50VXJsVHJlZSgpKX1lbHNlIHRoaXMuY2FuY2VsZWROYXZpZ2F0aW9uUmVzb2x1dGlvbj09PSJyZXBsYWNlIiYmKGkmJnRoaXMucmVzZXRTdGF0ZShyKSx0aGlzLnJlc2V0VXJsVG9DdXJyZW50VXJsVHJlZSgpKX1yZXNldFN0YXRlKHIpe3RoaXMucm91dGVyU3RhdGU9dGhpcy5zdGF0ZU1lbWVudG8ucm91dGVyU3RhdGUsdGhpcy5jdXJyZW50VXJsVHJlZT10aGlzLnN0YXRlTWVtZW50by5jdXJyZW50VXJsVHJlZSx0aGlzLnJhd1VybFRyZWU9dGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5Lm1lcmdlKHRoaXMuY3VycmVudFVybFRyZWUsci5maW5hbFVybD8/dGhpcy5yYXdVcmxUcmVlKX1yZXNldFVybFRvQ3VycmVudFVybFRyZWUoKXt0aGlzLmxvY2F0aW9uLnJlcGxhY2VTdGF0ZSh0aGlzLnVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKHRoaXMucmF3VXJsVHJlZSksIiIsdGhpcy5nZW5lcmF0ZU5nUm91dGVyU3RhdGUodGhpcy5sYXN0U3VjY2Vzc2Z1bElkLHRoaXMuY3VycmVudFBhZ2VJZCkpfWdlbmVyYXRlTmdSb3V0ZXJTdGF0ZShyLGkpe3JldHVybiB0aGlzLmNhbmNlbGVkTmF2aWdhdGlvblJlc29sdXRpb249PT0iY29tcHV0ZWQiP3tuYXZpZ2F0aW9uSWQ6cizJtXJvdXRlclBhZ2VJZDppfTp7bmF2aWdhdGlvbklkOnJ9fX1yZXR1cm4gdD1lLHQuybVmYWM9KCgpPT57bGV0IG47cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybihufHwobj1qRSh0KSkpKGl8fHQpfX0pKCksdC7JtXByb3Y9cSh7dG9rZW46dCxmYWN0b3J5OnQuybVmYWMscHJvdmlkZWRJbjoicm9vdCJ9KSxlfSkoKTt2YXIgU3M9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5DT01QTEVURT0wXT0iQ09NUExFVEUiLHRbdC5GQUlMRUQ9MV09IkZBSUxFRCIsdFt0LlJFRElSRUNUSU5HPTJdPSJSRURJUkVDVElORyIsdH0oU3N8fHt9KTtmdW5jdGlvbiBVTCh0LGUpe3QuZXZlbnRzLnBpcGUoeG4obj0+biBpbnN0YW5jZW9mICRpfHxuIGluc3RhbmNlb2YgQml8fG4gaW5zdGFuY2VvZiBYZnx8biBpbnN0YW5jZW9mIHBvKSx5ZShuPT5uIGluc3RhbmNlb2YgJGl8fG4gaW5zdGFuY2VvZiBwbz9Tcy5DT01QTEVURToobiBpbnN0YW5jZW9mIEJpP24uY29kZT09PWp0LlJlZGlyZWN0fHxuLmNvZGU9PT1qdC5TdXBlcnNlZGVkQnlOZXdOYXZpZ2F0aW9uOiExKT9Tcy5SRURJUkVDVElORzpTcy5GQUlMRUQpLHhuKG49Pm4hPT1Tcy5SRURJUkVDVElORyksT2koMSkpLnN1YnNjcmliZSgoKT0+e2UoKX0pfWZ1bmN0aW9uIGpMKHQpe3Rocm93IHR9Y29uc3QgJEw9e3BhdGhzOiJleGFjdCIsZnJhZ21lbnQ6Imlnbm9yZWQiLG1hdHJpeFBhcmFtczoiaWdub3JlZCIscXVlcnlQYXJhbXM6ImV4YWN0In0sQkw9e3BhdGhzOiJzdWJzZXQiLGZyYWdtZW50OiJpZ25vcmVkIixtYXRyaXhQYXJhbXM6Imlnbm9yZWQiLHF1ZXJ5UGFyYW1zOiJzdWJzZXQifTtsZXQgY3A9KCgpPT57dmFyIHQ7Y2xhc3MgZXtnZXQgY3VycmVudFVybFRyZWUoKXtyZXR1cm4gdGhpcy5zdGF0ZU1hbmFnZXIuZ2V0Q3VycmVudFVybFRyZWUoKX1nZXQgcmF3VXJsVHJlZSgpe3JldHVybiB0aGlzLnN0YXRlTWFuYWdlci5nZXRSYXdVcmxUcmVlKCl9Z2V0IGV2ZW50cygpe3JldHVybiB0aGlzLl9ldmVudHN9Z2V0IHJvdXRlclN0YXRlKCl7cmV0dXJuIHRoaXMuc3RhdGVNYW5hZ2VyLmdldFJvdXRlclN0YXRlKCl9Y29uc3RydWN0b3IoKXt0aGlzLmRpc3Bvc2VkPSExLHRoaXMuaXNOZ1pvbmVFbmFibGVkPSExLHRoaXMuY29uc29sZT1iKGVrKSx0aGlzLnN0YXRlTWFuYWdlcj1iKHBUKSx0aGlzLm9wdGlvbnM9YihzcCx7b3B0aW9uYWw6ITB9KXx8e30sdGhpcy5wZW5kaW5nVGFza3M9YihfdSksdGhpcy51cmxVcGRhdGVTdHJhdGVneT10aGlzLm9wdGlvbnMudXJsVXBkYXRlU3RyYXRlZ3l8fCJkZWZlcnJlZCIsdGhpcy5uYXZpZ2F0aW9uVHJhbnNpdGlvbnM9YihrTCksdGhpcy51cmxTZXJpYWxpemVyPWIoWmYpLHRoaXMubG9jYXRpb249YihJdSksdGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5PWIoYXApLHRoaXMuX2V2ZW50cz1uZXcgT24sdGhpcy5lcnJvckhhbmRsZXI9dGhpcy5vcHRpb25zLmVycm9ySGFuZGxlcnx8akwsdGhpcy5uYXZpZ2F0ZWQ9ITEsdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3k9Yih4TCksdGhpcy5vblNhbWVVcmxOYXZpZ2F0aW9uPXRoaXMub3B0aW9ucy5vblNhbWVVcmxOYXZpZ2F0aW9ufHwiaWdub3JlIix0aGlzLmNvbmZpZz1iKG9wLHtvcHRpb25hbDohMH0pPy5mbGF0KCk/P1tdLHRoaXMuY29tcG9uZW50SW5wdXRCaW5kaW5nRW5hYmxlZD0hIWIobnAse29wdGlvbmFsOiEwfSksdGhpcy5ldmVudHNTdWJzY3JpcHRpb249bmV3IHBuLHRoaXMuaXNOZ1pvbmVFbmFibGVkPWIoTWUpaW5zdGFuY2VvZiBNZSYmTWUuaXNJbkFuZ3VsYXJab25lKCksdGhpcy5yZXNldENvbmZpZyh0aGlzLmNvbmZpZyksdGhpcy5uYXZpZ2F0aW9uVHJhbnNpdGlvbnMuc2V0dXBOYXZpZ2F0aW9ucyh0aGlzLHRoaXMuY3VycmVudFVybFRyZWUsdGhpcy5yb3V0ZXJTdGF0ZSkuc3Vic2NyaWJlKHtlcnJvcjpyPT57dGhpcy5jb25zb2xlLndhcm4ocil9fSksdGhpcy5zdWJzY3JpYmVUb05hdmlnYXRpb25FdmVudHMoKX1zdWJzY3JpYmVUb05hdmlnYXRpb25FdmVudHMoKXtjb25zdCByPXRoaXMubmF2aWdhdGlvblRyYW5zaXRpb25zLmV2ZW50cy5zdWJzY3JpYmUoaT0+e3RyeXtjb25zdCBzPXRoaXMubmF2aWdhdGlvblRyYW5zaXRpb25zLmN1cnJlbnRUcmFuc2l0aW9uLG89dGhpcy5uYXZpZ2F0aW9uVHJhbnNpdGlvbnMuY3VycmVudE5hdmlnYXRpb247aWYocyE9PW51bGwmJm8hPT1udWxsKXtpZih0aGlzLnN0YXRlTWFuYWdlci5oYW5kbGVSb3V0ZXJFdmVudChpLG8pLGkgaW5zdGFuY2VvZiBCaSYmaS5jb2RlIT09anQuUmVkaXJlY3QmJmkuY29kZSE9PWp0LlN1cGVyc2VkZWRCeU5ld05hdmlnYXRpb24pdGhpcy5uYXZpZ2F0ZWQ9ITA7ZWxzZSBpZihpIGluc3RhbmNlb2YgJGkpdGhpcy5uYXZpZ2F0ZWQ9ITA7ZWxzZSBpZihpIGluc3RhbmNlb2YgSmYpe2NvbnN0IGE9dGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5Lm1lcmdlKGkudXJsLHMuY3VycmVudFJhd1VybCksYz17aW5mbzpzLmV4dHJhcy5pbmZvLHNraXBMb2NhdGlvbkNoYW5nZTpzLmV4dHJhcy5za2lwTG9jYXRpb25DaGFuZ2UscmVwbGFjZVVybDp0aGlzLnVybFVwZGF0ZVN0cmF0ZWd5PT09ImVhZ2VyInx8T0wocy5zb3VyY2UpfTt0aGlzLnNjaGVkdWxlTmF2aWdhdGlvbihhLExzLG51bGwsYyx7cmVzb2x2ZTpzLnJlc29sdmUscmVqZWN0OnMucmVqZWN0LHByb21pc2U6cy5wcm9taXNlfSl9fXFMKGkpJiZ0aGlzLl9ldmVudHMubmV4dChpKX1jYXRjaChzKXt0aGlzLm5hdmlnYXRpb25UcmFuc2l0aW9ucy50cmFuc2l0aW9uQWJvcnRTdWJqZWN0Lm5leHQocyl9fSk7dGhpcy5ldmVudHNTdWJzY3JpcHRpb24uYWRkKHIpfXJlc2V0Um9vdENvbXBvbmVudFR5cGUocil7dGhpcy5yb3V0ZXJTdGF0ZS5yb290LmNvbXBvbmVudD1yLHRoaXMubmF2aWdhdGlvblRyYW5zaXRpb25zLnJvb3RDb21wb25lbnRUeXBlPXJ9aW5pdGlhbE5hdmlnYXRpb24oKXt0aGlzLnNldFVwTG9jYXRpb25DaGFuZ2VMaXN0ZW5lcigpLHRoaXMubmF2aWdhdGlvblRyYW5zaXRpb25zLmhhc1JlcXVlc3RlZE5hdmlnYXRpb258fHRoaXMubmF2aWdhdGVUb1N5bmNXaXRoQnJvd3Nlcih0aGlzLmxvY2F0aW9uLnBhdGgoITApLExzLHRoaXMuc3RhdGVNYW5hZ2VyLnJlc3RvcmVkU3RhdGUoKSl9c2V0VXBMb2NhdGlvbkNoYW5nZUxpc3RlbmVyKCl7dGhpcy5ub25Sb3V0ZXJDdXJyZW50RW50cnlDaGFuZ2VTdWJzY3JpcHRpb24/Pyh0aGlzLm5vblJvdXRlckN1cnJlbnRFbnRyeUNoYW5nZVN1YnNjcmlwdGlvbj10aGlzLnN0YXRlTWFuYWdlci5yZWdpc3Rlck5vblJvdXRlckN1cnJlbnRFbnRyeUNoYW5nZUxpc3RlbmVyKChyLGkpPT57c2V0VGltZW91dCgoKT0+e3RoaXMubmF2aWdhdGVUb1N5bmNXaXRoQnJvd3NlcihyLCJwb3BzdGF0ZSIsaSl9LDApfSkpfW5hdmlnYXRlVG9TeW5jV2l0aEJyb3dzZXIocixpLHMpe2NvbnN0IG89e3JlcGxhY2VVcmw6ITB9LGE9cz8ubmF2aWdhdGlvbklkP3M6bnVsbDtpZihzKXtjb25zdCB1PXsuLi5zfTtkZWxldGUgdS5uYXZpZ2F0aW9uSWQsZGVsZXRlIHUuybVyb3V0ZXJQYWdlSWQsT2JqZWN0LmtleXModSkubGVuZ3RoIT09MCYmKG8uc3RhdGU9dSl9Y29uc3QgYz10aGlzLnBhcnNlVXJsKHIpO3RoaXMuc2NoZWR1bGVOYXZpZ2F0aW9uKGMsaSxhLG8pfWdldCB1cmwoKXtyZXR1cm4gdGhpcy5zZXJpYWxpemVVcmwodGhpcy5jdXJyZW50VXJsVHJlZSl9Z2V0Q3VycmVudE5hdmlnYXRpb24oKXtyZXR1cm4gdGhpcy5uYXZpZ2F0aW9uVHJhbnNpdGlvbnMuY3VycmVudE5hdmlnYXRpb259Z2V0IGxhc3RTdWNjZXNzZnVsTmF2aWdhdGlvbigpe3JldHVybiB0aGlzLm5hdmlnYXRpb25UcmFuc2l0aW9ucy5sYXN0U3VjY2Vzc2Z1bE5hdmlnYXRpb259cmVzZXRDb25maWcocil7dGhpcy5jb25maWc9ci5tYXAocnApLHRoaXMubmF2aWdhdGVkPSExfW5nT25EZXN0cm95KCl7dGhpcy5kaXNwb3NlKCl9ZGlzcG9zZSgpe3RoaXMubmF2aWdhdGlvblRyYW5zaXRpb25zLmNvbXBsZXRlKCksdGhpcy5ub25Sb3V0ZXJDdXJyZW50RW50cnlDaGFuZ2VTdWJzY3JpcHRpb24mJih0aGlzLm5vblJvdXRlckN1cnJlbnRFbnRyeUNoYW5nZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpLHRoaXMubm9uUm91dGVyQ3VycmVudEVudHJ5Q2hhbmdlU3Vic2NyaXB0aW9uPXZvaWQgMCksdGhpcy5kaXNwb3NlZD0hMCx0aGlzLmV2ZW50c1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpfWNyZWF0ZVVybFRyZWUocixpPXt9KXtjb25zdHtyZWxhdGl2ZVRvOnMscXVlcnlQYXJhbXM6byxmcmFnbWVudDphLHF1ZXJ5UGFyYW1zSGFuZGxpbmc6YyxwcmVzZXJ2ZUZyYWdtZW50OnV9PWksbD11P3RoaXMuY3VycmVudFVybFRyZWUuZnJhZ21lbnQ6YTtsZXQgaD1udWxsO3N3aXRjaChjKXtjYXNlIm1lcmdlIjpoPXsuLi50aGlzLmN1cnJlbnRVcmxUcmVlLnF1ZXJ5UGFyYW1zLC4uLm99O2JyZWFrO2Nhc2UicHJlc2VydmUiOmg9dGhpcy5jdXJyZW50VXJsVHJlZS5xdWVyeVBhcmFtczticmVhaztkZWZhdWx0Omg9b3x8bnVsbH1oIT09bnVsbCYmKGg9dGhpcy5yZW1vdmVFbXB0eVByb3BzKGgpKTtsZXQgZDt0cnl7Y29uc3QgZj1zP3Muc25hcHNob3Q6dGhpcy5yb3V0ZXJTdGF0ZS5zbmFwc2hvdC5yb290O2Q9ekkoZil9Y2F0Y2h7KHR5cGVvZiByWzBdIT0ic3RyaW5nInx8IXJbMF0uc3RhcnRzV2l0aCgiLyIpKSYmKHI9W10pLGQ9dGhpcy5jdXJyZW50VXJsVHJlZS5yb290fXJldHVybiBXSShkLHIsaCxsPz9udWxsKX1uYXZpZ2F0ZUJ5VXJsKHIsaT17c2tpcExvY2F0aW9uQ2hhbmdlOiExfSl7Y29uc3Qgcz1qaShyKT9yOnRoaXMucGFyc2VVcmwociksbz10aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kubWVyZ2Uocyx0aGlzLnJhd1VybFRyZWUpO3JldHVybiB0aGlzLnNjaGVkdWxlTmF2aWdhdGlvbihvLExzLG51bGwsaSl9bmF2aWdhdGUocixpPXtza2lwTG9jYXRpb25DaGFuZ2U6ITF9KXtyZXR1cm4gSEwociksdGhpcy5uYXZpZ2F0ZUJ5VXJsKHRoaXMuY3JlYXRlVXJsVHJlZShyLGkpLGkpfXNlcmlhbGl6ZVVybChyKXtyZXR1cm4gdGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZShyKX1wYXJzZVVybChyKXt0cnl7cmV0dXJuIHRoaXMudXJsU2VyaWFsaXplci5wYXJzZShyKX1jYXRjaHtyZXR1cm4gdGhpcy51cmxTZXJpYWxpemVyLnBhcnNlKCIvIil9fWlzQWN0aXZlKHIsaSl7bGV0IHM7aWYoaT09PSEwP3M9ey4uLiRMfTppPT09ITE/cz17Li4uQkx9OnM9aSxqaShyKSlyZXR1cm4gWm0odGhpcy5jdXJyZW50VXJsVHJlZSxyLHMpO2NvbnN0IG89dGhpcy5wYXJzZVVybChyKTtyZXR1cm4gWm0odGhpcy5jdXJyZW50VXJsVHJlZSxvLHMpfXJlbW92ZUVtcHR5UHJvcHMocil7cmV0dXJuIE9iamVjdC5lbnRyaWVzKHIpLnJlZHVjZSgoaSxbcyxvXSk9PihvIT1udWxsJiYoaVtzXT1vKSxpKSx7fSl9c2NoZWR1bGVOYXZpZ2F0aW9uKHIsaSxzLG8sYSl7aWYodGhpcy5kaXNwb3NlZClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCExKTtsZXQgYyx1LGw7YT8oYz1hLnJlc29sdmUsdT1hLnJlamVjdCxsPWEucHJvbWlzZSk6bD1uZXcgUHJvbWlzZSgoZCxmKT0+e2M9ZCx1PWZ9KTtjb25zdCBoPXRoaXMucGVuZGluZ1Rhc2tzLmFkZCgpO3JldHVybiBVTCh0aGlzLCgpPT57cXVldWVNaWNyb3Rhc2soKCk9PnRoaXMucGVuZGluZ1Rhc2tzLnJlbW92ZShoKSl9KSx0aGlzLm5hdmlnYXRpb25UcmFuc2l0aW9ucy5oYW5kbGVOYXZpZ2F0aW9uUmVxdWVzdCh7c291cmNlOmkscmVzdG9yZWRTdGF0ZTpzLGN1cnJlbnRVcmxUcmVlOnRoaXMuY3VycmVudFVybFRyZWUsY3VycmVudFJhd1VybDp0aGlzLmN1cnJlbnRVcmxUcmVlLHJhd1VybDpyLGV4dHJhczpvLHJlc29sdmU6YyxyZWplY3Q6dSxwcm9taXNlOmwsY3VycmVudFNuYXBzaG90OnRoaXMucm91dGVyU3RhdGUuc25hcHNob3QsY3VycmVudFJvdXRlclN0YXRlOnRoaXMucm91dGVyU3RhdGV9KSxsLmNhdGNoKGQ9PlByb21pc2UucmVqZWN0KGQpKX19cmV0dXJuIHQ9ZSx0Lsm1ZmFjPWZ1bmN0aW9uKHIpe3JldHVybiBuZXcocnx8dCl9LHQuybVwcm92PXEoe3Rva2VuOnQsZmFjdG9yeTp0Lsm1ZmFjLHByb3ZpZGVkSW46InJvb3QifSksZX0pKCk7ZnVuY3Rpb24gSEwodCl7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodFtlXT09bnVsbCl0aHJvdyBuZXcgVyg0MDA4LCExKX1mdW5jdGlvbiBxTCh0KXtyZXR1cm4hKHQgaW5zdGFuY2VvZiBZZikmJiEodCBpbnN0YW5jZW9mIEpmKX1jb25zdCB6TD1uZXcgc2UoIiIpO2Z1bmN0aW9uIFdMKHQsLi4uZSl7cmV0dXJuIGlzKFt7cHJvdmlkZTpvcCxtdWx0aTohMCx1c2VWYWx1ZTp0fSxbXSx7cHJvdmlkZTpDdSx1c2VGYWN0b3J5OkdMLGRlcHM6W2NwXX0se3Byb3ZpZGU6d3UsbXVsdGk6ITAsdXNlRmFjdG9yeTpLTH0sZS5tYXAobj0+bi7JtXByb3ZpZGVycyldKX1mdW5jdGlvbiBHTCh0KXtyZXR1cm4gdC5yb3V0ZXJTdGF0ZS5yb290fWZ1bmN0aW9uIEtMKCl7Y29uc3QgdD1iKFduKTtyZXR1cm4gZT0+e2NvbnN0IG49dC5nZXQoV28pO2lmKGUhPT1uLmNvbXBvbmVudHNbMF0pcmV0dXJuO2NvbnN0IHI9dC5nZXQoY3ApLGk9dC5nZXQoUUwpO3QuZ2V0KFpMKT09PTEmJnIuaW5pdGlhbE5hdmlnYXRpb24oKSx0LmdldChYTCxudWxsLHVlLk9wdGlvbmFsKT8uc2V0VXBQcmVsb2FkaW5nKCksdC5nZXQoekwsbnVsbCx1ZS5PcHRpb25hbCk/LmluaXQoKSxyLnJlc2V0Um9vdENvbXBvbmVudFR5cGUobi5jb21wb25lbnRUeXBlc1swXSksaS5jbG9zZWR8fChpLm5leHQoKSxpLmNvbXBsZXRlKCksaS51bnN1YnNjcmliZSgpKX19Y29uc3QgUUw9bmV3IHNlKCIiLHtmYWN0b3J5OigpPT5uZXcgT259KSxaTD1uZXcgc2UoIiIse3Byb3ZpZGVkSW46InJvb3QiLGZhY3Rvcnk6KCk9PjF9KSxYTD1uZXcgc2UoIiIpO2xldCBZTD0oKCk9Pnt2YXIgdDtjbGFzcyBle31yZXR1cm4gdD1lLHQuybVmYWM9ZnVuY3Rpb24ocil7cmV0dXJuIG5ldyhyfHx0KX0sdC7JtWNtcD1iXyh7dHlwZTp0LHNlbGVjdG9yczpbWyJhcHAtcm9vdCJdXSxzdGFuZGFsb25lOiEwLGZlYXR1cmVzOltjSV0sZGVjbHM6MSx2YXJzOjAsdGVtcGxhdGU6ZnVuY3Rpb24ocixpKXtyJjEmJkJmKDAsInJvdXRlci1vdXRsZXQiKX0sZGVwZW5kZW5jaWVzOltuVF0sZW5jYXBzdWxhdGlvbjoyfSksZX0pKCk7Y29uc3QgSkw9Im1vZHVsZXByZWxvYWQiLGUxPWZ1bmN0aW9uKHQpe3JldHVybiIvIit0fSxyeT17fSxnVD1mdW5jdGlvbihlLG4scil7bGV0IGk9UHJvbWlzZS5yZXNvbHZlKCk7aWYobiYmbi5sZW5ndGg+MCl7Y29uc3Qgcz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGluayIpO2k9UHJvbWlzZS5hbGwobi5tYXAobz0+e2lmKG89ZTEobyksbyBpbiByeSlyZXR1cm47cnlbb109ITA7Y29uc3QgYT1vLmVuZHNXaXRoKCIuY3NzIiksYz1hPydbcmVsPSJzdHlsZXNoZWV0Il0nOiIiO2lmKCEhcilmb3IobGV0IGg9cy5sZW5ndGgtMTtoPj0wO2gtLSl7Y29uc3QgZD1zW2hdO2lmKGQuaHJlZj09PW8mJighYXx8ZC5yZWw9PT0ic3R5bGVzaGVldCIpKXJldHVybn1lbHNlIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGxpbmtbaHJlZj0iJHtvfSJdJHtjfWApKXJldHVybjtjb25zdCBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpbmsiKTtpZihsLnJlbD1hPyJzdHlsZXNoZWV0IjpKTCxhfHwobC5hcz0ic2NyaXB0IixsLmNyb3NzT3JpZ2luPSIiKSxsLmhyZWY9byxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGwpLGEpcmV0dXJuIG5ldyBQcm9taXNlKChoLGQpPT57bC5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixoKSxsLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIiwoKT0+ZChuZXcgRXJyb3IoYFVuYWJsZSB0byBwcmVsb2FkIENTUyBmb3IgJHtvfWApKSl9KX0pKX1yZXR1cm4gaS50aGVuKCgpPT5lKCkpLmNhdGNoKHM9Pntjb25zdCBvPW5ldyBFdmVudCgidml0ZTpwcmVsb2FkRXJyb3IiLHtjYW5jZWxhYmxlOiEwfSk7aWYoby5wYXlsb2FkPXMsd2luZG93LmRpc3BhdGNoRXZlbnQobyksIW8uZGVmYXVsdFByZXZlbnRlZCl0aHJvdyBzfSl9O3ZhciB0MT17VklURV9GSVJFQkFTRV9DT05GSUc6J3siYXBpS2V5IjoiQUl6YVN5QzdUdTU2XzFyeS11OUFuWmZnX0FqaU1XdnZObUZJUEdVIiwiYXV0aERvbWFpbiI6InRlc3QtcHJvamVjdHMtMTkwNDYuZmlyZWJhc2VhcHAuY29tIiwicHJvamVjdElkIjoidGVzdC1wcm9qZWN0cy0xOTA0NiIsInN0b3JhZ2VCdWNrZXQiOiJ0ZXN0LXByb2plY3RzLTE5MDQ2LmFwcHNwb3QuY29tIiwibWVzc2FnaW5nU2VuZGVySWQiOiI3MzY4NDk0MTg0NjkiLCJhcHBJZCI6IjE6NzM2ODQ5NDE4NDY5OndlYjo3NTQ2ZjE2YzVlMzU1YjFjNmE5YzBjIiwibWVhc3VyZW1lbnRJZCI6IkctRktSQ1c5M1AwWCJ9JyxWSVRFX0NKU19JR05PUkVfV0FSTklORzoidHJ1ZSIsQkFTRV9VUkw6Ii8iLE1PREU6InByb2R1Y3Rpb24iLERFVjohMSxQUk9EOiEwLFNTUjohMX07Y29uc3Qgc2Q9U3ltYm9sKCJAYW5hbG9nanMvcm91dGVyIFJvdXRlIE1ldGEgVGFncyBLZXkiKSxuMT0iY2hhcnNldCIscjE9Imh0dHAtZXF1aXYiLGkxPSJuYW1lIixzMT0icHJvcGVydHkiO2Z1bmN0aW9uIG8xKCl7Y29uc3QgdD1iKGNwKSxlPWIoeE8pO3QuZXZlbnRzLnBpcGUoeG4obj0+biBpbnN0YW5jZW9mICRpKSkuc3Vic2NyaWJlKCgpPT57Y29uc3Qgbj1hMSh0LnJvdXRlclN0YXRlLnNuYXBzaG90LnJvb3QpO2Zvcihjb25zdCByIGluIG4pe2NvbnN0IGk9bltyXTtlLnVwZGF0ZVRhZyhpLHIpfX0pfWZ1bmN0aW9uIGExKHQpe2NvbnN0IGU9e307bGV0IG49dDtmb3IoO247KXtjb25zdCByPW4uZGF0YVtzZF0/P1tdO2Zvcihjb25zdCBpIG9mIHIpZVtjMShpKV09aTtuPW4uZmlyc3RDaGlsZH1yZXR1cm4gZX1mdW5jdGlvbiBjMSh0KXtyZXR1cm4gdC5uYW1lP2Ake2kxfT0iJHt0Lm5hbWV9ImA6dC5wcm9wZXJ0eT9gJHtzMX09IiR7dC5wcm9wZXJ0eX0iYDp0Lmh0dHBFcXVpdj9gJHtyMX09IiR7dC5odHRwRXF1aXZ9ImA6bjF9Y29uc3Qgb2Q9U3ltYm9sKCJAYW5hbG9nanMvcm91dGVyIEFuYWxvZyBSb3V0ZSBNZXRhZGF0YSBLZXkiKSx1MT1PYmplY3QuYXNzaWduKHt9KTtmdW5jdGlvbiBsMSh0KXtpZih0JiZoMSh0KSlyZXR1cm4gdDtsZXR7bWV0YTplLC4uLm59PXQ/P3t9O3JldHVybiBBcnJheS5pc0FycmF5KGUpP24uZGF0YT17Li4ubi5kYXRhLFtzZF06ZX06dHlwZW9mIGU9PSJmdW5jdGlvbiImJihuLnJlc29sdmU9ey4uLm4ucmVzb2x2ZSxbc2RdOmV9KSxufHwobj17fSksbi5yZXNvbHZlPXsuLi5uLnJlc29sdmUsbG9hZDpyPT5nKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCBpPXIucm91dGVDb25maWc7aWYodTFbaVtvZF0uZW5kcG9pbnRLZXldKXtjb25zdHtxdWVyeVBhcmFtczpzLGZyYWdtZW50Om8scGFyYW1zOmEscGFyZW50OmN9PXIsdT1jPy51cmwubWFwKGQ9PmQucGF0aCkuam9pbigiLyIpfHwiIixsPW5ldyBVUkwoIiIsdDEuVklURV9BTkFMT0dfUFVCTElDX0JBU0VfVVJMKTtpZihsLnBhdGhuYW1lPWAvYXBpL19hbmFsb2cke2lbb2RdLmVuZHBvaW50fWAsbC5zZWFyY2g9YCR7bmV3IFVSTFNlYXJjaFBhcmFtcyhzKS50b1N0cmluZygpfWAsbC5oYXNoPW8/PyIiLE9iamVjdC5rZXlzKGEpLmZvckVhY2goZD0+e2wucGF0aG5hbWU9bC5wYXRobmFtZS5yZXBsYWNlKGBbJHtkfV1gLGFbZF0pfSksbC5wYXRobmFtZT1sLnBhdGhuYW1lLnJlcGxhY2UoIioqIix1KSxnbG9iYWxUaGlzLiRmZXRjaClyZXR1cm4gZ2xvYmFsVGhpcy4kZmV0Y2gobC5wYXRobmFtZSk7Y29uc3QgaD1iKElJKTtyZXR1cm4galIoaC5nZXQoYCR7bC5ocmVmfWApKX1yZXR1cm57fX0pfSxufWZ1bmN0aW9uIGgxKHQpe3JldHVybiEhdC5yZWRpcmVjdFRvfWNvbnN0IGQxPXR5cGVvZiBab25lPCJ1IiYmISFab25lLnJvb3Q7ZnVuY3Rpb24gZjEodCl7cmV0dXJuKCk9PmcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0IGU9KCk9PlByb21pc2UuYWxsKFtnVCgoKT0+aW1wb3J0KCIuL2FuYWxvZ2pzLWNvbnRlbnQtQ25tNUtRQ1cuanMiKSxfX3ZpdGVfX21hcERlcHMoW10pKSx0KCldKSxbe3BhcnNlUmF3Q29udGVudEZpbGU6bixNYXJrZG93blJvdXRlQ29tcG9uZW50OnIsQ29udGVudFJlbmRlcmVyOml9LHNdPXlpZWxkIGQxP1pvbmUucm9vdC5ydW4oZSk6ZSgpLHtjb250ZW50Om8sYXR0cmlidXRlczphfT1uKHMpLHt0aXRsZTpjLG1ldGE6dX09YTtyZXR1cm57ZGVmYXVsdDpyLHJvdXRlTWV0YTp7ZGF0YTp7X2FuYWxvZ0NvbnRlbnQ6b30sdGl0bGU6YyxtZXRhOnUscmVzb2x2ZTp7cmVuZGVyZWRBbmFsb2dDb250ZW50OigpPT5nKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4gYihpKS5yZW5kZXIobyl9KX19fX0pfWNvbnN0IHAxPSIuc2VydmVyLnRzIixnMT0ic3JjL2FwcCIsbTE9T2JqZWN0LmFzc2lnbih7Ii9zcmMvYXBwL3BhZ2VzL2luZGV4LnBhZ2UudHMiOigpPT5nVCgoKT0+aW1wb3J0KCIuL2luZGV4LnBhZ2UteG0tVWpMRWguanMiKSxfX3ZpdGVfX21hcERlcHMoW10pKX0pLHkxPU9iamVjdC5hc3NpZ24oe30pO2Z1bmN0aW9uIHYxKHQpe3ZhciBhLGM7Y29uc3QgZT1PYmplY3Qua2V5cyh0KTtpZihlLmxlbmd0aD09PTApcmV0dXJuW107Y29uc3Qgbj1lLnJlZHVjZSgodSxsKT0+e2NvbnN0IGg9XzEobCksZD1oLnNwbGl0KCIvIiksZj1kLmxlbmd0aC0xLG09ZFtmXSx5PWQuc2xpY2UoMCxmKTtyZXR1cm57Li4udSxbZl06ey4uLnVbZl0sW2hdOntmaWxlbmFtZTpsLHJhd1NlZ21lbnQ6bSxhbmNlc3RvclJhd1NlZ21lbnRzOnksc2VnbWVudDppeShtKSxsZXZlbDpmLGNoaWxkcmVuOltdfX19fSx7fSkscj1PYmplY3Qua2V5cyhuKS5tYXAoTnVtYmVyKSxpPU1hdGgubWF4KC4uLnIpO2ZvcihsZXQgdT1pO3U+MDt1LS0pe2NvbnN0IGw9blt1XSxoPU9iamVjdC5rZXlzKGwpO2Zvcihjb25zdCBkIG9mIGgpe2NvbnN0IGY9bFtkXSxtPWYuYW5jZXN0b3JSYXdTZWdtZW50cy5qb2luKCIvIikseT1mLmFuY2VzdG9yUmF3U2VnbWVudHMubGVuZ3RoLTEsXz1mLmFuY2VzdG9yUmF3U2VnbWVudHNbeV07blthPXUtMV18fChuW2FdPXt9KSwoYz1uW3UtMV0pW21dfHwoY1ttXT17ZmlsZW5hbWU6bnVsbCxyYXdTZWdtZW50Ol8sYW5jZXN0b3JSYXdTZWdtZW50czpmLmFuY2VzdG9yUmF3U2VnbWVudHMuc2xpY2UoMCx5KSxzZWdtZW50Oml5KF8pLGxldmVsOnUtMSxjaGlsZHJlbjpbXX0pLG5bdS0xXVttXS5jaGlsZHJlbi5wdXNoKGYpfX1jb25zdCBzPW5bMF0sbz1PYmplY3Qua2V5cyhzKS5tYXAodT0+c1t1XSk7cmV0dXJuIHlUKG8pLG1UKG8sdCl9ZnVuY3Rpb24gXzEodCl7cmV0dXJuIHQucmVwbGFjZSgvXlwvKC4qPylcL3JvdXRlc1wvfF5cLyguKj8pXC9wYWdlc1wvfFwvYXBwXC9yb3V0ZXNcL3woXC5wYWdlXC4oanN8dHN8YW5hbG9nKSQpfChcLih0c3xtZHxhbmFsb2cpJCkvZywiIikucmVwbGFjZSgvXFtcLnszfS4rXF0vLCIqKiIpLnJlcGxhY2UoL1xbKFteXF1dKylcXS9nLCI6JDEiKX1mdW5jdGlvbiBpeSh0KXtyZXR1cm4gdC5yZXBsYWNlKC9pbmRleHxcKC4qP1wpL2csIiIpLnJlcGxhY2UoL1wufFwvKy9nLCIvIikucmVwbGFjZSgvXlwvK3xcLyskL2csIiIpfWZ1bmN0aW9uIG1UKHQsZSl7Y29uc3Qgbj1bXTtmb3IoY29uc3QgciBvZiB0KXtjb25zdCBpPXIuY2hpbGRyZW4ubGVuZ3RoPjA/bVQoci5jaGlsZHJlbixlKTp2b2lkIDA7bGV0IHMsbztpZihyLmZpbGVuYW1lKXtzPXIuZmlsZW5hbWUuZW5kc1dpdGgoIi5tZCIpP2YxKGVbci5maWxlbmFtZV0pOmVbci5maWxlbmFtZV07Y29uc3QgdT1yLmZpbGVuYW1lLnJlcGxhY2UoL1wucGFnZVwuKHRzfGFuYWxvZykkLyxwMSk7bz17ZW5kcG9pbnQ6KHIuZmlsZW5hbWUucmVwbGFjZSgvXC5wYWdlXC4odHN8YW5hbG9nKSQvLCIiKS5yZXBsYWNlKC9cW1wuezN9LitcXS8sIioqIikuc3BsaXQoZzEpWzFdfHwiIikucmVwbGFjZSgvXC4vZywiLyIpLnJlcGxhY2UoL1wvXCgoLio/KVwpJC8sIi8tJDEtIiksZW5kcG9pbnRLZXk6dX19Y29uc3QgYT1zP3twYXRoOnIuc2VnbWVudCxsb2FkQ2hpbGRyZW46KCk9PnMoKS50aGVuKGM9Plt7cGF0aDoiIixjb21wb25lbnQ6Yy5kZWZhdWx0LC4uLmwxKGMucm91dGVNZXRhKSxjaGlsZHJlbjppLFtvZF06b31dKX06e3BhdGg6ci5zZWdtZW50LGNoaWxkcmVuOml9O24ucHVzaChhKX1yZXR1cm4gbn1mdW5jdGlvbiB5VCh0KXt0LnNvcnQoKGUsbik9PntsZXQgcj1zeShlLnNlZ21lbnQpLGk9c3kobi5zZWdtZW50KTtyZXR1cm4gZS5jaGlsZHJlbi5sZW5ndGg+bi5jaGlsZHJlbi5sZW5ndGg/cj1gfiR7cn1gOmUuY2hpbGRyZW4ubGVuZ3RoPG4uY2hpbGRyZW4ubGVuZ3RoJiYoaT1gfiR7aX1gKSxyPmk/MTotMX0pO2Zvcihjb25zdCBlIG9mIHQpeVQoZS5jaGlsZHJlbil9ZnVuY3Rpb24gc3kodCl7cmV0dXJuIHQucmVwbGFjZSgiOiIsIn5+IikucmVwbGFjZSgiKioiLCJ+fn5+Iil9Y29uc3QgRTE9djEoey4uLm0xLC4uLnkxfSk7ZnVuY3Rpb24gdzEoLi4udCl7cmV0dXJuIGlzKFtXTChFMSwuLi50KS7JtXByb3ZpZGVycyx7cHJvdmlkZTpWaSxtdWx0aTohMCx1c2VWYWx1ZTooKT0+bzEoKX1dKX1mdW5jdGlvbiBtbyh0KXsiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2YiO3JldHVybiBtbz10eXBlb2YgU3ltYm9sPT0iZnVuY3Rpb24iJiZ0eXBlb2YgU3ltYm9sLml0ZXJhdG9yPT0ic3ltYm9sIj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZ0eXBlb2YgU3ltYm9sPT0iZnVuY3Rpb24iJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0sbW8odCl9ZnVuY3Rpb24gSTEodCxlKXtpZihtbyh0KSE9Im9iamVjdCJ8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZihuIT09dm9pZCAwKXt2YXIgcj1uLmNhbGwodCxlfHwiZGVmYXVsdCIpO2lmKG1vKHIpIT0ib2JqZWN0IilyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybihlPT09InN0cmluZyI/U3RyaW5nOk51bWJlcikodCl9ZnVuY3Rpb24gVDEodCl7dmFyIGU9STEodCwic3RyaW5nIik7cmV0dXJuIG1vKGUpPT0ic3ltYm9sIj9lOlN0cmluZyhlKX1mdW5jdGlvbiBHZSh0LGUsbil7cmV0dXJuIGU9VDEoZSksZSBpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W2VdPW4sdH12YXIgb3k9e307Y29uc3QgdlQ9ZnVuY3Rpb24odCl7Y29uc3QgZT1bXTtsZXQgbj0wO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXtsZXQgaT10LmNoYXJDb2RlQXQocik7aTwxMjg/ZVtuKytdPWk6aTwyMDQ4PyhlW24rK109aT4+NnwxOTIsZVtuKytdPWkmNjN8MTI4KTooaSY2NDUxMik9PT01NTI5NiYmcisxPHQubGVuZ3RoJiYodC5jaGFyQ29kZUF0KHIrMSkmNjQ1MTIpPT09NTYzMjA/KGk9NjU1MzYrKChpJjEwMjMpPDwxMCkrKHQuY2hhckNvZGVBdCgrK3IpJjEwMjMpLGVbbisrXT1pPj4xOHwyNDAsZVtuKytdPWk+PjEyJjYzfDEyOCxlW24rK109aT4+NiY2M3wxMjgsZVtuKytdPWkmNjN8MTI4KTooZVtuKytdPWk+PjEyfDIyNCxlW24rK109aT4+NiY2M3wxMjgsZVtuKytdPWkmNjN8MTI4KX1yZXR1cm4gZX0sUzE9ZnVuY3Rpb24odCl7Y29uc3QgZT1bXTtsZXQgbj0wLHI9MDtmb3IoO248dC5sZW5ndGg7KXtjb25zdCBpPXRbbisrXTtpZihpPDEyOCllW3IrK109U3RyaW5nLmZyb21DaGFyQ29kZShpKTtlbHNlIGlmKGk+MTkxJiZpPDIyNCl7Y29uc3Qgcz10W24rK107ZVtyKytdPVN0cmluZy5mcm9tQ2hhckNvZGUoKGkmMzEpPDw2fHMmNjMpfWVsc2UgaWYoaT4yMzkmJmk8MzY1KXtjb25zdCBzPXRbbisrXSxvPXRbbisrXSxhPXRbbisrXSxjPSgoaSY3KTw8MTh8KHMmNjMpPDwxMnwobyY2Myk8PDZ8YSY2MyktNjU1MzY7ZVtyKytdPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTYrKGM+PjEwKSksZVtyKytdPVN0cmluZy5mcm9tQ2hhckNvZGUoNTYzMjArKGMmMTAyMykpfWVsc2V7Y29uc3Qgcz10W24rK10sbz10W24rK107ZVtyKytdPVN0cmluZy5mcm9tQ2hhckNvZGUoKGkmMTUpPDwxMnwocyY2Myk8PDZ8byY2Myl9fXJldHVybiBlLmpvaW4oIiIpfSxfVD17Ynl0ZVRvQ2hhck1hcF86bnVsbCxjaGFyVG9CeXRlTWFwXzpudWxsLGJ5dGVUb0NoYXJNYXBXZWJTYWZlXzpudWxsLGNoYXJUb0J5dGVNYXBXZWJTYWZlXzpudWxsLEVOQ09ERURfVkFMU19CQVNFOiJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSIsZ2V0IEVOQ09ERURfVkFMUygpe3JldHVybiB0aGlzLkVOQ09ERURfVkFMU19CQVNFKyIrLz0ifSxnZXQgRU5DT0RFRF9WQUxTX1dFQlNBRkUoKXtyZXR1cm4gdGhpcy5FTkNPREVEX1ZBTFNfQkFTRSsiLV8uIn0sSEFTX05BVElWRV9TVVBQT1JUOnR5cGVvZiBhdG9iPT0iZnVuY3Rpb24iLGVuY29kZUJ5dGVBcnJheSh0LGUpe2lmKCFBcnJheS5pc0FycmF5KHQpKXRocm93IEVycm9yKCJlbmNvZGVCeXRlQXJyYXkgdGFrZXMgYW4gYXJyYXkgYXMgYSBwYXJhbWV0ZXIiKTt0aGlzLmluaXRfKCk7Y29uc3Qgbj1lP3RoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfOnRoaXMuYnl0ZVRvQ2hhck1hcF8scj1bXTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krPTMpe2NvbnN0IHM9dFtpXSxvPWkrMTx0Lmxlbmd0aCxhPW8/dFtpKzFdOjAsYz1pKzI8dC5sZW5ndGgsdT1jP3RbaSsyXTowLGw9cz4+MixoPShzJjMpPDw0fGE+PjQ7bGV0IGQ9KGEmMTUpPDwyfHU+PjYsZj11JjYzO2N8fChmPTY0LG98fChkPTY0KSksci5wdXNoKG5bbF0sbltoXSxuW2RdLG5bZl0pfXJldHVybiByLmpvaW4oIiIpfSxlbmNvZGVTdHJpbmcodCxlKXtyZXR1cm4gdGhpcy5IQVNfTkFUSVZFX1NVUFBPUlQmJiFlP2J0b2EodCk6dGhpcy5lbmNvZGVCeXRlQXJyYXkodlQodCksZSl9LGRlY29kZVN0cmluZyh0LGUpe3JldHVybiB0aGlzLkhBU19OQVRJVkVfU1VQUE9SVCYmIWU/YXRvYih0KTpTMSh0aGlzLmRlY29kZVN0cmluZ1RvQnl0ZUFycmF5KHQsZSkpfSxkZWNvZGVTdHJpbmdUb0J5dGVBcnJheSh0LGUpe3RoaXMuaW5pdF8oKTtjb25zdCBuPWU/dGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV86dGhpcy5jaGFyVG9CeXRlTWFwXyxyPVtdO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7KXtjb25zdCBzPW5bdC5jaGFyQXQoaSsrKV0sYT1pPHQubGVuZ3RoP25bdC5jaGFyQXQoaSldOjA7KytpO2NvbnN0IHU9aTx0Lmxlbmd0aD9uW3QuY2hhckF0KGkpXTo2NDsrK2k7Y29uc3QgaD1pPHQubGVuZ3RoP25bdC5jaGFyQXQoaSldOjY0O2lmKCsraSxzPT1udWxsfHxhPT1udWxsfHx1PT1udWxsfHxoPT1udWxsKXRocm93IG5ldyBDMTtjb25zdCBkPXM8PDJ8YT4+NDtpZihyLnB1c2goZCksdSE9PTY0KXtjb25zdCBmPWE8PDQmMjQwfHU+PjI7aWYoci5wdXNoKGYpLGghPT02NCl7Y29uc3QgbT11PDw2JjE5MnxoO3IucHVzaChtKX19fXJldHVybiByfSxpbml0Xygpe2lmKCF0aGlzLmJ5dGVUb0NoYXJNYXBfKXt0aGlzLmJ5dGVUb0NoYXJNYXBfPXt9LHRoaXMuY2hhclRvQnl0ZU1hcF89e30sdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV89e30sdGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV89e307Zm9yKGxldCB0PTA7dDx0aGlzLkVOQ09ERURfVkFMUy5sZW5ndGg7dCsrKXRoaXMuYnl0ZVRvQ2hhck1hcF9bdF09dGhpcy5FTkNPREVEX1ZBTFMuY2hhckF0KHQpLHRoaXMuY2hhclRvQnl0ZU1hcF9bdGhpcy5ieXRlVG9DaGFyTWFwX1t0XV09dCx0aGlzLmJ5dGVUb0NoYXJNYXBXZWJTYWZlX1t0XT10aGlzLkVOQ09ERURfVkFMU19XRUJTQUZFLmNoYXJBdCh0KSx0aGlzLmNoYXJUb0J5dGVNYXBXZWJTYWZlX1t0aGlzLmJ5dGVUb0NoYXJNYXBXZWJTYWZlX1t0XV09dCx0Pj10aGlzLkVOQ09ERURfVkFMU19CQVNFLmxlbmd0aCYmKHRoaXMuY2hhclRvQnl0ZU1hcF9bdGhpcy5FTkNPREVEX1ZBTFNfV0VCU0FGRS5jaGFyQXQodCldPXQsdGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV9bdGhpcy5FTkNPREVEX1ZBTFMuY2hhckF0KHQpXT10KX19fTtjbGFzcyBDMSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLm5hbWU9IkRlY29kZUJhc2U2NFN0cmluZ0Vycm9yIn19Y29uc3QgQTE9ZnVuY3Rpb24odCl7Y29uc3QgZT12VCh0KTtyZXR1cm4gX1QuZW5jb2RlQnl0ZUFycmF5KGUsITApfSxBYz1mdW5jdGlvbih0KXtyZXR1cm4gQTEodCkucmVwbGFjZSgvXC4vZywiIil9LEVUPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gX1QuZGVjb2RlU3RyaW5nKHQsITApfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoImJhc2U2NERlY29kZSBmYWlsZWQ6ICIsZSl9cmV0dXJuIG51bGx9O2Z1bmN0aW9uIFIxKCl7aWYodHlwZW9mIHNlbGY8InUiKXJldHVybiBzZWxmO2lmKHR5cGVvZiB3aW5kb3c8InUiKXJldHVybiB3aW5kb3c7aWYodHlwZW9mIGdsb2JhbDwidSIpcmV0dXJuIGdsb2JhbDt0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdC4iKX1jb25zdCBiMT0oKT0+UjEoKS5fX0ZJUkVCQVNFX0RFRkFVTFRTX18sRDE9KCk9PntpZih0eXBlb2YgcHJvY2Vzcz4idSJ8fHR5cGVvZiBveT4idSIpcmV0dXJuO2NvbnN0IHQ9b3kuX19GSVJFQkFTRV9ERUZBVUxUU19fO2lmKHQpcmV0dXJuIEpTT04ucGFyc2UodCl9LFAxPSgpPT57aWYodHlwZW9mIGRvY3VtZW50PiJ1IilyZXR1cm47bGV0IHQ7dHJ5e3Q9ZG9jdW1lbnQuY29va2llLm1hdGNoKC9fX0ZJUkVCQVNFX0RFRkFVTFRTX189KFteO10rKS8pfWNhdGNoe3JldHVybn1jb25zdCBlPXQmJkVUKHRbMV0pO3JldHVybiBlJiZKU09OLnBhcnNlKGUpfSxSdT0oKT0+e3RyeXtyZXR1cm4gYjEoKXx8RDEoKXx8UDEoKX1jYXRjaCh0KXtjb25zb2xlLmluZm8oYFVuYWJsZSB0byBnZXQgX19GSVJFQkFTRV9ERUZBVUxUU19fIGR1ZSB0bzogJHt0fWApO3JldHVybn19LHdUPXQ9Pnt2YXIgZSxuO3JldHVybihuPShlPVJ1KCkpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5lbXVsYXRvckhvc3RzKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm5bdF19LE0xPXQ9Pntjb25zdCBlPXdUKHQpO2lmKCFlKXJldHVybjtjb25zdCBuPWUubGFzdEluZGV4T2YoIjoiKTtpZihuPD0wfHxuKzE9PT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgaG9zdCAke2V9IHdpdGggbm8gc2VwYXJhdGUgaG9zdG5hbWUgYW5kIHBvcnQhYCk7Y29uc3Qgcj1wYXJzZUludChlLnN1YnN0cmluZyhuKzEpLDEwKTtyZXR1cm4gZVswXT09PSJbIj9bZS5zdWJzdHJpbmcoMSxuLTEpLHJdOltlLnN1YnN0cmluZygwLG4pLHJdfSxJVD0oKT0+e3ZhciB0O3JldHVybih0PVJ1KCkpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC5jb25maWd9LFRUPXQ9Pnt2YXIgZTtyZXR1cm4oZT1SdSgpKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmVbYF8ke3R9YF19O2NsYXNzIE4xe2NvbnN0cnVjdG9yKCl7dGhpcy5yZWplY3Q9KCk9Pnt9LHRoaXMucmVzb2x2ZT0oKT0+e30sdGhpcy5wcm9taXNlPW5ldyBQcm9taXNlKChlLG4pPT57dGhpcy5yZXNvbHZlPWUsdGhpcy5yZWplY3Q9bn0pfXdyYXBDYWxsYmFjayhlKXtyZXR1cm4obixyKT0+e24/dGhpcy5yZWplY3Qobik6dGhpcy5yZXNvbHZlKHIpLHR5cGVvZiBlPT0iZnVuY3Rpb24iJiYodGhpcy5wcm9taXNlLmNhdGNoKCgpPT57fSksZS5sZW5ndGg9PT0xP2Uobik6ZShuLHIpKX19fWZ1bmN0aW9uIGsxKHQsZSl7aWYodC51aWQpdGhyb3cgbmV3IEVycm9yKCdUaGUgInVpZCIgZmllbGQgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCBieSBtb2NrVXNlclRva2VuLiBQbGVhc2UgdXNlICJzdWIiIGluc3RlYWQgZm9yIEZpcmViYXNlIEF1dGggVXNlciBJRC4nKTtjb25zdCBuPXthbGc6Im5vbmUiLHR5cGU6IkpXVCJ9LHI9ZXx8ImRlbW8tcHJvamVjdCIsaT10LmlhdHx8MCxzPXQuc3VifHx0LnVzZXJfaWQ7aWYoIXMpdGhyb3cgbmV3IEVycm9yKCJtb2NrVXNlclRva2VuIG11c3QgY29udGFpbiAnc3ViJyBvciAndXNlcl9pZCcgZmllbGQhIik7Y29uc3Qgbz1PYmplY3QuYXNzaWduKHtpc3M6YGh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS8ke3J9YCxhdWQ6cixpYXQ6aSxleHA6aSszNjAwLGF1dGhfdGltZTppLHN1YjpzLHVzZXJfaWQ6cyxmaXJlYmFzZTp7c2lnbl9pbl9wcm92aWRlcjoiY3VzdG9tIixpZGVudGl0aWVzOnt9fX0sdCk7cmV0dXJuW0FjKEpTT04uc3RyaW5naWZ5KG4pKSxBYyhKU09OLnN0cmluZ2lmeShvKSksIiJdLmpvaW4oIi4iKX1mdW5jdGlvbiAkZSgpe3JldHVybiB0eXBlb2YgbmF2aWdhdG9yPCJ1IiYmdHlwZW9mIG5hdmlnYXRvci51c2VyQWdlbnQ9PSJzdHJpbmciP25hdmlnYXRvci51c2VyQWdlbnQ6IiJ9ZnVuY3Rpb24gTzEoKXtyZXR1cm4gdHlwZW9mIHdpbmRvdzwidSImJiEhKHdpbmRvdy5jb3Jkb3ZhfHx3aW5kb3cucGhvbmVnYXB8fHdpbmRvdy5QaG9uZUdhcCkmJi9pb3N8aXBob25lfGlwb2R8aXBhZHxhbmRyb2lkfGJsYWNrYmVycnl8aWVtb2JpbGUvaS50ZXN0KCRlKCkpfWZ1bmN0aW9uIHgxKCl7dmFyIHQ7Y29uc3QgZT0odD1SdSgpKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQuZm9yY2VFbnZpcm9ubWVudDtpZihlPT09Im5vZGUiKXJldHVybiEwO2lmKGU9PT0iYnJvd3NlciIpcmV0dXJuITE7dHJ5e3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZ2xvYmFsLnByb2Nlc3MpPT09IltvYmplY3QgcHJvY2Vzc10ifWNhdGNoe3JldHVybiExfX1mdW5jdGlvbiBMMSgpe2NvbnN0IHQ9dHlwZW9mIGNocm9tZT09Im9iamVjdCI/Y2hyb21lLnJ1bnRpbWU6dHlwZW9mIGJyb3dzZXI9PSJvYmplY3QiP2Jyb3dzZXIucnVudGltZTp2b2lkIDA7cmV0dXJuIHR5cGVvZiB0PT0ib2JqZWN0IiYmdC5pZCE9PXZvaWQgMH1mdW5jdGlvbiBWMSgpe3JldHVybiB0eXBlb2YgbmF2aWdhdG9yPT0ib2JqZWN0IiYmbmF2aWdhdG9yLnByb2R1Y3Q9PT0iUmVhY3ROYXRpdmUifWZ1bmN0aW9uIEYxKCl7Y29uc3QgdD0kZSgpO3JldHVybiB0LmluZGV4T2YoIk1TSUUgIik+PTB8fHQuaW5kZXhPZigiVHJpZGVudC8iKT49MH1mdW5jdGlvbiBVMSgpe3JldHVybiF4MSgpJiYhIW5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoIlNhZmFyaSIpJiYhbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcygiQ2hyb21lIil9ZnVuY3Rpb24gU1QoKXt0cnl7cmV0dXJuIHR5cGVvZiBpbmRleGVkREI9PSJvYmplY3QifWNhdGNoe3JldHVybiExfX1mdW5jdGlvbiBqMSgpe3JldHVybiBuZXcgUHJvbWlzZSgodCxlKT0+e3RyeXtsZXQgbj0hMDtjb25zdCByPSJ2YWxpZGF0ZS1icm93c2VyLWNvbnRleHQtZm9yLWluZGV4ZWRkYi1hbmFseXRpY3MtbW9kdWxlIixpPXNlbGYuaW5kZXhlZERCLm9wZW4ocik7aS5vbnN1Y2Nlc3M9KCk9PntpLnJlc3VsdC5jbG9zZSgpLG58fHNlbGYuaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKHIpLHQoITApfSxpLm9udXBncmFkZW5lZWRlZD0oKT0+e249ITF9LGkub25lcnJvcj0oKT0+e3ZhciBzO2UoKChzPWkuZXJyb3IpPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy5tZXNzYWdlKXx8IiIpfX1jYXRjaChuKXtlKG4pfX0pfWNvbnN0ICQxPSJGaXJlYmFzZUVycm9yIjtjbGFzcyBLbiBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsbixyKXtzdXBlcihuKSx0aGlzLmNvZGU9ZSx0aGlzLmN1c3RvbURhdGE9cix0aGlzLm5hbWU9JDEsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsS24ucHJvdG90eXBlKSxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSYmRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxaby5wcm90b3R5cGUuY3JlYXRlKX19Y2xhc3MgWm97Y29uc3RydWN0b3IoZSxuLHIpe3RoaXMuc2VydmljZT1lLHRoaXMuc2VydmljZU5hbWU9bix0aGlzLmVycm9ycz1yfWNyZWF0ZShlLC4uLm4pe2NvbnN0IHI9blswXXx8e30saT1gJHt0aGlzLnNlcnZpY2V9LyR7ZX1gLHM9dGhpcy5lcnJvcnNbZV0sbz1zP0IxKHMscik6IkVycm9yIixhPWAke3RoaXMuc2VydmljZU5hbWV9OiAke299ICgke2l9KS5gO3JldHVybiBuZXcgS24oaSxhLHIpfX1mdW5jdGlvbiBCMSh0LGUpe3JldHVybiB0LnJlcGxhY2UoSDEsKG4scik9Pntjb25zdCBpPWVbcl07cmV0dXJuIGkhPW51bGw/U3RyaW5nKGkpOmA8JHtyfT8+YH0pfWNvbnN0IEgxPS9ce1wkKFtefV0rKX0vZztmdW5jdGlvbiBxMSh0KXtmb3IoY29uc3QgZSBpbiB0KWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIFJjKHQsZSl7aWYodD09PWUpcmV0dXJuITA7Y29uc3Qgbj1PYmplY3Qua2V5cyh0KSxyPU9iamVjdC5rZXlzKGUpO2Zvcihjb25zdCBpIG9mIG4pe2lmKCFyLmluY2x1ZGVzKGkpKXJldHVybiExO2NvbnN0IHM9dFtpXSxvPWVbaV07aWYoYXkocykmJmF5KG8pKXtpZighUmMocyxvKSlyZXR1cm4hMX1lbHNlIGlmKHMhPT1vKXJldHVybiExfWZvcihjb25zdCBpIG9mIHIpaWYoIW4uaW5jbHVkZXMoaSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gYXkodCl7cmV0dXJuIHQhPT1udWxsJiZ0eXBlb2YgdD09Im9iamVjdCJ9ZnVuY3Rpb24gWG8odCl7Y29uc3QgZT1bXTtmb3IoY29uc3RbbixyXW9mIE9iamVjdC5lbnRyaWVzKHQpKUFycmF5LmlzQXJyYXkocik/ci5mb3JFYWNoKGk9PntlLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KG4pKyI9IitlbmNvZGVVUklDb21wb25lbnQoaSkpfSk6ZS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChuKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KHIpKTtyZXR1cm4gZS5sZW5ndGg/IiYiK2Uuam9pbigiJiIpOiIifWZ1bmN0aW9uIHoxKHQsZSl7Y29uc3Qgbj1uZXcgVzEodCxlKTtyZXR1cm4gbi5zdWJzY3JpYmUuYmluZChuKX1jbGFzcyBXMXtjb25zdHJ1Y3RvcihlLG4pe3RoaXMub2JzZXJ2ZXJzPVtdLHRoaXMudW5zdWJzY3JpYmVzPVtdLHRoaXMub2JzZXJ2ZXJDb3VudD0wLHRoaXMudGFzaz1Qcm9taXNlLnJlc29sdmUoKSx0aGlzLmZpbmFsaXplZD0hMSx0aGlzLm9uTm9PYnNlcnZlcnM9bix0aGlzLnRhc2sudGhlbigoKT0+e2UodGhpcyl9KS5jYXRjaChyPT57dGhpcy5lcnJvcihyKX0pfW5leHQoZSl7dGhpcy5mb3JFYWNoT2JzZXJ2ZXIobj0+e24ubmV4dChlKX0pfWVycm9yKGUpe3RoaXMuZm9yRWFjaE9ic2VydmVyKG49PntuLmVycm9yKGUpfSksdGhpcy5jbG9zZShlKX1jb21wbGV0ZSgpe3RoaXMuZm9yRWFjaE9ic2VydmVyKGU9PntlLmNvbXBsZXRlKCl9KSx0aGlzLmNsb3NlKCl9c3Vic2NyaWJlKGUsbixyKXtsZXQgaTtpZihlPT09dm9pZCAwJiZuPT09dm9pZCAwJiZyPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcigiTWlzc2luZyBPYnNlcnZlci4iKTtHMShlLFsibmV4dCIsImVycm9yIiwiY29tcGxldGUiXSk/aT1lOmk9e25leHQ6ZSxlcnJvcjpuLGNvbXBsZXRlOnJ9LGkubmV4dD09PXZvaWQgMCYmKGkubmV4dD1CbCksaS5lcnJvcj09PXZvaWQgMCYmKGkuZXJyb3I9QmwpLGkuY29tcGxldGU9PT12b2lkIDAmJihpLmNvbXBsZXRlPUJsKTtjb25zdCBzPXRoaXMudW5zdWJzY3JpYmVPbmUuYmluZCh0aGlzLHRoaXMub2JzZXJ2ZXJzLmxlbmd0aCk7cmV0dXJuIHRoaXMuZmluYWxpemVkJiZ0aGlzLnRhc2sudGhlbigoKT0+e3RyeXt0aGlzLmZpbmFsRXJyb3I/aS5lcnJvcih0aGlzLmZpbmFsRXJyb3IpOmkuY29tcGxldGUoKX1jYXRjaHt9fSksdGhpcy5vYnNlcnZlcnMucHVzaChpKSxzfXVuc3Vic2NyaWJlT25lKGUpe3RoaXMub2JzZXJ2ZXJzPT09dm9pZCAwfHx0aGlzLm9ic2VydmVyc1tlXT09PXZvaWQgMHx8KGRlbGV0ZSB0aGlzLm9ic2VydmVyc1tlXSx0aGlzLm9ic2VydmVyQ291bnQtPTEsdGhpcy5vYnNlcnZlckNvdW50PT09MCYmdGhpcy5vbk5vT2JzZXJ2ZXJzIT09dm9pZCAwJiZ0aGlzLm9uTm9PYnNlcnZlcnModGhpcykpfWZvckVhY2hPYnNlcnZlcihlKXtpZighdGhpcy5maW5hbGl6ZWQpZm9yKGxldCBuPTA7bjx0aGlzLm9ic2VydmVycy5sZW5ndGg7bisrKXRoaXMuc2VuZE9uZShuLGUpfXNlbmRPbmUoZSxuKXt0aGlzLnRhc2sudGhlbigoKT0+e2lmKHRoaXMub2JzZXJ2ZXJzIT09dm9pZCAwJiZ0aGlzLm9ic2VydmVyc1tlXSE9PXZvaWQgMCl0cnl7bih0aGlzLm9ic2VydmVyc1tlXSl9Y2F0Y2gocil7dHlwZW9mIGNvbnNvbGU8InUiJiZjb25zb2xlLmVycm9yJiZjb25zb2xlLmVycm9yKHIpfX0pfWNsb3NlKGUpe3RoaXMuZmluYWxpemVkfHwodGhpcy5maW5hbGl6ZWQ9ITAsZSE9PXZvaWQgMCYmKHRoaXMuZmluYWxFcnJvcj1lKSx0aGlzLnRhc2sudGhlbigoKT0+e3RoaXMub2JzZXJ2ZXJzPXZvaWQgMCx0aGlzLm9uTm9PYnNlcnZlcnM9dm9pZCAwfSkpfX1mdW5jdGlvbiBHMSh0LGUpe2lmKHR5cGVvZiB0IT0ib2JqZWN0Inx8dD09PW51bGwpcmV0dXJuITE7Zm9yKGNvbnN0IG4gb2YgZSlpZihuIGluIHQmJnR5cGVvZiB0W25dPT0iZnVuY3Rpb24iKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIEJsKCl7fWZ1bmN0aW9uIG90KHQpe3JldHVybiB0JiZ0Ll9kZWxlZ2F0ZT90Ll9kZWxlZ2F0ZTp0fWNsYXNzIHpye2NvbnN0cnVjdG9yKGUsbixyKXt0aGlzLm5hbWU9ZSx0aGlzLmluc3RhbmNlRmFjdG9yeT1uLHRoaXMudHlwZT1yLHRoaXMubXVsdGlwbGVJbnN0YW5jZXM9ITEsdGhpcy5zZXJ2aWNlUHJvcHM9e30sdGhpcy5pbnN0YW50aWF0aW9uTW9kZT0iTEFaWSIsdGhpcy5vbkluc3RhbmNlQ3JlYXRlZD1udWxsfXNldEluc3RhbnRpYXRpb25Nb2RlKGUpe3JldHVybiB0aGlzLmluc3RhbnRpYXRpb25Nb2RlPWUsdGhpc31zZXRNdWx0aXBsZUluc3RhbmNlcyhlKXtyZXR1cm4gdGhpcy5tdWx0aXBsZUluc3RhbmNlcz1lLHRoaXN9c2V0U2VydmljZVByb3BzKGUpe3JldHVybiB0aGlzLnNlcnZpY2VQcm9wcz1lLHRoaXN9c2V0SW5zdGFuY2VDcmVhdGVkQ2FsbGJhY2soZSl7cmV0dXJuIHRoaXMub25JbnN0YW5jZUNyZWF0ZWQ9ZSx0aGlzfX1jb25zdCBUcj0iW0RFRkFVTFRdIjtjbGFzcyBLMXtjb25zdHJ1Y3RvcihlLG4pe3RoaXMubmFtZT1lLHRoaXMuY29udGFpbmVyPW4sdGhpcy5jb21wb25lbnQ9bnVsbCx0aGlzLmluc3RhbmNlcz1uZXcgTWFwLHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQ9bmV3IE1hcCx0aGlzLmluc3RhbmNlc09wdGlvbnM9bmV3IE1hcCx0aGlzLm9uSW5pdENhbGxiYWNrcz1uZXcgTWFwfWdldChlKXtjb25zdCBuPXRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGUpO2lmKCF0aGlzLmluc3RhbmNlc0RlZmVycmVkLmhhcyhuKSl7Y29uc3Qgcj1uZXcgTjE7aWYodGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5zZXQobixyKSx0aGlzLmlzSW5pdGlhbGl6ZWQobil8fHRoaXMuc2hvdWxkQXV0b0luaXRpYWxpemUoKSl0cnl7Y29uc3QgaT10aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uoe2luc3RhbmNlSWRlbnRpZmllcjpufSk7aSYmci5yZXNvbHZlKGkpfWNhdGNoe319cmV0dXJuIHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuZ2V0KG4pLnByb21pc2V9Z2V0SW1tZWRpYXRlKGUpe3ZhciBuO2NvbnN0IHI9dGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIoZT8uaWRlbnRpZmllciksaT0obj1lPy5vcHRpb25hbCkhPT1udWxsJiZuIT09dm9pZCAwP246ITE7aWYodGhpcy5pc0luaXRpYWxpemVkKHIpfHx0aGlzLnNob3VsZEF1dG9Jbml0aWFsaXplKCkpdHJ5e3JldHVybiB0aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uoe2luc3RhbmNlSWRlbnRpZmllcjpyfSl9Y2F0Y2gocyl7aWYoaSlyZXR1cm4gbnVsbDt0aHJvdyBzfWVsc2V7aWYoaSlyZXR1cm4gbnVsbDt0aHJvdyBFcnJvcihgU2VydmljZSAke3RoaXMubmFtZX0gaXMgbm90IGF2YWlsYWJsZWApfX1nZXRDb21wb25lbnQoKXtyZXR1cm4gdGhpcy5jb21wb25lbnR9c2V0Q29tcG9uZW50KGUpe2lmKGUubmFtZSE9PXRoaXMubmFtZSl0aHJvdyBFcnJvcihgTWlzbWF0Y2hpbmcgQ29tcG9uZW50ICR7ZS5uYW1lfSBmb3IgUHJvdmlkZXIgJHt0aGlzLm5hbWV9LmApO2lmKHRoaXMuY29tcG9uZW50KXRocm93IEVycm9yKGBDb21wb25lbnQgZm9yICR7dGhpcy5uYW1lfSBoYXMgYWxyZWFkeSBiZWVuIHByb3ZpZGVkYCk7aWYodGhpcy5jb21wb25lbnQ9ZSwhIXRoaXMuc2hvdWxkQXV0b0luaXRpYWxpemUoKSl7aWYoWjEoZSkpdHJ5e3RoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7aW5zdGFuY2VJZGVudGlmaWVyOlRyfSl9Y2F0Y2h7fWZvcihjb25zdFtuLHJdb2YgdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5lbnRyaWVzKCkpe2NvbnN0IGk9dGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIobik7dHJ5e2NvbnN0IHM9dGhpcy5nZXRPckluaXRpYWxpemVTZXJ2aWNlKHtpbnN0YW5jZUlkZW50aWZpZXI6aX0pO3IucmVzb2x2ZShzKX1jYXRjaHt9fX19Y2xlYXJJbnN0YW5jZShlPVRyKXt0aGlzLmluc3RhbmNlc0RlZmVycmVkLmRlbGV0ZShlKSx0aGlzLmluc3RhbmNlc09wdGlvbnMuZGVsZXRlKGUpLHRoaXMuaW5zdGFuY2VzLmRlbGV0ZShlKX1kZWxldGUoKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3QgZT1BcnJheS5mcm9tKHRoaXMuaW5zdGFuY2VzLnZhbHVlcygpKTt5aWVsZCBQcm9taXNlLmFsbChbLi4uZS5maWx0ZXIobj0+IklOVEVSTkFMImluIG4pLm1hcChuPT5uLklOVEVSTkFMLmRlbGV0ZSgpKSwuLi5lLmZpbHRlcihuPT4iX2RlbGV0ZSJpbiBuKS5tYXAobj0+bi5fZGVsZXRlKCkpXSl9KX1pc0NvbXBvbmVudFNldCgpe3JldHVybiB0aGlzLmNvbXBvbmVudCE9bnVsbH1pc0luaXRpYWxpemVkKGU9VHIpe3JldHVybiB0aGlzLmluc3RhbmNlcy5oYXMoZSl9Z2V0T3B0aW9ucyhlPVRyKXtyZXR1cm4gdGhpcy5pbnN0YW5jZXNPcHRpb25zLmdldChlKXx8e319aW5pdGlhbGl6ZShlPXt9KXtjb25zdHtvcHRpb25zOm49e319PWUscj10aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihlLmluc3RhbmNlSWRlbnRpZmllcik7aWYodGhpcy5pc0luaXRpYWxpemVkKHIpKXRocm93IEVycm9yKGAke3RoaXMubmFtZX0oJHtyfSkgaGFzIGFscmVhZHkgYmVlbiBpbml0aWFsaXplZGApO2lmKCF0aGlzLmlzQ29tcG9uZW50U2V0KCkpdGhyb3cgRXJyb3IoYENvbXBvbmVudCAke3RoaXMubmFtZX0gaGFzIG5vdCBiZWVuIHJlZ2lzdGVyZWQgeWV0YCk7Y29uc3QgaT10aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uoe2luc3RhbmNlSWRlbnRpZmllcjpyLG9wdGlvbnM6bn0pO2Zvcihjb25zdFtzLG9db2YgdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5lbnRyaWVzKCkpe2NvbnN0IGE9dGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIocyk7cj09PWEmJm8ucmVzb2x2ZShpKX1yZXR1cm4gaX1vbkluaXQoZSxuKXt2YXIgcjtjb25zdCBpPXRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKG4pLHM9KHI9dGhpcy5vbkluaXRDYWxsYmFja3MuZ2V0KGkpKSE9PW51bGwmJnIhPT12b2lkIDA/cjpuZXcgU2V0O3MuYWRkKGUpLHRoaXMub25Jbml0Q2FsbGJhY2tzLnNldChpLHMpO2NvbnN0IG89dGhpcy5pbnN0YW5jZXMuZ2V0KGkpO3JldHVybiBvJiZlKG8saSksKCk9PntzLmRlbGV0ZShlKX19aW52b2tlT25Jbml0Q2FsbGJhY2tzKGUsbil7Y29uc3Qgcj10aGlzLm9uSW5pdENhbGxiYWNrcy5nZXQobik7aWYocilmb3IoY29uc3QgaSBvZiByKXRyeXtpKGUsbil9Y2F0Y2h7fX1nZXRPckluaXRpYWxpemVTZXJ2aWNlKHtpbnN0YW5jZUlkZW50aWZpZXI6ZSxvcHRpb25zOm49e319KXtsZXQgcj10aGlzLmluc3RhbmNlcy5nZXQoZSk7aWYoIXImJnRoaXMuY29tcG9uZW50JiYocj10aGlzLmNvbXBvbmVudC5pbnN0YW5jZUZhY3RvcnkodGhpcy5jb250YWluZXIse2luc3RhbmNlSWRlbnRpZmllcjpRMShlKSxvcHRpb25zOm59KSx0aGlzLmluc3RhbmNlcy5zZXQoZSxyKSx0aGlzLmluc3RhbmNlc09wdGlvbnMuc2V0KGUsbiksdGhpcy5pbnZva2VPbkluaXRDYWxsYmFja3MocixlKSx0aGlzLmNvbXBvbmVudC5vbkluc3RhbmNlQ3JlYXRlZCkpdHJ5e3RoaXMuY29tcG9uZW50Lm9uSW5zdGFuY2VDcmVhdGVkKHRoaXMuY29udGFpbmVyLGUscil9Y2F0Y2h7fXJldHVybiByfHxudWxsfW5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihlPVRyKXtyZXR1cm4gdGhpcy5jb21wb25lbnQ/dGhpcy5jb21wb25lbnQubXVsdGlwbGVJbnN0YW5jZXM/ZTpUcjplfXNob3VsZEF1dG9Jbml0aWFsaXplKCl7cmV0dXJuISF0aGlzLmNvbXBvbmVudCYmdGhpcy5jb21wb25lbnQuaW5zdGFudGlhdGlvbk1vZGUhPT0iRVhQTElDSVQifX1mdW5jdGlvbiBRMSh0KXtyZXR1cm4gdD09PVRyP3ZvaWQgMDp0fWZ1bmN0aW9uIFoxKHQpe3JldHVybiB0Lmluc3RhbnRpYXRpb25Nb2RlPT09IkVBR0VSIn1jbGFzcyBYMXtjb25zdHJ1Y3RvcihlKXt0aGlzLm5hbWU9ZSx0aGlzLnByb3ZpZGVycz1uZXcgTWFwfWFkZENvbXBvbmVudChlKXtjb25zdCBuPXRoaXMuZ2V0UHJvdmlkZXIoZS5uYW1lKTtpZihuLmlzQ29tcG9uZW50U2V0KCkpdGhyb3cgbmV3IEVycm9yKGBDb21wb25lbnQgJHtlLm5hbWV9IGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCB3aXRoICR7dGhpcy5uYW1lfWApO24uc2V0Q29tcG9uZW50KGUpfWFkZE9yT3ZlcndyaXRlQ29tcG9uZW50KGUpe3RoaXMuZ2V0UHJvdmlkZXIoZS5uYW1lKS5pc0NvbXBvbmVudFNldCgpJiZ0aGlzLnByb3ZpZGVycy5kZWxldGUoZS5uYW1lKSx0aGlzLmFkZENvbXBvbmVudChlKX1nZXRQcm92aWRlcihlKXtpZih0aGlzLnByb3ZpZGVycy5oYXMoZSkpcmV0dXJuIHRoaXMucHJvdmlkZXJzLmdldChlKTtjb25zdCBuPW5ldyBLMShlLHRoaXMpO3JldHVybiB0aGlzLnByb3ZpZGVycy5zZXQoZSxuKSxufWdldFByb3ZpZGVycygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMucHJvdmlkZXJzLnZhbHVlcygpKX19dmFyIGdlPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuREVCVUc9MF09IkRFQlVHIix0W3QuVkVSQk9TRT0xXT0iVkVSQk9TRSIsdFt0LklORk89Ml09IklORk8iLHRbdC5XQVJOPTNdPSJXQVJOIix0W3QuRVJST1I9NF09IkVSUk9SIix0W3QuU0lMRU5UPTVdPSJTSUxFTlQiLHR9KGdlfHx7fSk7Y29uc3QgWTE9e2RlYnVnOmdlLkRFQlVHLHZlcmJvc2U6Z2UuVkVSQk9TRSxpbmZvOmdlLklORk8sd2FybjpnZS5XQVJOLGVycm9yOmdlLkVSUk9SLHNpbGVudDpnZS5TSUxFTlR9LEoxPWdlLklORk8sZVY9e1tnZS5ERUJVR106ImxvZyIsW2dlLlZFUkJPU0VdOiJsb2ciLFtnZS5JTkZPXToiaW5mbyIsW2dlLldBUk5dOiJ3YXJuIixbZ2UuRVJST1JdOiJlcnJvciJ9LHRWPSh0LGUsLi4ubik9PntpZihlPHQubG9nTGV2ZWwpcmV0dXJuO2NvbnN0IHI9bmV3IERhdGUoKS50b0lTT1N0cmluZygpLGk9ZVZbZV07aWYoaSljb25zb2xlW2ldKGBbJHtyfV0gICR7dC5uYW1lfTpgLC4uLm4pO2Vsc2UgdGhyb3cgbmV3IEVycm9yKGBBdHRlbXB0ZWQgdG8gbG9nIGEgbWVzc2FnZSB3aXRoIGFuIGludmFsaWQgbG9nVHlwZSAodmFsdWU6ICR7ZX0pYCl9O2NsYXNzIHVwe2NvbnN0cnVjdG9yKGUpe3RoaXMubmFtZT1lLHRoaXMuX2xvZ0xldmVsPUoxLHRoaXMuX2xvZ0hhbmRsZXI9dFYsdGhpcy5fdXNlckxvZ0hhbmRsZXI9bnVsbH1nZXQgbG9nTGV2ZWwoKXtyZXR1cm4gdGhpcy5fbG9nTGV2ZWx9c2V0IGxvZ0xldmVsKGUpe2lmKCEoZSBpbiBnZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCB2YWx1ZSAiJHtlfSIgYXNzaWduZWQgdG8gXGBsb2dMZXZlbFxgYCk7dGhpcy5fbG9nTGV2ZWw9ZX1zZXRMb2dMZXZlbChlKXt0aGlzLl9sb2dMZXZlbD10eXBlb2YgZT09InN0cmluZyI/WTFbZV06ZX1nZXQgbG9nSGFuZGxlcigpe3JldHVybiB0aGlzLl9sb2dIYW5kbGVyfXNldCBsb2dIYW5kbGVyKGUpe2lmKHR5cGVvZiBlIT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoIlZhbHVlIGFzc2lnbmVkIHRvIGBsb2dIYW5kbGVyYCBtdXN0IGJlIGEgZnVuY3Rpb24iKTt0aGlzLl9sb2dIYW5kbGVyPWV9Z2V0IHVzZXJMb2dIYW5kbGVyKCl7cmV0dXJuIHRoaXMuX3VzZXJMb2dIYW5kbGVyfXNldCB1c2VyTG9nSGFuZGxlcihlKXt0aGlzLl91c2VyTG9nSGFuZGxlcj1lfWRlYnVnKC4uLmUpe3RoaXMuX3VzZXJMb2dIYW5kbGVyJiZ0aGlzLl91c2VyTG9nSGFuZGxlcih0aGlzLGdlLkRFQlVHLC4uLmUpLHRoaXMuX2xvZ0hhbmRsZXIodGhpcyxnZS5ERUJVRywuLi5lKX1sb2coLi4uZSl7dGhpcy5fdXNlckxvZ0hhbmRsZXImJnRoaXMuX3VzZXJMb2dIYW5kbGVyKHRoaXMsZ2UuVkVSQk9TRSwuLi5lKSx0aGlzLl9sb2dIYW5kbGVyKHRoaXMsZ2UuVkVSQk9TRSwuLi5lKX1pbmZvKC4uLmUpe3RoaXMuX3VzZXJMb2dIYW5kbGVyJiZ0aGlzLl91c2VyTG9nSGFuZGxlcih0aGlzLGdlLklORk8sLi4uZSksdGhpcy5fbG9nSGFuZGxlcih0aGlzLGdlLklORk8sLi4uZSl9d2FybiguLi5lKXt0aGlzLl91c2VyTG9nSGFuZGxlciYmdGhpcy5fdXNlckxvZ0hhbmRsZXIodGhpcyxnZS5XQVJOLC4uLmUpLHRoaXMuX2xvZ0hhbmRsZXIodGhpcyxnZS5XQVJOLC4uLmUpfWVycm9yKC4uLmUpe3RoaXMuX3VzZXJMb2dIYW5kbGVyJiZ0aGlzLl91c2VyTG9nSGFuZGxlcih0aGlzLGdlLkVSUk9SLC4uLmUpLHRoaXMuX2xvZ0hhbmRsZXIodGhpcyxnZS5FUlJPUiwuLi5lKX19Y29uc3QgblY9KHQsZSk9PmUuc29tZShuPT50IGluc3RhbmNlb2Ygbik7bGV0IGN5LHV5O2Z1bmN0aW9uIHJWKCl7cmV0dXJuIGN5fHwoY3k9W0lEQkRhdGFiYXNlLElEQk9iamVjdFN0b3JlLElEQkluZGV4LElEQkN1cnNvcixJREJUcmFuc2FjdGlvbl0pfWZ1bmN0aW9uIGlWKCl7cmV0dXJuIHV5fHwodXk9W0lEQkN1cnNvci5wcm90b3R5cGUuYWR2YW5jZSxJREJDdXJzb3IucHJvdG90eXBlLmNvbnRpbnVlLElEQkN1cnNvci5wcm90b3R5cGUuY29udGludWVQcmltYXJ5S2V5XSl9Y29uc3QgQ1Q9bmV3IFdlYWtNYXAsYWQ9bmV3IFdlYWtNYXAsQVQ9bmV3IFdlYWtNYXAsSGw9bmV3IFdlYWtNYXAsbHA9bmV3IFdlYWtNYXA7ZnVuY3Rpb24gc1YodCl7Y29uc3QgZT1uZXcgUHJvbWlzZSgobixyKT0+e2NvbnN0IGk9KCk9Pnt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoInN1Y2Nlc3MiLHMpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZXJyb3IiLG8pfSxzPSgpPT57bihpcih0LnJlc3VsdCkpLGkoKX0sbz0oKT0+e3IodC5lcnJvciksaSgpfTt0LmFkZEV2ZW50TGlzdGVuZXIoInN1Y2Nlc3MiLHMpLHQuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLG8pfSk7cmV0dXJuIGUudGhlbihuPT57biBpbnN0YW5jZW9mIElEQkN1cnNvciYmQ1Quc2V0KG4sdCl9KS5jYXRjaCgoKT0+e30pLGxwLnNldChlLHQpLGV9ZnVuY3Rpb24gb1YodCl7aWYoYWQuaGFzKHQpKXJldHVybjtjb25zdCBlPW5ldyBQcm9taXNlKChuLHIpPT57Y29uc3QgaT0oKT0+e3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY29tcGxldGUiLHMpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZXJyb3IiLG8pLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYWJvcnQiLG8pfSxzPSgpPT57bigpLGkoKX0sbz0oKT0+e3IodC5lcnJvcnx8bmV3IERPTUV4Y2VwdGlvbigiQWJvcnRFcnJvciIsIkFib3J0RXJyb3IiKSksaSgpfTt0LmFkZEV2ZW50TGlzdGVuZXIoImNvbXBsZXRlIixzKSx0LmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixvKSx0LmFkZEV2ZW50TGlzdGVuZXIoImFib3J0IixvKX0pO2FkLnNldCh0LGUpfWxldCBjZD17Z2V0KHQsZSxuKXtpZih0IGluc3RhbmNlb2YgSURCVHJhbnNhY3Rpb24pe2lmKGU9PT0iZG9uZSIpcmV0dXJuIGFkLmdldCh0KTtpZihlPT09Im9iamVjdFN0b3JlTmFtZXMiKXJldHVybiB0Lm9iamVjdFN0b3JlTmFtZXN8fEFULmdldCh0KTtpZihlPT09InN0b3JlIilyZXR1cm4gbi5vYmplY3RTdG9yZU5hbWVzWzFdP3ZvaWQgMDpuLm9iamVjdFN0b3JlKG4ub2JqZWN0U3RvcmVOYW1lc1swXSl9cmV0dXJuIGlyKHRbZV0pfSxzZXQodCxlLG4pe3JldHVybiB0W2VdPW4sITB9LGhhcyh0LGUpe3JldHVybiB0IGluc3RhbmNlb2YgSURCVHJhbnNhY3Rpb24mJihlPT09ImRvbmUifHxlPT09InN0b3JlIik/ITA6ZSBpbiB0fX07ZnVuY3Rpb24gYVYodCl7Y2Q9dChjZCl9ZnVuY3Rpb24gY1YodCl7cmV0dXJuIHQ9PT1JREJEYXRhYmFzZS5wcm90b3R5cGUudHJhbnNhY3Rpb24mJiEoIm9iamVjdFN0b3JlTmFtZXMiaW4gSURCVHJhbnNhY3Rpb24ucHJvdG90eXBlKT9mdW5jdGlvbihlLC4uLm4pe2NvbnN0IHI9dC5jYWxsKHFsKHRoaXMpLGUsLi4ubik7cmV0dXJuIEFULnNldChyLGUuc29ydD9lLnNvcnQoKTpbZV0pLGlyKHIpfTppVigpLmluY2x1ZGVzKHQpP2Z1bmN0aW9uKC4uLmUpe3JldHVybiB0LmFwcGx5KHFsKHRoaXMpLGUpLGlyKENULmdldCh0aGlzKSl9OmZ1bmN0aW9uKC4uLmUpe3JldHVybiBpcih0LmFwcGx5KHFsKHRoaXMpLGUpKX19ZnVuY3Rpb24gdVYodCl7cmV0dXJuIHR5cGVvZiB0PT0iZnVuY3Rpb24iP2NWKHQpOih0IGluc3RhbmNlb2YgSURCVHJhbnNhY3Rpb24mJm9WKHQpLG5WKHQsclYoKSk/bmV3IFByb3h5KHQsY2QpOnQpfWZ1bmN0aW9uIGlyKHQpe2lmKHQgaW5zdGFuY2VvZiBJREJSZXF1ZXN0KXJldHVybiBzVih0KTtpZihIbC5oYXModCkpcmV0dXJuIEhsLmdldCh0KTtjb25zdCBlPXVWKHQpO3JldHVybiBlIT09dCYmKEhsLnNldCh0LGUpLGxwLnNldChlLHQpKSxlfWNvbnN0IHFsPXQ9PmxwLmdldCh0KTtmdW5jdGlvbiBsVih0LGUse2Jsb2NrZWQ6bix1cGdyYWRlOnIsYmxvY2tpbmc6aSx0ZXJtaW5hdGVkOnN9PXt9KXtjb25zdCBvPWluZGV4ZWREQi5vcGVuKHQsZSksYT1pcihvKTtyZXR1cm4gciYmby5hZGRFdmVudExpc3RlbmVyKCJ1cGdyYWRlbmVlZGVkIixjPT57cihpcihvLnJlc3VsdCksYy5vbGRWZXJzaW9uLGMubmV3VmVyc2lvbixpcihvLnRyYW5zYWN0aW9uKSxjKX0pLG4mJm8uYWRkRXZlbnRMaXN0ZW5lcigiYmxvY2tlZCIsYz0+bihjLm9sZFZlcnNpb24sYy5uZXdWZXJzaW9uLGMpKSxhLnRoZW4oYz0+e3MmJmMuYWRkRXZlbnRMaXN0ZW5lcigiY2xvc2UiLCgpPT5zKCkpLGkmJmMuYWRkRXZlbnRMaXN0ZW5lcigidmVyc2lvbmNoYW5nZSIsdT0+aSh1Lm9sZFZlcnNpb24sdS5uZXdWZXJzaW9uLHUpKX0pLmNhdGNoKCgpPT57fSksYX1jb25zdCBoVj1bImdldCIsImdldEtleSIsImdldEFsbCIsImdldEFsbEtleXMiLCJjb3VudCJdLGRWPVsicHV0IiwiYWRkIiwiZGVsZXRlIiwiY2xlYXIiXSx6bD1uZXcgTWFwO2Z1bmN0aW9uIGx5KHQsZSl7aWYoISh0IGluc3RhbmNlb2YgSURCRGF0YWJhc2UmJiEoZSBpbiB0KSYmdHlwZW9mIGU9PSJzdHJpbmciKSlyZXR1cm47aWYoemwuZ2V0KGUpKXJldHVybiB6bC5nZXQoZSk7Y29uc3Qgbj1lLnJlcGxhY2UoL0Zyb21JbmRleCQvLCIiKSxyPWUhPT1uLGk9ZFYuaW5jbHVkZXMobik7aWYoIShuIGluKHI/SURCSW5kZXg6SURCT2JqZWN0U3RvcmUpLnByb3RvdHlwZSl8fCEoaXx8aFYuaW5jbHVkZXMobikpKXJldHVybjtjb25zdCBzPWZ1bmN0aW9uKG8sLi4uYSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0IGM9dGhpcy50cmFuc2FjdGlvbihvLGk/InJlYWR3cml0ZSI6InJlYWRvbmx5Iik7bGV0IHU9Yy5zdG9yZTtyZXR1cm4gciYmKHU9dS5pbmRleChhLnNoaWZ0KCkpKSwoeWllbGQgUHJvbWlzZS5hbGwoW3Vbbl0oLi4uYSksaSYmYy5kb25lXSkpWzBdfSl9O3JldHVybiB6bC5zZXQoZSxzKSxzfWFWKHQ9Pih7Li4udCxnZXQ6KGUsbixyKT0+bHkoZSxuKXx8dC5nZXQoZSxuLHIpLGhhczooZSxuKT0+ISFseShlLG4pfHx0LmhhcyhlLG4pfSkpO2NsYXNzIGZWe2NvbnN0cnVjdG9yKGUpe3RoaXMuY29udGFpbmVyPWV9Z2V0UGxhdGZvcm1JbmZvU3RyaW5nKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyLmdldFByb3ZpZGVycygpLm1hcChuPT57aWYocFYobikpe2NvbnN0IHI9bi5nZXRJbW1lZGlhdGUoKTtyZXR1cm5gJHtyLmxpYnJhcnl9LyR7ci52ZXJzaW9ufWB9ZWxzZSByZXR1cm4gbnVsbH0pLmZpbHRlcihuPT5uKS5qb2luKCIgIil9fWZ1bmN0aW9uIHBWKHQpe2NvbnN0IGU9dC5nZXRDb21wb25lbnQoKTtyZXR1cm4gZT8udHlwZT09PSJWRVJTSU9OIn1jb25zdCB1ZD0iQGZpcmViYXNlL2FwcCIsaHk9IjAuOS4yOCI7Y29uc3QgV3I9bmV3IHVwKCJAZmlyZWJhc2UvYXBwIiksZ1Y9IkBmaXJlYmFzZS9hcHAtY29tcGF0IixtVj0iQGZpcmViYXNlL2FuYWx5dGljcy1jb21wYXQiLHlWPSJAZmlyZWJhc2UvYW5hbHl0aWNzIix2Vj0iQGZpcmViYXNlL2FwcC1jaGVjay1jb21wYXQiLF9WPSJAZmlyZWJhc2UvYXBwLWNoZWNrIixFVj0iQGZpcmViYXNlL2F1dGgiLHdWPSJAZmlyZWJhc2UvYXV0aC1jb21wYXQiLElWPSJAZmlyZWJhc2UvZGF0YWJhc2UiLFRWPSJAZmlyZWJhc2UvZGF0YWJhc2UtY29tcGF0IixTVj0iQGZpcmViYXNlL2Z1bmN0aW9ucyIsQ1Y9IkBmaXJlYmFzZS9mdW5jdGlvbnMtY29tcGF0IixBVj0iQGZpcmViYXNlL2luc3RhbGxhdGlvbnMiLFJWPSJAZmlyZWJhc2UvaW5zdGFsbGF0aW9ucy1jb21wYXQiLGJWPSJAZmlyZWJhc2UvbWVzc2FnaW5nIixEVj0iQGZpcmViYXNlL21lc3NhZ2luZy1jb21wYXQiLFBWPSJAZmlyZWJhc2UvcGVyZm9ybWFuY2UiLE1WPSJAZmlyZWJhc2UvcGVyZm9ybWFuY2UtY29tcGF0IixOVj0iQGZpcmViYXNlL3JlbW90ZS1jb25maWciLGtWPSJAZmlyZWJhc2UvcmVtb3RlLWNvbmZpZy1jb21wYXQiLE9WPSJAZmlyZWJhc2Uvc3RvcmFnZSIseFY9IkBmaXJlYmFzZS9zdG9yYWdlLWNvbXBhdCIsTFY9IkBmaXJlYmFzZS9maXJlc3RvcmUiLFZWPSJAZmlyZWJhc2UvZmlyZXN0b3JlLWNvbXBhdCIsRlY9ImZpcmViYXNlIixVVj0iMTAuOC4xIjtjb25zdCBsZD0iW0RFRkFVTFRdIixqVj17W3VkXToiZmlyZS1jb3JlIixbZ1ZdOiJmaXJlLWNvcmUtY29tcGF0IixbeVZdOiJmaXJlLWFuYWx5dGljcyIsW21WXToiZmlyZS1hbmFseXRpY3MtY29tcGF0IixbX1ZdOiJmaXJlLWFwcC1jaGVjayIsW3ZWXToiZmlyZS1hcHAtY2hlY2stY29tcGF0IixbRVZdOiJmaXJlLWF1dGgiLFt3Vl06ImZpcmUtYXV0aC1jb21wYXQiLFtJVl06ImZpcmUtcnRkYiIsW1RWXToiZmlyZS1ydGRiLWNvbXBhdCIsW1NWXToiZmlyZS1mbiIsW0NWXToiZmlyZS1mbi1jb21wYXQiLFtBVl06ImZpcmUtaWlkIixbUlZdOiJmaXJlLWlpZC1jb21wYXQiLFtiVl06ImZpcmUtZmNtIixbRFZdOiJmaXJlLWZjbS1jb21wYXQiLFtQVl06ImZpcmUtcGVyZiIsW01WXToiZmlyZS1wZXJmLWNvbXBhdCIsW05WXToiZmlyZS1yYyIsW2tWXToiZmlyZS1yYy1jb21wYXQiLFtPVl06ImZpcmUtZ2NzIixbeFZdOiJmaXJlLWdjcy1jb21wYXQiLFtMVl06ImZpcmUtZnN0IixbVlZdOiJmaXJlLWZzdC1jb21wYXQiLCJmaXJlLWpzIjoiZmlyZS1qcyIsW0ZWXToiZmlyZS1qcy1hbGwifTtjb25zdCB5bz1uZXcgTWFwLGhkPW5ldyBNYXA7ZnVuY3Rpb24gJFYodCxlKXt0cnl7dC5jb250YWluZXIuYWRkQ29tcG9uZW50KGUpfWNhdGNoKG4pe1dyLmRlYnVnKGBDb21wb25lbnQgJHtlLm5hbWV9IGZhaWxlZCB0byByZWdpc3RlciB3aXRoIEZpcmViYXNlQXBwICR7dC5uYW1lfWAsbil9fWZ1bmN0aW9uIHFpKHQpe2NvbnN0IGU9dC5uYW1lO2lmKGhkLmhhcyhlKSlyZXR1cm4gV3IuZGVidWcoYFRoZXJlIHdlcmUgbXVsdGlwbGUgYXR0ZW1wdHMgdG8gcmVnaXN0ZXIgY29tcG9uZW50ICR7ZX0uYCksITE7aGQuc2V0KGUsdCk7Zm9yKGNvbnN0IG4gb2YgeW8udmFsdWVzKCkpJFYobix0KTtyZXR1cm4hMH1mdW5jdGlvbiBocCh0LGUpe2NvbnN0IG49dC5jb250YWluZXIuZ2V0UHJvdmlkZXIoImhlYXJ0YmVhdCIpLmdldEltbWVkaWF0ZSh7b3B0aW9uYWw6ITB9KTtyZXR1cm4gbiYmbi50cmlnZ2VySGVhcnRiZWF0KCksdC5jb250YWluZXIuZ2V0UHJvdmlkZXIoZSl9Y29uc3QgQlY9eyJuby1hcHAiOiJObyBGaXJlYmFzZSBBcHAgJ3skYXBwTmFtZX0nIGhhcyBiZWVuIGNyZWF0ZWQgLSBjYWxsIGluaXRpYWxpemVBcHAoKSBmaXJzdCIsImJhZC1hcHAtbmFtZSI6IklsbGVnYWwgQXBwIG5hbWU6ICd7JGFwcE5hbWV9IiwiZHVwbGljYXRlLWFwcCI6IkZpcmViYXNlIEFwcCBuYW1lZCAneyRhcHBOYW1lfScgYWxyZWFkeSBleGlzdHMgd2l0aCBkaWZmZXJlbnQgb3B0aW9ucyBvciBjb25maWciLCJhcHAtZGVsZXRlZCI6IkZpcmViYXNlIEFwcCBuYW1lZCAneyRhcHBOYW1lfScgYWxyZWFkeSBkZWxldGVkIiwibm8tb3B0aW9ucyI6Ik5lZWQgdG8gcHJvdmlkZSBvcHRpb25zLCB3aGVuIG5vdCBiZWluZyBkZXBsb3llZCB0byBob3N0aW5nIHZpYSBzb3VyY2UuIiwiaW52YWxpZC1hcHAtYXJndW1lbnQiOiJmaXJlYmFzZS57JGFwcE5hbWV9KCkgdGFrZXMgZWl0aGVyIG5vIGFyZ3VtZW50IG9yIGEgRmlyZWJhc2UgQXBwIGluc3RhbmNlLiIsImludmFsaWQtbG9nLWFyZ3VtZW50IjoiRmlyc3QgYXJndW1lbnQgdG8gYG9uTG9nYCBtdXN0IGJlIG51bGwgb3IgYSBmdW5jdGlvbi4iLCJpZGItb3BlbiI6IkVycm9yIHRocm93biB3aGVuIG9wZW5pbmcgSW5kZXhlZERCLiBPcmlnaW5hbCBlcnJvcjogeyRvcmlnaW5hbEVycm9yTWVzc2FnZX0uIiwiaWRiLWdldCI6IkVycm9yIHRocm93biB3aGVuIHJlYWRpbmcgZnJvbSBJbmRleGVkREIuIE9yaWdpbmFsIGVycm9yOiB7JG9yaWdpbmFsRXJyb3JNZXNzYWdlfS4iLCJpZGItc2V0IjoiRXJyb3IgdGhyb3duIHdoZW4gd3JpdGluZyB0byBJbmRleGVkREIuIE9yaWdpbmFsIGVycm9yOiB7JG9yaWdpbmFsRXJyb3JNZXNzYWdlfS4iLCJpZGItZGVsZXRlIjoiRXJyb3IgdGhyb3duIHdoZW4gZGVsZXRpbmcgZnJvbSBJbmRleGVkREIuIE9yaWdpbmFsIGVycm9yOiB7JG9yaWdpbmFsRXJyb3JNZXNzYWdlfS4ifSxzcj1uZXcgWm8oImFwcCIsIkZpcmViYXNlIixCVik7Y2xhc3MgSFZ7Y29uc3RydWN0b3IoZSxuLHIpe3RoaXMuX2lzRGVsZXRlZD0hMSx0aGlzLl9vcHRpb25zPU9iamVjdC5hc3NpZ24oe30sZSksdGhpcy5fY29uZmlnPU9iamVjdC5hc3NpZ24oe30sbiksdGhpcy5fbmFtZT1uLm5hbWUsdGhpcy5fYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkPW4uYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkLHRoaXMuX2NvbnRhaW5lcj1yLHRoaXMuY29udGFpbmVyLmFkZENvbXBvbmVudChuZXcgenIoImFwcCIsKCk9PnRoaXMsIlBVQkxJQyIpKX1nZXQgYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkKCl7cmV0dXJuIHRoaXMuY2hlY2tEZXN0cm95ZWQoKSx0aGlzLl9hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWR9c2V0IGF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZChlKXt0aGlzLmNoZWNrRGVzdHJveWVkKCksdGhpcy5fYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkPWV9Z2V0IG5hbWUoKXtyZXR1cm4gdGhpcy5jaGVja0Rlc3Ryb3llZCgpLHRoaXMuX25hbWV9Z2V0IG9wdGlvbnMoKXtyZXR1cm4gdGhpcy5jaGVja0Rlc3Ryb3llZCgpLHRoaXMuX29wdGlvbnN9Z2V0IGNvbmZpZygpe3JldHVybiB0aGlzLmNoZWNrRGVzdHJveWVkKCksdGhpcy5fY29uZmlnfWdldCBjb250YWluZXIoKXtyZXR1cm4gdGhpcy5fY29udGFpbmVyfWdldCBpc0RlbGV0ZWQoKXtyZXR1cm4gdGhpcy5faXNEZWxldGVkfXNldCBpc0RlbGV0ZWQoZSl7dGhpcy5faXNEZWxldGVkPWV9Y2hlY2tEZXN0cm95ZWQoKXtpZih0aGlzLmlzRGVsZXRlZCl0aHJvdyBzci5jcmVhdGUoImFwcC1kZWxldGVkIix7YXBwTmFtZTp0aGlzLl9uYW1lfSl9fWNvbnN0IGNzPVVWO2Z1bmN0aW9uIFJUKHQsZT17fSl7bGV0IG49dDt0eXBlb2YgZSE9Im9iamVjdCImJihlPXtuYW1lOmV9KTtjb25zdCByPU9iamVjdC5hc3NpZ24oe25hbWU6bGQsYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkOiExfSxlKSxpPXIubmFtZTtpZih0eXBlb2YgaSE9InN0cmluZyJ8fCFpKXRocm93IHNyLmNyZWF0ZSgiYmFkLWFwcC1uYW1lIix7YXBwTmFtZTpTdHJpbmcoaSl9KTtpZihufHwobj1JVCgpKSwhbil0aHJvdyBzci5jcmVhdGUoIm5vLW9wdGlvbnMiKTtjb25zdCBzPXlvLmdldChpKTtpZihzKXtpZihSYyhuLHMub3B0aW9ucykmJlJjKHIscy5jb25maWcpKXJldHVybiBzO3Rocm93IHNyLmNyZWF0ZSgiZHVwbGljYXRlLWFwcCIse2FwcE5hbWU6aX0pfWNvbnN0IG89bmV3IFgxKGkpO2Zvcihjb25zdCBjIG9mIGhkLnZhbHVlcygpKW8uYWRkQ29tcG9uZW50KGMpO2NvbnN0IGE9bmV3IEhWKG4scixvKTtyZXR1cm4geW8uc2V0KGksYSksYX1mdW5jdGlvbiBkcCh0PWxkKXtjb25zdCBlPXlvLmdldCh0KTtpZighZSYmdD09PWxkJiZJVCgpKXJldHVybiBSVCgpO2lmKCFlKXRocm93IHNyLmNyZWF0ZSgibm8tYXBwIix7YXBwTmFtZTp0fSk7cmV0dXJuIGV9ZnVuY3Rpb24gYlQoKXtyZXR1cm4gQXJyYXkuZnJvbSh5by52YWx1ZXMoKSl9ZnVuY3Rpb24gUHQodCxlLG4pe3ZhciByO2xldCBpPShyPWpWW3RdKSE9PW51bGwmJnIhPT12b2lkIDA/cjp0O24mJihpKz1gLSR7bn1gKTtjb25zdCBzPWkubWF0Y2goL1xzfFwvLyksbz1lLm1hdGNoKC9cc3xcLy8pO2lmKHN8fG8pe2NvbnN0IGE9W2BVbmFibGUgdG8gcmVnaXN0ZXIgbGlicmFyeSAiJHtpfSIgd2l0aCB2ZXJzaW9uICIke2V9IjpgXTtzJiZhLnB1c2goYGxpYnJhcnkgbmFtZSAiJHtpfSIgY29udGFpbnMgaWxsZWdhbCBjaGFyYWN0ZXJzICh3aGl0ZXNwYWNlIG9yICIvIilgKSxzJiZvJiZhLnB1c2goImFuZCIpLG8mJmEucHVzaChgdmVyc2lvbiBuYW1lICIke2V9IiBjb250YWlucyBpbGxlZ2FsIGNoYXJhY3RlcnMgKHdoaXRlc3BhY2Ugb3IgIi8iKWApLFdyLndhcm4oYS5qb2luKCIgIikpO3JldHVybn1xaShuZXcgenIoYCR7aX0tdmVyc2lvbmAsKCk9Pih7bGlicmFyeTppLHZlcnNpb246ZX0pLCJWRVJTSU9OIikpfWNvbnN0IHFWPSJmaXJlYmFzZS1oZWFydGJlYXQtZGF0YWJhc2UiLHpWPTEsdm89ImZpcmViYXNlLWhlYXJ0YmVhdC1zdG9yZSI7bGV0IFdsPW51bGw7ZnVuY3Rpb24gRFQoKXtyZXR1cm4gV2x8fChXbD1sVihxVix6Vix7dXBncmFkZToodCxlKT0+e3N3aXRjaChlKXtjYXNlIDA6dHJ5e3QuY3JlYXRlT2JqZWN0U3RvcmUodm8pfWNhdGNoKG4pe2NvbnNvbGUud2FybihuKX19fX0pLmNhdGNoKHQ9Pnt0aHJvdyBzci5jcmVhdGUoImlkYi1vcGVuIix7b3JpZ2luYWxFcnJvck1lc3NhZ2U6dC5tZXNzYWdlfSl9KSksV2x9ZnVuY3Rpb24gV1YodCl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3RyeXtjb25zdCBuPSh5aWVsZCBEVCgpKS50cmFuc2FjdGlvbih2bykscj15aWVsZCBuLm9iamVjdFN0b3JlKHZvKS5nZXQoUFQodCkpO3JldHVybiB5aWVsZCBuLmRvbmUscn1jYXRjaChlKXtpZihlIGluc3RhbmNlb2YgS24pV3Iud2FybihlLm1lc3NhZ2UpO2Vsc2V7Y29uc3Qgbj1zci5jcmVhdGUoImlkYi1nZXQiLHtvcmlnaW5hbEVycm9yTWVzc2FnZTplPy5tZXNzYWdlfSk7V3Iud2FybihuLm1lc3NhZ2UpfX19KX1mdW5jdGlvbiBkeSh0LGUpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0cnl7Y29uc3Qgcj0oeWllbGQgRFQoKSkudHJhbnNhY3Rpb24odm8sInJlYWR3cml0ZSIpO3lpZWxkIHIub2JqZWN0U3RvcmUodm8pLnB1dChlLFBUKHQpKSx5aWVsZCByLmRvbmV9Y2F0Y2gobil7aWYobiBpbnN0YW5jZW9mIEtuKVdyLndhcm4obi5tZXNzYWdlKTtlbHNle2NvbnN0IHI9c3IuY3JlYXRlKCJpZGItc2V0Iix7b3JpZ2luYWxFcnJvck1lc3NhZ2U6bj8ubWVzc2FnZX0pO1dyLndhcm4oci5tZXNzYWdlKX19fSl9ZnVuY3Rpb24gUFQodCl7cmV0dXJuYCR7dC5uYW1lfSEke3Qub3B0aW9ucy5hcHBJZH1gfWNvbnN0IEdWPTEwMjQsS1Y9MzAqMjQqNjAqNjAqMWUzO2NsYXNzIFFWe2NvbnN0cnVjdG9yKGUpe3RoaXMuY29udGFpbmVyPWUsdGhpcy5faGVhcnRiZWF0c0NhY2hlPW51bGw7Y29uc3Qgbj10aGlzLmNvbnRhaW5lci5nZXRQcm92aWRlcigiYXBwIikuZ2V0SW1tZWRpYXRlKCk7dGhpcy5fc3RvcmFnZT1uZXcgWFYobiksdGhpcy5faGVhcnRiZWF0c0NhY2hlUHJvbWlzZT10aGlzLl9zdG9yYWdlLnJlYWQoKS50aGVuKHI9Pih0aGlzLl9oZWFydGJlYXRzQ2FjaGU9cixyKSl9dHJpZ2dlckhlYXJ0YmVhdCgpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgZSxuO2NvbnN0IGk9dGhpcy5jb250YWluZXIuZ2V0UHJvdmlkZXIoInBsYXRmb3JtLWxvZ2dlciIpLmdldEltbWVkaWF0ZSgpLmdldFBsYXRmb3JtSW5mb1N0cmluZygpLHM9ZnkoKTtpZighKCgoZT10aGlzLl9oZWFydGJlYXRzQ2FjaGUpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5oZWFydGJlYXRzKT09bnVsbCYmKHRoaXMuX2hlYXJ0YmVhdHNDYWNoZT15aWVsZCB0aGlzLl9oZWFydGJlYXRzQ2FjaGVQcm9taXNlLCgobj10aGlzLl9oZWFydGJlYXRzQ2FjaGUpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5oZWFydGJlYXRzKT09bnVsbCkpJiYhKHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5sYXN0U2VudEhlYXJ0YmVhdERhdGU9PT1zfHx0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cy5zb21lKG89Pm8uZGF0ZT09PXMpKSlyZXR1cm4gdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMucHVzaCh7ZGF0ZTpzLGFnZW50Oml9KSx0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cz10aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cy5maWx0ZXIobz0+e2NvbnN0IGE9bmV3IERhdGUoby5kYXRlKS52YWx1ZU9mKCk7cmV0dXJuIERhdGUubm93KCktYTw9S1Z9KSx0aGlzLl9zdG9yYWdlLm92ZXJ3cml0ZSh0aGlzLl9oZWFydGJlYXRzQ2FjaGUpfSl9Z2V0SGVhcnRiZWF0c0hlYWRlcigpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgZTtpZih0aGlzLl9oZWFydGJlYXRzQ2FjaGU9PT1udWxsJiYoeWllbGQgdGhpcy5faGVhcnRiZWF0c0NhY2hlUHJvbWlzZSksKChlPXRoaXMuX2hlYXJ0YmVhdHNDYWNoZSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmhlYXJ0YmVhdHMpPT1udWxsfHx0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cy5sZW5ndGg9PT0wKXJldHVybiIiO2NvbnN0IG49ZnkoKSx7aGVhcnRiZWF0c1RvU2VuZDpyLHVuc2VudEVudHJpZXM6aX09WlYodGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMpLHM9QWMoSlNPTi5zdHJpbmdpZnkoe3ZlcnNpb246MixoZWFydGJlYXRzOnJ9KSk7cmV0dXJuIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5sYXN0U2VudEhlYXJ0YmVhdERhdGU9bixpLmxlbmd0aD4wPyh0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cz1pLHlpZWxkIHRoaXMuX3N0b3JhZ2Uub3ZlcndyaXRlKHRoaXMuX2hlYXJ0YmVhdHNDYWNoZSkpOih0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cz1bXSx0aGlzLl9zdG9yYWdlLm92ZXJ3cml0ZSh0aGlzLl9oZWFydGJlYXRzQ2FjaGUpKSxzfSl9fWZ1bmN0aW9uIGZ5KCl7cmV0dXJuIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHJpbmcoMCwxMCl9ZnVuY3Rpb24gWlYodCxlPUdWKXtjb25zdCBuPVtdO2xldCByPXQuc2xpY2UoKTtmb3IoY29uc3QgaSBvZiB0KXtjb25zdCBzPW4uZmluZChvPT5vLmFnZW50PT09aS5hZ2VudCk7aWYocyl7aWYocy5kYXRlcy5wdXNoKGkuZGF0ZSkscHkobik+ZSl7cy5kYXRlcy5wb3AoKTticmVha319ZWxzZSBpZihuLnB1c2goe2FnZW50OmkuYWdlbnQsZGF0ZXM6W2kuZGF0ZV19KSxweShuKT5lKXtuLnBvcCgpO2JyZWFrfXI9ci5zbGljZSgxKX1yZXR1cm57aGVhcnRiZWF0c1RvU2VuZDpuLHVuc2VudEVudHJpZXM6cn19Y2xhc3MgWFZ7Y29uc3RydWN0b3IoZSl7dGhpcy5hcHA9ZSx0aGlzLl9jYW5Vc2VJbmRleGVkREJQcm9taXNlPXRoaXMucnVuSW5kZXhlZERCRW52aXJvbm1lbnRDaGVjaygpfXJ1bkluZGV4ZWREQkVudmlyb25tZW50Q2hlY2soKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIFNUKCk/ajEoKS50aGVuKCgpPT4hMCkuY2F0Y2goKCk9PiExKTohMX0pfXJlYWQoKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7aWYoeWllbGQgdGhpcy5fY2FuVXNlSW5kZXhlZERCUHJvbWlzZSl7Y29uc3Qgbj15aWVsZCBXVih0aGlzLmFwcCk7cmV0dXJuIG4/LmhlYXJ0YmVhdHM/bjp7aGVhcnRiZWF0czpbXX19ZWxzZSByZXR1cm57aGVhcnRiZWF0czpbXX19KX1vdmVyd3JpdGUoZSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciBuO2lmKHlpZWxkIHRoaXMuX2NhblVzZUluZGV4ZWREQlByb21pc2Upe2NvbnN0IGk9eWllbGQgdGhpcy5yZWFkKCk7cmV0dXJuIGR5KHRoaXMuYXBwLHtsYXN0U2VudEhlYXJ0YmVhdERhdGU6KG49ZS5sYXN0U2VudEhlYXJ0YmVhdERhdGUpIT09bnVsbCYmbiE9PXZvaWQgMD9uOmkubGFzdFNlbnRIZWFydGJlYXREYXRlLGhlYXJ0YmVhdHM6ZS5oZWFydGJlYXRzfSl9ZWxzZSByZXR1cm59KX1hZGQoZSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciBuO2lmKHlpZWxkIHRoaXMuX2NhblVzZUluZGV4ZWREQlByb21pc2Upe2NvbnN0IGk9eWllbGQgdGhpcy5yZWFkKCk7cmV0dXJuIGR5KHRoaXMuYXBwLHtsYXN0U2VudEhlYXJ0YmVhdERhdGU6KG49ZS5sYXN0U2VudEhlYXJ0YmVhdERhdGUpIT09bnVsbCYmbiE9PXZvaWQgMD9uOmkubGFzdFNlbnRIZWFydGJlYXREYXRlLGhlYXJ0YmVhdHM6Wy4uLmkuaGVhcnRiZWF0cywuLi5lLmhlYXJ0YmVhdHNdfSl9ZWxzZSByZXR1cm59KX19ZnVuY3Rpb24gcHkodCl7cmV0dXJuIEFjKEpTT04uc3RyaW5naWZ5KHt2ZXJzaW9uOjIsaGVhcnRiZWF0czp0fSkpLmxlbmd0aH1mdW5jdGlvbiBZVih0KXtxaShuZXcgenIoInBsYXRmb3JtLWxvZ2dlciIsZT0+bmV3IGZWKGUpLCJQUklWQVRFIikpLHFpKG5ldyB6cigiaGVhcnRiZWF0IixlPT5uZXcgUVYoZSksIlBSSVZBVEUiKSksUHQodWQsaHksdCksUHQodWQsaHksImVzbTIwMTciKSxQdCgiZmlyZS1qcyIsIiIpfVlWKCIiKTt2YXIgSlY9ImZpcmViYXNlIixlRj0iMTAuOC4xIjtQdChKVixlRiwiYXBwIik7Y29uc3QgYmM9bmV3IHVJKCJBTkdVTEFSRklSRTJfVkVSU0lPTiIpO2Z1bmN0aW9uIE1UKHQsZSxuKXtpZihlKXtpZihlLmxlbmd0aD09PTEpcmV0dXJuIGVbMF07Y29uc3Qgcz1lLmZpbHRlcihvPT5vLmFwcD09PW4pO2lmKHMubGVuZ3RoPT09MSlyZXR1cm4gc1swXX1yZXR1cm4gbi5jb250YWluZXIuZ2V0UHJvdmlkZXIodCkuZ2V0SW1tZWRpYXRlKHtvcHRpb25hbDohMH0pfWNvbnN0IGZwPSh0LGUpPT57Y29uc3Qgbj1lP1tlXTpiVCgpLHI9W107cmV0dXJuIG4uZm9yRWFjaChpPT57aS5jb250YWluZXIuZ2V0UHJvdmlkZXIodCkuaW5zdGFuY2VzLmZvckVhY2gobz0+e3IuaW5jbHVkZXMobyl8fHIucHVzaChvKX0pfSkscn07Y2xhc3MgTlR7Y29uc3RydWN0b3IoKXtyZXR1cm4gZnAodEYpfX1jb25zdCB0Rj0iYXBwLWNoZWNrIjtmdW5jdGlvbiBBaSgpe31jbGFzcyBneXtjb25zdHJ1Y3RvcihlLG49VFIpe0dlKHRoaXMsInpvbmUiLHZvaWQgMCksR2UodGhpcywiZGVsZWdhdGUiLHZvaWQgMCksdGhpcy56b25lPWUsdGhpcy5kZWxlZ2F0ZT1ufW5vdygpe3JldHVybiB0aGlzLmRlbGVnYXRlLm5vdygpfXNjaGVkdWxlKGUsbixyKXtjb25zdCBpPXRoaXMuem9uZSxzPWZ1bmN0aW9uKG8pe2kucnVuR3VhcmRlZCgoKT0+e2UuYXBwbHkodGhpcyxbb10pfSl9O3JldHVybiB0aGlzLmRlbGVnYXRlLnNjaGVkdWxlKHMsbixyKX19Y2xhc3MgbkZ7Y29uc3RydWN0b3IoZSl7R2UodGhpcywiem9uZSIsdm9pZCAwKSxHZSh0aGlzLCJ0YXNrIixudWxsKSx0aGlzLnpvbmU9ZX1jYWxsKGUsbil7Y29uc3Qgcj10aGlzLnVuc2NoZWR1bGVUYXNrLmJpbmQodGhpcyk7cmV0dXJuIHRoaXMudGFzaz10aGlzLnpvbmUucnVuKCgpPT5ab25lLmN1cnJlbnQuc2NoZWR1bGVNYWNyb1Rhc2soImZpcmViYXNlWm9uZUJsb2NrIixBaSx7fSxBaSxBaSkpLG4ucGlwZShxZSh7bmV4dDpyLGNvbXBsZXRlOnIsZXJyb3I6cn0pKS5zdWJzY3JpYmUoZSkuYWRkKHIpfXVuc2NoZWR1bGVUYXNrKCl7c2V0VGltZW91dCgoKT0+e3RoaXMudGFzayE9bnVsbCYmdGhpcy50YXNrLnN0YXRlPT09InNjaGVkdWxlZCImJih0aGlzLnRhc2suaW52b2tlKCksdGhpcy50YXNrPW51bGwpfSwxMCl9fWxldCBwcD0oKCk9Pnt2YXIgdDtjbGFzcyBle2NvbnN0cnVjdG9yKHIpe0dlKHRoaXMsIm5nWm9uZSIsdm9pZCAwKSxHZSh0aGlzLCJvdXRzaWRlQW5ndWxhciIsdm9pZCAwKSxHZSh0aGlzLCJpbnNpZGVBbmd1bGFyIix2b2lkIDApLHRoaXMubmdab25lPXIsdGhpcy5vdXRzaWRlQW5ndWxhcj1yLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT5uZXcgZ3koWm9uZS5jdXJyZW50KSksdGhpcy5pbnNpZGVBbmd1bGFyPXIucnVuKCgpPT5uZXcgZ3koWm9uZS5jdXJyZW50LEVSKSksZ2xvYmFsVGhpcy7JtUFuZ3VsYXJGaXJlU2NoZWR1bGVyfHwoZ2xvYmFsVGhpcy7JtUFuZ3VsYXJGaXJlU2NoZWR1bGVyPXRoaXMpfX1yZXR1cm4gdD1lLEdlKGUsIsm1ZmFjIixmdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fHQpKHRlKE1lKSl9KSxHZShlLCLJtXByb3YiLHEoe3Rva2VuOnQsZmFjdG9yeTp0Lsm1ZmFjLHByb3ZpZGVkSW46InJvb3QifSkpLGV9KSgpO2Z1bmN0aW9uIGJ1KCl7Y29uc3QgdD1nbG9iYWxUaGlzLsm1QW5ndWxhckZpcmVTY2hlZHVsZXI7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGBFaXRoZXIgQW5ndWxhckZpcmVNb2R1bGUgaGFzIG5vdCBiZWVuIHByb3ZpZGVkIGluIHlvdXIgQXBwTW9kdWxlICh0aGlzIGNhbiBiZSBkb25lIG1hbnVhbGx5IG9yIGltcGxpY3RseSB1c2luZwpwcm92aWRlRmlyZWJhc2VBcHApIG9yIHlvdSdyZSBjYWxsaW5nIGFuIEFuZ3VsYXJGaXJlIG1ldGhvZCBvdXRzaWRlIG9mIGFuIE5nTW9kdWxlICh3aGljaCBpcyBub3Qgc3VwcG9ydGVkKS5gKTtyZXR1cm4gdH1mdW5jdGlvbiByRih0KXtyZXR1cm4gYnUoKS5uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PnQoKSl9ZnVuY3Rpb24gU3IodCl7cmV0dXJuIGJ1KCkubmdab25lLnJ1bigoKT0+dCgpKX1mdW5jdGlvbiBpRih0KXtyZXR1cm4gc0YoYnUoKSkodCl9ZnVuY3Rpb24gc0YodCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBuPW4ubGlmdChuZXcgbkYodC5uZ1pvbmUpKSxuLnBpcGUoWWModC5vdXRzaWRlQW5ndWxhciksWGModC5pbnNpZGVBbmd1bGFyKSl9fWNvbnN0IG9GPSh0LGUpPT5mdW5jdGlvbigpe2NvbnN0IHI9YXJndW1lbnRzO3JldHVybiBlJiZzZXRUaW1lb3V0KCgpPT57ZS5zdGF0ZT09PSJzY2hlZHVsZWQiJiZlLmludm9rZSgpfSwxMCksU3IoKCk9PnQuYXBwbHkodm9pZCAwLHIpKX0seXQ9KHQsZSk9PmZ1bmN0aW9uKCl7bGV0IG47Y29uc3Qgcj1hcmd1bWVudHM7Zm9yKGxldCBzPTA7czxhcmd1bWVudHMubGVuZ3RoO3MrKyl0eXBlb2YgcltzXT09ImZ1bmN0aW9uIiYmKGUmJihufHwobj1TcigoKT0+Wm9uZS5jdXJyZW50LnNjaGVkdWxlTWFjcm9UYXNrKCJmaXJlYmFzZVpvbmVCbG9jayIsQWkse30sQWksQWkpKSkpLHJbc109b0YocltzXSxuKSk7Y29uc3QgaT1yRigoKT0+dC5hcHBseSh0aGlzLHIpKTtpZighZSlpZihpIGluc3RhbmNlb2YgTGUpe2NvbnN0IHM9YnUoKTtyZXR1cm4gaS5waXBlKFljKHMub3V0c2lkZUFuZ3VsYXIpLFhjKHMuaW5zaWRlQW5ndWxhcikpfWVsc2UgcmV0dXJuIFNyKCgpPT5pKTtyZXR1cm4gaSBpbnN0YW5jZW9mIExlP2kucGlwZShpRik6aSBpbnN0YW5jZW9mIFByb21pc2U/U3IoKCk9Pm5ldyBQcm9taXNlKChzLG8pPT5pLnRoZW4oYT0+U3IoKCk9PnMoYSkpLGE9PlNyKCgpPT5vKGEpKSkpKTp0eXBlb2YgaT09ImZ1bmN0aW9uIiYmbj9mdW5jdGlvbigpe3JldHVybiBzZXRUaW1lb3V0KCgpPT57biYmbi5zdGF0ZT09PSJzY2hlZHVsZWQiJiZuLmludm9rZSgpfSwxMCksaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9OlNyKCgpPT5pKX07Y2xhc3MgWW97Y29uc3RydWN0b3IoZSl7cmV0dXJuIGV9fWNsYXNzIGdwe2NvbnN0cnVjdG9yKCl7cmV0dXJuIGJUKCl9fWZ1bmN0aW9uIGFGKHQpe3JldHVybiB0JiZ0Lmxlbmd0aD09PTE/dFswXTpuZXcgWW8oZHAoKSl9Y29uc3QgbXA9bmV3IHNlKCJhbmd1bGFyZmlyZTIuX2FwcHMiKSxjRj17cHJvdmlkZTpZbyx1c2VGYWN0b3J5OmFGLGRlcHM6W1tuZXcgVW4sbXBdXX0sdUY9e3Byb3ZpZGU6Z3AsZGVwczpbW25ldyBVbixtcF1dfTtmdW5jdGlvbiBsRih0KXtyZXR1cm4oZSxuKT0+e2NvbnN0IHI9ZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+dChuKSk7cmV0dXJuIG5ldyBZbyhyKX19bGV0IGhGPSgoKT0+e3ZhciB0O2NsYXNzIGV7Y29uc3RydWN0b3Iocil7UHQoImFuZ3VsYXJmaXJlIixiYy5mdWxsLCJjb3JlIiksUHQoImFuZ3VsYXJmaXJlIixiYy5mdWxsLCJhcHAiKSxQdCgiYW5ndWxhciIsSk4uZnVsbCxyLnRvU3RyaW5nKCkpfX1yZXR1cm4gdD1lLEdlKGUsIsm1ZmFjIixmdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fHQpKHRlKGdyKSl9KSxHZShlLCLJtW1vZCIsdHUoe3R5cGU6dH0pKSxHZShlLCLJtWluaiIsYXUoe3Byb3ZpZGVyczpbY0YsdUZdfSkpLGV9KSgpO2Z1bmN0aW9uIGRGKHQsLi4uZSl7cmV0dXJue25nTW9kdWxlOmhGLHByb3ZpZGVyczpbe3Byb3ZpZGU6bXAsdXNlRmFjdG9yeTpsRih0KSxtdWx0aTohMCxkZXBzOltNZSxXbixwcCwuLi5lXX1dfX1jb25zdCBmRj15dChSVCwhMCk7ZnVuY3Rpb24ga1QoKXtyZXR1cm57ImRlcGVuZGVudC1zZGstaW5pdGlhbGl6ZWQtYmVmb3JlLWF1dGgiOiJBbm90aGVyIEZpcmViYXNlIFNESyB3YXMgaW5pdGlhbGl6ZWQgYW5kIGlzIHRyeWluZyB0byB1c2UgQXV0aCBiZWZvcmUgQXV0aCBpcyBpbml0aWFsaXplZC4gUGxlYXNlIGJlIHN1cmUgdG8gY2FsbCBgaW5pdGlhbGl6ZUF1dGhgIG9yIGBnZXRBdXRoYCBiZWZvcmUgc3RhcnRpbmcgYW55IG90aGVyIEZpcmViYXNlIFNESy4ifX1jb25zdCBwRj1rVCxPVD1uZXcgWm8oImF1dGgiLCJGaXJlYmFzZSIsa1QoKSk7Y29uc3QgRGM9bmV3IHVwKCJAZmlyZWJhc2UvYXV0aCIpO2Z1bmN0aW9uIGdGKHQsLi4uZSl7RGMubG9nTGV2ZWw8PWdlLldBUk4mJkRjLndhcm4oYEF1dGggKCR7Y3N9KTogJHt0fWAsLi4uZSl9ZnVuY3Rpb24gWGEodCwuLi5lKXtEYy5sb2dMZXZlbDw9Z2UuRVJST1ImJkRjLmVycm9yKGBBdXRoICgke2NzfSk6ICR7dH1gLC4uLmUpfWZ1bmN0aW9uIG1uKHQsLi4uZSl7dGhyb3cgeXAodCwuLi5lKX1mdW5jdGlvbiBsbih0LC4uLmUpe3JldHVybiB5cCh0LC4uLmUpfWZ1bmN0aW9uIHhUKHQsZSxuKXtjb25zdCByPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxwRigpKSx7W2VdOm59KTtyZXR1cm4gbmV3IFpvKCJhdXRoIiwiRmlyZWJhc2UiLHIpLmNyZWF0ZShlLHthcHBOYW1lOnQubmFtZX0pfWZ1bmN0aW9uIG1GKHQsZSxuKXtjb25zdCByPW47aWYoIShlIGluc3RhbmNlb2YgcikpdGhyb3cgci5uYW1lIT09ZS5jb25zdHJ1Y3Rvci5uYW1lJiZtbih0LCJhcmd1bWVudC1lcnJvciIpLHhUKHQsImFyZ3VtZW50LWVycm9yIixgVHlwZSBvZiAke2UuY29uc3RydWN0b3IubmFtZX0gZG9lcyBub3QgbWF0Y2ggZXhwZWN0ZWQgaW5zdGFuY2UuRGlkIHlvdSBwYXNzIGEgcmVmZXJlbmNlIGZyb20gYSBkaWZmZXJlbnQgQXV0aCBTREs/YCl9ZnVuY3Rpb24geXAodCwuLi5lKXtpZih0eXBlb2YgdCE9InN0cmluZyIpe2NvbnN0IG49ZVswXSxyPVsuLi5lLnNsaWNlKDEpXTtyZXR1cm4gclswXSYmKHJbMF0uYXBwTmFtZT10Lm5hbWUpLHQuX2Vycm9yRmFjdG9yeS5jcmVhdGUobiwuLi5yKX1yZXR1cm4gT1QuY3JlYXRlKHQsLi4uZSl9ZnVuY3Rpb24gSih0LGUsLi4ubil7aWYoIXQpdGhyb3cgeXAoZSwuLi5uKX1mdW5jdGlvbiBibih0KXtjb25zdCBlPSJJTlRFUk5BTCBBU1NFUlRJT04gRkFJTEVEOiAiK3Q7dGhyb3cgWGEoZSksbmV3IEVycm9yKGUpfWZ1bmN0aW9uICRuKHQsZSl7dHx8Ym4oZSl9ZnVuY3Rpb24gZGQoKXt2YXIgdDtyZXR1cm4gdHlwZW9mIHNlbGY8InUiJiYoKHQ9c2VsZi5sb2NhdGlvbik9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LmhyZWYpfHwiIn1mdW5jdGlvbiB5Rigpe3JldHVybiBteSgpPT09Imh0dHA6Inx8bXkoKT09PSJodHRwczoifWZ1bmN0aW9uIG15KCl7dmFyIHQ7cmV0dXJuIHR5cGVvZiBzZWxmPCJ1IiYmKCh0PXNlbGYubG9jYXRpb24pPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC5wcm90b2NvbCl8fG51bGx9ZnVuY3Rpb24gdkYoKXtyZXR1cm4gdHlwZW9mIG5hdmlnYXRvcjwidSImJm5hdmlnYXRvciYmIm9uTGluZSJpbiBuYXZpZ2F0b3ImJnR5cGVvZiBuYXZpZ2F0b3Iub25MaW5lPT0iYm9vbGVhbiImJih5RigpfHxMMSgpfHwiY29ubmVjdGlvbiJpbiBuYXZpZ2F0b3IpP25hdmlnYXRvci5vbkxpbmU6ITB9ZnVuY3Rpb24gX0YoKXtpZih0eXBlb2YgbmF2aWdhdG9yPiJ1IilyZXR1cm4gbnVsbDtjb25zdCB0PW5hdmlnYXRvcjtyZXR1cm4gdC5sYW5ndWFnZXMmJnQubGFuZ3VhZ2VzWzBdfHx0Lmxhbmd1YWdlfHxudWxsfWNsYXNzIEpve2NvbnN0cnVjdG9yKGUsbil7dGhpcy5zaG9ydERlbGF5PWUsdGhpcy5sb25nRGVsYXk9biwkbihuPmUsIlNob3J0IGRlbGF5IHNob3VsZCBiZSBsZXNzIHRoYW4gbG9uZyBkZWxheSEiKSx0aGlzLmlzTW9iaWxlPU8xKCl8fFYxKCl9Z2V0KCl7cmV0dXJuIHZGKCk/dGhpcy5pc01vYmlsZT90aGlzLmxvbmdEZWxheTp0aGlzLnNob3J0RGVsYXk6TWF0aC5taW4oNWUzLHRoaXMuc2hvcnREZWxheSl9fWZ1bmN0aW9uIHZwKHQsZSl7JG4odC5lbXVsYXRvciwiRW11bGF0b3Igc2hvdWxkIGFsd2F5cyBiZSBzZXQgaGVyZSIpO2NvbnN0e3VybDpufT10LmVtdWxhdG9yO3JldHVybiBlP2Ake259JHtlLnN0YXJ0c1dpdGgoIi8iKT9lLnNsaWNlKDEpOmV9YDpufWNsYXNzIExUe3N0YXRpYyBpbml0aWFsaXplKGUsbixyKXt0aGlzLmZldGNoSW1wbD1lLG4mJih0aGlzLmhlYWRlcnNJbXBsPW4pLHImJih0aGlzLnJlc3BvbnNlSW1wbD1yKX1zdGF0aWMgZmV0Y2goKXtpZih0aGlzLmZldGNoSW1wbClyZXR1cm4gdGhpcy5mZXRjaEltcGw7aWYodHlwZW9mIHNlbGY8InUiJiYiZmV0Y2giaW4gc2VsZilyZXR1cm4gc2VsZi5mZXRjaDtpZih0eXBlb2YgZ2xvYmFsVGhpczwidSImJmdsb2JhbFRoaXMuZmV0Y2gpcmV0dXJuIGdsb2JhbFRoaXMuZmV0Y2g7aWYodHlwZW9mIGZldGNoPCJ1IilyZXR1cm4gZmV0Y2g7Ym4oIkNvdWxkIG5vdCBmaW5kIGZldGNoIGltcGxlbWVudGF0aW9uLCBtYWtlIHN1cmUgeW91IGNhbGwgRmV0Y2hQcm92aWRlci5pbml0aWFsaXplKCkgd2l0aCBhbiBhcHByb3ByaWF0ZSBwb2x5ZmlsbCIpfXN0YXRpYyBoZWFkZXJzKCl7aWYodGhpcy5oZWFkZXJzSW1wbClyZXR1cm4gdGhpcy5oZWFkZXJzSW1wbDtpZih0eXBlb2Ygc2VsZjwidSImJiJIZWFkZXJzImluIHNlbGYpcmV0dXJuIHNlbGYuSGVhZGVycztpZih0eXBlb2YgZ2xvYmFsVGhpczwidSImJmdsb2JhbFRoaXMuSGVhZGVycylyZXR1cm4gZ2xvYmFsVGhpcy5IZWFkZXJzO2lmKHR5cGVvZiBIZWFkZXJzPCJ1IilyZXR1cm4gSGVhZGVycztibigiQ291bGQgbm90IGZpbmQgSGVhZGVycyBpbXBsZW1lbnRhdGlvbiwgbWFrZSBzdXJlIHlvdSBjYWxsIEZldGNoUHJvdmlkZXIuaW5pdGlhbGl6ZSgpIHdpdGggYW4gYXBwcm9wcmlhdGUgcG9seWZpbGwiKX1zdGF0aWMgcmVzcG9uc2UoKXtpZih0aGlzLnJlc3BvbnNlSW1wbClyZXR1cm4gdGhpcy5yZXNwb25zZUltcGw7aWYodHlwZW9mIHNlbGY8InUiJiYiUmVzcG9uc2UiaW4gc2VsZilyZXR1cm4gc2VsZi5SZXNwb25zZTtpZih0eXBlb2YgZ2xvYmFsVGhpczwidSImJmdsb2JhbFRoaXMuUmVzcG9uc2UpcmV0dXJuIGdsb2JhbFRoaXMuUmVzcG9uc2U7aWYodHlwZW9mIFJlc3BvbnNlPCJ1IilyZXR1cm4gUmVzcG9uc2U7Ym4oIkNvdWxkIG5vdCBmaW5kIFJlc3BvbnNlIGltcGxlbWVudGF0aW9uLCBtYWtlIHN1cmUgeW91IGNhbGwgRmV0Y2hQcm92aWRlci5pbml0aWFsaXplKCkgd2l0aCBhbiBhcHByb3ByaWF0ZSBwb2x5ZmlsbCIpfX1jb25zdCBFRj17Q1JFREVOVElBTF9NSVNNQVRDSDoiY3VzdG9tLXRva2VuLW1pc21hdGNoIixNSVNTSU5HX0NVU1RPTV9UT0tFTjoiaW50ZXJuYWwtZXJyb3IiLElOVkFMSURfSURFTlRJRklFUjoiaW52YWxpZC1lbWFpbCIsTUlTU0lOR19DT05USU5VRV9VUkk6ImludGVybmFsLWVycm9yIixJTlZBTElEX1BBU1NXT1JEOiJ3cm9uZy1wYXNzd29yZCIsTUlTU0lOR19QQVNTV09SRDoibWlzc2luZy1wYXNzd29yZCIsSU5WQUxJRF9MT0dJTl9DUkVERU5USUFMUzoiaW52YWxpZC1jcmVkZW50aWFsIixFTUFJTF9FWElTVFM6ImVtYWlsLWFscmVhZHktaW4tdXNlIixQQVNTV09SRF9MT0dJTl9ESVNBQkxFRDoib3BlcmF0aW9uLW5vdC1hbGxvd2VkIixJTlZBTElEX0lEUF9SRVNQT05TRToiaW52YWxpZC1jcmVkZW50aWFsIixJTlZBTElEX1BFTkRJTkdfVE9LRU46ImludmFsaWQtY3JlZGVudGlhbCIsRkVERVJBVEVEX1VTRVJfSURfQUxSRUFEWV9MSU5LRUQ6ImNyZWRlbnRpYWwtYWxyZWFkeS1pbi11c2UiLE1JU1NJTkdfUkVRX1RZUEU6ImludGVybmFsLWVycm9yIixFTUFJTF9OT1RfRk9VTkQ6InVzZXItbm90LWZvdW5kIixSRVNFVF9QQVNTV09SRF9FWENFRURfTElNSVQ6InRvby1tYW55LXJlcXVlc3RzIixFWFBJUkVEX09PQl9DT0RFOiJleHBpcmVkLWFjdGlvbi1jb2RlIixJTlZBTElEX09PQl9DT0RFOiJpbnZhbGlkLWFjdGlvbi1jb2RlIixNSVNTSU5HX09PQl9DT0RFOiJpbnRlcm5hbC1lcnJvciIsQ1JFREVOVElBTF9UT09fT0xEX0xPR0lOX0FHQUlOOiJyZXF1aXJlcy1yZWNlbnQtbG9naW4iLElOVkFMSURfSURfVE9LRU46ImludmFsaWQtdXNlci10b2tlbiIsVE9LRU5fRVhQSVJFRDoidXNlci10b2tlbi1leHBpcmVkIixVU0VSX05PVF9GT1VORDoidXNlci10b2tlbi1leHBpcmVkIixUT09fTUFOWV9BVFRFTVBUU19UUllfTEFURVI6InRvby1tYW55LXJlcXVlc3RzIixQQVNTV09SRF9ET0VTX05PVF9NRUVUX1JFUVVJUkVNRU5UUzoicGFzc3dvcmQtZG9lcy1ub3QtbWVldC1yZXF1aXJlbWVudHMiLElOVkFMSURfQ09ERToiaW52YWxpZC12ZXJpZmljYXRpb24tY29kZSIsSU5WQUxJRF9TRVNTSU9OX0lORk86ImludmFsaWQtdmVyaWZpY2F0aW9uLWlkIixJTlZBTElEX1RFTVBPUkFSWV9QUk9PRjoiaW52YWxpZC1jcmVkZW50aWFsIixNSVNTSU5HX1NFU1NJT05fSU5GTzoibWlzc2luZy12ZXJpZmljYXRpb24taWQiLFNFU1NJT05fRVhQSVJFRDoiY29kZS1leHBpcmVkIixNSVNTSU5HX0FORFJPSURfUEFDS0FHRV9OQU1FOiJtaXNzaW5nLWFuZHJvaWQtcGtnLW5hbWUiLFVOQVVUSE9SSVpFRF9ET01BSU46InVuYXV0aG9yaXplZC1jb250aW51ZS11cmkiLElOVkFMSURfT0FVVEhfQ0xJRU5UX0lEOiJpbnZhbGlkLW9hdXRoLWNsaWVudC1pZCIsQURNSU5fT05MWV9PUEVSQVRJT046ImFkbWluLXJlc3RyaWN0ZWQtb3BlcmF0aW9uIixJTlZBTElEX01GQV9QRU5ESU5HX0NSRURFTlRJQUw6ImludmFsaWQtbXVsdGktZmFjdG9yLXNlc3Npb24iLE1GQV9FTlJPTExNRU5UX05PVF9GT1VORDoibXVsdGktZmFjdG9yLWluZm8tbm90LWZvdW5kIixNSVNTSU5HX01GQV9FTlJPTExNRU5UX0lEOiJtaXNzaW5nLW11bHRpLWZhY3Rvci1pbmZvIixNSVNTSU5HX01GQV9QRU5ESU5HX0NSRURFTlRJQUw6Im1pc3NpbmctbXVsdGktZmFjdG9yLXNlc3Npb24iLFNFQ09ORF9GQUNUT1JfRVhJU1RTOiJzZWNvbmQtZmFjdG9yLWFscmVhZHktaW4tdXNlIixTRUNPTkRfRkFDVE9SX0xJTUlUX0VYQ0VFREVEOiJtYXhpbXVtLXNlY29uZC1mYWN0b3ItY291bnQtZXhjZWVkZWQiLEJMT0NLSU5HX0ZVTkNUSU9OX0VSUk9SX1JFU1BPTlNFOiJpbnRlcm5hbC1lcnJvciIsUkVDQVBUQ0hBX05PVF9FTkFCTEVEOiJyZWNhcHRjaGEtbm90LWVuYWJsZWQiLE1JU1NJTkdfUkVDQVBUQ0hBX1RPS0VOOiJtaXNzaW5nLXJlY2FwdGNoYS10b2tlbiIsSU5WQUxJRF9SRUNBUFRDSEFfVE9LRU46ImludmFsaWQtcmVjYXB0Y2hhLXRva2VuIixJTlZBTElEX1JFQ0FQVENIQV9BQ1RJT046ImludmFsaWQtcmVjYXB0Y2hhLWFjdGlvbiIsTUlTU0lOR19DTElFTlRfVFlQRToibWlzc2luZy1jbGllbnQtdHlwZSIsTUlTU0lOR19SRUNBUFRDSEFfVkVSU0lPTjoibWlzc2luZy1yZWNhcHRjaGEtdmVyc2lvbiIsSU5WQUxJRF9SRUNBUFRDSEFfVkVSU0lPTjoiaW52YWxpZC1yZWNhcHRjaGEtdmVyc2lvbiIsSU5WQUxJRF9SRVFfVFlQRToiaW52YWxpZC1yZXEtdHlwZSJ9O2NvbnN0IHdGPW5ldyBKbygzZTQsNmU0KTtmdW5jdGlvbiBfcCh0LGUpe3JldHVybiB0LnRlbmFudElkJiYhZS50ZW5hbnRJZD9PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse3RlbmFudElkOnQudGVuYW50SWR9KTplfWZ1bmN0aW9uIHVzKHMsbyxhLGMpe3JldHVybiBnKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKih0LGUsbixyLGk9e30pe3JldHVybiBWVCh0LGksKCk9PmcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCB1PXt9LGw9e307ciYmKGU9PT0iR0VUIj9sPXI6dT17Ym9keTpKU09OLnN0cmluZ2lmeShyKX0pO2NvbnN0IGg9WG8oT2JqZWN0LmFzc2lnbih7a2V5OnQuY29uZmlnLmFwaUtleX0sbCkpLnNsaWNlKDEpLGQ9eWllbGQgdC5fZ2V0QWRkaXRpb25hbEhlYWRlcnMoKTtyZXR1cm4gZFsiQ29udGVudC1UeXBlIl09ImFwcGxpY2F0aW9uL2pzb24iLHQubGFuZ3VhZ2VDb2RlJiYoZFsiWC1GaXJlYmFzZS1Mb2NhbGUiXT10Lmxhbmd1YWdlQ29kZSksTFQuZmV0Y2goKShGVCh0LHQuY29uZmlnLmFwaUhvc3QsbixoKSxPYmplY3QuYXNzaWduKHttZXRob2Q6ZSxoZWFkZXJzOmQscmVmZXJyZXJQb2xpY3k6Im5vLXJlZmVycmVyIn0sdSkpfSkpfSl9ZnVuY3Rpb24gVlQodCxlLG4pe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0Ll9jYW5Jbml0RW11bGF0b3I9ITE7Y29uc3Qgcj1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sRUYpLGUpO3RyeXtjb25zdCBpPW5ldyBURih0KSxzPXlpZWxkIFByb21pc2UucmFjZShbbigpLGkucHJvbWlzZV0pO2kuY2xlYXJOZXR3b3JrVGltZW91dCgpO2NvbnN0IG89eWllbGQgcy5qc29uKCk7aWYoIm5lZWRDb25maXJtYXRpb24iaW4gbyl0aHJvdyBiYSh0LCJhY2NvdW50LWV4aXN0cy13aXRoLWRpZmZlcmVudC1jcmVkZW50aWFsIixvKTtpZihzLm9rJiYhKCJlcnJvck1lc3NhZ2UiaW4gbykpcmV0dXJuIG87e2NvbnN0IGE9cy5vaz9vLmVycm9yTWVzc2FnZTpvLmVycm9yLm1lc3NhZ2UsW2MsdV09YS5zcGxpdCgiIDogIik7aWYoYz09PSJGRURFUkFURURfVVNFUl9JRF9BTFJFQURZX0xJTktFRCIpdGhyb3cgYmEodCwiY3JlZGVudGlhbC1hbHJlYWR5LWluLXVzZSIsbyk7aWYoYz09PSJFTUFJTF9FWElTVFMiKXRocm93IGJhKHQsImVtYWlsLWFscmVhZHktaW4tdXNlIixvKTtpZihjPT09IlVTRVJfRElTQUJMRUQiKXRocm93IGJhKHQsInVzZXItZGlzYWJsZWQiLG8pO2NvbnN0IGw9cltjXXx8Yy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1tfXHNdKy9nLCItIik7aWYodSl0aHJvdyB4VCh0LGwsdSk7bW4odCxsKX19Y2F0Y2goaSl7aWYoaSBpbnN0YW5jZW9mIEtuKXRocm93IGk7bW4odCwibmV0d29yay1yZXF1ZXN0LWZhaWxlZCIse21lc3NhZ2U6U3RyaW5nKGkpfSl9fSl9ZnVuY3Rpb24gSUYocyxvLGEsYyl7cmV0dXJuIGcodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24qKHQsZSxuLHIsaT17fSl7Y29uc3QgdT15aWVsZCB1cyh0LGUsbixyLGkpO3JldHVybiJtZmFQZW5kaW5nQ3JlZGVudGlhbCJpbiB1JiZtbih0LCJtdWx0aS1mYWN0b3ItYXV0aC1yZXF1aXJlZCIse19zZXJ2ZXJSZXNwb25zZTp1fSksdX0pfWZ1bmN0aW9uIEZUKHQsZSxuLHIpe2NvbnN0IGk9YCR7ZX0ke259PyR7cn1gO3JldHVybiB0LmNvbmZpZy5lbXVsYXRvcj92cCh0LmNvbmZpZyxpKTpgJHt0LmNvbmZpZy5hcGlTY2hlbWV9Oi8vJHtpfWB9Y2xhc3MgVEZ7Y29uc3RydWN0b3IoZSl7dGhpcy5hdXRoPWUsdGhpcy50aW1lcj1udWxsLHRoaXMucHJvbWlzZT1uZXcgUHJvbWlzZSgobixyKT0+e3RoaXMudGltZXI9c2V0VGltZW91dCgoKT0+cihsbih0aGlzLmF1dGgsIm5ldHdvcmstcmVxdWVzdC1mYWlsZWQiKSksd0YuZ2V0KCkpfSl9Y2xlYXJOZXR3b3JrVGltZW91dCgpe2NsZWFyVGltZW91dCh0aGlzLnRpbWVyKX19ZnVuY3Rpb24gYmEodCxlLG4pe2NvbnN0IHI9e2FwcE5hbWU6dC5uYW1lfTtuLmVtYWlsJiYoci5lbWFpbD1uLmVtYWlsKSxuLnBob25lTnVtYmVyJiYoci5waG9uZU51bWJlcj1uLnBob25lTnVtYmVyKTtjb25zdCBpPWxuKHQsZSxyKTtyZXR1cm4gaS5jdXN0b21EYXRhLl90b2tlblJlc3BvbnNlPW4saX1mdW5jdGlvbiBTRih0LGUpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4gdXModCwiUE9TVCIsIi92MS9hY2NvdW50czpkZWxldGUiLGUpfSl9ZnVuY3Rpb24gQ0YodCxlKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIHVzKHQsIlBPU1QiLCIvdjEvYWNjb3VudHM6bG9va3VwIixlKX0pfWZ1bmN0aW9uIEZzKHQpe2lmKHQpdHJ5e2NvbnN0IGU9bmV3IERhdGUoTnVtYmVyKHQpKTtpZighaXNOYU4oZS5nZXRUaW1lKCkpKXJldHVybiBlLnRvVVRDU3RyaW5nKCl9Y2F0Y2h7fX1mdW5jdGlvbiBBRih0LGU9ITEpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCBuPW90KHQpLHI9eWllbGQgbi5nZXRJZFRva2VuKGUpLGk9RXAocik7SihpJiZpLmV4cCYmaS5hdXRoX3RpbWUmJmkuaWF0LG4uYXV0aCwiaW50ZXJuYWwtZXJyb3IiKTtjb25zdCBzPXR5cGVvZiBpLmZpcmViYXNlPT0ib2JqZWN0Ij9pLmZpcmViYXNlOnZvaWQgMCxvPXM/LnNpZ25faW5fcHJvdmlkZXI7cmV0dXJue2NsYWltczppLHRva2VuOnIsYXV0aFRpbWU6RnMoR2woaS5hdXRoX3RpbWUpKSxpc3N1ZWRBdFRpbWU6RnMoR2woaS5pYXQpKSxleHBpcmF0aW9uVGltZTpGcyhHbChpLmV4cCkpLHNpZ25JblByb3ZpZGVyOm98fG51bGwsc2lnbkluU2Vjb25kRmFjdG9yOnM/LnNpZ25faW5fc2Vjb25kX2ZhY3Rvcnx8bnVsbH19KX1mdW5jdGlvbiBHbCh0KXtyZXR1cm4gTnVtYmVyKHQpKjFlM31mdW5jdGlvbiBFcCh0KXtjb25zdFtlLG4scl09dC5zcGxpdCgiLiIpO2lmKGU9PT12b2lkIDB8fG49PT12b2lkIDB8fHI9PT12b2lkIDApcmV0dXJuIFhhKCJKV1QgbWFsZm9ybWVkLCBjb250YWluZWQgZmV3ZXIgdGhhbiAzIHNlY3Rpb25zIiksbnVsbDt0cnl7Y29uc3QgaT1FVChuKTtyZXR1cm4gaT9KU09OLnBhcnNlKGkpOihYYSgiRmFpbGVkIHRvIGRlY29kZSBiYXNlNjQgSldUIHBheWxvYWQiKSxudWxsKX1jYXRjaChpKXtyZXR1cm4gWGEoIkNhdWdodCBlcnJvciBwYXJzaW5nIEpXVCBwYXlsb2FkIGFzIEpTT04iLGk/LnRvU3RyaW5nKCkpLG51bGx9fWZ1bmN0aW9uIFJGKHQpe2NvbnN0IGU9RXAodCk7cmV0dXJuIEooZSwiaW50ZXJuYWwtZXJyb3IiKSxKKHR5cGVvZiBlLmV4cDwidSIsImludGVybmFsLWVycm9yIiksSih0eXBlb2YgZS5pYXQ8InUiLCJpbnRlcm5hbC1lcnJvciIpLE51bWJlcihlLmV4cCktTnVtYmVyKGUuaWF0KX1mdW5jdGlvbiBfbyh0LGUsbj0hMSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKG4pcmV0dXJuIGU7dHJ5e3JldHVybiB5aWVsZCBlfWNhdGNoKHIpe3Rocm93IHIgaW5zdGFuY2VvZiBLbiYmYkYocikmJnQuYXV0aC5jdXJyZW50VXNlcj09PXQmJih5aWVsZCB0LmF1dGguc2lnbk91dCgpKSxyfX0pfWZ1bmN0aW9uIGJGKHtjb2RlOnR9KXtyZXR1cm4gdD09PSJhdXRoL3VzZXItZGlzYWJsZWQifHx0PT09ImF1dGgvdXNlci10b2tlbi1leHBpcmVkIn1jbGFzcyBERntjb25zdHJ1Y3RvcihlKXt0aGlzLnVzZXI9ZSx0aGlzLmlzUnVubmluZz0hMSx0aGlzLnRpbWVySWQ9bnVsbCx0aGlzLmVycm9yQmFja29mZj0zZTR9X3N0YXJ0KCl7dGhpcy5pc1J1bm5pbmd8fCh0aGlzLmlzUnVubmluZz0hMCx0aGlzLnNjaGVkdWxlKCkpfV9zdG9wKCl7dGhpcy5pc1J1bm5pbmcmJih0aGlzLmlzUnVubmluZz0hMSx0aGlzLnRpbWVySWQhPT1udWxsJiZjbGVhclRpbWVvdXQodGhpcy50aW1lcklkKSl9Z2V0SW50ZXJ2YWwoZSl7dmFyIG47aWYoZSl7Y29uc3Qgcj10aGlzLmVycm9yQmFja29mZjtyZXR1cm4gdGhpcy5lcnJvckJhY2tvZmY9TWF0aC5taW4odGhpcy5lcnJvckJhY2tvZmYqMiw5NmU0KSxyfWVsc2V7dGhpcy5lcnJvckJhY2tvZmY9M2U0O2NvbnN0IGk9KChuPXRoaXMudXNlci5zdHNUb2tlbk1hbmFnZXIuZXhwaXJhdGlvblRpbWUpIT09bnVsbCYmbiE9PXZvaWQgMD9uOjApLURhdGUubm93KCktM2U1O3JldHVybiBNYXRoLm1heCgwLGkpfX1zY2hlZHVsZShlPSExKXtpZighdGhpcy5pc1J1bm5pbmcpcmV0dXJuO2NvbnN0IG49dGhpcy5nZXRJbnRlcnZhbChlKTt0aGlzLnRpbWVySWQ9c2V0VGltZW91dCgoKT0+Zyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5pdGVyYXRpb24oKX0pLG4pfWl0ZXJhdGlvbigpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0cnl7eWllbGQgdGhpcy51c2VyLmdldElkVG9rZW4oITApfWNhdGNoKGUpe2U/LmNvZGU9PT0iYXV0aC9uZXR3b3JrLXJlcXVlc3QtZmFpbGVkIiYmdGhpcy5zY2hlZHVsZSghMCk7cmV0dXJufXRoaXMuc2NoZWR1bGUoKX0pfX1jbGFzcyBVVHtjb25zdHJ1Y3RvcihlLG4pe3RoaXMuY3JlYXRlZEF0PWUsdGhpcy5sYXN0TG9naW5BdD1uLHRoaXMuX2luaXRpYWxpemVUaW1lKCl9X2luaXRpYWxpemVUaW1lKCl7dGhpcy5sYXN0U2lnbkluVGltZT1Gcyh0aGlzLmxhc3RMb2dpbkF0KSx0aGlzLmNyZWF0aW9uVGltZT1Gcyh0aGlzLmNyZWF0ZWRBdCl9X2NvcHkoZSl7dGhpcy5jcmVhdGVkQXQ9ZS5jcmVhdGVkQXQsdGhpcy5sYXN0TG9naW5BdD1lLmxhc3RMb2dpbkF0LHRoaXMuX2luaXRpYWxpemVUaW1lKCl9dG9KU09OKCl7cmV0dXJue2NyZWF0ZWRBdDp0aGlzLmNyZWF0ZWRBdCxsYXN0TG9naW5BdDp0aGlzLmxhc3RMb2dpbkF0fX19ZnVuY3Rpb24gUGModCl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciBlO2NvbnN0IG49dC5hdXRoLHI9eWllbGQgdC5nZXRJZFRva2VuKCksaT15aWVsZCBfbyh0LENGKG4se2lkVG9rZW46cn0pKTtKKGk/LnVzZXJzLmxlbmd0aCxuLCJpbnRlcm5hbC1lcnJvciIpO2NvbnN0IHM9aS51c2Vyc1swXTt0Ll9ub3RpZnlSZWxvYWRMaXN0ZW5lcihzKTtjb25zdCBvPSEoKGU9cy5wcm92aWRlclVzZXJJbmZvKT09PW51bGx8fGU9PT12b2lkIDApJiZlLmxlbmd0aD9ORihzLnByb3ZpZGVyVXNlckluZm8pOltdLGE9TUYodC5wcm92aWRlckRhdGEsbyksYz10LmlzQW5vbnltb3VzLHU9ISh0LmVtYWlsJiZzLnBhc3N3b3JkSGFzaCkmJiFhPy5sZW5ndGgsbD1jP3U6ITEsaD17dWlkOnMubG9jYWxJZCxkaXNwbGF5TmFtZTpzLmRpc3BsYXlOYW1lfHxudWxsLHBob3RvVVJMOnMucGhvdG9Vcmx8fG51bGwsZW1haWw6cy5lbWFpbHx8bnVsbCxlbWFpbFZlcmlmaWVkOnMuZW1haWxWZXJpZmllZHx8ITEscGhvbmVOdW1iZXI6cy5waG9uZU51bWJlcnx8bnVsbCx0ZW5hbnRJZDpzLnRlbmFudElkfHxudWxsLHByb3ZpZGVyRGF0YTphLG1ldGFkYXRhOm5ldyBVVChzLmNyZWF0ZWRBdCxzLmxhc3RMb2dpbkF0KSxpc0Fub255bW91czpsfTtPYmplY3QuYXNzaWduKHQsaCl9KX1mdW5jdGlvbiBQRih0KXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3QgZT1vdCh0KTt5aWVsZCBQYyhlKSx5aWVsZCBlLmF1dGguX3BlcnNpc3RVc2VySWZDdXJyZW50KGUpLGUuYXV0aC5fbm90aWZ5TGlzdGVuZXJzSWZDdXJyZW50KGUpfSl9ZnVuY3Rpb24gTUYodCxlKXtyZXR1cm5bLi4udC5maWx0ZXIocj0+IWUuc29tZShpPT5pLnByb3ZpZGVySWQ9PT1yLnByb3ZpZGVySWQpKSwuLi5lXX1mdW5jdGlvbiBORih0KXtyZXR1cm4gdC5tYXAoZT0+e3Zhcntwcm92aWRlcklkOm59PWUscj1RZChlLFsicHJvdmlkZXJJZCJdKTtyZXR1cm57cHJvdmlkZXJJZDpuLHVpZDpyLnJhd0lkfHwiIixkaXNwbGF5TmFtZTpyLmRpc3BsYXlOYW1lfHxudWxsLGVtYWlsOnIuZW1haWx8fG51bGwscGhvbmVOdW1iZXI6ci5waG9uZU51bWJlcnx8bnVsbCxwaG90b1VSTDpyLnBob3RvVXJsfHxudWxsfX0pfWZ1bmN0aW9uIGtGKHQsZSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0IG49eWllbGQgVlQodCx7fSwoKT0+Zyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3Qgcj1Ybyh7Z3JhbnRfdHlwZToicmVmcmVzaF90b2tlbiIscmVmcmVzaF90b2tlbjplfSkuc2xpY2UoMSkse3Rva2VuQXBpSG9zdDppLGFwaUtleTpzfT10LmNvbmZpZyxvPUZUKHQsaSwiL3YxL3Rva2VuIixga2V5PSR7c31gKSxhPXlpZWxkIHQuX2dldEFkZGl0aW9uYWxIZWFkZXJzKCk7cmV0dXJuIGFbIkNvbnRlbnQtVHlwZSJdPSJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLExULmZldGNoKCkobyx7bWV0aG9kOiJQT1NUIixoZWFkZXJzOmEsYm9keTpyfSl9KSk7cmV0dXJue2FjY2Vzc1Rva2VuOm4uYWNjZXNzX3Rva2VuLGV4cGlyZXNJbjpuLmV4cGlyZXNfaW4scmVmcmVzaFRva2VuOm4ucmVmcmVzaF90b2tlbn19KX1mdW5jdGlvbiBPRih0LGUpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4gdXModCwiUE9TVCIsIi92Mi9hY2NvdW50czpyZXZva2VUb2tlbiIsX3AodCxlKSl9KX1jbGFzcyBFb3tjb25zdHJ1Y3Rvcigpe3RoaXMucmVmcmVzaFRva2VuPW51bGwsdGhpcy5hY2Nlc3NUb2tlbj1udWxsLHRoaXMuZXhwaXJhdGlvblRpbWU9bnVsbH1nZXQgaXNFeHBpcmVkKCl7cmV0dXJuIXRoaXMuZXhwaXJhdGlvblRpbWV8fERhdGUubm93KCk+dGhpcy5leHBpcmF0aW9uVGltZS0zZTR9dXBkYXRlRnJvbVNlcnZlclJlc3BvbnNlKGUpe0ooZS5pZFRva2VuLCJpbnRlcm5hbC1lcnJvciIpLEoodHlwZW9mIGUuaWRUb2tlbjwidSIsImludGVybmFsLWVycm9yIiksSih0eXBlb2YgZS5yZWZyZXNoVG9rZW48InUiLCJpbnRlcm5hbC1lcnJvciIpO2NvbnN0IG49ImV4cGlyZXNJbiJpbiBlJiZ0eXBlb2YgZS5leHBpcmVzSW48InUiP051bWJlcihlLmV4cGlyZXNJbik6UkYoZS5pZFRva2VuKTt0aGlzLnVwZGF0ZVRva2Vuc0FuZEV4cGlyYXRpb24oZS5pZFRva2VuLGUucmVmcmVzaFRva2VuLG4pfWdldFRva2VuKGUsbj0hMSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3JldHVybiBKKCF0aGlzLmFjY2Vzc1Rva2VufHx0aGlzLnJlZnJlc2hUb2tlbixlLCJ1c2VyLXRva2VuLWV4cGlyZWQiKSwhbiYmdGhpcy5hY2Nlc3NUb2tlbiYmIXRoaXMuaXNFeHBpcmVkP3RoaXMuYWNjZXNzVG9rZW46dGhpcy5yZWZyZXNoVG9rZW4/KHlpZWxkIHRoaXMucmVmcmVzaChlLHRoaXMucmVmcmVzaFRva2VuKSx0aGlzLmFjY2Vzc1Rva2VuKTpudWxsfSl9Y2xlYXJSZWZyZXNoVG9rZW4oKXt0aGlzLnJlZnJlc2hUb2tlbj1udWxsfXJlZnJlc2goZSxuKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3R7YWNjZXNzVG9rZW46cixyZWZyZXNoVG9rZW46aSxleHBpcmVzSW46c309eWllbGQga0YoZSxuKTt0aGlzLnVwZGF0ZVRva2Vuc0FuZEV4cGlyYXRpb24ocixpLE51bWJlcihzKSl9KX11cGRhdGVUb2tlbnNBbmRFeHBpcmF0aW9uKGUsbixyKXt0aGlzLnJlZnJlc2hUb2tlbj1ufHxudWxsLHRoaXMuYWNjZXNzVG9rZW49ZXx8bnVsbCx0aGlzLmV4cGlyYXRpb25UaW1lPURhdGUubm93KCkrcioxZTN9c3RhdGljIGZyb21KU09OKGUsbil7Y29uc3R7cmVmcmVzaFRva2VuOnIsYWNjZXNzVG9rZW46aSxleHBpcmF0aW9uVGltZTpzfT1uLG89bmV3IEVvO3JldHVybiByJiYoSih0eXBlb2Ygcj09InN0cmluZyIsImludGVybmFsLWVycm9yIix7YXBwTmFtZTplfSksby5yZWZyZXNoVG9rZW49ciksaSYmKEoodHlwZW9mIGk9PSJzdHJpbmciLCJpbnRlcm5hbC1lcnJvciIse2FwcE5hbWU6ZX0pLG8uYWNjZXNzVG9rZW49aSkscyYmKEoodHlwZW9mIHM9PSJudW1iZXIiLCJpbnRlcm5hbC1lcnJvciIse2FwcE5hbWU6ZX0pLG8uZXhwaXJhdGlvblRpbWU9cyksb310b0pTT04oKXtyZXR1cm57cmVmcmVzaFRva2VuOnRoaXMucmVmcmVzaFRva2VuLGFjY2Vzc1Rva2VuOnRoaXMuYWNjZXNzVG9rZW4sZXhwaXJhdGlvblRpbWU6dGhpcy5leHBpcmF0aW9uVGltZX19X2Fzc2lnbihlKXt0aGlzLmFjY2Vzc1Rva2VuPWUuYWNjZXNzVG9rZW4sdGhpcy5yZWZyZXNoVG9rZW49ZS5yZWZyZXNoVG9rZW4sdGhpcy5leHBpcmF0aW9uVGltZT1lLmV4cGlyYXRpb25UaW1lfV9jbG9uZSgpe3JldHVybiBPYmplY3QuYXNzaWduKG5ldyBFbyx0aGlzLnRvSlNPTigpKX1fcGVyZm9ybVJlZnJlc2goKXtyZXR1cm4gYm4oIm5vdCBpbXBsZW1lbnRlZCIpfX1mdW5jdGlvbiBabih0LGUpe0oodHlwZW9mIHQ9PSJzdHJpbmcifHx0eXBlb2YgdD4idSIsImludGVybmFsLWVycm9yIix7YXBwTmFtZTplfSl9Y2xhc3MgT3J7Y29uc3RydWN0b3IoZSl7dmFye3VpZDpuLGF1dGg6cixzdHNUb2tlbk1hbmFnZXI6aX09ZSxzPVFkKGUsWyJ1aWQiLCJhdXRoIiwic3RzVG9rZW5NYW5hZ2VyIl0pO3RoaXMucHJvdmlkZXJJZD0iZmlyZWJhc2UiLHRoaXMucHJvYWN0aXZlUmVmcmVzaD1uZXcgREYodGhpcyksdGhpcy5yZWxvYWRVc2VySW5mbz1udWxsLHRoaXMucmVsb2FkTGlzdGVuZXI9bnVsbCx0aGlzLnVpZD1uLHRoaXMuYXV0aD1yLHRoaXMuc3RzVG9rZW5NYW5hZ2VyPWksdGhpcy5hY2Nlc3NUb2tlbj1pLmFjY2Vzc1Rva2VuLHRoaXMuZGlzcGxheU5hbWU9cy5kaXNwbGF5TmFtZXx8bnVsbCx0aGlzLmVtYWlsPXMuZW1haWx8fG51bGwsdGhpcy5lbWFpbFZlcmlmaWVkPXMuZW1haWxWZXJpZmllZHx8ITEsdGhpcy5waG9uZU51bWJlcj1zLnBob25lTnVtYmVyfHxudWxsLHRoaXMucGhvdG9VUkw9cy5waG90b1VSTHx8bnVsbCx0aGlzLmlzQW5vbnltb3VzPXMuaXNBbm9ueW1vdXN8fCExLHRoaXMudGVuYW50SWQ9cy50ZW5hbnRJZHx8bnVsbCx0aGlzLnByb3ZpZGVyRGF0YT1zLnByb3ZpZGVyRGF0YT9bLi4ucy5wcm92aWRlckRhdGFdOltdLHRoaXMubWV0YWRhdGE9bmV3IFVUKHMuY3JlYXRlZEF0fHx2b2lkIDAscy5sYXN0TG9naW5BdHx8dm9pZCAwKX1nZXRJZFRva2VuKGUpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCBuPXlpZWxkIF9vKHRoaXMsdGhpcy5zdHNUb2tlbk1hbmFnZXIuZ2V0VG9rZW4odGhpcy5hdXRoLGUpKTtyZXR1cm4gSihuLHRoaXMuYXV0aCwiaW50ZXJuYWwtZXJyb3IiKSx0aGlzLmFjY2Vzc1Rva2VuIT09biYmKHRoaXMuYWNjZXNzVG9rZW49bix5aWVsZCB0aGlzLmF1dGguX3BlcnNpc3RVc2VySWZDdXJyZW50KHRoaXMpLHRoaXMuYXV0aC5fbm90aWZ5TGlzdGVuZXJzSWZDdXJyZW50KHRoaXMpKSxufSl9Z2V0SWRUb2tlblJlc3VsdChlKXtyZXR1cm4gQUYodGhpcyxlKX1yZWxvYWQoKXtyZXR1cm4gUEYodGhpcyl9X2Fzc2lnbihlKXt0aGlzIT09ZSYmKEoodGhpcy51aWQ9PT1lLnVpZCx0aGlzLmF1dGgsImludGVybmFsLWVycm9yIiksdGhpcy5kaXNwbGF5TmFtZT1lLmRpc3BsYXlOYW1lLHRoaXMucGhvdG9VUkw9ZS5waG90b1VSTCx0aGlzLmVtYWlsPWUuZW1haWwsdGhpcy5lbWFpbFZlcmlmaWVkPWUuZW1haWxWZXJpZmllZCx0aGlzLnBob25lTnVtYmVyPWUucGhvbmVOdW1iZXIsdGhpcy5pc0Fub255bW91cz1lLmlzQW5vbnltb3VzLHRoaXMudGVuYW50SWQ9ZS50ZW5hbnRJZCx0aGlzLnByb3ZpZGVyRGF0YT1lLnByb3ZpZGVyRGF0YS5tYXAobj0+T2JqZWN0LmFzc2lnbih7fSxuKSksdGhpcy5tZXRhZGF0YS5fY29weShlLm1ldGFkYXRhKSx0aGlzLnN0c1Rva2VuTWFuYWdlci5fYXNzaWduKGUuc3RzVG9rZW5NYW5hZ2VyKSl9X2Nsb25lKGUpe2NvbnN0IG49bmV3IE9yKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzKSx7YXV0aDplLHN0c1Rva2VuTWFuYWdlcjp0aGlzLnN0c1Rva2VuTWFuYWdlci5fY2xvbmUoKX0pKTtyZXR1cm4gbi5tZXRhZGF0YS5fY29weSh0aGlzLm1ldGFkYXRhKSxufV9vblJlbG9hZChlKXtKKCF0aGlzLnJlbG9hZExpc3RlbmVyLHRoaXMuYXV0aCwiaW50ZXJuYWwtZXJyb3IiKSx0aGlzLnJlbG9hZExpc3RlbmVyPWUsdGhpcy5yZWxvYWRVc2VySW5mbyYmKHRoaXMuX25vdGlmeVJlbG9hZExpc3RlbmVyKHRoaXMucmVsb2FkVXNlckluZm8pLHRoaXMucmVsb2FkVXNlckluZm89bnVsbCl9X25vdGlmeVJlbG9hZExpc3RlbmVyKGUpe3RoaXMucmVsb2FkTGlzdGVuZXI/dGhpcy5yZWxvYWRMaXN0ZW5lcihlKTp0aGlzLnJlbG9hZFVzZXJJbmZvPWV9X3N0YXJ0UHJvYWN0aXZlUmVmcmVzaCgpe3RoaXMucHJvYWN0aXZlUmVmcmVzaC5fc3RhcnQoKX1fc3RvcFByb2FjdGl2ZVJlZnJlc2goKXt0aGlzLnByb2FjdGl2ZVJlZnJlc2guX3N0b3AoKX1fdXBkYXRlVG9rZW5zSWZOZWNlc3NhcnkoZSxuPSExKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IHI9ITE7ZS5pZFRva2VuJiZlLmlkVG9rZW4hPT10aGlzLnN0c1Rva2VuTWFuYWdlci5hY2Nlc3NUb2tlbiYmKHRoaXMuc3RzVG9rZW5NYW5hZ2VyLnVwZGF0ZUZyb21TZXJ2ZXJSZXNwb25zZShlKSxyPSEwKSxuJiYoeWllbGQgUGModGhpcykpLHlpZWxkIHRoaXMuYXV0aC5fcGVyc2lzdFVzZXJJZkN1cnJlbnQodGhpcyksciYmdGhpcy5hdXRoLl9ub3RpZnlMaXN0ZW5lcnNJZkN1cnJlbnQodGhpcyl9KX1kZWxldGUoKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3QgZT15aWVsZCB0aGlzLmdldElkVG9rZW4oKTtyZXR1cm4geWllbGQgX28odGhpcyxTRih0aGlzLmF1dGgse2lkVG9rZW46ZX0pKSx0aGlzLnN0c1Rva2VuTWFuYWdlci5jbGVhclJlZnJlc2hUb2tlbigpLHRoaXMuYXV0aC5zaWduT3V0KCl9KX10b0pTT04oKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt1aWQ6dGhpcy51aWQsZW1haWw6dGhpcy5lbWFpbHx8dm9pZCAwLGVtYWlsVmVyaWZpZWQ6dGhpcy5lbWFpbFZlcmlmaWVkLGRpc3BsYXlOYW1lOnRoaXMuZGlzcGxheU5hbWV8fHZvaWQgMCxpc0Fub255bW91czp0aGlzLmlzQW5vbnltb3VzLHBob3RvVVJMOnRoaXMucGhvdG9VUkx8fHZvaWQgMCxwaG9uZU51bWJlcjp0aGlzLnBob25lTnVtYmVyfHx2b2lkIDAsdGVuYW50SWQ6dGhpcy50ZW5hbnRJZHx8dm9pZCAwLHByb3ZpZGVyRGF0YTp0aGlzLnByb3ZpZGVyRGF0YS5tYXAoZT0+T2JqZWN0LmFzc2lnbih7fSxlKSksc3RzVG9rZW5NYW5hZ2VyOnRoaXMuc3RzVG9rZW5NYW5hZ2VyLnRvSlNPTigpLF9yZWRpcmVjdEV2ZW50SWQ6dGhpcy5fcmVkaXJlY3RFdmVudElkfSx0aGlzLm1ldGFkYXRhLnRvSlNPTigpKSx7YXBpS2V5OnRoaXMuYXV0aC5jb25maWcuYXBpS2V5LGFwcE5hbWU6dGhpcy5hdXRoLm5hbWV9KX1nZXQgcmVmcmVzaFRva2VuKCl7cmV0dXJuIHRoaXMuc3RzVG9rZW5NYW5hZ2VyLnJlZnJlc2hUb2tlbnx8IiJ9c3RhdGljIF9mcm9tSlNPTihlLG4pe3ZhciByLGkscyxvLGEsYyx1LGw7Y29uc3QgaD0ocj1uLmRpc3BsYXlOYW1lKSE9PW51bGwmJnIhPT12b2lkIDA/cjp2b2lkIDAsZD0oaT1uLmVtYWlsKSE9PW51bGwmJmkhPT12b2lkIDA/aTp2b2lkIDAsZj0ocz1uLnBob25lTnVtYmVyKSE9PW51bGwmJnMhPT12b2lkIDA/czp2b2lkIDAsbT0obz1uLnBob3RvVVJMKSE9PW51bGwmJm8hPT12b2lkIDA/bzp2b2lkIDAseT0oYT1uLnRlbmFudElkKSE9PW51bGwmJmEhPT12b2lkIDA/YTp2b2lkIDAsXz0oYz1uLl9yZWRpcmVjdEV2ZW50SWQpIT09bnVsbCYmYyE9PXZvaWQgMD9jOnZvaWQgMCxUPSh1PW4uY3JlYXRlZEF0KSE9PW51bGwmJnUhPT12b2lkIDA/dTp2b2lkIDAsQz0obD1uLmxhc3RMb2dpbkF0KSE9PW51bGwmJmwhPT12b2lkIDA/bDp2b2lkIDAse3VpZDpTLGVtYWlsVmVyaWZpZWQ6Vixpc0Fub255bW91czpVLHByb3ZpZGVyRGF0YTpILHN0c1Rva2VuTWFuYWdlcjpCfT1uO0ooUyYmQixlLCJpbnRlcm5hbC1lcnJvciIpO2NvbnN0IE89RW8uZnJvbUpTT04odGhpcy5uYW1lLEIpO0oodHlwZW9mIFM9PSJzdHJpbmciLGUsImludGVybmFsLWVycm9yIiksWm4oaCxlLm5hbWUpLFpuKGQsZS5uYW1lKSxKKHR5cGVvZiBWPT0iYm9vbGVhbiIsZSwiaW50ZXJuYWwtZXJyb3IiKSxKKHR5cGVvZiBVPT0iYm9vbGVhbiIsZSwiaW50ZXJuYWwtZXJyb3IiKSxabihmLGUubmFtZSksWm4obSxlLm5hbWUpLFpuKHksZS5uYW1lKSxabihfLGUubmFtZSksWm4oVCxlLm5hbWUpLFpuKEMsZS5uYW1lKTtjb25zdCBmZT1uZXcgT3Ioe3VpZDpTLGF1dGg6ZSxlbWFpbDpkLGVtYWlsVmVyaWZpZWQ6VixkaXNwbGF5TmFtZTpoLGlzQW5vbnltb3VzOlUscGhvdG9VUkw6bSxwaG9uZU51bWJlcjpmLHRlbmFudElkOnksc3RzVG9rZW5NYW5hZ2VyOk8sY3JlYXRlZEF0OlQsbGFzdExvZ2luQXQ6Q30pO3JldHVybiBIJiZBcnJheS5pc0FycmF5KEgpJiYoZmUucHJvdmlkZXJEYXRhPUgubWFwKE49Pk9iamVjdC5hc3NpZ24oe30sTikpKSxfJiYoZmUuX3JlZGlyZWN0RXZlbnRJZD1fKSxmZX1zdGF0aWMgX2Zyb21JZFRva2VuUmVzcG9uc2UoZSxuLHI9ITEpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCBpPW5ldyBFbztpLnVwZGF0ZUZyb21TZXJ2ZXJSZXNwb25zZShuKTtjb25zdCBzPW5ldyBPcih7dWlkOm4ubG9jYWxJZCxhdXRoOmUsc3RzVG9rZW5NYW5hZ2VyOmksaXNBbm9ueW1vdXM6cn0pO3JldHVybiB5aWVsZCBQYyhzKSxzfSl9fWNvbnN0IHl5PW5ldyBNYXA7ZnVuY3Rpb24gRG4odCl7JG4odCBpbnN0YW5jZW9mIEZ1bmN0aW9uLCJFeHBlY3RlZCBhIGNsYXNzIGRlZmluaXRpb24iKTtsZXQgZT15eS5nZXQodCk7cmV0dXJuIGU/KCRuKGUgaW5zdGFuY2VvZiB0LCJJbnN0YW5jZSBzdG9yZWQgaW4gY2FjaGUgbWlzbWF0Y2hlZCB3aXRoIGNsYXNzIiksZSk6KGU9bmV3IHQseXkuc2V0KHQsZSksZSl9bGV0IHhGPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLnR5cGU9Ik5PTkUiLHRoaXMuc3RvcmFnZT17fX1faXNBdmFpbGFibGUoKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuITB9KX1fc2V0KG4scil7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3RoaXMuc3RvcmFnZVtuXT1yfSl9X2dldChuKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3Qgcj10aGlzLnN0b3JhZ2Vbbl07cmV0dXJuIHI9PT12b2lkIDA/bnVsbDpyfSl9X3JlbW92ZShuKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7ZGVsZXRlIHRoaXMuc3RvcmFnZVtuXX0pfV9hZGRMaXN0ZW5lcihuLHIpe31fcmVtb3ZlTGlzdGVuZXIobixyKXt9fXJldHVybiB0LnR5cGU9Ik5PTkUiLHR9KSgpO2NvbnN0IHZ5PXhGO2Z1bmN0aW9uIFlhKHQsZSxuKXtyZXR1cm5gZmlyZWJhc2U6JHt0fToke2V9OiR7bn1gfWNsYXNzIFJpe2NvbnN0cnVjdG9yKGUsbixyKXt0aGlzLnBlcnNpc3RlbmNlPWUsdGhpcy5hdXRoPW4sdGhpcy51c2VyS2V5PXI7Y29uc3R7Y29uZmlnOmksbmFtZTpzfT10aGlzLmF1dGg7dGhpcy5mdWxsVXNlcktleT1ZYSh0aGlzLnVzZXJLZXksaS5hcGlLZXkscyksdGhpcy5mdWxsUGVyc2lzdGVuY2VLZXk9WWEoInBlcnNpc3RlbmNlIixpLmFwaUtleSxzKSx0aGlzLmJvdW5kRXZlbnRIYW5kbGVyPW4uX29uU3RvcmFnZUV2ZW50LmJpbmQobiksdGhpcy5wZXJzaXN0ZW5jZS5fYWRkTGlzdGVuZXIodGhpcy5mdWxsVXNlcktleSx0aGlzLmJvdW5kRXZlbnRIYW5kbGVyKX1zZXRDdXJyZW50VXNlcihlKXtyZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5fc2V0KHRoaXMuZnVsbFVzZXJLZXksZS50b0pTT04oKSl9Z2V0Q3VycmVudFVzZXIoKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3QgZT15aWVsZCB0aGlzLnBlcnNpc3RlbmNlLl9nZXQodGhpcy5mdWxsVXNlcktleSk7cmV0dXJuIGU/T3IuX2Zyb21KU09OKHRoaXMuYXV0aCxlKTpudWxsfSl9cmVtb3ZlQ3VycmVudFVzZXIoKXtyZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5fcmVtb3ZlKHRoaXMuZnVsbFVzZXJLZXkpfXNhdmVQZXJzaXN0ZW5jZUZvclJlZGlyZWN0KCl7cmV0dXJuIHRoaXMucGVyc2lzdGVuY2UuX3NldCh0aGlzLmZ1bGxQZXJzaXN0ZW5jZUtleSx0aGlzLnBlcnNpc3RlbmNlLnR5cGUpfXNldFBlcnNpc3RlbmNlKGUpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZih0aGlzLnBlcnNpc3RlbmNlPT09ZSlyZXR1cm47Y29uc3Qgbj15aWVsZCB0aGlzLmdldEN1cnJlbnRVc2VyKCk7aWYoeWllbGQgdGhpcy5yZW1vdmVDdXJyZW50VXNlcigpLHRoaXMucGVyc2lzdGVuY2U9ZSxuKXJldHVybiB0aGlzLnNldEN1cnJlbnRVc2VyKG4pfSl9ZGVsZXRlKCl7dGhpcy5wZXJzaXN0ZW5jZS5fcmVtb3ZlTGlzdGVuZXIodGhpcy5mdWxsVXNlcktleSx0aGlzLmJvdW5kRXZlbnRIYW5kbGVyKX1zdGF0aWMgY3JlYXRlKGUsbixyPSJhdXRoVXNlciIpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZighbi5sZW5ndGgpcmV0dXJuIG5ldyBSaShEbih2eSksZSxyKTtjb25zdCBpPSh5aWVsZCBQcm9taXNlLmFsbChuLm1hcCh1PT5nKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZih5aWVsZCB1Ll9pc0F2YWlsYWJsZSgpKXJldHVybiB1fSkpKSkuZmlsdGVyKHU9PnUpO2xldCBzPWlbMF18fERuKHZ5KTtjb25zdCBvPVlhKHIsZS5jb25maWcuYXBpS2V5LGUubmFtZSk7bGV0IGE9bnVsbDtmb3IoY29uc3QgdSBvZiBuKXRyeXtjb25zdCBsPXlpZWxkIHUuX2dldChvKTtpZihsKXtjb25zdCBoPU9yLl9mcm9tSlNPTihlLGwpO3UhPT1zJiYoYT1oKSxzPXU7YnJlYWt9fWNhdGNoe31jb25zdCBjPWkuZmlsdGVyKHU9PnUuX3Nob3VsZEFsbG93TWlncmF0aW9uKTtyZXR1cm4hcy5fc2hvdWxkQWxsb3dNaWdyYXRpb258fCFjLmxlbmd0aD9uZXcgUmkocyxlLHIpOihzPWNbMF0sYSYmKHlpZWxkIHMuX3NldChvLGEudG9KU09OKCkpKSx5aWVsZCBQcm9taXNlLmFsbChuLm1hcCh1PT5nKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZih1IT09cyl0cnl7eWllbGQgdS5fcmVtb3ZlKG8pfWNhdGNoe319KSkpLG5ldyBSaShzLGUscikpfSl9fWZ1bmN0aW9uIF95KHQpe2NvbnN0IGU9dC50b0xvd2VyQ2FzZSgpO2lmKGUuaW5jbHVkZXMoIm9wZXJhLyIpfHxlLmluY2x1ZGVzKCJvcHIvIil8fGUuaW5jbHVkZXMoIm9waW9zLyIpKXJldHVybiJPcGVyYSI7aWYoQlQoZSkpcmV0dXJuIklFTW9iaWxlIjtpZihlLmluY2x1ZGVzKCJtc2llIil8fGUuaW5jbHVkZXMoInRyaWRlbnQvIikpcmV0dXJuIklFIjtpZihlLmluY2x1ZGVzKCJlZGdlLyIpKXJldHVybiJFZGdlIjtpZihqVChlKSlyZXR1cm4iRmlyZWZveCI7aWYoZS5pbmNsdWRlcygic2lsay8iKSlyZXR1cm4iU2lsayI7aWYocVQoZSkpcmV0dXJuIkJsYWNrYmVycnkiO2lmKHpUKGUpKXJldHVybiJXZWJvcyI7aWYod3AoZSkpcmV0dXJuIlNhZmFyaSI7aWYoKGUuaW5jbHVkZXMoImNocm9tZS8iKXx8JFQoZSkpJiYhZS5pbmNsdWRlcygiZWRnZS8iKSlyZXR1cm4iQ2hyb21lIjtpZihIVChlKSlyZXR1cm4iQW5kcm9pZCI7e2NvbnN0IG49LyhbYS16QS1aXGRcLl0rKVwvW2EtekEtWlxkXC5dKiQvLHI9dC5tYXRjaChuKTtpZihyPy5sZW5ndGg9PT0yKXJldHVybiByWzFdfXJldHVybiJPdGhlciJ9ZnVuY3Rpb24galQodD0kZSgpKXtyZXR1cm4vZmlyZWZveFwvL2kudGVzdCh0KX1mdW5jdGlvbiB3cCh0PSRlKCkpe2NvbnN0IGU9dC50b0xvd2VyQ2FzZSgpO3JldHVybiBlLmluY2x1ZGVzKCJzYWZhcmkvIikmJiFlLmluY2x1ZGVzKCJjaHJvbWUvIikmJiFlLmluY2x1ZGVzKCJjcmlvcy8iKSYmIWUuaW5jbHVkZXMoImFuZHJvaWQiKX1mdW5jdGlvbiAkVCh0PSRlKCkpe3JldHVybi9jcmlvc1wvL2kudGVzdCh0KX1mdW5jdGlvbiBCVCh0PSRlKCkpe3JldHVybi9pZW1vYmlsZS9pLnRlc3QodCl9ZnVuY3Rpb24gSFQodD0kZSgpKXtyZXR1cm4vYW5kcm9pZC9pLnRlc3QodCl9ZnVuY3Rpb24gcVQodD0kZSgpKXtyZXR1cm4vYmxhY2tiZXJyeS9pLnRlc3QodCl9ZnVuY3Rpb24gelQodD0kZSgpKXtyZXR1cm4vd2Vib3MvaS50ZXN0KHQpfWZ1bmN0aW9uIER1KHQ9JGUoKSl7cmV0dXJuL2lwaG9uZXxpcGFkfGlwb2QvaS50ZXN0KHQpfHwvbWFjaW50b3NoL2kudGVzdCh0KSYmL21vYmlsZS9pLnRlc3QodCl9ZnVuY3Rpb24gTEYodD0kZSgpKXt2YXIgZTtyZXR1cm4gRHUodCkmJiEhKCEoKGU9d2luZG93Lm5hdmlnYXRvcik9PT1udWxsfHxlPT09dm9pZCAwKSYmZS5zdGFuZGFsb25lKX1mdW5jdGlvbiBWRigpe3JldHVybiBGMSgpJiZkb2N1bWVudC5kb2N1bWVudE1vZGU9PT0xMH1mdW5jdGlvbiBXVCh0PSRlKCkpe3JldHVybiBEdSh0KXx8SFQodCl8fHpUKHQpfHxxVCh0KXx8L3dpbmRvd3MgcGhvbmUvaS50ZXN0KHQpfHxCVCh0KX1mdW5jdGlvbiBGRigpe3RyeXtyZXR1cm4hISh3aW5kb3cmJndpbmRvdyE9PXdpbmRvdy50b3ApfWNhdGNoe3JldHVybiExfX1mdW5jdGlvbiBHVCh0LGU9W10pe2xldCBuO3N3aXRjaCh0KXtjYXNlIkJyb3dzZXIiOm49X3koJGUoKSk7YnJlYWs7Y2FzZSJXb3JrZXIiOm49YCR7X3koJGUoKSl9LSR7dH1gO2JyZWFrO2RlZmF1bHQ6bj10fWNvbnN0IHI9ZS5sZW5ndGg/ZS5qb2luKCIsIik6IkZpcmViYXNlQ29yZS13ZWIiO3JldHVybmAke259L0pzQ29yZS8ke2NzfS8ke3J9YH1jbGFzcyBVRntjb25zdHJ1Y3RvcihlKXt0aGlzLmF1dGg9ZSx0aGlzLnF1ZXVlPVtdfXB1c2hDYWxsYmFjayhlLG4pe2NvbnN0IHI9cz0+bmV3IFByb21pc2UoKG8sYSk9Pnt0cnl7Y29uc3QgYz1lKHMpO28oYyl9Y2F0Y2goYyl7YShjKX19KTtyLm9uQWJvcnQ9bix0aGlzLnF1ZXVlLnB1c2gocik7Y29uc3QgaT10aGlzLnF1ZXVlLmxlbmd0aC0xO3JldHVybigpPT57dGhpcy5xdWV1ZVtpXT0oKT0+UHJvbWlzZS5yZXNvbHZlKCl9fXJ1bk1pZGRsZXdhcmUoZSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKHRoaXMuYXV0aC5jdXJyZW50VXNlcj09PWUpcmV0dXJuO2NvbnN0IG49W107dHJ5e2Zvcihjb25zdCByIG9mIHRoaXMucXVldWUpeWllbGQgcihlKSxyLm9uQWJvcnQmJm4ucHVzaChyLm9uQWJvcnQpfWNhdGNoKHIpe24ucmV2ZXJzZSgpO2Zvcihjb25zdCBpIG9mIG4pdHJ5e2koKX1jYXRjaHt9dGhyb3cgdGhpcy5hdXRoLl9lcnJvckZhY3RvcnkuY3JlYXRlKCJsb2dpbi1ibG9ja2VkIix7b3JpZ2luYWxNZXNzYWdlOnI/Lm1lc3NhZ2V9KX19KX19ZnVuY3Rpb24gakYobil7cmV0dXJuIGcodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24qKHQsZT17fSl7cmV0dXJuIHVzKHQsIkdFVCIsIi92Mi9wYXNzd29yZFBvbGljeSIsX3AodCxlKSl9KX1jb25zdCAkRj02O2NsYXNzIEJGe2NvbnN0cnVjdG9yKGUpe3ZhciBuLHIsaSxzO2NvbnN0IG89ZS5jdXN0b21TdHJlbmd0aE9wdGlvbnM7dGhpcy5jdXN0b21TdHJlbmd0aE9wdGlvbnM9e30sdGhpcy5jdXN0b21TdHJlbmd0aE9wdGlvbnMubWluUGFzc3dvcmRMZW5ndGg9KG49by5taW5QYXNzd29yZExlbmd0aCkhPT1udWxsJiZuIT09dm9pZCAwP246JEYsby5tYXhQYXNzd29yZExlbmd0aCYmKHRoaXMuY3VzdG9tU3RyZW5ndGhPcHRpb25zLm1heFBhc3N3b3JkTGVuZ3RoPW8ubWF4UGFzc3dvcmRMZW5ndGgpLG8uY29udGFpbnNMb3dlcmNhc2VDaGFyYWN0ZXIhPT12b2lkIDAmJih0aGlzLmN1c3RvbVN0cmVuZ3RoT3B0aW9ucy5jb250YWluc0xvd2VyY2FzZUxldHRlcj1vLmNvbnRhaW5zTG93ZXJjYXNlQ2hhcmFjdGVyKSxvLmNvbnRhaW5zVXBwZXJjYXNlQ2hhcmFjdGVyIT09dm9pZCAwJiYodGhpcy5jdXN0b21TdHJlbmd0aE9wdGlvbnMuY29udGFpbnNVcHBlcmNhc2VMZXR0ZXI9by5jb250YWluc1VwcGVyY2FzZUNoYXJhY3Rlciksby5jb250YWluc051bWVyaWNDaGFyYWN0ZXIhPT12b2lkIDAmJih0aGlzLmN1c3RvbVN0cmVuZ3RoT3B0aW9ucy5jb250YWluc051bWVyaWNDaGFyYWN0ZXI9by5jb250YWluc051bWVyaWNDaGFyYWN0ZXIpLG8uY29udGFpbnNOb25BbHBoYW51bWVyaWNDaGFyYWN0ZXIhPT12b2lkIDAmJih0aGlzLmN1c3RvbVN0cmVuZ3RoT3B0aW9ucy5jb250YWluc05vbkFscGhhbnVtZXJpY0NoYXJhY3Rlcj1vLmNvbnRhaW5zTm9uQWxwaGFudW1lcmljQ2hhcmFjdGVyKSx0aGlzLmVuZm9yY2VtZW50U3RhdGU9ZS5lbmZvcmNlbWVudFN0YXRlLHRoaXMuZW5mb3JjZW1lbnRTdGF0ZT09PSJFTkZPUkNFTUVOVF9TVEFURV9VTlNQRUNJRklFRCImJih0aGlzLmVuZm9yY2VtZW50U3RhdGU9Ik9GRiIpLHRoaXMuYWxsb3dlZE5vbkFscGhhbnVtZXJpY0NoYXJhY3RlcnM9KGk9KHI9ZS5hbGxvd2VkTm9uQWxwaGFudW1lcmljQ2hhcmFjdGVycyk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLmpvaW4oIiIpKSE9PW51bGwmJmkhPT12b2lkIDA/aToiIix0aGlzLmZvcmNlVXBncmFkZU9uU2lnbmluPShzPWUuZm9yY2VVcGdyYWRlT25TaWduaW4pIT09bnVsbCYmcyE9PXZvaWQgMD9zOiExLHRoaXMuc2NoZW1hVmVyc2lvbj1lLnNjaGVtYVZlcnNpb259dmFsaWRhdGVQYXNzd29yZChlKXt2YXIgbixyLGkscyxvLGE7Y29uc3QgYz17aXNWYWxpZDohMCxwYXNzd29yZFBvbGljeTp0aGlzfTtyZXR1cm4gdGhpcy52YWxpZGF0ZVBhc3N3b3JkTGVuZ3RoT3B0aW9ucyhlLGMpLHRoaXMudmFsaWRhdGVQYXNzd29yZENoYXJhY3Rlck9wdGlvbnMoZSxjKSxjLmlzVmFsaWQmJihjLmlzVmFsaWQ9KG49Yy5tZWV0c01pblBhc3N3b3JkTGVuZ3RoKSE9PW51bGwmJm4hPT12b2lkIDA/bjohMCksYy5pc1ZhbGlkJiYoYy5pc1ZhbGlkPShyPWMubWVldHNNYXhQYXNzd29yZExlbmd0aCkhPT1udWxsJiZyIT09dm9pZCAwP3I6ITApLGMuaXNWYWxpZCYmKGMuaXNWYWxpZD0oaT1jLmNvbnRhaW5zTG93ZXJjYXNlTGV0dGVyKSE9PW51bGwmJmkhPT12b2lkIDA/aTohMCksYy5pc1ZhbGlkJiYoYy5pc1ZhbGlkPShzPWMuY29udGFpbnNVcHBlcmNhc2VMZXR0ZXIpIT09bnVsbCYmcyE9PXZvaWQgMD9zOiEwKSxjLmlzVmFsaWQmJihjLmlzVmFsaWQ9KG89Yy5jb250YWluc051bWVyaWNDaGFyYWN0ZXIpIT09bnVsbCYmbyE9PXZvaWQgMD9vOiEwKSxjLmlzVmFsaWQmJihjLmlzVmFsaWQ9KGE9Yy5jb250YWluc05vbkFscGhhbnVtZXJpY0NoYXJhY3RlcikhPT1udWxsJiZhIT09dm9pZCAwP2E6ITApLGN9dmFsaWRhdGVQYXNzd29yZExlbmd0aE9wdGlvbnMoZSxuKXtjb25zdCByPXRoaXMuY3VzdG9tU3RyZW5ndGhPcHRpb25zLm1pblBhc3N3b3JkTGVuZ3RoLGk9dGhpcy5jdXN0b21TdHJlbmd0aE9wdGlvbnMubWF4UGFzc3dvcmRMZW5ndGg7ciYmKG4ubWVldHNNaW5QYXNzd29yZExlbmd0aD1lLmxlbmd0aD49ciksaSYmKG4ubWVldHNNYXhQYXNzd29yZExlbmd0aD1lLmxlbmd0aDw9aSl9dmFsaWRhdGVQYXNzd29yZENoYXJhY3Rlck9wdGlvbnMoZSxuKXt0aGlzLnVwZGF0ZVBhc3N3b3JkQ2hhcmFjdGVyT3B0aW9uc1N0YXR1c2VzKG4sITEsITEsITEsITEpO2xldCByO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXI9ZS5jaGFyQXQoaSksdGhpcy51cGRhdGVQYXNzd29yZENoYXJhY3Rlck9wdGlvbnNTdGF0dXNlcyhuLHI+PSJhIiYmcjw9InoiLHI+PSJBIiYmcjw9IloiLHI+PSIwIiYmcjw9IjkiLHRoaXMuYWxsb3dlZE5vbkFscGhhbnVtZXJpY0NoYXJhY3RlcnMuaW5jbHVkZXMocikpfXVwZGF0ZVBhc3N3b3JkQ2hhcmFjdGVyT3B0aW9uc1N0YXR1c2VzKGUsbixyLGkscyl7dGhpcy5jdXN0b21TdHJlbmd0aE9wdGlvbnMuY29udGFpbnNMb3dlcmNhc2VMZXR0ZXImJihlLmNvbnRhaW5zTG93ZXJjYXNlTGV0dGVyfHwoZS5jb250YWluc0xvd2VyY2FzZUxldHRlcj1uKSksdGhpcy5jdXN0b21TdHJlbmd0aE9wdGlvbnMuY29udGFpbnNVcHBlcmNhc2VMZXR0ZXImJihlLmNvbnRhaW5zVXBwZXJjYXNlTGV0dGVyfHwoZS5jb250YWluc1VwcGVyY2FzZUxldHRlcj1yKSksdGhpcy5jdXN0b21TdHJlbmd0aE9wdGlvbnMuY29udGFpbnNOdW1lcmljQ2hhcmFjdGVyJiYoZS5jb250YWluc051bWVyaWNDaGFyYWN0ZXJ8fChlLmNvbnRhaW5zTnVtZXJpY0NoYXJhY3Rlcj1pKSksdGhpcy5jdXN0b21TdHJlbmd0aE9wdGlvbnMuY29udGFpbnNOb25BbHBoYW51bWVyaWNDaGFyYWN0ZXImJihlLmNvbnRhaW5zTm9uQWxwaGFudW1lcmljQ2hhcmFjdGVyfHwoZS5jb250YWluc05vbkFscGhhbnVtZXJpY0NoYXJhY3Rlcj1zKSl9fWNsYXNzIEhGe2NvbnN0cnVjdG9yKGUsbixyLGkpe3RoaXMuYXBwPWUsdGhpcy5oZWFydGJlYXRTZXJ2aWNlUHJvdmlkZXI9bix0aGlzLmFwcENoZWNrU2VydmljZVByb3ZpZGVyPXIsdGhpcy5jb25maWc9aSx0aGlzLmN1cnJlbnRVc2VyPW51bGwsdGhpcy5lbXVsYXRvckNvbmZpZz1udWxsLHRoaXMub3BlcmF0aW9ucz1Qcm9taXNlLnJlc29sdmUoKSx0aGlzLmF1dGhTdGF0ZVN1YnNjcmlwdGlvbj1uZXcgRXkodGhpcyksdGhpcy5pZFRva2VuU3Vic2NyaXB0aW9uPW5ldyBFeSh0aGlzKSx0aGlzLmJlZm9yZVN0YXRlUXVldWU9bmV3IFVGKHRoaXMpLHRoaXMucmVkaXJlY3RVc2VyPW51bGwsdGhpcy5pc1Byb2FjdGl2ZVJlZnJlc2hFbmFibGVkPSExLHRoaXMuRVhQRUNURURfUEFTU1dPUkRfUE9MSUNZX1NDSEVNQV9WRVJTSU9OPTEsdGhpcy5fY2FuSW5pdEVtdWxhdG9yPSEwLHRoaXMuX2lzSW5pdGlhbGl6ZWQ9ITEsdGhpcy5fZGVsZXRlZD0hMSx0aGlzLl9pbml0aWFsaXphdGlvblByb21pc2U9bnVsbCx0aGlzLl9wb3B1cFJlZGlyZWN0UmVzb2x2ZXI9bnVsbCx0aGlzLl9lcnJvckZhY3Rvcnk9T1QsdGhpcy5fYWdlbnRSZWNhcHRjaGFDb25maWc9bnVsbCx0aGlzLl90ZW5hbnRSZWNhcHRjaGFDb25maWdzPXt9LHRoaXMuX3Byb2plY3RQYXNzd29yZFBvbGljeT1udWxsLHRoaXMuX3RlbmFudFBhc3N3b3JkUG9saWNpZXM9e30sdGhpcy5sYXN0Tm90aWZpZWRVaWQ9dm9pZCAwLHRoaXMubGFuZ3VhZ2VDb2RlPW51bGwsdGhpcy50ZW5hbnRJZD1udWxsLHRoaXMuc2V0dGluZ3M9e2FwcFZlcmlmaWNhdGlvbkRpc2FibGVkRm9yVGVzdGluZzohMX0sdGhpcy5mcmFtZXdvcmtzPVtdLHRoaXMubmFtZT1lLm5hbWUsdGhpcy5jbGllbnRWZXJzaW9uPWkuc2RrQ2xpZW50VmVyc2lvbn1faW5pdGlhbGl6ZVdpdGhQZXJzaXN0ZW5jZShlLG4pe3JldHVybiBuJiYodGhpcy5fcG9wdXBSZWRpcmVjdFJlc29sdmVyPURuKG4pKSx0aGlzLl9pbml0aWFsaXphdGlvblByb21pc2U9dGhpcy5xdWV1ZSgoKT0+Zyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIHIsaTtpZighdGhpcy5fZGVsZXRlZCYmKHRoaXMucGVyc2lzdGVuY2VNYW5hZ2VyPXlpZWxkIFJpLmNyZWF0ZSh0aGlzLGUpLCF0aGlzLl9kZWxldGVkKSl7aWYoISgocj10aGlzLl9wb3B1cFJlZGlyZWN0UmVzb2x2ZXIpPT09bnVsbHx8cj09PXZvaWQgMCkmJnIuX3Nob3VsZEluaXRQcm9hY3RpdmVseSl0cnl7eWllbGQgdGhpcy5fcG9wdXBSZWRpcmVjdFJlc29sdmVyLl9pbml0aWFsaXplKHRoaXMpfWNhdGNoe315aWVsZCB0aGlzLmluaXRpYWxpemVDdXJyZW50VXNlcihuKSx0aGlzLmxhc3ROb3RpZmllZFVpZD0oKGk9dGhpcy5jdXJyZW50VXNlcik9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLnVpZCl8fG51bGwsIXRoaXMuX2RlbGV0ZWQmJih0aGlzLl9pc0luaXRpYWxpemVkPSEwKX19KSksdGhpcy5faW5pdGlhbGl6YXRpb25Qcm9taXNlfV9vblN0b3JhZ2VFdmVudCgpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZih0aGlzLl9kZWxldGVkKXJldHVybjtjb25zdCBlPXlpZWxkIHRoaXMuYXNzZXJ0ZWRQZXJzaXN0ZW5jZS5nZXRDdXJyZW50VXNlcigpO2lmKCEoIXRoaXMuY3VycmVudFVzZXImJiFlKSl7aWYodGhpcy5jdXJyZW50VXNlciYmZSYmdGhpcy5jdXJyZW50VXNlci51aWQ9PT1lLnVpZCl7dGhpcy5fY3VycmVudFVzZXIuX2Fzc2lnbihlKSx5aWVsZCB0aGlzLmN1cnJlbnRVc2VyLmdldElkVG9rZW4oKTtyZXR1cm59eWllbGQgdGhpcy5fdXBkYXRlQ3VycmVudFVzZXIoZSwhMCl9fSl9aW5pdGlhbGl6ZUN1cnJlbnRVc2VyKGUpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgbjtjb25zdCByPXlpZWxkIHRoaXMuYXNzZXJ0ZWRQZXJzaXN0ZW5jZS5nZXRDdXJyZW50VXNlcigpO2xldCBpPXIscz0hMTtpZihlJiZ0aGlzLmNvbmZpZy5hdXRoRG9tYWluKXt5aWVsZCB0aGlzLmdldE9ySW5pdFJlZGlyZWN0UGVyc2lzdGVuY2VNYW5hZ2VyKCk7Y29uc3Qgbz0obj10aGlzLnJlZGlyZWN0VXNlcik9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLl9yZWRpcmVjdEV2ZW50SWQsYT1pPy5fcmVkaXJlY3RFdmVudElkLGM9eWllbGQgdGhpcy50cnlSZWRpcmVjdFNpZ25JbihlKTsoIW98fG89PT1hKSYmYz8udXNlciYmKGk9Yy51c2VyLHM9ITApfWlmKCFpKXJldHVybiB0aGlzLmRpcmVjdGx5U2V0Q3VycmVudFVzZXIobnVsbCk7aWYoIWkuX3JlZGlyZWN0RXZlbnRJZCl7aWYocyl0cnl7eWllbGQgdGhpcy5iZWZvcmVTdGF0ZVF1ZXVlLnJ1bk1pZGRsZXdhcmUoaSl9Y2F0Y2gobyl7aT1yLHRoaXMuX3BvcHVwUmVkaXJlY3RSZXNvbHZlci5fb3ZlcnJpZGVSZWRpcmVjdFJlc3VsdCh0aGlzLCgpPT5Qcm9taXNlLnJlamVjdChvKSl9cmV0dXJuIGk/dGhpcy5yZWxvYWRBbmRTZXRDdXJyZW50VXNlck9yQ2xlYXIoaSk6dGhpcy5kaXJlY3RseVNldEN1cnJlbnRVc2VyKG51bGwpfXJldHVybiBKKHRoaXMuX3BvcHVwUmVkaXJlY3RSZXNvbHZlcix0aGlzLCJhcmd1bWVudC1lcnJvciIpLHlpZWxkIHRoaXMuZ2V0T3JJbml0UmVkaXJlY3RQZXJzaXN0ZW5jZU1hbmFnZXIoKSx0aGlzLnJlZGlyZWN0VXNlciYmdGhpcy5yZWRpcmVjdFVzZXIuX3JlZGlyZWN0RXZlbnRJZD09PWkuX3JlZGlyZWN0RXZlbnRJZD90aGlzLmRpcmVjdGx5U2V0Q3VycmVudFVzZXIoaSk6dGhpcy5yZWxvYWRBbmRTZXRDdXJyZW50VXNlck9yQ2xlYXIoaSl9KX10cnlSZWRpcmVjdFNpZ25JbihlKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IG49bnVsbDt0cnl7bj15aWVsZCB0aGlzLl9wb3B1cFJlZGlyZWN0UmVzb2x2ZXIuX2NvbXBsZXRlUmVkaXJlY3RGbih0aGlzLGUsITApfWNhdGNoe3lpZWxkIHRoaXMuX3NldFJlZGlyZWN0VXNlcihudWxsKX1yZXR1cm4gbn0pfXJlbG9hZEFuZFNldEN1cnJlbnRVc2VyT3JDbGVhcihlKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dHJ5e3lpZWxkIFBjKGUpfWNhdGNoKG4pe2lmKG4/LmNvZGUhPT0iYXV0aC9uZXR3b3JrLXJlcXVlc3QtZmFpbGVkIilyZXR1cm4gdGhpcy5kaXJlY3RseVNldEN1cnJlbnRVc2VyKG51bGwpfXJldHVybiB0aGlzLmRpcmVjdGx5U2V0Q3VycmVudFVzZXIoZSl9KX11c2VEZXZpY2VMYW5ndWFnZSgpe3RoaXMubGFuZ3VhZ2VDb2RlPV9GKCl9X2RlbGV0ZSgpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0aGlzLl9kZWxldGVkPSEwfSl9dXBkYXRlQ3VycmVudFVzZXIoZSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0IG49ZT9vdChlKTpudWxsO3JldHVybiBuJiZKKG4uYXV0aC5jb25maWcuYXBpS2V5PT09dGhpcy5jb25maWcuYXBpS2V5LHRoaXMsImludmFsaWQtdXNlci10b2tlbiIpLHRoaXMuX3VwZGF0ZUN1cnJlbnRVc2VyKG4mJm4uX2Nsb25lKHRoaXMpKX0pfV91cGRhdGVDdXJyZW50VXNlcihlLG49ITEpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZighdGhpcy5fZGVsZXRlZClyZXR1cm4gZSYmSih0aGlzLnRlbmFudElkPT09ZS50ZW5hbnRJZCx0aGlzLCJ0ZW5hbnQtaWQtbWlzbWF0Y2giKSxufHwoeWllbGQgdGhpcy5iZWZvcmVTdGF0ZVF1ZXVlLnJ1bk1pZGRsZXdhcmUoZSkpLHRoaXMucXVldWUoKCk9PmcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMuZGlyZWN0bHlTZXRDdXJyZW50VXNlcihlKSx0aGlzLm5vdGlmeUF1dGhMaXN0ZW5lcnMoKX0pKX0pfXNpZ25PdXQoKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIHlpZWxkIHRoaXMuYmVmb3JlU3RhdGVRdWV1ZS5ydW5NaWRkbGV3YXJlKG51bGwpLCh0aGlzLnJlZGlyZWN0UGVyc2lzdGVuY2VNYW5hZ2VyfHx0aGlzLl9wb3B1cFJlZGlyZWN0UmVzb2x2ZXIpJiYoeWllbGQgdGhpcy5fc2V0UmVkaXJlY3RVc2VyKG51bGwpKSx0aGlzLl91cGRhdGVDdXJyZW50VXNlcihudWxsLCEwKX0pfXNldFBlcnNpc3RlbmNlKGUpe3JldHVybiB0aGlzLnF1ZXVlKCgpPT5nKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLmFzc2VydGVkUGVyc2lzdGVuY2Uuc2V0UGVyc2lzdGVuY2UoRG4oZSkpfSkpfV9nZXRSZWNhcHRjaGFDb25maWcoKXtyZXR1cm4gdGhpcy50ZW5hbnRJZD09bnVsbD90aGlzLl9hZ2VudFJlY2FwdGNoYUNvbmZpZzp0aGlzLl90ZW5hbnRSZWNhcHRjaGFDb25maWdzW3RoaXMudGVuYW50SWRdfXZhbGlkYXRlUGFzc3dvcmQoZSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3RoaXMuX2dldFBhc3N3b3JkUG9saWN5SW50ZXJuYWwoKXx8KHlpZWxkIHRoaXMuX3VwZGF0ZVBhc3N3b3JkUG9saWN5KCkpO2NvbnN0IG49dGhpcy5fZ2V0UGFzc3dvcmRQb2xpY3lJbnRlcm5hbCgpO3JldHVybiBuLnNjaGVtYVZlcnNpb24hPT10aGlzLkVYUEVDVEVEX1BBU1NXT1JEX1BPTElDWV9TQ0hFTUFfVkVSU0lPTj9Qcm9taXNlLnJlamVjdCh0aGlzLl9lcnJvckZhY3RvcnkuY3JlYXRlKCJ1bnN1cHBvcnRlZC1wYXNzd29yZC1wb2xpY3ktc2NoZW1hLXZlcnNpb24iLHt9KSk6bi52YWxpZGF0ZVBhc3N3b3JkKGUpfSl9X2dldFBhc3N3b3JkUG9saWN5SW50ZXJuYWwoKXtyZXR1cm4gdGhpcy50ZW5hbnRJZD09PW51bGw/dGhpcy5fcHJvamVjdFBhc3N3b3JkUG9saWN5OnRoaXMuX3RlbmFudFBhc3N3b3JkUG9saWNpZXNbdGhpcy50ZW5hbnRJZF19X3VwZGF0ZVBhc3N3b3JkUG9saWN5KCl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0IGU9eWllbGQgakYodGhpcyksbj1uZXcgQkYoZSk7dGhpcy50ZW5hbnRJZD09PW51bGw/dGhpcy5fcHJvamVjdFBhc3N3b3JkUG9saWN5PW46dGhpcy5fdGVuYW50UGFzc3dvcmRQb2xpY2llc1t0aGlzLnRlbmFudElkXT1ufSl9X2dldFBlcnNpc3RlbmNlKCl7cmV0dXJuIHRoaXMuYXNzZXJ0ZWRQZXJzaXN0ZW5jZS5wZXJzaXN0ZW5jZS50eXBlfV91cGRhdGVFcnJvck1hcChlKXt0aGlzLl9lcnJvckZhY3Rvcnk9bmV3IFpvKCJhdXRoIiwiRmlyZWJhc2UiLGUoKSl9b25BdXRoU3RhdGVDaGFuZ2VkKGUsbixyKXtyZXR1cm4gdGhpcy5yZWdpc3RlclN0YXRlTGlzdGVuZXIodGhpcy5hdXRoU3RhdGVTdWJzY3JpcHRpb24sZSxuLHIpfWJlZm9yZUF1dGhTdGF0ZUNoYW5nZWQoZSxuKXtyZXR1cm4gdGhpcy5iZWZvcmVTdGF0ZVF1ZXVlLnB1c2hDYWxsYmFjayhlLG4pfW9uSWRUb2tlbkNoYW5nZWQoZSxuLHIpe3JldHVybiB0aGlzLnJlZ2lzdGVyU3RhdGVMaXN0ZW5lcih0aGlzLmlkVG9rZW5TdWJzY3JpcHRpb24sZSxuLHIpfWF1dGhTdGF0ZVJlYWR5KCl7cmV0dXJuIG5ldyBQcm9taXNlKChlLG4pPT57aWYodGhpcy5jdXJyZW50VXNlcillKCk7ZWxzZXtjb25zdCByPXRoaXMub25BdXRoU3RhdGVDaGFuZ2VkKCgpPT57cigpLGUoKX0sbil9fSl9cmV2b2tlQWNjZXNzVG9rZW4oZSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKHRoaXMuY3VycmVudFVzZXIpe2NvbnN0IG49eWllbGQgdGhpcy5jdXJyZW50VXNlci5nZXRJZFRva2VuKCkscj17cHJvdmlkZXJJZDoiYXBwbGUuY29tIix0b2tlblR5cGU6IkFDQ0VTU19UT0tFTiIsdG9rZW46ZSxpZFRva2VuOm59O3RoaXMudGVuYW50SWQhPW51bGwmJihyLnRlbmFudElkPXRoaXMudGVuYW50SWQpLHlpZWxkIE9GKHRoaXMscil9fSl9dG9KU09OKCl7dmFyIGU7cmV0dXJue2FwaUtleTp0aGlzLmNvbmZpZy5hcGlLZXksYXV0aERvbWFpbjp0aGlzLmNvbmZpZy5hdXRoRG9tYWluLGFwcE5hbWU6dGhpcy5uYW1lLGN1cnJlbnRVc2VyOihlPXRoaXMuX2N1cnJlbnRVc2VyKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUudG9KU09OKCl9fV9zZXRSZWRpcmVjdFVzZXIoZSxuKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3Qgcj15aWVsZCB0aGlzLmdldE9ySW5pdFJlZGlyZWN0UGVyc2lzdGVuY2VNYW5hZ2VyKG4pO3JldHVybiBlPT09bnVsbD9yLnJlbW92ZUN1cnJlbnRVc2VyKCk6ci5zZXRDdXJyZW50VXNlcihlKX0pfWdldE9ySW5pdFJlZGlyZWN0UGVyc2lzdGVuY2VNYW5hZ2VyKGUpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZighdGhpcy5yZWRpcmVjdFBlcnNpc3RlbmNlTWFuYWdlcil7Y29uc3Qgbj1lJiZEbihlKXx8dGhpcy5fcG9wdXBSZWRpcmVjdFJlc29sdmVyO0oobix0aGlzLCJhcmd1bWVudC1lcnJvciIpLHRoaXMucmVkaXJlY3RQZXJzaXN0ZW5jZU1hbmFnZXI9eWllbGQgUmkuY3JlYXRlKHRoaXMsW0RuKG4uX3JlZGlyZWN0UGVyc2lzdGVuY2UpXSwicmVkaXJlY3RVc2VyIiksdGhpcy5yZWRpcmVjdFVzZXI9eWllbGQgdGhpcy5yZWRpcmVjdFBlcnNpc3RlbmNlTWFuYWdlci5nZXRDdXJyZW50VXNlcigpfXJldHVybiB0aGlzLnJlZGlyZWN0UGVyc2lzdGVuY2VNYW5hZ2VyfSl9X3JlZGlyZWN0VXNlckZvcklkKGUpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgbixyO3JldHVybiB0aGlzLl9pc0luaXRpYWxpemVkJiYoeWllbGQgdGhpcy5xdWV1ZSgoKT0+Zyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7fSkpKSwoKG49dGhpcy5fY3VycmVudFVzZXIpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5fcmVkaXJlY3RFdmVudElkKT09PWU/dGhpcy5fY3VycmVudFVzZXI6KChyPXRoaXMucmVkaXJlY3RVc2VyKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIuX3JlZGlyZWN0RXZlbnRJZCk9PT1lP3RoaXMucmVkaXJlY3RVc2VyOm51bGx9KX1fcGVyc2lzdFVzZXJJZkN1cnJlbnQoZSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKGU9PT10aGlzLmN1cnJlbnRVc2VyKXJldHVybiB0aGlzLnF1ZXVlKCgpPT5nKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5kaXJlY3RseVNldEN1cnJlbnRVc2VyKGUpfSkpfSl9X25vdGlmeUxpc3RlbmVyc0lmQ3VycmVudChlKXtlPT09dGhpcy5jdXJyZW50VXNlciYmdGhpcy5ub3RpZnlBdXRoTGlzdGVuZXJzKCl9X2tleSgpe3JldHVybmAke3RoaXMuY29uZmlnLmF1dGhEb21haW59OiR7dGhpcy5jb25maWcuYXBpS2V5fToke3RoaXMubmFtZX1gfV9zdGFydFByb2FjdGl2ZVJlZnJlc2goKXt0aGlzLmlzUHJvYWN0aXZlUmVmcmVzaEVuYWJsZWQ9ITAsdGhpcy5jdXJyZW50VXNlciYmdGhpcy5fY3VycmVudFVzZXIuX3N0YXJ0UHJvYWN0aXZlUmVmcmVzaCgpfV9zdG9wUHJvYWN0aXZlUmVmcmVzaCgpe3RoaXMuaXNQcm9hY3RpdmVSZWZyZXNoRW5hYmxlZD0hMSx0aGlzLmN1cnJlbnRVc2VyJiZ0aGlzLl9jdXJyZW50VXNlci5fc3RvcFByb2FjdGl2ZVJlZnJlc2goKX1nZXQgX2N1cnJlbnRVc2VyKCl7cmV0dXJuIHRoaXMuY3VycmVudFVzZXJ9bm90aWZ5QXV0aExpc3RlbmVycygpe3ZhciBlLG47aWYoIXRoaXMuX2lzSW5pdGlhbGl6ZWQpcmV0dXJuO3RoaXMuaWRUb2tlblN1YnNjcmlwdGlvbi5uZXh0KHRoaXMuY3VycmVudFVzZXIpO2NvbnN0IHI9KG49KGU9dGhpcy5jdXJyZW50VXNlcik9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLnVpZCkhPT1udWxsJiZuIT09dm9pZCAwP246bnVsbDt0aGlzLmxhc3ROb3RpZmllZFVpZCE9PXImJih0aGlzLmxhc3ROb3RpZmllZFVpZD1yLHRoaXMuYXV0aFN0YXRlU3Vic2NyaXB0aW9uLm5leHQodGhpcy5jdXJyZW50VXNlcikpfXJlZ2lzdGVyU3RhdGVMaXN0ZW5lcihlLG4scixpKXtpZih0aGlzLl9kZWxldGVkKXJldHVybigpPT57fTtjb25zdCBzPXR5cGVvZiBuPT0iZnVuY3Rpb24iP246bi5uZXh0LmJpbmQobik7bGV0IG89ITE7Y29uc3QgYT10aGlzLl9pc0luaXRpYWxpemVkP1Byb21pc2UucmVzb2x2ZSgpOnRoaXMuX2luaXRpYWxpemF0aW9uUHJvbWlzZTtpZihKKGEsdGhpcywiaW50ZXJuYWwtZXJyb3IiKSxhLnRoZW4oKCk9PntvfHxzKHRoaXMuY3VycmVudFVzZXIpfSksdHlwZW9mIG49PSJmdW5jdGlvbiIpe2NvbnN0IGM9ZS5hZGRPYnNlcnZlcihuLHIsaSk7cmV0dXJuKCk9PntvPSEwLGMoKX19ZWxzZXtjb25zdCBjPWUuYWRkT2JzZXJ2ZXIobik7cmV0dXJuKCk9PntvPSEwLGMoKX19fWRpcmVjdGx5U2V0Q3VycmVudFVzZXIoZSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3RoaXMuY3VycmVudFVzZXImJnRoaXMuY3VycmVudFVzZXIhPT1lJiZ0aGlzLl9jdXJyZW50VXNlci5fc3RvcFByb2FjdGl2ZVJlZnJlc2goKSxlJiZ0aGlzLmlzUHJvYWN0aXZlUmVmcmVzaEVuYWJsZWQmJmUuX3N0YXJ0UHJvYWN0aXZlUmVmcmVzaCgpLHRoaXMuY3VycmVudFVzZXI9ZSxlP3lpZWxkIHRoaXMuYXNzZXJ0ZWRQZXJzaXN0ZW5jZS5zZXRDdXJyZW50VXNlcihlKTp5aWVsZCB0aGlzLmFzc2VydGVkUGVyc2lzdGVuY2UucmVtb3ZlQ3VycmVudFVzZXIoKX0pfXF1ZXVlKGUpe3JldHVybiB0aGlzLm9wZXJhdGlvbnM9dGhpcy5vcGVyYXRpb25zLnRoZW4oZSxlKSx0aGlzLm9wZXJhdGlvbnN9Z2V0IGFzc2VydGVkUGVyc2lzdGVuY2UoKXtyZXR1cm4gSih0aGlzLnBlcnNpc3RlbmNlTWFuYWdlcix0aGlzLCJpbnRlcm5hbC1lcnJvciIpLHRoaXMucGVyc2lzdGVuY2VNYW5hZ2VyfV9sb2dGcmFtZXdvcmsoZSl7IWV8fHRoaXMuZnJhbWV3b3Jrcy5pbmNsdWRlcyhlKXx8KHRoaXMuZnJhbWV3b3Jrcy5wdXNoKGUpLHRoaXMuZnJhbWV3b3Jrcy5zb3J0KCksdGhpcy5jbGllbnRWZXJzaW9uPUdUKHRoaXMuY29uZmlnLmNsaWVudFBsYXRmb3JtLHRoaXMuX2dldEZyYW1ld29ya3MoKSkpfV9nZXRGcmFtZXdvcmtzKCl7cmV0dXJuIHRoaXMuZnJhbWV3b3Jrc31fZ2V0QWRkaXRpb25hbEhlYWRlcnMoKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIGU7Y29uc3Qgbj17IlgtQ2xpZW50LVZlcnNpb24iOnRoaXMuY2xpZW50VmVyc2lvbn07dGhpcy5hcHAub3B0aW9ucy5hcHBJZCYmKG5bIlgtRmlyZWJhc2UtZ21waWQiXT10aGlzLmFwcC5vcHRpb25zLmFwcElkKTtjb25zdCByPXlpZWxkKGU9dGhpcy5oZWFydGJlYXRTZXJ2aWNlUHJvdmlkZXIuZ2V0SW1tZWRpYXRlKHtvcHRpb25hbDohMH0pKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZ2V0SGVhcnRiZWF0c0hlYWRlcigpO3ImJihuWyJYLUZpcmViYXNlLUNsaWVudCJdPXIpO2NvbnN0IGk9eWllbGQgdGhpcy5fZ2V0QXBwQ2hlY2tUb2tlbigpO3JldHVybiBpJiYoblsiWC1GaXJlYmFzZS1BcHBDaGVjayJdPWkpLG59KX1fZ2V0QXBwQ2hlY2tUb2tlbigpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgZTtjb25zdCBuPXlpZWxkKGU9dGhpcy5hcHBDaGVja1NlcnZpY2VQcm92aWRlci5nZXRJbW1lZGlhdGUoe29wdGlvbmFsOiEwfSkpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5nZXRUb2tlbigpO3JldHVybiBuPy5lcnJvciYmZ0YoYEVycm9yIHdoaWxlIHJldHJpZXZpbmcgQXBwIENoZWNrIHRva2VuOiAke24uZXJyb3J9YCksbj8udG9rZW59KX19ZnVuY3Rpb24gUHUodCl7cmV0dXJuIG90KHQpfWNsYXNzIEV5e2NvbnN0cnVjdG9yKGUpe3RoaXMuYXV0aD1lLHRoaXMub2JzZXJ2ZXI9bnVsbCx0aGlzLmFkZE9ic2VydmVyPXoxKG49PnRoaXMub2JzZXJ2ZXI9bil9Z2V0IG5leHQoKXtyZXR1cm4gSih0aGlzLm9ic2VydmVyLHRoaXMuYXV0aCwiaW50ZXJuYWwtZXJyb3IiKSx0aGlzLm9ic2VydmVyLm5leHQuYmluZCh0aGlzLm9ic2VydmVyKX19bGV0IElwPXtsb2FkSlMoKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gbG9hZCBleHRlcm5hbCBzY3JpcHRzIil9KX0scmVjYXB0Y2hhVjJTY3JpcHQ6IiIscmVjYXB0Y2hhRW50ZXJwcmlzZVNjcmlwdDoiIixnYXBpU2NyaXB0OiIifTtmdW5jdGlvbiBxRih0KXtJcD10fWZ1bmN0aW9uIHpGKHQpe3JldHVybiBJcC5sb2FkSlModCl9ZnVuY3Rpb24gV0YoKXtyZXR1cm4gSXAuZ2FwaVNjcmlwdH1mdW5jdGlvbiBHRih0KXtyZXR1cm5gX18ke3R9JHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMWU2KX1gfWZ1bmN0aW9uIEtGKHQsZSl7Y29uc3Qgbj1ocCh0LCJhdXRoIik7aWYobi5pc0luaXRpYWxpemVkKCkpe2NvbnN0IGk9bi5nZXRJbW1lZGlhdGUoKSxzPW4uZ2V0T3B0aW9ucygpO2lmKFJjKHMsZT8/e30pKXJldHVybiBpO21uKGksImFscmVhZHktaW5pdGlhbGl6ZWQiKX1yZXR1cm4gbi5pbml0aWFsaXplKHtvcHRpb25zOmV9KX1mdW5jdGlvbiBRRih0LGUpe2NvbnN0IG49ZT8ucGVyc2lzdGVuY2V8fFtdLHI9KEFycmF5LmlzQXJyYXkobik/bjpbbl0pLm1hcChEbik7ZT8uZXJyb3JNYXAmJnQuX3VwZGF0ZUVycm9yTWFwKGUuZXJyb3JNYXApLHQuX2luaXRpYWxpemVXaXRoUGVyc2lzdGVuY2UocixlPy5wb3B1cFJlZGlyZWN0UmVzb2x2ZXIpfWZ1bmN0aW9uIFpGKHQsZSxuKXtjb25zdCByPVB1KHQpO0ooci5fY2FuSW5pdEVtdWxhdG9yLHIsImVtdWxhdG9yLWNvbmZpZy1mYWlsZWQiKSxKKC9eaHR0cHM/OlwvXC8vLnRlc3QoZSksciwiaW52YWxpZC1lbXVsYXRvci1zY2hlbWUiKTtjb25zdCBpPSEhbj8uZGlzYWJsZVdhcm5pbmdzLHM9S1QoZSkse2hvc3Q6byxwb3J0OmF9PVhGKGUpLGM9YT09PW51bGw/IiI6YDoke2F9YDtyLmNvbmZpZy5lbXVsYXRvcj17dXJsOmAke3N9Ly8ke299JHtjfS9gfSxyLnNldHRpbmdzLmFwcFZlcmlmaWNhdGlvbkRpc2FibGVkRm9yVGVzdGluZz0hMCxyLmVtdWxhdG9yQ29uZmlnPU9iamVjdC5mcmVlemUoe2hvc3Q6byxwb3J0OmEscHJvdG9jb2w6cy5yZXBsYWNlKCI6IiwiIiksb3B0aW9uczpPYmplY3QuZnJlZXplKHtkaXNhYmxlV2FybmluZ3M6aX0pfSksaXx8WUYoKX1mdW5jdGlvbiBLVCh0KXtjb25zdCBlPXQuaW5kZXhPZigiOiIpO3JldHVybiBlPDA/IiI6dC5zdWJzdHIoMCxlKzEpfWZ1bmN0aW9uIFhGKHQpe2NvbnN0IGU9S1QodCksbj0vKFwvXC8pPyhbXj8jL10rKS8uZXhlYyh0LnN1YnN0cihlLmxlbmd0aCkpO2lmKCFuKXJldHVybntob3N0OiIiLHBvcnQ6bnVsbH07Y29uc3Qgcj1uWzJdLnNwbGl0KCJAIikucG9wKCl8fCIiLGk9L14oXFtbXlxdXStcXSkoOnwkKS8uZXhlYyhyKTtpZihpKXtjb25zdCBzPWlbMV07cmV0dXJue2hvc3Q6cyxwb3J0Ond5KHIuc3Vic3RyKHMubGVuZ3RoKzEpKX19ZWxzZXtjb25zdFtzLG9dPXIuc3BsaXQoIjoiKTtyZXR1cm57aG9zdDpzLHBvcnQ6d3kobyl9fX1mdW5jdGlvbiB3eSh0KXtpZighdClyZXR1cm4gbnVsbDtjb25zdCBlPU51bWJlcih0KTtyZXR1cm4gaXNOYU4oZSk/bnVsbDplfWZ1bmN0aW9uIFlGKCl7ZnVuY3Rpb24gdCgpe2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpLG49ZS5zdHlsZTtlLmlubmVyVGV4dD0iUnVubmluZyBpbiBlbXVsYXRvciBtb2RlLiBEbyBub3QgdXNlIHdpdGggcHJvZHVjdGlvbiBjcmVkZW50aWFscy4iLG4ucG9zaXRpb249ImZpeGVkIixuLndpZHRoPSIxMDAlIixuLmJhY2tncm91bmRDb2xvcj0iI2ZmZmZmZiIsbi5ib3JkZXI9Ii4xZW0gc29saWQgIzAwMDAwMCIsbi5jb2xvcj0iI2I1MDAwMCIsbi5ib3R0b209IjBweCIsbi5sZWZ0PSIwcHgiLG4ubWFyZ2luPSIwcHgiLG4uekluZGV4PSIxMDAwMCIsbi50ZXh0QWxpZ249ImNlbnRlciIsZS5jbGFzc0xpc3QuYWRkKCJmaXJlYmFzZS1lbXVsYXRvci13YXJuaW5nIiksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlKX10eXBlb2YgY29uc29sZTwidSImJnR5cGVvZiBjb25zb2xlLmluZm89PSJmdW5jdGlvbiImJmNvbnNvbGUuaW5mbygiV0FSTklORzogWW91IGFyZSB1c2luZyB0aGUgQXV0aCBFbXVsYXRvciwgd2hpY2ggaXMgaW50ZW5kZWQgZm9yIGxvY2FsIHRlc3Rpbmcgb25seS4gIERvIG5vdCB1c2Ugd2l0aCBwcm9kdWN0aW9uIGNyZWRlbnRpYWxzLiIpLHR5cGVvZiB3aW5kb3c8InUiJiZ0eXBlb2YgZG9jdW1lbnQ8InUiJiYoZG9jdW1lbnQucmVhZHlTdGF0ZT09PSJsb2FkaW5nIj93aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsdCk6dCgpKX1jbGFzcyBRVHtjb25zdHJ1Y3RvcihlLG4pe3RoaXMucHJvdmlkZXJJZD1lLHRoaXMuc2lnbkluTWV0aG9kPW59dG9KU09OKCl7cmV0dXJuIGJuKCJub3QgaW1wbGVtZW50ZWQiKX1fZ2V0SWRUb2tlblJlc3BvbnNlKGUpe3JldHVybiBibigibm90IGltcGxlbWVudGVkIil9X2xpbmtUb0lkVG9rZW4oZSxuKXtyZXR1cm4gYm4oIm5vdCBpbXBsZW1lbnRlZCIpfV9nZXRSZWF1dGhlbnRpY2F0aW9uUmVzb2x2ZXIoZSl7cmV0dXJuIGJuKCJub3QgaW1wbGVtZW50ZWQiKX19ZnVuY3Rpb24gYmkodCxlKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIElGKHQsIlBPU1QiLCIvdjEvYWNjb3VudHM6c2lnbkluV2l0aElkcCIsX3AodCxlKSl9KX1jb25zdCBKRj0iaHR0cDovL2xvY2FsaG9zdCI7Y2xhc3MgTWMgZXh0ZW5kcyBRVHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5wZW5kaW5nVG9rZW49bnVsbH1zdGF0aWMgX2Zyb21QYXJhbXMoZSl7Y29uc3Qgbj1uZXcgTWMoZS5wcm92aWRlcklkLGUuc2lnbkluTWV0aG9kKTtyZXR1cm4gZS5pZFRva2VufHxlLmFjY2Vzc1Rva2VuPyhlLmlkVG9rZW4mJihuLmlkVG9rZW49ZS5pZFRva2VuKSxlLmFjY2Vzc1Rva2VuJiYobi5hY2Nlc3NUb2tlbj1lLmFjY2Vzc1Rva2VuKSxlLm5vbmNlJiYhZS5wZW5kaW5nVG9rZW4mJihuLm5vbmNlPWUubm9uY2UpLGUucGVuZGluZ1Rva2VuJiYobi5wZW5kaW5nVG9rZW49ZS5wZW5kaW5nVG9rZW4pKTplLm9hdXRoVG9rZW4mJmUub2F1dGhUb2tlblNlY3JldD8obi5hY2Nlc3NUb2tlbj1lLm9hdXRoVG9rZW4sbi5zZWNyZXQ9ZS5vYXV0aFRva2VuU2VjcmV0KTptbigiYXJndW1lbnQtZXJyb3IiKSxufXRvSlNPTigpe3JldHVybntpZFRva2VuOnRoaXMuaWRUb2tlbixhY2Nlc3NUb2tlbjp0aGlzLmFjY2Vzc1Rva2VuLHNlY3JldDp0aGlzLnNlY3JldCxub25jZTp0aGlzLm5vbmNlLHBlbmRpbmdUb2tlbjp0aGlzLnBlbmRpbmdUb2tlbixwcm92aWRlcklkOnRoaXMucHJvdmlkZXJJZCxzaWduSW5NZXRob2Q6dGhpcy5zaWduSW5NZXRob2R9fXN0YXRpYyBmcm9tSlNPTihlKXtjb25zdCBuPXR5cGVvZiBlPT0ic3RyaW5nIj9KU09OLnBhcnNlKGUpOmUse3Byb3ZpZGVySWQ6cixzaWduSW5NZXRob2Q6aX09bixzPVFkKG4sWyJwcm92aWRlcklkIiwic2lnbkluTWV0aG9kIl0pO2lmKCFyfHwhaSlyZXR1cm4gbnVsbDtjb25zdCBvPW5ldyBNYyhyLGkpO3JldHVybiBvLmlkVG9rZW49cy5pZFRva2VufHx2b2lkIDAsby5hY2Nlc3NUb2tlbj1zLmFjY2Vzc1Rva2VufHx2b2lkIDAsby5zZWNyZXQ9cy5zZWNyZXQsby5ub25jZT1zLm5vbmNlLG8ucGVuZGluZ1Rva2VuPXMucGVuZGluZ1Rva2VufHxudWxsLG99X2dldElkVG9rZW5SZXNwb25zZShlKXtjb25zdCBuPXRoaXMuYnVpbGRSZXF1ZXN0KCk7cmV0dXJuIGJpKGUsbil9X2xpbmtUb0lkVG9rZW4oZSxuKXtjb25zdCByPXRoaXMuYnVpbGRSZXF1ZXN0KCk7cmV0dXJuIHIuaWRUb2tlbj1uLGJpKGUscil9X2dldFJlYXV0aGVudGljYXRpb25SZXNvbHZlcihlKXtjb25zdCBuPXRoaXMuYnVpbGRSZXF1ZXN0KCk7cmV0dXJuIG4uYXV0b0NyZWF0ZT0hMSxiaShlLG4pfWJ1aWxkUmVxdWVzdCgpe2NvbnN0IGU9e3JlcXVlc3RVcmk6SkYscmV0dXJuU2VjdXJlVG9rZW46ITB9O2lmKHRoaXMucGVuZGluZ1Rva2VuKWUucGVuZGluZ1Rva2VuPXRoaXMucGVuZGluZ1Rva2VuO2Vsc2V7Y29uc3Qgbj17fTt0aGlzLmlkVG9rZW4mJihuLmlkX3Rva2VuPXRoaXMuaWRUb2tlbiksdGhpcy5hY2Nlc3NUb2tlbiYmKG4uYWNjZXNzX3Rva2VuPXRoaXMuYWNjZXNzVG9rZW4pLHRoaXMuc2VjcmV0JiYobi5vYXV0aF90b2tlbl9zZWNyZXQ9dGhpcy5zZWNyZXQpLG4ucHJvdmlkZXJJZD10aGlzLnByb3ZpZGVySWQsdGhpcy5ub25jZSYmIXRoaXMucGVuZGluZ1Rva2VuJiYobi5ub25jZT10aGlzLm5vbmNlKSxlLnBvc3RCb2R5PVhvKG4pfXJldHVybiBlfX1jbGFzcyBUcHtjb25zdHJ1Y3RvcihlKXt0aGlzLnByb3ZpZGVySWQ9ZSx0aGlzLmRlZmF1bHRMYW5ndWFnZUNvZGU9bnVsbCx0aGlzLmN1c3RvbVBhcmFtZXRlcnM9e319c2V0RGVmYXVsdExhbmd1YWdlKGUpe3RoaXMuZGVmYXVsdExhbmd1YWdlQ29kZT1lfXNldEN1c3RvbVBhcmFtZXRlcnMoZSl7cmV0dXJuIHRoaXMuY3VzdG9tUGFyYW1ldGVycz1lLHRoaXN9Z2V0Q3VzdG9tUGFyYW1ldGVycygpe3JldHVybiB0aGlzLmN1c3RvbVBhcmFtZXRlcnN9fWNsYXNzIFpUIGV4dGVuZHMgVHB7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuc2NvcGVzPVtdfWFkZFNjb3BlKGUpe3JldHVybiB0aGlzLnNjb3Blcy5pbmNsdWRlcyhlKXx8dGhpcy5zY29wZXMucHVzaChlKSx0aGlzfWdldFNjb3Blcygpe3JldHVyblsuLi50aGlzLnNjb3Blc119fWxldCBBSD0oKCk9PntjbGFzcyB0IGV4dGVuZHMgWlR7Y29uc3RydWN0b3IoKXtzdXBlcigiZ29vZ2xlLmNvbSIpLHRoaXMuYWRkU2NvcGUoInByb2ZpbGUiKX1zdGF0aWMgY3JlZGVudGlhbChuLHIpe3JldHVybiBNYy5fZnJvbVBhcmFtcyh7cHJvdmlkZXJJZDp0LlBST1ZJREVSX0lELHNpZ25Jbk1ldGhvZDp0LkdPT0dMRV9TSUdOX0lOX01FVEhPRCxpZFRva2VuOm4sYWNjZXNzVG9rZW46cn0pfXN0YXRpYyBjcmVkZW50aWFsRnJvbVJlc3VsdChuKXtyZXR1cm4gdC5jcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdChuKX1zdGF0aWMgY3JlZGVudGlhbEZyb21FcnJvcihuKXtyZXR1cm4gdC5jcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdChuLmN1c3RvbURhdGF8fHt9KX1zdGF0aWMgY3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3Qoe190b2tlblJlc3BvbnNlOm59KXtpZighbilyZXR1cm4gbnVsbDtjb25zdHtvYXV0aElkVG9rZW46cixvYXV0aEFjY2Vzc1Rva2VuOml9PW47aWYoIXImJiFpKXJldHVybiBudWxsO3RyeXtyZXR1cm4gdC5jcmVkZW50aWFsKHIsaSl9Y2F0Y2h7cmV0dXJuIG51bGx9fX10LkdPT0dMRV9TSUdOX0lOX01FVEhPRD0iZ29vZ2xlLmNvbSIsdC5QUk9WSURFUl9JRD0iZ29vZ2xlLmNvbSI7cmV0dXJuIHR9KSgpO2NsYXNzIHppe2NvbnN0cnVjdG9yKGUpe3RoaXMudXNlcj1lLnVzZXIsdGhpcy5wcm92aWRlcklkPWUucHJvdmlkZXJJZCx0aGlzLl90b2tlblJlc3BvbnNlPWUuX3Rva2VuUmVzcG9uc2UsdGhpcy5vcGVyYXRpb25UeXBlPWUub3BlcmF0aW9uVHlwZX1zdGF0aWMgX2Zyb21JZFRva2VuUmVzcG9uc2UoZSxuLHIsaT0hMSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0IHM9eWllbGQgT3IuX2Zyb21JZFRva2VuUmVzcG9uc2UoZSxyLGkpLG89SXkocik7cmV0dXJuIG5ldyB6aSh7dXNlcjpzLHByb3ZpZGVySWQ6byxfdG9rZW5SZXNwb25zZTpyLG9wZXJhdGlvblR5cGU6bn0pfSl9c3RhdGljIF9mb3JPcGVyYXRpb24oZSxuLHIpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCBlLl91cGRhdGVUb2tlbnNJZk5lY2Vzc2FyeShyLCEwKTtjb25zdCBpPUl5KHIpO3JldHVybiBuZXcgemkoe3VzZXI6ZSxwcm92aWRlcklkOmksX3Rva2VuUmVzcG9uc2U6cixvcGVyYXRpb25UeXBlOm59KX0pfX1mdW5jdGlvbiBJeSh0KXtyZXR1cm4gdC5wcm92aWRlcklkP3QucHJvdmlkZXJJZDoicGhvbmVOdW1iZXIiaW4gdD8icGhvbmUiOm51bGx9Y2xhc3MgTmMgZXh0ZW5kcyBLbntjb25zdHJ1Y3RvcihlLG4scixpKXt2YXIgcztzdXBlcihuLmNvZGUsbi5tZXNzYWdlKSx0aGlzLm9wZXJhdGlvblR5cGU9cix0aGlzLnVzZXI9aSxPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxOYy5wcm90b3R5cGUpLHRoaXMuY3VzdG9tRGF0YT17YXBwTmFtZTplLm5hbWUsdGVuYW50SWQ6KHM9ZS50ZW5hbnRJZCkhPT1udWxsJiZzIT09dm9pZCAwP3M6dm9pZCAwLF9zZXJ2ZXJSZXNwb25zZTpuLmN1c3RvbURhdGEuX3NlcnZlclJlc3BvbnNlLG9wZXJhdGlvblR5cGU6cn19c3RhdGljIF9mcm9tRXJyb3JBbmRPcGVyYXRpb24oZSxuLHIsaSl7cmV0dXJuIG5ldyBOYyhlLG4scixpKX19ZnVuY3Rpb24gWFQodCxlLG4scil7cmV0dXJuKGU9PT0icmVhdXRoZW50aWNhdGUiP24uX2dldFJlYXV0aGVudGljYXRpb25SZXNvbHZlcih0KTpuLl9nZXRJZFRva2VuUmVzcG9uc2UodCkpLmNhdGNoKHM9Pnt0aHJvdyBzLmNvZGU9PT0iYXV0aC9tdWx0aS1mYWN0b3ItYXV0aC1yZXF1aXJlZCI/TmMuX2Zyb21FcnJvckFuZE9wZXJhdGlvbih0LHMsZSxyKTpzfSl9ZnVuY3Rpb24gZVUodCxlLG49ITEpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCByPXlpZWxkIF9vKHQsZS5fbGlua1RvSWRUb2tlbih0LmF1dGgseWllbGQgdC5nZXRJZFRva2VuKCkpLG4pO3JldHVybiB6aS5fZm9yT3BlcmF0aW9uKHQsImxpbmsiLHIpfSl9ZnVuY3Rpb24gdFUodCxlLG49ITEpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdHthdXRoOnJ9PXQsaT0icmVhdXRoZW50aWNhdGUiO3RyeXtjb25zdCBzPXlpZWxkIF9vKHQsWFQocixpLGUsdCksbik7SihzLmlkVG9rZW4sciwiaW50ZXJuYWwtZXJyb3IiKTtjb25zdCBvPUVwKHMuaWRUb2tlbik7SihvLHIsImludGVybmFsLWVycm9yIik7Y29uc3R7c3ViOmF9PW87cmV0dXJuIEoodC51aWQ9PT1hLHIsInVzZXItbWlzbWF0Y2giKSx6aS5fZm9yT3BlcmF0aW9uKHQsaSxzKX1jYXRjaChzKXt0aHJvdyBzPy5jb2RlPT09ImF1dGgvdXNlci1ub3QtZm91bmQiJiZtbihyLCJ1c2VyLW1pc21hdGNoIiksc319KX1mdW5jdGlvbiBuVSh0LGUsbj0hMSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0IHI9InNpZ25JbiIsaT15aWVsZCBYVCh0LHIsZSkscz15aWVsZCB6aS5fZnJvbUlkVG9rZW5SZXNwb25zZSh0LHIsaSk7cmV0dXJuIG58fCh5aWVsZCB0Ll91cGRhdGVDdXJyZW50VXNlcihzLnVzZXIpKSxzfSl9ZnVuY3Rpb24gWVQodCxlLG4scil7cmV0dXJuIG90KHQpLm9uSWRUb2tlbkNoYW5nZWQoZSxuLHIpfWZ1bmN0aW9uIHJVKHQsZSxuKXtyZXR1cm4gb3QodCkuYmVmb3JlQXV0aFN0YXRlQ2hhbmdlZChlLG4pfWZ1bmN0aW9uIGlVKHQpe3JldHVybiBvdCh0KS5zaWduT3V0KCl9Y29uc3Qga2M9Il9fc2FrIjtjbGFzcyBKVHtjb25zdHJ1Y3RvcihlLG4pe3RoaXMuc3RvcmFnZVJldHJpZXZlcj1lLHRoaXMudHlwZT1ufV9pc0F2YWlsYWJsZSgpe3RyeXtyZXR1cm4gdGhpcy5zdG9yYWdlPyh0aGlzLnN0b3JhZ2Uuc2V0SXRlbShrYywiMSIpLHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKGtjKSxQcm9taXNlLnJlc29sdmUoITApKTpQcm9taXNlLnJlc29sdmUoITEpfWNhdGNoe3JldHVybiBQcm9taXNlLnJlc29sdmUoITEpfX1fc2V0KGUsbil7cmV0dXJuIHRoaXMuc3RvcmFnZS5zZXRJdGVtKGUsSlNPTi5zdHJpbmdpZnkobikpLFByb21pc2UucmVzb2x2ZSgpfV9nZXQoZSl7Y29uc3Qgbj10aGlzLnN0b3JhZ2UuZ2V0SXRlbShlKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG4/SlNPTi5wYXJzZShuKTpudWxsKX1fcmVtb3ZlKGUpe3JldHVybiB0aGlzLnN0b3JhZ2UucmVtb3ZlSXRlbShlKSxQcm9taXNlLnJlc29sdmUoKX1nZXQgc3RvcmFnZSgpe3JldHVybiB0aGlzLnN0b3JhZ2VSZXRyaWV2ZXIoKX19ZnVuY3Rpb24gc1UoKXtjb25zdCB0PSRlKCk7cmV0dXJuIHdwKHQpfHxEdSh0KX1jb25zdCBvVT0xZTMsYVU9MTA7bGV0IGNVPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBKVHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCgpPT53aW5kb3cubG9jYWxTdG9yYWdlLCJMT0NBTCIpLHRoaXMuYm91bmRFdmVudEhhbmRsZXI9KG4scik9PnRoaXMub25TdG9yYWdlRXZlbnQobixyKSx0aGlzLmxpc3RlbmVycz17fSx0aGlzLmxvY2FsQ2FjaGU9e30sdGhpcy5wb2xsVGltZXI9bnVsbCx0aGlzLnNhZmFyaUxvY2FsU3RvcmFnZU5vdFN5bmNlZD1zVSgpJiZGRigpLHRoaXMuZmFsbGJhY2tUb1BvbGxpbmc9V1QoKSx0aGlzLl9zaG91bGRBbGxvd01pZ3JhdGlvbj0hMH1mb3JBbGxDaGFuZ2VkS2V5cyhuKXtmb3IoY29uc3QgciBvZiBPYmplY3Qua2V5cyh0aGlzLmxpc3RlbmVycykpe2NvbnN0IGk9dGhpcy5zdG9yYWdlLmdldEl0ZW0ocikscz10aGlzLmxvY2FsQ2FjaGVbcl07aSE9PXMmJm4ocixzLGkpfX1vblN0b3JhZ2VFdmVudChuLHI9ITEpe2lmKCFuLmtleSl7dGhpcy5mb3JBbGxDaGFuZ2VkS2V5cygoYSxjLHUpPT57dGhpcy5ub3RpZnlMaXN0ZW5lcnMoYSx1KX0pO3JldHVybn1jb25zdCBpPW4ua2V5O2lmKHI/dGhpcy5kZXRhY2hMaXN0ZW5lcigpOnRoaXMuc3RvcFBvbGxpbmcoKSx0aGlzLnNhZmFyaUxvY2FsU3RvcmFnZU5vdFN5bmNlZCl7Y29uc3QgYT10aGlzLnN0b3JhZ2UuZ2V0SXRlbShpKTtpZihuLm5ld1ZhbHVlIT09YSluLm5ld1ZhbHVlIT09bnVsbD90aGlzLnN0b3JhZ2Uuc2V0SXRlbShpLG4ubmV3VmFsdWUpOnRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKGkpO2Vsc2UgaWYodGhpcy5sb2NhbENhY2hlW2ldPT09bi5uZXdWYWx1ZSYmIXIpcmV0dXJufWNvbnN0IHM9KCk9Pntjb25zdCBhPXRoaXMuc3RvcmFnZS5nZXRJdGVtKGkpOyFyJiZ0aGlzLmxvY2FsQ2FjaGVbaV09PT1hfHx0aGlzLm5vdGlmeUxpc3RlbmVycyhpLGEpfSxvPXRoaXMuc3RvcmFnZS5nZXRJdGVtKGkpO1ZGKCkmJm8hPT1uLm5ld1ZhbHVlJiZuLm5ld1ZhbHVlIT09bi5vbGRWYWx1ZT9zZXRUaW1lb3V0KHMsYVUpOnMoKX1ub3RpZnlMaXN0ZW5lcnMobixyKXt0aGlzLmxvY2FsQ2FjaGVbbl09cjtjb25zdCBpPXRoaXMubGlzdGVuZXJzW25dO2lmKGkpZm9yKGNvbnN0IHMgb2YgQXJyYXkuZnJvbShpKSlzKHImJkpTT04ucGFyc2UocikpfXN0YXJ0UG9sbGluZygpe3RoaXMuc3RvcFBvbGxpbmcoKSx0aGlzLnBvbGxUaW1lcj1zZXRJbnRlcnZhbCgoKT0+e3RoaXMuZm9yQWxsQ2hhbmdlZEtleXMoKG4scixpKT0+e3RoaXMub25TdG9yYWdlRXZlbnQobmV3IFN0b3JhZ2VFdmVudCgic3RvcmFnZSIse2tleTpuLG9sZFZhbHVlOnIsbmV3VmFsdWU6aX0pLCEwKX0pfSxvVSl9c3RvcFBvbGxpbmcoKXt0aGlzLnBvbGxUaW1lciYmKGNsZWFySW50ZXJ2YWwodGhpcy5wb2xsVGltZXIpLHRoaXMucG9sbFRpbWVyPW51bGwpfWF0dGFjaExpc3RlbmVyKCl7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInN0b3JhZ2UiLHRoaXMuYm91bmRFdmVudEhhbmRsZXIpfWRldGFjaExpc3RlbmVyKCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInN0b3JhZ2UiLHRoaXMuYm91bmRFdmVudEhhbmRsZXIpfV9hZGRMaXN0ZW5lcihuLHIpe09iamVjdC5rZXlzKHRoaXMubGlzdGVuZXJzKS5sZW5ndGg9PT0wJiYodGhpcy5mYWxsYmFja1RvUG9sbGluZz90aGlzLnN0YXJ0UG9sbGluZygpOnRoaXMuYXR0YWNoTGlzdGVuZXIoKSksdGhpcy5saXN0ZW5lcnNbbl18fCh0aGlzLmxpc3RlbmVyc1tuXT1uZXcgU2V0LHRoaXMubG9jYWxDYWNoZVtuXT10aGlzLnN0b3JhZ2UuZ2V0SXRlbShuKSksdGhpcy5saXN0ZW5lcnNbbl0uYWRkKHIpfV9yZW1vdmVMaXN0ZW5lcihuLHIpe3RoaXMubGlzdGVuZXJzW25dJiYodGhpcy5saXN0ZW5lcnNbbl0uZGVsZXRlKHIpLHRoaXMubGlzdGVuZXJzW25dLnNpemU9PT0wJiZkZWxldGUgdGhpcy5saXN0ZW5lcnNbbl0pLE9iamVjdC5rZXlzKHRoaXMubGlzdGVuZXJzKS5sZW5ndGg9PT0wJiYodGhpcy5kZXRhY2hMaXN0ZW5lcigpLHRoaXMuc3RvcFBvbGxpbmcoKSl9X3NldChuLHIpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCBJcih0LnByb3RvdHlwZSx0aGlzLCJfc2V0IikuY2FsbCh0aGlzLG4sciksdGhpcy5sb2NhbENhY2hlW25dPUpTT04uc3RyaW5naWZ5KHIpfSl9X2dldChuKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3Qgcj15aWVsZCBJcih0LnByb3RvdHlwZSx0aGlzLCJfZ2V0IikuY2FsbCh0aGlzLG4pO3JldHVybiB0aGlzLmxvY2FsQ2FjaGVbbl09SlNPTi5zdHJpbmdpZnkocikscn0pfV9yZW1vdmUobil7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIElyKHQucHJvdG90eXBlLHRoaXMsIl9yZW1vdmUiKS5jYWxsKHRoaXMsbiksZGVsZXRlIHRoaXMubG9jYWxDYWNoZVtuXX0pfX1yZXR1cm4gdC50eXBlPSJMT0NBTCIsdH0pKCk7Y29uc3QgdVU9Y1U7bGV0IGxVPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBKVHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCgpPT53aW5kb3cuc2Vzc2lvblN0b3JhZ2UsIlNFU1NJT04iKX1fYWRkTGlzdGVuZXIobixyKXt9X3JlbW92ZUxpc3RlbmVyKG4scil7fX1yZXR1cm4gdC50eXBlPSJTRVNTSU9OIix0fSkoKTtjb25zdCBlUz1sVTtmdW5jdGlvbiBoVSh0KXtyZXR1cm4gUHJvbWlzZS5hbGwodC5tYXAoZT0+Zyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dHJ5e3JldHVybntmdWxmaWxsZWQ6ITAsdmFsdWU6eWllbGQgZX19Y2F0Y2gobil7cmV0dXJue2Z1bGZpbGxlZDohMSxyZWFzb246bn19fSkpKX1sZXQgZFU9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3RvcihuKXt0aGlzLmV2ZW50VGFyZ2V0PW4sdGhpcy5oYW5kbGVyc01hcD17fSx0aGlzLmJvdW5kRXZlbnRIYW5kbGVyPXRoaXMuaGFuZGxlRXZlbnQuYmluZCh0aGlzKX1zdGF0aWMgX2dldEluc3RhbmNlKG4pe2NvbnN0IHI9dGhpcy5yZWNlaXZlcnMuZmluZChzPT5zLmlzTGlzdGVuaW5ndG8obikpO2lmKHIpcmV0dXJuIHI7Y29uc3QgaT1uZXcgdChuKTtyZXR1cm4gdGhpcy5yZWNlaXZlcnMucHVzaChpKSxpfWlzTGlzdGVuaW5ndG8obil7cmV0dXJuIHRoaXMuZXZlbnRUYXJnZXQ9PT1ufWhhbmRsZUV2ZW50KG4pe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCByPW4se2V2ZW50SWQ6aSxldmVudFR5cGU6cyxkYXRhOm99PXIuZGF0YSxhPXRoaXMuaGFuZGxlcnNNYXBbc107aWYoIWE/LnNpemUpcmV0dXJuO3IucG9ydHNbMF0ucG9zdE1lc3NhZ2Uoe3N0YXR1czoiYWNrIixldmVudElkOmksZXZlbnRUeXBlOnN9KTtjb25zdCBjPUFycmF5LmZyb20oYSkubWFwKGw9PmcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3JldHVybiBsKHIub3JpZ2luLG8pfSkpLHU9eWllbGQgaFUoYyk7ci5wb3J0c1swXS5wb3N0TWVzc2FnZSh7c3RhdHVzOiJkb25lIixldmVudElkOmksZXZlbnRUeXBlOnMscmVzcG9uc2U6dX0pfSl9X3N1YnNjcmliZShuLHIpe09iamVjdC5rZXlzKHRoaXMuaGFuZGxlcnNNYXApLmxlbmd0aD09PTAmJnRoaXMuZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsdGhpcy5ib3VuZEV2ZW50SGFuZGxlciksdGhpcy5oYW5kbGVyc01hcFtuXXx8KHRoaXMuaGFuZGxlcnNNYXBbbl09bmV3IFNldCksdGhpcy5oYW5kbGVyc01hcFtuXS5hZGQocil9X3Vuc3Vic2NyaWJlKG4scil7dGhpcy5oYW5kbGVyc01hcFtuXSYmciYmdGhpcy5oYW5kbGVyc01hcFtuXS5kZWxldGUociksKCFyfHx0aGlzLmhhbmRsZXJzTWFwW25dLnNpemU9PT0wKSYmZGVsZXRlIHRoaXMuaGFuZGxlcnNNYXBbbl0sT2JqZWN0LmtleXModGhpcy5oYW5kbGVyc01hcCkubGVuZ3RoPT09MCYmdGhpcy5ldmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCJtZXNzYWdlIix0aGlzLmJvdW5kRXZlbnRIYW5kbGVyKX19dC5yZWNlaXZlcnM9W107cmV0dXJuIHR9KSgpO2Z1bmN0aW9uIFNwKHQ9IiIsZT0xMCl7bGV0IG49IiI7Zm9yKGxldCByPTA7cjxlO3IrKyluKz1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTApO3JldHVybiB0K259Y2xhc3MgZlV7Y29uc3RydWN0b3IoZSl7dGhpcy50YXJnZXQ9ZSx0aGlzLmhhbmRsZXJzPW5ldyBTZXR9cmVtb3ZlTWVzc2FnZUhhbmRsZXIoZSl7ZS5tZXNzYWdlQ2hhbm5lbCYmKGUubWVzc2FnZUNoYW5uZWwucG9ydDEucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZS5vbk1lc3NhZ2UpLGUubWVzc2FnZUNoYW5uZWwucG9ydDEuY2xvc2UoKSksdGhpcy5oYW5kbGVycy5kZWxldGUoZSl9X3NlbmQoZSxuLHI9NTApe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCBpPXR5cGVvZiBNZXNzYWdlQ2hhbm5lbDwidSI/bmV3IE1lc3NhZ2VDaGFubmVsOm51bGw7aWYoIWkpdGhyb3cgbmV3IEVycm9yKCJjb25uZWN0aW9uX3VuYXZhaWxhYmxlIik7bGV0IHMsbztyZXR1cm4gbmV3IFByb21pc2UoKGEsYyk9Pntjb25zdCB1PVNwKCIiLDIwKTtpLnBvcnQxLnN0YXJ0KCk7Y29uc3QgbD1zZXRUaW1lb3V0KCgpPT57YyhuZXcgRXJyb3IoInVuc3VwcG9ydGVkX2V2ZW50IikpfSxyKTtvPXttZXNzYWdlQ2hhbm5lbDppLG9uTWVzc2FnZShoKXtjb25zdCBkPWg7aWYoZC5kYXRhLmV2ZW50SWQ9PT11KXN3aXRjaChkLmRhdGEuc3RhdHVzKXtjYXNlImFjayI6Y2xlYXJUaW1lb3V0KGwpLHM9c2V0VGltZW91dCgoKT0+e2MobmV3IEVycm9yKCJ0aW1lb3V0IikpfSwzZTMpO2JyZWFrO2Nhc2UiZG9uZSI6Y2xlYXJUaW1lb3V0KHMpLGEoZC5kYXRhLnJlc3BvbnNlKTticmVhaztkZWZhdWx0OmNsZWFyVGltZW91dChsKSxjbGVhclRpbWVvdXQocyksYyhuZXcgRXJyb3IoImludmFsaWRfcmVzcG9uc2UiKSk7YnJlYWt9fX0sdGhpcy5oYW5kbGVycy5hZGQobyksaS5wb3J0MS5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixvLm9uTWVzc2FnZSksdGhpcy50YXJnZXQucG9zdE1lc3NhZ2Uoe2V2ZW50VHlwZTplLGV2ZW50SWQ6dSxkYXRhOm59LFtpLnBvcnQyXSl9KS5maW5hbGx5KCgpPT57byYmdGhpcy5yZW1vdmVNZXNzYWdlSGFuZGxlcihvKX0pfSl9fWZ1bmN0aW9uIGhuKCl7cmV0dXJuIHdpbmRvd31mdW5jdGlvbiBwVSh0KXtobigpLmxvY2F0aW9uLmhyZWY9dH1mdW5jdGlvbiB0Uygpe3JldHVybiB0eXBlb2YgaG4oKS5Xb3JrZXJHbG9iYWxTY29wZTwidSImJnR5cGVvZiBobigpLmltcG9ydFNjcmlwdHM9PSJmdW5jdGlvbiJ9ZnVuY3Rpb24gZ1UoKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7aWYoIW5hdmlnYXRvcj8uc2VydmljZVdvcmtlcilyZXR1cm4gbnVsbDt0cnl7cmV0dXJuKHlpZWxkIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlYWR5KS5hY3RpdmV9Y2F0Y2h7cmV0dXJuIG51bGx9fSl9ZnVuY3Rpb24gbVUoKXt2YXIgdDtyZXR1cm4oKHQ9bmF2aWdhdG9yPy5zZXJ2aWNlV29ya2VyKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQuY29udHJvbGxlcil8fG51bGx9ZnVuY3Rpb24geVUoKXtyZXR1cm4gdFMoKT9zZWxmOm51bGx9Y29uc3QgblM9ImZpcmViYXNlTG9jYWxTdG9yYWdlRGIiLHZVPTEsT2M9ImZpcmViYXNlTG9jYWxTdG9yYWdlIixyUz0iZmJhc2Vfa2V5IjtjbGFzcyBlYXtjb25zdHJ1Y3RvcihlKXt0aGlzLnJlcXVlc3Q9ZX10b1Byb21pc2UoKXtyZXR1cm4gbmV3IFByb21pc2UoKGUsbik9Pnt0aGlzLnJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigic3VjY2VzcyIsKCk9PntlKHRoaXMucmVxdWVzdC5yZXN1bHQpfSksdGhpcy5yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIiwoKT0+e24odGhpcy5yZXF1ZXN0LmVycm9yKX0pfSl9fWZ1bmN0aW9uIE11KHQsZSl7cmV0dXJuIHQudHJhbnNhY3Rpb24oW09jXSxlPyJyZWFkd3JpdGUiOiJyZWFkb25seSIpLm9iamVjdFN0b3JlKE9jKX1mdW5jdGlvbiBfVSgpe2NvbnN0IHQ9aW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKG5TKTtyZXR1cm4gbmV3IGVhKHQpLnRvUHJvbWlzZSgpfWZ1bmN0aW9uIGZkKCl7Y29uc3QgdD1pbmRleGVkREIub3BlbihuUyx2VSk7cmV0dXJuIG5ldyBQcm9taXNlKChlLG4pPT57dC5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsKCk9PntuKHQuZXJyb3IpfSksdC5hZGRFdmVudExpc3RlbmVyKCJ1cGdyYWRlbmVlZGVkIiwoKT0+e2NvbnN0IHI9dC5yZXN1bHQ7dHJ5e3IuY3JlYXRlT2JqZWN0U3RvcmUoT2Mse2tleVBhdGg6clN9KX1jYXRjaChpKXtuKGkpfX0pLHQuYWRkRXZlbnRMaXN0ZW5lcigic3VjY2VzcyIsKCk9PmcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0IHI9dC5yZXN1bHQ7ci5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKE9jKT9lKHIpOihyLmNsb3NlKCkseWllbGQgX1UoKSxlKHlpZWxkIGZkKCkpKX0pKX0pfWZ1bmN0aW9uIFR5KHQsZSxuKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3Qgcj1NdSh0LCEwKS5wdXQoe1tyU106ZSx2YWx1ZTpufSk7cmV0dXJuIG5ldyBlYShyKS50b1Byb21pc2UoKX0pfWZ1bmN0aW9uIEVVKHQsZSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0IG49TXUodCwhMSkuZ2V0KGUpLHI9eWllbGQgbmV3IGVhKG4pLnRvUHJvbWlzZSgpO3JldHVybiByPT09dm9pZCAwP251bGw6ci52YWx1ZX0pfWZ1bmN0aW9uIFN5KHQsZSl7Y29uc3Qgbj1NdSh0LCEwKS5kZWxldGUoZSk7cmV0dXJuIG5ldyBlYShuKS50b1Byb21pc2UoKX1jb25zdCB3VT04MDAsSVU9MztsZXQgVFU9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMudHlwZT0iTE9DQUwiLHRoaXMuX3Nob3VsZEFsbG93TWlncmF0aW9uPSEwLHRoaXMubGlzdGVuZXJzPXt9LHRoaXMubG9jYWxDYWNoZT17fSx0aGlzLnBvbGxUaW1lcj1udWxsLHRoaXMucGVuZGluZ1dyaXRlcz0wLHRoaXMucmVjZWl2ZXI9bnVsbCx0aGlzLnNlbmRlcj1udWxsLHRoaXMuc2VydmljZVdvcmtlclJlY2VpdmVyQXZhaWxhYmxlPSExLHRoaXMuYWN0aXZlU2VydmljZVdvcmtlcj1udWxsLHRoaXMuX3dvcmtlckluaXRpYWxpemF0aW9uUHJvbWlzZT10aGlzLmluaXRpYWxpemVTZXJ2aWNlV29ya2VyTWVzc2FnaW5nKCkudGhlbigoKT0+e30sKCk9Pnt9KX1fb3BlbkRiKCl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3JldHVybiB0aGlzLmRiP3RoaXMuZGI6KHRoaXMuZGI9eWllbGQgZmQoKSx0aGlzLmRiKX0pfV93aXRoUmV0cmllcyhuKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IHI9MDtmb3IoOzspdHJ5e2NvbnN0IGk9eWllbGQgdGhpcy5fb3BlbkRiKCk7cmV0dXJuIHlpZWxkIG4oaSl9Y2F0Y2goaSl7aWYocisrPklVKXRocm93IGk7dGhpcy5kYiYmKHRoaXMuZGIuY2xvc2UoKSx0aGlzLmRiPXZvaWQgMCl9fSl9aW5pdGlhbGl6ZVNlcnZpY2VXb3JrZXJNZXNzYWdpbmcoKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIHRTKCk/dGhpcy5pbml0aWFsaXplUmVjZWl2ZXIoKTp0aGlzLmluaXRpYWxpemVTZW5kZXIoKX0pfWluaXRpYWxpemVSZWNlaXZlcigpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0aGlzLnJlY2VpdmVyPWRVLl9nZXRJbnN0YW5jZSh5VSgpKSx0aGlzLnJlY2VpdmVyLl9zdWJzY3JpYmUoImtleUNoYW5nZWQiLChuLHIpPT5nKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm57a2V5UHJvY2Vzc2VkOih5aWVsZCB0aGlzLl9wb2xsKCkpLmluY2x1ZGVzKHIua2V5KX19KSksdGhpcy5yZWNlaXZlci5fc3Vic2NyaWJlKCJwaW5nIiwobixyKT0+Zyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuWyJrZXlDaGFuZ2VkIl19KSl9KX1pbml0aWFsaXplU2VuZGVyKCl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciBuLHI7aWYodGhpcy5hY3RpdmVTZXJ2aWNlV29ya2VyPXlpZWxkIGdVKCksIXRoaXMuYWN0aXZlU2VydmljZVdvcmtlcilyZXR1cm47dGhpcy5zZW5kZXI9bmV3IGZVKHRoaXMuYWN0aXZlU2VydmljZVdvcmtlcik7Y29uc3QgaT15aWVsZCB0aGlzLnNlbmRlci5fc2VuZCgicGluZyIse30sODAwKTtpJiYhKChuPWlbMF0pPT09bnVsbHx8bj09PXZvaWQgMCkmJm4uZnVsZmlsbGVkJiYhKChyPWlbMF0pPT09bnVsbHx8cj09PXZvaWQgMCkmJnIudmFsdWUuaW5jbHVkZXMoImtleUNoYW5nZWQiKSYmKHRoaXMuc2VydmljZVdvcmtlclJlY2VpdmVyQXZhaWxhYmxlPSEwKX0pfW5vdGlmeVNlcnZpY2VXb3JrZXIobil7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKCEoIXRoaXMuc2VuZGVyfHwhdGhpcy5hY3RpdmVTZXJ2aWNlV29ya2VyfHxtVSgpIT09dGhpcy5hY3RpdmVTZXJ2aWNlV29ya2VyKSl0cnl7eWllbGQgdGhpcy5zZW5kZXIuX3NlbmQoImtleUNoYW5nZWQiLHtrZXk6bn0sdGhpcy5zZXJ2aWNlV29ya2VyUmVjZWl2ZXJBdmFpbGFibGU/ODAwOjUwKX1jYXRjaHt9fSl9X2lzQXZhaWxhYmxlKCl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3RyeXtpZighaW5kZXhlZERCKXJldHVybiExO2NvbnN0IG49eWllbGQgZmQoKTtyZXR1cm4geWllbGQgVHkobixrYywiMSIpLHlpZWxkIFN5KG4sa2MpLCEwfWNhdGNoe31yZXR1cm4hMX0pfV93aXRoUGVuZGluZ1dyaXRlKG4pe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0aGlzLnBlbmRpbmdXcml0ZXMrKzt0cnl7eWllbGQgbigpfWZpbmFsbHl7dGhpcy5wZW5kaW5nV3JpdGVzLS19fSl9X3NldChuLHIpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5fd2l0aFBlbmRpbmdXcml0ZSgoKT0+Zyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIHlpZWxkIHRoaXMuX3dpdGhSZXRyaWVzKGk9PlR5KGksbixyKSksdGhpcy5sb2NhbENhY2hlW25dPXIsdGhpcy5ub3RpZnlTZXJ2aWNlV29ya2VyKG4pfSkpfSl9X2dldChuKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3Qgcj15aWVsZCB0aGlzLl93aXRoUmV0cmllcyhpPT5FVShpLG4pKTtyZXR1cm4gdGhpcy5sb2NhbENhY2hlW25dPXIscn0pfV9yZW1vdmUobil7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3JldHVybiB0aGlzLl93aXRoUGVuZGluZ1dyaXRlKCgpPT5nKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4geWllbGQgdGhpcy5fd2l0aFJldHJpZXMocj0+U3kocixuKSksZGVsZXRlIHRoaXMubG9jYWxDYWNoZVtuXSx0aGlzLm5vdGlmeVNlcnZpY2VXb3JrZXIobil9KSl9KX1fcG9sbCgpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCBuPXlpZWxkIHRoaXMuX3dpdGhSZXRyaWVzKHM9Pntjb25zdCBvPU11KHMsITEpLmdldEFsbCgpO3JldHVybiBuZXcgZWEobykudG9Qcm9taXNlKCl9KTtpZighbilyZXR1cm5bXTtpZih0aGlzLnBlbmRpbmdXcml0ZXMhPT0wKXJldHVybltdO2NvbnN0IHI9W10saT1uZXcgU2V0O2lmKG4ubGVuZ3RoIT09MClmb3IoY29uc3R7ZmJhc2Vfa2V5OnMsdmFsdWU6b31vZiBuKWkuYWRkKHMpLEpTT04uc3RyaW5naWZ5KHRoaXMubG9jYWxDYWNoZVtzXSkhPT1KU09OLnN0cmluZ2lmeShvKSYmKHRoaXMubm90aWZ5TGlzdGVuZXJzKHMsbyksci5wdXNoKHMpKTtmb3IoY29uc3QgcyBvZiBPYmplY3Qua2V5cyh0aGlzLmxvY2FsQ2FjaGUpKXRoaXMubG9jYWxDYWNoZVtzXSYmIWkuaGFzKHMpJiYodGhpcy5ub3RpZnlMaXN0ZW5lcnMocyxudWxsKSxyLnB1c2gocykpO3JldHVybiByfSl9bm90aWZ5TGlzdGVuZXJzKG4scil7dGhpcy5sb2NhbENhY2hlW25dPXI7Y29uc3QgaT10aGlzLmxpc3RlbmVyc1tuXTtpZihpKWZvcihjb25zdCBzIG9mIEFycmF5LmZyb20oaSkpcyhyKX1zdGFydFBvbGxpbmcoKXt0aGlzLnN0b3BQb2xsaW5nKCksdGhpcy5wb2xsVGltZXI9c2V0SW50ZXJ2YWwoKCk9PmcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3JldHVybiB0aGlzLl9wb2xsKCl9KSx3VSl9c3RvcFBvbGxpbmcoKXt0aGlzLnBvbGxUaW1lciYmKGNsZWFySW50ZXJ2YWwodGhpcy5wb2xsVGltZXIpLHRoaXMucG9sbFRpbWVyPW51bGwpfV9hZGRMaXN0ZW5lcihuLHIpe09iamVjdC5rZXlzKHRoaXMubGlzdGVuZXJzKS5sZW5ndGg9PT0wJiZ0aGlzLnN0YXJ0UG9sbGluZygpLHRoaXMubGlzdGVuZXJzW25dfHwodGhpcy5saXN0ZW5lcnNbbl09bmV3IFNldCx0aGlzLl9nZXQobikpLHRoaXMubGlzdGVuZXJzW25dLmFkZChyKX1fcmVtb3ZlTGlzdGVuZXIobixyKXt0aGlzLmxpc3RlbmVyc1tuXSYmKHRoaXMubGlzdGVuZXJzW25dLmRlbGV0ZShyKSx0aGlzLmxpc3RlbmVyc1tuXS5zaXplPT09MCYmZGVsZXRlIHRoaXMubGlzdGVuZXJzW25dKSxPYmplY3Qua2V5cyh0aGlzLmxpc3RlbmVycykubGVuZ3RoPT09MCYmdGhpcy5zdG9wUG9sbGluZygpfX1yZXR1cm4gdC50eXBlPSJMT0NBTCIsdH0pKCk7Y29uc3QgU1U9VFU7bmV3IEpvKDNlNCw2ZTQpO2Z1bmN0aW9uIGlTKHQsZSl7cmV0dXJuIGU/RG4oZSk6KEoodC5fcG9wdXBSZWRpcmVjdFJlc29sdmVyLHQsImFyZ3VtZW50LWVycm9yIiksdC5fcG9wdXBSZWRpcmVjdFJlc29sdmVyKX1jbGFzcyBDcCBleHRlbmRzIFFUe2NvbnN0cnVjdG9yKGUpe3N1cGVyKCJjdXN0b20iLCJjdXN0b20iKSx0aGlzLnBhcmFtcz1lfV9nZXRJZFRva2VuUmVzcG9uc2UoZSl7cmV0dXJuIGJpKGUsdGhpcy5fYnVpbGRJZHBSZXF1ZXN0KCkpfV9saW5rVG9JZFRva2VuKGUsbil7cmV0dXJuIGJpKGUsdGhpcy5fYnVpbGRJZHBSZXF1ZXN0KG4pKX1fZ2V0UmVhdXRoZW50aWNhdGlvblJlc29sdmVyKGUpe3JldHVybiBiaShlLHRoaXMuX2J1aWxkSWRwUmVxdWVzdCgpKX1fYnVpbGRJZHBSZXF1ZXN0KGUpe2NvbnN0IG49e3JlcXVlc3RVcmk6dGhpcy5wYXJhbXMucmVxdWVzdFVyaSxzZXNzaW9uSWQ6dGhpcy5wYXJhbXMuc2Vzc2lvbklkLHBvc3RCb2R5OnRoaXMucGFyYW1zLnBvc3RCb2R5LHRlbmFudElkOnRoaXMucGFyYW1zLnRlbmFudElkLHBlbmRpbmdUb2tlbjp0aGlzLnBhcmFtcy5wZW5kaW5nVG9rZW4scmV0dXJuU2VjdXJlVG9rZW46ITAscmV0dXJuSWRwQ3JlZGVudGlhbDohMH07cmV0dXJuIGUmJihuLmlkVG9rZW49ZSksbn19ZnVuY3Rpb24gQ1UodCl7cmV0dXJuIG5VKHQuYXV0aCxuZXcgQ3AodCksdC5ieXBhc3NBdXRoU3RhdGUpfWZ1bmN0aW9uIEFVKHQpe2NvbnN0e2F1dGg6ZSx1c2VyOm59PXQ7cmV0dXJuIEoobixlLCJpbnRlcm5hbC1lcnJvciIpLHRVKG4sbmV3IENwKHQpLHQuYnlwYXNzQXV0aFN0YXRlKX1mdW5jdGlvbiBSVSh0KXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3R7YXV0aDplLHVzZXI6bn09dDtyZXR1cm4gSihuLGUsImludGVybmFsLWVycm9yIiksZVUobixuZXcgQ3AodCksdC5ieXBhc3NBdXRoU3RhdGUpfSl9Y2xhc3Mgc1N7Y29uc3RydWN0b3IoZSxuLHIsaSxzPSExKXt0aGlzLmF1dGg9ZSx0aGlzLnJlc29sdmVyPXIsdGhpcy51c2VyPWksdGhpcy5ieXBhc3NBdXRoU3RhdGU9cyx0aGlzLnBlbmRpbmdQcm9taXNlPW51bGwsdGhpcy5ldmVudE1hbmFnZXI9bnVsbCx0aGlzLmZpbHRlcj1BcnJheS5pc0FycmF5KG4pP246W25dfWV4ZWN1dGUoKXtyZXR1cm4gbmV3IFByb21pc2UoKGUsbik9PmcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3RoaXMucGVuZGluZ1Byb21pc2U9e3Jlc29sdmU6ZSxyZWplY3Q6bn07dHJ5e3RoaXMuZXZlbnRNYW5hZ2VyPXlpZWxkIHRoaXMucmVzb2x2ZXIuX2luaXRpYWxpemUodGhpcy5hdXRoKSx5aWVsZCB0aGlzLm9uRXhlY3V0aW9uKCksdGhpcy5ldmVudE1hbmFnZXIucmVnaXN0ZXJDb25zdW1lcih0aGlzKX1jYXRjaChyKXt0aGlzLnJlamVjdChyKX19KSl9b25BdXRoRXZlbnQoZSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0e3VybFJlc3BvbnNlOm4sc2Vzc2lvbklkOnIscG9zdEJvZHk6aSx0ZW5hbnRJZDpzLGVycm9yOm8sdHlwZTphfT1lO2lmKG8pe3RoaXMucmVqZWN0KG8pO3JldHVybn1jb25zdCBjPXthdXRoOnRoaXMuYXV0aCxyZXF1ZXN0VXJpOm4sc2Vzc2lvbklkOnIsdGVuYW50SWQ6c3x8dm9pZCAwLHBvc3RCb2R5Oml8fHZvaWQgMCx1c2VyOnRoaXMudXNlcixieXBhc3NBdXRoU3RhdGU6dGhpcy5ieXBhc3NBdXRoU3RhdGV9O3RyeXt0aGlzLnJlc29sdmUoeWllbGQgdGhpcy5nZXRJZHBUYXNrKGEpKGMpKX1jYXRjaCh1KXt0aGlzLnJlamVjdCh1KX19KX1vbkVycm9yKGUpe3RoaXMucmVqZWN0KGUpfWdldElkcFRhc2soZSl7c3dpdGNoKGUpe2Nhc2Uic2lnbkluVmlhUG9wdXAiOmNhc2Uic2lnbkluVmlhUmVkaXJlY3QiOnJldHVybiBDVTtjYXNlImxpbmtWaWFQb3B1cCI6Y2FzZSJsaW5rVmlhUmVkaXJlY3QiOnJldHVybiBSVTtjYXNlInJlYXV0aFZpYVBvcHVwIjpjYXNlInJlYXV0aFZpYVJlZGlyZWN0IjpyZXR1cm4gQVU7ZGVmYXVsdDptbih0aGlzLmF1dGgsImludGVybmFsLWVycm9yIil9fXJlc29sdmUoZSl7JG4odGhpcy5wZW5kaW5nUHJvbWlzZSwiUGVuZGluZyBwcm9taXNlIHdhcyBuZXZlciBzZXQiKSx0aGlzLnBlbmRpbmdQcm9taXNlLnJlc29sdmUoZSksdGhpcy51bnJlZ2lzdGVyQW5kQ2xlYW5VcCgpfXJlamVjdChlKXskbih0aGlzLnBlbmRpbmdQcm9taXNlLCJQZW5kaW5nIHByb21pc2Ugd2FzIG5ldmVyIHNldCIpLHRoaXMucGVuZGluZ1Byb21pc2UucmVqZWN0KGUpLHRoaXMudW5yZWdpc3RlckFuZENsZWFuVXAoKX11bnJlZ2lzdGVyQW5kQ2xlYW5VcCgpe3RoaXMuZXZlbnRNYW5hZ2VyJiZ0aGlzLmV2ZW50TWFuYWdlci51bnJlZ2lzdGVyQ29uc3VtZXIodGhpcyksdGhpcy5wZW5kaW5nUHJvbWlzZT1udWxsLHRoaXMuY2xlYW5VcCgpfX1jb25zdCBiVT1uZXcgSm8oMmUzLDFlNCk7ZnVuY3Rpb24gRFUodCxlLG4pe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCByPVB1KHQpO21GKHQsZSxUcCk7Y29uc3QgaT1pUyhyLG4pO3JldHVybiBuZXcgUFUociwic2lnbkluVmlhUG9wdXAiLGUsaSkuZXhlY3V0ZU5vdE51bGwoKX0pfWxldCBQVT0oKCk9PntjbGFzcyB0IGV4dGVuZHMgc1N7Y29uc3RydWN0b3IobixyLGkscyxvKXtzdXBlcihuLHIscyxvKSx0aGlzLnByb3ZpZGVyPWksdGhpcy5hdXRoV2luZG93PW51bGwsdGhpcy5wb2xsSWQ9bnVsbCx0LmN1cnJlbnRQb3B1cEFjdGlvbiYmdC5jdXJyZW50UG9wdXBBY3Rpb24uY2FuY2VsKCksdC5jdXJyZW50UG9wdXBBY3Rpb249dGhpc31leGVjdXRlTm90TnVsbCgpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCBuPXlpZWxkIHRoaXMuZXhlY3V0ZSgpO3JldHVybiBKKG4sdGhpcy5hdXRoLCJpbnRlcm5hbC1lcnJvciIpLG59KX1vbkV4ZWN1dGlvbigpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXskbih0aGlzLmZpbHRlci5sZW5ndGg9PT0xLCJQb3B1cCBvcGVyYXRpb25zIG9ubHkgaGFuZGxlIG9uZSBldmVudCIpO2NvbnN0IG49U3AoKTt0aGlzLmF1dGhXaW5kb3c9eWllbGQgdGhpcy5yZXNvbHZlci5fb3BlblBvcHVwKHRoaXMuYXV0aCx0aGlzLnByb3ZpZGVyLHRoaXMuZmlsdGVyWzBdLG4pLHRoaXMuYXV0aFdpbmRvdy5hc3NvY2lhdGVkRXZlbnQ9bix0aGlzLnJlc29sdmVyLl9vcmlnaW5WYWxpZGF0aW9uKHRoaXMuYXV0aCkuY2F0Y2gocj0+e3RoaXMucmVqZWN0KHIpfSksdGhpcy5yZXNvbHZlci5faXNJZnJhbWVXZWJTdG9yYWdlU3VwcG9ydGVkKHRoaXMuYXV0aCxyPT57cnx8dGhpcy5yZWplY3QobG4odGhpcy5hdXRoLCJ3ZWItc3RvcmFnZS11bnN1cHBvcnRlZCIpKX0pLHRoaXMucG9sbFVzZXJDYW5jZWxsYXRpb24oKX0pfWdldCBldmVudElkKCl7dmFyIG47cmV0dXJuKChuPXRoaXMuYXV0aFdpbmRvdyk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmFzc29jaWF0ZWRFdmVudCl8fG51bGx9Y2FuY2VsKCl7dGhpcy5yZWplY3QobG4odGhpcy5hdXRoLCJjYW5jZWxsZWQtcG9wdXAtcmVxdWVzdCIpKX1jbGVhblVwKCl7dGhpcy5hdXRoV2luZG93JiZ0aGlzLmF1dGhXaW5kb3cuY2xvc2UoKSx0aGlzLnBvbGxJZCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnBvbGxJZCksdGhpcy5hdXRoV2luZG93PW51bGwsdGhpcy5wb2xsSWQ9bnVsbCx0LmN1cnJlbnRQb3B1cEFjdGlvbj1udWxsfXBvbGxVc2VyQ2FuY2VsbGF0aW9uKCl7Y29uc3Qgbj0oKT0+e3ZhciByLGk7aWYoISgoaT0ocj10aGlzLmF1dGhXaW5kb3cpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci53aW5kb3cpPT09bnVsbHx8aT09PXZvaWQgMCkmJmkuY2xvc2VkKXt0aGlzLnBvbGxJZD13aW5kb3cuc2V0VGltZW91dCgoKT0+e3RoaXMucG9sbElkPW51bGwsdGhpcy5yZWplY3QobG4odGhpcy5hdXRoLCJwb3B1cC1jbG9zZWQtYnktdXNlciIpKX0sOGUzKTtyZXR1cm59dGhpcy5wb2xsSWQ9d2luZG93LnNldFRpbWVvdXQobixiVS5nZXQoKSl9O24oKX19dC5jdXJyZW50UG9wdXBBY3Rpb249bnVsbDtyZXR1cm4gdH0pKCk7Y29uc3QgTVU9InBlbmRpbmdSZWRpcmVjdCIsSmE9bmV3IE1hcDtjbGFzcyBVcyBleHRlbmRzIHNTe2NvbnN0cnVjdG9yKGUsbixyPSExKXtzdXBlcihlLFsic2lnbkluVmlhUmVkaXJlY3QiLCJsaW5rVmlhUmVkaXJlY3QiLCJyZWF1dGhWaWFSZWRpcmVjdCIsInVua25vd24iXSxuLHZvaWQgMCxyKSx0aGlzLmV2ZW50SWQ9bnVsbH1leGVjdXRlKCl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCBlPUphLmdldCh0aGlzLmF1dGguX2tleSgpKTtpZighZSl7dHJ5e2NvbnN0IHI9KHlpZWxkIE5VKHRoaXMucmVzb2x2ZXIsdGhpcy5hdXRoKSk/eWllbGQgSXIoVXMucHJvdG90eXBlLHRoaXMsImV4ZWN1dGUiKS5jYWxsKHRoaXMpOm51bGw7ZT0oKT0+UHJvbWlzZS5yZXNvbHZlKHIpfWNhdGNoKG4pe2U9KCk9PlByb21pc2UucmVqZWN0KG4pfUphLnNldCh0aGlzLmF1dGguX2tleSgpLGUpfXJldHVybiB0aGlzLmJ5cGFzc0F1dGhTdGF0ZXx8SmEuc2V0KHRoaXMuYXV0aC5fa2V5KCksKCk9PlByb21pc2UucmVzb2x2ZShudWxsKSksZSgpfSl9b25BdXRoRXZlbnQoZSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKGUudHlwZT09PSJzaWduSW5WaWFSZWRpcmVjdCIpcmV0dXJuIElyKFVzLnByb3RvdHlwZSx0aGlzLCJvbkF1dGhFdmVudCIpLmNhbGwodGhpcyxlKTtpZihlLnR5cGU9PT0idW5rbm93biIpe3RoaXMucmVzb2x2ZShudWxsKTtyZXR1cm59aWYoZS5ldmVudElkKXtjb25zdCBuPXlpZWxkIHRoaXMuYXV0aC5fcmVkaXJlY3RVc2VyRm9ySWQoZS5ldmVudElkKTtpZihuKXJldHVybiB0aGlzLnVzZXI9bixJcihVcy5wcm90b3R5cGUsdGhpcywib25BdXRoRXZlbnQiKS5jYWxsKHRoaXMsZSk7dGhpcy5yZXNvbHZlKG51bGwpfX0pfW9uRXhlY3V0aW9uKCl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe30pfWNsZWFuVXAoKXt9fWZ1bmN0aW9uIE5VKHQsZSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0IG49eFUoZSkscj1PVSh0KTtpZighKHlpZWxkIHIuX2lzQXZhaWxhYmxlKCkpKXJldHVybiExO2NvbnN0IGk9KHlpZWxkIHIuX2dldChuKSk9PT0idHJ1ZSI7cmV0dXJuIHlpZWxkIHIuX3JlbW92ZShuKSxpfSl9ZnVuY3Rpb24ga1UodCxlKXtKYS5zZXQodC5fa2V5KCksZSl9ZnVuY3Rpb24gT1UodCl7cmV0dXJuIERuKHQuX3JlZGlyZWN0UGVyc2lzdGVuY2UpfWZ1bmN0aW9uIHhVKHQpe3JldHVybiBZYShNVSx0LmNvbmZpZy5hcGlLZXksdC5uYW1lKX1mdW5jdGlvbiBMVSh0LGUsbj0hMSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0IHI9UHUodCksaT1pUyhyLGUpLG89eWllbGQgbmV3IFVzKHIsaSxuKS5leGVjdXRlKCk7cmV0dXJuIG8mJiFuJiYoZGVsZXRlIG8udXNlci5fcmVkaXJlY3RFdmVudElkLHlpZWxkIHIuX3BlcnNpc3RVc2VySWZDdXJyZW50KG8udXNlcikseWllbGQgci5fc2V0UmVkaXJlY3RVc2VyKG51bGwsZSkpLG99KX1jb25zdCBWVT0xMCo2MCoxZTM7Y2xhc3MgRlV7Y29uc3RydWN0b3IoZSl7dGhpcy5hdXRoPWUsdGhpcy5jYWNoZWRFdmVudFVpZHM9bmV3IFNldCx0aGlzLmNvbnN1bWVycz1uZXcgU2V0LHRoaXMucXVldWVkUmVkaXJlY3RFdmVudD1udWxsLHRoaXMuaGFzSGFuZGxlZFBvdGVudGlhbFJlZGlyZWN0PSExLHRoaXMubGFzdFByb2Nlc3NlZEV2ZW50VGltZT1EYXRlLm5vdygpfXJlZ2lzdGVyQ29uc3VtZXIoZSl7dGhpcy5jb25zdW1lcnMuYWRkKGUpLHRoaXMucXVldWVkUmVkaXJlY3RFdmVudCYmdGhpcy5pc0V2ZW50Rm9yQ29uc3VtZXIodGhpcy5xdWV1ZWRSZWRpcmVjdEV2ZW50LGUpJiYodGhpcy5zZW5kVG9Db25zdW1lcih0aGlzLnF1ZXVlZFJlZGlyZWN0RXZlbnQsZSksdGhpcy5zYXZlRXZlbnRUb0NhY2hlKHRoaXMucXVldWVkUmVkaXJlY3RFdmVudCksdGhpcy5xdWV1ZWRSZWRpcmVjdEV2ZW50PW51bGwpfXVucmVnaXN0ZXJDb25zdW1lcihlKXt0aGlzLmNvbnN1bWVycy5kZWxldGUoZSl9b25FdmVudChlKXtpZih0aGlzLmhhc0V2ZW50QmVlbkhhbmRsZWQoZSkpcmV0dXJuITE7bGV0IG49ITE7cmV0dXJuIHRoaXMuY29uc3VtZXJzLmZvckVhY2gocj0+e3RoaXMuaXNFdmVudEZvckNvbnN1bWVyKGUscikmJihuPSEwLHRoaXMuc2VuZFRvQ29uc3VtZXIoZSxyKSx0aGlzLnNhdmVFdmVudFRvQ2FjaGUoZSkpfSksdGhpcy5oYXNIYW5kbGVkUG90ZW50aWFsUmVkaXJlY3R8fCFVVShlKXx8KHRoaXMuaGFzSGFuZGxlZFBvdGVudGlhbFJlZGlyZWN0PSEwLG58fCh0aGlzLnF1ZXVlZFJlZGlyZWN0RXZlbnQ9ZSxuPSEwKSksbn1zZW5kVG9Db25zdW1lcihlLG4pe3ZhciByO2lmKGUuZXJyb3ImJiFvUyhlKSl7Y29uc3QgaT0oKHI9ZS5lcnJvci5jb2RlKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIuc3BsaXQoImF1dGgvIilbMV0pfHwiaW50ZXJuYWwtZXJyb3IiO24ub25FcnJvcihsbih0aGlzLmF1dGgsaSkpfWVsc2Ugbi5vbkF1dGhFdmVudChlKX1pc0V2ZW50Rm9yQ29uc3VtZXIoZSxuKXtjb25zdCByPW4uZXZlbnRJZD09PW51bGx8fCEhZS5ldmVudElkJiZlLmV2ZW50SWQ9PT1uLmV2ZW50SWQ7cmV0dXJuIG4uZmlsdGVyLmluY2x1ZGVzKGUudHlwZSkmJnJ9aGFzRXZlbnRCZWVuSGFuZGxlZChlKXtyZXR1cm4gRGF0ZS5ub3coKS10aGlzLmxhc3RQcm9jZXNzZWRFdmVudFRpbWU+PVZVJiZ0aGlzLmNhY2hlZEV2ZW50VWlkcy5jbGVhcigpLHRoaXMuY2FjaGVkRXZlbnRVaWRzLmhhcyhDeShlKSl9c2F2ZUV2ZW50VG9DYWNoZShlKXt0aGlzLmNhY2hlZEV2ZW50VWlkcy5hZGQoQ3koZSkpLHRoaXMubGFzdFByb2Nlc3NlZEV2ZW50VGltZT1EYXRlLm5vdygpfX1mdW5jdGlvbiBDeSh0KXtyZXR1cm5bdC50eXBlLHQuZXZlbnRJZCx0LnNlc3Npb25JZCx0LnRlbmFudElkXS5maWx0ZXIoZT0+ZSkuam9pbigiLSIpfWZ1bmN0aW9uIG9TKHt0eXBlOnQsZXJyb3I6ZX0pe3JldHVybiB0PT09InVua25vd24iJiZlPy5jb2RlPT09ImF1dGgvbm8tYXV0aC1ldmVudCJ9ZnVuY3Rpb24gVVUodCl7c3dpdGNoKHQudHlwZSl7Y2FzZSJzaWduSW5WaWFSZWRpcmVjdCI6Y2FzZSJsaW5rVmlhUmVkaXJlY3QiOmNhc2UicmVhdXRoVmlhUmVkaXJlY3QiOnJldHVybiEwO2Nhc2UidW5rbm93biI6cmV0dXJuIG9TKHQpO2RlZmF1bHQ6cmV0dXJuITF9fWZ1bmN0aW9uIGpVKG4pe3JldHVybiBnKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKih0LGU9e30pe3JldHVybiB1cyh0LCJHRVQiLCIvdjEvcHJvamVjdHMiLGUpfSl9Y29uc3QgJFU9L15cZHsxLDN9XC5cZHsxLDN9XC5cZHsxLDN9XC5cZHsxLDN9JC8sQlU9L15odHRwcz8vO2Z1bmN0aW9uIEhVKHQpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZih0LmNvbmZpZy5lbXVsYXRvcilyZXR1cm47Y29uc3R7YXV0aG9yaXplZERvbWFpbnM6ZX09eWllbGQgalUodCk7Zm9yKGNvbnN0IG4gb2YgZSl0cnl7aWYocVUobikpcmV0dXJufWNhdGNoe31tbih0LCJ1bmF1dGhvcml6ZWQtZG9tYWluIil9KX1mdW5jdGlvbiBxVSh0KXtjb25zdCBlPWRkKCkse3Byb3RvY29sOm4saG9zdG5hbWU6cn09bmV3IFVSTChlKTtpZih0LnN0YXJ0c1dpdGgoImNocm9tZS1leHRlbnNpb246Ly8iKSl7Y29uc3Qgbz1uZXcgVVJMKHQpO3JldHVybiBvLmhvc3RuYW1lPT09IiImJnI9PT0iIj9uPT09ImNocm9tZS1leHRlbnNpb246IiYmdC5yZXBsYWNlKCJjaHJvbWUtZXh0ZW5zaW9uOi8vIiwiIik9PT1lLnJlcGxhY2UoImNocm9tZS1leHRlbnNpb246Ly8iLCIiKTpuPT09ImNocm9tZS1leHRlbnNpb246IiYmby5ob3N0bmFtZT09PXJ9aWYoIUJVLnRlc3QobikpcmV0dXJuITE7aWYoJFUudGVzdCh0KSlyZXR1cm4gcj09PXQ7Y29uc3QgaT10LnJlcGxhY2UoL1wuL2csIlxcLiIpO3JldHVybiBuZXcgUmVnRXhwKCJeKC4rXFwuIitpKyJ8IitpKyIpJCIsImkiKS50ZXN0KHIpfWNvbnN0IHpVPW5ldyBKbygzZTQsNmU0KTtmdW5jdGlvbiBBeSgpe2NvbnN0IHQ9aG4oKS5fX19qc2w7aWYodD8uSCl7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXModC5IKSlpZih0LkhbZV0ucj10LkhbZV0ucnx8W10sdC5IW2VdLkw9dC5IW2VdLkx8fFtdLHQuSFtlXS5yPVsuLi50LkhbZV0uTF0sdC5DUClmb3IobGV0IG49MDtuPHQuQ1AubGVuZ3RoO24rKyl0LkNQW25dPW51bGx9fWZ1bmN0aW9uIFdVKHQpe3JldHVybiBuZXcgUHJvbWlzZSgoZSxuKT0+e3ZhciByLGkscztmdW5jdGlvbiBvKCl7QXkoKSxnYXBpLmxvYWQoImdhcGkuaWZyYW1lcyIse2NhbGxiYWNrOigpPT57ZShnYXBpLmlmcmFtZXMuZ2V0Q29udGV4dCgpKX0sb250aW1lb3V0OigpPT57QXkoKSxuKGxuKHQsIm5ldHdvcmstcmVxdWVzdC1mYWlsZWQiKSl9LHRpbWVvdXQ6elUuZ2V0KCl9KX1pZighKChpPShyPWhuKCkuZ2FwaSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLmlmcmFtZXMpPT09bnVsbHx8aT09PXZvaWQgMCkmJmkuSWZyYW1lKWUoZ2FwaS5pZnJhbWVzLmdldENvbnRleHQoKSk7ZWxzZSBpZighKChzPWhuKCkuZ2FwaSk9PT1udWxsfHxzPT09dm9pZCAwKSYmcy5sb2FkKW8oKTtlbHNle2NvbnN0IGE9R0YoImlmcmFtZWZjYiIpO3JldHVybiBobigpW2FdPSgpPT57Z2FwaS5sb2FkP28oKTpuKGxuKHQsIm5ldHdvcmstcmVxdWVzdC1mYWlsZWQiKSl9LHpGKGAke1dGKCl9P29ubG9hZD0ke2F9YCkuY2F0Y2goYz0+bihjKSl9fSkuY2F0Y2goZT0+e3Rocm93IGVjPW51bGwsZX0pfWxldCBlYz1udWxsO2Z1bmN0aW9uIEdVKHQpe3JldHVybiBlYz1lY3x8V1UodCksZWN9Y29uc3QgS1U9bmV3IEpvKDVlMywxNWUzKSxRVT0iX18vYXV0aC9pZnJhbWUiLFpVPSJlbXVsYXRvci9hdXRoL2lmcmFtZSIsWFU9e3N0eWxlOntwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDoiLTEwMHB4Iix3aWR0aDoiMXB4IixoZWlnaHQ6IjFweCJ9LCJhcmlhLWhpZGRlbiI6InRydWUiLHRhYmluZGV4OiItMSJ9LFlVPW5ldyBNYXAoW1siaWRlbnRpdHl0b29sa2l0Lmdvb2dsZWFwaXMuY29tIiwicCJdLFsic3RhZ2luZy1pZGVudGl0eXRvb2xraXQuc2FuZGJveC5nb29nbGVhcGlzLmNvbSIsInMiXSxbInRlc3QtaWRlbnRpdHl0b29sa2l0LnNhbmRib3guZ29vZ2xlYXBpcy5jb20iLCJ0Il1dKTtmdW5jdGlvbiBKVSh0KXtjb25zdCBlPXQuY29uZmlnO0ooZS5hdXRoRG9tYWluLHQsImF1dGgtZG9tYWluLWNvbmZpZy1yZXF1aXJlZCIpO2NvbnN0IG49ZS5lbXVsYXRvcj92cChlLFpVKTpgaHR0cHM6Ly8ke3QuY29uZmlnLmF1dGhEb21haW59LyR7UVV9YCxyPXthcGlLZXk6ZS5hcGlLZXksYXBwTmFtZTp0Lm5hbWUsdjpjc30saT1ZVS5nZXQodC5jb25maWcuYXBpSG9zdCk7aSYmKHIuZWlkPWkpO2NvbnN0IHM9dC5fZ2V0RnJhbWV3b3JrcygpO3JldHVybiBzLmxlbmd0aCYmKHIuZnc9cy5qb2luKCIsIikpLGAke259PyR7WG8ocikuc2xpY2UoMSl9YH1mdW5jdGlvbiBlaih0KXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3QgZT15aWVsZCBHVSh0KSxuPWhuKCkuZ2FwaTtyZXR1cm4gSihuLHQsImludGVybmFsLWVycm9yIiksZS5vcGVuKHt3aGVyZTpkb2N1bWVudC5ib2R5LHVybDpKVSh0KSxtZXNzYWdlSGFuZGxlcnNGaWx0ZXI6bi5pZnJhbWVzLkNST1NTX09SSUdJTl9JRlJBTUVTX0ZJTFRFUixhdHRyaWJ1dGVzOlhVLGRvbnRjbGVhcjohMH0scj0+bmV3IFByb21pc2UoKGkscyk9PmcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHIucmVzdHlsZSh7c2V0SGlkZU9uTGVhdmU6ITF9KTtjb25zdCBvPWxuKHQsIm5ldHdvcmstcmVxdWVzdC1mYWlsZWQiKSxhPWhuKCkuc2V0VGltZW91dCgoKT0+e3Mobyl9LEtVLmdldCgpKTtmdW5jdGlvbiBjKCl7aG4oKS5jbGVhclRpbWVvdXQoYSksaShyKX1yLnBpbmcoYykudGhlbihjLCgpPT57cyhvKX0pfSkpKX0pfWNvbnN0IHRqPXtsb2NhdGlvbjoieWVzIixyZXNpemFibGU6InllcyIsc3RhdHVzYmFyOiJ5ZXMiLHRvb2xiYXI6Im5vIn0sbmo9NTAwLHJqPTYwMCxpaj0iX2JsYW5rIixzaj0iaHR0cDovL2xvY2FsaG9zdCI7Y2xhc3MgUnl7Y29uc3RydWN0b3IoZSl7dGhpcy53aW5kb3c9ZSx0aGlzLmFzc29jaWF0ZWRFdmVudD1udWxsfWNsb3NlKCl7aWYodGhpcy53aW5kb3cpdHJ5e3RoaXMud2luZG93LmNsb3NlKCl9Y2F0Y2h7fX19ZnVuY3Rpb24gb2oodCxlLG4scj1uaixpPXJqKXtjb25zdCBzPU1hdGgubWF4KCh3aW5kb3cuc2NyZWVuLmF2YWlsSGVpZ2h0LWkpLzIsMCkudG9TdHJpbmcoKSxvPU1hdGgubWF4KCh3aW5kb3cuc2NyZWVuLmF2YWlsV2lkdGgtcikvMiwwKS50b1N0cmluZygpO2xldCBhPSIiO2NvbnN0IGM9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRqKSx7d2lkdGg6ci50b1N0cmluZygpLGhlaWdodDppLnRvU3RyaW5nKCksdG9wOnMsbGVmdDpvfSksdT0kZSgpLnRvTG93ZXJDYXNlKCk7biYmKGE9JFQodSk/aWo6biksalQodSkmJihlPWV8fHNqLGMuc2Nyb2xsYmFycz0ieWVzIik7Y29uc3QgbD1PYmplY3QuZW50cmllcyhjKS5yZWR1Y2UoKGQsW2YsbV0pPT5gJHtkfSR7Zn09JHttfSxgLCIiKTtpZihMRih1KSYmYSE9PSJfc2VsZiIpcmV0dXJuIGFqKGV8fCIiLGEpLG5ldyBSeShudWxsKTtjb25zdCBoPXdpbmRvdy5vcGVuKGV8fCIiLGEsbCk7SihoLHQsInBvcHVwLWJsb2NrZWQiKTt0cnl7aC5mb2N1cygpfWNhdGNoe31yZXR1cm4gbmV3IFJ5KGgpfWZ1bmN0aW9uIGFqKHQsZSl7Y29uc3Qgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7bi5ocmVmPXQsbi50YXJnZXQ9ZTtjb25zdCByPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJNb3VzZUV2ZW50Iik7ci5pbml0TW91c2VFdmVudCgiY2xpY2siLCEwLCEwLHdpbmRvdywxLDAsMCwwLDAsITEsITEsITEsITEsMSxudWxsKSxuLmRpc3BhdGNoRXZlbnQocil9Y29uc3QgY2o9Il9fL2F1dGgvaGFuZGxlciIsdWo9ImVtdWxhdG9yL2F1dGgvaGFuZGxlciIsbGo9ZW5jb2RlVVJJQ29tcG9uZW50KCJmYWMiKTtmdW5jdGlvbiBieSh0LGUsbixyLGkscyl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe0oodC5jb25maWcuYXV0aERvbWFpbix0LCJhdXRoLWRvbWFpbi1jb25maWctcmVxdWlyZWQiKSxKKHQuY29uZmlnLmFwaUtleSx0LCJpbnZhbGlkLWFwaS1rZXkiKTtjb25zdCBvPXthcGlLZXk6dC5jb25maWcuYXBpS2V5LGFwcE5hbWU6dC5uYW1lLGF1dGhUeXBlOm4scmVkaXJlY3RVcmw6cix2OmNzLGV2ZW50SWQ6aX07aWYoZSBpbnN0YW5jZW9mIFRwKXtlLnNldERlZmF1bHRMYW5ndWFnZSh0Lmxhbmd1YWdlQ29kZSksby5wcm92aWRlcklkPWUucHJvdmlkZXJJZHx8IiIscTEoZS5nZXRDdXN0b21QYXJhbWV0ZXJzKCkpfHwoby5jdXN0b21QYXJhbWV0ZXJzPUpTT04uc3RyaW5naWZ5KGUuZ2V0Q3VzdG9tUGFyYW1ldGVycygpKSk7Zm9yKGNvbnN0W2wsaF1vZiBPYmplY3QuZW50cmllcyhzfHx7fSkpb1tsXT1ofWlmKGUgaW5zdGFuY2VvZiBaVCl7Y29uc3QgbD1lLmdldFNjb3BlcygpLmZpbHRlcihoPT5oIT09IiIpO2wubGVuZ3RoPjAmJihvLnNjb3Blcz1sLmpvaW4oIiwiKSl9dC50ZW5hbnRJZCYmKG8udGlkPXQudGVuYW50SWQpO2NvbnN0IGE9bztmb3IoY29uc3QgbCBvZiBPYmplY3Qua2V5cyhhKSlhW2xdPT09dm9pZCAwJiZkZWxldGUgYVtsXTtjb25zdCBjPXlpZWxkIHQuX2dldEFwcENoZWNrVG9rZW4oKSx1PWM/YCMke2xqfT0ke2VuY29kZVVSSUNvbXBvbmVudChjKX1gOiIiO3JldHVybmAke2hqKHQpfT8ke1hvKGEpLnNsaWNlKDEpfSR7dX1gfSl9ZnVuY3Rpb24gaGooe2NvbmZpZzp0fSl7cmV0dXJuIHQuZW11bGF0b3I/dnAodCx1aik6YGh0dHBzOi8vJHt0LmF1dGhEb21haW59LyR7Y2p9YH1jb25zdCBLbD0id2ViU3RvcmFnZVN1cHBvcnQiO2NsYXNzIGRqe2NvbnN0cnVjdG9yKCl7dGhpcy5ldmVudE1hbmFnZXJzPXt9LHRoaXMuaWZyYW1lcz17fSx0aGlzLm9yaWdpblZhbGlkYXRpb25Qcm9taXNlcz17fSx0aGlzLl9yZWRpcmVjdFBlcnNpc3RlbmNlPWVTLHRoaXMuX2NvbXBsZXRlUmVkaXJlY3RGbj1MVSx0aGlzLl9vdmVycmlkZVJlZGlyZWN0UmVzdWx0PWtVfV9vcGVuUG9wdXAoZSxuLHIsaSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciBzOyRuKChzPXRoaXMuZXZlbnRNYW5hZ2Vyc1tlLl9rZXkoKV0pPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy5tYW5hZ2VyLCJfaW5pdGlhbGl6ZSgpIG5vdCBjYWxsZWQgYmVmb3JlIF9vcGVuUG9wdXAoKSIpO2NvbnN0IG89eWllbGQgYnkoZSxuLHIsZGQoKSxpKTtyZXR1cm4gb2ooZSxvLFNwKCkpfSl9X29wZW5SZWRpcmVjdChlLG4scixpKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5fb3JpZ2luVmFsaWRhdGlvbihlKTtjb25zdCBzPXlpZWxkIGJ5KGUsbixyLGRkKCksaSk7cmV0dXJuIHBVKHMpLG5ldyBQcm9taXNlKCgpPT57fSl9KX1faW5pdGlhbGl6ZShlKXtjb25zdCBuPWUuX2tleSgpO2lmKHRoaXMuZXZlbnRNYW5hZ2Vyc1tuXSl7Y29uc3R7bWFuYWdlcjppLHByb21pc2U6c309dGhpcy5ldmVudE1hbmFnZXJzW25dO3JldHVybiBpP1Byb21pc2UucmVzb2x2ZShpKTooJG4ocywiSWYgbWFuYWdlciBpcyBub3Qgc2V0LCBwcm9taXNlIHNob3VsZCBiZSIpLHMpfWNvbnN0IHI9dGhpcy5pbml0QW5kR2V0TWFuYWdlcihlKTtyZXR1cm4gdGhpcy5ldmVudE1hbmFnZXJzW25dPXtwcm9taXNlOnJ9LHIuY2F0Y2goKCk9PntkZWxldGUgdGhpcy5ldmVudE1hbmFnZXJzW25dfSkscn1pbml0QW5kR2V0TWFuYWdlcihlKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3Qgbj15aWVsZCBlaihlKSxyPW5ldyBGVShlKTtyZXR1cm4gbi5yZWdpc3RlcigiYXV0aEV2ZW50IixpPT4oSihpPy5hdXRoRXZlbnQsZSwiaW52YWxpZC1hdXRoLWV2ZW50Iikse3N0YXR1czpyLm9uRXZlbnQoaS5hdXRoRXZlbnQpPyJBQ0siOiJFUlJPUiJ9KSxnYXBpLmlmcmFtZXMuQ1JPU1NfT1JJR0lOX0lGUkFNRVNfRklMVEVSKSx0aGlzLmV2ZW50TWFuYWdlcnNbZS5fa2V5KCldPXttYW5hZ2VyOnJ9LHRoaXMuaWZyYW1lc1tlLl9rZXkoKV09bixyfSl9X2lzSWZyYW1lV2ViU3RvcmFnZVN1cHBvcnRlZChlLG4pe3RoaXMuaWZyYW1lc1tlLl9rZXkoKV0uc2VuZChLbCx7dHlwZTpLbH0saT0+e3ZhciBzO2NvbnN0IG89KHM9aT8uWzBdKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnNbS2xdO28hPT12b2lkIDAmJm4oISFvKSxtbihlLCJpbnRlcm5hbC1lcnJvciIpfSxnYXBpLmlmcmFtZXMuQ1JPU1NfT1JJR0lOX0lGUkFNRVNfRklMVEVSKX1fb3JpZ2luVmFsaWRhdGlvbihlKXtjb25zdCBuPWUuX2tleSgpO3JldHVybiB0aGlzLm9yaWdpblZhbGlkYXRpb25Qcm9taXNlc1tuXXx8KHRoaXMub3JpZ2luVmFsaWRhdGlvblByb21pc2VzW25dPUhVKGUpKSx0aGlzLm9yaWdpblZhbGlkYXRpb25Qcm9taXNlc1tuXX1nZXQgX3Nob3VsZEluaXRQcm9hY3RpdmVseSgpe3JldHVybiBXVCgpfHx3cCgpfHxEdSgpfX1jb25zdCBmaj1kajt2YXIgRHk9IkBmaXJlYmFzZS9hdXRoIixQeT0iMS42LjEiO2NsYXNzIHBqe2NvbnN0cnVjdG9yKGUpe3RoaXMuYXV0aD1lLHRoaXMuaW50ZXJuYWxMaXN0ZW5lcnM9bmV3IE1hcH1nZXRVaWQoKXt2YXIgZTtyZXR1cm4gdGhpcy5hc3NlcnRBdXRoQ29uZmlndXJlZCgpLCgoZT10aGlzLmF1dGguY3VycmVudFVzZXIpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS51aWQpfHxudWxsfWdldFRva2VuKGUpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5hc3NlcnRBdXRoQ29uZmlndXJlZCgpLHlpZWxkIHRoaXMuYXV0aC5faW5pdGlhbGl6YXRpb25Qcm9taXNlLHRoaXMuYXV0aC5jdXJyZW50VXNlcj97YWNjZXNzVG9rZW46eWllbGQgdGhpcy5hdXRoLmN1cnJlbnRVc2VyLmdldElkVG9rZW4oZSl9Om51bGx9KX1hZGRBdXRoVG9rZW5MaXN0ZW5lcihlKXtpZih0aGlzLmFzc2VydEF1dGhDb25maWd1cmVkKCksdGhpcy5pbnRlcm5hbExpc3RlbmVycy5oYXMoZSkpcmV0dXJuO2NvbnN0IG49dGhpcy5hdXRoLm9uSWRUb2tlbkNoYW5nZWQocj0+e2Uocj8uc3RzVG9rZW5NYW5hZ2VyLmFjY2Vzc1Rva2VufHxudWxsKX0pO3RoaXMuaW50ZXJuYWxMaXN0ZW5lcnMuc2V0KGUsbiksdGhpcy51cGRhdGVQcm9hY3RpdmVSZWZyZXNoKCl9cmVtb3ZlQXV0aFRva2VuTGlzdGVuZXIoZSl7dGhpcy5hc3NlcnRBdXRoQ29uZmlndXJlZCgpO2NvbnN0IG49dGhpcy5pbnRlcm5hbExpc3RlbmVycy5nZXQoZSk7biYmKHRoaXMuaW50ZXJuYWxMaXN0ZW5lcnMuZGVsZXRlKGUpLG4oKSx0aGlzLnVwZGF0ZVByb2FjdGl2ZVJlZnJlc2goKSl9YXNzZXJ0QXV0aENvbmZpZ3VyZWQoKXtKKHRoaXMuYXV0aC5faW5pdGlhbGl6YXRpb25Qcm9taXNlLCJkZXBlbmRlbnQtc2RrLWluaXRpYWxpemVkLWJlZm9yZS1hdXRoIil9dXBkYXRlUHJvYWN0aXZlUmVmcmVzaCgpe3RoaXMuaW50ZXJuYWxMaXN0ZW5lcnMuc2l6ZT4wP3RoaXMuYXV0aC5fc3RhcnRQcm9hY3RpdmVSZWZyZXNoKCk6dGhpcy5hdXRoLl9zdG9wUHJvYWN0aXZlUmVmcmVzaCgpfX1mdW5jdGlvbiBnaih0KXtzd2l0Y2godCl7Y2FzZSJOb2RlIjpyZXR1cm4ibm9kZSI7Y2FzZSJSZWFjdE5hdGl2ZSI6cmV0dXJuInJuIjtjYXNlIldvcmtlciI6cmV0dXJuIndlYndvcmtlciI7Y2FzZSJDb3Jkb3ZhIjpyZXR1cm4iY29yZG92YSI7Y2FzZSJXZWJFeHRlbnNpb24iOnJldHVybiJ3ZWItZXh0ZW5zaW9uIjtkZWZhdWx0OnJldHVybn19ZnVuY3Rpb24gbWoodCl7cWkobmV3IHpyKCJhdXRoIiwoZSx7b3B0aW9uczpufSk9Pntjb25zdCByPWUuZ2V0UHJvdmlkZXIoImFwcCIpLmdldEltbWVkaWF0ZSgpLGk9ZS5nZXRQcm92aWRlcigiaGVhcnRiZWF0Iikscz1lLmdldFByb3ZpZGVyKCJhcHAtY2hlY2staW50ZXJuYWwiKSx7YXBpS2V5Om8sYXV0aERvbWFpbjphfT1yLm9wdGlvbnM7SihvJiYhby5pbmNsdWRlcygiOiIpLCJpbnZhbGlkLWFwaS1rZXkiLHthcHBOYW1lOnIubmFtZX0pO2NvbnN0IGM9e2FwaUtleTpvLGF1dGhEb21haW46YSxjbGllbnRQbGF0Zm9ybTp0LGFwaUhvc3Q6ImlkZW50aXR5dG9vbGtpdC5nb29nbGVhcGlzLmNvbSIsdG9rZW5BcGlIb3N0OiJzZWN1cmV0b2tlbi5nb29nbGVhcGlzLmNvbSIsYXBpU2NoZW1lOiJodHRwcyIsc2RrQ2xpZW50VmVyc2lvbjpHVCh0KX0sdT1uZXcgSEYocixpLHMsYyk7cmV0dXJuIFFGKHUsbiksdX0sIlBVQkxJQyIpLnNldEluc3RhbnRpYXRpb25Nb2RlKCJFWFBMSUNJVCIpLnNldEluc3RhbmNlQ3JlYXRlZENhbGxiYWNrKChlLG4scik9PntlLmdldFByb3ZpZGVyKCJhdXRoLWludGVybmFsIikuaW5pdGlhbGl6ZSgpfSkpLHFpKG5ldyB6cigiYXV0aC1pbnRlcm5hbCIsZT0+e2NvbnN0IG49UHUoZS5nZXRQcm92aWRlcigiYXV0aCIpLmdldEltbWVkaWF0ZSgpKTtyZXR1cm4ocj0+bmV3IHBqKHIpKShuKX0sIlBSSVZBVEUiKS5zZXRJbnN0YW50aWF0aW9uTW9kZSgiRVhQTElDSVQiKSksUHQoRHksUHksZ2oodCkpLFB0KER5LFB5LCJlc20yMDE3Iil9Y29uc3QgeWo9NSo2MCx2aj1UVCgiYXV0aElkVG9rZW5NYXhBZ2UiKXx8eWo7bGV0IE15PW51bGw7Y29uc3QgX2o9dD0+ZT0+Zyh2b2lkIDAsbnVsbCxmdW5jdGlvbiooKXtjb25zdCBuPWUmJih5aWVsZCBlLmdldElkVG9rZW5SZXN1bHQoKSkscj1uJiYobmV3IERhdGUoKS5nZXRUaW1lKCktRGF0ZS5wYXJzZShuLmlzc3VlZEF0VGltZSkpLzFlMztpZihyJiZyPnZqKXJldHVybjtjb25zdCBpPW4/LnRva2VuO015IT09aSYmKE15PWkseWllbGQgZmV0Y2godCx7bWV0aG9kOmk/IlBPU1QiOiJERUxFVEUiLGhlYWRlcnM6aT97QXV0aG9yaXphdGlvbjpgQmVhcmVyICR7aX1gfTp7fX0pKX0pO2Z1bmN0aW9uIEVqKHQ9ZHAoKSl7Y29uc3QgZT1ocCh0LCJhdXRoIik7aWYoZS5pc0luaXRpYWxpemVkKCkpcmV0dXJuIGUuZ2V0SW1tZWRpYXRlKCk7Y29uc3Qgbj1LRih0LHtwb3B1cFJlZGlyZWN0UmVzb2x2ZXI6ZmoscGVyc2lzdGVuY2U6W1NVLHVVLGVTXX0pLHI9VFQoImF1dGhUb2tlblN5bmNVUkwiKTtpZihyKXtjb25zdCBzPV9qKHIpO3JVKG4scywoKT0+cyhuLmN1cnJlbnRVc2VyKSksWVQobixvPT5zKG8pKX1jb25zdCBpPXdUKCJhdXRoIik7cmV0dXJuIGkmJlpGKG4sYGh0dHA6Ly8ke2l9YCksbn1mdW5jdGlvbiB3aigpe3ZhciB0LGU7cmV0dXJuKGU9KHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKSk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0WzBdKSE9PW51bGwmJmUhPT12b2lkIDA/ZTpkb2N1bWVudH1xRih7bG9hZEpTKHQpe3JldHVybiBuZXcgUHJvbWlzZSgoZSxuKT0+e2NvbnN0IHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7ci5zZXRBdHRyaWJ1dGUoInNyYyIsdCksci5vbmxvYWQ9ZSxyLm9uZXJyb3I9aT0+e2NvbnN0IHM9bG4oImludGVybmFsLWVycm9yIik7cy5jdXN0b21EYXRhPWksbihzKX0sci50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiLHIuY2hhcnNldD0iVVRGLTgiLHdqKCkuYXBwZW5kQ2hpbGQocil9KX0sZ2FwaVNjcmlwdDoiaHR0cHM6Ly9hcGlzLmdvb2dsZS5jb20vanMvYXBpLmpzIixyZWNhcHRjaGFWMlNjcmlwdDoiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpLmpzIixyZWNhcHRjaGFFbnRlcnByaXNlU2NyaXB0OiJodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9lbnRlcnByaXNlLmpzP3JlbmRlcj0ifSk7bWooIkJyb3dzZXIiKTtjb25zdCBhUz0iYXV0aCI7Y2xhc3MgQXB7Y29uc3RydWN0b3IoZSl7cmV0dXJuIGV9fWNsYXNzIGNTe2NvbnN0cnVjdG9yKCl7cmV0dXJuIGZwKGFTKX19Y29uc3QgUnA9bmV3IHNlKCJhbmd1bGFyZmlyZTIuYXV0aC1pbnN0YW5jZXMiKTtmdW5jdGlvbiBJaih0LGUpe2NvbnN0IG49TVQoYVMsdCxlKTtyZXR1cm4gbiYmbmV3IEFwKG4pfWZ1bmN0aW9uIFRqKHQpe3JldHVybihlLG4pPT57Y29uc3Qgcj1lLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT50KG4pKTtyZXR1cm4gbmV3IEFwKHIpfX1jb25zdCBTaj17cHJvdmlkZTpjUyxkZXBzOltbbmV3IFVuLFJwXV19LENqPXtwcm92aWRlOkFwLHVzZUZhY3Rvcnk6SWosZGVwczpbW25ldyBVbixScF0sWW9dfTtsZXQgQWo9KCgpPT57dmFyIHQ7Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe1B0KCJhbmd1bGFyZmlyZSIsYmMuZnVsbCwiYXV0aCIpfX1yZXR1cm4gdD1lLEdlKGUsIsm1ZmFjIixmdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fHQpfSksR2UoZSwiybVtb2QiLHR1KHt0eXBlOnR9KSksR2UoZSwiybVpbmoiLGF1KHtwcm92aWRlcnM6W0NqLFNqXX0pKSxlfSkoKTtmdW5jdGlvbiBSaih0LC4uLmUpe3JldHVybntuZ01vZHVsZTpBaixwcm92aWRlcnM6W3twcm92aWRlOlJwLHVzZUZhY3Rvcnk6VGoodCksbXVsdGk6ITAsZGVwczpbTWUsV24scHAsZ3AsW25ldyBVbixOVF0sLi4uZV19XX19Y29uc3QgYmo9eXQoRWosITApLFJIPXl0KFlULCEwKSxiSD15dChEVSwhMCksREg9eXQoaVUsITApO3ZhciBEaj10eXBlb2YgZ2xvYmFsVGhpczwidSI/Z2xvYmFsVGhpczp0eXBlb2Ygd2luZG93PCJ1Ij93aW5kb3c6dHlwZW9mIGdsb2JhbDwidSI/Z2xvYmFsOnR5cGVvZiBzZWxmPCJ1Ij9zZWxmOnt9LE0sYnA9YnB8fHt9LFE9RGp8fHNlbGY7ZnVuY3Rpb24gTnUodCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuIGU9ZSE9Im9iamVjdCI/ZTp0P0FycmF5LmlzQXJyYXkodCk/ImFycmF5IjplOiJudWxsIixlPT0iYXJyYXkifHxlPT0ib2JqZWN0IiYmdHlwZW9mIHQubGVuZ3RoPT0ibnVtYmVyIn1mdW5jdGlvbiB0YSh0KXt2YXIgZT10eXBlb2YgdDtyZXR1cm4gZT09Im9iamVjdCImJnQhPW51bGx8fGU9PSJmdW5jdGlvbiJ9ZnVuY3Rpb24gUGoodCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LFFsKSYmdFtRbF18fCh0W1FsXT0rK01qKX12YXIgUWw9ImNsb3N1cmVfdWlkXyIrKDFlOSpNYXRoLnJhbmRvbSgpPj4+MCksTWo9MDtmdW5jdGlvbiBOaih0LGUsbil7cmV0dXJuIHQuY2FsbC5hcHBseSh0LmJpbmQsYXJndW1lbnRzKX1mdW5jdGlvbiBraih0LGUsbil7aWYoIXQpdGhyb3cgRXJyb3IoKTtpZigyPGFyZ3VtZW50cy5sZW5ndGgpe3ZhciByPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShpLHIpLHQuYXBwbHkoZSxpKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX1mdW5jdGlvbiBwdCh0LGUsbil7cmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kJiZGdW5jdGlvbi5wcm90b3R5cGUuYmluZC50b1N0cmluZygpLmluZGV4T2YoIm5hdGl2ZSBjb2RlIikhPS0xP3B0PU5qOnB0PWtqLHB0LmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBEYSh0LGUpe3ZhciBuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcj1uLnNsaWNlKCk7cmV0dXJuIHIucHVzaC5hcHBseShyLGFyZ3VtZW50cyksdC5hcHBseSh0aGlzLHIpfX1mdW5jdGlvbiBKZSh0LGUpe2Z1bmN0aW9uIG4oKXt9bi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC4kPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQsdC5hYz1mdW5jdGlvbihyLGkscyl7Zm9yKHZhciBvPUFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMiksYT0yO2E8YXJndW1lbnRzLmxlbmd0aDthKyspb1thLTJdPWFyZ3VtZW50c1thXTtyZXR1cm4gZS5wcm90b3R5cGVbaV0uYXBwbHkocixvKX19ZnVuY3Rpb24gdnIoKXt0aGlzLnM9dGhpcy5zLHRoaXMubz10aGlzLm99dmFyIE9qPTA7dnIucHJvdG90eXBlLnM9ITE7dnIucHJvdG90eXBlLnNhPWZ1bmN0aW9uKCl7IXRoaXMucyYmKHRoaXMucz0hMCx0aGlzLk4oKSxPaiE9MCkmJlBqKHRoaXMpfTt2ci5wcm90b3R5cGUuTj1mdW5jdGlvbigpe2lmKHRoaXMubylmb3IoO3RoaXMuby5sZW5ndGg7KXRoaXMuby5zaGlmdCgpKCl9O2NvbnN0IHVTPUFycmF5LnByb3RvdHlwZS5pbmRleE9mP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodCxlLHZvaWQgMCl9OmZ1bmN0aW9uKHQsZSl7aWYodHlwZW9mIHQ9PSJzdHJpbmciKXJldHVybiB0eXBlb2YgZSE9InN0cmluZyJ8fGUubGVuZ3RoIT0xPy0xOnQuaW5kZXhPZihlLDApO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWlmKG4gaW4gdCYmdFtuXT09PWUpcmV0dXJuIG47cmV0dXJuLTF9O2Z1bmN0aW9uIERwKHQpe2NvbnN0IGU9dC5sZW5ndGg7aWYoMDxlKXtjb25zdCBuPUFycmF5KGUpO2ZvcihsZXQgcj0wO3I8ZTtyKyspbltyXT10W3JdO3JldHVybiBufXJldHVybltdfWZ1bmN0aW9uIE55KHQsZSl7Zm9yKGxldCBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl7Y29uc3Qgcj1hcmd1bWVudHNbbl07aWYoTnUocikpe2NvbnN0IGk9dC5sZW5ndGh8fDAscz1yLmxlbmd0aHx8MDt0Lmxlbmd0aD1pK3M7Zm9yKGxldCBvPTA7bzxzO28rKyl0W2krb109cltvXX1lbHNlIHQucHVzaChyKX19ZnVuY3Rpb24gZ3QodCxlKXt0aGlzLnR5cGU9dCx0aGlzLmc9dGhpcy50YXJnZXQ9ZSx0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITF9Z3QucHJvdG90eXBlLmg9ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9O3ZhciB4aj1mdW5jdGlvbigpe2lmKCFRLmFkZEV2ZW50TGlzdGVuZXJ8fCFPYmplY3QuZGVmaW5lUHJvcGVydHkpcmV0dXJuITE7dmFyIHQ9ITEsZT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sInBhc3NpdmUiLHtnZXQ6ZnVuY3Rpb24oKXt0PSEwfX0pO3RyeXtjb25zdCBuPSgpPT57fTtRLmFkZEV2ZW50TGlzdGVuZXIoInRlc3QiLG4sZSksUS5yZW1vdmVFdmVudExpc3RlbmVyKCJ0ZXN0IixuLGUpfWNhdGNoe31yZXR1cm4gdH0oKTtmdW5jdGlvbiB3byh0KXtyZXR1cm4vXltcc1x4YTBdKiQvLnRlc3QodCl9ZnVuY3Rpb24ga3UoKXt2YXIgdD1RLm5hdmlnYXRvcjtyZXR1cm4gdCYmKHQ9dC51c2VyQWdlbnQpP3Q6IiJ9ZnVuY3Rpb24gcm4odCl7cmV0dXJuIGt1KCkuaW5kZXhPZih0KSE9LTF9ZnVuY3Rpb24gUHAodCl7cmV0dXJuIFBwWyIgIl0odCksdH1QcFsiICJdPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiBMaih0LGUpe3ZhciBuPWIyO3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobix0KT9uW3RdOm5bdF09ZSh0KX12YXIgVmo9cm4oIk9wZXJhIiksV2k9cm4oIlRyaWRlbnQiKXx8cm4oIk1TSUUiKSxsUz1ybigiRWRnZSIpLHBkPWxTfHxXaSxoUz1ybigiR2Vja28iKSYmIShrdSgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigid2Via2l0IikhPS0xJiYhcm4oIkVkZ2UiKSkmJiEocm4oIlRyaWRlbnQiKXx8cm4oIk1TSUUiKSkmJiFybigiRWRnZSIpLEZqPWt1KCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJ3ZWJraXQiKSE9LTEmJiFybigiRWRnZSIpO2Z1bmN0aW9uIGRTKCl7dmFyIHQ9US5kb2N1bWVudDtyZXR1cm4gdD90LmRvY3VtZW50TW9kZTp2b2lkIDB9dmFyIGdkO2U6e3ZhciBabD0iIixYbD1mdW5jdGlvbigpe3ZhciB0PWt1KCk7aWYoaFMpcmV0dXJuL3J2OihbXlwpO10rKShcKXw7KS8uZXhlYyh0KTtpZihsUylyZXR1cm4vRWRnZVwvKFtcZFwuXSspLy5leGVjKHQpO2lmKFdpKXJldHVybi9cYig/Ok1TSUV8cnYpWzogXShbXlwpO10rKShcKXw7KS8uZXhlYyh0KTtpZihGailyZXR1cm4vV2ViS2l0XC8oXFMrKS8uZXhlYyh0KTtpZihWailyZXR1cm4vKD86VmVyc2lvbilbIFwvXT8oXFMrKS8uZXhlYyh0KX0oKTtpZihYbCYmKFpsPVhsP1hsWzFdOiIiKSxXaSl7dmFyIFlsPWRTKCk7aWYoWWwhPW51bGwmJllsPnBhcnNlRmxvYXQoWmwpKXtnZD1TdHJpbmcoWWwpO2JyZWFrIGV9fWdkPVpsfXZhciBtZDtpZihRLmRvY3VtZW50JiZXaSl7dmFyIGt5PWRTKCk7bWQ9a3l8fHBhcnNlSW50KGdkLDEwKXx8dm9pZCAwfWVsc2UgbWQ9dm9pZCAwO3ZhciBVaj1tZDtmdW5jdGlvbiBJbyh0LGUpe2lmKGd0LmNhbGwodGhpcyx0P3QudHlwZToiIiksdGhpcy5yZWxhdGVkVGFyZ2V0PXRoaXMuZz10aGlzLnRhcmdldD1udWxsLHRoaXMuYnV0dG9uPXRoaXMuc2NyZWVuWT10aGlzLnNjcmVlblg9dGhpcy5jbGllbnRZPXRoaXMuY2xpZW50WD0wLHRoaXMua2V5PSIiLHRoaXMubWV0YUtleT10aGlzLnNoaWZ0S2V5PXRoaXMuYWx0S2V5PXRoaXMuY3RybEtleT0hMSx0aGlzLnN0YXRlPW51bGwsdGhpcy5wb2ludGVySWQ9MCx0aGlzLnBvaW50ZXJUeXBlPSIiLHRoaXMuaT1udWxsLHQpe3ZhciBuPXRoaXMudHlwZT10LnR5cGUscj10LmNoYW5nZWRUb3VjaGVzJiZ0LmNoYW5nZWRUb3VjaGVzLmxlbmd0aD90LmNoYW5nZWRUb3VjaGVzWzBdOm51bGw7aWYodGhpcy50YXJnZXQ9dC50YXJnZXR8fHQuc3JjRWxlbWVudCx0aGlzLmc9ZSxlPXQucmVsYXRlZFRhcmdldCl7aWYoaFMpe2U6e3RyeXtQcChlLm5vZGVOYW1lKTt2YXIgaT0hMDticmVhayBlfWNhdGNoe31pPSExfWl8fChlPW51bGwpfX1lbHNlIG49PSJtb3VzZW92ZXIiP2U9dC5mcm9tRWxlbWVudDpuPT0ibW91c2VvdXQiJiYoZT10LnRvRWxlbWVudCk7dGhpcy5yZWxhdGVkVGFyZ2V0PWUscj8odGhpcy5jbGllbnRYPXIuY2xpZW50WCE9PXZvaWQgMD9yLmNsaWVudFg6ci5wYWdlWCx0aGlzLmNsaWVudFk9ci5jbGllbnRZIT09dm9pZCAwP3IuY2xpZW50WTpyLnBhZ2VZLHRoaXMuc2NyZWVuWD1yLnNjcmVlblh8fDAsdGhpcy5zY3JlZW5ZPXIuc2NyZWVuWXx8MCk6KHRoaXMuY2xpZW50WD10LmNsaWVudFghPT12b2lkIDA/dC5jbGllbnRYOnQucGFnZVgsdGhpcy5jbGllbnRZPXQuY2xpZW50WSE9PXZvaWQgMD90LmNsaWVudFk6dC5wYWdlWSx0aGlzLnNjcmVlblg9dC5zY3JlZW5YfHwwLHRoaXMuc2NyZWVuWT10LnNjcmVlbll8fDApLHRoaXMuYnV0dG9uPXQuYnV0dG9uLHRoaXMua2V5PXQua2V5fHwiIix0aGlzLmN0cmxLZXk9dC5jdHJsS2V5LHRoaXMuYWx0S2V5PXQuYWx0S2V5LHRoaXMuc2hpZnRLZXk9dC5zaGlmdEtleSx0aGlzLm1ldGFLZXk9dC5tZXRhS2V5LHRoaXMucG9pbnRlcklkPXQucG9pbnRlcklkfHwwLHRoaXMucG9pbnRlclR5cGU9dHlwZW9mIHQucG9pbnRlclR5cGU9PSJzdHJpbmciP3QucG9pbnRlclR5cGU6ampbdC5wb2ludGVyVHlwZV18fCIiLHRoaXMuc3RhdGU9dC5zdGF0ZSx0aGlzLmk9dCx0LmRlZmF1bHRQcmV2ZW50ZWQmJklvLiQuaC5jYWxsKHRoaXMpfX1KZShJbyxndCk7dmFyIGpqPXsyOiJ0b3VjaCIsMzoicGVuIiw0OiJtb3VzZSJ9O0lvLnByb3RvdHlwZS5oPWZ1bmN0aW9uKCl7SW8uJC5oLmNhbGwodGhpcyk7dmFyIHQ9dGhpcy5pO3QucHJldmVudERlZmF1bHQ/dC5wcmV2ZW50RGVmYXVsdCgpOnQucmV0dXJuVmFsdWU9ITF9O3ZhciBuYT0iY2xvc3VyZV9saXN0ZW5hYmxlXyIrKDFlNipNYXRoLnJhbmRvbSgpfDApLCRqPTA7ZnVuY3Rpb24gQmoodCxlLG4scixpKXt0aGlzLmxpc3RlbmVyPXQsdGhpcy5wcm94eT1udWxsLHRoaXMuc3JjPWUsdGhpcy50eXBlPW4sdGhpcy5jYXB0dXJlPSEhcix0aGlzLmxhPWksdGhpcy5rZXk9Kyskaix0aGlzLmZhPXRoaXMuaWE9ITF9ZnVuY3Rpb24gT3UodCl7dC5mYT0hMCx0Lmxpc3RlbmVyPW51bGwsdC5wcm94eT1udWxsLHQuc3JjPW51bGwsdC5sYT1udWxsfWZ1bmN0aW9uIE1wKHQsZSxuKXtmb3IoY29uc3QgciBpbiB0KWUuY2FsbChuLHRbcl0scix0KX1mdW5jdGlvbiBIaih0LGUpe2Zvcihjb25zdCBuIGluIHQpZS5jYWxsKHZvaWQgMCx0W25dLG4sdCl9ZnVuY3Rpb24gZlModCl7Y29uc3QgZT17fTtmb3IoY29uc3QgbiBpbiB0KWVbbl09dFtuXTtyZXR1cm4gZX1jb25zdCBPeT0iY29uc3RydWN0b3IgaGFzT3duUHJvcGVydHkgaXNQcm90b3R5cGVPZiBwcm9wZXJ0eUlzRW51bWVyYWJsZSB0b0xvY2FsZVN0cmluZyB0b1N0cmluZyB2YWx1ZU9mIi5zcGxpdCgiICIpO2Z1bmN0aW9uIHBTKHQsZSl7bGV0IG4scjtmb3IobGV0IGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXtyPWFyZ3VtZW50c1tpXTtmb3IobiBpbiByKXRbbl09cltuXTtmb3IobGV0IHM9MDtzPE95Lmxlbmd0aDtzKyspbj1PeVtzXSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKHRbbl09cltuXSl9fWZ1bmN0aW9uIHh1KHQpe3RoaXMuc3JjPXQsdGhpcy5nPXt9LHRoaXMuaD0wfXh1LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgcz10LnRvU3RyaW5nKCk7dD10aGlzLmdbc10sdHx8KHQ9dGhpcy5nW3NdPVtdLHRoaXMuaCsrKTt2YXIgbz12ZCh0LGUscixpKTtyZXR1cm4tMTxvPyhlPXRbb10sbnx8KGUuaWE9ITEpKTooZT1uZXcgQmooZSx0aGlzLnNyYyxzLCEhcixpKSxlLmlhPW4sdC5wdXNoKGUpKSxlfTtmdW5jdGlvbiB5ZCh0LGUpe3ZhciBuPWUudHlwZTtpZihuIGluIHQuZyl7dmFyIHI9dC5nW25dLGk9dVMocixlKSxzOyhzPTA8PWkpJiZBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwocixpLDEpLHMmJihPdShlKSx0Lmdbbl0ubGVuZ3RoPT0wJiYoZGVsZXRlIHQuZ1tuXSx0LmgtLSkpfX1mdW5jdGlvbiB2ZCh0LGUsbixyKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoOysraSl7dmFyIHM9dFtpXTtpZighcy5mYSYmcy5saXN0ZW5lcj09ZSYmcy5jYXB0dXJlPT0hIW4mJnMubGE9PXIpcmV0dXJuIGl9cmV0dXJuLTF9dmFyIE5wPSJjbG9zdXJlX2xtXyIrKDFlNipNYXRoLnJhbmRvbSgpfDApLEpsPXt9O2Z1bmN0aW9uIGdTKHQsZSxuLHIsaSl7aWYociYmci5vbmNlKXJldHVybiB5Uyh0LGUsbixyLGkpO2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgcz0wO3M8ZS5sZW5ndGg7cysrKWdTKHQsZVtzXSxuLHIsaSk7cmV0dXJuIG51bGx9cmV0dXJuIG49eHAobiksdCYmdFtuYV0/dC5PKGUsbix0YShyKT8hIXIuY2FwdHVyZTohIXIsaSk6bVModCxlLG4sITEscixpKX1mdW5jdGlvbiBtUyh0LGUsbixyLGkscyl7aWYoIWUpdGhyb3cgRXJyb3IoIkludmFsaWQgZXZlbnQgdHlwZSIpO3ZhciBvPXRhKGkpPyEhaS5jYXB0dXJlOiEhaSxhPU9wKHQpO2lmKGF8fCh0W05wXT1hPW5ldyB4dSh0KSksbj1hLmFkZChlLG4scixvLHMpLG4ucHJveHkpcmV0dXJuIG47aWYocj1xaigpLG4ucHJveHk9cixyLnNyYz10LHIubGlzdGVuZXI9bix0LmFkZEV2ZW50TGlzdGVuZXIpeGp8fChpPW8pLGk9PT12b2lkIDAmJihpPSExKSx0LmFkZEV2ZW50TGlzdGVuZXIoZS50b1N0cmluZygpLHIsaSk7ZWxzZSBpZih0LmF0dGFjaEV2ZW50KXQuYXR0YWNoRXZlbnQoX1MoZS50b1N0cmluZygpKSxyKTtlbHNlIGlmKHQuYWRkTGlzdGVuZXImJnQucmVtb3ZlTGlzdGVuZXIpdC5hZGRMaXN0ZW5lcihyKTtlbHNlIHRocm93IEVycm9yKCJhZGRFdmVudExpc3RlbmVyIGFuZCBhdHRhY2hFdmVudCBhcmUgdW5hdmFpbGFibGUuIik7cmV0dXJuIG59ZnVuY3Rpb24gcWooKXtmdW5jdGlvbiB0KG4pe3JldHVybiBlLmNhbGwodC5zcmMsdC5saXN0ZW5lcixuKX1jb25zdCBlPXpqO3JldHVybiB0fWZ1bmN0aW9uIHlTKHQsZSxuLHIsaSl7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciBzPTA7czxlLmxlbmd0aDtzKyspeVModCxlW3NdLG4scixpKTtyZXR1cm4gbnVsbH1yZXR1cm4gbj14cChuKSx0JiZ0W25hXT90LlAoZSxuLHRhKHIpPyEhci5jYXB0dXJlOiEhcixpKTptUyh0LGUsbiwhMCxyLGkpfWZ1bmN0aW9uIHZTKHQsZSxuLHIsaSl7aWYoQXJyYXkuaXNBcnJheShlKSlmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKyl2Uyh0LGVbc10sbixyLGkpO2Vsc2Ugcj10YShyKT8hIXIuY2FwdHVyZTohIXIsbj14cChuKSx0JiZ0W25hXT8odD10LmksZT1TdHJpbmcoZSkudG9TdHJpbmcoKSxlIGluIHQuZyYmKHM9dC5nW2VdLG49dmQocyxuLHIsaSksLTE8biYmKE91KHNbbl0pLEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChzLG4sMSkscy5sZW5ndGg9PTAmJihkZWxldGUgdC5nW2VdLHQuaC0tKSkpKTp0JiYodD1PcCh0KSkmJihlPXQuZ1tlLnRvU3RyaW5nKCldLHQ9LTEsZSYmKHQ9dmQoZSxuLHIsaSkpLChuPS0xPHQ/ZVt0XTpudWxsKSYma3AobikpfWZ1bmN0aW9uIGtwKHQpe2lmKHR5cGVvZiB0IT0ibnVtYmVyIiYmdCYmIXQuZmEpe3ZhciBlPXQuc3JjO2lmKGUmJmVbbmFdKXlkKGUuaSx0KTtlbHNle3ZhciBuPXQudHlwZSxyPXQucHJveHk7ZS5yZW1vdmVFdmVudExpc3RlbmVyP2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLHIsdC5jYXB0dXJlKTplLmRldGFjaEV2ZW50P2UuZGV0YWNoRXZlbnQoX1Mobikscik6ZS5hZGRMaXN0ZW5lciYmZS5yZW1vdmVMaXN0ZW5lciYmZS5yZW1vdmVMaXN0ZW5lcihyKSwobj1PcChlKSk/KHlkKG4sdCksbi5oPT0wJiYobi5zcmM9bnVsbCxlW05wXT1udWxsKSk6T3UodCl9fX1mdW5jdGlvbiBfUyh0KXtyZXR1cm4gdCBpbiBKbD9KbFt0XTpKbFt0XT0ib24iK3R9ZnVuY3Rpb24gemoodCxlKXtpZih0LmZhKXQ9ITA7ZWxzZXtlPW5ldyBJbyhlLHRoaXMpO3ZhciBuPXQubGlzdGVuZXIscj10LmxhfHx0LnNyYzt0LmlhJiZrcCh0KSx0PW4uY2FsbChyLGUpfXJldHVybiB0fWZ1bmN0aW9uIE9wKHQpe3JldHVybiB0PXRbTnBdLHQgaW5zdGFuY2VvZiB4dT90Om51bGx9dmFyIGVoPSJfX2Nsb3N1cmVfZXZlbnRzX2ZuXyIrKDFlOSpNYXRoLnJhbmRvbSgpPj4+MCk7ZnVuY3Rpb24geHAodCl7cmV0dXJuIHR5cGVvZiB0PT0iZnVuY3Rpb24iP3Q6KHRbZWhdfHwodFtlaF09ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaGFuZGxlRXZlbnQoZSl9KSx0W2VoXSl9ZnVuY3Rpb24gWWUoKXt2ci5jYWxsKHRoaXMpLHRoaXMuaT1uZXcgeHUodGhpcyksdGhpcy5TPXRoaXMsdGhpcy5KPW51bGx9SmUoWWUsdnIpO1llLnByb3RvdHlwZVtuYV09ITA7WWUucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCxlLG4scil7dlModGhpcyx0LGUsbixyKX07ZnVuY3Rpb24gcnQodCxlKXt2YXIgbixyPXQuSjtpZihyKWZvcihuPVtdO3I7cj1yLkopbi5wdXNoKHIpO2lmKHQ9dC5TLHI9ZS50eXBlfHxlLHR5cGVvZiBlPT0ic3RyaW5nIillPW5ldyBndChlLHQpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIGd0KWUudGFyZ2V0PWUudGFyZ2V0fHx0O2Vsc2V7dmFyIGk9ZTtlPW5ldyBndChyLHQpLHBTKGUsaSl9aWYoaT0hMCxuKWZvcih2YXIgcz1uLmxlbmd0aC0xOzA8PXM7cy0tKXt2YXIgbz1lLmc9bltzXTtpPVBhKG8sciwhMCxlKSYmaX1pZihvPWUuZz10LGk9UGEobyxyLCEwLGUpJiZpLGk9UGEobyxyLCExLGUpJiZpLG4pZm9yKHM9MDtzPG4ubGVuZ3RoO3MrKylvPWUuZz1uW3NdLGk9UGEobyxyLCExLGUpJiZpfVllLnByb3RvdHlwZS5OPWZ1bmN0aW9uKCl7aWYoWWUuJC5OLmNhbGwodGhpcyksdGhpcy5pKXt2YXIgdD10aGlzLmksZTtmb3IoZSBpbiB0Lmcpe2Zvcih2YXIgbj10LmdbZV0scj0wO3I8bi5sZW5ndGg7cisrKU91KG5bcl0pO2RlbGV0ZSB0LmdbZV0sdC5oLS19fXRoaXMuSj1udWxsfTtZZS5wcm90b3R5cGUuTz1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gdGhpcy5pLmFkZChTdHJpbmcodCksZSwhMSxuLHIpfTtZZS5wcm90b3R5cGUuUD1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gdGhpcy5pLmFkZChTdHJpbmcodCksZSwhMCxuLHIpfTtmdW5jdGlvbiBQYSh0LGUsbixyKXtpZihlPXQuaS5nW1N0cmluZyhlKV0sIWUpcmV0dXJuITA7ZT1lLmNvbmNhdCgpO2Zvcih2YXIgaT0hMCxzPTA7czxlLmxlbmd0aDsrK3Mpe3ZhciBvPWVbc107aWYobyYmIW8uZmEmJm8uY2FwdHVyZT09bil7dmFyIGE9by5saXN0ZW5lcixjPW8ubGF8fG8uc3JjO28uaWEmJnlkKHQuaSxvKSxpPWEuY2FsbChjLHIpIT09ITEmJml9fXJldHVybiBpJiYhci5kZWZhdWx0UHJldmVudGVkfXZhciBMcD1RLkpTT04uc3RyaW5naWZ5O2NsYXNzIFdqe2NvbnN0cnVjdG9yKGUsbil7dGhpcy5pPWUsdGhpcy5qPW4sdGhpcy5oPTAsdGhpcy5nPW51bGx9Z2V0KCl7bGV0IGU7cmV0dXJuIDA8dGhpcy5oPyh0aGlzLmgtLSxlPXRoaXMuZyx0aGlzLmc9ZS5uZXh0LGUubmV4dD1udWxsKTplPXRoaXMuaSgpLGV9fWZ1bmN0aW9uIEdqKCl7dmFyIHQ9VnA7bGV0IGU9bnVsbDtyZXR1cm4gdC5nJiYoZT10LmcsdC5nPXQuZy5uZXh0LHQuZ3x8KHQuaD1udWxsKSxlLm5leHQ9bnVsbCksZX1jbGFzcyBLantjb25zdHJ1Y3Rvcigpe3RoaXMuaD10aGlzLmc9bnVsbH1hZGQoZSxuKXtjb25zdCByPUVTLmdldCgpO3Iuc2V0KGUsbiksdGhpcy5oP3RoaXMuaC5uZXh0PXI6dGhpcy5nPXIsdGhpcy5oPXJ9fXZhciBFUz1uZXcgV2ooKCk9Pm5ldyBRaix0PT50LnJlc2V0KCkpO2NsYXNzIFFqe2NvbnN0cnVjdG9yKCl7dGhpcy5uZXh0PXRoaXMuZz10aGlzLmg9bnVsbH1zZXQoZSxuKXt0aGlzLmg9ZSx0aGlzLmc9bix0aGlzLm5leHQ9bnVsbH1yZXNldCgpe3RoaXMubmV4dD10aGlzLmc9dGhpcy5oPW51bGx9fWZ1bmN0aW9uIFpqKHQpe3ZhciBlPTE7dD10LnNwbGl0KCI6Iik7Y29uc3Qgbj1bXTtmb3IoOzA8ZSYmdC5sZW5ndGg7KW4ucHVzaCh0LnNoaWZ0KCkpLGUtLTtyZXR1cm4gdC5sZW5ndGgmJm4ucHVzaCh0LmpvaW4oIjoiKSksbn1mdW5jdGlvbiBYaih0KXtRLnNldFRpbWVvdXQoKCk9Pnt0aHJvdyB0fSwwKX1sZXQgVG8sU289ITEsVnA9bmV3IEtqLHdTPSgpPT57Y29uc3QgdD1RLlByb21pc2UucmVzb2x2ZSh2b2lkIDApO1RvPSgpPT57dC50aGVuKFlqKX19O3ZhciBZaj0oKT0+e2Zvcih2YXIgdDt0PUdqKCk7KXt0cnl7dC5oLmNhbGwodC5nKX1jYXRjaChuKXtYaihuKX12YXIgZT1FUztlLmoodCksMTAwPmUuaCYmKGUuaCsrLHQubmV4dD1lLmcsZS5nPXQpfVNvPSExfTtmdW5jdGlvbiBMdSh0LGUpe1llLmNhbGwodGhpcyksdGhpcy5oPXR8fDEsdGhpcy5nPWV8fFEsdGhpcy5qPXB0KHRoaXMucWIsdGhpcyksdGhpcy5sPURhdGUubm93KCl9SmUoTHUsWWUpO009THUucHJvdG90eXBlO00uZ2E9ITE7TS5UPW51bGw7TS5xYj1mdW5jdGlvbigpe2lmKHRoaXMuZ2Epe3ZhciB0PURhdGUubm93KCktdGhpcy5sOzA8dCYmdDwuOCp0aGlzLmg/dGhpcy5UPXRoaXMuZy5zZXRUaW1lb3V0KHRoaXMuaix0aGlzLmgtdCk6KHRoaXMuVCYmKHRoaXMuZy5jbGVhclRpbWVvdXQodGhpcy5UKSx0aGlzLlQ9bnVsbCkscnQodGhpcywidGljayIpLHRoaXMuZ2EmJihGcCh0aGlzKSx0aGlzLnN0YXJ0KCkpKX19O00uc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLmdhPSEwLHRoaXMuVHx8KHRoaXMuVD10aGlzLmcuc2V0VGltZW91dCh0aGlzLmosdGhpcy5oKSx0aGlzLmw9RGF0ZS5ub3coKSl9O2Z1bmN0aW9uIEZwKHQpe3QuZ2E9ITEsdC5UJiYodC5nLmNsZWFyVGltZW91dCh0LlQpLHQuVD1udWxsKX1NLk49ZnVuY3Rpb24oKXtMdS4kLk4uY2FsbCh0aGlzKSxGcCh0aGlzKSxkZWxldGUgdGhpcy5nfTtmdW5jdGlvbiBVcCh0LGUsbil7aWYodHlwZW9mIHQ9PSJmdW5jdGlvbiIpbiYmKHQ9cHQodCxuKSk7ZWxzZSBpZih0JiZ0eXBlb2YgdC5oYW5kbGVFdmVudD09ImZ1bmN0aW9uIil0PXB0KHQuaGFuZGxlRXZlbnQsdCk7ZWxzZSB0aHJvdyBFcnJvcigiSW52YWxpZCBsaXN0ZW5lciBhcmd1bWVudCIpO3JldHVybiAyMTQ3NDgzNjQ3PE51bWJlcihlKT8tMTpRLnNldFRpbWVvdXQodCxlfHwwKX1mdW5jdGlvbiBJUyh0KXt0Lmc9VXAoKCk9Pnt0Lmc9bnVsbCx0LmkmJih0Lmk9ITEsSVModCkpfSx0LmopO2NvbnN0IGU9dC5oO3QuaD1udWxsLHQubS5hcHBseShudWxsLGUpfWNsYXNzIEpqIGV4dGVuZHMgdnJ7Y29uc3RydWN0b3IoZSxuKXtzdXBlcigpLHRoaXMubT1lLHRoaXMuaj1uLHRoaXMuaD1udWxsLHRoaXMuaT0hMSx0aGlzLmc9bnVsbH1sKGUpe3RoaXMuaD1hcmd1bWVudHMsdGhpcy5nP3RoaXMuaT0hMDpJUyh0aGlzKX1OKCl7c3VwZXIuTigpLHRoaXMuZyYmKFEuY2xlYXJUaW1lb3V0KHRoaXMuZyksdGhpcy5nPW51bGwsdGhpcy5pPSExLHRoaXMuaD1udWxsKX19ZnVuY3Rpb24gQ28odCl7dnIuY2FsbCh0aGlzKSx0aGlzLmg9dCx0aGlzLmc9e319SmUoQ28sdnIpO3ZhciB4eT1bXTtmdW5jdGlvbiBUUyh0LGUsbixyKXtBcnJheS5pc0FycmF5KG4pfHwobiYmKHh5WzBdPW4udG9TdHJpbmcoKSksbj14eSk7Zm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciBzPWdTKGUsbltpXSxyfHx0LmhhbmRsZUV2ZW50LCExLHQuaHx8dCk7aWYoIXMpYnJlYWs7dC5nW3Mua2V5XT1zfX1mdW5jdGlvbiBTUyh0KXtNcCh0LmcsZnVuY3Rpb24oZSxuKXt0aGlzLmcuaGFzT3duUHJvcGVydHkobikmJmtwKGUpfSx0KSx0Lmc9e319Q28ucHJvdG90eXBlLk49ZnVuY3Rpb24oKXtDby4kLk4uY2FsbCh0aGlzKSxTUyh0aGlzKX07Q28ucHJvdG90eXBlLmhhbmRsZUV2ZW50PWZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoIkV2ZW50SGFuZGxlci5oYW5kbGVFdmVudCBub3QgaW1wbGVtZW50ZWQiKX07ZnVuY3Rpb24gVnUoKXt0aGlzLmc9ITB9VnUucHJvdG90eXBlLkVhPWZ1bmN0aW9uKCl7dGhpcy5nPSExfTtmdW5jdGlvbiBlMih0LGUsbixyLGkscyl7dC5pbmZvKGZ1bmN0aW9uKCl7aWYodC5nKWlmKHMpZm9yKHZhciBvPSIiLGE9cy5zcGxpdCgiJiIpLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIHU9YVtjXS5zcGxpdCgiPSIpO2lmKDE8dS5sZW5ndGgpe3ZhciBsPXVbMF07dT11WzFdO3ZhciBoPWwuc3BsaXQoIl8iKTtvPTI8PWgubGVuZ3RoJiZoWzFdPT0idHlwZSI/bysobCsiPSIrdSsiJiIpOm8rKGwrIj1yZWRhY3RlZCYiKX19ZWxzZSBvPW51bGw7ZWxzZSBvPXM7cmV0dXJuIlhNTEhUVFAgUkVRICgiK3IrIikgW2F0dGVtcHQgIitpKyJdOiAiK2UrYApgK24rYApgK299KX1mdW5jdGlvbiB0Mih0LGUsbixyLGkscyxvKXt0LmluZm8oZnVuY3Rpb24oKXtyZXR1cm4iWE1MSFRUUCBSRVNQICgiK3IrIikgWyBhdHRlbXB0ICIraSsiXTogIitlK2AKYCtuK2AKYCtzKyIgIitvfSl9ZnVuY3Rpb24gdmkodCxlLG4scil7dC5pbmZvKGZ1bmN0aW9uKCl7cmV0dXJuIlhNTEhUVFAgVEVYVCAoIitlKyIpOiAiK3IyKHQsbikrKHI/IiAiK3I6IiIpfSl9ZnVuY3Rpb24gbjIodCxlKXt0LmluZm8oZnVuY3Rpb24oKXtyZXR1cm4iVElNRU9VVDogIitlfSl9VnUucHJvdG90eXBlLmluZm89ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHIyKHQsZSl7aWYoIXQuZylyZXR1cm4gZTtpZighZSlyZXR1cm4gbnVsbDt0cnl7dmFyIG49SlNPTi5wYXJzZShlKTtpZihuKXtmb3IodD0wO3Q8bi5sZW5ndGg7dCsrKWlmKEFycmF5LmlzQXJyYXkoblt0XSkpe3ZhciByPW5bdF07aWYoISgyPnIubGVuZ3RoKSl7dmFyIGk9clsxXTtpZihBcnJheS5pc0FycmF5KGkpJiYhKDE+aS5sZW5ndGgpKXt2YXIgcz1pWzBdO2lmKHMhPSJub29wIiYmcyE9InN0b3AiJiZzIT0iY2xvc2UiKWZvcih2YXIgbz0xO288aS5sZW5ndGg7bysrKWlbb109IiJ9fX19cmV0dXJuIExwKG4pfWNhdGNoe3JldHVybiBlfX12YXIgbmk9e30sTHk9bnVsbDtmdW5jdGlvbiBGdSgpe3JldHVybiBMeT1MeXx8bmV3IFllfW5pLlRhPSJzZXJ2ZXJyZWFjaGFiaWxpdHkiO2Z1bmN0aW9uIENTKHQpe2d0LmNhbGwodGhpcyxuaS5UYSx0KX1KZShDUyxndCk7ZnVuY3Rpb24gQW8odCl7Y29uc3QgZT1GdSgpO3J0KGUsbmV3IENTKGUpKX1uaS5TVEFUX0VWRU5UPSJzdGF0ZXZlbnQiO2Z1bmN0aW9uIEFTKHQsZSl7Z3QuY2FsbCh0aGlzLG5pLlNUQVRfRVZFTlQsdCksdGhpcy5zdGF0PWV9SmUoQVMsZ3QpO2Z1bmN0aW9uIEV0KHQpe2NvbnN0IGU9RnUoKTtydChlLG5ldyBBUyhlLHQpKX1uaS5VYT0idGltaW5nZXZlbnQiO2Z1bmN0aW9uIFJTKHQsZSl7Z3QuY2FsbCh0aGlzLG5pLlVhLHQpLHRoaXMuc2l6ZT1lfUplKFJTLGd0KTtmdW5jdGlvbiByYSh0LGUpe2lmKHR5cGVvZiB0IT0iZnVuY3Rpb24iKXRocm93IEVycm9yKCJGbiBtdXN0IG5vdCBiZSBudWxsIGFuZCBtdXN0IGJlIGEgZnVuY3Rpb24iKTtyZXR1cm4gUS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dCgpfSxlKX12YXIgVXU9e05PX0VSUk9SOjAscmI6MSxFYjoyLERiOjMseWI6NCxDYjo1LEZiOjYsUWE6NyxUSU1FT1VUOjgsSWI6OX0sYlM9e3diOiJjb21wbGV0ZSIsU2I6InN1Y2Nlc3MiLFJhOiJlcnJvciIsUWE6ImFib3J0IixLYjoicmVhZHkiLExiOiJyZWFkeXN0YXRlY2hhbmdlIixUSU1FT1VUOiJ0aW1lb3V0IixHYjoiaW5jcmVtZW50YWxkYXRhIixKYjoicHJvZ3Jlc3MiLHpiOiJkb3dubG9hZHByb2dyZXNzIiwkYjoidXBsb2FkcHJvZ3Jlc3MifTtmdW5jdGlvbiBqcCgpe31qcC5wcm90b3R5cGUuaD1udWxsO2Z1bmN0aW9uIFZ5KHQpe3JldHVybiB0Lmh8fCh0Lmg9dC5pKCkpfWZ1bmN0aW9uIERTKCl7fXZhciBpYT17T1BFTjoiYSIsdmI6ImIiLFJhOiJjIixIYjoiZCJ9O2Z1bmN0aW9uICRwKCl7Z3QuY2FsbCh0aGlzLCJkIil9SmUoJHAsZ3QpO2Z1bmN0aW9uIEJwKCl7Z3QuY2FsbCh0aGlzLCJjIil9SmUoQnAsZ3QpO3ZhciBfZDtmdW5jdGlvbiBqdSgpe31KZShqdSxqcCk7anUucHJvdG90eXBlLmc9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0fTtqdS5wcm90b3R5cGUuaT1mdW5jdGlvbigpe3JldHVybnt9fTtfZD1uZXcganU7ZnVuY3Rpb24gc2EodCxlLG4scil7dGhpcy5sPXQsdGhpcy5qPWUsdGhpcy5tPW4sdGhpcy5XPXJ8fDEsdGhpcy5VPW5ldyBDbyh0aGlzKSx0aGlzLlA9aTIsdD1wZD8xMjU6dm9pZCAwLHRoaXMuVj1uZXcgTHUodCksdGhpcy5JPW51bGwsdGhpcy5pPSExLHRoaXMudT10aGlzLkI9dGhpcy5BPXRoaXMuTD10aGlzLkc9dGhpcy5ZPXRoaXMuQz1udWxsLHRoaXMuRj1bXSx0aGlzLmc9bnVsbCx0aGlzLm89MCx0aGlzLnM9dGhpcy52PW51bGwsdGhpcy5jYT0tMSx0aGlzLko9ITEsdGhpcy5PPTAsdGhpcy5NPW51bGwsdGhpcy5iYT10aGlzLks9dGhpcy5hYT10aGlzLlM9ITEsdGhpcy5oPW5ldyBQU31mdW5jdGlvbiBQUygpe3RoaXMuaT1udWxsLHRoaXMuZz0iIix0aGlzLmg9ITF9dmFyIGkyPTQ1ZTMsTVM9e30sRWQ9e307TT1zYS5wcm90b3R5cGU7TS5zZXRUaW1lb3V0PWZ1bmN0aW9uKHQpe3RoaXMuUD10fTtmdW5jdGlvbiB3ZCh0LGUsbil7dC5MPTEsdC5BPUJ1KEJuKGUpKSx0LnU9bix0LlM9ITAsTlModCxudWxsKX1mdW5jdGlvbiBOUyh0LGUpe3QuRz1EYXRlLm5vdygpLG9hKHQpLHQuQj1Cbih0LkEpO3ZhciBuPXQuQixyPXQuVztBcnJheS5pc0FycmF5KHIpfHwocj1bU3RyaW5nKHIpXSksalMobi5pLCJ0IixyKSx0Lm89MCxuPXQubC5KLHQuaD1uZXcgUFMsdC5nPWFDKHQubCxuP2U6bnVsbCwhdC51KSwwPHQuTyYmKHQuTT1uZXcgSmoocHQodC5QYSx0LHQuZyksdC5PKSksVFModC5VLHQuZywicmVhZHlzdGF0ZWNoYW5nZSIsdC5uYiksZT10Lkk/ZlModC5JKTp7fSx0LnU/KHQudnx8KHQudj0iUE9TVCIpLGVbIkNvbnRlbnQtVHlwZSJdPSJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLHQuZy5oYSh0LkIsdC52LHQudSxlKSk6KHQudj0iR0VUIix0LmcuaGEodC5CLHQudixudWxsLGUpKSxBbygpLGUyKHQuaix0LnYsdC5CLHQubSx0LlcsdC51KX1NLm5iPWZ1bmN0aW9uKHQpe3Q9dC50YXJnZXQ7Y29uc3QgZT10aGlzLk07ZSYmYW4odCk9PTM/ZS5sKCk6dGhpcy5QYSh0KX07TS5QYT1mdW5jdGlvbih0KXt0cnl7aWYodD09dGhpcy5nKWU6e2NvbnN0IGw9YW4odGhpcy5nKTt2YXIgZT10aGlzLmcuSWEoKTtjb25zdCBoPXRoaXMuZy5kYSgpO2lmKCEoMz5sKSYmKGwhPTN8fHBkfHx0aGlzLmcmJih0aGlzLmguaHx8dGhpcy5nLmphKCl8fCR5KHRoaXMuZykpKSl7dGhpcy5KfHxsIT00fHxlPT03fHwoZT09OHx8MD49aD9BbygzKTpBbygyKSksJHUodGhpcyk7dmFyIG49dGhpcy5nLmRhKCk7dGhpcy5jYT1uO3Q6aWYoa1ModGhpcykpe3ZhciByPSR5KHRoaXMuZyk7dD0iIjt2YXIgaT1yLmxlbmd0aCxzPWFuKHRoaXMuZyk9PTQ7aWYoIXRoaXMuaC5pKXtpZih0eXBlb2YgVGV4dERlY29kZXI+InUiKXtEcih0aGlzKSxqcyh0aGlzKTt2YXIgbz0iIjticmVhayB0fXRoaXMuaC5pPW5ldyBRLlRleHREZWNvZGVyfWZvcihlPTA7ZTxpO2UrKyl0aGlzLmguaD0hMCx0Kz10aGlzLmguaS5kZWNvZGUocltlXSx7c3RyZWFtOnMmJmU9PWktMX0pO3IubGVuZ3RoPTAsdGhpcy5oLmcrPXQsdGhpcy5vPTAsbz10aGlzLmguZ31lbHNlIG89dGhpcy5nLmphKCk7aWYodGhpcy5pPW49PTIwMCx0Mih0aGlzLmosdGhpcy52LHRoaXMuQix0aGlzLm0sdGhpcy5XLGwsbiksdGhpcy5pKXtpZih0aGlzLmFhJiYhdGhpcy5LKXt0OntpZih0aGlzLmcpe3ZhciBhLGM9dGhpcy5nO2lmKChhPWMuZz9jLmcuZ2V0UmVzcG9uc2VIZWFkZXIoIlgtSFRUUC1Jbml0aWFsLVJlc3BvbnNlIik6bnVsbCkmJiF3byhhKSl7dmFyIHU9YTticmVhayB0fX11PW51bGx9aWYobj11KXZpKHRoaXMuaix0aGlzLm0sbiwiSW5pdGlhbCBoYW5kc2hha2UgcmVzcG9uc2UgdmlhIFgtSFRUUC1Jbml0aWFsLVJlc3BvbnNlIiksdGhpcy5LPSEwLElkKHRoaXMsbik7ZWxzZXt0aGlzLmk9ITEsdGhpcy5zPTMsRXQoMTIpLERyKHRoaXMpLGpzKHRoaXMpO2JyZWFrIGV9fXRoaXMuUz8oT1ModGhpcyxsLG8pLHBkJiZ0aGlzLmkmJmw9PTMmJihUUyh0aGlzLlUsdGhpcy5WLCJ0aWNrIix0aGlzLm1iKSx0aGlzLlYuc3RhcnQoKSkpOih2aSh0aGlzLmosdGhpcy5tLG8sbnVsbCksSWQodGhpcyxvKSksbD09NCYmRHIodGhpcyksdGhpcy5pJiYhdGhpcy5KJiYobD09ND9yQyh0aGlzLmwsdGhpcyk6KHRoaXMuaT0hMSxvYSh0aGlzKSkpfWVsc2UgQzIodGhpcy5nKSxuPT00MDAmJjA8by5pbmRleE9mKCJVbmtub3duIFNJRCIpPyh0aGlzLnM9MyxFdCgxMikpOih0aGlzLnM9MCxFdCgxMykpLERyKHRoaXMpLGpzKHRoaXMpfX19Y2F0Y2h7fWZpbmFsbHl7fX07ZnVuY3Rpb24ga1ModCl7cmV0dXJuIHQuZz90LnY9PSJHRVQiJiZ0LkwhPTImJnQubC5IYTohMX1mdW5jdGlvbiBPUyh0LGUsbil7bGV0IHI9ITAsaTtmb3IoOyF0LkomJnQubzxuLmxlbmd0aDspaWYoaT1zMih0LG4pLGk9PUVkKXtlPT00JiYodC5zPTQsRXQoMTQpLHI9ITEpLHZpKHQuaix0Lm0sbnVsbCwiW0luY29tcGxldGUgUmVzcG9uc2VdIik7YnJlYWt9ZWxzZSBpZihpPT1NUyl7dC5zPTQsRXQoMTUpLHZpKHQuaix0Lm0sbiwiW0ludmFsaWQgQ2h1bmtdIikscj0hMTticmVha31lbHNlIHZpKHQuaix0Lm0saSxudWxsKSxJZCh0LGkpO2tTKHQpJiZ0Lm8hPTAmJih0LmguZz10LmguZy5zbGljZSh0Lm8pLHQubz0wKSxlIT00fHxuLmxlbmd0aCE9MHx8dC5oLmh8fCh0LnM9MSxFdCgxNikscj0hMSksdC5pPXQuaSYmcixyPzA8bi5sZW5ndGgmJiF0LmJhJiYodC5iYT0hMCxlPXQubCxlLmc9PXQmJmUuY2EmJiFlLk0mJihlLmwuaW5mbygiR3JlYXQsIG5vIGJ1ZmZlcmluZyBwcm94eSBkZXRlY3RlZC4gQnl0ZXMgcmVjZWl2ZWQ6ICIrbi5sZW5ndGgpLEtwKGUpLGUuTT0hMCxFdCgxMSkpKToodmkodC5qLHQubSxuLCJbSW52YWxpZCBDaHVua2VkIFJlc3BvbnNlXSIpLERyKHQpLGpzKHQpKX1NLm1iPWZ1bmN0aW9uKCl7aWYodGhpcy5nKXt2YXIgdD1hbih0aGlzLmcpLGU9dGhpcy5nLmphKCk7dGhpcy5vPGUubGVuZ3RoJiYoJHUodGhpcyksT1ModGhpcyx0LGUpLHRoaXMuaSYmdCE9NCYmb2EodGhpcykpfX07ZnVuY3Rpb24gczIodCxlKXt2YXIgbj10Lm8scj1lLmluZGV4T2YoYApgLG4pO3JldHVybiByPT0tMT9FZDoobj1OdW1iZXIoZS5zdWJzdHJpbmcobixyKSksaXNOYU4obik/TVM6KHIrPTEscituPmUubGVuZ3RoP0VkOihlPWUuc2xpY2UocixyK24pLHQubz1yK24sZSkpKX1NLmNhbmNlbD1mdW5jdGlvbigpe3RoaXMuSj0hMCxEcih0aGlzKX07ZnVuY3Rpb24gb2EodCl7dC5ZPURhdGUubm93KCkrdC5QLHhTKHQsdC5QKX1mdW5jdGlvbiB4Uyh0LGUpe2lmKHQuQyE9bnVsbCl0aHJvdyBFcnJvcigiV2F0Y2hEb2cgdGltZXIgbm90IG51bGwiKTt0LkM9cmEocHQodC5sYix0KSxlKX1mdW5jdGlvbiAkdSh0KXt0LkMmJihRLmNsZWFyVGltZW91dCh0LkMpLHQuQz1udWxsKX1NLmxiPWZ1bmN0aW9uKCl7dGhpcy5DPW51bGw7Y29uc3QgdD1EYXRlLm5vdygpOzA8PXQtdGhpcy5ZPyhuMih0aGlzLmosdGhpcy5CKSx0aGlzLkwhPTImJihBbygpLEV0KDE3KSksRHIodGhpcyksdGhpcy5zPTIsanModGhpcykpOnhTKHRoaXMsdGhpcy5ZLXQpfTtmdW5jdGlvbiBqcyh0KXt0LmwuSD09MHx8dC5KfHxyQyh0LmwsdCl9ZnVuY3Rpb24gRHIodCl7JHUodCk7dmFyIGU9dC5NO2UmJnR5cGVvZiBlLnNhPT0iZnVuY3Rpb24iJiZlLnNhKCksdC5NPW51bGwsRnAodC5WKSxTUyh0LlUpLHQuZyYmKGU9dC5nLHQuZz1udWxsLGUuYWJvcnQoKSxlLnNhKCkpfWZ1bmN0aW9uIElkKHQsZSl7dHJ5e3ZhciBuPXQubDtpZihuLkghPTAmJihuLmc9PXR8fFRkKG4uaSx0KSkpe2lmKCF0LksmJlRkKG4uaSx0KSYmbi5IPT0zKXt0cnl7dmFyIHI9bi5KYS5nLnBhcnNlKGUpfWNhdGNoe3I9bnVsbH1pZihBcnJheS5pc0FycmF5KHIpJiZyLmxlbmd0aD09Myl7dmFyIGk9cjtpZihpWzBdPT0wKXtlOmlmKCFuLnUpe2lmKG4uZylpZihuLmcuRyszZTM8dC5HKVZjKG4pLFd1KG4pO2Vsc2UgYnJlYWsgZTtHcChuKSxFdCgxOCl9fWVsc2Ugbi5GYT1pWzFdLDA8bi5GYS1uLlYmJjM3NTAwPmlbMl0mJm4uRyYmbi5BPT0wJiYhbi52JiYobi52PXJhKHB0KG4uaWIsbiksNmUzKSk7aWYoMT49SFMobi5pKSYmbi5vYSl7dHJ5e24ub2EoKX1jYXRjaHt9bi5vYT12b2lkIDB9fWVsc2UgUHIobiwxMSl9ZWxzZSBpZigodC5LfHxuLmc9PXQpJiZWYyhuKSwhd28oZSkpZm9yKGk9bi5KYS5nLnBhcnNlKGUpLGU9MDtlPGkubGVuZ3RoO2UrKyl7bGV0IHU9aVtlXTtpZihuLlY9dVswXSx1PXVbMV0sbi5IPT0yKWlmKHVbMF09PSJjIil7bi5LPXVbMV0sbi5wYT11WzJdO2NvbnN0IGw9dVszXTtsIT1udWxsJiYobi5yYT1sLG4ubC5pbmZvKCJWRVI9IituLnJhKSk7Y29uc3QgaD11WzRdO2ghPW51bGwmJihuLkdhPWgsbi5sLmluZm8oIlNWRVI9IituLkdhKSk7Y29uc3QgZD11WzVdO2QhPW51bGwmJnR5cGVvZiBkPT0ibnVtYmVyIiYmMDxkJiYocj0xLjUqZCxuLkw9cixuLmwuaW5mbygiYmFja0NoYW5uZWxSZXF1ZXN0VGltZW91dE1zXz0iK3IpKSxyPW47Y29uc3QgZj10Lmc7aWYoZil7Y29uc3QgbT1mLmc/Zi5nLmdldFJlc3BvbnNlSGVhZGVyKCJYLUNsaWVudC1XaXJlLVByb3RvY29sIik6bnVsbDtpZihtKXt2YXIgcz1yLmk7cy5nfHxtLmluZGV4T2YoInNwZHkiKT09LTEmJm0uaW5kZXhPZigicXVpYyIpPT0tMSYmbS5pbmRleE9mKCJoMiIpPT0tMXx8KHMuaj1zLmwscy5nPW5ldyBTZXQscy5oJiYoSHAocyxzLmgpLHMuaD1udWxsKSl9aWYoci5GKXtjb25zdCB5PWYuZz9mLmcuZ2V0UmVzcG9uc2VIZWFkZXIoIlgtSFRUUC1TZXNzaW9uLUlkIik6bnVsbDt5JiYoci5EYT15LFJlKHIuSSxyLkYseSkpfX1uLkg9MyxuLmgmJm4uaC5CYSgpLG4uY2EmJihuLlM9RGF0ZS5ub3coKS10Lkcsbi5sLmluZm8oIkhhbmRzaGFrZSBSVFQ6ICIrbi5TKyJtcyIpKSxyPW47dmFyIG89dDtpZihyLndhPW9DKHIsci5KP3IucGE6bnVsbCxyLlkpLG8uSyl7cVMoci5pLG8pO3ZhciBhPW8sYz1yLkw7YyYmYS5zZXRUaW1lb3V0KGMpLGEuQyYmKCR1KGEpLG9hKGEpKSxyLmc9b31lbHNlIHRDKHIpOzA8bi5qLmxlbmd0aCYmR3Uobil9ZWxzZSB1WzBdIT0ic3RvcCImJnVbMF0hPSJjbG9zZSJ8fFByKG4sNyk7ZWxzZSBuLkg9PTMmJih1WzBdPT0ic3RvcCJ8fHVbMF09PSJjbG9zZSI/dVswXT09InN0b3AiP1ByKG4sNyk6V3Aobik6dVswXSE9Im5vb3AiJiZuLmgmJm4uaC5BYSh1KSxuLkE9MCl9fUFvKDQpfWNhdGNoe319ZnVuY3Rpb24gbzIodCl7aWYodC5aJiZ0eXBlb2YgdC5aPT0iZnVuY3Rpb24iKXJldHVybiB0LlooKTtpZih0eXBlb2YgTWFwPCJ1IiYmdCBpbnN0YW5jZW9mIE1hcHx8dHlwZW9mIFNldDwidSImJnQgaW5zdGFuY2VvZiBTZXQpcmV0dXJuIEFycmF5LmZyb20odC52YWx1ZXMoKSk7aWYodHlwZW9mIHQ9PSJzdHJpbmciKXJldHVybiB0LnNwbGl0KCIiKTtpZihOdSh0KSl7Zm9yKHZhciBlPVtdLG49dC5sZW5ndGgscj0wO3I8bjtyKyspZS5wdXNoKHRbcl0pO3JldHVybiBlfWU9W10sbj0wO2ZvcihyIGluIHQpZVtuKytdPXRbcl07cmV0dXJuIGV9ZnVuY3Rpb24gYTIodCl7aWYodC50YSYmdHlwZW9mIHQudGE9PSJmdW5jdGlvbiIpcmV0dXJuIHQudGEoKTtpZighdC5afHx0eXBlb2YgdC5aIT0iZnVuY3Rpb24iKXtpZih0eXBlb2YgTWFwPCJ1IiYmdCBpbnN0YW5jZW9mIE1hcClyZXR1cm4gQXJyYXkuZnJvbSh0LmtleXMoKSk7aWYoISh0eXBlb2YgU2V0PCJ1IiYmdCBpbnN0YW5jZW9mIFNldCkpe2lmKE51KHQpfHx0eXBlb2YgdD09InN0cmluZyIpe3ZhciBlPVtdO3Q9dC5sZW5ndGg7Zm9yKHZhciBuPTA7bjx0O24rKyllLnB1c2gobik7cmV0dXJuIGV9ZT1bXSxuPTA7Zm9yKGNvbnN0IHIgaW4gdCllW24rK109cjtyZXR1cm4gZX19fWZ1bmN0aW9uIExTKHQsZSl7aWYodC5mb3JFYWNoJiZ0eXBlb2YgdC5mb3JFYWNoPT0iZnVuY3Rpb24iKXQuZm9yRWFjaChlLHZvaWQgMCk7ZWxzZSBpZihOdSh0KXx8dHlwZW9mIHQ9PSJzdHJpbmciKUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwodCxlLHZvaWQgMCk7ZWxzZSBmb3IodmFyIG49YTIodCkscj1vMih0KSxpPXIubGVuZ3RoLHM9MDtzPGk7cysrKWUuY2FsbCh2b2lkIDAscltzXSxuJiZuW3NdLHQpfXZhciBWUz1SZWdFeHAoIl4oPzooW146Lz8jLl0rKTopPyg/Oi8vKD86KFteXFxcXC8/I10qKUApPyhbXlxcXFwvPyNdKj8pKD86OihbMC05XSspKT8oPz1bXFxcXC8/I118JCkpPyhbXj8jXSspPyg/OlxcPyhbXiNdKikpPyg/OiMoW1xcc1xcU10qKSk/JCIpO2Z1bmN0aW9uIGMyKHQsZSl7aWYodCl7dD10LnNwbGl0KCImIik7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl0uaW5kZXhPZigiPSIpLGk9bnVsbDtpZigwPD1yKXt2YXIgcz10W25dLnN1YnN0cmluZygwLHIpO2k9dFtuXS5zdWJzdHJpbmcocisxKX1lbHNlIHM9dFtuXTtlKHMsaT9kZWNvZGVVUklDb21wb25lbnQoaS5yZXBsYWNlKC9cKy9nLCIgIikpOiIiKX19fWZ1bmN0aW9uIHhyKHQpe2lmKHRoaXMuZz10aGlzLnM9dGhpcy5qPSIiLHRoaXMubT1udWxsLHRoaXMubz10aGlzLmw9IiIsdGhpcy5oPSExLHQgaW5zdGFuY2VvZiB4cil7dGhpcy5oPXQuaCx4Yyh0aGlzLHQuaiksdGhpcy5zPXQucyx0aGlzLmc9dC5nLExjKHRoaXMsdC5tKSx0aGlzLmw9dC5sO3ZhciBlPXQuaSxuPW5ldyBSbztuLmk9ZS5pLGUuZyYmKG4uZz1uZXcgTWFwKGUuZyksbi5oPWUuaCksRnkodGhpcyxuKSx0aGlzLm89dC5vfWVsc2UgdCYmKGU9U3RyaW5nKHQpLm1hdGNoKFZTKSk/KHRoaXMuaD0hMSx4Yyh0aGlzLGVbMV18fCIiLCEwKSx0aGlzLnM9Q3MoZVsyXXx8IiIpLHRoaXMuZz1DcyhlWzNdfHwiIiwhMCksTGModGhpcyxlWzRdKSx0aGlzLmw9Q3MoZVs1XXx8IiIsITApLEZ5KHRoaXMsZVs2XXx8IiIsITApLHRoaXMubz1DcyhlWzddfHwiIikpOih0aGlzLmg9ITEsdGhpcy5pPW5ldyBSbyhudWxsLHRoaXMuaCkpfXhyLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PVtdLGU9dGhpcy5qO2UmJnQucHVzaChBcyhlLFV5LCEwKSwiOiIpO3ZhciBuPXRoaXMuZztyZXR1cm4obnx8ZT09ImZpbGUiKSYmKHQucHVzaCgiLy8iKSwoZT10aGlzLnMpJiZ0LnB1c2goQXMoZSxVeSwhMCksIkAiKSx0LnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhuKSkucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCIlJDEiKSksbj10aGlzLm0sbiE9bnVsbCYmdC5wdXNoKCI6IixTdHJpbmcobikpKSwobj10aGlzLmwpJiYodGhpcy5nJiZuLmNoYXJBdCgwKSE9Ii8iJiZ0LnB1c2goIi8iKSx0LnB1c2goQXMobixuLmNoYXJBdCgwKT09Ii8iP2gyOmwyLCEwKSkpLChuPXRoaXMuaS50b1N0cmluZygpKSYmdC5wdXNoKCI/IixuKSwobj10aGlzLm8pJiZ0LnB1c2goIiMiLEFzKG4sZjIpKSx0LmpvaW4oIiIpfTtmdW5jdGlvbiBCbih0KXtyZXR1cm4gbmV3IHhyKHQpfWZ1bmN0aW9uIHhjKHQsZSxuKXt0Lmo9bj9DcyhlLCEwKTplLHQuaiYmKHQuaj10LmoucmVwbGFjZSgvOiQvLCIiKSl9ZnVuY3Rpb24gTGModCxlKXtpZihlKXtpZihlPU51bWJlcihlKSxpc05hTihlKXx8MD5lKXRocm93IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIitlKTt0Lm09ZX1lbHNlIHQubT1udWxsfWZ1bmN0aW9uIEZ5KHQsZSxuKXtlIGluc3RhbmNlb2YgUm8/KHQuaT1lLHAyKHQuaSx0LmgpKToobnx8KGU9QXMoZSxkMikpLHQuaT1uZXcgUm8oZSx0LmgpKX1mdW5jdGlvbiBSZSh0LGUsbil7dC5pLnNldChlLG4pfWZ1bmN0aW9uIEJ1KHQpe3JldHVybiBSZSh0LCJ6eCIsTWF0aC5mbG9vcigyMTQ3NDgzNjQ4Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDM2KStNYXRoLmFicyhNYXRoLmZsb29yKDIxNDc0ODM2NDgqTWF0aC5yYW5kb20oKSleRGF0ZS5ub3coKSkudG9TdHJpbmcoMzYpKSx0fWZ1bmN0aW9uIENzKHQsZSl7cmV0dXJuIHQ/ZT9kZWNvZGVVUkkodC5yZXBsYWNlKC8lMjUvZywiJTI1MjUiKSk6ZGVjb2RlVVJJQ29tcG9uZW50KHQpOiIifWZ1bmN0aW9uIEFzKHQsZSxuKXtyZXR1cm4gdHlwZW9mIHQ9PSJzdHJpbmciPyh0PWVuY29kZVVSSSh0KS5yZXBsYWNlKGUsdTIpLG4mJih0PXQucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCIlJDEiKSksdCk6bnVsbH1mdW5jdGlvbiB1Mih0KXtyZXR1cm4gdD10LmNoYXJDb2RlQXQoMCksIiUiKyh0Pj40JjE1KS50b1N0cmluZygxNikrKHQmMTUpLnRvU3RyaW5nKDE2KX12YXIgVXk9L1sjXC9cP0BdL2csbDI9L1sjXD86XS9nLGgyPS9bI1w/XS9nLGQyPS9bI1w/QF0vZyxmMj0vIy9nO2Z1bmN0aW9uIFJvKHQsZSl7dGhpcy5oPXRoaXMuZz1udWxsLHRoaXMuaT10fHxudWxsLHRoaXMuaj0hIWV9ZnVuY3Rpb24gX3IodCl7dC5nfHwodC5nPW5ldyBNYXAsdC5oPTAsdC5pJiZjMih0LmksZnVuY3Rpb24oZSxuKXt0LmFkZChkZWNvZGVVUklDb21wb25lbnQoZS5yZXBsYWNlKC9cKy9nLCIgIikpLG4pfSkpfU09Um8ucHJvdG90eXBlO00uYWRkPWZ1bmN0aW9uKHQsZSl7X3IodGhpcyksdGhpcy5pPW51bGwsdD1scyh0aGlzLHQpO3ZhciBuPXRoaXMuZy5nZXQodCk7cmV0dXJuIG58fHRoaXMuZy5zZXQodCxuPVtdKSxuLnB1c2goZSksdGhpcy5oKz0xLHRoaXN9O2Z1bmN0aW9uIEZTKHQsZSl7X3IodCksZT1scyh0LGUpLHQuZy5oYXMoZSkmJih0Lmk9bnVsbCx0LmgtPXQuZy5nZXQoZSkubGVuZ3RoLHQuZy5kZWxldGUoZSkpfWZ1bmN0aW9uIFVTKHQsZSl7cmV0dXJuIF9yKHQpLGU9bHModCxlKSx0LmcuaGFzKGUpfU0uZm9yRWFjaD1mdW5jdGlvbih0LGUpe19yKHRoaXMpLHRoaXMuZy5mb3JFYWNoKGZ1bmN0aW9uKG4scil7bi5mb3JFYWNoKGZ1bmN0aW9uKGkpe3QuY2FsbChlLGkscix0aGlzKX0sdGhpcyl9LHRoaXMpfTtNLnRhPWZ1bmN0aW9uKCl7X3IodGhpcyk7Y29uc3QgdD1BcnJheS5mcm9tKHRoaXMuZy52YWx1ZXMoKSksZT1BcnJheS5mcm9tKHRoaXMuZy5rZXlzKCkpLG49W107Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2NvbnN0IGk9dFtyXTtmb3IobGV0IHM9MDtzPGkubGVuZ3RoO3MrKyluLnB1c2goZVtyXSl9cmV0dXJuIG59O00uWj1mdW5jdGlvbih0KXtfcih0aGlzKTtsZXQgZT1bXTtpZih0eXBlb2YgdD09InN0cmluZyIpVVModGhpcyx0KSYmKGU9ZS5jb25jYXQodGhpcy5nLmdldChscyh0aGlzLHQpKSkpO2Vsc2V7dD1BcnJheS5mcm9tKHRoaXMuZy52YWx1ZXMoKSk7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspZT1lLmNvbmNhdCh0W25dKX1yZXR1cm4gZX07TS5zZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gX3IodGhpcyksdGhpcy5pPW51bGwsdD1scyh0aGlzLHQpLFVTKHRoaXMsdCkmJih0aGlzLmgtPXRoaXMuZy5nZXQodCkubGVuZ3RoKSx0aGlzLmcuc2V0KHQsW2VdKSx0aGlzLmgrPTEsdGhpc307TS5nZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD8odD10aGlzLloodCksMDx0Lmxlbmd0aD9TdHJpbmcodFswXSk6ZSk6ZX07ZnVuY3Rpb24galModCxlLG4pe0ZTKHQsZSksMDxuLmxlbmd0aCYmKHQuaT1udWxsLHQuZy5zZXQobHModCxlKSxEcChuKSksdC5oKz1uLmxlbmd0aCl9TS50b1N0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMuaSlyZXR1cm4gdGhpcy5pO2lmKCF0aGlzLmcpcmV0dXJuIiI7Y29uc3QgdD1bXSxlPUFycmF5LmZyb20odGhpcy5nLmtleXMoKSk7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07Y29uc3Qgcz1lbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHIpKSxvPXRoaXMuWihyKTtmb3Iocj0wO3I8by5sZW5ndGg7cisrKXt2YXIgaT1zO29bcl0hPT0iIiYmKGkrPSI9IitlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKG9bcl0pKSksdC5wdXNoKGkpfX1yZXR1cm4gdGhpcy5pPXQuam9pbigiJiIpfTtmdW5jdGlvbiBscyh0LGUpe3JldHVybiBlPVN0cmluZyhlKSx0LmomJihlPWUudG9Mb3dlckNhc2UoKSksZX1mdW5jdGlvbiBwMih0LGUpe2UmJiF0LmomJihfcih0KSx0Lmk9bnVsbCx0LmcuZm9yRWFjaChmdW5jdGlvbihuLHIpe3ZhciBpPXIudG9Mb3dlckNhc2UoKTtyIT1pJiYoRlModGhpcyxyKSxqUyh0aGlzLGksbikpfSx0KSksdC5qPWV9dmFyIGcyPWNsYXNze2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5nPXQsdGhpcy5tYXA9ZX19O2Z1bmN0aW9uICRTKHQpe3RoaXMubD10fHxtMixRLlBlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZz8odD1RLnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoIm5hdmlnYXRpb24iKSx0PTA8dC5sZW5ndGgmJih0WzBdLm5leHRIb3BQcm90b2NvbD09ImhxInx8dFswXS5uZXh0SG9wUHJvdG9jb2w9PSJoMiIpKTp0PSEhKFEuZyYmUS5nLkthJiZRLmcuS2EoKSYmUS5nLkthKCkuZGMpLHRoaXMuaj10P3RoaXMubDoxLHRoaXMuZz1udWxsLDE8dGhpcy5qJiYodGhpcy5nPW5ldyBTZXQpLHRoaXMuaD1udWxsLHRoaXMuaT1bXX12YXIgbTI9MTA7ZnVuY3Rpb24gQlModCl7cmV0dXJuIHQuaD8hMDp0Lmc/dC5nLnNpemU+PXQuajohMX1mdW5jdGlvbiBIUyh0KXtyZXR1cm4gdC5oPzE6dC5nP3QuZy5zaXplOjB9ZnVuY3Rpb24gVGQodCxlKXtyZXR1cm4gdC5oP3QuaD09ZTp0Lmc/dC5nLmhhcyhlKTohMX1mdW5jdGlvbiBIcCh0LGUpe3QuZz90LmcuYWRkKGUpOnQuaD1lfWZ1bmN0aW9uIHFTKHQsZSl7dC5oJiZ0Lmg9PWU/dC5oPW51bGw6dC5nJiZ0LmcuaGFzKGUpJiZ0LmcuZGVsZXRlKGUpfSRTLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXtpZih0aGlzLmk9elModGhpcyksdGhpcy5oKXRoaXMuaC5jYW5jZWwoKSx0aGlzLmg9bnVsbDtlbHNlIGlmKHRoaXMuZyYmdGhpcy5nLnNpemUhPT0wKXtmb3IoY29uc3QgdCBvZiB0aGlzLmcudmFsdWVzKCkpdC5jYW5jZWwoKTt0aGlzLmcuY2xlYXIoKX19O2Z1bmN0aW9uIHpTKHQpe2lmKHQuaCE9bnVsbClyZXR1cm4gdC5pLmNvbmNhdCh0LmguRik7aWYodC5nIT1udWxsJiZ0Lmcuc2l6ZSE9PTApe2xldCBlPXQuaTtmb3IoY29uc3QgbiBvZiB0LmcudmFsdWVzKCkpZT1lLmNvbmNhdChuLkYpO3JldHVybiBlfXJldHVybiBEcCh0LmkpfXZhciB5Mj1jbGFzc3tzdHJpbmdpZnkodCl7cmV0dXJuIFEuSlNPTi5zdHJpbmdpZnkodCx2b2lkIDApfXBhcnNlKHQpe3JldHVybiBRLkpTT04ucGFyc2UodCx2b2lkIDApfX07ZnVuY3Rpb24gdjIoKXt0aGlzLmc9bmV3IHkyfWZ1bmN0aW9uIF8yKHQsZSxuKXtjb25zdCByPW58fCIiO3RyeXtMUyh0LGZ1bmN0aW9uKGkscyl7bGV0IG89aTt0YShpKSYmKG89THAoaSkpLGUucHVzaChyK3MrIj0iK2VuY29kZVVSSUNvbXBvbmVudChvKSl9KX1jYXRjaChpKXt0aHJvdyBlLnB1c2gocisidHlwZT0iK2VuY29kZVVSSUNvbXBvbmVudCgiX2JhZG1hcCIpKSxpfX1mdW5jdGlvbiBFMih0LGUpe2NvbnN0IG49bmV3IFZ1O2lmKFEuSW1hZ2Upe2NvbnN0IHI9bmV3IEltYWdlO3Iub25sb2FkPURhKE1hLG4sciwiVGVzdExvYWRJbWFnZTogbG9hZGVkIiwhMCxlKSxyLm9uZXJyb3I9RGEoTWEsbixyLCJUZXN0TG9hZEltYWdlOiBlcnJvciIsITEsZSksci5vbmFib3J0PURhKE1hLG4sciwiVGVzdExvYWRJbWFnZTogYWJvcnQiLCExLGUpLHIub250aW1lb3V0PURhKE1hLG4sciwiVGVzdExvYWRJbWFnZTogdGltZW91dCIsITEsZSksUS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5vbnRpbWVvdXQmJnIub250aW1lb3V0KCl9LDFlNCksci5zcmM9dH1lbHNlIGUoITEpfWZ1bmN0aW9uIE1hKHQsZSxuLHIsaSl7dHJ5e2Uub25sb2FkPW51bGwsZS5vbmVycm9yPW51bGwsZS5vbmFib3J0PW51bGwsZS5vbnRpbWVvdXQ9bnVsbCxpKHIpfWNhdGNoe319ZnVuY3Rpb24gSHUodCl7dGhpcy5sPXQuZWN8fG51bGwsdGhpcy5qPXQub2J8fCExfUplKEh1LGpwKTtIdS5wcm90b3R5cGUuZz1mdW5jdGlvbigpe3JldHVybiBuZXcgcXUodGhpcy5sLHRoaXMuail9O0h1LnByb3RvdHlwZS5pPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0oe30pO2Z1bmN0aW9uIHF1KHQsZSl7WWUuY2FsbCh0aGlzKSx0aGlzLkY9dCx0aGlzLnU9ZSx0aGlzLm09dm9pZCAwLHRoaXMucmVhZHlTdGF0ZT1xcCx0aGlzLnN0YXR1cz0wLHRoaXMucmVzcG9uc2VUeXBlPXRoaXMucmVzcG9uc2VUZXh0PXRoaXMucmVzcG9uc2U9dGhpcy5zdGF0dXNUZXh0PSIiLHRoaXMub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsdGhpcy52PW5ldyBIZWFkZXJzLHRoaXMuaD1udWxsLHRoaXMuQz0iR0VUIix0aGlzLkI9IiIsdGhpcy5nPSExLHRoaXMuQT10aGlzLmo9dGhpcy5sPW51bGx9SmUocXUsWWUpO3ZhciBxcD0wO009cXUucHJvdG90eXBlO00ub3Blbj1mdW5jdGlvbih0LGUpe2lmKHRoaXMucmVhZHlTdGF0ZSE9cXApdGhyb3cgdGhpcy5hYm9ydCgpLEVycm9yKCJFcnJvciByZW9wZW5pbmcgYSBjb25uZWN0aW9uIik7dGhpcy5DPXQsdGhpcy5CPWUsdGhpcy5yZWFkeVN0YXRlPTEsYm8odGhpcyl9O00uc2VuZD1mdW5jdGlvbih0KXtpZih0aGlzLnJlYWR5U3RhdGUhPTEpdGhyb3cgdGhpcy5hYm9ydCgpLEVycm9yKCJuZWVkIHRvIGNhbGwgb3BlbigpIGZpcnN0LiAiKTt0aGlzLmc9ITA7Y29uc3QgZT17aGVhZGVyczp0aGlzLnYsbWV0aG9kOnRoaXMuQyxjcmVkZW50aWFsczp0aGlzLm0sY2FjaGU6dm9pZCAwfTt0JiYoZS5ib2R5PXQpLCh0aGlzLkZ8fFEpLmZldGNoKG5ldyBSZXF1ZXN0KHRoaXMuQixlKSkudGhlbih0aGlzLiRhLmJpbmQodGhpcyksdGhpcy5rYS5iaW5kKHRoaXMpKX07TS5hYm9ydD1mdW5jdGlvbigpe3RoaXMucmVzcG9uc2U9dGhpcy5yZXNwb25zZVRleHQ9IiIsdGhpcy52PW5ldyBIZWFkZXJzLHRoaXMuc3RhdHVzPTAsdGhpcy5qJiZ0aGlzLmouY2FuY2VsKCJSZXF1ZXN0IHdhcyBhYm9ydGVkLiIpLmNhdGNoKCgpPT57fSksMTw9dGhpcy5yZWFkeVN0YXRlJiZ0aGlzLmcmJnRoaXMucmVhZHlTdGF0ZSE9NCYmKHRoaXMuZz0hMSxhYSh0aGlzKSksdGhpcy5yZWFkeVN0YXRlPXFwfTtNLiRhPWZ1bmN0aW9uKHQpe2lmKHRoaXMuZyYmKHRoaXMubD10LHRoaXMuaHx8KHRoaXMuc3RhdHVzPXRoaXMubC5zdGF0dXMsdGhpcy5zdGF0dXNUZXh0PXRoaXMubC5zdGF0dXNUZXh0LHRoaXMuaD10LmhlYWRlcnMsdGhpcy5yZWFkeVN0YXRlPTIsYm8odGhpcykpLHRoaXMuZyYmKHRoaXMucmVhZHlTdGF0ZT0zLGJvKHRoaXMpLHRoaXMuZykpKWlmKHRoaXMucmVzcG9uc2VUeXBlPT09ImFycmF5YnVmZmVyIil0LmFycmF5QnVmZmVyKCkudGhlbih0aGlzLllhLmJpbmQodGhpcyksdGhpcy5rYS5iaW5kKHRoaXMpKTtlbHNlIGlmKHR5cGVvZiBRLlJlYWRhYmxlU3RyZWFtPCJ1IiYmImJvZHkiaW4gdCl7aWYodGhpcy5qPXQuYm9keS5nZXRSZWFkZXIoKSx0aGlzLnUpe2lmKHRoaXMucmVzcG9uc2VUeXBlKXRocm93IEVycm9yKCdyZXNwb25zZVR5cGUgbXVzdCBiZSBlbXB0eSBmb3IgInN0cmVhbUJpbmFyeUNodW5rcyIgbW9kZSByZXNwb25zZXMuJyk7dGhpcy5yZXNwb25zZT1bXX1lbHNlIHRoaXMucmVzcG9uc2U9dGhpcy5yZXNwb25zZVRleHQ9IiIsdGhpcy5BPW5ldyBUZXh0RGVjb2RlcjtXUyh0aGlzKX1lbHNlIHQudGV4dCgpLnRoZW4odGhpcy5aYS5iaW5kKHRoaXMpLHRoaXMua2EuYmluZCh0aGlzKSl9O2Z1bmN0aW9uIFdTKHQpe3Quai5yZWFkKCkudGhlbih0LlhhLmJpbmQodCkpLmNhdGNoKHQua2EuYmluZCh0KSl9TS5YYT1mdW5jdGlvbih0KXtpZih0aGlzLmcpe2lmKHRoaXMudSYmdC52YWx1ZSl0aGlzLnJlc3BvbnNlLnB1c2godC52YWx1ZSk7ZWxzZSBpZighdGhpcy51KXt2YXIgZT10LnZhbHVlP3QudmFsdWU6bmV3IFVpbnQ4QXJyYXkoMCk7KGU9dGhpcy5BLmRlY29kZShlLHtzdHJlYW06IXQuZG9uZX0pKSYmKHRoaXMucmVzcG9uc2U9dGhpcy5yZXNwb25zZVRleHQrPWUpfXQuZG9uZT9hYSh0aGlzKTpibyh0aGlzKSx0aGlzLnJlYWR5U3RhdGU9PTMmJldTKHRoaXMpfX07TS5aYT1mdW5jdGlvbih0KXt0aGlzLmcmJih0aGlzLnJlc3BvbnNlPXRoaXMucmVzcG9uc2VUZXh0PXQsYWEodGhpcykpfTtNLllhPWZ1bmN0aW9uKHQpe3RoaXMuZyYmKHRoaXMucmVzcG9uc2U9dCxhYSh0aGlzKSl9O00ua2E9ZnVuY3Rpb24oKXt0aGlzLmcmJmFhKHRoaXMpfTtmdW5jdGlvbiBhYSh0KXt0LnJlYWR5U3RhdGU9NCx0Lmw9bnVsbCx0Lmo9bnVsbCx0LkE9bnVsbCxibyh0KX1NLnNldFJlcXVlc3RIZWFkZXI9ZnVuY3Rpb24odCxlKXt0aGlzLnYuYXBwZW5kKHQsZSl9O00uZ2V0UmVzcG9uc2VIZWFkZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaCYmdGhpcy5oLmdldCh0LnRvTG93ZXJDYXNlKCkpfHwiIn07TS5nZXRBbGxSZXNwb25zZUhlYWRlcnM9ZnVuY3Rpb24oKXtpZighdGhpcy5oKXJldHVybiIiO2NvbnN0IHQ9W10sZT10aGlzLmguZW50cmllcygpO2Zvcih2YXIgbj1lLm5leHQoKTshbi5kb25lOyluPW4udmFsdWUsdC5wdXNoKG5bMF0rIjogIituWzFdKSxuPWUubmV4dCgpO3JldHVybiB0LmpvaW4oYFxyCmApfTtmdW5jdGlvbiBibyh0KXt0Lm9ucmVhZHlzdGF0ZWNoYW5nZSYmdC5vbnJlYWR5c3RhdGVjaGFuZ2UuY2FsbCh0KX1PYmplY3QuZGVmaW5lUHJvcGVydHkocXUucHJvdG90eXBlLCJ3aXRoQ3JlZGVudGlhbHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tPT09ImluY2x1ZGUifSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5tPXQ/ImluY2x1ZGUiOiJzYW1lLW9yaWdpbiJ9fSk7dmFyIHcyPVEuSlNPTi5wYXJzZTtmdW5jdGlvbiB4ZSh0KXtZZS5jYWxsKHRoaXMpLHRoaXMuaGVhZGVycz1uZXcgTWFwLHRoaXMudT10fHxudWxsLHRoaXMuaD0hMSx0aGlzLkM9dGhpcy5nPW51bGwsdGhpcy5JPSIiLHRoaXMubT0wLHRoaXMuaj0iIix0aGlzLmw9dGhpcy5HPXRoaXMudj10aGlzLkY9ITEsdGhpcy5CPTAsdGhpcy5BPW51bGwsdGhpcy5LPUdTLHRoaXMuTD10aGlzLk09ITF9SmUoeGUsWWUpO3ZhciBHUz0iIixJMj0vXmh0dHBzPyQvaSxUMj1bIlBPU1QiLCJQVVQiXTtNPXhlLnByb3RvdHlwZTtNLk9hPWZ1bmN0aW9uKHQpe3RoaXMuTT10fTtNLmhhPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHRoaXMuZyl0aHJvdyBFcnJvcigiW2dvb2cubmV0LlhocklvXSBPYmplY3QgaXMgYWN0aXZlIHdpdGggYW5vdGhlciByZXF1ZXN0PSIrdGhpcy5JKyI7IG5ld1VyaT0iK3QpO2U9ZT9lLnRvVXBwZXJDYXNlKCk6IkdFVCIsdGhpcy5JPXQsdGhpcy5qPSIiLHRoaXMubT0wLHRoaXMuRj0hMSx0aGlzLmg9ITAsdGhpcy5nPXRoaXMudT90aGlzLnUuZygpOl9kLmcoKSx0aGlzLkM9dGhpcy51P1Z5KHRoaXMudSk6VnkoX2QpLHRoaXMuZy5vbnJlYWR5c3RhdGVjaGFuZ2U9cHQodGhpcy5MYSx0aGlzKTt0cnl7dGhpcy5HPSEwLHRoaXMuZy5vcGVuKGUsU3RyaW5nKHQpLCEwKSx0aGlzLkc9ITF9Y2F0Y2gocyl7ankodGhpcyxzKTtyZXR1cm59aWYodD1ufHwiIixuPW5ldyBNYXAodGhpcy5oZWFkZXJzKSxyKWlmKE9iamVjdC5nZXRQcm90b3R5cGVPZihyKT09PU9iamVjdC5wcm90b3R5cGUpZm9yKHZhciBpIGluIHIpbi5zZXQoaSxyW2ldKTtlbHNlIGlmKHR5cGVvZiByLmtleXM9PSJmdW5jdGlvbiImJnR5cGVvZiByLmdldD09ImZ1bmN0aW9uIilmb3IoY29uc3QgcyBvZiByLmtleXMoKSluLnNldChzLHIuZ2V0KHMpKTtlbHNlIHRocm93IEVycm9yKCJVbmtub3duIGlucHV0IHR5cGUgZm9yIG9wdF9oZWFkZXJzOiAiK1N0cmluZyhyKSk7cj1BcnJheS5mcm9tKG4ua2V5cygpKS5maW5kKHM9PnMudG9Mb3dlckNhc2UoKT09ImNvbnRlbnQtdHlwZSIpLGk9US5Gb3JtRGF0YSYmdCBpbnN0YW5jZW9mIFEuRm9ybURhdGEsISgwPD11UyhUMixlKSl8fHJ8fGl8fG4uc2V0KCJDb250ZW50LVR5cGUiLCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOCIpO2Zvcihjb25zdFtzLG9db2Ygbil0aGlzLmcuc2V0UmVxdWVzdEhlYWRlcihzLG8pO3RoaXMuSyYmKHRoaXMuZy5yZXNwb25zZVR5cGU9dGhpcy5LKSwid2l0aENyZWRlbnRpYWxzImluIHRoaXMuZyYmdGhpcy5nLndpdGhDcmVkZW50aWFscyE9PXRoaXMuTSYmKHRoaXMuZy53aXRoQ3JlZGVudGlhbHM9dGhpcy5NKTt0cnl7WlModGhpcyksMDx0aGlzLkImJigodGhpcy5MPVMyKHRoaXMuZykpPyh0aGlzLmcudGltZW91dD10aGlzLkIsdGhpcy5nLm9udGltZW91dD1wdCh0aGlzLnVhLHRoaXMpKTp0aGlzLkE9VXAodGhpcy51YSx0aGlzLkIsdGhpcykpLHRoaXMudj0hMCx0aGlzLmcuc2VuZCh0KSx0aGlzLnY9ITF9Y2F0Y2gocyl7ankodGhpcyxzKX19O2Z1bmN0aW9uIFMyKHQpe3JldHVybiBXaSYmdHlwZW9mIHQudGltZW91dD09Im51bWJlciImJnQub250aW1lb3V0IT09dm9pZCAwfU0udWE9ZnVuY3Rpb24oKXt0eXBlb2YgYnA8InUiJiZ0aGlzLmcmJih0aGlzLmo9IlRpbWVkIG91dCBhZnRlciAiK3RoaXMuQisibXMsIGFib3J0aW5nIix0aGlzLm09OCxydCh0aGlzLCJ0aW1lb3V0IiksdGhpcy5hYm9ydCg4KSl9O2Z1bmN0aW9uIGp5KHQsZSl7dC5oPSExLHQuZyYmKHQubD0hMCx0LmcuYWJvcnQoKSx0Lmw9ITEpLHQuaj1lLHQubT01LEtTKHQpLHp1KHQpfWZ1bmN0aW9uIEtTKHQpe3QuRnx8KHQuRj0hMCxydCh0LCJjb21wbGV0ZSIpLHJ0KHQsImVycm9yIikpfU0uYWJvcnQ9ZnVuY3Rpb24odCl7dGhpcy5nJiZ0aGlzLmgmJih0aGlzLmg9ITEsdGhpcy5sPSEwLHRoaXMuZy5hYm9ydCgpLHRoaXMubD0hMSx0aGlzLm09dHx8NyxydCh0aGlzLCJjb21wbGV0ZSIpLHJ0KHRoaXMsImFib3J0IiksenUodGhpcykpfTtNLk49ZnVuY3Rpb24oKXt0aGlzLmcmJih0aGlzLmgmJih0aGlzLmg9ITEsdGhpcy5sPSEwLHRoaXMuZy5hYm9ydCgpLHRoaXMubD0hMSksenUodGhpcywhMCkpLHhlLiQuTi5jYWxsKHRoaXMpfTtNLkxhPWZ1bmN0aW9uKCl7dGhpcy5zfHwodGhpcy5HfHx0aGlzLnZ8fHRoaXMubD9RUyh0aGlzKTp0aGlzLmtiKCkpfTtNLmtiPWZ1bmN0aW9uKCl7UVModGhpcyl9O2Z1bmN0aW9uIFFTKHQpe2lmKHQuaCYmdHlwZW9mIGJwPCJ1IiYmKCF0LkNbMV18fGFuKHQpIT00fHx0LmRhKCkhPTIpKXtpZih0LnYmJmFuKHQpPT00KVVwKHQuTGEsMCx0KTtlbHNlIGlmKHJ0KHQsInJlYWR5c3RhdGVjaGFuZ2UiKSxhbih0KT09NCl7dC5oPSExO3RyeXtjb25zdCBvPXQuZGEoKTtlOnN3aXRjaChvKXtjYXNlIDIwMDpjYXNlIDIwMTpjYXNlIDIwMjpjYXNlIDIwNDpjYXNlIDIwNjpjYXNlIDMwNDpjYXNlIDEyMjM6dmFyIGU9ITA7YnJlYWsgZTtkZWZhdWx0OmU9ITF9dmFyIG47aWYoIShuPWUpKXt2YXIgcjtpZihyPW89PT0wKXt2YXIgaT1TdHJpbmcodC5JKS5tYXRjaChWUylbMV18fG51bGw7IWkmJlEuc2VsZiYmUS5zZWxmLmxvY2F0aW9uJiYoaT1RLnNlbGYubG9jYXRpb24ucHJvdG9jb2wuc2xpY2UoMCwtMSkpLHI9IUkyLnRlc3QoaT9pLnRvTG93ZXJDYXNlKCk6IiIpfW49cn1pZihuKXJ0KHQsImNvbXBsZXRlIikscnQodCwic3VjY2VzcyIpO2Vsc2V7dC5tPTY7dHJ5e3ZhciBzPTI8YW4odCk/dC5nLnN0YXR1c1RleHQ6IiJ9Y2F0Y2h7cz0iIn10Lmo9cysiIFsiK3QuZGEoKSsiXSIsS1ModCl9fWZpbmFsbHl7enUodCl9fX19ZnVuY3Rpb24genUodCxlKXtpZih0Lmcpe1pTKHQpO2NvbnN0IG49dC5nLHI9dC5DWzBdPygpPT57fTpudWxsO3QuZz1udWxsLHQuQz1udWxsLGV8fHJ0KHQsInJlYWR5Iik7dHJ5e24ub25yZWFkeXN0YXRlY2hhbmdlPXJ9Y2F0Y2h7fX19ZnVuY3Rpb24gWlModCl7dC5nJiZ0LkwmJih0Lmcub250aW1lb3V0PW51bGwpLHQuQSYmKFEuY2xlYXJUaW1lb3V0KHQuQSksdC5BPW51bGwpfU0uaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuZ307ZnVuY3Rpb24gYW4odCl7cmV0dXJuIHQuZz90LmcucmVhZHlTdGF0ZTowfU0uZGE9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIDI8YW4odGhpcyk/dGhpcy5nLnN0YXR1czotMX1jYXRjaHtyZXR1cm4tMX19O00uamE9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHRoaXMuZz90aGlzLmcucmVzcG9uc2VUZXh0OiIifWNhdGNoe3JldHVybiIifX07TS5XYT1mdW5jdGlvbih0KXtpZih0aGlzLmcpe3ZhciBlPXRoaXMuZy5yZXNwb25zZVRleHQ7cmV0dXJuIHQmJmUuaW5kZXhPZih0KT09MCYmKGU9ZS5zdWJzdHJpbmcodC5sZW5ndGgpKSx3MihlKX19O2Z1bmN0aW9uICR5KHQpe3RyeXtpZighdC5nKXJldHVybiBudWxsO2lmKCJyZXNwb25zZSJpbiB0LmcpcmV0dXJuIHQuZy5yZXNwb25zZTtzd2l0Y2godC5LKXtjYXNlIEdTOmNhc2UidGV4dCI6cmV0dXJuIHQuZy5yZXNwb25zZVRleHQ7Y2FzZSJhcnJheWJ1ZmZlciI6aWYoIm1velJlc3BvbnNlQXJyYXlCdWZmZXIiaW4gdC5nKXJldHVybiB0LmcubW96UmVzcG9uc2VBcnJheUJ1ZmZlcn1yZXR1cm4gbnVsbH1jYXRjaHtyZXR1cm4gbnVsbH19ZnVuY3Rpb24gQzIodCl7Y29uc3QgZT17fTt0PSh0LmcmJjI8PWFuKHQpJiZ0LmcuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCl8fCIiKS5zcGxpdChgXHIKYCk7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2lmKHdvKHRbcl0pKWNvbnRpbnVlO3ZhciBuPVpqKHRbcl0pO2NvbnN0IGk9blswXTtpZihuPW5bMV0sdHlwZW9mIG4hPSJzdHJpbmciKWNvbnRpbnVlO249bi50cmltKCk7Y29uc3Qgcz1lW2ldfHxbXTtlW2ldPXMscy5wdXNoKG4pfUhqKGUsZnVuY3Rpb24ocil7cmV0dXJuIHIuam9pbigiLCAiKX0pfU0uSWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtNLlNhPWZ1bmN0aW9uKCl7cmV0dXJuIHR5cGVvZiB0aGlzLmo9PSJzdHJpbmciP3RoaXMuajpTdHJpbmcodGhpcy5qKX07ZnVuY3Rpb24gWFModCl7bGV0IGU9IiI7cmV0dXJuIE1wKHQsZnVuY3Rpb24obixyKXtlKz1yLGUrPSI6IixlKz1uLGUrPWBccgpgfSksZX1mdW5jdGlvbiB6cCh0LGUsbil7ZTp7Zm9yKHIgaW4gbil7dmFyIHI9ITE7YnJlYWsgZX1yPSEwfXJ8fChuPVhTKG4pLHR5cGVvZiB0PT0ic3RyaW5nIj9uIT1udWxsJiZlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKG4pKTpSZSh0LGUsbikpfWZ1bmN0aW9uIHZzKHQsZSxuKXtyZXR1cm4gbiYmbi5pbnRlcm5hbENoYW5uZWxQYXJhbXMmJm4uaW50ZXJuYWxDaGFubmVsUGFyYW1zW3RdfHxlfWZ1bmN0aW9uIFlTKHQpe3RoaXMuR2E9MCx0aGlzLmo9W10sdGhpcy5sPW5ldyBWdSx0aGlzLnBhPXRoaXMud2E9dGhpcy5JPXRoaXMuWT10aGlzLmc9dGhpcy5EYT10aGlzLkY9dGhpcy5uYT10aGlzLm89dGhpcy5VPXRoaXMucz1udWxsLHRoaXMuZmI9dGhpcy5XPTAsdGhpcy5jYj12cygiZmFpbEZhc3QiLCExLHQpLHRoaXMuRz10aGlzLnY9dGhpcy51PXRoaXMubT10aGlzLmg9bnVsbCx0aGlzLmFhPSEwLHRoaXMuRmE9dGhpcy5WPS0xLHRoaXMuYmE9dGhpcy5BPXRoaXMuQz0wLHRoaXMuYWI9dnMoImJhc2VSZXRyeURlbGF5TXMiLDVlMyx0KSx0aGlzLmhiPXZzKCJyZXRyeURlbGF5U2VlZE1zIiwxZTQsdCksdGhpcy5lYj12cygiZm9yd2FyZENoYW5uZWxNYXhSZXRyaWVzIiwyLHQpLHRoaXMueGE9dnMoImZvcndhcmRDaGFubmVsUmVxdWVzdFRpbWVvdXRNcyIsMmU0LHQpLHRoaXMudmE9dCYmdC54bWxIdHRwRmFjdG9yeXx8dm9pZCAwLHRoaXMuSGE9dCYmdC51c2VGZXRjaFN0cmVhbXN8fCExLHRoaXMuTD12b2lkIDAsdGhpcy5KPXQmJnQuc3VwcG9ydHNDcm9zc0RvbWFpblhocnx8ITEsdGhpcy5LPSIiLHRoaXMuaT1uZXcgJFModCYmdC5jb25jdXJyZW50UmVxdWVzdExpbWl0KSx0aGlzLkphPW5ldyB2Mix0aGlzLlA9dCYmdC5mYXN0SGFuZHNoYWtlfHwhMSx0aGlzLk89dCYmdC5lbmNvZGVJbml0TWVzc2FnZUhlYWRlcnN8fCExLHRoaXMuUCYmdGhpcy5PJiYodGhpcy5PPSExKSx0aGlzLmJiPXQmJnQuYmN8fCExLHQmJnQuRWEmJnRoaXMubC5FYSgpLHQmJnQuZm9yY2VMb25nUG9sbGluZyYmKHRoaXMuYWE9ITEpLHRoaXMuY2E9IXRoaXMuUCYmdGhpcy5hYSYmdCYmdC5kZXRlY3RCdWZmZXJpbmdQcm94eXx8ITEsdGhpcy5xYT12b2lkIDAsdCYmdC5sb25nUG9sbGluZ1RpbWVvdXQmJjA8dC5sb25nUG9sbGluZ1RpbWVvdXQmJih0aGlzLnFhPXQubG9uZ1BvbGxpbmdUaW1lb3V0KSx0aGlzLm9hPXZvaWQgMCx0aGlzLlM9MCx0aGlzLk09ITEsdGhpcy5tYT10aGlzLkI9bnVsbH1NPVlTLnByb3RvdHlwZTtNLnJhPTg7TS5IPTE7ZnVuY3Rpb24gV3AodCl7aWYoSlModCksdC5IPT0zKXt2YXIgZT10LlcrKyxuPUJuKHQuSSk7aWYoUmUobiwiU0lEIix0LkspLFJlKG4sIlJJRCIsZSksUmUobiwiVFlQRSIsInRlcm1pbmF0ZSIpLGNhKHQsbiksZT1uZXcgc2EodCx0LmwsZSksZS5MPTIsZS5BPUJ1KEJuKG4pKSxuPSExLFEubmF2aWdhdG9yJiZRLm5hdmlnYXRvci5zZW5kQmVhY29uKXRyeXtuPVEubmF2aWdhdG9yLnNlbmRCZWFjb24oZS5BLnRvU3RyaW5nKCksIiIpfWNhdGNoe30hbiYmUS5JbWFnZSYmKG5ldyBJbWFnZSgpLnNyYz1lLkEsbj0hMCksbnx8KGUuZz1hQyhlLmwsbnVsbCksZS5nLmhhKGUuQSkpLGUuRz1EYXRlLm5vdygpLG9hKGUpfXNDKHQpfWZ1bmN0aW9uIFd1KHQpe3QuZyYmKEtwKHQpLHQuZy5jYW5jZWwoKSx0Lmc9bnVsbCl9ZnVuY3Rpb24gSlModCl7V3UodCksdC51JiYoUS5jbGVhclRpbWVvdXQodC51KSx0LnU9bnVsbCksVmModCksdC5pLmNhbmNlbCgpLHQubSYmKHR5cGVvZiB0Lm09PSJudW1iZXIiJiZRLmNsZWFyVGltZW91dCh0Lm0pLHQubT1udWxsKX1mdW5jdGlvbiBHdSh0KXtpZighQlModC5pKSYmIXQubSl7dC5tPSEwO3ZhciBlPXQuTmE7VG98fHdTKCksU298fChUbygpLFNvPSEwKSxWcC5hZGQoZSx0KSx0LkM9MH19ZnVuY3Rpb24gQTIodCxlKXtyZXR1cm4gSFModC5pKT49dC5pLmotKHQubT8xOjApPyExOnQubT8odC5qPWUuRi5jb25jYXQodC5qKSwhMCk6dC5IPT0xfHx0Lkg9PTJ8fHQuQz49KHQuY2I/MDp0LmViKT8hMToodC5tPXJhKHB0KHQuTmEsdCxlKSxpQyh0LHQuQykpLHQuQysrLCEwKX1NLk5hPWZ1bmN0aW9uKHQpe2lmKHRoaXMubSlpZih0aGlzLm09bnVsbCx0aGlzLkg9PTEpe2lmKCF0KXt0aGlzLlc9TWF0aC5mbG9vcigxZTUqTWF0aC5yYW5kb20oKSksdD10aGlzLlcrKztjb25zdCBpPW5ldyBzYSh0aGlzLHRoaXMubCx0KTtsZXQgcz10aGlzLnM7aWYodGhpcy5VJiYocz8ocz1mUyhzKSxwUyhzLHRoaXMuVSkpOnM9dGhpcy5VKSx0aGlzLm8hPT1udWxsfHx0aGlzLk98fChpLkk9cyxzPW51bGwpLHRoaXMuUCllOntmb3IodmFyIGU9MCxuPTA7bjx0aGlzLmoubGVuZ3RoO24rKyl7dDp7dmFyIHI9dGhpcy5qW25dO2lmKCJfX2RhdGFfXyJpbiByLm1hcCYmKHI9ci5tYXAuX19kYXRhX18sdHlwZW9mIHI9PSJzdHJpbmciKSl7cj1yLmxlbmd0aDticmVhayB0fXI9dm9pZCAwfWlmKHI9PT12b2lkIDApYnJlYWs7aWYoZSs9ciw0MDk2PGUpe2U9bjticmVhayBlfWlmKGU9PT00MDk2fHxuPT09dGhpcy5qLmxlbmd0aC0xKXtlPW4rMTticmVhayBlfX1lPTFlM31lbHNlIGU9MWUzO2U9ZUModGhpcyxpLGUpLG49Qm4odGhpcy5JKSxSZShuLCJSSUQiLHQpLFJlKG4sIkNWRVIiLDIyKSx0aGlzLkYmJlJlKG4sIlgtSFRUUC1TZXNzaW9uLUlkIix0aGlzLkYpLGNhKHRoaXMsbikscyYmKHRoaXMuTz9lPSJoZWFkZXJzPSIrZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhYUyhzKSkpKyImIitlOnRoaXMubyYmenAobix0aGlzLm8scykpLEhwKHRoaXMuaSxpKSx0aGlzLmJiJiZSZShuLCJUWVBFIiwiaW5pdCIpLHRoaXMuUD8oUmUobiwiJHJlcSIsZSksUmUobiwiU0lEIiwibnVsbCIpLGkuYWE9ITAsd2QoaSxuLG51bGwpKTp3ZChpLG4sZSksdGhpcy5IPTJ9fWVsc2UgdGhpcy5IPT0zJiYodD9CeSh0aGlzLHQpOnRoaXMuai5sZW5ndGg9PTB8fEJTKHRoaXMuaSl8fEJ5KHRoaXMpKX07ZnVuY3Rpb24gQnkodCxlKXt2YXIgbjtlP249ZS5tOm49dC5XKys7Y29uc3Qgcj1Cbih0LkkpO1JlKHIsIlNJRCIsdC5LKSxSZShyLCJSSUQiLG4pLFJlKHIsIkFJRCIsdC5WKSxjYSh0LHIpLHQubyYmdC5zJiZ6cChyLHQubyx0LnMpLG49bmV3IHNhKHQsdC5sLG4sdC5DKzEpLHQubz09PW51bGwmJihuLkk9dC5zKSxlJiYodC5qPWUuRi5jb25jYXQodC5qKSksZT1lQyh0LG4sMWUzKSxuLnNldFRpbWVvdXQoTWF0aC5yb3VuZCguNSp0LnhhKStNYXRoLnJvdW5kKC41KnQueGEqTWF0aC5yYW5kb20oKSkpLEhwKHQuaSxuKSx3ZChuLHIsZSl9ZnVuY3Rpb24gY2EodCxlKXt0Lm5hJiZNcCh0Lm5hLGZ1bmN0aW9uKG4scil7UmUoZSxyLG4pfSksdC5oJiZMUyh7fSxmdW5jdGlvbihuLHIpe1JlKGUscixuKX0pfWZ1bmN0aW9uIGVDKHQsZSxuKXtuPU1hdGgubWluKHQuai5sZW5ndGgsbik7dmFyIHI9dC5oP3B0KHQuaC5WYSx0LmgsdCk6bnVsbDtlOnt2YXIgaT10Lmo7bGV0IHM9LTE7Zm9yKDs7KXtjb25zdCBvPVsiY291bnQ9IituXTtzPT0tMT8wPG4/KHM9aVswXS5nLG8ucHVzaCgib2ZzPSIrcykpOnM9MDpvLnB1c2goIm9mcz0iK3MpO2xldCBhPSEwO2ZvcihsZXQgYz0wO2M8bjtjKyspe2xldCB1PWlbY10uZztjb25zdCBsPWlbY10ubWFwO2lmKHUtPXMsMD51KXM9TWF0aC5tYXgoMCxpW2NdLmctMTAwKSxhPSExO2Vsc2UgdHJ5e18yKGwsbywicmVxIit1KyJfIil9Y2F0Y2h7ciYmcihsKX19aWYoYSl7cj1vLmpvaW4oIiYiKTticmVhayBlfX19cmV0dXJuIHQ9dC5qLnNwbGljZSgwLG4pLGUuRj10LHJ9ZnVuY3Rpb24gdEModCl7aWYoIXQuZyYmIXQudSl7dC5iYT0xO3ZhciBlPXQuTWE7VG98fHdTKCksU298fChUbygpLFNvPSEwKSxWcC5hZGQoZSx0KSx0LkE9MH19ZnVuY3Rpb24gR3AodCl7cmV0dXJuIHQuZ3x8dC51fHwzPD10LkE/ITE6KHQuYmErKyx0LnU9cmEocHQodC5NYSx0KSxpQyh0LHQuQSkpLHQuQSsrLCEwKX1NLk1hPWZ1bmN0aW9uKCl7aWYodGhpcy51PW51bGwsbkModGhpcyksdGhpcy5jYSYmISh0aGlzLk18fHRoaXMuZz09bnVsbHx8MD49dGhpcy5TKSl7dmFyIHQ9Mip0aGlzLlM7dGhpcy5sLmluZm8oIkJQIGRldGVjdGlvbiB0aW1lciBlbmFibGVkOiAiK3QpLHRoaXMuQj1yYShwdCh0aGlzLmpiLHRoaXMpLHQpfX07TS5qYj1mdW5jdGlvbigpe3RoaXMuQiYmKHRoaXMuQj1udWxsLHRoaXMubC5pbmZvKCJCUCBkZXRlY3Rpb24gdGltZW91dCByZWFjaGVkLiIpLHRoaXMubC5pbmZvKCJCdWZmZXJpbmcgcHJveHkgZGV0ZWN0ZWQgYW5kIHN3aXRjaCB0byBsb25nLXBvbGxpbmchIiksdGhpcy5HPSExLHRoaXMuTT0hMCxFdCgxMCksV3UodGhpcyksbkModGhpcykpfTtmdW5jdGlvbiBLcCh0KXt0LkIhPW51bGwmJihRLmNsZWFyVGltZW91dCh0LkIpLHQuQj1udWxsKX1mdW5jdGlvbiBuQyh0KXt0Lmc9bmV3IHNhKHQsdC5sLCJycGMiLHQuYmEpLHQubz09PW51bGwmJih0LmcuST10LnMpLHQuZy5PPTA7dmFyIGU9Qm4odC53YSk7UmUoZSwiUklEIiwicnBjIiksUmUoZSwiU0lEIix0LkspLFJlKGUsIkFJRCIsdC5WKSxSZShlLCJDSSIsdC5HPyIwIjoiMSIpLCF0LkcmJnQucWEmJlJlKGUsIlRPIix0LnFhKSxSZShlLCJUWVBFIiwieG1saHR0cCIpLGNhKHQsZSksdC5vJiZ0LnMmJnpwKGUsdC5vLHQucyksdC5MJiZ0Lmcuc2V0VGltZW91dCh0LkwpO3ZhciBuPXQuZzt0PXQucGEsbi5MPTEsbi5BPUJ1KEJuKGUpKSxuLnU9bnVsbCxuLlM9ITAsTlMobix0KX1NLmliPWZ1bmN0aW9uKCl7dGhpcy52IT1udWxsJiYodGhpcy52PW51bGwsV3UodGhpcyksR3AodGhpcyksRXQoMTkpKX07ZnVuY3Rpb24gVmModCl7dC52IT1udWxsJiYoUS5jbGVhclRpbWVvdXQodC52KSx0LnY9bnVsbCl9ZnVuY3Rpb24gckModCxlKXt2YXIgbj1udWxsO2lmKHQuZz09ZSl7VmModCksS3AodCksdC5nPW51bGw7dmFyIHI9Mn1lbHNlIGlmKFRkKHQuaSxlKSluPWUuRixxUyh0LmksZSkscj0xO2Vsc2UgcmV0dXJuO2lmKHQuSCE9MCl7aWYoZS5pKWlmKHI9PTEpe249ZS51P2UudS5sZW5ndGg6MCxlPURhdGUubm93KCktZS5HO3ZhciBpPXQuQztyPUZ1KCkscnQocixuZXcgUlMocixuKSksR3UodCl9ZWxzZSB0Qyh0KTtlbHNlIGlmKGk9ZS5zLGk9PTN8fGk9PTAmJjA8ZS5jYXx8IShyPT0xJiZBMih0LGUpfHxyPT0yJiZHcCh0KSkpc3dpdGNoKG4mJjA8bi5sZW5ndGgmJihlPXQuaSxlLmk9ZS5pLmNvbmNhdChuKSksaSl7Y2FzZSAxOlByKHQsNSk7YnJlYWs7Y2FzZSA0OlByKHQsMTApO2JyZWFrO2Nhc2UgMzpQcih0LDYpO2JyZWFrO2RlZmF1bHQ6UHIodCwyKX19fWZ1bmN0aW9uIGlDKHQsZSl7bGV0IG49dC5hYitNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdC5oYik7cmV0dXJuIHQuaXNBY3RpdmUoKXx8KG4qPTIpLG4qZX1mdW5jdGlvbiBQcih0LGUpe2lmKHQubC5pbmZvKCJFcnJvciBjb2RlICIrZSksZT09Mil7dmFyIG49bnVsbDt0LmgmJihuPW51bGwpO3ZhciByPXB0KHQucGIsdCk7bnx8KG49bmV3IHhyKCIvL3d3dy5nb29nbGUuY29tL2ltYWdlcy9jbGVhcmRvdC5naWYiKSxRLmxvY2F0aW9uJiZRLmxvY2F0aW9uLnByb3RvY29sPT0iaHR0cCJ8fHhjKG4sImh0dHBzIiksQnUobikpLEUyKG4udG9TdHJpbmcoKSxyKX1lbHNlIEV0KDIpO3QuSD0wLHQuaCYmdC5oLnphKGUpLHNDKHQpLEpTKHQpfU0ucGI9ZnVuY3Rpb24odCl7dD8odGhpcy5sLmluZm8oIlN1Y2Nlc3NmdWxseSBwaW5nZWQgZ29vZ2xlLmNvbSIpLEV0KDIpKToodGhpcy5sLmluZm8oIkZhaWxlZCB0byBwaW5nIGdvb2dsZS5jb20iKSxFdCgxKSl9O2Z1bmN0aW9uIHNDKHQpe2lmKHQuSD0wLHQubWE9W10sdC5oKXtjb25zdCBlPXpTKHQuaSk7KGUubGVuZ3RoIT0wfHx0LmoubGVuZ3RoIT0wKSYmKE55KHQubWEsZSksTnkodC5tYSx0LmopLHQuaS5pLmxlbmd0aD0wLERwKHQuaiksdC5qLmxlbmd0aD0wKSx0LmgueWEoKX19ZnVuY3Rpb24gb0ModCxlLG4pe3ZhciByPW4gaW5zdGFuY2VvZiB4cj9CbihuKTpuZXcgeHIobik7aWYoci5nIT0iIillJiYoci5nPWUrIi4iK3IuZyksTGMocixyLm0pO2Vsc2V7dmFyIGk9US5sb2NhdGlvbjtyPWkucHJvdG9jb2wsZT1lP2UrIi4iK2kuaG9zdG5hbWU6aS5ob3N0bmFtZSxpPStpLnBvcnQ7dmFyIHM9bmV3IHhyKG51bGwpO3ImJnhjKHMsciksZSYmKHMuZz1lKSxpJiZMYyhzLGkpLG4mJihzLmw9bikscj1zfXJldHVybiBuPXQuRixlPXQuRGEsbiYmZSYmUmUocixuLGUpLFJlKHIsIlZFUiIsdC5yYSksY2EodCxyKSxyfWZ1bmN0aW9uIGFDKHQsZSxuKXtpZihlJiYhdC5KKXRocm93IEVycm9yKCJDYW4ndCBjcmVhdGUgc2Vjb25kYXJ5IGRvbWFpbiBjYXBhYmxlIFhocklvIG9iamVjdC4iKTtyZXR1cm4gZT10LkhhJiYhdC52YT9uZXcgeGUobmV3IEh1KHtvYjpufSkpOm5ldyB4ZSh0LnZhKSxlLk9hKHQuSiksZX1NLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmgmJnRoaXMuaC5pc0FjdGl2ZSh0aGlzKX07ZnVuY3Rpb24gY0MoKXt9TT1jQy5wcm90b3R5cGU7TS5CYT1mdW5jdGlvbigpe307TS5BYT1mdW5jdGlvbigpe307TS56YT1mdW5jdGlvbigpe307TS55YT1mdW5jdGlvbigpe307TS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiEwfTtNLlZhPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiBGYygpe2lmKFdpJiYhKDEwPD1OdW1iZXIoVWopKSl0aHJvdyBFcnJvcigiRW52aXJvbm1lbnRhbCBlcnJvcjogbm8gYXZhaWxhYmxlIHRyYW5zcG9ydC4iKX1GYy5wcm90b3R5cGUuZz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgT3QodCxlKX07ZnVuY3Rpb24gT3QodCxlKXtZZS5jYWxsKHRoaXMpLHRoaXMuZz1uZXcgWVMoZSksdGhpcy5sPXQsdGhpcy5oPWUmJmUubWVzc2FnZVVybFBhcmFtc3x8bnVsbCx0PWUmJmUubWVzc2FnZUhlYWRlcnN8fG51bGwsZSYmZS5jbGllbnRQcm90b2NvbEhlYWRlclJlcXVpcmVkJiYodD90WyJYLUNsaWVudC1Qcm90b2NvbCJdPSJ3ZWJjaGFubmVsIjp0PXsiWC1DbGllbnQtUHJvdG9jb2wiOiJ3ZWJjaGFubmVsIn0pLHRoaXMuZy5zPXQsdD1lJiZlLmluaXRNZXNzYWdlSGVhZGVyc3x8bnVsbCxlJiZlLm1lc3NhZ2VDb250ZW50VHlwZSYmKHQ/dFsiWC1XZWJDaGFubmVsLUNvbnRlbnQtVHlwZSJdPWUubWVzc2FnZUNvbnRlbnRUeXBlOnQ9eyJYLVdlYkNoYW5uZWwtQ29udGVudC1UeXBlIjplLm1lc3NhZ2VDb250ZW50VHlwZX0pLGUmJmUuQ2EmJih0P3RbIlgtV2ViQ2hhbm5lbC1DbGllbnQtUHJvZmlsZSJdPWUuQ2E6dD17IlgtV2ViQ2hhbm5lbC1DbGllbnQtUHJvZmlsZSI6ZS5DYX0pLHRoaXMuZy5VPXQsKHQ9ZSYmZS5jYykmJiF3byh0KSYmKHRoaXMuZy5vPXQpLHRoaXMuQT1lJiZlLnN1cHBvcnRzQ3Jvc3NEb21haW5YaHJ8fCExLHRoaXMudj1lJiZlLnNlbmRSYXdKc29ufHwhMSwoZT1lJiZlLmh0dHBTZXNzaW9uSWRQYXJhbSkmJiF3byhlKSYmKHRoaXMuZy5GPWUsdD10aGlzLmgsdCE9PW51bGwmJmUgaW4gdCYmKHQ9dGhpcy5oLGUgaW4gdCYmZGVsZXRlIHRbZV0pKSx0aGlzLmo9bmV3IGhzKHRoaXMpfUplKE90LFllKTtPdC5wcm90b3R5cGUubT1mdW5jdGlvbigpe3RoaXMuZy5oPXRoaXMuaix0aGlzLkEmJih0aGlzLmcuSj0hMCk7dmFyIHQ9dGhpcy5nLGU9dGhpcy5sLG49dGhpcy5ofHx2b2lkIDA7RXQoMCksdC5ZPWUsdC5uYT1ufHx7fSx0Lkc9dC5hYSx0Lkk9b0ModCxudWxsLHQuWSksR3UodCl9O090LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe1dwKHRoaXMuZyl9O090LnByb3RvdHlwZS51PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZztpZih0eXBlb2YgdD09InN0cmluZyIpe3ZhciBuPXt9O24uX19kYXRhX189dCx0PW59ZWxzZSB0aGlzLnYmJihuPXt9LG4uX19kYXRhX189THAodCksdD1uKTtlLmoucHVzaChuZXcgZzIoZS5mYisrLHQpKSxlLkg9PTMmJkd1KGUpfTtPdC5wcm90b3R5cGUuTj1mdW5jdGlvbigpe3RoaXMuZy5oPW51bGwsZGVsZXRlIHRoaXMuaixXcCh0aGlzLmcpLGRlbGV0ZSB0aGlzLmcsT3QuJC5OLmNhbGwodGhpcyl9O2Z1bmN0aW9uIHVDKHQpeyRwLmNhbGwodGhpcyksdC5fX2hlYWRlcnNfXyYmKHRoaXMuaGVhZGVycz10Ll9faGVhZGVyc19fLHRoaXMuc3RhdHVzQ29kZT10Ll9fc3RhdHVzX18sZGVsZXRlIHQuX19oZWFkZXJzX18sZGVsZXRlIHQuX19zdGF0dXNfXyk7dmFyIGU9dC5fX3NtX187aWYoZSl7ZTp7Zm9yKGNvbnN0IG4gaW4gZSl7dD1uO2JyZWFrIGV9dD12b2lkIDB9KHRoaXMuaT10KSYmKHQ9dGhpcy5pLGU9ZSE9PW51bGwmJnQgaW4gZT9lW3RdOnZvaWQgMCksdGhpcy5kYXRhPWV9ZWxzZSB0aGlzLmRhdGE9dH1KZSh1QywkcCk7ZnVuY3Rpb24gbEMoKXtCcC5jYWxsKHRoaXMpLHRoaXMuc3RhdHVzPTF9SmUobEMsQnApO2Z1bmN0aW9uIGhzKHQpe3RoaXMuZz10fUplKGhzLGNDKTtocy5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXtydCh0aGlzLmcsImEiKX07aHMucHJvdG90eXBlLkFhPWZ1bmN0aW9uKHQpe3J0KHRoaXMuZyxuZXcgdUModCkpfTtocy5wcm90b3R5cGUuemE9ZnVuY3Rpb24odCl7cnQodGhpcy5nLG5ldyBsQyl9O2hzLnByb3RvdHlwZS55YT1mdW5jdGlvbigpe3J0KHRoaXMuZywiYiIpfTtmdW5jdGlvbiBSMigpe3RoaXMuYmxvY2tTaXplPS0xfWZ1bmN0aW9uIFh0KCl7dGhpcy5ibG9ja1NpemU9LTEsdGhpcy5ibG9ja1NpemU9NjQsdGhpcy5nPUFycmF5KDQpLHRoaXMubT1BcnJheSh0aGlzLmJsb2NrU2l6ZSksdGhpcy5pPXRoaXMuaD0wLHRoaXMucmVzZXQoKX1KZShYdCxSMik7WHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5nWzBdPTE3MzI1ODQxOTMsdGhpcy5nWzFdPTQwMjMyMzM0MTcsdGhpcy5nWzJdPTI1NjIzODMxMDIsdGhpcy5nWzNdPTI3MTczMzg3OCx0aGlzLmk9dGhpcy5oPTB9O2Z1bmN0aW9uIHRoKHQsZSxuKXtufHwobj0wKTt2YXIgcj1BcnJheSgxNik7aWYodHlwZW9mIGU9PSJzdHJpbmciKWZvcih2YXIgaT0wOzE2Pmk7KytpKXJbaV09ZS5jaGFyQ29kZUF0KG4rKyl8ZS5jaGFyQ29kZUF0KG4rKyk8PDh8ZS5jaGFyQ29kZUF0KG4rKyk8PDE2fGUuY2hhckNvZGVBdChuKyspPDwyNDtlbHNlIGZvcihpPTA7MTY+aTsrK2kpcltpXT1lW24rK118ZVtuKytdPDw4fGVbbisrXTw8MTZ8ZVtuKytdPDwyNDtlPXQuZ1swXSxuPXQuZ1sxXSxpPXQuZ1syXTt2YXIgcz10LmdbM10sbz1lKyhzXm4mKGlecykpK3JbMF0rMzYxNDA5MDM2MCY0Mjk0OTY3Mjk1O2U9bisobzw8NyY0Mjk0OTY3Mjk1fG8+Pj4yNSksbz1zKyhpXmUmKG5eaSkpK3JbMV0rMzkwNTQwMjcxMCY0Mjk0OTY3Mjk1LHM9ZSsobzw8MTImNDI5NDk2NzI5NXxvPj4+MjApLG89aSsobl5zJihlXm4pKStyWzJdKzYwNjEwNTgxOSY0Mjk0OTY3Mjk1LGk9cysobzw8MTcmNDI5NDk2NzI5NXxvPj4+MTUpLG89bisoZV5pJihzXmUpKStyWzNdKzMyNTA0NDE5NjYmNDI5NDk2NzI5NSxuPWkrKG88PDIyJjQyOTQ5NjcyOTV8bz4+PjEwKSxvPWUrKHNebiYoaV5zKSkrcls0XSs0MTE4NTQ4Mzk5JjQyOTQ5NjcyOTUsZT1uKyhvPDw3JjQyOTQ5NjcyOTV8bz4+PjI1KSxvPXMrKGleZSYobl5pKSkrcls1XSsxMjAwMDgwNDI2JjQyOTQ5NjcyOTUscz1lKyhvPDwxMiY0Mjk0OTY3Mjk1fG8+Pj4yMCksbz1pKyhuXnMmKGVebikpK3JbNl0rMjgyMTczNTk1NSY0Mjk0OTY3Mjk1LGk9cysobzw8MTcmNDI5NDk2NzI5NXxvPj4+MTUpLG89bisoZV5pJihzXmUpKStyWzddKzQyNDkyNjEzMTMmNDI5NDk2NzI5NSxuPWkrKG88PDIyJjQyOTQ5NjcyOTV8bz4+PjEwKSxvPWUrKHNebiYoaV5zKSkrcls4XSsxNzcwMDM1NDE2JjQyOTQ5NjcyOTUsZT1uKyhvPDw3JjQyOTQ5NjcyOTV8bz4+PjI1KSxvPXMrKGleZSYobl5pKSkrcls5XSsyMzM2NTUyODc5JjQyOTQ5NjcyOTUscz1lKyhvPDwxMiY0Mjk0OTY3Mjk1fG8+Pj4yMCksbz1pKyhuXnMmKGVebikpK3JbMTBdKzQyOTQ5MjUyMzMmNDI5NDk2NzI5NSxpPXMrKG88PDE3JjQyOTQ5NjcyOTV8bz4+PjE1KSxvPW4rKGVeaSYoc15lKSkrclsxMV0rMjMwNDU2MzEzNCY0Mjk0OTY3Mjk1LG49aSsobzw8MjImNDI5NDk2NzI5NXxvPj4+MTApLG89ZSsoc15uJihpXnMpKStyWzEyXSsxODA0NjAzNjgyJjQyOTQ5NjcyOTUsZT1uKyhvPDw3JjQyOTQ5NjcyOTV8bz4+PjI1KSxvPXMrKGleZSYobl5pKSkrclsxM10rNDI1NDYyNjE5NSY0Mjk0OTY3Mjk1LHM9ZSsobzw8MTImNDI5NDk2NzI5NXxvPj4+MjApLG89aSsobl5zJihlXm4pKStyWzE0XSsyNzkyOTY1MDA2JjQyOTQ5NjcyOTUsaT1zKyhvPDwxNyY0Mjk0OTY3Mjk1fG8+Pj4xNSksbz1uKyhlXmkmKHNeZSkpK3JbMTVdKzEyMzY1MzUzMjkmNDI5NDk2NzI5NSxuPWkrKG88PDIyJjQyOTQ5NjcyOTV8bz4+PjEwKSxvPWUrKGlecyYobl5pKSkrclsxXSs0MTI5MTcwNzg2JjQyOTQ5NjcyOTUsZT1uKyhvPDw1JjQyOTQ5NjcyOTV8bz4+PjI3KSxvPXMrKG5eaSYoZV5uKSkrcls2XSszMjI1NDY1NjY0JjQyOTQ5NjcyOTUscz1lKyhvPDw5JjQyOTQ5NjcyOTV8bz4+PjIzKSxvPWkrKGVebiYoc15lKSkrclsxMV0rNjQzNzE3NzEzJjQyOTQ5NjcyOTUsaT1zKyhvPDwxNCY0Mjk0OTY3Mjk1fG8+Pj4xOCksbz1uKyhzXmUmKGlecykpK3JbMF0rMzkyMTA2OTk5NCY0Mjk0OTY3Mjk1LG49aSsobzw8MjAmNDI5NDk2NzI5NXxvPj4+MTIpLG89ZSsoaV5zJihuXmkpKStyWzVdKzM1OTM0MDg2MDUmNDI5NDk2NzI5NSxlPW4rKG88PDUmNDI5NDk2NzI5NXxvPj4+MjcpLG89cysobl5pJihlXm4pKStyWzEwXSszODAxNjA4MyY0Mjk0OTY3Mjk1LHM9ZSsobzw8OSY0Mjk0OTY3Mjk1fG8+Pj4yMyksbz1pKyhlXm4mKHNeZSkpK3JbMTVdKzM2MzQ0ODg5NjEmNDI5NDk2NzI5NSxpPXMrKG88PDE0JjQyOTQ5NjcyOTV8bz4+PjE4KSxvPW4rKHNeZSYoaV5zKSkrcls0XSszODg5NDI5NDQ4JjQyOTQ5NjcyOTUsbj1pKyhvPDwyMCY0Mjk0OTY3Mjk1fG8+Pj4xMiksbz1lKyhpXnMmKG5eaSkpK3JbOV0rNTY4NDQ2NDM4JjQyOTQ5NjcyOTUsZT1uKyhvPDw1JjQyOTQ5NjcyOTV8bz4+PjI3KSxvPXMrKG5eaSYoZV5uKSkrclsxNF0rMzI3NTE2MzYwNiY0Mjk0OTY3Mjk1LHM9ZSsobzw8OSY0Mjk0OTY3Mjk1fG8+Pj4yMyksbz1pKyhlXm4mKHNeZSkpK3JbM10rNDEwNzYwMzMzNSY0Mjk0OTY3Mjk1LGk9cysobzw8MTQmNDI5NDk2NzI5NXxvPj4+MTgpLG89bisoc15lJihpXnMpKStyWzhdKzExNjM1MzE1MDEmNDI5NDk2NzI5NSxuPWkrKG88PDIwJjQyOTQ5NjcyOTV8bz4+PjEyKSxvPWUrKGlecyYobl5pKSkrclsxM10rMjg1MDI4NTgyOSY0Mjk0OTY3Mjk1LGU9bisobzw8NSY0Mjk0OTY3Mjk1fG8+Pj4yNyksbz1zKyhuXmkmKGVebikpK3JbMl0rNDI0MzU2MzUxMiY0Mjk0OTY3Mjk1LHM9ZSsobzw8OSY0Mjk0OTY3Mjk1fG8+Pj4yMyksbz1pKyhlXm4mKHNeZSkpK3JbN10rMTczNTMyODQ3MyY0Mjk0OTY3Mjk1LGk9cysobzw8MTQmNDI5NDk2NzI5NXxvPj4+MTgpLG89bisoc15lJihpXnMpKStyWzEyXSsyMzY4MzU5NTYyJjQyOTQ5NjcyOTUsbj1pKyhvPDwyMCY0Mjk0OTY3Mjk1fG8+Pj4xMiksbz1lKyhuXmlecykrcls1XSs0Mjk0NTg4NzM4JjQyOTQ5NjcyOTUsZT1uKyhvPDw0JjQyOTQ5NjcyOTV8bz4+PjI4KSxvPXMrKGVebl5pKStyWzhdKzIyNzIzOTI4MzMmNDI5NDk2NzI5NSxzPWUrKG88PDExJjQyOTQ5NjcyOTV8bz4+PjIxKSxvPWkrKHNeZV5uKStyWzExXSsxODM5MDMwNTYyJjQyOTQ5NjcyOTUsaT1zKyhvPDwxNiY0Mjk0OTY3Mjk1fG8+Pj4xNiksbz1uKyhpXnNeZSkrclsxNF0rNDI1OTY1Nzc0MCY0Mjk0OTY3Mjk1LG49aSsobzw8MjMmNDI5NDk2NzI5NXxvPj4+OSksbz1lKyhuXmlecykrclsxXSsyNzYzOTc1MjM2JjQyOTQ5NjcyOTUsZT1uKyhvPDw0JjQyOTQ5NjcyOTV8bz4+PjI4KSxvPXMrKGVebl5pKStyWzRdKzEyNzI4OTMzNTMmNDI5NDk2NzI5NSxzPWUrKG88PDExJjQyOTQ5NjcyOTV8bz4+PjIxKSxvPWkrKHNeZV5uKStyWzddKzQxMzk0Njk2NjQmNDI5NDk2NzI5NSxpPXMrKG88PDE2JjQyOTQ5NjcyOTV8bz4+PjE2KSxvPW4rKGlec15lKStyWzEwXSszMjAwMjM2NjU2JjQyOTQ5NjcyOTUsbj1pKyhvPDwyMyY0Mjk0OTY3Mjk1fG8+Pj45KSxvPWUrKG5eaV5zKStyWzEzXSs2ODEyNzkxNzQmNDI5NDk2NzI5NSxlPW4rKG88PDQmNDI5NDk2NzI5NXxvPj4+MjgpLG89cysoZV5uXmkpK3JbMF0rMzkzNjQzMDA3NCY0Mjk0OTY3Mjk1LHM9ZSsobzw8MTEmNDI5NDk2NzI5NXxvPj4+MjEpLG89aSsoc15lXm4pK3JbM10rMzU3MjQ0NTMxNyY0Mjk0OTY3Mjk1LGk9cysobzw8MTYmNDI5NDk2NzI5NXxvPj4+MTYpLG89bisoaV5zXmUpK3JbNl0rNzYwMjkxODkmNDI5NDk2NzI5NSxuPWkrKG88PDIzJjQyOTQ5NjcyOTV8bz4+PjkpLG89ZSsobl5pXnMpK3JbOV0rMzY1NDYwMjgwOSY0Mjk0OTY3Mjk1LGU9bisobzw8NCY0Mjk0OTY3Mjk1fG8+Pj4yOCksbz1zKyhlXm5eaSkrclsxMl0rMzg3MzE1MTQ2MSY0Mjk0OTY3Mjk1LHM9ZSsobzw8MTEmNDI5NDk2NzI5NXxvPj4+MjEpLG89aSsoc15lXm4pK3JbMTVdKzUzMDc0MjUyMCY0Mjk0OTY3Mjk1LGk9cysobzw8MTYmNDI5NDk2NzI5NXxvPj4+MTYpLG89bisoaV5zXmUpK3JbMl0rMzI5OTYyODY0NSY0Mjk0OTY3Mjk1LG49aSsobzw8MjMmNDI5NDk2NzI5NXxvPj4+OSksbz1lKyhpXihufH5zKSkrclswXSs0MDk2MzM2NDUyJjQyOTQ5NjcyOTUsZT1uKyhvPDw2JjQyOTQ5NjcyOTV8bz4+PjI2KSxvPXMrKG5eKGV8fmkpKStyWzddKzExMjY4OTE0MTUmNDI5NDk2NzI5NSxzPWUrKG88PDEwJjQyOTQ5NjcyOTV8bz4+PjIyKSxvPWkrKGVeKHN8fm4pKStyWzE0XSsyODc4NjEyMzkxJjQyOTQ5NjcyOTUsaT1zKyhvPDwxNSY0Mjk0OTY3Mjk1fG8+Pj4xNyksbz1uKyhzXihpfH5lKSkrcls1XSs0MjM3NTMzMjQxJjQyOTQ5NjcyOTUsbj1pKyhvPDwyMSY0Mjk0OTY3Mjk1fG8+Pj4xMSksbz1lKyhpXihufH5zKSkrclsxMl0rMTcwMDQ4NTU3MSY0Mjk0OTY3Mjk1LGU9bisobzw8NiY0Mjk0OTY3Mjk1fG8+Pj4yNiksbz1zKyhuXihlfH5pKSkrclszXSsyMzk5OTgwNjkwJjQyOTQ5NjcyOTUscz1lKyhvPDwxMCY0Mjk0OTY3Mjk1fG8+Pj4yMiksbz1pKyhlXihzfH5uKSkrclsxMF0rNDI5MzkxNTc3MyY0Mjk0OTY3Mjk1LGk9cysobzw8MTUmNDI5NDk2NzI5NXxvPj4+MTcpLG89bisoc14oaXx+ZSkpK3JbMV0rMjI0MDA0NDQ5NyY0Mjk0OTY3Mjk1LG49aSsobzw8MjEmNDI5NDk2NzI5NXxvPj4+MTEpLG89ZSsoaV4obnx+cykpK3JbOF0rMTg3MzMxMzM1OSY0Mjk0OTY3Mjk1LGU9bisobzw8NiY0Mjk0OTY3Mjk1fG8+Pj4yNiksbz1zKyhuXihlfH5pKSkrclsxNV0rNDI2NDM1NTU1MiY0Mjk0OTY3Mjk1LHM9ZSsobzw8MTAmNDI5NDk2NzI5NXxvPj4+MjIpLG89aSsoZV4oc3x+bikpK3JbNl0rMjczNDc2ODkxNiY0Mjk0OTY3Mjk1LGk9cysobzw8MTUmNDI5NDk2NzI5NXxvPj4+MTcpLG89bisoc14oaXx+ZSkpK3JbMTNdKzEzMDkxNTE2NDkmNDI5NDk2NzI5NSxuPWkrKG88PDIxJjQyOTQ5NjcyOTV8bz4+PjExKSxvPWUrKGleKG58fnMpKStyWzRdKzQxNDk0NDQyMjYmNDI5NDk2NzI5NSxlPW4rKG88PDYmNDI5NDk2NzI5NXxvPj4+MjYpLG89cysobl4oZXx+aSkpK3JbMTFdKzMxNzQ3NTY5MTcmNDI5NDk2NzI5NSxzPWUrKG88PDEwJjQyOTQ5NjcyOTV8bz4+PjIyKSxvPWkrKGVeKHN8fm4pKStyWzJdKzcxODc4NzI1OSY0Mjk0OTY3Mjk1LGk9cysobzw8MTUmNDI5NDk2NzI5NXxvPj4+MTcpLG89bisoc14oaXx+ZSkpK3JbOV0rMzk1MTQ4MTc0NSY0Mjk0OTY3Mjk1LHQuZ1swXT10LmdbMF0rZSY0Mjk0OTY3Mjk1LHQuZ1sxXT10LmdbMV0rKGkrKG88PDIxJjQyOTQ5NjcyOTV8bz4+PjExKSkmNDI5NDk2NzI5NSx0LmdbMl09dC5nWzJdK2kmNDI5NDk2NzI5NSx0LmdbM109dC5nWzNdK3MmNDI5NDk2NzI5NX1YdC5wcm90b3R5cGUuaj1mdW5jdGlvbih0LGUpe2U9PT12b2lkIDAmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49ZS10aGlzLmJsb2NrU2l6ZSxyPXRoaXMubSxpPXRoaXMuaCxzPTA7czxlOyl7aWYoaT09MClmb3IoO3M8PW47KXRoKHRoaXMsdCxzKSxzKz10aGlzLmJsb2NrU2l6ZTtpZih0eXBlb2YgdD09InN0cmluZyIpe2Zvcig7czxlOylpZihyW2krK109dC5jaGFyQ29kZUF0KHMrKyksaT09dGhpcy5ibG9ja1NpemUpe3RoKHRoaXMsciksaT0wO2JyZWFrfX1lbHNlIGZvcig7czxlOylpZihyW2krK109dFtzKytdLGk9PXRoaXMuYmxvY2tTaXplKXt0aCh0aGlzLHIpLGk9MDticmVha319dGhpcy5oPWksdGhpcy5pKz1lfTtYdC5wcm90b3R5cGUubD1mdW5jdGlvbigpe3ZhciB0PUFycmF5KCg1Nj50aGlzLmg/dGhpcy5ibG9ja1NpemU6Mip0aGlzLmJsb2NrU2l6ZSktdGhpcy5oKTt0WzBdPTEyODtmb3IodmFyIGU9MTtlPHQubGVuZ3RoLTg7KytlKXRbZV09MDt2YXIgbj04KnRoaXMuaTtmb3IoZT10Lmxlbmd0aC04O2U8dC5sZW5ndGg7KytlKXRbZV09biYyNTUsbi89MjU2O2Zvcih0aGlzLmoodCksdD1BcnJheSgxNiksZT1uPTA7ND5lOysrZSlmb3IodmFyIHI9MDszMj5yO3IrPTgpdFtuKytdPXRoaXMuZ1tlXT4+PnImMjU1O3JldHVybiB0fTtmdW5jdGlvbiB3ZSh0LGUpe3RoaXMuaD1lO2Zvcih2YXIgbj1bXSxyPSEwLGk9dC5sZW5ndGgtMTswPD1pO2ktLSl7dmFyIHM9dFtpXXwwO3ImJnM9PWV8fChuW2ldPXMscj0hMSl9dGhpcy5nPW59dmFyIGIyPXt9O2Z1bmN0aW9uIFFwKHQpe3JldHVybi0xMjg8PXQmJjEyOD50P0xqKHQsZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB3ZShbZXwwXSwwPmU/LTE6MCl9KTpuZXcgd2UoW3R8MF0sMD50Py0xOjApfWZ1bmN0aW9uIGNuKHQpe2lmKGlzTmFOKHQpfHwhaXNGaW5pdGUodCkpcmV0dXJuIERpO2lmKDA+dClyZXR1cm4gdHQoY24oLXQpKTtmb3IodmFyIGU9W10sbj0xLHI9MDt0Pj1uO3IrKyllW3JdPXQvbnwwLG4qPVNkO3JldHVybiBuZXcgd2UoZSwwKX1mdW5jdGlvbiBoQyh0LGUpe2lmKHQubGVuZ3RoPT0wKXRocm93IEVycm9yKCJudW1iZXIgZm9ybWF0IGVycm9yOiBlbXB0eSBzdHJpbmciKTtpZihlPWV8fDEwLDI+ZXx8MzY8ZSl0aHJvdyBFcnJvcigicmFkaXggb3V0IG9mIHJhbmdlOiAiK2UpO2lmKHQuY2hhckF0KDApPT0iLSIpcmV0dXJuIHR0KGhDKHQuc3Vic3RyaW5nKDEpLGUpKTtpZigwPD10LmluZGV4T2YoIi0iKSl0aHJvdyBFcnJvcignbnVtYmVyIGZvcm1hdCBlcnJvcjogaW50ZXJpb3IgIi0iIGNoYXJhY3RlcicpO2Zvcih2YXIgbj1jbihNYXRoLnBvdyhlLDgpKSxyPURpLGk9MDtpPHQubGVuZ3RoO2krPTgpe3ZhciBzPU1hdGgubWluKDgsdC5sZW5ndGgtaSksbz1wYXJzZUludCh0LnN1YnN0cmluZyhpLGkrcyksZSk7OD5zPyhzPWNuKE1hdGgucG93KGUscykpLHI9ci5SKHMpLmFkZChjbihvKSkpOihyPXIuUihuKSxyPXIuYWRkKGNuKG8pKSl9cmV0dXJuIHJ9dmFyIFNkPTQyOTQ5NjcyOTYsRGk9UXAoMCksQ2Q9UXAoMSksSHk9UXAoMTY3NzcyMTYpO009d2UucHJvdG90eXBlO00uZWE9ZnVuY3Rpb24oKXtpZihWdCh0aGlzKSlyZXR1cm4tdHQodGhpcykuZWEoKTtmb3IodmFyIHQ9MCxlPTEsbj0wO248dGhpcy5nLmxlbmd0aDtuKyspe3ZhciByPXRoaXMuRChuKTt0Kz0oMDw9cj9yOlNkK3IpKmUsZSo9U2R9cmV0dXJuIHR9O00udG9TdHJpbmc9ZnVuY3Rpb24odCl7aWYodD10fHwxMCwyPnR8fDM2PHQpdGhyb3cgRXJyb3IoInJhZGl4IG91dCBvZiByYW5nZTogIit0KTtpZihQbih0aGlzKSlyZXR1cm4iMCI7aWYoVnQodGhpcykpcmV0dXJuIi0iK3R0KHRoaXMpLnRvU3RyaW5nKHQpO2Zvcih2YXIgZT1jbihNYXRoLnBvdyh0LDYpKSxuPXRoaXMscj0iIjs7KXt2YXIgaT1qYyhuLGUpLmc7bj1VYyhuLGkuUihlKSk7dmFyIHM9KCgwPG4uZy5sZW5ndGg/bi5nWzBdOm4uaCk+Pj4wKS50b1N0cmluZyh0KTtpZihuPWksUG4obikpcmV0dXJuIHMrcjtmb3IoOzY+cy5sZW5ndGg7KXM9IjAiK3M7cj1zK3J9fTtNLkQ9ZnVuY3Rpb24odCl7cmV0dXJuIDA+dD8wOnQ8dGhpcy5nLmxlbmd0aD90aGlzLmdbdF06dGhpcy5ofTtmdW5jdGlvbiBQbih0KXtpZih0LmghPTApcmV0dXJuITE7Zm9yKHZhciBlPTA7ZTx0LmcubGVuZ3RoO2UrKylpZih0LmdbZV0hPTApcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gVnQodCl7cmV0dXJuIHQuaD09LTF9TS5YPWZ1bmN0aW9uKHQpe3JldHVybiB0PVVjKHRoaXMsdCksVnQodCk/LTE6UG4odCk/MDoxfTtmdW5jdGlvbiB0dCh0KXtmb3IodmFyIGU9dC5nLmxlbmd0aCxuPVtdLHI9MDtyPGU7cisrKW5bcl09fnQuZ1tyXTtyZXR1cm4gbmV3IHdlKG4sfnQuaCkuYWRkKENkKX1NLmFicz1mdW5jdGlvbigpe3JldHVybiBWdCh0aGlzKT90dCh0aGlzKTp0aGlzfTtNLmFkZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9TWF0aC5tYXgodGhpcy5nLmxlbmd0aCx0LmcubGVuZ3RoKSxuPVtdLHI9MCxpPTA7aTw9ZTtpKyspe3ZhciBzPXIrKHRoaXMuRChpKSY2NTUzNSkrKHQuRChpKSY2NTUzNSksbz0ocz4+PjE2KSsodGhpcy5EKGkpPj4+MTYpKyh0LkQoaSk+Pj4xNik7cj1vPj4+MTYscyY9NjU1MzUsbyY9NjU1MzUsbltpXT1vPDwxNnxzfXJldHVybiBuZXcgd2UobixuW24ubGVuZ3RoLTFdJi0yMTQ3NDgzNjQ4Py0xOjApfTtmdW5jdGlvbiBVYyh0LGUpe3JldHVybiB0LmFkZCh0dChlKSl9TS5SPWZ1bmN0aW9uKHQpe2lmKFBuKHRoaXMpfHxQbih0KSlyZXR1cm4gRGk7aWYoVnQodGhpcykpcmV0dXJuIFZ0KHQpP3R0KHRoaXMpLlIodHQodCkpOnR0KHR0KHRoaXMpLlIodCkpO2lmKFZ0KHQpKXJldHVybiB0dCh0aGlzLlIodHQodCkpKTtpZigwPnRoaXMuWChIeSkmJjA+dC5YKEh5KSlyZXR1cm4gY24odGhpcy5lYSgpKnQuZWEoKSk7Zm9yKHZhciBlPXRoaXMuZy5sZW5ndGgrdC5nLmxlbmd0aCxuPVtdLHI9MDtyPDIqZTtyKyspbltyXT0wO2ZvcihyPTA7cjx0aGlzLmcubGVuZ3RoO3IrKylmb3IodmFyIGk9MDtpPHQuZy5sZW5ndGg7aSsrKXt2YXIgcz10aGlzLkQocik+Pj4xNixvPXRoaXMuRChyKSY2NTUzNSxhPXQuRChpKT4+PjE2LGM9dC5EKGkpJjY1NTM1O25bMipyKzIqaV0rPW8qYyxOYShuLDIqcisyKmkpLG5bMipyKzIqaSsxXSs9cypjLE5hKG4sMipyKzIqaSsxKSxuWzIqcisyKmkrMV0rPW8qYSxOYShuLDIqcisyKmkrMSksblsyKnIrMippKzJdKz1zKmEsTmEobiwyKnIrMippKzIpfWZvcihyPTA7cjxlO3IrKyluW3JdPW5bMipyKzFdPDwxNnxuWzIqcl07Zm9yKHI9ZTtyPDIqZTtyKyspbltyXT0wO3JldHVybiBuZXcgd2UobiwwKX07ZnVuY3Rpb24gTmEodCxlKXtmb3IoOyh0W2VdJjY1NTM1KSE9dFtlXTspdFtlKzFdKz10W2VdPj4+MTYsdFtlXSY9NjU1MzUsZSsrfWZ1bmN0aW9uIF9zKHQsZSl7dGhpcy5nPXQsdGhpcy5oPWV9ZnVuY3Rpb24gamModCxlKXtpZihQbihlKSl0aHJvdyBFcnJvcigiZGl2aXNpb24gYnkgemVybyIpO2lmKFBuKHQpKXJldHVybiBuZXcgX3MoRGksRGkpO2lmKFZ0KHQpKXJldHVybiBlPWpjKHR0KHQpLGUpLG5ldyBfcyh0dChlLmcpLHR0KGUuaCkpO2lmKFZ0KGUpKXJldHVybiBlPWpjKHQsdHQoZSkpLG5ldyBfcyh0dChlLmcpLGUuaCk7aWYoMzA8dC5nLmxlbmd0aCl7aWYoVnQodCl8fFZ0KGUpKXRocm93IEVycm9yKCJzbG93RGl2aWRlXyBvbmx5IHdvcmtzIHdpdGggcG9zaXRpdmUgaW50ZWdlcnMuIik7Zm9yKHZhciBuPUNkLHI9ZTswPj1yLlgodCk7KW49cXkobikscj1xeShyKTt2YXIgaT1jaShuLDEpLHM9Y2kociwxKTtmb3Iocj1jaShyLDIpLG49Y2kobiwyKTshUG4ocik7KXt2YXIgbz1zLmFkZChyKTswPj1vLlgodCkmJihpPWkuYWRkKG4pLHM9bykscj1jaShyLDEpLG49Y2kobiwxKX1yZXR1cm4gZT1VYyh0LGkuUihlKSksbmV3IF9zKGksZSl9Zm9yKGk9RGk7MDw9dC5YKGUpOyl7Zm9yKG49TWF0aC5tYXgoMSxNYXRoLmZsb29yKHQuZWEoKS9lLmVhKCkpKSxyPU1hdGguY2VpbChNYXRoLmxvZyhuKS9NYXRoLkxOMikscj00OD49cj8xOk1hdGgucG93KDIsci00OCkscz1jbihuKSxvPXMuUihlKTtWdChvKXx8MDxvLlgodCk7KW4tPXIscz1jbihuKSxvPXMuUihlKTtQbihzKSYmKHM9Q2QpLGk9aS5hZGQocyksdD1VYyh0LG8pfXJldHVybiBuZXcgX3MoaSx0KX1NLmdiPWZ1bmN0aW9uKHQpe3JldHVybiBqYyh0aGlzLHQpLmh9O00uYW5kPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1NYXRoLm1heCh0aGlzLmcubGVuZ3RoLHQuZy5sZW5ndGgpLG49W10scj0wO3I8ZTtyKyspbltyXT10aGlzLkQocikmdC5EKHIpO3JldHVybiBuZXcgd2Uobix0aGlzLmgmdC5oKX07TS5vcj1mdW5jdGlvbih0KXtmb3IodmFyIGU9TWF0aC5tYXgodGhpcy5nLmxlbmd0aCx0LmcubGVuZ3RoKSxuPVtdLHI9MDtyPGU7cisrKW5bcl09dGhpcy5EKHIpfHQuRChyKTtyZXR1cm4gbmV3IHdlKG4sdGhpcy5ofHQuaCl9O00ueG9yPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1NYXRoLm1heCh0aGlzLmcubGVuZ3RoLHQuZy5sZW5ndGgpLG49W10scj0wO3I8ZTtyKyspbltyXT10aGlzLkQociledC5EKHIpO3JldHVybiBuZXcgd2Uobix0aGlzLmhedC5oKX07ZnVuY3Rpb24gcXkodCl7Zm9yKHZhciBlPXQuZy5sZW5ndGgrMSxuPVtdLHI9MDtyPGU7cisrKW5bcl09dC5EKHIpPDwxfHQuRChyLTEpPj4+MzE7cmV0dXJuIG5ldyB3ZShuLHQuaCl9ZnVuY3Rpb24gY2kodCxlKXt2YXIgbj1lPj41O2UlPTMyO2Zvcih2YXIgcj10LmcubGVuZ3RoLW4saT1bXSxzPTA7czxyO3MrKylpW3NdPTA8ZT90LkQocytuKT4+PmV8dC5EKHMrbisxKTw8MzItZTp0LkQocytuKTtyZXR1cm4gbmV3IHdlKGksdC5oKX1GYy5wcm90b3R5cGUuY3JlYXRlV2ViQ2hhbm5lbD1GYy5wcm90b3R5cGUuZztPdC5wcm90b3R5cGUuc2VuZD1PdC5wcm90b3R5cGUudTtPdC5wcm90b3R5cGUub3Blbj1PdC5wcm90b3R5cGUubTtPdC5wcm90b3R5cGUuY2xvc2U9T3QucHJvdG90eXBlLmNsb3NlO1V1Lk5PX0VSUk9SPTA7VXUuVElNRU9VVD04O1V1LkhUVFBfRVJST1I9NjtiUy5DT01QTEVURT0iY29tcGxldGUiO0RTLkV2ZW50VHlwZT1pYTtpYS5PUEVOPSJhIjtpYS5DTE9TRT0iYiI7aWEuRVJST1I9ImMiO2lhLk1FU1NBR0U9ImQiO1llLnByb3RvdHlwZS5saXN0ZW49WWUucHJvdG90eXBlLk87eGUucHJvdG90eXBlLmxpc3Rlbk9uY2U9eGUucHJvdG90eXBlLlA7eGUucHJvdG90eXBlLmdldExhc3RFcnJvcj14ZS5wcm90b3R5cGUuU2E7eGUucHJvdG90eXBlLmdldExhc3RFcnJvckNvZGU9eGUucHJvdG90eXBlLklhO3hlLnByb3RvdHlwZS5nZXRTdGF0dXM9eGUucHJvdG90eXBlLmRhO3hlLnByb3RvdHlwZS5nZXRSZXNwb25zZUpzb249eGUucHJvdG90eXBlLldhO3hlLnByb3RvdHlwZS5nZXRSZXNwb25zZVRleHQ9eGUucHJvdG90eXBlLmphO3hlLnByb3RvdHlwZS5zZW5kPXhlLnByb3RvdHlwZS5oYTt4ZS5wcm90b3R5cGUuc2V0V2l0aENyZWRlbnRpYWxzPXhlLnByb3RvdHlwZS5PYTtYdC5wcm90b3R5cGUuZGlnZXN0PVh0LnByb3RvdHlwZS5sO1h0LnByb3RvdHlwZS5yZXNldD1YdC5wcm90b3R5cGUucmVzZXQ7WHQucHJvdG90eXBlLnVwZGF0ZT1YdC5wcm90b3R5cGUuajt3ZS5wcm90b3R5cGUuYWRkPXdlLnByb3RvdHlwZS5hZGQ7d2UucHJvdG90eXBlLm11bHRpcGx5PXdlLnByb3RvdHlwZS5SO3dlLnByb3RvdHlwZS5tb2R1bG89d2UucHJvdG90eXBlLmdiO3dlLnByb3RvdHlwZS5jb21wYXJlPXdlLnByb3RvdHlwZS5YO3dlLnByb3RvdHlwZS50b051bWJlcj13ZS5wcm90b3R5cGUuZWE7d2UucHJvdG90eXBlLnRvU3RyaW5nPXdlLnByb3RvdHlwZS50b1N0cmluZzt3ZS5wcm90b3R5cGUuZ2V0Qml0cz13ZS5wcm90b3R5cGUuRDt3ZS5mcm9tTnVtYmVyPWNuO3dlLmZyb21TdHJpbmc9aEM7dmFyIEQyPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBGY30sUDI9ZnVuY3Rpb24oKXtyZXR1cm4gRnUoKX0sbmg9VXUsTTI9YlMsTjI9bmksenk9e3hiOjAsQWI6MSxCYjoyLFViOjMsWmI6NCxXYjo1LFhiOjYsVmI6NyxUYjo4LFliOjksUFJPWFk6MTAsTk9QUk9YWToxMSxSYjoxMixOYjoxMyxPYjoxNCxNYjoxNSxQYjoxNixRYjoxNyx0YjoxOCxzYjoxOSx1YjoyMH0sa2E9RFMsazI9eGUsTzI9WHQsUGk9d2U7Y29uc3QgV3k9IkBmaXJlYmFzZS9maXJlc3RvcmUiO2NsYXNzIGx0e2NvbnN0cnVjdG9yKGUpe3RoaXMudWlkPWV9aXNBdXRoZW50aWNhdGVkKCl7cmV0dXJuIHRoaXMudWlkIT1udWxsfXRvS2V5KCl7cmV0dXJuIHRoaXMuaXNBdXRoZW50aWNhdGVkKCk/InVpZDoiK3RoaXMudWlkOiJhbm9ueW1vdXMtdXNlciJ9aXNFcXVhbChlKXtyZXR1cm4gZS51aWQ9PT10aGlzLnVpZH19bHQuVU5BVVRIRU5USUNBVEVEPW5ldyBsdChudWxsKSxsdC5HT09HTEVfQ1JFREVOVElBTFM9bmV3IGx0KCJnb29nbGUtY3JlZGVudGlhbHMtdWlkIiksbHQuRklSU1RfUEFSVFk9bmV3IGx0KCJmaXJzdC1wYXJ0eS11aWQiKSxsdC5NT0NLX1VTRVI9bmV3IGx0KCJtb2NrLXVzZXIiKTtsZXQgZHM9IjEwLjguMSI7Y29uc3QgR3I9bmV3IHVwKCJAZmlyZWJhc2UvZmlyZXN0b3JlIik7ZnVuY3Rpb24gRXMoKXtyZXR1cm4gR3IubG9nTGV2ZWx9ZnVuY3Rpb24gUCh0LC4uLmUpe2lmKEdyLmxvZ0xldmVsPD1nZS5ERUJVRyl7Y29uc3Qgbj1lLm1hcChacCk7R3IuZGVidWcoYEZpcmVzdG9yZSAoJHtkc30pOiAke3R9YCwuLi5uKX19ZnVuY3Rpb24geW4odCwuLi5lKXtpZihHci5sb2dMZXZlbDw9Z2UuRVJST1Ipe2NvbnN0IG49ZS5tYXAoWnApO0dyLmVycm9yKGBGaXJlc3RvcmUgKCR7ZHN9KTogJHt0fWAsLi4ubil9fWZ1bmN0aW9uIEdpKHQsLi4uZSl7aWYoR3IubG9nTGV2ZWw8PWdlLldBUk4pe2NvbnN0IG49ZS5tYXAoWnApO0dyLndhcm4oYEZpcmVzdG9yZSAoJHtkc30pOiAke3R9YCwuLi5uKX19ZnVuY3Rpb24gWnAodCl7aWYodHlwZW9mIHQ9PSJzdHJpbmciKXJldHVybiB0O3RyeXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIEpTT04uc3RyaW5naWZ5KG4pfSh0KX1jYXRjaHtyZXR1cm4gdH19ZnVuY3Rpb24geih0PSJVbmV4cGVjdGVkIHN0YXRlIil7Y29uc3QgZT1gRklSRVNUT1JFICgke2RzfSkgSU5URVJOQUwgQVNTRVJUSU9OIEZBSUxFRDogYCt0O3Rocm93IHluKGUpLG5ldyBFcnJvcihlKX1mdW5jdGlvbiBBZSh0LGUpe3R8fHooKX1mdW5jdGlvbiBuZSh0LGUpe3JldHVybiB0fWNvbnN0IHc9e09LOiJvayIsQ0FOQ0VMTEVEOiJjYW5jZWxsZWQiLFVOS05PV046InVua25vd24iLElOVkFMSURfQVJHVU1FTlQ6ImludmFsaWQtYXJndW1lbnQiLERFQURMSU5FX0VYQ0VFREVEOiJkZWFkbGluZS1leGNlZWRlZCIsTk9UX0ZPVU5EOiJub3QtZm91bmQiLEFMUkVBRFlfRVhJU1RTOiJhbHJlYWR5LWV4aXN0cyIsUEVSTUlTU0lPTl9ERU5JRUQ6InBlcm1pc3Npb24tZGVuaWVkIixVTkFVVEhFTlRJQ0FURUQ6InVuYXV0aGVudGljYXRlZCIsUkVTT1VSQ0VfRVhIQVVTVEVEOiJyZXNvdXJjZS1leGhhdXN0ZWQiLEZBSUxFRF9QUkVDT05ESVRJT046ImZhaWxlZC1wcmVjb25kaXRpb24iLEFCT1JURUQ6ImFib3J0ZWQiLE9VVF9PRl9SQU5HRToib3V0LW9mLXJhbmdlIixVTklNUExFTUVOVEVEOiJ1bmltcGxlbWVudGVkIixJTlRFUk5BTDoiaW50ZXJuYWwiLFVOQVZBSUxBQkxFOiJ1bmF2YWlsYWJsZSIsREFUQV9MT1NTOiJkYXRhLWxvc3MifTtjbGFzcyBrIGV4dGVuZHMgS257Y29uc3RydWN0b3IoZSxuKXtzdXBlcihlLG4pLHRoaXMuY29kZT1lLHRoaXMubWVzc2FnZT1uLHRoaXMudG9TdHJpbmc9KCk9PmAke3RoaXMubmFtZX06IFtjb2RlPSR7dGhpcy5jb2RlfV06ICR7dGhpcy5tZXNzYWdlfWB9fWNsYXNzIG9ye2NvbnN0cnVjdG9yKCl7dGhpcy5wcm9taXNlPW5ldyBQcm9taXNlKChlLG4pPT57dGhpcy5yZXNvbHZlPWUsdGhpcy5yZWplY3Q9bn0pfX1jbGFzcyBkQ3tjb25zdHJ1Y3RvcihlLG4pe3RoaXMudXNlcj1uLHRoaXMudHlwZT0iT0F1dGgiLHRoaXMuaGVhZGVycz1uZXcgTWFwLHRoaXMuaGVhZGVycy5zZXQoIkF1dGhvcml6YXRpb24iLGBCZWFyZXIgJHtlfWApfX1jbGFzcyB4MntnZXRUb2tlbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCl9aW52YWxpZGF0ZVRva2VuKCl7fXN0YXJ0KGUsbil7ZS5lbnF1ZXVlUmV0cnlhYmxlKCgpPT5uKGx0LlVOQVVUSEVOVElDQVRFRCkpfXNodXRkb3duKCl7fX1jbGFzcyBMMntjb25zdHJ1Y3RvcihlKXt0aGlzLnRva2VuPWUsdGhpcy5jaGFuZ2VMaXN0ZW5lcj1udWxsfWdldFRva2VuKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnRva2VuKX1pbnZhbGlkYXRlVG9rZW4oKXt9c3RhcnQoZSxuKXt0aGlzLmNoYW5nZUxpc3RlbmVyPW4sZS5lbnF1ZXVlUmV0cnlhYmxlKCgpPT5uKHRoaXMudG9rZW4udXNlcikpfXNodXRkb3duKCl7dGhpcy5jaGFuZ2VMaXN0ZW5lcj1udWxsfX1jbGFzcyBWMntjb25zdHJ1Y3RvcihlKXt0aGlzLnQ9ZSx0aGlzLmN1cnJlbnRVc2VyPWx0LlVOQVVUSEVOVElDQVRFRCx0aGlzLmk9MCx0aGlzLmZvcmNlUmVmcmVzaD0hMSx0aGlzLmF1dGg9bnVsbH1zdGFydChlLG4pe2xldCByPXRoaXMuaTtjb25zdCBpPWM9PnRoaXMuaSE9PXI/KHI9dGhpcy5pLG4oYykpOlByb21pc2UucmVzb2x2ZSgpO2xldCBzPW5ldyBvcjt0aGlzLm89KCk9Pnt0aGlzLmkrKyx0aGlzLmN1cnJlbnRVc2VyPXRoaXMudSgpLHMucmVzb2x2ZSgpLHM9bmV3IG9yLGUuZW5xdWV1ZVJldHJ5YWJsZSgoKT0+aSh0aGlzLmN1cnJlbnRVc2VyKSl9O2NvbnN0IG89KCk9Pntjb25zdCBjPXM7ZS5lbnF1ZXVlUmV0cnlhYmxlKCgpPT5nKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCBjLnByb21pc2UseWllbGQgaSh0aGlzLmN1cnJlbnRVc2VyKX0pKX0sYT1jPT57UCgiRmlyZWJhc2VBdXRoQ3JlZGVudGlhbHNQcm92aWRlciIsIkF1dGggZGV0ZWN0ZWQiKSx0aGlzLmF1dGg9Yyx0aGlzLmF1dGguYWRkQXV0aFRva2VuTGlzdGVuZXIodGhpcy5vKSxvKCl9O3RoaXMudC5vbkluaXQoYz0+YShjKSksc2V0VGltZW91dCgoKT0+e2lmKCF0aGlzLmF1dGgpe2NvbnN0IGM9dGhpcy50LmdldEltbWVkaWF0ZSh7b3B0aW9uYWw6ITB9KTtjP2EoYyk6KFAoIkZpcmViYXNlQXV0aENyZWRlbnRpYWxzUHJvdmlkZXIiLCJBdXRoIG5vdCB5ZXQgZGV0ZWN0ZWQiKSxzLnJlc29sdmUoKSxzPW5ldyBvcil9fSwwKSxvKCl9Z2V0VG9rZW4oKXtjb25zdCBlPXRoaXMuaSxuPXRoaXMuZm9yY2VSZWZyZXNoO3JldHVybiB0aGlzLmZvcmNlUmVmcmVzaD0hMSx0aGlzLmF1dGg/dGhpcy5hdXRoLmdldFRva2VuKG4pLnRoZW4ocj0+dGhpcy5pIT09ZT8oUCgiRmlyZWJhc2VBdXRoQ3JlZGVudGlhbHNQcm92aWRlciIsImdldFRva2VuIGFib3J0ZWQgZHVlIHRvIHRva2VuIGNoYW5nZS4iKSx0aGlzLmdldFRva2VuKCkpOnI/KEFlKHR5cGVvZiByLmFjY2Vzc1Rva2VuPT0ic3RyaW5nIiksbmV3IGRDKHIuYWNjZXNzVG9rZW4sdGhpcy5jdXJyZW50VXNlcikpOm51bGwpOlByb21pc2UucmVzb2x2ZShudWxsKX1pbnZhbGlkYXRlVG9rZW4oKXt0aGlzLmZvcmNlUmVmcmVzaD0hMH1zaHV0ZG93bigpe3RoaXMuYXV0aCYmdGhpcy5hdXRoLnJlbW92ZUF1dGhUb2tlbkxpc3RlbmVyKHRoaXMubyl9dSgpe2NvbnN0IGU9dGhpcy5hdXRoJiZ0aGlzLmF1dGguZ2V0VWlkKCk7cmV0dXJuIEFlKGU9PT1udWxsfHx0eXBlb2YgZT09InN0cmluZyIpLG5ldyBsdChlKX19Y2xhc3MgRjJ7Y29uc3RydWN0b3IoZSxuLHIpe3RoaXMubD1lLHRoaXMuaD1uLHRoaXMuUD1yLHRoaXMudHlwZT0iRmlyc3RQYXJ0eSIsdGhpcy51c2VyPWx0LkZJUlNUX1BBUlRZLHRoaXMuST1uZXcgTWFwfVQoKXtyZXR1cm4gdGhpcy5QP3RoaXMuUCgpOm51bGx9Z2V0IGhlYWRlcnMoKXt0aGlzLkkuc2V0KCJYLUdvb2ctQXV0aFVzZXIiLHRoaXMubCk7Y29uc3QgZT10aGlzLlQoKTtyZXR1cm4gZSYmdGhpcy5JLnNldCgiQXV0aG9yaXphdGlvbiIsZSksdGhpcy5oJiZ0aGlzLkkuc2V0KCJYLUdvb2ctSWFtLUF1dGhvcml6YXRpb24tVG9rZW4iLHRoaXMuaCksdGhpcy5JfX1jbGFzcyBVMntjb25zdHJ1Y3RvcihlLG4scil7dGhpcy5sPWUsdGhpcy5oPW4sdGhpcy5QPXJ9Z2V0VG9rZW4oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBGMih0aGlzLmwsdGhpcy5oLHRoaXMuUCkpfXN0YXJ0KGUsbil7ZS5lbnF1ZXVlUmV0cnlhYmxlKCgpPT5uKGx0LkZJUlNUX1BBUlRZKSl9c2h1dGRvd24oKXt9aW52YWxpZGF0ZVRva2VuKCl7fX1jbGFzcyBqMntjb25zdHJ1Y3RvcihlKXt0aGlzLnZhbHVlPWUsdGhpcy50eXBlPSJBcHBDaGVjayIsdGhpcy5oZWFkZXJzPW5ldyBNYXAsZSYmZS5sZW5ndGg+MCYmdGhpcy5oZWFkZXJzLnNldCgieC1maXJlYmFzZS1hcHBjaGVjayIsdGhpcy52YWx1ZSl9fWNsYXNzICQye2NvbnN0cnVjdG9yKGUpe3RoaXMuQT1lLHRoaXMuZm9yY2VSZWZyZXNoPSExLHRoaXMuYXBwQ2hlY2s9bnVsbCx0aGlzLlI9bnVsbH1zdGFydChlLG4pe2NvbnN0IHI9cz0+e3MuZXJyb3IhPW51bGwmJlAoIkZpcmViYXNlQXBwQ2hlY2tUb2tlblByb3ZpZGVyIixgRXJyb3IgZ2V0dGluZyBBcHAgQ2hlY2sgdG9rZW47IHVzaW5nIHBsYWNlaG9sZGVyIHRva2VuIGluc3RlYWQuIEVycm9yOiAke3MuZXJyb3IubWVzc2FnZX1gKTtjb25zdCBvPXMudG9rZW4hPT10aGlzLlI7cmV0dXJuIHRoaXMuUj1zLnRva2VuLFAoIkZpcmViYXNlQXBwQ2hlY2tUb2tlblByb3ZpZGVyIixgUmVjZWl2ZWQgJHtvPyJuZXciOiJleGlzdGluZyJ9IHRva2VuLmApLG8/bihzLnRva2VuKTpQcm9taXNlLnJlc29sdmUoKX07dGhpcy5vPXM9PntlLmVucXVldWVSZXRyeWFibGUoKCk9PnIocykpfTtjb25zdCBpPXM9PntQKCJGaXJlYmFzZUFwcENoZWNrVG9rZW5Qcm92aWRlciIsIkFwcENoZWNrIGRldGVjdGVkIiksdGhpcy5hcHBDaGVjaz1zLHRoaXMuYXBwQ2hlY2suYWRkVG9rZW5MaXN0ZW5lcih0aGlzLm8pfTt0aGlzLkEub25Jbml0KHM9PmkocykpLHNldFRpbWVvdXQoKCk9PntpZighdGhpcy5hcHBDaGVjayl7Y29uc3Qgcz10aGlzLkEuZ2V0SW1tZWRpYXRlKHtvcHRpb25hbDohMH0pO3M/aShzKTpQKCJGaXJlYmFzZUFwcENoZWNrVG9rZW5Qcm92aWRlciIsIkFwcENoZWNrIG5vdCB5ZXQgZGV0ZWN0ZWQiKX19LDApfWdldFRva2VuKCl7Y29uc3QgZT10aGlzLmZvcmNlUmVmcmVzaDtyZXR1cm4gdGhpcy5mb3JjZVJlZnJlc2g9ITEsdGhpcy5hcHBDaGVjaz90aGlzLmFwcENoZWNrLmdldFRva2VuKGUpLnRoZW4obj0+bj8oQWUodHlwZW9mIG4udG9rZW49PSJzdHJpbmciKSx0aGlzLlI9bi50b2tlbixuZXcgajIobi50b2tlbikpOm51bGwpOlByb21pc2UucmVzb2x2ZShudWxsKX1pbnZhbGlkYXRlVG9rZW4oKXt0aGlzLmZvcmNlUmVmcmVzaD0hMH1zaHV0ZG93bigpe3RoaXMuYXBwQ2hlY2smJnRoaXMuYXBwQ2hlY2sucmVtb3ZlVG9rZW5MaXN0ZW5lcih0aGlzLm8pfX1mdW5jdGlvbiBCMih0KXtjb25zdCBlPXR5cGVvZiBzZWxmPCJ1IiYmKHNlbGYuY3J5cHRvfHxzZWxmLm1zQ3J5cHRvKSxuPW5ldyBVaW50OEFycmF5KHQpO2lmKGUmJnR5cGVvZiBlLmdldFJhbmRvbVZhbHVlcz09ImZ1bmN0aW9uIillLmdldFJhbmRvbVZhbHVlcyhuKTtlbHNlIGZvcihsZXQgcj0wO3I8dDtyKyspbltyXT1NYXRoLmZsb29yKDI1NipNYXRoLnJhbmRvbSgpKTtyZXR1cm4gbn1jbGFzcyBmQ3tzdGF0aWMgbmV3SWQoKXtjb25zdCBlPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSIsbj1NYXRoLmZsb29yKDI1Ni9lLmxlbmd0aCkqZS5sZW5ndGg7bGV0IHI9IiI7Zm9yKDtyLmxlbmd0aDwyMDspe2NvbnN0IGk9QjIoNDApO2ZvcihsZXQgcz0wO3M8aS5sZW5ndGg7KytzKXIubGVuZ3RoPDIwJiZpW3NdPG4mJihyKz1lLmNoYXJBdChpW3NdJWUubGVuZ3RoKSl9cmV0dXJuIHJ9fWZ1bmN0aW9uIF9lKHQsZSl7cmV0dXJuIHQ8ZT8tMTp0PmU/MTowfWZ1bmN0aW9uIEtpKHQsZSxuKXtyZXR1cm4gdC5sZW5ndGg9PT1lLmxlbmd0aCYmdC5ldmVyeSgocixpKT0+bihyLGVbaV0pKX1jbGFzcyBCZXtjb25zdHJ1Y3RvcihlLG4pe2lmKHRoaXMuc2Vjb25kcz1lLHRoaXMubmFub3NlY29uZHM9bixuPDApdGhyb3cgbmV3IGsody5JTlZBTElEX0FSR1VNRU5ULCJUaW1lc3RhbXAgbmFub3NlY29uZHMgb3V0IG9mIHJhbmdlOiAiK24pO2lmKG4+PTFlOSl0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsIlRpbWVzdGFtcCBuYW5vc2Vjb25kcyBvdXQgb2YgcmFuZ2U6ICIrbik7aWYoZTwtNjIxMzU1OTY4MDApdGhyb3cgbmV3IGsody5JTlZBTElEX0FSR1VNRU5ULCJUaW1lc3RhbXAgc2Vjb25kcyBvdXQgb2YgcmFuZ2U6ICIrZSk7aWYoZT49MjUzNDAyMzAwODAwKXRocm93IG5ldyBrKHcuSU5WQUxJRF9BUkdVTUVOVCwiVGltZXN0YW1wIHNlY29uZHMgb3V0IG9mIHJhbmdlOiAiK2UpfXN0YXRpYyBub3coKXtyZXR1cm4gQmUuZnJvbU1pbGxpcyhEYXRlLm5vdygpKX1zdGF0aWMgZnJvbURhdGUoZSl7cmV0dXJuIEJlLmZyb21NaWxsaXMoZS5nZXRUaW1lKCkpfXN0YXRpYyBmcm9tTWlsbGlzKGUpe2NvbnN0IG49TWF0aC5mbG9vcihlLzFlMykscj1NYXRoLmZsb29yKDFlNiooZS0xZTMqbikpO3JldHVybiBuZXcgQmUobixyKX10b0RhdGUoKXtyZXR1cm4gbmV3IERhdGUodGhpcy50b01pbGxpcygpKX10b01pbGxpcygpe3JldHVybiAxZTMqdGhpcy5zZWNvbmRzK3RoaXMubmFub3NlY29uZHMvMWU2fV9jb21wYXJlVG8oZSl7cmV0dXJuIHRoaXMuc2Vjb25kcz09PWUuc2Vjb25kcz9fZSh0aGlzLm5hbm9zZWNvbmRzLGUubmFub3NlY29uZHMpOl9lKHRoaXMuc2Vjb25kcyxlLnNlY29uZHMpfWlzRXF1YWwoZSl7cmV0dXJuIGUuc2Vjb25kcz09PXRoaXMuc2Vjb25kcyYmZS5uYW5vc2Vjb25kcz09PXRoaXMubmFub3NlY29uZHN9dG9TdHJpbmcoKXtyZXR1cm4iVGltZXN0YW1wKHNlY29uZHM9Iit0aGlzLnNlY29uZHMrIiwgbmFub3NlY29uZHM9Iit0aGlzLm5hbm9zZWNvbmRzKyIpIn10b0pTT04oKXtyZXR1cm57c2Vjb25kczp0aGlzLnNlY29uZHMsbmFub3NlY29uZHM6dGhpcy5uYW5vc2Vjb25kc319dmFsdWVPZigpe2NvbnN0IGU9dGhpcy5zZWNvbmRzLSAtNjIxMzU1OTY4MDA7cmV0dXJuIFN0cmluZyhlKS5wYWRTdGFydCgxMiwiMCIpKyIuIitTdHJpbmcodGhpcy5uYW5vc2Vjb25kcykucGFkU3RhcnQoOSwiMCIpfX1jbGFzcyBZe2NvbnN0cnVjdG9yKGUpe3RoaXMudGltZXN0YW1wPWV9c3RhdGljIGZyb21UaW1lc3RhbXAoZSl7cmV0dXJuIG5ldyBZKGUpfXN0YXRpYyBtaW4oKXtyZXR1cm4gbmV3IFkobmV3IEJlKDAsMCkpfXN0YXRpYyBtYXgoKXtyZXR1cm4gbmV3IFkobmV3IEJlKDI1MzQwMjMwMDc5OSw5OTk5OTk5OTkpKX1jb21wYXJlVG8oZSl7cmV0dXJuIHRoaXMudGltZXN0YW1wLl9jb21wYXJlVG8oZS50aW1lc3RhbXApfWlzRXF1YWwoZSl7cmV0dXJuIHRoaXMudGltZXN0YW1wLmlzRXF1YWwoZS50aW1lc3RhbXApfXRvTWljcm9zZWNvbmRzKCl7cmV0dXJuIDFlNip0aGlzLnRpbWVzdGFtcC5zZWNvbmRzK3RoaXMudGltZXN0YW1wLm5hbm9zZWNvbmRzLzFlM310b1N0cmluZygpe3JldHVybiJTbmFwc2hvdFZlcnNpb24oIit0aGlzLnRpbWVzdGFtcC50b1N0cmluZygpKyIpIn10b1RpbWVzdGFtcCgpe3JldHVybiB0aGlzLnRpbWVzdGFtcH19Y2xhc3MgRG97Y29uc3RydWN0b3IoZSxuLHIpe249PT12b2lkIDA/bj0wOm4+ZS5sZW5ndGgmJnooKSxyPT09dm9pZCAwP3I9ZS5sZW5ndGgtbjpyPmUubGVuZ3RoLW4mJnooKSx0aGlzLnNlZ21lbnRzPWUsdGhpcy5vZmZzZXQ9bix0aGlzLmxlbj1yfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5sZW59aXNFcXVhbChlKXtyZXR1cm4gRG8uY29tcGFyYXRvcih0aGlzLGUpPT09MH1jaGlsZChlKXtjb25zdCBuPXRoaXMuc2VnbWVudHMuc2xpY2UodGhpcy5vZmZzZXQsdGhpcy5saW1pdCgpKTtyZXR1cm4gZSBpbnN0YW5jZW9mIERvP2UuZm9yRWFjaChyPT57bi5wdXNoKHIpfSk6bi5wdXNoKGUpLHRoaXMuY29uc3RydWN0KG4pfWxpbWl0KCl7cmV0dXJuIHRoaXMub2Zmc2V0K3RoaXMubGVuZ3RofXBvcEZpcnN0KGUpe3JldHVybiBlPWU9PT12b2lkIDA/MTplLHRoaXMuY29uc3RydWN0KHRoaXMuc2VnbWVudHMsdGhpcy5vZmZzZXQrZSx0aGlzLmxlbmd0aC1lKX1wb3BMYXN0KCl7cmV0dXJuIHRoaXMuY29uc3RydWN0KHRoaXMuc2VnbWVudHMsdGhpcy5vZmZzZXQsdGhpcy5sZW5ndGgtMSl9Zmlyc3RTZWdtZW50KCl7cmV0dXJuIHRoaXMuc2VnbWVudHNbdGhpcy5vZmZzZXRdfWxhc3RTZWdtZW50KCl7cmV0dXJuIHRoaXMuZ2V0KHRoaXMubGVuZ3RoLTEpfWdldChlKXtyZXR1cm4gdGhpcy5zZWdtZW50c1t0aGlzLm9mZnNldCtlXX1pc0VtcHR5KCl7cmV0dXJuIHRoaXMubGVuZ3RoPT09MH1pc1ByZWZpeE9mKGUpe2lmKGUubGVuZ3RoPHRoaXMubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgbj0wO248dGhpcy5sZW5ndGg7bisrKWlmKHRoaXMuZ2V0KG4pIT09ZS5nZXQobikpcmV0dXJuITE7cmV0dXJuITB9aXNJbW1lZGlhdGVQYXJlbnRPZihlKXtpZih0aGlzLmxlbmd0aCsxIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCBuPTA7bjx0aGlzLmxlbmd0aDtuKyspaWYodGhpcy5nZXQobikhPT1lLmdldChuKSlyZXR1cm4hMTtyZXR1cm4hMH1mb3JFYWNoKGUpe2ZvcihsZXQgbj10aGlzLm9mZnNldCxyPXRoaXMubGltaXQoKTtuPHI7bisrKWUodGhpcy5zZWdtZW50c1tuXSl9dG9BcnJheSgpe3JldHVybiB0aGlzLnNlZ21lbnRzLnNsaWNlKHRoaXMub2Zmc2V0LHRoaXMubGltaXQoKSl9c3RhdGljIGNvbXBhcmF0b3IoZSxuKXtjb25zdCByPU1hdGgubWluKGUubGVuZ3RoLG4ubGVuZ3RoKTtmb3IobGV0IGk9MDtpPHI7aSsrKXtjb25zdCBzPWUuZ2V0KGkpLG89bi5nZXQoaSk7aWYoczxvKXJldHVybi0xO2lmKHM+bylyZXR1cm4gMX1yZXR1cm4gZS5sZW5ndGg8bi5sZW5ndGg/LTE6ZS5sZW5ndGg+bi5sZW5ndGg/MTowfX1jbGFzcyBiZSBleHRlbmRzIERve2NvbnN0cnVjdChlLG4scil7cmV0dXJuIG5ldyBiZShlLG4scil9Y2Fub25pY2FsU3RyaW5nKCl7cmV0dXJuIHRoaXMudG9BcnJheSgpLmpvaW4oIi8iKX10b1N0cmluZygpe3JldHVybiB0aGlzLmNhbm9uaWNhbFN0cmluZygpfXRvVXJpRW5jb2RlZFN0cmluZygpe3JldHVybiB0aGlzLnRvQXJyYXkoKS5tYXAoZW5jb2RlVVJJQ29tcG9uZW50KS5qb2luKCIvIil9c3RhdGljIGZyb21TdHJpbmcoLi4uZSl7Y29uc3Qgbj1bXTtmb3IoY29uc3QgciBvZiBlKXtpZihyLmluZGV4T2YoIi8vIik+PTApdGhyb3cgbmV3IGsody5JTlZBTElEX0FSR1VNRU5ULGBJbnZhbGlkIHNlZ21lbnQgKCR7cn0pLiBQYXRocyBtdXN0IG5vdCBjb250YWluIC8vIGluIHRoZW0uYCk7bi5wdXNoKC4uLnIuc3BsaXQoIi8iKS5maWx0ZXIoaT0+aS5sZW5ndGg+MCkpfXJldHVybiBuZXcgYmUobil9c3RhdGljIGVtcHR5UGF0aCgpe3JldHVybiBuZXcgYmUoW10pfX1jb25zdCBIMj0vXltfYS16QS1aXVtfYS16QS1aMC05XSokLztjbGFzcyBudCBleHRlbmRzIERve2NvbnN0cnVjdChlLG4scil7cmV0dXJuIG5ldyBudChlLG4scil9c3RhdGljIGlzVmFsaWRJZGVudGlmaWVyKGUpe3JldHVybiBIMi50ZXN0KGUpfWNhbm9uaWNhbFN0cmluZygpe3JldHVybiB0aGlzLnRvQXJyYXkoKS5tYXAoZT0+KGU9ZS5yZXBsYWNlKC9cXC9nLCJcXFxcIikucmVwbGFjZSgvYC9nLCJcXGAiKSxudC5pc1ZhbGlkSWRlbnRpZmllcihlKXx8KGU9ImAiK2UrImAiKSxlKSkuam9pbigiLiIpfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMuY2Fub25pY2FsU3RyaW5nKCl9aXNLZXlGaWVsZCgpe3JldHVybiB0aGlzLmxlbmd0aD09PTEmJnRoaXMuZ2V0KDApPT09Il9fbmFtZV9fIn1zdGF0aWMga2V5RmllbGQoKXtyZXR1cm4gbmV3IG50KFsiX19uYW1lX18iXSl9c3RhdGljIGZyb21TZXJ2ZXJGb3JtYXQoZSl7Y29uc3Qgbj1bXTtsZXQgcj0iIixpPTA7Y29uc3Qgcz0oKT0+e2lmKHIubGVuZ3RoPT09MCl0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsYEludmFsaWQgZmllbGQgcGF0aCAoJHtlfSkuIFBhdGhzIG11c3Qgbm90IGJlIGVtcHR5LCBiZWdpbiB3aXRoICcuJywgZW5kIHdpdGggJy4nLCBvciBjb250YWluICcuLidgKTtuLnB1c2gocikscj0iIn07bGV0IG89ITE7Zm9yKDtpPGUubGVuZ3RoOyl7Y29uc3QgYT1lW2ldO2lmKGE9PT0iXFwiKXtpZihpKzE9PT1lLmxlbmd0aCl0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsIlBhdGggaGFzIHRyYWlsaW5nIGVzY2FwZSBjaGFyYWN0ZXI6ICIrZSk7Y29uc3QgYz1lW2krMV07aWYoYyE9PSJcXCImJmMhPT0iLiImJmMhPT0iYCIpdGhyb3cgbmV3IGsody5JTlZBTElEX0FSR1VNRU5ULCJQYXRoIGhhcyBpbnZhbGlkIGVzY2FwZSBzZXF1ZW5jZTogIitlKTtyKz1jLGkrPTJ9ZWxzZSBhPT09ImAiPyhvPSFvLGkrKyk6YSE9PSIuInx8bz8ocis9YSxpKyspOihzKCksaSsrKX1pZihzKCksbyl0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsIlVudGVybWluYXRlZCBgIGluIHBhdGg6ICIrZSk7cmV0dXJuIG5ldyBudChuKX1zdGF0aWMgZW1wdHlQYXRoKCl7cmV0dXJuIG5ldyBudChbXSl9fWNsYXNzIGp7Y29uc3RydWN0b3IoZSl7dGhpcy5wYXRoPWV9c3RhdGljIGZyb21QYXRoKGUpe3JldHVybiBuZXcgaihiZS5mcm9tU3RyaW5nKGUpKX1zdGF0aWMgZnJvbU5hbWUoZSl7cmV0dXJuIG5ldyBqKGJlLmZyb21TdHJpbmcoZSkucG9wRmlyc3QoNSkpfXN0YXRpYyBlbXB0eSgpe3JldHVybiBuZXcgaihiZS5lbXB0eVBhdGgoKSl9Z2V0IGNvbGxlY3Rpb25Hcm91cCgpe3JldHVybiB0aGlzLnBhdGgucG9wTGFzdCgpLmxhc3RTZWdtZW50KCl9aGFzQ29sbGVjdGlvbklkKGUpe3JldHVybiB0aGlzLnBhdGgubGVuZ3RoPj0yJiZ0aGlzLnBhdGguZ2V0KHRoaXMucGF0aC5sZW5ndGgtMik9PT1lfWdldENvbGxlY3Rpb25Hcm91cCgpe3JldHVybiB0aGlzLnBhdGguZ2V0KHRoaXMucGF0aC5sZW5ndGgtMil9Z2V0Q29sbGVjdGlvblBhdGgoKXtyZXR1cm4gdGhpcy5wYXRoLnBvcExhc3QoKX1pc0VxdWFsKGUpe3JldHVybiBlIT09bnVsbCYmYmUuY29tcGFyYXRvcih0aGlzLnBhdGgsZS5wYXRoKT09PTB9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5wYXRoLnRvU3RyaW5nKCl9c3RhdGljIGNvbXBhcmF0b3IoZSxuKXtyZXR1cm4gYmUuY29tcGFyYXRvcihlLnBhdGgsbi5wYXRoKX1zdGF0aWMgaXNEb2N1bWVudEtleShlKXtyZXR1cm4gZS5sZW5ndGglMj09MH1zdGF0aWMgZnJvbVNlZ21lbnRzKGUpe3JldHVybiBuZXcgaihuZXcgYmUoZS5zbGljZSgpKSl9fWZ1bmN0aW9uIHEyKHQsZSl7Y29uc3Qgbj10LnRvVGltZXN0YW1wKCkuc2Vjb25kcyxyPXQudG9UaW1lc3RhbXAoKS5uYW5vc2Vjb25kcysxLGk9WS5mcm9tVGltZXN0YW1wKHI9PT0xZTk/bmV3IEJlKG4rMSwwKTpuZXcgQmUobixyKSk7cmV0dXJuIG5ldyBscihpLGouZW1wdHkoKSxlKX1mdW5jdGlvbiB6Mih0KXtyZXR1cm4gbmV3IGxyKHQucmVhZFRpbWUsdC5rZXksLTEpfWNsYXNzIGxye2NvbnN0cnVjdG9yKGUsbixyKXt0aGlzLnJlYWRUaW1lPWUsdGhpcy5kb2N1bWVudEtleT1uLHRoaXMubGFyZ2VzdEJhdGNoSWQ9cn1zdGF0aWMgbWluKCl7cmV0dXJuIG5ldyBscihZLm1pbigpLGouZW1wdHkoKSwtMSl9c3RhdGljIG1heCgpe3JldHVybiBuZXcgbHIoWS5tYXgoKSxqLmVtcHR5KCksLTEpfX1mdW5jdGlvbiBXMih0LGUpe2xldCBuPXQucmVhZFRpbWUuY29tcGFyZVRvKGUucmVhZFRpbWUpO3JldHVybiBuIT09MD9uOihuPWouY29tcGFyYXRvcih0LmRvY3VtZW50S2V5LGUuZG9jdW1lbnRLZXkpLG4hPT0wP246X2UodC5sYXJnZXN0QmF0Y2hJZCxlLmxhcmdlc3RCYXRjaElkKSl9Y29uc3QgRzI9IlRoZSBjdXJyZW50IHRhYiBpcyBub3QgaW4gdGhlIHJlcXVpcmVkIHN0YXRlIHRvIHBlcmZvcm0gdGhpcyBvcGVyYXRpb24uIEl0IG1pZ2h0IGJlIG5lY2Vzc2FyeSB0byByZWZyZXNoIHRoZSBicm93c2VyIHRhYi4iO2NsYXNzIEsye2NvbnN0cnVjdG9yKCl7dGhpcy5vbkNvbW1pdHRlZExpc3RlbmVycz1bXX1hZGRPbkNvbW1pdHRlZExpc3RlbmVyKGUpe3RoaXMub25Db21taXR0ZWRMaXN0ZW5lcnMucHVzaChlKX1yYWlzZU9uQ29tbWl0dGVkRXZlbnQoKXt0aGlzLm9uQ29tbWl0dGVkTGlzdGVuZXJzLmZvckVhY2goZT0+ZSgpKX19ZnVuY3Rpb24gdWEodCl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKHQuY29kZSE9PXcuRkFJTEVEX1BSRUNPTkRJVElPTnx8dC5tZXNzYWdlIT09RzIpdGhyb3cgdDtQKCJMb2NhbFN0b3JlIiwiVW5leHBlY3RlZGx5IGxvc3QgcHJpbWFyeSBsZWFzZSIpfSl9Y2xhc3MgSXtjb25zdHJ1Y3RvcihlKXt0aGlzLm5leHRDYWxsYmFjaz1udWxsLHRoaXMuY2F0Y2hDYWxsYmFjaz1udWxsLHRoaXMucmVzdWx0PXZvaWQgMCx0aGlzLmVycm9yPXZvaWQgMCx0aGlzLmlzRG9uZT0hMSx0aGlzLmNhbGxiYWNrQXR0YWNoZWQ9ITEsZShuPT57dGhpcy5pc0RvbmU9ITAsdGhpcy5yZXN1bHQ9bix0aGlzLm5leHRDYWxsYmFjayYmdGhpcy5uZXh0Q2FsbGJhY2sobil9LG49Pnt0aGlzLmlzRG9uZT0hMCx0aGlzLmVycm9yPW4sdGhpcy5jYXRjaENhbGxiYWNrJiZ0aGlzLmNhdGNoQ2FsbGJhY2sobil9KX1jYXRjaChlKXtyZXR1cm4gdGhpcy5uZXh0KHZvaWQgMCxlKX1uZXh0KGUsbil7cmV0dXJuIHRoaXMuY2FsbGJhY2tBdHRhY2hlZCYmeigpLHRoaXMuY2FsbGJhY2tBdHRhY2hlZD0hMCx0aGlzLmlzRG9uZT90aGlzLmVycm9yP3RoaXMud3JhcEZhaWx1cmUobix0aGlzLmVycm9yKTp0aGlzLndyYXBTdWNjZXNzKGUsdGhpcy5yZXN1bHQpOm5ldyBJKChyLGkpPT57dGhpcy5uZXh0Q2FsbGJhY2s9cz0+e3RoaXMud3JhcFN1Y2Nlc3MoZSxzKS5uZXh0KHIsaSl9LHRoaXMuY2F0Y2hDYWxsYmFjaz1zPT57dGhpcy53cmFwRmFpbHVyZShuLHMpLm5leHQocixpKX19KX10b1Byb21pc2UoKXtyZXR1cm4gbmV3IFByb21pc2UoKGUsbik9Pnt0aGlzLm5leHQoZSxuKX0pfXdyYXBVc2VyRnVuY3Rpb24oZSl7dHJ5e2NvbnN0IG49ZSgpO3JldHVybiBuIGluc3RhbmNlb2YgST9uOkkucmVzb2x2ZShuKX1jYXRjaChuKXtyZXR1cm4gSS5yZWplY3Qobil9fXdyYXBTdWNjZXNzKGUsbil7cmV0dXJuIGU/dGhpcy53cmFwVXNlckZ1bmN0aW9uKCgpPT5lKG4pKTpJLnJlc29sdmUobil9d3JhcEZhaWx1cmUoZSxuKXtyZXR1cm4gZT90aGlzLndyYXBVc2VyRnVuY3Rpb24oKCk9PmUobikpOkkucmVqZWN0KG4pfXN0YXRpYyByZXNvbHZlKGUpe3JldHVybiBuZXcgSSgobixyKT0+e24oZSl9KX1zdGF0aWMgcmVqZWN0KGUpe3JldHVybiBuZXcgSSgobixyKT0+e3IoZSl9KX1zdGF0aWMgd2FpdEZvcihlKXtyZXR1cm4gbmV3IEkoKG4scik9PntsZXQgaT0wLHM9MCxvPSExO2UuZm9yRWFjaChhPT57KytpLGEubmV4dCgoKT0+eysrcyxvJiZzPT09aSYmbigpfSxjPT5yKGMpKX0pLG89ITAscz09PWkmJm4oKX0pfXN0YXRpYyBvcihlKXtsZXQgbj1JLnJlc29sdmUoITEpO2Zvcihjb25zdCByIG9mIGUpbj1uLm5leHQoaT0+aT9JLnJlc29sdmUoaSk6cigpKTtyZXR1cm4gbn1zdGF0aWMgZm9yRWFjaChlLG4pe2NvbnN0IHI9W107cmV0dXJuIGUuZm9yRWFjaCgoaSxzKT0+e3IucHVzaChuLmNhbGwodGhpcyxpLHMpKX0pLHRoaXMud2FpdEZvcihyKX1zdGF0aWMgbWFwQXJyYXkoZSxuKXtyZXR1cm4gbmV3IEkoKHIsaSk9Pntjb25zdCBzPWUubGVuZ3RoLG89bmV3IEFycmF5KHMpO2xldCBhPTA7Zm9yKGxldCBjPTA7YzxzO2MrKyl7Y29uc3QgdT1jO24oZVt1XSkubmV4dChsPT57b1t1XT1sLCsrYSxhPT09cyYmcihvKX0sbD0+aShsKSl9fSl9c3RhdGljIGRvV2hpbGUoZSxuKXtyZXR1cm4gbmV3IEkoKHIsaSk9Pntjb25zdCBzPSgpPT57ZSgpPT09ITA/bigpLm5leHQoKCk9PntzKCl9LGkpOnIoKX07cygpfSl9fWNsYXNzIFhwe2NvbnN0cnVjdG9yKGUsbil7dGhpcy5hY3Rpb249ZSx0aGlzLnRyYW5zYWN0aW9uPW4sdGhpcy5hYm9ydGVkPSExLHRoaXMuVj1uZXcgb3IsdGhpcy50cmFuc2FjdGlvbi5vbmNvbXBsZXRlPSgpPT57dGhpcy5WLnJlc29sdmUoKX0sdGhpcy50cmFuc2FjdGlvbi5vbmFib3J0PSgpPT57bi5lcnJvcj90aGlzLlYucmVqZWN0KG5ldyAkcyhlLG4uZXJyb3IpKTp0aGlzLlYucmVzb2x2ZSgpfSx0aGlzLnRyYW5zYWN0aW9uLm9uZXJyb3I9cj0+e2NvbnN0IGk9WXAoci50YXJnZXQuZXJyb3IpO3RoaXMuVi5yZWplY3QobmV3ICRzKGUsaSkpfX1zdGF0aWMgb3BlbihlLG4scixpKXt0cnl7cmV0dXJuIG5ldyBYcChuLGUudHJhbnNhY3Rpb24oaSxyKSl9Y2F0Y2gocyl7dGhyb3cgbmV3ICRzKG4scyl9fWdldCBtKCl7cmV0dXJuIHRoaXMuVi5wcm9taXNlfWFib3J0KGUpe2UmJnRoaXMuVi5yZWplY3QoZSksdGhpcy5hYm9ydGVkfHwoUCgiU2ltcGxlRGIiLCJBYm9ydGluZyB0cmFuc2FjdGlvbjoiLGU/ZS5tZXNzYWdlOiJDbGllbnQtaW5pdGlhdGVkIGFib3J0IiksdGhpcy5hYm9ydGVkPSEwLHRoaXMudHJhbnNhY3Rpb24uYWJvcnQoKSl9Zygpe2NvbnN0IGU9dGhpcy50cmFuc2FjdGlvbjt0aGlzLmFib3J0ZWR8fHR5cGVvZiBlLmNvbW1pdCE9ImZ1bmN0aW9uInx8ZS5jb21taXQoKX1zdG9yZShlKXtjb25zdCBuPXRoaXMudHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoZSk7cmV0dXJuIG5ldyBaMihuKX19Y2xhc3MgTXJ7Y29uc3RydWN0b3IoZSxuLHIpe3RoaXMubmFtZT1lLHRoaXMudmVyc2lvbj1uLHRoaXMucD1yLE1yLlMoJGUoKSk9PT0xMi4yJiZ5bigiRmlyZXN0b3JlIHBlcnNpc3RlbmNlIHN1ZmZlcnMgZnJvbSBhIGJ1ZyBpbiBpT1MgMTIuMiBTYWZhcmkgdGhhdCBtYXkgY2F1c2UgeW91ciBhcHAgdG8gc3RvcCB3b3JraW5nLiBTZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xLzU2NDk2Mjk2LzExMDkxNSBmb3IgZGV0YWlscyBhbmQgYSBwb3RlbnRpYWwgd29ya2Fyb3VuZC4iKX1zdGF0aWMgZGVsZXRlKGUpe3JldHVybiBQKCJTaW1wbGVEYiIsIlJlbW92aW5nIGRhdGFiYXNlOiIsZSksQXIod2luZG93LmluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShlKSkudG9Qcm9taXNlKCl9c3RhdGljIEQoKXtpZighU1QoKSlyZXR1cm4hMTtpZihNci5DKCkpcmV0dXJuITA7Y29uc3QgZT0kZSgpLG49TXIuUyhlKSxyPTA8biYmbjwxMCxpPU1yLnYoZSkscz0wPGkmJmk8NC41O3JldHVybiEoZS5pbmRleE9mKCJNU0lFICIpPjB8fGUuaW5kZXhPZigiVHJpZGVudC8iKT4wfHxlLmluZGV4T2YoIkVkZ2UvIik+MHx8cnx8cyl9c3RhdGljIEMoKXt2YXIgZTtyZXR1cm4gdHlwZW9mIHByb2Nlc3M8InUiJiYoKGU9cHJvY2Vzcy5fX1BSSVZBVEVfZW52KT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuRik9PT0iWUVTIn1zdGF0aWMgTShlLG4pe3JldHVybiBlLnN0b3JlKG4pfXN0YXRpYyBTKGUpe2NvbnN0IG49ZS5tYXRjaCgvaSg/OnBob25lfHBhZHxwb2QpIG9zIChbXGRfXSspL2kpLHI9bj9uWzFdLnNwbGl0KCJfIikuc2xpY2UoMCwyKS5qb2luKCIuIik6Ii0xIjtyZXR1cm4gTnVtYmVyKHIpfXN0YXRpYyB2KGUpe2NvbnN0IG49ZS5tYXRjaCgvQW5kcm9pZCAoW1xkLl0rKS9pKSxyPW4/blsxXS5zcGxpdCgiLiIpLnNsaWNlKDAsMikuam9pbigiLiIpOiItMSI7cmV0dXJuIE51bWJlcihyKX1PKGUpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5kYnx8KFAoIlNpbXBsZURiIiwiT3BlbmluZyBkYXRhYmFzZToiLHRoaXMubmFtZSksdGhpcy5kYj15aWVsZCBuZXcgUHJvbWlzZSgobixyKT0+e2NvbnN0IGk9aW5kZXhlZERCLm9wZW4odGhpcy5uYW1lLHRoaXMudmVyc2lvbik7aS5vbnN1Y2Nlc3M9cz0+e2NvbnN0IG89cy50YXJnZXQucmVzdWx0O24obyl9LGkub25ibG9ja2VkPSgpPT57cihuZXcgJHMoZSwiQ2Fubm90IHVwZ3JhZGUgSW5kZXhlZERCIHNjaGVtYSB3aGlsZSBhbm90aGVyIHRhYiBpcyBvcGVuLiBDbG9zZSBhbGwgdGFicyB0aGF0IGFjY2VzcyBGaXJlc3RvcmUgYW5kIHJlbG9hZCB0aGlzIHBhZ2UgdG8gcHJvY2VlZC4iKSl9LGkub25lcnJvcj1zPT57Y29uc3Qgbz1zLnRhcmdldC5lcnJvcjtvLm5hbWU9PT0iVmVyc2lvbkVycm9yIj9yKG5ldyBrKHcuRkFJTEVEX1BSRUNPTkRJVElPTiwiQSBuZXdlciB2ZXJzaW9uIG9mIHRoZSBGaXJlc3RvcmUgU0RLIHdhcyBwcmV2aW91c2x5IHVzZWQgYW5kIHNvIHRoZSBwZXJzaXN0ZWQgZGF0YSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIHRoZSB2ZXJzaW9uIG9mIHRoZSBTREsgeW91IGFyZSBub3cgdXNpbmcuIFRoZSBTREsgd2lsbCBvcGVyYXRlIHdpdGggcGVyc2lzdGVuY2UgZGlzYWJsZWQuIElmIHlvdSBuZWVkIHBlcnNpc3RlbmNlLCBwbGVhc2UgcmUtdXBncmFkZSB0byBhIG5ld2VyIHZlcnNpb24gb2YgdGhlIFNESyBvciBlbHNlIGNsZWFyIHRoZSBwZXJzaXN0ZWQgSW5kZXhlZERCIGRhdGEgZm9yIHlvdXIgYXBwIHRvIHN0YXJ0IGZyZXNoLiIpKTpvLm5hbWU9PT0iSW52YWxpZFN0YXRlRXJyb3IiP3IobmV3IGsody5GQUlMRURfUFJFQ09ORElUSU9OLCJVbmFibGUgdG8gb3BlbiBhbiBJbmRleGVkREIgY29ubmVjdGlvbi4gVGhpcyBjb3VsZCBiZSBkdWUgdG8gcnVubmluZyBpbiBhIHByaXZhdGUgYnJvd3Npbmcgc2Vzc2lvbiBvbiBhIGJyb3dzZXIgd2hvc2UgcHJpdmF0ZSBicm93c2luZyBzZXNzaW9ucyBkbyBub3Qgc3VwcG9ydCBJbmRleGVkREI6ICIrbykpOnIobmV3ICRzKGUsbykpfSxpLm9udXBncmFkZW5lZWRlZD1zPT57UCgiU2ltcGxlRGIiLCdEYXRhYmFzZSAiJyt0aGlzLm5hbWUrJyIgcmVxdWlyZXMgdXBncmFkZSBmcm9tIHZlcnNpb246JyxzLm9sZFZlcnNpb24pO2NvbnN0IG89cy50YXJnZXQucmVzdWx0O3RoaXMucC5OKG8saS50cmFuc2FjdGlvbixzLm9sZFZlcnNpb24sdGhpcy52ZXJzaW9uKS5uZXh0KCgpPT57UCgiU2ltcGxlRGIiLCJEYXRhYmFzZSB1cGdyYWRlIHRvIHZlcnNpb24gIit0aGlzLnZlcnNpb24rIiBjb21wbGV0ZSIpfSl9fSkpLHRoaXMuQiYmKHRoaXMuZGIub252ZXJzaW9uY2hhbmdlPW49PnRoaXMuQihuKSksdGhpcy5kYn0pfUwoZSl7dGhpcy5CPWUsdGhpcy5kYiYmKHRoaXMuZGIub252ZXJzaW9uY2hhbmdlPW49PmUobikpfXJ1blRyYW5zYWN0aW9uKGUsbixyLGkpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCBzPW49PT0icmVhZG9ubHkiO2xldCBvPTA7Zm9yKDs7KXsrK287dHJ5e3RoaXMuZGI9eWllbGQgdGhpcy5PKGUpO2NvbnN0IGE9WHAub3Blbih0aGlzLmRiLGUscz8icmVhZG9ubHkiOiJyZWFkd3JpdGUiLHIpLGM9aShhKS5uZXh0KHU9PihhLmcoKSx1KSkuY2F0Y2godT0+KGEuYWJvcnQodSksSS5yZWplY3QodSkpKS50b1Byb21pc2UoKTtyZXR1cm4gYy5jYXRjaCgoKT0+e30pLHlpZWxkIGEubSxjfWNhdGNoKGEpe2NvbnN0IGM9YSx1PWMubmFtZSE9PSJGaXJlYmFzZUVycm9yIiYmbzwzO2lmKFAoIlNpbXBsZURiIiwiVHJhbnNhY3Rpb24gZmFpbGVkIHdpdGggZXJyb3I6IixjLm1lc3NhZ2UsIlJldHJ5aW5nOiIsdSksdGhpcy5jbG9zZSgpLCF1KXJldHVybiBQcm9taXNlLnJlamVjdChjKX19fSl9Y2xvc2UoKXt0aGlzLmRiJiZ0aGlzLmRiLmNsb3NlKCksdGhpcy5kYj12b2lkIDB9fWNsYXNzIFEye2NvbnN0cnVjdG9yKGUpe3RoaXMuaz1lLHRoaXMucT0hMSx0aGlzLks9bnVsbH1nZXQgaXNEb25lKCl7cmV0dXJuIHRoaXMucX1nZXQgJCgpe3JldHVybiB0aGlzLkt9c2V0IGN1cnNvcihlKXt0aGlzLms9ZX1kb25lKCl7dGhpcy5xPSEwfVUoZSl7dGhpcy5LPWV9ZGVsZXRlKCl7cmV0dXJuIEFyKHRoaXMuay5kZWxldGUoKSl9fWNsYXNzICRzIGV4dGVuZHMga3tjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKHcuVU5BVkFJTEFCTEUsYEluZGV4ZWREQiB0cmFuc2FjdGlvbiAnJHtlfScgZmFpbGVkOiAke259YCksdGhpcy5uYW1lPSJJbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yIn19ZnVuY3Rpb24gbGEodCl7cmV0dXJuIHQubmFtZT09PSJJbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yIn1jbGFzcyBaMntjb25zdHJ1Y3RvcihlKXt0aGlzLnN0b3JlPWV9cHV0KGUsbil7bGV0IHI7cmV0dXJuIG4hPT12b2lkIDA/KFAoIlNpbXBsZURiIiwiUFVUIix0aGlzLnN0b3JlLm5hbWUsZSxuKSxyPXRoaXMuc3RvcmUucHV0KG4sZSkpOihQKCJTaW1wbGVEYiIsIlBVVCIsdGhpcy5zdG9yZS5uYW1lLCI8YXV0by1rZXk+IixlKSxyPXRoaXMuc3RvcmUucHV0KGUpKSxBcihyKX1hZGQoZSl7cmV0dXJuIFAoIlNpbXBsZURiIiwiQUREIix0aGlzLnN0b3JlLm5hbWUsZSxlKSxBcih0aGlzLnN0b3JlLmFkZChlKSl9Z2V0KGUpe3JldHVybiBBcih0aGlzLnN0b3JlLmdldChlKSkubmV4dChuPT4obj09PXZvaWQgMCYmKG49bnVsbCksUCgiU2ltcGxlRGIiLCJHRVQiLHRoaXMuc3RvcmUubmFtZSxlLG4pLG4pKX1kZWxldGUoZSl7cmV0dXJuIFAoIlNpbXBsZURiIiwiREVMRVRFIix0aGlzLnN0b3JlLm5hbWUsZSksQXIodGhpcy5zdG9yZS5kZWxldGUoZSkpfWNvdW50KCl7cmV0dXJuIFAoIlNpbXBsZURiIiwiQ09VTlQiLHRoaXMuc3RvcmUubmFtZSksQXIodGhpcy5zdG9yZS5jb3VudCgpKX1XKGUsbil7Y29uc3Qgcj10aGlzLm9wdGlvbnMoZSxuKSxpPXIuaW5kZXg/dGhpcy5zdG9yZS5pbmRleChyLmluZGV4KTp0aGlzLnN0b3JlO2lmKHR5cGVvZiBpLmdldEFsbD09ImZ1bmN0aW9uIil7Y29uc3Qgcz1pLmdldEFsbChyLnJhbmdlKTtyZXR1cm4gbmV3IEkoKG8sYSk9PntzLm9uZXJyb3I9Yz0+e2EoYy50YXJnZXQuZXJyb3IpfSxzLm9uc3VjY2Vzcz1jPT57byhjLnRhcmdldC5yZXN1bHQpfX0pfXtjb25zdCBzPXRoaXMuY3Vyc29yKHIpLG89W107cmV0dXJuIHRoaXMuRyhzLChhLGMpPT57by5wdXNoKGMpfSkubmV4dCgoKT0+byl9fWooZSxuKXtjb25zdCByPXRoaXMuc3RvcmUuZ2V0QWxsKGUsbj09PW51bGw/dm9pZCAwOm4pO3JldHVybiBuZXcgSSgoaSxzKT0+e3Iub25lcnJvcj1vPT57cyhvLnRhcmdldC5lcnJvcil9LHIub25zdWNjZXNzPW89PntpKG8udGFyZ2V0LnJlc3VsdCl9fSl9SChlLG4pe1AoIlNpbXBsZURiIiwiREVMRVRFIEFMTCIsdGhpcy5zdG9yZS5uYW1lKTtjb25zdCByPXRoaXMub3B0aW9ucyhlLG4pO3IuSj0hMTtjb25zdCBpPXRoaXMuY3Vyc29yKHIpO3JldHVybiB0aGlzLkcoaSwocyxvLGEpPT5hLmRlbGV0ZSgpKX1ZKGUsbil7bGV0IHI7bj9yPWU6KHI9e30sbj1lKTtjb25zdCBpPXRoaXMuY3Vyc29yKHIpO3JldHVybiB0aGlzLkcoaSxuKX1aKGUpe2NvbnN0IG49dGhpcy5jdXJzb3Ioe30pO3JldHVybiBuZXcgSSgocixpKT0+e24ub25lcnJvcj1zPT57Y29uc3Qgbz1ZcChzLnRhcmdldC5lcnJvcik7aShvKX0sbi5vbnN1Y2Nlc3M9cz0+e2NvbnN0IG89cy50YXJnZXQucmVzdWx0O28/ZShvLnByaW1hcnlLZXksby52YWx1ZSkubmV4dChhPT57YT9vLmNvbnRpbnVlKCk6cigpfSk6cigpfX0pfUcoZSxuKXtjb25zdCByPVtdO3JldHVybiBuZXcgSSgoaSxzKT0+e2Uub25lcnJvcj1vPT57cyhvLnRhcmdldC5lcnJvcil9LGUub25zdWNjZXNzPW89Pntjb25zdCBhPW8udGFyZ2V0LnJlc3VsdDtpZighYSlyZXR1cm4gdm9pZCBpKCk7Y29uc3QgYz1uZXcgUTIoYSksdT1uKGEucHJpbWFyeUtleSxhLnZhbHVlLGMpO2lmKHUgaW5zdGFuY2VvZiBJKXtjb25zdCBsPXUuY2F0Y2goaD0+KGMuZG9uZSgpLEkucmVqZWN0KGgpKSk7ci5wdXNoKGwpfWMuaXNEb25lP2koKTpjLiQ9PT1udWxsP2EuY29udGludWUoKTphLmNvbnRpbnVlKGMuJCl9fSkubmV4dCgoKT0+SS53YWl0Rm9yKHIpKX1vcHRpb25zKGUsbil7bGV0IHI7cmV0dXJuIGUhPT12b2lkIDAmJih0eXBlb2YgZT09InN0cmluZyI/cj1lOm49ZSkse2luZGV4OnIscmFuZ2U6bn19Y3Vyc29yKGUpe2xldCBuPSJuZXh0IjtpZihlLnJldmVyc2UmJihuPSJwcmV2IiksZS5pbmRleCl7Y29uc3Qgcj10aGlzLnN0b3JlLmluZGV4KGUuaW5kZXgpO3JldHVybiBlLko/ci5vcGVuS2V5Q3Vyc29yKGUucmFuZ2Usbik6ci5vcGVuQ3Vyc29yKGUucmFuZ2Usbil9cmV0dXJuIHRoaXMuc3RvcmUub3BlbkN1cnNvcihlLnJhbmdlLG4pfX1mdW5jdGlvbiBBcih0KXtyZXR1cm4gbmV3IEkoKGUsbik9Pnt0Lm9uc3VjY2Vzcz1yPT57Y29uc3QgaT1yLnRhcmdldC5yZXN1bHQ7ZShpKX0sdC5vbmVycm9yPXI9Pntjb25zdCBpPVlwKHIudGFyZ2V0LmVycm9yKTtuKGkpfX0pfWxldCBHeT0hMTtmdW5jdGlvbiBZcCh0KXtjb25zdCBlPU1yLlMoJGUoKSk7aWYoZT49MTIuMiYmZTwxMyl7Y29uc3Qgbj0iQW4gaW50ZXJuYWwgZXJyb3Igd2FzIGVuY291bnRlcmVkIGluIHRoZSBJbmRleGVkIERhdGFiYXNlIHNlcnZlciI7aWYodC5tZXNzYWdlLmluZGV4T2Yobik+PTApe2NvbnN0IHI9bmV3IGsoImludGVybmFsIixgSU9TX0lOREVYRUREQl9CVUcxOiBJbmRleGVkRGIgaGFzIHRocm93biAnJHtufScuIFRoaXMgaXMgbGlrZWx5IGR1ZSB0byBhbiB1bmF2b2lkYWJsZSBidWcgaW4gaU9TLiBTZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xLzU2NDk2Mjk2LzExMDkxNSBmb3IgZGV0YWlscyBhbmQgYSBwb3RlbnRpYWwgd29ya2Fyb3VuZC5gKTtyZXR1cm4gR3l8fChHeT0hMCxzZXRUaW1lb3V0KCgpPT57dGhyb3cgcn0sMCkpLHJ9fXJldHVybiB0fWxldCBwQz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKG4scil7dGhpcy5wcmV2aW91c1ZhbHVlPW4sciYmKHIuc2VxdWVuY2VOdW1iZXJIYW5kbGVyPWk9PnRoaXMuc2UoaSksdGhpcy5vZT1pPT5yLndyaXRlU2VxdWVuY2VOdW1iZXIoaSkpfXNlKG4pe3JldHVybiB0aGlzLnByZXZpb3VzVmFsdWU9TWF0aC5tYXgobix0aGlzLnByZXZpb3VzVmFsdWUpLHRoaXMucHJldmlvdXNWYWx1ZX1uZXh0KCl7Y29uc3Qgbj0rK3RoaXMucHJldmlvdXNWYWx1ZTtyZXR1cm4gdGhpcy5vZSYmdGhpcy5vZShuKSxufX1yZXR1cm4gdC5fZT0tMSx0fSkoKTtmdW5jdGlvbiBLdSh0KXtyZXR1cm4gdD09bnVsbH1mdW5jdGlvbiAkYyh0KXtyZXR1cm4gdD09PTAmJjEvdD09LTEvMH1mdW5jdGlvbiBYMih0KXtyZXR1cm4gdHlwZW9mIHQ9PSJudW1iZXIiJiZOdW1iZXIuaXNJbnRlZ2VyKHQpJiYhJGModCkmJnQ8PU51bWJlci5NQVhfU0FGRV9JTlRFR0VSJiZ0Pj1OdW1iZXIuTUlOX1NBRkVfSU5URUdFUn1mdW5jdGlvbiBLeSh0KXtsZXQgZT0wO2Zvcihjb25zdCBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJmUrKztyZXR1cm4gZX1mdW5jdGlvbiByaSh0LGUpe2Zvcihjb25zdCBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJmUobix0W25dKX1mdW5jdGlvbiBnQyh0KXtmb3IoY29uc3QgZSBpbiB0KWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpKXJldHVybiExO3JldHVybiEwfWNsYXNzIE5le2NvbnN0cnVjdG9yKGUsbil7dGhpcy5jb21wYXJhdG9yPWUsdGhpcy5yb290PW58fGV0LkVNUFRZfWluc2VydChlLG4pe3JldHVybiBuZXcgTmUodGhpcy5jb21wYXJhdG9yLHRoaXMucm9vdC5pbnNlcnQoZSxuLHRoaXMuY29tcGFyYXRvcikuY29weShudWxsLG51bGwsZXQuQkxBQ0ssbnVsbCxudWxsKSl9cmVtb3ZlKGUpe3JldHVybiBuZXcgTmUodGhpcy5jb21wYXJhdG9yLHRoaXMucm9vdC5yZW1vdmUoZSx0aGlzLmNvbXBhcmF0b3IpLmNvcHkobnVsbCxudWxsLGV0LkJMQUNLLG51bGwsbnVsbCkpfWdldChlKXtsZXQgbj10aGlzLnJvb3Q7Zm9yKDshbi5pc0VtcHR5KCk7KXtjb25zdCByPXRoaXMuY29tcGFyYXRvcihlLG4ua2V5KTtpZihyPT09MClyZXR1cm4gbi52YWx1ZTtyPDA/bj1uLmxlZnQ6cj4wJiYobj1uLnJpZ2h0KX1yZXR1cm4gbnVsbH1pbmRleE9mKGUpe2xldCBuPTAscj10aGlzLnJvb3Q7Zm9yKDshci5pc0VtcHR5KCk7KXtjb25zdCBpPXRoaXMuY29tcGFyYXRvcihlLHIua2V5KTtpZihpPT09MClyZXR1cm4gbityLmxlZnQuc2l6ZTtpPDA/cj1yLmxlZnQ6KG4rPXIubGVmdC5zaXplKzEscj1yLnJpZ2h0KX1yZXR1cm4tMX1pc0VtcHR5KCl7cmV0dXJuIHRoaXMucm9vdC5pc0VtcHR5KCl9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5yb290LnNpemV9bWluS2V5KCl7cmV0dXJuIHRoaXMucm9vdC5taW5LZXkoKX1tYXhLZXkoKXtyZXR1cm4gdGhpcy5yb290Lm1heEtleSgpfWlub3JkZXJUcmF2ZXJzYWwoZSl7cmV0dXJuIHRoaXMucm9vdC5pbm9yZGVyVHJhdmVyc2FsKGUpfWZvckVhY2goZSl7dGhpcy5pbm9yZGVyVHJhdmVyc2FsKChuLHIpPT4oZShuLHIpLCExKSl9dG9TdHJpbmcoKXtjb25zdCBlPVtdO3JldHVybiB0aGlzLmlub3JkZXJUcmF2ZXJzYWwoKG4scik9PihlLnB1c2goYCR7bn06JHtyfWApLCExKSksYHske2Uuam9pbigiLCAiKX19YH1yZXZlcnNlVHJhdmVyc2FsKGUpe3JldHVybiB0aGlzLnJvb3QucmV2ZXJzZVRyYXZlcnNhbChlKX1nZXRJdGVyYXRvcigpe3JldHVybiBuZXcgT2EodGhpcy5yb290LG51bGwsdGhpcy5jb21wYXJhdG9yLCExKX1nZXRJdGVyYXRvckZyb20oZSl7cmV0dXJuIG5ldyBPYSh0aGlzLnJvb3QsZSx0aGlzLmNvbXBhcmF0b3IsITEpfWdldFJldmVyc2VJdGVyYXRvcigpe3JldHVybiBuZXcgT2EodGhpcy5yb290LG51bGwsdGhpcy5jb21wYXJhdG9yLCEwKX1nZXRSZXZlcnNlSXRlcmF0b3JGcm9tKGUpe3JldHVybiBuZXcgT2EodGhpcy5yb290LGUsdGhpcy5jb21wYXJhdG9yLCEwKX19Y2xhc3MgT2F7Y29uc3RydWN0b3IoZSxuLHIsaSl7dGhpcy5pc1JldmVyc2U9aSx0aGlzLm5vZGVTdGFjaz1bXTtsZXQgcz0xO2Zvcig7IWUuaXNFbXB0eSgpOylpZihzPW4/cihlLmtleSxuKToxLG4mJmkmJihzKj0tMSksczwwKWU9dGhpcy5pc1JldmVyc2U/ZS5sZWZ0OmUucmlnaHQ7ZWxzZXtpZihzPT09MCl7dGhpcy5ub2RlU3RhY2sucHVzaChlKTticmVha310aGlzLm5vZGVTdGFjay5wdXNoKGUpLGU9dGhpcy5pc1JldmVyc2U/ZS5yaWdodDplLmxlZnR9fWdldE5leHQoKXtsZXQgZT10aGlzLm5vZGVTdGFjay5wb3AoKTtjb25zdCBuPXtrZXk6ZS5rZXksdmFsdWU6ZS52YWx1ZX07aWYodGhpcy5pc1JldmVyc2UpZm9yKGU9ZS5sZWZ0OyFlLmlzRW1wdHkoKTspdGhpcy5ub2RlU3RhY2sucHVzaChlKSxlPWUucmlnaHQ7ZWxzZSBmb3IoZT1lLnJpZ2h0OyFlLmlzRW1wdHkoKTspdGhpcy5ub2RlU3RhY2sucHVzaChlKSxlPWUubGVmdDtyZXR1cm4gbn1oYXNOZXh0KCl7cmV0dXJuIHRoaXMubm9kZVN0YWNrLmxlbmd0aD4wfXBlZWsoKXtpZih0aGlzLm5vZGVTdGFjay5sZW5ndGg9PT0wKXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5ub2RlU3RhY2tbdGhpcy5ub2RlU3RhY2subGVuZ3RoLTFdO3JldHVybntrZXk6ZS5rZXksdmFsdWU6ZS52YWx1ZX19fWNsYXNzIGV0e2NvbnN0cnVjdG9yKGUsbixyLGkscyl7dGhpcy5rZXk9ZSx0aGlzLnZhbHVlPW4sdGhpcy5jb2xvcj1yPz9ldC5SRUQsdGhpcy5sZWZ0PWk/P2V0LkVNUFRZLHRoaXMucmlnaHQ9cz8/ZXQuRU1QVFksdGhpcy5zaXplPXRoaXMubGVmdC5zaXplKzErdGhpcy5yaWdodC5zaXplfWNvcHkoZSxuLHIsaSxzKXtyZXR1cm4gbmV3IGV0KGU/P3RoaXMua2V5LG4/P3RoaXMudmFsdWUscj8/dGhpcy5jb2xvcixpPz90aGlzLmxlZnQscz8/dGhpcy5yaWdodCl9aXNFbXB0eSgpe3JldHVybiExfWlub3JkZXJUcmF2ZXJzYWwoZSl7cmV0dXJuIHRoaXMubGVmdC5pbm9yZGVyVHJhdmVyc2FsKGUpfHxlKHRoaXMua2V5LHRoaXMudmFsdWUpfHx0aGlzLnJpZ2h0Lmlub3JkZXJUcmF2ZXJzYWwoZSl9cmV2ZXJzZVRyYXZlcnNhbChlKXtyZXR1cm4gdGhpcy5yaWdodC5yZXZlcnNlVHJhdmVyc2FsKGUpfHxlKHRoaXMua2V5LHRoaXMudmFsdWUpfHx0aGlzLmxlZnQucmV2ZXJzZVRyYXZlcnNhbChlKX1taW4oKXtyZXR1cm4gdGhpcy5sZWZ0LmlzRW1wdHkoKT90aGlzOnRoaXMubGVmdC5taW4oKX1taW5LZXkoKXtyZXR1cm4gdGhpcy5taW4oKS5rZXl9bWF4S2V5KCl7cmV0dXJuIHRoaXMucmlnaHQuaXNFbXB0eSgpP3RoaXMua2V5OnRoaXMucmlnaHQubWF4S2V5KCl9aW5zZXJ0KGUsbixyKXtsZXQgaT10aGlzO2NvbnN0IHM9cihlLGkua2V5KTtyZXR1cm4gaT1zPDA/aS5jb3B5KG51bGwsbnVsbCxudWxsLGkubGVmdC5pbnNlcnQoZSxuLHIpLG51bGwpOnM9PT0wP2kuY29weShudWxsLG4sbnVsbCxudWxsLG51bGwpOmkuY29weShudWxsLG51bGwsbnVsbCxudWxsLGkucmlnaHQuaW5zZXJ0KGUsbixyKSksaS5maXhVcCgpfXJlbW92ZU1pbigpe2lmKHRoaXMubGVmdC5pc0VtcHR5KCkpcmV0dXJuIGV0LkVNUFRZO2xldCBlPXRoaXM7cmV0dXJuIGUubGVmdC5pc1JlZCgpfHxlLmxlZnQubGVmdC5pc1JlZCgpfHwoZT1lLm1vdmVSZWRMZWZ0KCkpLGU9ZS5jb3B5KG51bGwsbnVsbCxudWxsLGUubGVmdC5yZW1vdmVNaW4oKSxudWxsKSxlLmZpeFVwKCl9cmVtb3ZlKGUsbil7bGV0IHIsaT10aGlzO2lmKG4oZSxpLmtleSk8MClpLmxlZnQuaXNFbXB0eSgpfHxpLmxlZnQuaXNSZWQoKXx8aS5sZWZ0LmxlZnQuaXNSZWQoKXx8KGk9aS5tb3ZlUmVkTGVmdCgpKSxpPWkuY29weShudWxsLG51bGwsbnVsbCxpLmxlZnQucmVtb3ZlKGUsbiksbnVsbCk7ZWxzZXtpZihpLmxlZnQuaXNSZWQoKSYmKGk9aS5yb3RhdGVSaWdodCgpKSxpLnJpZ2h0LmlzRW1wdHkoKXx8aS5yaWdodC5pc1JlZCgpfHxpLnJpZ2h0LmxlZnQuaXNSZWQoKXx8KGk9aS5tb3ZlUmVkUmlnaHQoKSksbihlLGkua2V5KT09PTApe2lmKGkucmlnaHQuaXNFbXB0eSgpKXJldHVybiBldC5FTVBUWTtyPWkucmlnaHQubWluKCksaT1pLmNvcHkoci5rZXksci52YWx1ZSxudWxsLG51bGwsaS5yaWdodC5yZW1vdmVNaW4oKSl9aT1pLmNvcHkobnVsbCxudWxsLG51bGwsbnVsbCxpLnJpZ2h0LnJlbW92ZShlLG4pKX1yZXR1cm4gaS5maXhVcCgpfWlzUmVkKCl7cmV0dXJuIHRoaXMuY29sb3J9Zml4VXAoKXtsZXQgZT10aGlzO3JldHVybiBlLnJpZ2h0LmlzUmVkKCkmJiFlLmxlZnQuaXNSZWQoKSYmKGU9ZS5yb3RhdGVMZWZ0KCkpLGUubGVmdC5pc1JlZCgpJiZlLmxlZnQubGVmdC5pc1JlZCgpJiYoZT1lLnJvdGF0ZVJpZ2h0KCkpLGUubGVmdC5pc1JlZCgpJiZlLnJpZ2h0LmlzUmVkKCkmJihlPWUuY29sb3JGbGlwKCkpLGV9bW92ZVJlZExlZnQoKXtsZXQgZT10aGlzLmNvbG9yRmxpcCgpO3JldHVybiBlLnJpZ2h0LmxlZnQuaXNSZWQoKSYmKGU9ZS5jb3B5KG51bGwsbnVsbCxudWxsLG51bGwsZS5yaWdodC5yb3RhdGVSaWdodCgpKSxlPWUucm90YXRlTGVmdCgpLGU9ZS5jb2xvckZsaXAoKSksZX1tb3ZlUmVkUmlnaHQoKXtsZXQgZT10aGlzLmNvbG9yRmxpcCgpO3JldHVybiBlLmxlZnQubGVmdC5pc1JlZCgpJiYoZT1lLnJvdGF0ZVJpZ2h0KCksZT1lLmNvbG9yRmxpcCgpKSxlfXJvdGF0ZUxlZnQoKXtjb25zdCBlPXRoaXMuY29weShudWxsLG51bGwsZXQuUkVELG51bGwsdGhpcy5yaWdodC5sZWZ0KTtyZXR1cm4gdGhpcy5yaWdodC5jb3B5KG51bGwsbnVsbCx0aGlzLmNvbG9yLGUsbnVsbCl9cm90YXRlUmlnaHQoKXtjb25zdCBlPXRoaXMuY29weShudWxsLG51bGwsZXQuUkVELHRoaXMubGVmdC5yaWdodCxudWxsKTtyZXR1cm4gdGhpcy5sZWZ0LmNvcHkobnVsbCxudWxsLHRoaXMuY29sb3IsbnVsbCxlKX1jb2xvckZsaXAoKXtjb25zdCBlPXRoaXMubGVmdC5jb3B5KG51bGwsbnVsbCwhdGhpcy5sZWZ0LmNvbG9yLG51bGwsbnVsbCksbj10aGlzLnJpZ2h0LmNvcHkobnVsbCxudWxsLCF0aGlzLnJpZ2h0LmNvbG9yLG51bGwsbnVsbCk7cmV0dXJuIHRoaXMuY29weShudWxsLG51bGwsIXRoaXMuY29sb3IsZSxuKX1jaGVja01heERlcHRoKCl7Y29uc3QgZT10aGlzLmNoZWNrKCk7cmV0dXJuIE1hdGgucG93KDIsZSk8PXRoaXMuc2l6ZSsxfWNoZWNrKCl7aWYodGhpcy5pc1JlZCgpJiZ0aGlzLmxlZnQuaXNSZWQoKXx8dGhpcy5yaWdodC5pc1JlZCgpKXRocm93IHooKTtjb25zdCBlPXRoaXMubGVmdC5jaGVjaygpO2lmKGUhPT10aGlzLnJpZ2h0LmNoZWNrKCkpdGhyb3cgeigpO3JldHVybiBlKyh0aGlzLmlzUmVkKCk/MDoxKX19ZXQuRU1QVFk9bnVsbCxldC5SRUQ9ITAsZXQuQkxBQ0s9ITE7ZXQuRU1QVFk9bmV3IGNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5zaXplPTB9Z2V0IGtleSgpe3Rocm93IHooKX1nZXQgdmFsdWUoKXt0aHJvdyB6KCl9Z2V0IGNvbG9yKCl7dGhyb3cgeigpfWdldCBsZWZ0KCl7dGhyb3cgeigpfWdldCByaWdodCgpe3Rocm93IHooKX1jb3B5KGUsbixyLGkscyl7cmV0dXJuIHRoaXN9aW5zZXJ0KGUsbixyKXtyZXR1cm4gbmV3IGV0KGUsbil9cmVtb3ZlKGUsbil7cmV0dXJuIHRoaXN9aXNFbXB0eSgpe3JldHVybiEwfWlub3JkZXJUcmF2ZXJzYWwoZSl7cmV0dXJuITF9cmV2ZXJzZVRyYXZlcnNhbChlKXtyZXR1cm4hMX1taW5LZXkoKXtyZXR1cm4gbnVsbH1tYXhLZXkoKXtyZXR1cm4gbnVsbH1pc1JlZCgpe3JldHVybiExfWNoZWNrTWF4RGVwdGgoKXtyZXR1cm4hMH1jaGVjaygpe3JldHVybiAwfX07Y2xhc3MgaXR7Y29uc3RydWN0b3IoZSl7dGhpcy5jb21wYXJhdG9yPWUsdGhpcy5kYXRhPW5ldyBOZSh0aGlzLmNvbXBhcmF0b3IpfWhhcyhlKXtyZXR1cm4gdGhpcy5kYXRhLmdldChlKSE9PW51bGx9Zmlyc3QoKXtyZXR1cm4gdGhpcy5kYXRhLm1pbktleSgpfWxhc3QoKXtyZXR1cm4gdGhpcy5kYXRhLm1heEtleSgpfWdldCBzaXplKCl7cmV0dXJuIHRoaXMuZGF0YS5zaXplfWluZGV4T2YoZSl7cmV0dXJuIHRoaXMuZGF0YS5pbmRleE9mKGUpfWZvckVhY2goZSl7dGhpcy5kYXRhLmlub3JkZXJUcmF2ZXJzYWwoKG4scik9PihlKG4pLCExKSl9Zm9yRWFjaEluUmFuZ2UoZSxuKXtjb25zdCByPXRoaXMuZGF0YS5nZXRJdGVyYXRvckZyb20oZVswXSk7Zm9yKDtyLmhhc05leHQoKTspe2NvbnN0IGk9ci5nZXROZXh0KCk7aWYodGhpcy5jb21wYXJhdG9yKGkua2V5LGVbMV0pPj0wKXJldHVybjtuKGkua2V5KX19Zm9yRWFjaFdoaWxlKGUsbil7bGV0IHI7Zm9yKHI9biE9PXZvaWQgMD90aGlzLmRhdGEuZ2V0SXRlcmF0b3JGcm9tKG4pOnRoaXMuZGF0YS5nZXRJdGVyYXRvcigpO3IuaGFzTmV4dCgpOylpZighZShyLmdldE5leHQoKS5rZXkpKXJldHVybn1maXJzdEFmdGVyT3JFcXVhbChlKXtjb25zdCBuPXRoaXMuZGF0YS5nZXRJdGVyYXRvckZyb20oZSk7cmV0dXJuIG4uaGFzTmV4dCgpP24uZ2V0TmV4dCgpLmtleTpudWxsfWdldEl0ZXJhdG9yKCl7cmV0dXJuIG5ldyBReSh0aGlzLmRhdGEuZ2V0SXRlcmF0b3IoKSl9Z2V0SXRlcmF0b3JGcm9tKGUpe3JldHVybiBuZXcgUXkodGhpcy5kYXRhLmdldEl0ZXJhdG9yRnJvbShlKSl9YWRkKGUpe3JldHVybiB0aGlzLmNvcHkodGhpcy5kYXRhLnJlbW92ZShlKS5pbnNlcnQoZSwhMCkpfWRlbGV0ZShlKXtyZXR1cm4gdGhpcy5oYXMoZSk/dGhpcy5jb3B5KHRoaXMuZGF0YS5yZW1vdmUoZSkpOnRoaXN9aXNFbXB0eSgpe3JldHVybiB0aGlzLmRhdGEuaXNFbXB0eSgpfXVuaW9uV2l0aChlKXtsZXQgbj10aGlzO3JldHVybiBuLnNpemU8ZS5zaXplJiYobj1lLGU9dGhpcyksZS5mb3JFYWNoKHI9PntuPW4uYWRkKHIpfSksbn1pc0VxdWFsKGUpe2lmKCEoZSBpbnN0YW5jZW9mIGl0KXx8dGhpcy5zaXplIT09ZS5zaXplKXJldHVybiExO2NvbnN0IG49dGhpcy5kYXRhLmdldEl0ZXJhdG9yKCkscj1lLmRhdGEuZ2V0SXRlcmF0b3IoKTtmb3IoO24uaGFzTmV4dCgpOyl7Y29uc3QgaT1uLmdldE5leHQoKS5rZXkscz1yLmdldE5leHQoKS5rZXk7aWYodGhpcy5jb21wYXJhdG9yKGkscykhPT0wKXJldHVybiExfXJldHVybiEwfXRvQXJyYXkoKXtjb25zdCBlPVtdO3JldHVybiB0aGlzLmZvckVhY2gobj0+e2UucHVzaChuKX0pLGV9dG9TdHJpbmcoKXtjb25zdCBlPVtdO3JldHVybiB0aGlzLmZvckVhY2gobj0+ZS5wdXNoKG4pKSwiU29ydGVkU2V0KCIrZS50b1N0cmluZygpKyIpIn1jb3B5KGUpe2NvbnN0IG49bmV3IGl0KHRoaXMuY29tcGFyYXRvcik7cmV0dXJuIG4uZGF0YT1lLG59fWNsYXNzIFF5e2NvbnN0cnVjdG9yKGUpe3RoaXMuaXRlcj1lfWdldE5leHQoKXtyZXR1cm4gdGhpcy5pdGVyLmdldE5leHQoKS5rZXl9aGFzTmV4dCgpe3JldHVybiB0aGlzLml0ZXIuaGFzTmV4dCgpfX1jbGFzcyBEdHtjb25zdHJ1Y3RvcihlKXt0aGlzLmZpZWxkcz1lLGUuc29ydChudC5jb21wYXJhdG9yKX1zdGF0aWMgZW1wdHkoKXtyZXR1cm4gbmV3IER0KFtdKX11bmlvbldpdGgoZSl7bGV0IG49bmV3IGl0KG50LmNvbXBhcmF0b3IpO2Zvcihjb25zdCByIG9mIHRoaXMuZmllbGRzKW49bi5hZGQocik7Zm9yKGNvbnN0IHIgb2YgZSluPW4uYWRkKHIpO3JldHVybiBuZXcgRHQobi50b0FycmF5KCkpfWNvdmVycyhlKXtmb3IoY29uc3QgbiBvZiB0aGlzLmZpZWxkcylpZihuLmlzUHJlZml4T2YoZSkpcmV0dXJuITA7cmV0dXJuITF9aXNFcXVhbChlKXtyZXR1cm4gS2kodGhpcy5maWVsZHMsZS5maWVsZHMsKG4scik9Pm4uaXNFcXVhbChyKSl9fWNsYXNzIG1DIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMubmFtZT0iQmFzZTY0RGVjb2RlRXJyb3IifX1jbGFzcyBtdHtjb25zdHJ1Y3RvcihlKXt0aGlzLmJpbmFyeVN0cmluZz1lfXN0YXRpYyBmcm9tQmFzZTY0U3RyaW5nKGUpe2NvbnN0IG49ZnVuY3Rpb24oaSl7dHJ5e3JldHVybiBhdG9iKGkpfWNhdGNoKHMpe3Rocm93IHR5cGVvZiBET01FeGNlcHRpb248InUiJiZzIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uP25ldyBtQygiSW52YWxpZCBiYXNlNjQgc3RyaW5nOiAiK3MpOnN9fShlKTtyZXR1cm4gbmV3IG10KG4pfXN0YXRpYyBmcm9tVWludDhBcnJheShlKXtjb25zdCBuPWZ1bmN0aW9uKGkpe2xldCBzPSIiO2ZvcihsZXQgbz0wO288aS5sZW5ndGg7KytvKXMrPVN0cmluZy5mcm9tQ2hhckNvZGUoaVtvXSk7cmV0dXJuIHN9KGUpO3JldHVybiBuZXcgbXQobil9W1N5bWJvbC5pdGVyYXRvcl0oKXtsZXQgZT0wO3JldHVybntuZXh0OigpPT5lPHRoaXMuYmluYXJ5U3RyaW5nLmxlbmd0aD97dmFsdWU6dGhpcy5iaW5hcnlTdHJpbmcuY2hhckNvZGVBdChlKyspLGRvbmU6ITF9Ont2YWx1ZTp2b2lkIDAsZG9uZTohMH19fXRvQmFzZTY0KCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBidG9hKG4pfSh0aGlzLmJpbmFyeVN0cmluZyl9dG9VaW50OEFycmF5KCl7cmV0dXJuIGZ1bmN0aW9uKG4pe2NvbnN0IHI9bmV3IFVpbnQ4QXJyYXkobi5sZW5ndGgpO2ZvcihsZXQgaT0wO2k8bi5sZW5ndGg7aSsrKXJbaV09bi5jaGFyQ29kZUF0KGkpO3JldHVybiByfSh0aGlzLmJpbmFyeVN0cmluZyl9YXBwcm94aW1hdGVCeXRlU2l6ZSgpe3JldHVybiAyKnRoaXMuYmluYXJ5U3RyaW5nLmxlbmd0aH1jb21wYXJlVG8oZSl7cmV0dXJuIF9lKHRoaXMuYmluYXJ5U3RyaW5nLGUuYmluYXJ5U3RyaW5nKX1pc0VxdWFsKGUpe3JldHVybiB0aGlzLmJpbmFyeVN0cmluZz09PWUuYmluYXJ5U3RyaW5nfX1tdC5FTVBUWV9CWVRFX1NUUklORz1uZXcgbXQoIiIpO2NvbnN0IFkyPW5ldyBSZWdFeHAoL15cZHs0fS1cZFxkLVxkXGRUXGRcZDpcZFxkOlxkXGQoPzpcLihcZCspKT9aJC8pO2Z1bmN0aW9uIGhyKHQpe2lmKEFlKCEhdCksdHlwZW9mIHQ9PSJzdHJpbmciKXtsZXQgZT0wO2NvbnN0IG49WTIuZXhlYyh0KTtpZihBZSghIW4pLG5bMV0pe2xldCBpPW5bMV07aT0oaSsiMDAwMDAwMDAwIikuc3Vic3RyKDAsOSksZT1OdW1iZXIoaSl9Y29uc3Qgcj1uZXcgRGF0ZSh0KTtyZXR1cm57c2Vjb25kczpNYXRoLmZsb29yKHIuZ2V0VGltZSgpLzFlMyksbmFub3M6ZX19cmV0dXJue3NlY29uZHM6VWUodC5zZWNvbmRzKSxuYW5vczpVZSh0Lm5hbm9zKX19ZnVuY3Rpb24gVWUodCl7cmV0dXJuIHR5cGVvZiB0PT0ibnVtYmVyIj90OnR5cGVvZiB0PT0ic3RyaW5nIj9OdW1iZXIodCk6MH1mdW5jdGlvbiBLcih0KXtyZXR1cm4gdHlwZW9mIHQ9PSJzdHJpbmciP210LmZyb21CYXNlNjRTdHJpbmcodCk6bXQuZnJvbVVpbnQ4QXJyYXkodCl9ZnVuY3Rpb24gSnAodCl7dmFyIGUsbjtyZXR1cm4oKG49KCgoZT10Py5tYXBWYWx1ZSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmZpZWxkcyl8fHt9KS5fX3R5cGVfXyk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLnN0cmluZ1ZhbHVlKT09PSJzZXJ2ZXJfdGltZXN0YW1wIn1mdW5jdGlvbiBlZyh0KXtjb25zdCBlPXQubWFwVmFsdWUuZmllbGRzLl9fcHJldmlvdXNfdmFsdWVfXztyZXR1cm4gSnAoZSk/ZWcoZSk6ZX1mdW5jdGlvbiBQbyh0KXtjb25zdCBlPWhyKHQubWFwVmFsdWUuZmllbGRzLl9fbG9jYWxfd3JpdGVfdGltZV9fLnRpbWVzdGFtcFZhbHVlKTtyZXR1cm4gbmV3IEJlKGUuc2Vjb25kcyxlLm5hbm9zKX1jbGFzcyBKMntjb25zdHJ1Y3RvcihlLG4scixpLHMsbyxhLGMsdSl7dGhpcy5kYXRhYmFzZUlkPWUsdGhpcy5hcHBJZD1uLHRoaXMucGVyc2lzdGVuY2VLZXk9cix0aGlzLmhvc3Q9aSx0aGlzLnNzbD1zLHRoaXMuZm9yY2VMb25nUG9sbGluZz1vLHRoaXMuYXV0b0RldGVjdExvbmdQb2xsaW5nPWEsdGhpcy5sb25nUG9sbGluZ09wdGlvbnM9Yyx0aGlzLnVzZUZldGNoU3RyZWFtcz11fX1jbGFzcyBNb3tjb25zdHJ1Y3RvcihlLG4pe3RoaXMucHJvamVjdElkPWUsdGhpcy5kYXRhYmFzZT1ufHwiKGRlZmF1bHQpIn1zdGF0aWMgZW1wdHkoKXtyZXR1cm4gbmV3IE1vKCIiLCIiKX1nZXQgaXNEZWZhdWx0RGF0YWJhc2UoKXtyZXR1cm4gdGhpcy5kYXRhYmFzZT09PSIoZGVmYXVsdCkifWlzRXF1YWwoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBNbyYmZS5wcm9qZWN0SWQ9PT10aGlzLnByb2plY3RJZCYmZS5kYXRhYmFzZT09PXRoaXMuZGF0YWJhc2V9fWNvbnN0IHhhPXttYXBWYWx1ZTp7ZmllbGRzOntfX3R5cGVfXzp7c3RyaW5nVmFsdWU6Il9fbWF4X18ifX19fTtmdW5jdGlvbiBRcih0KXtyZXR1cm4ibnVsbFZhbHVlImluIHQ/MDoiYm9vbGVhblZhbHVlImluIHQ/MToiaW50ZWdlclZhbHVlImluIHR8fCJkb3VibGVWYWx1ZSJpbiB0PzI6InRpbWVzdGFtcFZhbHVlImluIHQ/Mzoic3RyaW5nVmFsdWUiaW4gdD81OiJieXRlc1ZhbHVlImluIHQ/NjoicmVmZXJlbmNlVmFsdWUiaW4gdD83OiJnZW9Qb2ludFZhbHVlImluIHQ/ODoiYXJyYXlWYWx1ZSJpbiB0Pzk6Im1hcFZhbHVlImluIHQ/SnAodCk/NDplJCh0KT85MDA3MTk5MjU0NzQwOTkxOjEwOnooKX1mdW5jdGlvbiB2bih0LGUpe2lmKHQ9PT1lKXJldHVybiEwO2NvbnN0IG49UXIodCk7aWYobiE9PVFyKGUpKXJldHVybiExO3N3aXRjaChuKXtjYXNlIDA6Y2FzZSA5MDA3MTk5MjU0NzQwOTkxOnJldHVybiEwO2Nhc2UgMTpyZXR1cm4gdC5ib29sZWFuVmFsdWU9PT1lLmJvb2xlYW5WYWx1ZTtjYXNlIDQ6cmV0dXJuIFBvKHQpLmlzRXF1YWwoUG8oZSkpO2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24oaSxzKXtpZih0eXBlb2YgaS50aW1lc3RhbXBWYWx1ZT09InN0cmluZyImJnR5cGVvZiBzLnRpbWVzdGFtcFZhbHVlPT0ic3RyaW5nIiYmaS50aW1lc3RhbXBWYWx1ZS5sZW5ndGg9PT1zLnRpbWVzdGFtcFZhbHVlLmxlbmd0aClyZXR1cm4gaS50aW1lc3RhbXBWYWx1ZT09PXMudGltZXN0YW1wVmFsdWU7Y29uc3Qgbz1ocihpLnRpbWVzdGFtcFZhbHVlKSxhPWhyKHMudGltZXN0YW1wVmFsdWUpO3JldHVybiBvLnNlY29uZHM9PT1hLnNlY29uZHMmJm8ubmFub3M9PT1hLm5hbm9zfSh0LGUpO2Nhc2UgNTpyZXR1cm4gdC5zdHJpbmdWYWx1ZT09PWUuc3RyaW5nVmFsdWU7Y2FzZSA2OnJldHVybiBmdW5jdGlvbihpLHMpe3JldHVybiBLcihpLmJ5dGVzVmFsdWUpLmlzRXF1YWwoS3Iocy5ieXRlc1ZhbHVlKSl9KHQsZSk7Y2FzZSA3OnJldHVybiB0LnJlZmVyZW5jZVZhbHVlPT09ZS5yZWZlcmVuY2VWYWx1ZTtjYXNlIDg6cmV0dXJuIGZ1bmN0aW9uKGkscyl7cmV0dXJuIFVlKGkuZ2VvUG9pbnRWYWx1ZS5sYXRpdHVkZSk9PT1VZShzLmdlb1BvaW50VmFsdWUubGF0aXR1ZGUpJiZVZShpLmdlb1BvaW50VmFsdWUubG9uZ2l0dWRlKT09PVVlKHMuZ2VvUG9pbnRWYWx1ZS5sb25naXR1ZGUpfSh0LGUpO2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24oaSxzKXtpZigiaW50ZWdlclZhbHVlImluIGkmJiJpbnRlZ2VyVmFsdWUiaW4gcylyZXR1cm4gVWUoaS5pbnRlZ2VyVmFsdWUpPT09VWUocy5pbnRlZ2VyVmFsdWUpO2lmKCJkb3VibGVWYWx1ZSJpbiBpJiYiZG91YmxlVmFsdWUiaW4gcyl7Y29uc3Qgbz1VZShpLmRvdWJsZVZhbHVlKSxhPVVlKHMuZG91YmxlVmFsdWUpO3JldHVybiBvPT09YT8kYyhvKT09PSRjKGEpOmlzTmFOKG8pJiZpc05hTihhKX1yZXR1cm4hMX0odCxlKTtjYXNlIDk6cmV0dXJuIEtpKHQuYXJyYXlWYWx1ZS52YWx1ZXN8fFtdLGUuYXJyYXlWYWx1ZS52YWx1ZXN8fFtdLHZuKTtjYXNlIDEwOnJldHVybiBmdW5jdGlvbihpLHMpe2NvbnN0IG89aS5tYXBWYWx1ZS5maWVsZHN8fHt9LGE9cy5tYXBWYWx1ZS5maWVsZHN8fHt9O2lmKEt5KG8pIT09S3koYSkpcmV0dXJuITE7Zm9yKGNvbnN0IGMgaW4gbylpZihvLmhhc093blByb3BlcnR5KGMpJiYoYVtjXT09PXZvaWQgMHx8IXZuKG9bY10sYVtjXSkpKXJldHVybiExO3JldHVybiEwfSh0LGUpO2RlZmF1bHQ6cmV0dXJuIHooKX19ZnVuY3Rpb24gTm8odCxlKXtyZXR1cm4odC52YWx1ZXN8fFtdKS5maW5kKG49PnZuKG4sZSkpIT09dm9pZCAwfWZ1bmN0aW9uIFFpKHQsZSl7aWYodD09PWUpcmV0dXJuIDA7Y29uc3Qgbj1Rcih0KSxyPVFyKGUpO2lmKG4hPT1yKXJldHVybiBfZShuLHIpO3N3aXRjaChuKXtjYXNlIDA6Y2FzZSA5MDA3MTk5MjU0NzQwOTkxOnJldHVybiAwO2Nhc2UgMTpyZXR1cm4gX2UodC5ib29sZWFuVmFsdWUsZS5ib29sZWFuVmFsdWUpO2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocyxvKXtjb25zdCBhPVVlKHMuaW50ZWdlclZhbHVlfHxzLmRvdWJsZVZhbHVlKSxjPVVlKG8uaW50ZWdlclZhbHVlfHxvLmRvdWJsZVZhbHVlKTtyZXR1cm4gYTxjPy0xOmE+Yz8xOmE9PT1jPzA6aXNOYU4oYSk/aXNOYU4oYyk/MDotMToxfSh0LGUpO2Nhc2UgMzpyZXR1cm4gWnkodC50aW1lc3RhbXBWYWx1ZSxlLnRpbWVzdGFtcFZhbHVlKTtjYXNlIDQ6cmV0dXJuIFp5KFBvKHQpLFBvKGUpKTtjYXNlIDU6cmV0dXJuIF9lKHQuc3RyaW5nVmFsdWUsZS5zdHJpbmdWYWx1ZSk7Y2FzZSA2OnJldHVybiBmdW5jdGlvbihzLG8pe2NvbnN0IGE9S3IocyksYz1LcihvKTtyZXR1cm4gYS5jb21wYXJlVG8oYyl9KHQuYnl0ZXNWYWx1ZSxlLmJ5dGVzVmFsdWUpO2Nhc2UgNzpyZXR1cm4gZnVuY3Rpb24ocyxvKXtjb25zdCBhPXMuc3BsaXQoIi8iKSxjPW8uc3BsaXQoIi8iKTtmb3IobGV0IHU9MDt1PGEubGVuZ3RoJiZ1PGMubGVuZ3RoO3UrKyl7Y29uc3QgbD1fZShhW3VdLGNbdV0pO2lmKGwhPT0wKXJldHVybiBsfXJldHVybiBfZShhLmxlbmd0aCxjLmxlbmd0aCl9KHQucmVmZXJlbmNlVmFsdWUsZS5yZWZlcmVuY2VWYWx1ZSk7Y2FzZSA4OnJldHVybiBmdW5jdGlvbihzLG8pe2NvbnN0IGE9X2UoVWUocy5sYXRpdHVkZSksVWUoby5sYXRpdHVkZSkpO3JldHVybiBhIT09MD9hOl9lKFVlKHMubG9uZ2l0dWRlKSxVZShvLmxvbmdpdHVkZSkpfSh0Lmdlb1BvaW50VmFsdWUsZS5nZW9Qb2ludFZhbHVlKTtjYXNlIDk6cmV0dXJuIGZ1bmN0aW9uKHMsbyl7Y29uc3QgYT1zLnZhbHVlc3x8W10sYz1vLnZhbHVlc3x8W107Zm9yKGxldCB1PTA7dTxhLmxlbmd0aCYmdTxjLmxlbmd0aDsrK3Upe2NvbnN0IGw9UWkoYVt1XSxjW3VdKTtpZihsKXJldHVybiBsfXJldHVybiBfZShhLmxlbmd0aCxjLmxlbmd0aCl9KHQuYXJyYXlWYWx1ZSxlLmFycmF5VmFsdWUpO2Nhc2UgMTA6cmV0dXJuIGZ1bmN0aW9uKHMsbyl7aWYocz09PXhhLm1hcFZhbHVlJiZvPT09eGEubWFwVmFsdWUpcmV0dXJuIDA7aWYocz09PXhhLm1hcFZhbHVlKXJldHVybiAxO2lmKG89PT14YS5tYXBWYWx1ZSlyZXR1cm4tMTtjb25zdCBhPXMuZmllbGRzfHx7fSxjPU9iamVjdC5rZXlzKGEpLHU9by5maWVsZHN8fHt9LGw9T2JqZWN0LmtleXModSk7Yy5zb3J0KCksbC5zb3J0KCk7Zm9yKGxldCBoPTA7aDxjLmxlbmd0aCYmaDxsLmxlbmd0aDsrK2gpe2NvbnN0IGQ9X2UoY1toXSxsW2hdKTtpZihkIT09MClyZXR1cm4gZDtjb25zdCBmPVFpKGFbY1toXV0sdVtsW2hdXSk7aWYoZiE9PTApcmV0dXJuIGZ9cmV0dXJuIF9lKGMubGVuZ3RoLGwubGVuZ3RoKX0odC5tYXBWYWx1ZSxlLm1hcFZhbHVlKTtkZWZhdWx0OnRocm93IHooKX19ZnVuY3Rpb24gWnkodCxlKXtpZih0eXBlb2YgdD09InN0cmluZyImJnR5cGVvZiBlPT0ic3RyaW5nIiYmdC5sZW5ndGg9PT1lLmxlbmd0aClyZXR1cm4gX2UodCxlKTtjb25zdCBuPWhyKHQpLHI9aHIoZSksaT1fZShuLnNlY29uZHMsci5zZWNvbmRzKTtyZXR1cm4gaSE9PTA/aTpfZShuLm5hbm9zLHIubmFub3MpfWZ1bmN0aW9uIFppKHQpe3JldHVybiBBZCh0KX1mdW5jdGlvbiBBZCh0KXtyZXR1cm4ibnVsbFZhbHVlImluIHQ/Im51bGwiOiJib29sZWFuVmFsdWUiaW4gdD8iIit0LmJvb2xlYW5WYWx1ZToiaW50ZWdlclZhbHVlImluIHQ/IiIrdC5pbnRlZ2VyVmFsdWU6ImRvdWJsZVZhbHVlImluIHQ/IiIrdC5kb3VibGVWYWx1ZToidGltZXN0YW1wVmFsdWUiaW4gdD9mdW5jdGlvbihuKXtjb25zdCByPWhyKG4pO3JldHVybmB0aW1lKCR7ci5zZWNvbmRzfSwke3IubmFub3N9KWB9KHQudGltZXN0YW1wVmFsdWUpOiJzdHJpbmdWYWx1ZSJpbiB0P3Quc3RyaW5nVmFsdWU6ImJ5dGVzVmFsdWUiaW4gdD9mdW5jdGlvbihuKXtyZXR1cm4gS3IobikudG9CYXNlNjQoKX0odC5ieXRlc1ZhbHVlKToicmVmZXJlbmNlVmFsdWUiaW4gdD9mdW5jdGlvbihuKXtyZXR1cm4gai5mcm9tTmFtZShuKS50b1N0cmluZygpfSh0LnJlZmVyZW5jZVZhbHVlKToiZ2VvUG9pbnRWYWx1ZSJpbiB0P2Z1bmN0aW9uKG4pe3JldHVybmBnZW8oJHtuLmxhdGl0dWRlfSwke24ubG9uZ2l0dWRlfSlgfSh0Lmdlb1BvaW50VmFsdWUpOiJhcnJheVZhbHVlImluIHQ/ZnVuY3Rpb24obil7bGV0IHI9IlsiLGk9ITA7Zm9yKGNvbnN0IHMgb2Ygbi52YWx1ZXN8fFtdKWk/aT0hMTpyKz0iLCIscis9QWQocyk7cmV0dXJuIHIrIl0ifSh0LmFycmF5VmFsdWUpOiJtYXBWYWx1ZSJpbiB0P2Z1bmN0aW9uKG4pe2NvbnN0IHI9T2JqZWN0LmtleXMobi5maWVsZHN8fHt9KS5zb3J0KCk7bGV0IGk9InsiLHM9ITA7Zm9yKGNvbnN0IG8gb2YgcilzP3M9ITE6aSs9IiwiLGkrPWAke299OiR7QWQobi5maWVsZHNbb10pfWA7cmV0dXJuIGkrIn0ifSh0Lm1hcFZhbHVlKTp6KCl9ZnVuY3Rpb24gWHkodCxlKXtyZXR1cm57cmVmZXJlbmNlVmFsdWU6YHByb2plY3RzLyR7dC5wcm9qZWN0SWR9L2RhdGFiYXNlcy8ke3QuZGF0YWJhc2V9L2RvY3VtZW50cy8ke2UucGF0aC5jYW5vbmljYWxTdHJpbmcoKX1gfX1mdW5jdGlvbiBSZCh0KXtyZXR1cm4hIXQmJiJpbnRlZ2VyVmFsdWUiaW4gdH1mdW5jdGlvbiB0Zyh0KXtyZXR1cm4hIXQmJiJhcnJheVZhbHVlImluIHR9ZnVuY3Rpb24gWXkodCl7cmV0dXJuISF0JiYibnVsbFZhbHVlImluIHR9ZnVuY3Rpb24gSnkodCl7cmV0dXJuISF0JiYiZG91YmxlVmFsdWUiaW4gdCYmaXNOYU4oTnVtYmVyKHQuZG91YmxlVmFsdWUpKX1mdW5jdGlvbiB0Yyh0KXtyZXR1cm4hIXQmJiJtYXBWYWx1ZSJpbiB0fWZ1bmN0aW9uIEJzKHQpe2lmKHQuZ2VvUG9pbnRWYWx1ZSlyZXR1cm57Z2VvUG9pbnRWYWx1ZTpPYmplY3QuYXNzaWduKHt9LHQuZ2VvUG9pbnRWYWx1ZSl9O2lmKHQudGltZXN0YW1wVmFsdWUmJnR5cGVvZiB0LnRpbWVzdGFtcFZhbHVlPT0ib2JqZWN0IilyZXR1cm57dGltZXN0YW1wVmFsdWU6T2JqZWN0LmFzc2lnbih7fSx0LnRpbWVzdGFtcFZhbHVlKX07aWYodC5tYXBWYWx1ZSl7Y29uc3QgZT17bWFwVmFsdWU6e2ZpZWxkczp7fX19O3JldHVybiByaSh0Lm1hcFZhbHVlLmZpZWxkcywobixyKT0+ZS5tYXBWYWx1ZS5maWVsZHNbbl09QnMocikpLGV9aWYodC5hcnJheVZhbHVlKXtjb25zdCBlPXthcnJheVZhbHVlOnt2YWx1ZXM6W119fTtmb3IobGV0IG49MDtuPCh0LmFycmF5VmFsdWUudmFsdWVzfHxbXSkubGVuZ3RoOysrbillLmFycmF5VmFsdWUudmFsdWVzW25dPUJzKHQuYXJyYXlWYWx1ZS52YWx1ZXNbbl0pO3JldHVybiBlfXJldHVybiBPYmplY3QuYXNzaWduKHt9LHQpfWZ1bmN0aW9uIGUkKHQpe3JldHVybigoKHQubWFwVmFsdWV8fHt9KS5maWVsZHN8fHt9KS5fX3R5cGVfX3x8e30pLnN0cmluZ1ZhbHVlPT09Il9fbWF4X18ifWNsYXNzIEN0e2NvbnN0cnVjdG9yKGUpe3RoaXMudmFsdWU9ZX1zdGF0aWMgZW1wdHkoKXtyZXR1cm4gbmV3IEN0KHttYXBWYWx1ZTp7fX0pfWZpZWxkKGUpe2lmKGUuaXNFbXB0eSgpKXJldHVybiB0aGlzLnZhbHVlO3tsZXQgbj10aGlzLnZhbHVlO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGgtMTsrK3IpaWYobj0obi5tYXBWYWx1ZS5maWVsZHN8fHt9KVtlLmdldChyKV0sIXRjKG4pKXJldHVybiBudWxsO3JldHVybiBuPShuLm1hcFZhbHVlLmZpZWxkc3x8e30pW2UubGFzdFNlZ21lbnQoKV0sbnx8bnVsbH19c2V0KGUsbil7dGhpcy5nZXRGaWVsZHNNYXAoZS5wb3BMYXN0KCkpW2UubGFzdFNlZ21lbnQoKV09QnMobil9c2V0QWxsKGUpe2xldCBuPW50LmVtcHR5UGF0aCgpLHI9e30saT1bXTtlLmZvckVhY2goKG8sYSk9PntpZighbi5pc0ltbWVkaWF0ZVBhcmVudE9mKGEpKXtjb25zdCBjPXRoaXMuZ2V0RmllbGRzTWFwKG4pO3RoaXMuYXBwbHlDaGFuZ2VzKGMscixpKSxyPXt9LGk9W10sbj1hLnBvcExhc3QoKX1vP3JbYS5sYXN0U2VnbWVudCgpXT1CcyhvKTppLnB1c2goYS5sYXN0U2VnbWVudCgpKX0pO2NvbnN0IHM9dGhpcy5nZXRGaWVsZHNNYXAobik7dGhpcy5hcHBseUNoYW5nZXMocyxyLGkpfWRlbGV0ZShlKXtjb25zdCBuPXRoaXMuZmllbGQoZS5wb3BMYXN0KCkpO3RjKG4pJiZuLm1hcFZhbHVlLmZpZWxkcyYmZGVsZXRlIG4ubWFwVmFsdWUuZmllbGRzW2UubGFzdFNlZ21lbnQoKV19aXNFcXVhbChlKXtyZXR1cm4gdm4odGhpcy52YWx1ZSxlLnZhbHVlKX1nZXRGaWVsZHNNYXAoZSl7bGV0IG49dGhpcy52YWx1ZTtuLm1hcFZhbHVlLmZpZWxkc3x8KG4ubWFwVmFsdWU9e2ZpZWxkczp7fX0pO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7KytyKXtsZXQgaT1uLm1hcFZhbHVlLmZpZWxkc1tlLmdldChyKV07dGMoaSkmJmkubWFwVmFsdWUuZmllbGRzfHwoaT17bWFwVmFsdWU6e2ZpZWxkczp7fX19LG4ubWFwVmFsdWUuZmllbGRzW2UuZ2V0KHIpXT1pKSxuPWl9cmV0dXJuIG4ubWFwVmFsdWUuZmllbGRzfWFwcGx5Q2hhbmdlcyhlLG4scil7cmkobiwoaSxzKT0+ZVtpXT1zKTtmb3IoY29uc3QgaSBvZiByKWRlbGV0ZSBlW2ldfWNsb25lKCl7cmV0dXJuIG5ldyBDdChCcyh0aGlzLnZhbHVlKSl9fWZ1bmN0aW9uIHlDKHQpe2NvbnN0IGU9W107cmV0dXJuIHJpKHQuZmllbGRzLChuLHIpPT57Y29uc3QgaT1uZXcgbnQoW25dKTtpZih0YyhyKSl7Y29uc3Qgcz15QyhyLm1hcFZhbHVlKS5maWVsZHM7aWYocy5sZW5ndGg9PT0wKWUucHVzaChpKTtlbHNlIGZvcihjb25zdCBvIG9mIHMpZS5wdXNoKGkuY2hpbGQobykpfWVsc2UgZS5wdXNoKGkpfSksbmV3IER0KGUpfWNsYXNzIGh0e2NvbnN0cnVjdG9yKGUsbixyLGkscyxvLGEpe3RoaXMua2V5PWUsdGhpcy5kb2N1bWVudFR5cGU9bix0aGlzLnZlcnNpb249cix0aGlzLnJlYWRUaW1lPWksdGhpcy5jcmVhdGVUaW1lPXMsdGhpcy5kYXRhPW8sdGhpcy5kb2N1bWVudFN0YXRlPWF9c3RhdGljIG5ld0ludmFsaWREb2N1bWVudChlKXtyZXR1cm4gbmV3IGh0KGUsMCxZLm1pbigpLFkubWluKCksWS5taW4oKSxDdC5lbXB0eSgpLDApfXN0YXRpYyBuZXdGb3VuZERvY3VtZW50KGUsbixyLGkpe3JldHVybiBuZXcgaHQoZSwxLG4sWS5taW4oKSxyLGksMCl9c3RhdGljIG5ld05vRG9jdW1lbnQoZSxuKXtyZXR1cm4gbmV3IGh0KGUsMixuLFkubWluKCksWS5taW4oKSxDdC5lbXB0eSgpLDApfXN0YXRpYyBuZXdVbmtub3duRG9jdW1lbnQoZSxuKXtyZXR1cm4gbmV3IGh0KGUsMyxuLFkubWluKCksWS5taW4oKSxDdC5lbXB0eSgpLDIpfWNvbnZlcnRUb0ZvdW5kRG9jdW1lbnQoZSxuKXtyZXR1cm4hdGhpcy5jcmVhdGVUaW1lLmlzRXF1YWwoWS5taW4oKSl8fHRoaXMuZG9jdW1lbnRUeXBlIT09MiYmdGhpcy5kb2N1bWVudFR5cGUhPT0wfHwodGhpcy5jcmVhdGVUaW1lPWUpLHRoaXMudmVyc2lvbj1lLHRoaXMuZG9jdW1lbnRUeXBlPTEsdGhpcy5kYXRhPW4sdGhpcy5kb2N1bWVudFN0YXRlPTAsdGhpc31jb252ZXJ0VG9Ob0RvY3VtZW50KGUpe3JldHVybiB0aGlzLnZlcnNpb249ZSx0aGlzLmRvY3VtZW50VHlwZT0yLHRoaXMuZGF0YT1DdC5lbXB0eSgpLHRoaXMuZG9jdW1lbnRTdGF0ZT0wLHRoaXN9Y29udmVydFRvVW5rbm93bkRvY3VtZW50KGUpe3JldHVybiB0aGlzLnZlcnNpb249ZSx0aGlzLmRvY3VtZW50VHlwZT0zLHRoaXMuZGF0YT1DdC5lbXB0eSgpLHRoaXMuZG9jdW1lbnRTdGF0ZT0yLHRoaXN9c2V0SGFzQ29tbWl0dGVkTXV0YXRpb25zKCl7cmV0dXJuIHRoaXMuZG9jdW1lbnRTdGF0ZT0yLHRoaXN9c2V0SGFzTG9jYWxNdXRhdGlvbnMoKXtyZXR1cm4gdGhpcy5kb2N1bWVudFN0YXRlPTEsdGhpcy52ZXJzaW9uPVkubWluKCksdGhpc31zZXRSZWFkVGltZShlKXtyZXR1cm4gdGhpcy5yZWFkVGltZT1lLHRoaXN9Z2V0IGhhc0xvY2FsTXV0YXRpb25zKCl7cmV0dXJuIHRoaXMuZG9jdW1lbnRTdGF0ZT09PTF9Z2V0IGhhc0NvbW1pdHRlZE11dGF0aW9ucygpe3JldHVybiB0aGlzLmRvY3VtZW50U3RhdGU9PT0yfWdldCBoYXNQZW5kaW5nV3JpdGVzKCl7cmV0dXJuIHRoaXMuaGFzTG9jYWxNdXRhdGlvbnN8fHRoaXMuaGFzQ29tbWl0dGVkTXV0YXRpb25zfWlzVmFsaWREb2N1bWVudCgpe3JldHVybiB0aGlzLmRvY3VtZW50VHlwZSE9PTB9aXNGb3VuZERvY3VtZW50KCl7cmV0dXJuIHRoaXMuZG9jdW1lbnRUeXBlPT09MX1pc05vRG9jdW1lbnQoKXtyZXR1cm4gdGhpcy5kb2N1bWVudFR5cGU9PT0yfWlzVW5rbm93bkRvY3VtZW50KCl7cmV0dXJuIHRoaXMuZG9jdW1lbnRUeXBlPT09M31pc0VxdWFsKGUpe3JldHVybiBlIGluc3RhbmNlb2YgaHQmJnRoaXMua2V5LmlzRXF1YWwoZS5rZXkpJiZ0aGlzLnZlcnNpb24uaXNFcXVhbChlLnZlcnNpb24pJiZ0aGlzLmRvY3VtZW50VHlwZT09PWUuZG9jdW1lbnRUeXBlJiZ0aGlzLmRvY3VtZW50U3RhdGU9PT1lLmRvY3VtZW50U3RhdGUmJnRoaXMuZGF0YS5pc0VxdWFsKGUuZGF0YSl9bXV0YWJsZUNvcHkoKXtyZXR1cm4gbmV3IGh0KHRoaXMua2V5LHRoaXMuZG9jdW1lbnRUeXBlLHRoaXMudmVyc2lvbix0aGlzLnJlYWRUaW1lLHRoaXMuY3JlYXRlVGltZSx0aGlzLmRhdGEuY2xvbmUoKSx0aGlzLmRvY3VtZW50U3RhdGUpfXRvU3RyaW5nKCl7cmV0dXJuYERvY3VtZW50KCR7dGhpcy5rZXl9LCAke3RoaXMudmVyc2lvbn0sICR7SlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhLnZhbHVlKX0sIHtjcmVhdGVUaW1lOiAke3RoaXMuY3JlYXRlVGltZX19KSwge2RvY3VtZW50VHlwZTogJHt0aGlzLmRvY3VtZW50VHlwZX19KSwge2RvY3VtZW50U3RhdGU6ICR7dGhpcy5kb2N1bWVudFN0YXRlfX0pYH19Y2xhc3MgQmN7Y29uc3RydWN0b3IoZSxuKXt0aGlzLnBvc2l0aW9uPWUsdGhpcy5pbmNsdXNpdmU9bn19ZnVuY3Rpb24gZXYodCxlLG4pe2xldCByPTA7Zm9yKGxldCBpPTA7aTx0LnBvc2l0aW9uLmxlbmd0aDtpKyspe2NvbnN0IHM9ZVtpXSxvPXQucG9zaXRpb25baV07aWYocy5maWVsZC5pc0tleUZpZWxkKCk/cj1qLmNvbXBhcmF0b3Ioai5mcm9tTmFtZShvLnJlZmVyZW5jZVZhbHVlKSxuLmtleSk6cj1RaShvLG4uZGF0YS5maWVsZChzLmZpZWxkKSkscy5kaXI9PT0iZGVzYyImJihyKj0tMSksciE9PTApYnJlYWt9cmV0dXJuIHJ9ZnVuY3Rpb24gdHYodCxlKXtpZih0PT09bnVsbClyZXR1cm4gZT09PW51bGw7aWYoZT09PW51bGx8fHQuaW5jbHVzaXZlIT09ZS5pbmNsdXNpdmV8fHQucG9zaXRpb24ubGVuZ3RoIT09ZS5wb3NpdGlvbi5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCBuPTA7bjx0LnBvc2l0aW9uLmxlbmd0aDtuKyspaWYoIXZuKHQucG9zaXRpb25bbl0sZS5wb3NpdGlvbltuXSkpcmV0dXJuITE7cmV0dXJuITB9Y2xhc3Mga297Y29uc3RydWN0b3IoZSxuPSJhc2MiKXt0aGlzLmZpZWxkPWUsdGhpcy5kaXI9bn19ZnVuY3Rpb24gdCQodCxlKXtyZXR1cm4gdC5kaXI9PT1lLmRpciYmdC5maWVsZC5pc0VxdWFsKGUuZmllbGQpfWNsYXNzIHZDe31jbGFzcyBqZSBleHRlbmRzIHZDe2NvbnN0cnVjdG9yKGUsbixyKXtzdXBlcigpLHRoaXMuZmllbGQ9ZSx0aGlzLm9wPW4sdGhpcy52YWx1ZT1yfXN0YXRpYyBjcmVhdGUoZSxuLHIpe3JldHVybiBlLmlzS2V5RmllbGQoKT9uPT09ImluInx8bj09PSJub3QtaW4iP3RoaXMuY3JlYXRlS2V5RmllbGRJbkZpbHRlcihlLG4scik6bmV3IHIkKGUsbixyKTpuPT09ImFycmF5LWNvbnRhaW5zIj9uZXcgbyQoZSxyKTpuPT09ImluIj9uZXcgYSQoZSxyKTpuPT09Im5vdC1pbiI/bmV3IGMkKGUscik6bj09PSJhcnJheS1jb250YWlucy1hbnkiP25ldyB1JChlLHIpOm5ldyBqZShlLG4scil9c3RhdGljIGNyZWF0ZUtleUZpZWxkSW5GaWx0ZXIoZSxuLHIpe3JldHVybiBuPT09ImluIj9uZXcgaSQoZSxyKTpuZXcgcyQoZSxyKX1tYXRjaGVzKGUpe2NvbnN0IG49ZS5kYXRhLmZpZWxkKHRoaXMuZmllbGQpO3JldHVybiB0aGlzLm9wPT09IiE9Ij9uIT09bnVsbCYmdGhpcy5tYXRjaGVzQ29tcGFyaXNvbihRaShuLHRoaXMudmFsdWUpKTpuIT09bnVsbCYmUXIodGhpcy52YWx1ZSk9PT1RcihuKSYmdGhpcy5tYXRjaGVzQ29tcGFyaXNvbihRaShuLHRoaXMudmFsdWUpKX1tYXRjaGVzQ29tcGFyaXNvbihlKXtzd2l0Y2godGhpcy5vcCl7Y2FzZSI8IjpyZXR1cm4gZTwwO2Nhc2UiPD0iOnJldHVybiBlPD0wO2Nhc2UiPT0iOnJldHVybiBlPT09MDtjYXNlIiE9IjpyZXR1cm4gZSE9PTA7Y2FzZSI+IjpyZXR1cm4gZT4wO2Nhc2UiPj0iOnJldHVybiBlPj0wO2RlZmF1bHQ6cmV0dXJuIHooKX19aXNJbmVxdWFsaXR5KCl7cmV0dXJuWyI8IiwiPD0iLCI+IiwiPj0iLCIhPSIsIm5vdC1pbiJdLmluZGV4T2YodGhpcy5vcCk+PTB9Z2V0RmxhdHRlbmVkRmlsdGVycygpe3JldHVyblt0aGlzXX1nZXRGaWx0ZXJzKCl7cmV0dXJuW3RoaXNdfX1jbGFzcyBZdCBleHRlbmRzIHZDe2NvbnN0cnVjdG9yKGUsbil7c3VwZXIoKSx0aGlzLmZpbHRlcnM9ZSx0aGlzLm9wPW4sdGhpcy51ZT1udWxsfXN0YXRpYyBjcmVhdGUoZSxuKXtyZXR1cm4gbmV3IFl0KGUsbil9bWF0Y2hlcyhlKXtyZXR1cm4gX0ModGhpcyk/dGhpcy5maWx0ZXJzLmZpbmQobj0+IW4ubWF0Y2hlcyhlKSk9PT12b2lkIDA6dGhpcy5maWx0ZXJzLmZpbmQobj0+bi5tYXRjaGVzKGUpKSE9PXZvaWQgMH1nZXRGbGF0dGVuZWRGaWx0ZXJzKCl7cmV0dXJuIHRoaXMudWUhPT1udWxsfHwodGhpcy51ZT10aGlzLmZpbHRlcnMucmVkdWNlKChlLG4pPT5lLmNvbmNhdChuLmdldEZsYXR0ZW5lZEZpbHRlcnMoKSksW10pKSx0aGlzLnVlfWdldEZpbHRlcnMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihbXSx0aGlzLmZpbHRlcnMpfX1mdW5jdGlvbiBfQyh0KXtyZXR1cm4gdC5vcD09PSJhbmQifWZ1bmN0aW9uIEVDKHQpe3JldHVybiBuJCh0KSYmX0ModCl9ZnVuY3Rpb24gbiQodCl7Zm9yKGNvbnN0IGUgb2YgdC5maWx0ZXJzKWlmKGUgaW5zdGFuY2VvZiBZdClyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBiZCh0KXtpZih0IGluc3RhbmNlb2YgamUpcmV0dXJuIHQuZmllbGQuY2Fub25pY2FsU3RyaW5nKCkrdC5vcC50b1N0cmluZygpK1ppKHQudmFsdWUpO2lmKEVDKHQpKXJldHVybiB0LmZpbHRlcnMubWFwKGU9PmJkKGUpKS5qb2luKCIsIik7e2NvbnN0IGU9dC5maWx0ZXJzLm1hcChuPT5iZChuKSkuam9pbigiLCIpO3JldHVybmAke3Qub3B9KCR7ZX0pYH19ZnVuY3Rpb24gd0ModCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIGplP2Z1bmN0aW9uKHIsaSl7cmV0dXJuIGkgaW5zdGFuY2VvZiBqZSYmci5vcD09PWkub3AmJnIuZmllbGQuaXNFcXVhbChpLmZpZWxkKSYmdm4oci52YWx1ZSxpLnZhbHVlKX0odCxlKTp0IGluc3RhbmNlb2YgWXQ/ZnVuY3Rpb24ocixpKXtyZXR1cm4gaSBpbnN0YW5jZW9mIFl0JiZyLm9wPT09aS5vcCYmci5maWx0ZXJzLmxlbmd0aD09PWkuZmlsdGVycy5sZW5ndGg/ci5maWx0ZXJzLnJlZHVjZSgocyxvLGEpPT5zJiZ3QyhvLGkuZmlsdGVyc1thXSksITApOiExfSh0LGUpOnZvaWQgeigpfWZ1bmN0aW9uIElDKHQpe3JldHVybiB0IGluc3RhbmNlb2YgamU/ZnVuY3Rpb24obil7cmV0dXJuYCR7bi5maWVsZC5jYW5vbmljYWxTdHJpbmcoKX0gJHtuLm9wfSAke1ppKG4udmFsdWUpfWB9KHQpOnQgaW5zdGFuY2VvZiBZdD9mdW5jdGlvbihuKXtyZXR1cm4gbi5vcC50b1N0cmluZygpKyIgeyIrbi5nZXRGaWx0ZXJzKCkubWFwKElDKS5qb2luKCIgLCIpKyJ9In0odCk6IkZpbHRlciJ9Y2xhc3MgciQgZXh0ZW5kcyBqZXtjb25zdHJ1Y3RvcihlLG4scil7c3VwZXIoZSxuLHIpLHRoaXMua2V5PWouZnJvbU5hbWUoci5yZWZlcmVuY2VWYWx1ZSl9bWF0Y2hlcyhlKXtjb25zdCBuPWouY29tcGFyYXRvcihlLmtleSx0aGlzLmtleSk7cmV0dXJuIHRoaXMubWF0Y2hlc0NvbXBhcmlzb24obil9fWNsYXNzIGkkIGV4dGVuZHMgamV7Y29uc3RydWN0b3IoZSxuKXtzdXBlcihlLCJpbiIsbiksdGhpcy5rZXlzPVRDKCJpbiIsbil9bWF0Y2hlcyhlKXtyZXR1cm4gdGhpcy5rZXlzLnNvbWUobj0+bi5pc0VxdWFsKGUua2V5KSl9fWNsYXNzIHMkIGV4dGVuZHMgamV7Y29uc3RydWN0b3IoZSxuKXtzdXBlcihlLCJub3QtaW4iLG4pLHRoaXMua2V5cz1UQygibm90LWluIixuKX1tYXRjaGVzKGUpe3JldHVybiF0aGlzLmtleXMuc29tZShuPT5uLmlzRXF1YWwoZS5rZXkpKX19ZnVuY3Rpb24gVEModCxlKXt2YXIgbjtyZXR1cm4oKChuPWUuYXJyYXlWYWx1ZSk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLnZhbHVlcyl8fFtdKS5tYXAocj0+ai5mcm9tTmFtZShyLnJlZmVyZW5jZVZhbHVlKSl9Y2xhc3MgbyQgZXh0ZW5kcyBqZXtjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKGUsImFycmF5LWNvbnRhaW5zIixuKX1tYXRjaGVzKGUpe2NvbnN0IG49ZS5kYXRhLmZpZWxkKHRoaXMuZmllbGQpO3JldHVybiB0ZyhuKSYmTm8obi5hcnJheVZhbHVlLHRoaXMudmFsdWUpfX1jbGFzcyBhJCBleHRlbmRzIGple2NvbnN0cnVjdG9yKGUsbil7c3VwZXIoZSwiaW4iLG4pfW1hdGNoZXMoZSl7Y29uc3Qgbj1lLmRhdGEuZmllbGQodGhpcy5maWVsZCk7cmV0dXJuIG4hPT1udWxsJiZObyh0aGlzLnZhbHVlLmFycmF5VmFsdWUsbil9fWNsYXNzIGMkIGV4dGVuZHMgamV7Y29uc3RydWN0b3IoZSxuKXtzdXBlcihlLCJub3QtaW4iLG4pfW1hdGNoZXMoZSl7aWYoTm8odGhpcy52YWx1ZS5hcnJheVZhbHVlLHtudWxsVmFsdWU6Ik5VTExfVkFMVUUifSkpcmV0dXJuITE7Y29uc3Qgbj1lLmRhdGEuZmllbGQodGhpcy5maWVsZCk7cmV0dXJuIG4hPT1udWxsJiYhTm8odGhpcy52YWx1ZS5hcnJheVZhbHVlLG4pfX1jbGFzcyB1JCBleHRlbmRzIGple2NvbnN0cnVjdG9yKGUsbil7c3VwZXIoZSwiYXJyYXktY29udGFpbnMtYW55IixuKX1tYXRjaGVzKGUpe2NvbnN0IG49ZS5kYXRhLmZpZWxkKHRoaXMuZmllbGQpO3JldHVybiEoIXRnKG4pfHwhbi5hcnJheVZhbHVlLnZhbHVlcykmJm4uYXJyYXlWYWx1ZS52YWx1ZXMuc29tZShyPT5Obyh0aGlzLnZhbHVlLmFycmF5VmFsdWUscikpfX1jbGFzcyBsJHtjb25zdHJ1Y3RvcihlLG49bnVsbCxyPVtdLGk9W10scz1udWxsLG89bnVsbCxhPW51bGwpe3RoaXMucGF0aD1lLHRoaXMuY29sbGVjdGlvbkdyb3VwPW4sdGhpcy5vcmRlckJ5PXIsdGhpcy5maWx0ZXJzPWksdGhpcy5saW1pdD1zLHRoaXMuc3RhcnRBdD1vLHRoaXMuZW5kQXQ9YSx0aGlzLmNlPW51bGx9fWZ1bmN0aW9uIG52KHQsZT1udWxsLG49W10scj1bXSxpPW51bGwscz1udWxsLG89bnVsbCl7cmV0dXJuIG5ldyBsJCh0LGUsbixyLGkscyxvKX1mdW5jdGlvbiBuZyh0KXtjb25zdCBlPW5lKHQpO2lmKGUuY2U9PT1udWxsKXtsZXQgbj1lLnBhdGguY2Fub25pY2FsU3RyaW5nKCk7ZS5jb2xsZWN0aW9uR3JvdXAhPT1udWxsJiYobis9InxjZzoiK2UuY29sbGVjdGlvbkdyb3VwKSxuKz0ifGY6IixuKz1lLmZpbHRlcnMubWFwKHI9PmJkKHIpKS5qb2luKCIsIiksbis9InxvYjoiLG4rPWUub3JkZXJCeS5tYXAocj0+ZnVuY3Rpb24ocyl7cmV0dXJuIHMuZmllbGQuY2Fub25pY2FsU3RyaW5nKCkrcy5kaXJ9KHIpKS5qb2luKCIsIiksS3UoZS5saW1pdCl8fChuKz0ifGw6IixuKz1lLmxpbWl0KSxlLnN0YXJ0QXQmJihuKz0ifGxiOiIsbis9ZS5zdGFydEF0LmluY2x1c2l2ZT8iYjoiOiJhOiIsbis9ZS5zdGFydEF0LnBvc2l0aW9uLm1hcChyPT5aaShyKSkuam9pbigiLCIpKSxlLmVuZEF0JiYobis9Inx1YjoiLG4rPWUuZW5kQXQuaW5jbHVzaXZlPyJhOiI6ImI6IixuKz1lLmVuZEF0LnBvc2l0aW9uLm1hcChyPT5aaShyKSkuam9pbigiLCIpKSxlLmNlPW59cmV0dXJuIGUuY2V9ZnVuY3Rpb24gcmcodCxlKXtpZih0LmxpbWl0IT09ZS5saW1pdHx8dC5vcmRlckJ5Lmxlbmd0aCE9PWUub3JkZXJCeS5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCBuPTA7bjx0Lm9yZGVyQnkubGVuZ3RoO24rKylpZighdCQodC5vcmRlckJ5W25dLGUub3JkZXJCeVtuXSkpcmV0dXJuITE7aWYodC5maWx0ZXJzLmxlbmd0aCE9PWUuZmlsdGVycy5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCBuPTA7bjx0LmZpbHRlcnMubGVuZ3RoO24rKylpZighd0ModC5maWx0ZXJzW25dLGUuZmlsdGVyc1tuXSkpcmV0dXJuITE7cmV0dXJuIHQuY29sbGVjdGlvbkdyb3VwPT09ZS5jb2xsZWN0aW9uR3JvdXAmJiEhdC5wYXRoLmlzRXF1YWwoZS5wYXRoKSYmISF0dih0LnN0YXJ0QXQsZS5zdGFydEF0KSYmdHYodC5lbmRBdCxlLmVuZEF0KX1mdW5jdGlvbiBEZCh0KXtyZXR1cm4gai5pc0RvY3VtZW50S2V5KHQucGF0aCkmJnQuY29sbGVjdGlvbkdyb3VwPT09bnVsbCYmdC5maWx0ZXJzLmxlbmd0aD09PTB9Y2xhc3MgZnN7Y29uc3RydWN0b3IoZSxuPW51bGwscj1bXSxpPVtdLHM9bnVsbCxvPSJGIixhPW51bGwsYz1udWxsKXt0aGlzLnBhdGg9ZSx0aGlzLmNvbGxlY3Rpb25Hcm91cD1uLHRoaXMuZXhwbGljaXRPcmRlckJ5PXIsdGhpcy5maWx0ZXJzPWksdGhpcy5saW1pdD1zLHRoaXMubGltaXRUeXBlPW8sdGhpcy5zdGFydEF0PWEsdGhpcy5lbmRBdD1jLHRoaXMubGU9bnVsbCx0aGlzLmhlPW51bGwsdGhpcy5QZT1udWxsLHRoaXMuc3RhcnRBdCx0aGlzLmVuZEF0fX1mdW5jdGlvbiBoJCh0LGUsbixyLGkscyxvLGEpe3JldHVybiBuZXcgZnModCxlLG4scixpLHMsbyxhKX1mdW5jdGlvbiBpZyh0KXtyZXR1cm4gbmV3IGZzKHQpfWZ1bmN0aW9uIHJ2KHQpe3JldHVybiB0LmZpbHRlcnMubGVuZ3RoPT09MCYmdC5saW1pdD09PW51bGwmJnQuc3RhcnRBdD09bnVsbCYmdC5lbmRBdD09bnVsbCYmKHQuZXhwbGljaXRPcmRlckJ5Lmxlbmd0aD09PTB8fHQuZXhwbGljaXRPcmRlckJ5Lmxlbmd0aD09PTEmJnQuZXhwbGljaXRPcmRlckJ5WzBdLmZpZWxkLmlzS2V5RmllbGQoKSl9ZnVuY3Rpb24gU0ModCl7cmV0dXJuIHQuY29sbGVjdGlvbkdyb3VwIT09bnVsbH1mdW5jdGlvbiBIcyh0KXtjb25zdCBlPW5lKHQpO2lmKGUubGU9PT1udWxsKXtlLmxlPVtdO2NvbnN0IG49bmV3IFNldDtmb3IoY29uc3QgcyBvZiBlLmV4cGxpY2l0T3JkZXJCeSllLmxlLnB1c2gocyksbi5hZGQocy5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSk7Y29uc3Qgcj1lLmV4cGxpY2l0T3JkZXJCeS5sZW5ndGg+MD9lLmV4cGxpY2l0T3JkZXJCeVtlLmV4cGxpY2l0T3JkZXJCeS5sZW5ndGgtMV0uZGlyOiJhc2MiOyhmdW5jdGlvbihvKXtsZXQgYT1uZXcgaXQobnQuY29tcGFyYXRvcik7cmV0dXJuIG8uZmlsdGVycy5mb3JFYWNoKGM9PntjLmdldEZsYXR0ZW5lZEZpbHRlcnMoKS5mb3JFYWNoKHU9Pnt1LmlzSW5lcXVhbGl0eSgpJiYoYT1hLmFkZCh1LmZpZWxkKSl9KX0pLGF9KShlKS5mb3JFYWNoKHM9PntuLmhhcyhzLmNhbm9uaWNhbFN0cmluZygpKXx8cy5pc0tleUZpZWxkKCl8fGUubGUucHVzaChuZXcga28ocyxyKSl9KSxuLmhhcyhudC5rZXlGaWVsZCgpLmNhbm9uaWNhbFN0cmluZygpKXx8ZS5sZS5wdXNoKG5ldyBrbyhudC5rZXlGaWVsZCgpLHIpKX1yZXR1cm4gZS5sZX1mdW5jdGlvbiBkbih0KXtjb25zdCBlPW5lKHQpO3JldHVybiBlLmhlfHwoZS5oZT1kJChlLEhzKHQpKSksZS5oZX1mdW5jdGlvbiBkJCh0LGUpe2lmKHQubGltaXRUeXBlPT09IkYiKXJldHVybiBudih0LnBhdGgsdC5jb2xsZWN0aW9uR3JvdXAsZSx0LmZpbHRlcnMsdC5saW1pdCx0LnN0YXJ0QXQsdC5lbmRBdCk7e2U9ZS5tYXAoaT0+e2NvbnN0IHM9aS5kaXI9PT0iZGVzYyI/ImFzYyI6ImRlc2MiO3JldHVybiBuZXcga28oaS5maWVsZCxzKX0pO2NvbnN0IG49dC5lbmRBdD9uZXcgQmModC5lbmRBdC5wb3NpdGlvbix0LmVuZEF0LmluY2x1c2l2ZSk6bnVsbCxyPXQuc3RhcnRBdD9uZXcgQmModC5zdGFydEF0LnBvc2l0aW9uLHQuc3RhcnRBdC5pbmNsdXNpdmUpOm51bGw7cmV0dXJuIG52KHQucGF0aCx0LmNvbGxlY3Rpb25Hcm91cCxlLHQuZmlsdGVycyx0LmxpbWl0LG4scil9fWZ1bmN0aW9uIFBkKHQsZSl7Y29uc3Qgbj10LmZpbHRlcnMuY29uY2F0KFtlXSk7cmV0dXJuIG5ldyBmcyh0LnBhdGgsdC5jb2xsZWN0aW9uR3JvdXAsdC5leHBsaWNpdE9yZGVyQnkuc2xpY2UoKSxuLHQubGltaXQsdC5saW1pdFR5cGUsdC5zdGFydEF0LHQuZW5kQXQpfWZ1bmN0aW9uIE1kKHQsZSxuKXtyZXR1cm4gbmV3IGZzKHQucGF0aCx0LmNvbGxlY3Rpb25Hcm91cCx0LmV4cGxpY2l0T3JkZXJCeS5zbGljZSgpLHQuZmlsdGVycy5zbGljZSgpLGUsbix0LnN0YXJ0QXQsdC5lbmRBdCl9ZnVuY3Rpb24gUXUodCxlKXtyZXR1cm4gcmcoZG4odCksZG4oZSkpJiZ0LmxpbWl0VHlwZT09PWUubGltaXRUeXBlfWZ1bmN0aW9uIENDKHQpe3JldHVybmAke25nKGRuKHQpKX18bHQ6JHt0LmxpbWl0VHlwZX1gfWZ1bmN0aW9uIHVpKHQpe3JldHVybmBRdWVyeSh0YXJnZXQ9JHtmdW5jdGlvbihuKXtsZXQgcj1uLnBhdGguY2Fub25pY2FsU3RyaW5nKCk7cmV0dXJuIG4uY29sbGVjdGlvbkdyb3VwIT09bnVsbCYmKHIrPSIgY29sbGVjdGlvbkdyb3VwPSIrbi5jb2xsZWN0aW9uR3JvdXApLG4uZmlsdGVycy5sZW5ndGg+MCYmKHIrPWAsIGZpbHRlcnM6IFske24uZmlsdGVycy5tYXAoaT0+SUMoaSkpLmpvaW4oIiwgIil9XWApLEt1KG4ubGltaXQpfHwocis9IiwgbGltaXQ6ICIrbi5saW1pdCksbi5vcmRlckJ5Lmxlbmd0aD4wJiYocis9YCwgb3JkZXJCeTogWyR7bi5vcmRlckJ5Lm1hcChpPT5mdW5jdGlvbihvKXtyZXR1cm5gJHtvLmZpZWxkLmNhbm9uaWNhbFN0cmluZygpfSAoJHtvLmRpcn0pYH0oaSkpLmpvaW4oIiwgIil9XWApLG4uc3RhcnRBdCYmKHIrPSIsIHN0YXJ0QXQ6ICIscis9bi5zdGFydEF0LmluY2x1c2l2ZT8iYjoiOiJhOiIscis9bi5zdGFydEF0LnBvc2l0aW9uLm1hcChpPT5aaShpKSkuam9pbigiLCIpKSxuLmVuZEF0JiYocis9IiwgZW5kQXQ6ICIscis9bi5lbmRBdC5pbmNsdXNpdmU/ImE6IjoiYjoiLHIrPW4uZW5kQXQucG9zaXRpb24ubWFwKGk9PlppKGkpKS5qb2luKCIsIikpLGBUYXJnZXQoJHtyfSlgfShkbih0KSl9OyBsaW1pdFR5cGU9JHt0LmxpbWl0VHlwZX0pYH1mdW5jdGlvbiBadSh0LGUpe3JldHVybiBlLmlzRm91bmREb2N1bWVudCgpJiZmdW5jdGlvbihyLGkpe2NvbnN0IHM9aS5rZXkucGF0aDtyZXR1cm4gci5jb2xsZWN0aW9uR3JvdXAhPT1udWxsP2kua2V5Lmhhc0NvbGxlY3Rpb25JZChyLmNvbGxlY3Rpb25Hcm91cCkmJnIucGF0aC5pc1ByZWZpeE9mKHMpOmouaXNEb2N1bWVudEtleShyLnBhdGgpP3IucGF0aC5pc0VxdWFsKHMpOnIucGF0aC5pc0ltbWVkaWF0ZVBhcmVudE9mKHMpfSh0LGUpJiZmdW5jdGlvbihyLGkpe2Zvcihjb25zdCBzIG9mIEhzKHIpKWlmKCFzLmZpZWxkLmlzS2V5RmllbGQoKSYmaS5kYXRhLmZpZWxkKHMuZmllbGQpPT09bnVsbClyZXR1cm4hMTtyZXR1cm4hMH0odCxlKSYmZnVuY3Rpb24ocixpKXtmb3IoY29uc3QgcyBvZiByLmZpbHRlcnMpaWYoIXMubWF0Y2hlcyhpKSlyZXR1cm4hMTtyZXR1cm4hMH0odCxlKSYmZnVuY3Rpb24ocixpKXtyZXR1cm4hKHIuc3RhcnRBdCYmIWZ1bmN0aW9uKG8sYSxjKXtjb25zdCB1PWV2KG8sYSxjKTtyZXR1cm4gby5pbmNsdXNpdmU/dTw9MDp1PDB9KHIuc3RhcnRBdCxIcyhyKSxpKXx8ci5lbmRBdCYmIWZ1bmN0aW9uKG8sYSxjKXtjb25zdCB1PWV2KG8sYSxjKTtyZXR1cm4gby5pbmNsdXNpdmU/dT49MDp1PjB9KHIuZW5kQXQsSHMociksaSkpfSh0LGUpfWZ1bmN0aW9uIGYkKHQpe3JldHVybiB0LmNvbGxlY3Rpb25Hcm91cHx8KHQucGF0aC5sZW5ndGglMj09MT90LnBhdGgubGFzdFNlZ21lbnQoKTp0LnBhdGguZ2V0KHQucGF0aC5sZW5ndGgtMikpfWZ1bmN0aW9uIEFDKHQpe3JldHVybihlLG4pPT57bGV0IHI9ITE7Zm9yKGNvbnN0IGkgb2YgSHModCkpe2NvbnN0IHM9cCQoaSxlLG4pO2lmKHMhPT0wKXJldHVybiBzO3I9cnx8aS5maWVsZC5pc0tleUZpZWxkKCl9cmV0dXJuIDB9fWZ1bmN0aW9uIHAkKHQsZSxuKXtjb25zdCByPXQuZmllbGQuaXNLZXlGaWVsZCgpP2ouY29tcGFyYXRvcihlLmtleSxuLmtleSk6ZnVuY3Rpb24ocyxvLGEpe2NvbnN0IGM9by5kYXRhLmZpZWxkKHMpLHU9YS5kYXRhLmZpZWxkKHMpO3JldHVybiBjIT09bnVsbCYmdSE9PW51bGw/UWkoYyx1KTp6KCl9KHQuZmllbGQsZSxuKTtzd2l0Y2godC5kaXIpe2Nhc2UiYXNjIjpyZXR1cm4gcjtjYXNlImRlc2MiOnJldHVybi0xKnI7ZGVmYXVsdDpyZXR1cm4geigpfX1jbGFzcyBwc3tjb25zdHJ1Y3RvcihlLG4pe3RoaXMubWFwS2V5Rm49ZSx0aGlzLmVxdWFsc0ZuPW4sdGhpcy5pbm5lcj17fSx0aGlzLmlubmVyU2l6ZT0wfWdldChlKXtjb25zdCBuPXRoaXMubWFwS2V5Rm4oZSkscj10aGlzLmlubmVyW25dO2lmKHIhPT12b2lkIDApe2Zvcihjb25zdFtpLHNdb2YgcilpZih0aGlzLmVxdWFsc0ZuKGksZSkpcmV0dXJuIHN9fWhhcyhlKXtyZXR1cm4gdGhpcy5nZXQoZSkhPT12b2lkIDB9c2V0KGUsbil7Y29uc3Qgcj10aGlzLm1hcEtleUZuKGUpLGk9dGhpcy5pbm5lcltyXTtpZihpPT09dm9pZCAwKXJldHVybiB0aGlzLmlubmVyW3JdPVtbZSxuXV0sdm9pZCB0aGlzLmlubmVyU2l6ZSsrO2ZvcihsZXQgcz0wO3M8aS5sZW5ndGg7cysrKWlmKHRoaXMuZXF1YWxzRm4oaVtzXVswXSxlKSlyZXR1cm4gdm9pZChpW3NdPVtlLG5dKTtpLnB1c2goW2Usbl0pLHRoaXMuaW5uZXJTaXplKyt9ZGVsZXRlKGUpe2NvbnN0IG49dGhpcy5tYXBLZXlGbihlKSxyPXRoaXMuaW5uZXJbbl07aWYocj09PXZvaWQgMClyZXR1cm4hMTtmb3IobGV0IGk9MDtpPHIubGVuZ3RoO2krKylpZih0aGlzLmVxdWFsc0ZuKHJbaV1bMF0sZSkpcmV0dXJuIHIubGVuZ3RoPT09MT9kZWxldGUgdGhpcy5pbm5lcltuXTpyLnNwbGljZShpLDEpLHRoaXMuaW5uZXJTaXplLS0sITA7cmV0dXJuITF9Zm9yRWFjaChlKXtyaSh0aGlzLmlubmVyLChuLHIpPT57Zm9yKGNvbnN0W2ksc11vZiByKWUoaSxzKX0pfWlzRW1wdHkoKXtyZXR1cm4gZ0ModGhpcy5pbm5lcil9c2l6ZSgpe3JldHVybiB0aGlzLmlubmVyU2l6ZX19Y29uc3QgZyQ9bmV3IE5lKGouY29tcGFyYXRvcik7ZnVuY3Rpb24gSG4oKXtyZXR1cm4gZyR9Y29uc3QgUkM9bmV3IE5lKGouY29tcGFyYXRvcik7ZnVuY3Rpb24gUnMoLi4udCl7bGV0IGU9UkM7Zm9yKGNvbnN0IG4gb2YgdCllPWUuaW5zZXJ0KG4ua2V5LG4pO3JldHVybiBlfWZ1bmN0aW9uIGJDKHQpe2xldCBlPVJDO3JldHVybiB0LmZvckVhY2goKG4scik9PmU9ZS5pbnNlcnQobixyLm92ZXJsYXllZERvY3VtZW50KSksZX1mdW5jdGlvbiBOcigpe3JldHVybiBxcygpfWZ1bmN0aW9uIERDKCl7cmV0dXJuIHFzKCl9ZnVuY3Rpb24gcXMoKXtyZXR1cm4gbmV3IHBzKHQ9PnQudG9TdHJpbmcoKSwodCxlKT0+dC5pc0VxdWFsKGUpKX1jb25zdCBtJD1uZXcgTmUoai5jb21wYXJhdG9yKSx5JD1uZXcgaXQoai5jb21wYXJhdG9yKTtmdW5jdGlvbiBoZSguLi50KXtsZXQgZT15JDtmb3IoY29uc3QgbiBvZiB0KWU9ZS5hZGQobik7cmV0dXJuIGV9Y29uc3QgdiQ9bmV3IGl0KF9lKTtmdW5jdGlvbiBfJCgpe3JldHVybiB2JH1mdW5jdGlvbiBQQyh0LGUpe2lmKHQudXNlUHJvdG8zSnNvbil7aWYoaXNOYU4oZSkpcmV0dXJue2RvdWJsZVZhbHVlOiJOYU4ifTtpZihlPT09MS8wKXJldHVybntkb3VibGVWYWx1ZToiSW5maW5pdHkifTtpZihlPT09LTEvMClyZXR1cm57ZG91YmxlVmFsdWU6Ii1JbmZpbml0eSJ9fXJldHVybntkb3VibGVWYWx1ZTokYyhlKT8iLTAiOmV9fWZ1bmN0aW9uIE1DKHQpe3JldHVybntpbnRlZ2VyVmFsdWU6IiIrdH19ZnVuY3Rpb24gRSQodCxlKXtyZXR1cm4gWDIoZSk/TUMoZSk6UEModCxlKX1jbGFzcyBYdXtjb25zdHJ1Y3Rvcigpe3RoaXMuXz12b2lkIDB9fWZ1bmN0aW9uIHckKHQsZSxuKXtyZXR1cm4gdCBpbnN0YW5jZW9mIE9vP2Z1bmN0aW9uKGkscyl7Y29uc3Qgbz17ZmllbGRzOntfX3R5cGVfXzp7c3RyaW5nVmFsdWU6InNlcnZlcl90aW1lc3RhbXAifSxfX2xvY2FsX3dyaXRlX3RpbWVfXzp7dGltZXN0YW1wVmFsdWU6e3NlY29uZHM6aS5zZWNvbmRzLG5hbm9zOmkubmFub3NlY29uZHN9fX19O3JldHVybiBzJiZKcChzKSYmKHM9ZWcocykpLHMmJihvLmZpZWxkcy5fX3ByZXZpb3VzX3ZhbHVlX189cykse21hcFZhbHVlOm99fShuLGUpOnQgaW5zdGFuY2VvZiB4bz9rQyh0LGUpOnQgaW5zdGFuY2VvZiBMbz9PQyh0LGUpOmZ1bmN0aW9uKGkscyl7Y29uc3Qgbz1OQyhpLHMpLGE9aXYobykraXYoaS5JZSk7cmV0dXJuIFJkKG8pJiZSZChpLkllKT9NQyhhKTpQQyhpLnNlcmlhbGl6ZXIsYSl9KHQsZSl9ZnVuY3Rpb24gSSQodCxlLG4pe3JldHVybiB0IGluc3RhbmNlb2YgeG8/a0ModCxlKTp0IGluc3RhbmNlb2YgTG8/T0ModCxlKTpufWZ1bmN0aW9uIE5DKHQsZSl7cmV0dXJuIHQgaW5zdGFuY2VvZiBIYz9mdW5jdGlvbihyKXtyZXR1cm4gUmQocil8fGZ1bmN0aW9uKHMpe3JldHVybiEhcyYmImRvdWJsZVZhbHVlImluIHN9KHIpfShlKT9lOntpbnRlZ2VyVmFsdWU6MH06bnVsbH1jbGFzcyBPbyBleHRlbmRzIFh1e31jbGFzcyB4byBleHRlbmRzIFh1e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5lbGVtZW50cz1lfX1mdW5jdGlvbiBrQyh0LGUpe2NvbnN0IG49eEMoZSk7Zm9yKGNvbnN0IHIgb2YgdC5lbGVtZW50cyluLnNvbWUoaT0+dm4oaSxyKSl8fG4ucHVzaChyKTtyZXR1cm57YXJyYXlWYWx1ZTp7dmFsdWVzOm59fX1jbGFzcyBMbyBleHRlbmRzIFh1e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5lbGVtZW50cz1lfX1mdW5jdGlvbiBPQyh0LGUpe2xldCBuPXhDKGUpO2Zvcihjb25zdCByIG9mIHQuZWxlbWVudHMpbj1uLmZpbHRlcihpPT4hdm4oaSxyKSk7cmV0dXJue2FycmF5VmFsdWU6e3ZhbHVlczpufX19Y2xhc3MgSGMgZXh0ZW5kcyBYdXtjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKCksdGhpcy5zZXJpYWxpemVyPWUsdGhpcy5JZT1ufX1mdW5jdGlvbiBpdih0KXtyZXR1cm4gVWUodC5pbnRlZ2VyVmFsdWV8fHQuZG91YmxlVmFsdWUpfWZ1bmN0aW9uIHhDKHQpe3JldHVybiB0Zyh0KSYmdC5hcnJheVZhbHVlLnZhbHVlcz90LmFycmF5VmFsdWUudmFsdWVzLnNsaWNlKCk6W119Y2xhc3MgVCR7Y29uc3RydWN0b3IoZSxuKXt0aGlzLmZpZWxkPWUsdGhpcy50cmFuc2Zvcm09bn19ZnVuY3Rpb24gUyQodCxlKXtyZXR1cm4gdC5maWVsZC5pc0VxdWFsKGUuZmllbGQpJiZmdW5jdGlvbihyLGkpe3JldHVybiByIGluc3RhbmNlb2YgeG8mJmkgaW5zdGFuY2VvZiB4b3x8ciBpbnN0YW5jZW9mIExvJiZpIGluc3RhbmNlb2YgTG8/S2koci5lbGVtZW50cyxpLmVsZW1lbnRzLHZuKTpyIGluc3RhbmNlb2YgSGMmJmkgaW5zdGFuY2VvZiBIYz92bihyLkllLGkuSWUpOnIgaW5zdGFuY2VvZiBPbyYmaSBpbnN0YW5jZW9mIE9vfSh0LnRyYW5zZm9ybSxlLnRyYW5zZm9ybSl9Y2xhc3MgQyR7Y29uc3RydWN0b3IoZSxuKXt0aGlzLnZlcnNpb249ZSx0aGlzLnRyYW5zZm9ybVJlc3VsdHM9bn19Y2xhc3MgUXR7Y29uc3RydWN0b3IoZSxuKXt0aGlzLnVwZGF0ZVRpbWU9ZSx0aGlzLmV4aXN0cz1ufXN0YXRpYyBub25lKCl7cmV0dXJuIG5ldyBRdH1zdGF0aWMgZXhpc3RzKGUpe3JldHVybiBuZXcgUXQodm9pZCAwLGUpfXN0YXRpYyB1cGRhdGVUaW1lKGUpe3JldHVybiBuZXcgUXQoZSl9Z2V0IGlzTm9uZSgpe3JldHVybiB0aGlzLnVwZGF0ZVRpbWU9PT12b2lkIDAmJnRoaXMuZXhpc3RzPT09dm9pZCAwfWlzRXF1YWwoZSl7cmV0dXJuIHRoaXMuZXhpc3RzPT09ZS5leGlzdHMmJih0aGlzLnVwZGF0ZVRpbWU/ISFlLnVwZGF0ZVRpbWUmJnRoaXMudXBkYXRlVGltZS5pc0VxdWFsKGUudXBkYXRlVGltZSk6IWUudXBkYXRlVGltZSl9fWZ1bmN0aW9uIG5jKHQsZSl7cmV0dXJuIHQudXBkYXRlVGltZSE9PXZvaWQgMD9lLmlzRm91bmREb2N1bWVudCgpJiZlLnZlcnNpb24uaXNFcXVhbCh0LnVwZGF0ZVRpbWUpOnQuZXhpc3RzPT09dm9pZCAwfHx0LmV4aXN0cz09PWUuaXNGb3VuZERvY3VtZW50KCl9Y2xhc3MgWXV7fWZ1bmN0aW9uIExDKHQsZSl7aWYoIXQuaGFzTG9jYWxNdXRhdGlvbnN8fGUmJmUuZmllbGRzLmxlbmd0aD09PTApcmV0dXJuIG51bGw7aWYoZT09PW51bGwpcmV0dXJuIHQuaXNOb0RvY3VtZW50KCk/bmV3IHNnKHQua2V5LFF0Lm5vbmUoKSk6bmV3IGhhKHQua2V5LHQuZGF0YSxRdC5ub25lKCkpO3tjb25zdCBuPXQuZGF0YSxyPUN0LmVtcHR5KCk7bGV0IGk9bmV3IGl0KG50LmNvbXBhcmF0b3IpO2ZvcihsZXQgcyBvZiBlLmZpZWxkcylpZighaS5oYXMocykpe2xldCBvPW4uZmllbGQocyk7bz09PW51bGwmJnMubGVuZ3RoPjEmJihzPXMucG9wTGFzdCgpLG89bi5maWVsZChzKSksbz09PW51bGw/ci5kZWxldGUocyk6ci5zZXQocyxvKSxpPWkuYWRkKHMpfXJldHVybiBuZXcgRXIodC5rZXkscixuZXcgRHQoaS50b0FycmF5KCkpLFF0Lm5vbmUoKSl9fWZ1bmN0aW9uIEEkKHQsZSxuKXt0IGluc3RhbmNlb2YgaGE/ZnVuY3Rpb24oaSxzLG8pe2NvbnN0IGE9aS52YWx1ZS5jbG9uZSgpLGM9b3YoaS5maWVsZFRyYW5zZm9ybXMscyxvLnRyYW5zZm9ybVJlc3VsdHMpO2Euc2V0QWxsKGMpLHMuY29udmVydFRvRm91bmREb2N1bWVudChvLnZlcnNpb24sYSkuc2V0SGFzQ29tbWl0dGVkTXV0YXRpb25zKCl9KHQsZSxuKTp0IGluc3RhbmNlb2YgRXI/ZnVuY3Rpb24oaSxzLG8pe2lmKCFuYyhpLnByZWNvbmRpdGlvbixzKSlyZXR1cm4gdm9pZCBzLmNvbnZlcnRUb1Vua25vd25Eb2N1bWVudChvLnZlcnNpb24pO2NvbnN0IGE9b3YoaS5maWVsZFRyYW5zZm9ybXMscyxvLnRyYW5zZm9ybVJlc3VsdHMpLGM9cy5kYXRhO2Muc2V0QWxsKFZDKGkpKSxjLnNldEFsbChhKSxzLmNvbnZlcnRUb0ZvdW5kRG9jdW1lbnQoby52ZXJzaW9uLGMpLnNldEhhc0NvbW1pdHRlZE11dGF0aW9ucygpfSh0LGUsbik6ZnVuY3Rpb24oaSxzLG8pe3MuY29udmVydFRvTm9Eb2N1bWVudChvLnZlcnNpb24pLnNldEhhc0NvbW1pdHRlZE11dGF0aW9ucygpfSgwLGUsbil9ZnVuY3Rpb24genModCxlLG4scil7cmV0dXJuIHQgaW5zdGFuY2VvZiBoYT9mdW5jdGlvbihzLG8sYSxjKXtpZighbmMocy5wcmVjb25kaXRpb24sbykpcmV0dXJuIGE7Y29uc3QgdT1zLnZhbHVlLmNsb25lKCksbD1hdihzLmZpZWxkVHJhbnNmb3JtcyxjLG8pO3JldHVybiB1LnNldEFsbChsKSxvLmNvbnZlcnRUb0ZvdW5kRG9jdW1lbnQoby52ZXJzaW9uLHUpLnNldEhhc0xvY2FsTXV0YXRpb25zKCksbnVsbH0odCxlLG4scik6dCBpbnN0YW5jZW9mIEVyP2Z1bmN0aW9uKHMsbyxhLGMpe2lmKCFuYyhzLnByZWNvbmRpdGlvbixvKSlyZXR1cm4gYTtjb25zdCB1PWF2KHMuZmllbGRUcmFuc2Zvcm1zLGMsbyksbD1vLmRhdGE7cmV0dXJuIGwuc2V0QWxsKFZDKHMpKSxsLnNldEFsbCh1KSxvLmNvbnZlcnRUb0ZvdW5kRG9jdW1lbnQoby52ZXJzaW9uLGwpLnNldEhhc0xvY2FsTXV0YXRpb25zKCksYT09PW51bGw/bnVsbDphLnVuaW9uV2l0aChzLmZpZWxkTWFzay5maWVsZHMpLnVuaW9uV2l0aChzLmZpZWxkVHJhbnNmb3Jtcy5tYXAoaD0+aC5maWVsZCkpfSh0LGUsbixyKTpmdW5jdGlvbihzLG8sYSl7cmV0dXJuIG5jKHMucHJlY29uZGl0aW9uLG8pPyhvLmNvbnZlcnRUb05vRG9jdW1lbnQoby52ZXJzaW9uKS5zZXRIYXNMb2NhbE11dGF0aW9ucygpLG51bGwpOmF9KHQsZSxuKX1mdW5jdGlvbiBSJCh0LGUpe2xldCBuPW51bGw7Zm9yKGNvbnN0IHIgb2YgdC5maWVsZFRyYW5zZm9ybXMpe2NvbnN0IGk9ZS5kYXRhLmZpZWxkKHIuZmllbGQpLHM9TkMoci50cmFuc2Zvcm0saXx8bnVsbCk7cyE9bnVsbCYmKG49PT1udWxsJiYobj1DdC5lbXB0eSgpKSxuLnNldChyLmZpZWxkLHMpKX1yZXR1cm4gbnx8bnVsbH1mdW5jdGlvbiBzdih0LGUpe3JldHVybiB0LnR5cGU9PT1lLnR5cGUmJiEhdC5rZXkuaXNFcXVhbChlLmtleSkmJiEhdC5wcmVjb25kaXRpb24uaXNFcXVhbChlLnByZWNvbmRpdGlvbikmJiEhZnVuY3Rpb24ocixpKXtyZXR1cm4gcj09PXZvaWQgMCYmaT09PXZvaWQgMHx8ISghcnx8IWkpJiZLaShyLGksKHMsbyk9PlMkKHMsbykpfSh0LmZpZWxkVHJhbnNmb3JtcyxlLmZpZWxkVHJhbnNmb3JtcykmJih0LnR5cGU9PT0wP3QudmFsdWUuaXNFcXVhbChlLnZhbHVlKTp0LnR5cGUhPT0xfHx0LmRhdGEuaXNFcXVhbChlLmRhdGEpJiZ0LmZpZWxkTWFzay5pc0VxdWFsKGUuZmllbGRNYXNrKSl9Y2xhc3MgaGEgZXh0ZW5kcyBZdXtjb25zdHJ1Y3RvcihlLG4scixpPVtdKXtzdXBlcigpLHRoaXMua2V5PWUsdGhpcy52YWx1ZT1uLHRoaXMucHJlY29uZGl0aW9uPXIsdGhpcy5maWVsZFRyYW5zZm9ybXM9aSx0aGlzLnR5cGU9MH1nZXRGaWVsZE1hc2soKXtyZXR1cm4gbnVsbH19Y2xhc3MgRXIgZXh0ZW5kcyBZdXtjb25zdHJ1Y3RvcihlLG4scixpLHM9W10pe3N1cGVyKCksdGhpcy5rZXk9ZSx0aGlzLmRhdGE9bix0aGlzLmZpZWxkTWFzaz1yLHRoaXMucHJlY29uZGl0aW9uPWksdGhpcy5maWVsZFRyYW5zZm9ybXM9cyx0aGlzLnR5cGU9MX1nZXRGaWVsZE1hc2soKXtyZXR1cm4gdGhpcy5maWVsZE1hc2t9fWZ1bmN0aW9uIFZDKHQpe2NvbnN0IGU9bmV3IE1hcDtyZXR1cm4gdC5maWVsZE1hc2suZmllbGRzLmZvckVhY2gobj0+e2lmKCFuLmlzRW1wdHkoKSl7Y29uc3Qgcj10LmRhdGEuZmllbGQobik7ZS5zZXQobixyKX19KSxlfWZ1bmN0aW9uIG92KHQsZSxuKXtjb25zdCByPW5ldyBNYXA7QWUodC5sZW5ndGg9PT1uLmxlbmd0aCk7Zm9yKGxldCBpPTA7aTxuLmxlbmd0aDtpKyspe2NvbnN0IHM9dFtpXSxvPXMudHJhbnNmb3JtLGE9ZS5kYXRhLmZpZWxkKHMuZmllbGQpO3Iuc2V0KHMuZmllbGQsSSQobyxhLG5baV0pKX1yZXR1cm4gcn1mdW5jdGlvbiBhdih0LGUsbil7Y29uc3Qgcj1uZXcgTWFwO2Zvcihjb25zdCBpIG9mIHQpe2NvbnN0IHM9aS50cmFuc2Zvcm0sbz1uLmRhdGEuZmllbGQoaS5maWVsZCk7ci5zZXQoaS5maWVsZCx3JChzLG8sZSkpfXJldHVybiByfWNsYXNzIHNnIGV4dGVuZHMgWXV7Y29uc3RydWN0b3IoZSxuKXtzdXBlcigpLHRoaXMua2V5PWUsdGhpcy5wcmVjb25kaXRpb249bix0aGlzLnR5cGU9Mix0aGlzLmZpZWxkVHJhbnNmb3Jtcz1bXX1nZXRGaWVsZE1hc2soKXtyZXR1cm4gbnVsbH19Y2xhc3MgYiQgZXh0ZW5kcyBZdXtjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKCksdGhpcy5rZXk9ZSx0aGlzLnByZWNvbmRpdGlvbj1uLHRoaXMudHlwZT0zLHRoaXMuZmllbGRUcmFuc2Zvcm1zPVtdfWdldEZpZWxkTWFzaygpe3JldHVybiBudWxsfX1jbGFzcyBEJHtjb25zdHJ1Y3RvcihlLG4scixpKXt0aGlzLmJhdGNoSWQ9ZSx0aGlzLmxvY2FsV3JpdGVUaW1lPW4sdGhpcy5iYXNlTXV0YXRpb25zPXIsdGhpcy5tdXRhdGlvbnM9aX1hcHBseVRvUmVtb3RlRG9jdW1lbnQoZSxuKXtjb25zdCByPW4ubXV0YXRpb25SZXN1bHRzO2ZvcihsZXQgaT0wO2k8dGhpcy5tdXRhdGlvbnMubGVuZ3RoO2krKyl7Y29uc3Qgcz10aGlzLm11dGF0aW9uc1tpXTtzLmtleS5pc0VxdWFsKGUua2V5KSYmQSQocyxlLHJbaV0pfX1hcHBseVRvTG9jYWxWaWV3KGUsbil7Zm9yKGNvbnN0IHIgb2YgdGhpcy5iYXNlTXV0YXRpb25zKXIua2V5LmlzRXF1YWwoZS5rZXkpJiYobj16cyhyLGUsbix0aGlzLmxvY2FsV3JpdGVUaW1lKSk7Zm9yKGNvbnN0IHIgb2YgdGhpcy5tdXRhdGlvbnMpci5rZXkuaXNFcXVhbChlLmtleSkmJihuPXpzKHIsZSxuLHRoaXMubG9jYWxXcml0ZVRpbWUpKTtyZXR1cm4gbn1hcHBseVRvTG9jYWxEb2N1bWVudFNldChlLG4pe2NvbnN0IHI9REMoKTtyZXR1cm4gdGhpcy5tdXRhdGlvbnMuZm9yRWFjaChpPT57Y29uc3Qgcz1lLmdldChpLmtleSksbz1zLm92ZXJsYXllZERvY3VtZW50O2xldCBhPXRoaXMuYXBwbHlUb0xvY2FsVmlldyhvLHMubXV0YXRlZEZpZWxkcyk7YT1uLmhhcyhpLmtleSk/bnVsbDphO2NvbnN0IGM9TEMobyxhKTtjIT09bnVsbCYmci5zZXQoaS5rZXksYyksby5pc1ZhbGlkRG9jdW1lbnQoKXx8by5jb252ZXJ0VG9Ob0RvY3VtZW50KFkubWluKCkpfSkscn1rZXlzKCl7cmV0dXJuIHRoaXMubXV0YXRpb25zLnJlZHVjZSgoZSxuKT0+ZS5hZGQobi5rZXkpLGhlKCkpfWlzRXF1YWwoZSl7cmV0dXJuIHRoaXMuYmF0Y2hJZD09PWUuYmF0Y2hJZCYmS2kodGhpcy5tdXRhdGlvbnMsZS5tdXRhdGlvbnMsKG4scik9PnN2KG4scikpJiZLaSh0aGlzLmJhc2VNdXRhdGlvbnMsZS5iYXNlTXV0YXRpb25zLChuLHIpPT5zdihuLHIpKX19Y2xhc3Mgb2d7Y29uc3RydWN0b3IoZSxuLHIsaSl7dGhpcy5iYXRjaD1lLHRoaXMuY29tbWl0VmVyc2lvbj1uLHRoaXMubXV0YXRpb25SZXN1bHRzPXIsdGhpcy5kb2NWZXJzaW9ucz1pfXN0YXRpYyBmcm9tKGUsbixyKXtBZShlLm11dGF0aW9ucy5sZW5ndGg9PT1yLmxlbmd0aCk7bGV0IGk9ZnVuY3Rpb24oKXtyZXR1cm4gbSR9KCk7Y29uc3Qgcz1lLm11dGF0aW9ucztmb3IobGV0IG89MDtvPHMubGVuZ3RoO28rKylpPWkuaW5zZXJ0KHNbb10ua2V5LHJbb10udmVyc2lvbik7cmV0dXJuIG5ldyBvZyhlLG4scixpKX19Y2xhc3MgUCR7Y29uc3RydWN0b3IoZSxuKXt0aGlzLmxhcmdlc3RCYXRjaElkPWUsdGhpcy5tdXRhdGlvbj1ufWdldEtleSgpe3JldHVybiB0aGlzLm11dGF0aW9uLmtleX1pc0VxdWFsKGUpe3JldHVybiBlIT09bnVsbCYmdGhpcy5tdXRhdGlvbj09PWUubXV0YXRpb259dG9TdHJpbmcoKXtyZXR1cm5gT3ZlcmxheXsKICAgICAgbGFyZ2VzdEJhdGNoSWQ6ICR7dGhpcy5sYXJnZXN0QmF0Y2hJZH0sCiAgICAgIG11dGF0aW9uOiAke3RoaXMubXV0YXRpb24udG9TdHJpbmcoKX0KICAgIH1gfX1jbGFzcyBNJHtjb25zdHJ1Y3RvcihlLG4pe3RoaXMuY291bnQ9ZSx0aGlzLnVuY2hhbmdlZE5hbWVzPW59fXZhciBGZSxwZTtmdW5jdGlvbiBOJCh0KXtzd2l0Y2godCl7ZGVmYXVsdDpyZXR1cm4geigpO2Nhc2Ugdy5DQU5DRUxMRUQ6Y2FzZSB3LlVOS05PV046Y2FzZSB3LkRFQURMSU5FX0VYQ0VFREVEOmNhc2Ugdy5SRVNPVVJDRV9FWEhBVVNURUQ6Y2FzZSB3LklOVEVSTkFMOmNhc2Ugdy5VTkFWQUlMQUJMRTpjYXNlIHcuVU5BVVRIRU5USUNBVEVEOnJldHVybiExO2Nhc2Ugdy5JTlZBTElEX0FSR1VNRU5UOmNhc2Ugdy5OT1RfRk9VTkQ6Y2FzZSB3LkFMUkVBRFlfRVhJU1RTOmNhc2Ugdy5QRVJNSVNTSU9OX0RFTklFRDpjYXNlIHcuRkFJTEVEX1BSRUNPTkRJVElPTjpjYXNlIHcuQUJPUlRFRDpjYXNlIHcuT1VUX09GX1JBTkdFOmNhc2Ugdy5VTklNUExFTUVOVEVEOmNhc2Ugdy5EQVRBX0xPU1M6cmV0dXJuITB9fWZ1bmN0aW9uIEZDKHQpe2lmKHQ9PT12b2lkIDApcmV0dXJuIHluKCJHUlBDIGVycm9yIGhhcyBubyAuY29kZSIpLHcuVU5LTk9XTjtzd2l0Y2godCl7Y2FzZSBGZS5PSzpyZXR1cm4gdy5PSztjYXNlIEZlLkNBTkNFTExFRDpyZXR1cm4gdy5DQU5DRUxMRUQ7Y2FzZSBGZS5VTktOT1dOOnJldHVybiB3LlVOS05PV047Y2FzZSBGZS5ERUFETElORV9FWENFRURFRDpyZXR1cm4gdy5ERUFETElORV9FWENFRURFRDtjYXNlIEZlLlJFU09VUkNFX0VYSEFVU1RFRDpyZXR1cm4gdy5SRVNPVVJDRV9FWEhBVVNURUQ7Y2FzZSBGZS5JTlRFUk5BTDpyZXR1cm4gdy5JTlRFUk5BTDtjYXNlIEZlLlVOQVZBSUxBQkxFOnJldHVybiB3LlVOQVZBSUxBQkxFO2Nhc2UgRmUuVU5BVVRIRU5USUNBVEVEOnJldHVybiB3LlVOQVVUSEVOVElDQVRFRDtjYXNlIEZlLklOVkFMSURfQVJHVU1FTlQ6cmV0dXJuIHcuSU5WQUxJRF9BUkdVTUVOVDtjYXNlIEZlLk5PVF9GT1VORDpyZXR1cm4gdy5OT1RfRk9VTkQ7Y2FzZSBGZS5BTFJFQURZX0VYSVNUUzpyZXR1cm4gdy5BTFJFQURZX0VYSVNUUztjYXNlIEZlLlBFUk1JU1NJT05fREVOSUVEOnJldHVybiB3LlBFUk1JU1NJT05fREVOSUVEO2Nhc2UgRmUuRkFJTEVEX1BSRUNPTkRJVElPTjpyZXR1cm4gdy5GQUlMRURfUFJFQ09ORElUSU9OO2Nhc2UgRmUuQUJPUlRFRDpyZXR1cm4gdy5BQk9SVEVEO2Nhc2UgRmUuT1VUX09GX1JBTkdFOnJldHVybiB3Lk9VVF9PRl9SQU5HRTtjYXNlIEZlLlVOSU1QTEVNRU5URUQ6cmV0dXJuIHcuVU5JTVBMRU1FTlRFRDtjYXNlIEZlLkRBVEFfTE9TUzpyZXR1cm4gdy5EQVRBX0xPU1M7ZGVmYXVsdDpyZXR1cm4geigpfX0ocGU9RmV8fChGZT17fSkpW3BlLk9LPTBdPSJPSyIscGVbcGUuQ0FOQ0VMTEVEPTFdPSJDQU5DRUxMRUQiLHBlW3BlLlVOS05PV049Ml09IlVOS05PV04iLHBlW3BlLklOVkFMSURfQVJHVU1FTlQ9M109IklOVkFMSURfQVJHVU1FTlQiLHBlW3BlLkRFQURMSU5FX0VYQ0VFREVEPTRdPSJERUFETElORV9FWENFRURFRCIscGVbcGUuTk9UX0ZPVU5EPTVdPSJOT1RfRk9VTkQiLHBlW3BlLkFMUkVBRFlfRVhJU1RTPTZdPSJBTFJFQURZX0VYSVNUUyIscGVbcGUuUEVSTUlTU0lPTl9ERU5JRUQ9N109IlBFUk1JU1NJT05fREVOSUVEIixwZVtwZS5VTkFVVEhFTlRJQ0FURUQ9MTZdPSJVTkFVVEhFTlRJQ0FURUQiLHBlW3BlLlJFU09VUkNFX0VYSEFVU1RFRD04XT0iUkVTT1VSQ0VfRVhIQVVTVEVEIixwZVtwZS5GQUlMRURfUFJFQ09ORElUSU9OPTldPSJGQUlMRURfUFJFQ09ORElUSU9OIixwZVtwZS5BQk9SVEVEPTEwXT0iQUJPUlRFRCIscGVbcGUuT1VUX09GX1JBTkdFPTExXT0iT1VUX09GX1JBTkdFIixwZVtwZS5VTklNUExFTUVOVEVEPTEyXT0iVU5JTVBMRU1FTlRFRCIscGVbcGUuSU5URVJOQUw9MTNdPSJJTlRFUk5BTCIscGVbcGUuVU5BVkFJTEFCTEU9MTRdPSJVTkFWQUlMQUJMRSIscGVbcGUuREFUQV9MT1NTPTE1XT0iREFUQV9MT1NTIjtmdW5jdGlvbiBrJCgpe3JldHVybiBuZXcgVGV4dEVuY29kZXJ9Y29uc3QgTyQ9bmV3IFBpKFs0Mjk0OTY3Mjk1LDQyOTQ5NjcyOTVdLDApO2Z1bmN0aW9uIGN2KHQpe2NvbnN0IGU9ayQoKS5lbmNvZGUodCksbj1uZXcgTzI7cmV0dXJuIG4udXBkYXRlKGUpLG5ldyBVaW50OEFycmF5KG4uZGlnZXN0KCkpfWZ1bmN0aW9uIHV2KHQpe2NvbnN0IGU9bmV3IERhdGFWaWV3KHQuYnVmZmVyKSxuPWUuZ2V0VWludDMyKDAsITApLHI9ZS5nZXRVaW50MzIoNCwhMCksaT1lLmdldFVpbnQzMig4LCEwKSxzPWUuZ2V0VWludDMyKDEyLCEwKTtyZXR1cm5bbmV3IFBpKFtuLHJdLDApLG5ldyBQaShbaSxzXSwwKV19Y2xhc3MgYWd7Y29uc3RydWN0b3IoZSxuLHIpe2lmKHRoaXMuYml0bWFwPWUsdGhpcy5wYWRkaW5nPW4sdGhpcy5oYXNoQ291bnQ9cixuPDB8fG4+PTgpdGhyb3cgbmV3IGJzKGBJbnZhbGlkIHBhZGRpbmc6ICR7bn1gKTtpZihyPDApdGhyb3cgbmV3IGJzKGBJbnZhbGlkIGhhc2ggY291bnQ6ICR7cn1gKTtpZihlLmxlbmd0aD4wJiZ0aGlzLmhhc2hDb3VudD09PTApdGhyb3cgbmV3IGJzKGBJbnZhbGlkIGhhc2ggY291bnQ6ICR7cn1gKTtpZihlLmxlbmd0aD09PTAmJm4hPT0wKXRocm93IG5ldyBicyhgSW52YWxpZCBwYWRkaW5nIHdoZW4gYml0bWFwIGxlbmd0aCBpcyAwOiAke259YCk7dGhpcy5UZT04KmUubGVuZ3RoLW4sdGhpcy5FZT1QaS5mcm9tTnVtYmVyKHRoaXMuVGUpfWRlKGUsbixyKXtsZXQgaT1lLmFkZChuLm11bHRpcGx5KFBpLmZyb21OdW1iZXIocikpKTtyZXR1cm4gaS5jb21wYXJlKE8kKT09PTEmJihpPW5ldyBQaShbaS5nZXRCaXRzKDApLGkuZ2V0Qml0cygxKV0sMCkpLGkubW9kdWxvKHRoaXMuRWUpLnRvTnVtYmVyKCl9QWUoZSl7cmV0dXJuKHRoaXMuYml0bWFwW01hdGguZmxvb3IoZS84KV0mMTw8ZSU4KSE9MH1taWdodENvbnRhaW4oZSl7aWYodGhpcy5UZT09PTApcmV0dXJuITE7Y29uc3Qgbj1jdihlKSxbcixpXT11dihuKTtmb3IobGV0IHM9MDtzPHRoaXMuaGFzaENvdW50O3MrKyl7Y29uc3Qgbz10aGlzLmRlKHIsaSxzKTtpZighdGhpcy5BZShvKSlyZXR1cm4hMX1yZXR1cm4hMH1zdGF0aWMgY3JlYXRlKGUsbixyKXtjb25zdCBpPWUlOD09MD8wOjgtZSU4LHM9bmV3IFVpbnQ4QXJyYXkoTWF0aC5jZWlsKGUvOCkpLG89bmV3IGFnKHMsaSxuKTtyZXR1cm4gci5mb3JFYWNoKGE9Pm8uaW5zZXJ0KGEpKSxvfWluc2VydChlKXtpZih0aGlzLlRlPT09MClyZXR1cm47Y29uc3Qgbj1jdihlKSxbcixpXT11dihuKTtmb3IobGV0IHM9MDtzPHRoaXMuaGFzaENvdW50O3MrKyl7Y29uc3Qgbz10aGlzLmRlKHIsaSxzKTt0aGlzLlJlKG8pfX1SZShlKXtjb25zdCBuPU1hdGguZmxvb3IoZS84KSxyPWUlODt0aGlzLmJpdG1hcFtuXXw9MTw8cn19Y2xhc3MgYnMgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5uYW1lPSJCbG9vbUZpbHRlckVycm9yIn19Y2xhc3MgSnV7Y29uc3RydWN0b3IoZSxuLHIsaSxzKXt0aGlzLnNuYXBzaG90VmVyc2lvbj1lLHRoaXMudGFyZ2V0Q2hhbmdlcz1uLHRoaXMudGFyZ2V0TWlzbWF0Y2hlcz1yLHRoaXMuZG9jdW1lbnRVcGRhdGVzPWksdGhpcy5yZXNvbHZlZExpbWJvRG9jdW1lbnRzPXN9c3RhdGljIGNyZWF0ZVN5bnRoZXNpemVkUmVtb3RlRXZlbnRGb3JDdXJyZW50Q2hhbmdlKGUsbixyKXtjb25zdCBpPW5ldyBNYXA7cmV0dXJuIGkuc2V0KGUsZGEuY3JlYXRlU3ludGhlc2l6ZWRUYXJnZXRDaGFuZ2VGb3JDdXJyZW50Q2hhbmdlKGUsbixyKSksbmV3IEp1KFkubWluKCksaSxuZXcgTmUoX2UpLEhuKCksaGUoKSl9fWNsYXNzIGRhe2NvbnN0cnVjdG9yKGUsbixyLGkscyl7dGhpcy5yZXN1bWVUb2tlbj1lLHRoaXMuY3VycmVudD1uLHRoaXMuYWRkZWREb2N1bWVudHM9cix0aGlzLm1vZGlmaWVkRG9jdW1lbnRzPWksdGhpcy5yZW1vdmVkRG9jdW1lbnRzPXN9c3RhdGljIGNyZWF0ZVN5bnRoZXNpemVkVGFyZ2V0Q2hhbmdlRm9yQ3VycmVudENoYW5nZShlLG4scil7cmV0dXJuIG5ldyBkYShyLG4saGUoKSxoZSgpLGhlKCkpfX1jbGFzcyByY3tjb25zdHJ1Y3RvcihlLG4scixpKXt0aGlzLlZlPWUsdGhpcy5yZW1vdmVkVGFyZ2V0SWRzPW4sdGhpcy5rZXk9cix0aGlzLm1lPWl9fWNsYXNzIFVDe2NvbnN0cnVjdG9yKGUsbil7dGhpcy50YXJnZXRJZD1lLHRoaXMuZmU9bn19Y2xhc3MgakN7Y29uc3RydWN0b3IoZSxuLHI9bXQuRU1QVFlfQllURV9TVFJJTkcsaT1udWxsKXt0aGlzLnN0YXRlPWUsdGhpcy50YXJnZXRJZHM9bix0aGlzLnJlc3VtZVRva2VuPXIsdGhpcy5jYXVzZT1pfX1jbGFzcyBsdntjb25zdHJ1Y3Rvcigpe3RoaXMuZ2U9MCx0aGlzLnBlPWR2KCksdGhpcy55ZT1tdC5FTVBUWV9CWVRFX1NUUklORyx0aGlzLndlPSExLHRoaXMuU2U9ITB9Z2V0IGN1cnJlbnQoKXtyZXR1cm4gdGhpcy53ZX1nZXQgcmVzdW1lVG9rZW4oKXtyZXR1cm4gdGhpcy55ZX1nZXQgYmUoKXtyZXR1cm4gdGhpcy5nZSE9PTB9Z2V0IERlKCl7cmV0dXJuIHRoaXMuU2V9Q2UoZSl7ZS5hcHByb3hpbWF0ZUJ5dGVTaXplKCk+MCYmKHRoaXMuU2U9ITAsdGhpcy55ZT1lKX12ZSgpe2xldCBlPWhlKCksbj1oZSgpLHI9aGUoKTtyZXR1cm4gdGhpcy5wZS5mb3JFYWNoKChpLHMpPT57c3dpdGNoKHMpe2Nhc2UgMDplPWUuYWRkKGkpO2JyZWFrO2Nhc2UgMjpuPW4uYWRkKGkpO2JyZWFrO2Nhc2UgMTpyPXIuYWRkKGkpO2JyZWFrO2RlZmF1bHQ6eigpfX0pLG5ldyBkYSh0aGlzLnllLHRoaXMud2UsZSxuLHIpfUZlKCl7dGhpcy5TZT0hMSx0aGlzLnBlPWR2KCl9TWUoZSxuKXt0aGlzLlNlPSEwLHRoaXMucGU9dGhpcy5wZS5pbnNlcnQoZSxuKX14ZShlKXt0aGlzLlNlPSEwLHRoaXMucGU9dGhpcy5wZS5yZW1vdmUoZSl9T2UoKXt0aGlzLmdlKz0xfU5lKCl7dGhpcy5nZS09MSxBZSh0aGlzLmdlPj0wKX1CZSgpe3RoaXMuU2U9ITAsdGhpcy53ZT0hMH19Y2xhc3MgeCR7Y29uc3RydWN0b3IoZSl7dGhpcy5MZT1lLHRoaXMua2U9bmV3IE1hcCx0aGlzLnFlPUhuKCksdGhpcy5RZT1odigpLHRoaXMuS2U9bmV3IE5lKF9lKX0kZShlKXtmb3IoY29uc3QgbiBvZiBlLlZlKWUubWUmJmUubWUuaXNGb3VuZERvY3VtZW50KCk/dGhpcy5VZShuLGUubWUpOnRoaXMuV2UobixlLmtleSxlLm1lKTtmb3IoY29uc3QgbiBvZiBlLnJlbW92ZWRUYXJnZXRJZHMpdGhpcy5XZShuLGUua2V5LGUubWUpfUdlKGUpe3RoaXMuZm9yRWFjaFRhcmdldChlLG49Pntjb25zdCByPXRoaXMuemUobik7c3dpdGNoKGUuc3RhdGUpe2Nhc2UgMDp0aGlzLmplKG4pJiZyLkNlKGUucmVzdW1lVG9rZW4pO2JyZWFrO2Nhc2UgMTpyLk5lKCksci5iZXx8ci5GZSgpLHIuQ2UoZS5yZXN1bWVUb2tlbik7YnJlYWs7Y2FzZSAyOnIuTmUoKSxyLmJlfHx0aGlzLnJlbW92ZVRhcmdldChuKTticmVhaztjYXNlIDM6dGhpcy5qZShuKSYmKHIuQmUoKSxyLkNlKGUucmVzdW1lVG9rZW4pKTticmVhaztjYXNlIDQ6dGhpcy5qZShuKSYmKHRoaXMuSGUobiksci5DZShlLnJlc3VtZVRva2VuKSk7YnJlYWs7ZGVmYXVsdDp6KCl9fSl9Zm9yRWFjaFRhcmdldChlLG4pe2UudGFyZ2V0SWRzLmxlbmd0aD4wP2UudGFyZ2V0SWRzLmZvckVhY2gobik6dGhpcy5rZS5mb3JFYWNoKChyLGkpPT57dGhpcy5qZShpKSYmbihpKX0pfUplKGUpe2NvbnN0IG49ZS50YXJnZXRJZCxyPWUuZmUuY291bnQsaT10aGlzLlllKG4pO2lmKGkpe2NvbnN0IHM9aS50YXJnZXQ7aWYoRGQocykpaWYocj09PTApe2NvbnN0IG89bmV3IGoocy5wYXRoKTt0aGlzLldlKG4sbyxodC5uZXdOb0RvY3VtZW50KG8sWS5taW4oKSkpfWVsc2UgQWUocj09PTEpO2Vsc2V7Y29uc3Qgbz10aGlzLlplKG4pO2lmKG8hPT1yKXtjb25zdCBhPXRoaXMuWGUoZSksYz1hP3RoaXMuZXQoYSxlLG8pOjE7aWYoYyE9PTApe3RoaXMuSGUobik7Y29uc3QgdT1jPT09Mj8iVGFyZ2V0UHVycG9zZUV4aXN0ZW5jZUZpbHRlck1pc21hdGNoQmxvb20iOiJUYXJnZXRQdXJwb3NlRXhpc3RlbmNlRmlsdGVyTWlzbWF0Y2giO3RoaXMuS2U9dGhpcy5LZS5pbnNlcnQobix1KX19fX19WGUoZSl7Y29uc3Qgbj1lLmZlLnVuY2hhbmdlZE5hbWVzO2lmKCFufHwhbi5iaXRzKXJldHVybiBudWxsO2NvbnN0e2JpdHM6e2JpdG1hcDpyPSIiLHBhZGRpbmc6aT0wfSxoYXNoQ291bnQ6cz0wfT1uO2xldCBvLGE7dHJ5e289S3IocikudG9VaW50OEFycmF5KCl9Y2F0Y2goYyl7aWYoYyBpbnN0YW5jZW9mIG1DKXJldHVybiBHaSgiRGVjb2RpbmcgdGhlIGJhc2U2NCBibG9vbSBmaWx0ZXIgaW4gZXhpc3RlbmNlIGZpbHRlciBmYWlsZWQgKCIrYy5tZXNzYWdlKyIpOyBpZ25vcmluZyB0aGUgYmxvb20gZmlsdGVyIGFuZCBmYWxsaW5nIGJhY2sgdG8gZnVsbCByZS1xdWVyeS4iKSxudWxsO3Rocm93IGN9dHJ5e2E9bmV3IGFnKG8saSxzKX1jYXRjaChjKXtyZXR1cm4gR2koYyBpbnN0YW5jZW9mIGJzPyJCbG9vbUZpbHRlciBlcnJvcjogIjoiQXBwbHlpbmcgYmxvb20gZmlsdGVyIGZhaWxlZDogIixjKSxudWxsfXJldHVybiBhLlRlPT09MD9udWxsOmF9ZXQoZSxuLHIpe3JldHVybiBuLmZlLmNvdW50PT09ci10aGlzLnJ0KGUsbi50YXJnZXRJZCk/MDoyfXJ0KGUsbil7Y29uc3Qgcj10aGlzLkxlLmdldFJlbW90ZUtleXNGb3JUYXJnZXQobik7bGV0IGk9MDtyZXR1cm4gci5mb3JFYWNoKHM9Pntjb25zdCBvPXRoaXMuTGUubnQoKSxhPWBwcm9qZWN0cy8ke28ucHJvamVjdElkfS9kYXRhYmFzZXMvJHtvLmRhdGFiYXNlfS9kb2N1bWVudHMvJHtzLnBhdGguY2Fub25pY2FsU3RyaW5nKCl9YDtlLm1pZ2h0Q29udGFpbihhKXx8KHRoaXMuV2UobixzLG51bGwpLGkrKyl9KSxpfWl0KGUpe2NvbnN0IG49bmV3IE1hcDt0aGlzLmtlLmZvckVhY2goKHMsbyk9Pntjb25zdCBhPXRoaXMuWWUobyk7aWYoYSl7aWYocy5jdXJyZW50JiZEZChhLnRhcmdldCkpe2NvbnN0IGM9bmV3IGooYS50YXJnZXQucGF0aCk7dGhpcy5xZS5nZXQoYykhPT1udWxsfHx0aGlzLnN0KG8sYyl8fHRoaXMuV2UobyxjLGh0Lm5ld05vRG9jdW1lbnQoYyxlKSl9cy5EZSYmKG4uc2V0KG8scy52ZSgpKSxzLkZlKCkpfX0pO2xldCByPWhlKCk7dGhpcy5RZS5mb3JFYWNoKChzLG8pPT57bGV0IGE9ITA7by5mb3JFYWNoV2hpbGUoYz0+e2NvbnN0IHU9dGhpcy5ZZShjKTtyZXR1cm4hdXx8dS5wdXJwb3NlPT09IlRhcmdldFB1cnBvc2VMaW1ib1Jlc29sdXRpb24ifHwoYT0hMSwhMSl9KSxhJiYocj1yLmFkZChzKSl9KSx0aGlzLnFlLmZvckVhY2goKHMsbyk9Pm8uc2V0UmVhZFRpbWUoZSkpO2NvbnN0IGk9bmV3IEp1KGUsbix0aGlzLktlLHRoaXMucWUscik7cmV0dXJuIHRoaXMucWU9SG4oKSx0aGlzLlFlPWh2KCksdGhpcy5LZT1uZXcgTmUoX2UpLGl9VWUoZSxuKXtpZighdGhpcy5qZShlKSlyZXR1cm47Y29uc3Qgcj10aGlzLnN0KGUsbi5rZXkpPzI6MDt0aGlzLnplKGUpLk1lKG4ua2V5LHIpLHRoaXMucWU9dGhpcy5xZS5pbnNlcnQobi5rZXksbiksdGhpcy5RZT10aGlzLlFlLmluc2VydChuLmtleSx0aGlzLm90KG4ua2V5KS5hZGQoZSkpfVdlKGUsbixyKXtpZighdGhpcy5qZShlKSlyZXR1cm47Y29uc3QgaT10aGlzLnplKGUpO3RoaXMuc3QoZSxuKT9pLk1lKG4sMSk6aS54ZShuKSx0aGlzLlFlPXRoaXMuUWUuaW5zZXJ0KG4sdGhpcy5vdChuKS5kZWxldGUoZSkpLHImJih0aGlzLnFlPXRoaXMucWUuaW5zZXJ0KG4scikpfXJlbW92ZVRhcmdldChlKXt0aGlzLmtlLmRlbGV0ZShlKX1aZShlKXtjb25zdCBuPXRoaXMuemUoZSkudmUoKTtyZXR1cm4gdGhpcy5MZS5nZXRSZW1vdGVLZXlzRm9yVGFyZ2V0KGUpLnNpemUrbi5hZGRlZERvY3VtZW50cy5zaXplLW4ucmVtb3ZlZERvY3VtZW50cy5zaXplfU9lKGUpe3RoaXMuemUoZSkuT2UoKX16ZShlKXtsZXQgbj10aGlzLmtlLmdldChlKTtyZXR1cm4gbnx8KG49bmV3IGx2LHRoaXMua2Uuc2V0KGUsbikpLG59b3QoZSl7bGV0IG49dGhpcy5RZS5nZXQoZSk7cmV0dXJuIG58fChuPW5ldyBpdChfZSksdGhpcy5RZT10aGlzLlFlLmluc2VydChlLG4pKSxufWplKGUpe2NvbnN0IG49dGhpcy5ZZShlKSE9PW51bGw7cmV0dXJuIG58fFAoIldhdGNoQ2hhbmdlQWdncmVnYXRvciIsIkRldGVjdGVkIGluYWN0aXZlIHRhcmdldCIsZSksbn1ZZShlKXtjb25zdCBuPXRoaXMua2UuZ2V0KGUpO3JldHVybiBuJiZuLmJlP251bGw6dGhpcy5MZS5fdChlKX1IZShlKXt0aGlzLmtlLnNldChlLG5ldyBsdiksdGhpcy5MZS5nZXRSZW1vdGVLZXlzRm9yVGFyZ2V0KGUpLmZvckVhY2gobj0+e3RoaXMuV2UoZSxuLG51bGwpfSl9c3QoZSxuKXtyZXR1cm4gdGhpcy5MZS5nZXRSZW1vdGVLZXlzRm9yVGFyZ2V0KGUpLmhhcyhuKX19ZnVuY3Rpb24gaHYoKXtyZXR1cm4gbmV3IE5lKGouY29tcGFyYXRvcil9ZnVuY3Rpb24gZHYoKXtyZXR1cm4gbmV3IE5lKGouY29tcGFyYXRvcil9Y29uc3QgTCQ9e2FzYzoiQVNDRU5ESU5HIixkZXNjOiJERVNDRU5ESU5HIn0sViQ9eyI8IjoiTEVTU19USEFOIiwiPD0iOiJMRVNTX1RIQU5fT1JfRVFVQUwiLCI+IjoiR1JFQVRFUl9USEFOIiwiPj0iOiJHUkVBVEVSX1RIQU5fT1JfRVFVQUwiLCI9PSI6IkVRVUFMIiwiIT0iOiJOT1RfRVFVQUwiLCJhcnJheS1jb250YWlucyI6IkFSUkFZX0NPTlRBSU5TIixpbjoiSU4iLCJub3QtaW4iOiJOT1RfSU4iLCJhcnJheS1jb250YWlucy1hbnkiOiJBUlJBWV9DT05UQUlOU19BTlkifSxGJD17YW5kOiJBTkQiLG9yOiJPUiJ9O2NsYXNzIFUke2NvbnN0cnVjdG9yKGUsbil7dGhpcy5kYXRhYmFzZUlkPWUsdGhpcy51c2VQcm90bzNKc29uPW59fWZ1bmN0aW9uIE5kKHQsZSl7cmV0dXJuIHQudXNlUHJvdG8zSnNvbnx8S3UoZSk/ZTp7dmFsdWU6ZX19ZnVuY3Rpb24gcWModCxlKXtyZXR1cm4gdC51c2VQcm90bzNKc29uP2Ake25ldyBEYXRlKDFlMyplLnNlY29uZHMpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvXC5cZCovLCIiKS5yZXBsYWNlKCJaIiwiIil9LiR7KCIwMDAwMDAwMDAiK2UubmFub3NlY29uZHMpLnNsaWNlKC05KX1aYDp7c2Vjb25kczoiIitlLnNlY29uZHMsbmFub3M6ZS5uYW5vc2Vjb25kc319ZnVuY3Rpb24gJEModCxlKXtyZXR1cm4gdC51c2VQcm90bzNKc29uP2UudG9CYXNlNjQoKTplLnRvVWludDhBcnJheSgpfWZ1bmN0aW9uIGokKHQsZSl7cmV0dXJuIHFjKHQsZS50b1RpbWVzdGFtcCgpKX1mdW5jdGlvbiBmbih0KXtyZXR1cm4gQWUoISF0KSxZLmZyb21UaW1lc3RhbXAoZnVuY3Rpb24obil7Y29uc3Qgcj1ocihuKTtyZXR1cm4gbmV3IEJlKHIuc2Vjb25kcyxyLm5hbm9zKX0odCkpfWZ1bmN0aW9uIGNnKHQsZSl7cmV0dXJuIGtkKHQsZSkuY2Fub25pY2FsU3RyaW5nKCl9ZnVuY3Rpb24ga2QodCxlKXtjb25zdCBuPWZ1bmN0aW9uKGkpe3JldHVybiBuZXcgYmUoWyJwcm9qZWN0cyIsaS5wcm9qZWN0SWQsImRhdGFiYXNlcyIsaS5kYXRhYmFzZV0pfSh0KS5jaGlsZCgiZG9jdW1lbnRzIik7cmV0dXJuIGU9PT12b2lkIDA/bjpuLmNoaWxkKGUpfWZ1bmN0aW9uIEJDKHQpe2NvbnN0IGU9YmUuZnJvbVN0cmluZyh0KTtyZXR1cm4gQWUoR0MoZSkpLGV9ZnVuY3Rpb24gT2QodCxlKXtyZXR1cm4gY2codC5kYXRhYmFzZUlkLGUucGF0aCl9ZnVuY3Rpb24gcmgodCxlKXtjb25zdCBuPUJDKGUpO2lmKG4uZ2V0KDEpIT09dC5kYXRhYmFzZUlkLnByb2plY3RJZCl0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsIlRyaWVkIHRvIGRlc2VyaWFsaXplIGtleSBmcm9tIGRpZmZlcmVudCBwcm9qZWN0OiAiK24uZ2V0KDEpKyIgdnMgIit0LmRhdGFiYXNlSWQucHJvamVjdElkKTtpZihuLmdldCgzKSE9PXQuZGF0YWJhc2VJZC5kYXRhYmFzZSl0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsIlRyaWVkIHRvIGRlc2VyaWFsaXplIGtleSBmcm9tIGRpZmZlcmVudCBkYXRhYmFzZTogIituLmdldCgzKSsiIHZzICIrdC5kYXRhYmFzZUlkLmRhdGFiYXNlKTtyZXR1cm4gbmV3IGoocUMobikpfWZ1bmN0aW9uIEhDKHQsZSl7cmV0dXJuIGNnKHQuZGF0YWJhc2VJZCxlKX1mdW5jdGlvbiAkJCh0KXtjb25zdCBlPUJDKHQpO3JldHVybiBlLmxlbmd0aD09PTQ/YmUuZW1wdHlQYXRoKCk6cUMoZSl9ZnVuY3Rpb24geGQodCl7cmV0dXJuIG5ldyBiZShbInByb2plY3RzIix0LmRhdGFiYXNlSWQucHJvamVjdElkLCJkYXRhYmFzZXMiLHQuZGF0YWJhc2VJZC5kYXRhYmFzZV0pLmNhbm9uaWNhbFN0cmluZygpfWZ1bmN0aW9uIHFDKHQpe3JldHVybiBBZSh0Lmxlbmd0aD40JiZ0LmdldCg0KT09PSJkb2N1bWVudHMiKSx0LnBvcEZpcnN0KDUpfWZ1bmN0aW9uIGZ2KHQsZSxuKXtyZXR1cm57bmFtZTpPZCh0LGUpLGZpZWxkczpuLnZhbHVlLm1hcFZhbHVlLmZpZWxkc319ZnVuY3Rpb24gQiQodCxlKXtsZXQgbjtpZigidGFyZ2V0Q2hhbmdlImluIGUpe2UudGFyZ2V0Q2hhbmdlO2NvbnN0IHI9ZnVuY3Rpb24odSl7cmV0dXJuIHU9PT0iTk9fQ0hBTkdFIj8wOnU9PT0iQUREIj8xOnU9PT0iUkVNT1ZFIj8yOnU9PT0iQ1VSUkVOVCI/Mzp1PT09IlJFU0VUIj80OnooKX0oZS50YXJnZXRDaGFuZ2UudGFyZ2V0Q2hhbmdlVHlwZXx8Ik5PX0NIQU5HRSIpLGk9ZS50YXJnZXRDaGFuZ2UudGFyZ2V0SWRzfHxbXSxzPWZ1bmN0aW9uKHUsbCl7cmV0dXJuIHUudXNlUHJvdG8zSnNvbj8oQWUobD09PXZvaWQgMHx8dHlwZW9mIGw9PSJzdHJpbmciKSxtdC5mcm9tQmFzZTY0U3RyaW5nKGx8fCIiKSk6KEFlKGw9PT12b2lkIDB8fGwgaW5zdGFuY2VvZiBVaW50OEFycmF5KSxtdC5mcm9tVWludDhBcnJheShsfHxuZXcgVWludDhBcnJheSkpfSh0LGUudGFyZ2V0Q2hhbmdlLnJlc3VtZVRva2VuKSxvPWUudGFyZ2V0Q2hhbmdlLmNhdXNlLGE9byYmZnVuY3Rpb24odSl7Y29uc3QgbD11LmNvZGU9PT12b2lkIDA/dy5VTktOT1dOOkZDKHUuY29kZSk7cmV0dXJuIG5ldyBrKGwsdS5tZXNzYWdlfHwiIil9KG8pO249bmV3IGpDKHIsaSxzLGF8fG51bGwpfWVsc2UgaWYoImRvY3VtZW50Q2hhbmdlImluIGUpe2UuZG9jdW1lbnRDaGFuZ2U7Y29uc3Qgcj1lLmRvY3VtZW50Q2hhbmdlO3IuZG9jdW1lbnQsci5kb2N1bWVudC5uYW1lLHIuZG9jdW1lbnQudXBkYXRlVGltZTtjb25zdCBpPXJoKHQsci5kb2N1bWVudC5uYW1lKSxzPWZuKHIuZG9jdW1lbnQudXBkYXRlVGltZSksbz1yLmRvY3VtZW50LmNyZWF0ZVRpbWU/Zm4oci5kb2N1bWVudC5jcmVhdGVUaW1lKTpZLm1pbigpLGE9bmV3IEN0KHttYXBWYWx1ZTp7ZmllbGRzOnIuZG9jdW1lbnQuZmllbGRzfX0pLGM9aHQubmV3Rm91bmREb2N1bWVudChpLHMsbyxhKSx1PXIudGFyZ2V0SWRzfHxbXSxsPXIucmVtb3ZlZFRhcmdldElkc3x8W107bj1uZXcgcmModSxsLGMua2V5LGMpfWVsc2UgaWYoImRvY3VtZW50RGVsZXRlImluIGUpe2UuZG9jdW1lbnREZWxldGU7Y29uc3Qgcj1lLmRvY3VtZW50RGVsZXRlO3IuZG9jdW1lbnQ7Y29uc3QgaT1yaCh0LHIuZG9jdW1lbnQpLHM9ci5yZWFkVGltZT9mbihyLnJlYWRUaW1lKTpZLm1pbigpLG89aHQubmV3Tm9Eb2N1bWVudChpLHMpLGE9ci5yZW1vdmVkVGFyZ2V0SWRzfHxbXTtuPW5ldyByYyhbXSxhLG8ua2V5LG8pfWVsc2UgaWYoImRvY3VtZW50UmVtb3ZlImluIGUpe2UuZG9jdW1lbnRSZW1vdmU7Y29uc3Qgcj1lLmRvY3VtZW50UmVtb3ZlO3IuZG9jdW1lbnQ7Y29uc3QgaT1yaCh0LHIuZG9jdW1lbnQpLHM9ci5yZW1vdmVkVGFyZ2V0SWRzfHxbXTtuPW5ldyByYyhbXSxzLGksbnVsbCl9ZWxzZXtpZighKCJmaWx0ZXIiaW4gZSkpcmV0dXJuIHooKTt7ZS5maWx0ZXI7Y29uc3Qgcj1lLmZpbHRlcjtyLnRhcmdldElkO2NvbnN0e2NvdW50Omk9MCx1bmNoYW5nZWROYW1lczpzfT1yLG89bmV3IE0kKGkscyksYT1yLnRhcmdldElkO249bmV3IFVDKGEsbyl9fXJldHVybiBufWZ1bmN0aW9uIEgkKHQsZSl7bGV0IG47aWYoZSBpbnN0YW5jZW9mIGhhKW49e3VwZGF0ZTpmdih0LGUua2V5LGUudmFsdWUpfTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBzZyluPXtkZWxldGU6T2QodCxlLmtleSl9O2Vsc2UgaWYoZSBpbnN0YW5jZW9mIEVyKW49e3VwZGF0ZTpmdih0LGUua2V5LGUuZGF0YSksdXBkYXRlTWFzazpZJChlLmZpZWxkTWFzayl9O2Vsc2V7aWYoIShlIGluc3RhbmNlb2YgYiQpKXJldHVybiB6KCk7bj17dmVyaWZ5Ok9kKHQsZS5rZXkpfX1yZXR1cm4gZS5maWVsZFRyYW5zZm9ybXMubGVuZ3RoPjAmJihuLnVwZGF0ZVRyYW5zZm9ybXM9ZS5maWVsZFRyYW5zZm9ybXMubWFwKHI9PmZ1bmN0aW9uKHMsbyl7Y29uc3QgYT1vLnRyYW5zZm9ybTtpZihhIGluc3RhbmNlb2YgT28pcmV0dXJue2ZpZWxkUGF0aDpvLmZpZWxkLmNhbm9uaWNhbFN0cmluZygpLHNldFRvU2VydmVyVmFsdWU6IlJFUVVFU1RfVElNRSJ9O2lmKGEgaW5zdGFuY2VvZiB4bylyZXR1cm57ZmllbGRQYXRoOm8uZmllbGQuY2Fub25pY2FsU3RyaW5nKCksYXBwZW5kTWlzc2luZ0VsZW1lbnRzOnt2YWx1ZXM6YS5lbGVtZW50c319O2lmKGEgaW5zdGFuY2VvZiBMbylyZXR1cm57ZmllbGRQYXRoOm8uZmllbGQuY2Fub25pY2FsU3RyaW5nKCkscmVtb3ZlQWxsRnJvbUFycmF5Ont2YWx1ZXM6YS5lbGVtZW50c319O2lmKGEgaW5zdGFuY2VvZiBIYylyZXR1cm57ZmllbGRQYXRoOm8uZmllbGQuY2Fub25pY2FsU3RyaW5nKCksaW5jcmVtZW50OmEuSWV9O3Rocm93IHooKX0oMCxyKSkpLGUucHJlY29uZGl0aW9uLmlzTm9uZXx8KG4uY3VycmVudERvY3VtZW50PWZ1bmN0aW9uKGkscyl7cmV0dXJuIHMudXBkYXRlVGltZSE9PXZvaWQgMD97dXBkYXRlVGltZTpqJChpLHMudXBkYXRlVGltZSl9OnMuZXhpc3RzIT09dm9pZCAwP3tleGlzdHM6cy5leGlzdHN9OnooKX0odCxlLnByZWNvbmRpdGlvbikpLG59ZnVuY3Rpb24gcSQodCxlKXtyZXR1cm4gdCYmdC5sZW5ndGg+MD8oQWUoZSE9PXZvaWQgMCksdC5tYXAobj0+ZnVuY3Rpb24oaSxzKXtsZXQgbz1pLnVwZGF0ZVRpbWU/Zm4oaS51cGRhdGVUaW1lKTpmbihzKTtyZXR1cm4gby5pc0VxdWFsKFkubWluKCkpJiYobz1mbihzKSksbmV3IEMkKG8saS50cmFuc2Zvcm1SZXN1bHRzfHxbXSl9KG4sZSkpKTpbXX1mdW5jdGlvbiB6JCh0LGUpe3JldHVybntkb2N1bWVudHM6W0hDKHQsZS5wYXRoKV19fWZ1bmN0aW9uIFckKHQsZSl7Y29uc3Qgbj17c3RydWN0dXJlZFF1ZXJ5Ont9fSxyPWUucGF0aDtsZXQgaTtlLmNvbGxlY3Rpb25Hcm91cCE9PW51bGw/KGk9cixuLnN0cnVjdHVyZWRRdWVyeS5mcm9tPVt7Y29sbGVjdGlvbklkOmUuY29sbGVjdGlvbkdyb3VwLGFsbERlc2NlbmRhbnRzOiEwfV0pOihpPXIucG9wTGFzdCgpLG4uc3RydWN0dXJlZFF1ZXJ5LmZyb209W3tjb2xsZWN0aW9uSWQ6ci5sYXN0U2VnbWVudCgpfV0pLG4ucGFyZW50PUhDKHQsaSk7Y29uc3Qgcz1mdW5jdGlvbih1KXtpZih1Lmxlbmd0aCE9PTApcmV0dXJuIFdDKFl0LmNyZWF0ZSh1LCJhbmQiKSl9KGUuZmlsdGVycyk7cyYmKG4uc3RydWN0dXJlZFF1ZXJ5LndoZXJlPXMpO2NvbnN0IG89ZnVuY3Rpb24odSl7aWYodS5sZW5ndGghPT0wKXJldHVybiB1Lm1hcChsPT5mdW5jdGlvbihkKXtyZXR1cm57ZmllbGQ6bGkoZC5maWVsZCksZGlyZWN0aW9uOlEkKGQuZGlyKX19KGwpKX0oZS5vcmRlckJ5KTtvJiYobi5zdHJ1Y3R1cmVkUXVlcnkub3JkZXJCeT1vKTtjb25zdCBhPU5kKHQsZS5saW1pdCk7cmV0dXJuIGEhPT1udWxsJiYobi5zdHJ1Y3R1cmVkUXVlcnkubGltaXQ9YSksZS5zdGFydEF0JiYobi5zdHJ1Y3R1cmVkUXVlcnkuc3RhcnRBdD1mdW5jdGlvbih1KXtyZXR1cm57YmVmb3JlOnUuaW5jbHVzaXZlLHZhbHVlczp1LnBvc2l0aW9ufX0oZS5zdGFydEF0KSksZS5lbmRBdCYmKG4uc3RydWN0dXJlZFF1ZXJ5LmVuZEF0PWZ1bmN0aW9uKHUpe3JldHVybntiZWZvcmU6IXUuaW5jbHVzaXZlLHZhbHVlczp1LnBvc2l0aW9ufX0oZS5lbmRBdCkpLHt1dDpuLHBhcmVudDppfX1mdW5jdGlvbiBHJCh0KXtsZXQgZT0kJCh0LnBhcmVudCk7Y29uc3Qgbj10LnN0cnVjdHVyZWRRdWVyeSxyPW4uZnJvbT9uLmZyb20ubGVuZ3RoOjA7bGV0IGk9bnVsbDtpZihyPjApe0FlKHI9PT0xKTtjb25zdCBsPW4uZnJvbVswXTtsLmFsbERlc2NlbmRhbnRzP2k9bC5jb2xsZWN0aW9uSWQ6ZT1lLmNoaWxkKGwuY29sbGVjdGlvbklkKX1sZXQgcz1bXTtuLndoZXJlJiYocz1mdW5jdGlvbihoKXtjb25zdCBkPXpDKGgpO3JldHVybiBkIGluc3RhbmNlb2YgWXQmJkVDKGQpP2QuZ2V0RmlsdGVycygpOltkXX0obi53aGVyZSkpO2xldCBvPVtdO24ub3JkZXJCeSYmKG89ZnVuY3Rpb24oaCl7cmV0dXJuIGgubWFwKGQ9PmZ1bmN0aW9uKG0pe3JldHVybiBuZXcga28oaGkobS5maWVsZCksZnVuY3Rpb24oXyl7c3dpdGNoKF8pe2Nhc2UiQVNDRU5ESU5HIjpyZXR1cm4iYXNjIjtjYXNlIkRFU0NFTkRJTkciOnJldHVybiJkZXNjIjtkZWZhdWx0OnJldHVybn19KG0uZGlyZWN0aW9uKSl9KGQpKX0obi5vcmRlckJ5KSk7bGV0IGE9bnVsbDtuLmxpbWl0JiYoYT1mdW5jdGlvbihoKXtsZXQgZDtyZXR1cm4gZD10eXBlb2YgaD09Im9iamVjdCI/aC52YWx1ZTpoLEt1KGQpP251bGw6ZH0obi5saW1pdCkpO2xldCBjPW51bGw7bi5zdGFydEF0JiYoYz1mdW5jdGlvbihoKXtjb25zdCBkPSEhaC5iZWZvcmUsZj1oLnZhbHVlc3x8W107cmV0dXJuIG5ldyBCYyhmLGQpfShuLnN0YXJ0QXQpKTtsZXQgdT1udWxsO3JldHVybiBuLmVuZEF0JiYodT1mdW5jdGlvbihoKXtjb25zdCBkPSFoLmJlZm9yZSxmPWgudmFsdWVzfHxbXTtyZXR1cm4gbmV3IEJjKGYsZCl9KG4uZW5kQXQpKSxoJChlLGksbyxzLGEsIkYiLGMsdSl9ZnVuY3Rpb24gSyQodCxlKXtjb25zdCBuPWZ1bmN0aW9uKGkpe3N3aXRjaChpKXtjYXNlIlRhcmdldFB1cnBvc2VMaXN0ZW4iOnJldHVybiBudWxsO2Nhc2UiVGFyZ2V0UHVycG9zZUV4aXN0ZW5jZUZpbHRlck1pc21hdGNoIjpyZXR1cm4iZXhpc3RlbmNlLWZpbHRlci1taXNtYXRjaCI7Y2FzZSJUYXJnZXRQdXJwb3NlRXhpc3RlbmNlRmlsdGVyTWlzbWF0Y2hCbG9vbSI6cmV0dXJuImV4aXN0ZW5jZS1maWx0ZXItbWlzbWF0Y2gtYmxvb20iO2Nhc2UiVGFyZ2V0UHVycG9zZUxpbWJvUmVzb2x1dGlvbiI6cmV0dXJuImxpbWJvLWRvY3VtZW50IjtkZWZhdWx0OnJldHVybiB6KCl9fShlLnB1cnBvc2UpO3JldHVybiBuPT1udWxsP251bGw6eyJnb29nLWxpc3Rlbi10YWdzIjpufX1mdW5jdGlvbiB6Qyh0KXtyZXR1cm4gdC51bmFyeUZpbHRlciE9PXZvaWQgMD9mdW5jdGlvbihuKXtzd2l0Y2gobi51bmFyeUZpbHRlci5vcCl7Y2FzZSJJU19OQU4iOmNvbnN0IHI9aGkobi51bmFyeUZpbHRlci5maWVsZCk7cmV0dXJuIGplLmNyZWF0ZShyLCI9PSIse2RvdWJsZVZhbHVlOk5hTn0pO2Nhc2UiSVNfTlVMTCI6Y29uc3QgaT1oaShuLnVuYXJ5RmlsdGVyLmZpZWxkKTtyZXR1cm4gamUuY3JlYXRlKGksIj09Iix7bnVsbFZhbHVlOiJOVUxMX1ZBTFVFIn0pO2Nhc2UiSVNfTk9UX05BTiI6Y29uc3Qgcz1oaShuLnVuYXJ5RmlsdGVyLmZpZWxkKTtyZXR1cm4gamUuY3JlYXRlKHMsIiE9Iix7ZG91YmxlVmFsdWU6TmFOfSk7Y2FzZSJJU19OT1RfTlVMTCI6Y29uc3Qgbz1oaShuLnVuYXJ5RmlsdGVyLmZpZWxkKTtyZXR1cm4gamUuY3JlYXRlKG8sIiE9Iix7bnVsbFZhbHVlOiJOVUxMX1ZBTFVFIn0pO2RlZmF1bHQ6cmV0dXJuIHooKX19KHQpOnQuZmllbGRGaWx0ZXIhPT12b2lkIDA/ZnVuY3Rpb24obil7cmV0dXJuIGplLmNyZWF0ZShoaShuLmZpZWxkRmlsdGVyLmZpZWxkKSxmdW5jdGlvbihpKXtzd2l0Y2goaSl7Y2FzZSJFUVVBTCI6cmV0dXJuIj09IjtjYXNlIk5PVF9FUVVBTCI6cmV0dXJuIiE9IjtjYXNlIkdSRUFURVJfVEhBTiI6cmV0dXJuIj4iO2Nhc2UiR1JFQVRFUl9USEFOX09SX0VRVUFMIjpyZXR1cm4iPj0iO2Nhc2UiTEVTU19USEFOIjpyZXR1cm4iPCI7Y2FzZSJMRVNTX1RIQU5fT1JfRVFVQUwiOnJldHVybiI8PSI7Y2FzZSJBUlJBWV9DT05UQUlOUyI6cmV0dXJuImFycmF5LWNvbnRhaW5zIjtjYXNlIklOIjpyZXR1cm4iaW4iO2Nhc2UiTk9UX0lOIjpyZXR1cm4ibm90LWluIjtjYXNlIkFSUkFZX0NPTlRBSU5TX0FOWSI6cmV0dXJuImFycmF5LWNvbnRhaW5zLWFueSI7ZGVmYXVsdDpyZXR1cm4geigpfX0obi5maWVsZEZpbHRlci5vcCksbi5maWVsZEZpbHRlci52YWx1ZSl9KHQpOnQuY29tcG9zaXRlRmlsdGVyIT09dm9pZCAwP2Z1bmN0aW9uKG4pe3JldHVybiBZdC5jcmVhdGUobi5jb21wb3NpdGVGaWx0ZXIuZmlsdGVycy5tYXAocj0+ekMocikpLGZ1bmN0aW9uKGkpe3N3aXRjaChpKXtjYXNlIkFORCI6cmV0dXJuImFuZCI7Y2FzZSJPUiI6cmV0dXJuIm9yIjtkZWZhdWx0OnJldHVybiB6KCl9fShuLmNvbXBvc2l0ZUZpbHRlci5vcCkpfSh0KTp6KCl9ZnVuY3Rpb24gUSQodCl7cmV0dXJuIEwkW3RdfWZ1bmN0aW9uIFokKHQpe3JldHVybiBWJFt0XX1mdW5jdGlvbiBYJCh0KXtyZXR1cm4gRiRbdF19ZnVuY3Rpb24gbGkodCl7cmV0dXJue2ZpZWxkUGF0aDp0LmNhbm9uaWNhbFN0cmluZygpfX1mdW5jdGlvbiBoaSh0KXtyZXR1cm4gbnQuZnJvbVNlcnZlckZvcm1hdCh0LmZpZWxkUGF0aCl9ZnVuY3Rpb24gV0ModCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBqZT9mdW5jdGlvbihuKXtpZihuLm9wPT09Ij09Iil7aWYoSnkobi52YWx1ZSkpcmV0dXJue3VuYXJ5RmlsdGVyOntmaWVsZDpsaShuLmZpZWxkKSxvcDoiSVNfTkFOIn19O2lmKFl5KG4udmFsdWUpKXJldHVybnt1bmFyeUZpbHRlcjp7ZmllbGQ6bGkobi5maWVsZCksb3A6IklTX05VTEwifX19ZWxzZSBpZihuLm9wPT09IiE9Iil7aWYoSnkobi52YWx1ZSkpcmV0dXJue3VuYXJ5RmlsdGVyOntmaWVsZDpsaShuLmZpZWxkKSxvcDoiSVNfTk9UX05BTiJ9fTtpZihZeShuLnZhbHVlKSlyZXR1cm57dW5hcnlGaWx0ZXI6e2ZpZWxkOmxpKG4uZmllbGQpLG9wOiJJU19OT1RfTlVMTCJ9fX1yZXR1cm57ZmllbGRGaWx0ZXI6e2ZpZWxkOmxpKG4uZmllbGQpLG9wOlokKG4ub3ApLHZhbHVlOm4udmFsdWV9fX0odCk6dCBpbnN0YW5jZW9mIFl0P2Z1bmN0aW9uKG4pe2NvbnN0IHI9bi5nZXRGaWx0ZXJzKCkubWFwKGk9PldDKGkpKTtyZXR1cm4gci5sZW5ndGg9PT0xP3JbMF06e2NvbXBvc2l0ZUZpbHRlcjp7b3A6WCQobi5vcCksZmlsdGVyczpyfX19KHQpOnooKX1mdW5jdGlvbiBZJCh0KXtjb25zdCBlPVtdO3JldHVybiB0LmZpZWxkcy5mb3JFYWNoKG49PmUucHVzaChuLmNhbm9uaWNhbFN0cmluZygpKSkse2ZpZWxkUGF0aHM6ZX19ZnVuY3Rpb24gR0ModCl7cmV0dXJuIHQubGVuZ3RoPj00JiZ0LmdldCgwKT09PSJwcm9qZWN0cyImJnQuZ2V0KDIpPT09ImRhdGFiYXNlcyJ9Y2xhc3MgZXJ7Y29uc3RydWN0b3IoZSxuLHIsaSxzPVkubWluKCksbz1ZLm1pbigpLGE9bXQuRU1QVFlfQllURV9TVFJJTkcsYz1udWxsKXt0aGlzLnRhcmdldD1lLHRoaXMudGFyZ2V0SWQ9bix0aGlzLnB1cnBvc2U9cix0aGlzLnNlcXVlbmNlTnVtYmVyPWksdGhpcy5zbmFwc2hvdFZlcnNpb249cyx0aGlzLmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb249byx0aGlzLnJlc3VtZVRva2VuPWEsdGhpcy5leHBlY3RlZENvdW50PWN9d2l0aFNlcXVlbmNlTnVtYmVyKGUpe3JldHVybiBuZXcgZXIodGhpcy50YXJnZXQsdGhpcy50YXJnZXRJZCx0aGlzLnB1cnBvc2UsZSx0aGlzLnNuYXBzaG90VmVyc2lvbix0aGlzLmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24sdGhpcy5yZXN1bWVUb2tlbix0aGlzLmV4cGVjdGVkQ291bnQpfXdpdGhSZXN1bWVUb2tlbihlLG4pe3JldHVybiBuZXcgZXIodGhpcy50YXJnZXQsdGhpcy50YXJnZXRJZCx0aGlzLnB1cnBvc2UsdGhpcy5zZXF1ZW5jZU51bWJlcixuLHRoaXMubGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbixlLG51bGwpfXdpdGhFeHBlY3RlZENvdW50KGUpe3JldHVybiBuZXcgZXIodGhpcy50YXJnZXQsdGhpcy50YXJnZXRJZCx0aGlzLnB1cnBvc2UsdGhpcy5zZXF1ZW5jZU51bWJlcix0aGlzLnNuYXBzaG90VmVyc2lvbix0aGlzLmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24sdGhpcy5yZXN1bWVUb2tlbixlKX13aXRoTGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbihlKXtyZXR1cm4gbmV3IGVyKHRoaXMudGFyZ2V0LHRoaXMudGFyZ2V0SWQsdGhpcy5wdXJwb3NlLHRoaXMuc2VxdWVuY2VOdW1iZXIsdGhpcy5zbmFwc2hvdFZlcnNpb24sZSx0aGlzLnJlc3VtZVRva2VuLHRoaXMuZXhwZWN0ZWRDb3VudCl9fWNsYXNzIEoke2NvbnN0cnVjdG9yKGUpe3RoaXMuY3Q9ZX19ZnVuY3Rpb24gZUIodCl7Y29uc3QgZT1HJCh7cGFyZW50OnQucGFyZW50LHN0cnVjdHVyZWRRdWVyeTp0LnN0cnVjdHVyZWRRdWVyeX0pO3JldHVybiB0LmxpbWl0VHlwZT09PSJMQVNUIj9NZChlLGUubGltaXQsIkwiKTplfWNsYXNzIHRCe2NvbnN0cnVjdG9yKCl7dGhpcy5fbj1uZXcgbkJ9YWRkVG9Db2xsZWN0aW9uUGFyZW50SW5kZXgoZSxuKXtyZXR1cm4gdGhpcy5fbi5hZGQobiksSS5yZXNvbHZlKCl9Z2V0Q29sbGVjdGlvblBhcmVudHMoZSxuKXtyZXR1cm4gSS5yZXNvbHZlKHRoaXMuX24uZ2V0RW50cmllcyhuKSl9YWRkRmllbGRJbmRleChlLG4pe3JldHVybiBJLnJlc29sdmUoKX1kZWxldGVGaWVsZEluZGV4KGUsbil7cmV0dXJuIEkucmVzb2x2ZSgpfWRlbGV0ZUFsbEZpZWxkSW5kZXhlcyhlKXtyZXR1cm4gSS5yZXNvbHZlKCl9Y3JlYXRlVGFyZ2V0SW5kZXhlcyhlLG4pe3JldHVybiBJLnJlc29sdmUoKX1nZXREb2N1bWVudHNNYXRjaGluZ1RhcmdldChlLG4pe3JldHVybiBJLnJlc29sdmUobnVsbCl9Z2V0SW5kZXhUeXBlKGUsbil7cmV0dXJuIEkucmVzb2x2ZSgwKX1nZXRGaWVsZEluZGV4ZXMoZSxuKXtyZXR1cm4gSS5yZXNvbHZlKFtdKX1nZXROZXh0Q29sbGVjdGlvbkdyb3VwVG9VcGRhdGUoZSl7cmV0dXJuIEkucmVzb2x2ZShudWxsKX1nZXRNaW5PZmZzZXQoZSxuKXtyZXR1cm4gSS5yZXNvbHZlKGxyLm1pbigpKX1nZXRNaW5PZmZzZXRGcm9tQ29sbGVjdGlvbkdyb3VwKGUsbil7cmV0dXJuIEkucmVzb2x2ZShsci5taW4oKSl9dXBkYXRlQ29sbGVjdGlvbkdyb3VwKGUsbixyKXtyZXR1cm4gSS5yZXNvbHZlKCl9dXBkYXRlSW5kZXhFbnRyaWVzKGUsbil7cmV0dXJuIEkucmVzb2x2ZSgpfX1jbGFzcyBuQntjb25zdHJ1Y3Rvcigpe3RoaXMuaW5kZXg9e319YWRkKGUpe2NvbnN0IG49ZS5sYXN0U2VnbWVudCgpLHI9ZS5wb3BMYXN0KCksaT10aGlzLmluZGV4W25dfHxuZXcgaXQoYmUuY29tcGFyYXRvcikscz0haS5oYXMocik7cmV0dXJuIHRoaXMuaW5kZXhbbl09aS5hZGQociksc31oYXMoZSl7Y29uc3Qgbj1lLmxhc3RTZWdtZW50KCkscj1lLnBvcExhc3QoKSxpPXRoaXMuaW5kZXhbbl07cmV0dXJuIGkmJmkuaGFzKHIpfWdldEVudHJpZXMoZSl7cmV0dXJuKHRoaXMuaW5kZXhbZV18fG5ldyBpdChiZS5jb21wYXJhdG9yKSkudG9BcnJheSgpfX1jbGFzcyBYaXtjb25zdHJ1Y3RvcihlKXt0aGlzLk9uPWV9bmV4dCgpe3JldHVybiB0aGlzLk9uKz0yLHRoaXMuT259c3RhdGljIE5uKCl7cmV0dXJuIG5ldyBYaSgwKX1zdGF0aWMgQm4oKXtyZXR1cm4gbmV3IFhpKC0xKX19Y2xhc3MgckJ7Y29uc3RydWN0b3IoKXt0aGlzLmNoYW5nZXM9bmV3IHBzKGU9PmUudG9TdHJpbmcoKSwoZSxuKT0+ZS5pc0VxdWFsKG4pKSx0aGlzLmNoYW5nZXNBcHBsaWVkPSExfWFkZEVudHJ5KGUpe3RoaXMuYXNzZXJ0Tm90QXBwbGllZCgpLHRoaXMuY2hhbmdlcy5zZXQoZS5rZXksZSl9cmVtb3ZlRW50cnkoZSxuKXt0aGlzLmFzc2VydE5vdEFwcGxpZWQoKSx0aGlzLmNoYW5nZXMuc2V0KGUsaHQubmV3SW52YWxpZERvY3VtZW50KGUpLnNldFJlYWRUaW1lKG4pKX1nZXRFbnRyeShlLG4pe3RoaXMuYXNzZXJ0Tm90QXBwbGllZCgpO2NvbnN0IHI9dGhpcy5jaGFuZ2VzLmdldChuKTtyZXR1cm4gciE9PXZvaWQgMD9JLnJlc29sdmUocik6dGhpcy5nZXRGcm9tQ2FjaGUoZSxuKX1nZXRFbnRyaWVzKGUsbil7cmV0dXJuIHRoaXMuZ2V0QWxsRnJvbUNhY2hlKGUsbil9YXBwbHkoZSl7cmV0dXJuIHRoaXMuYXNzZXJ0Tm90QXBwbGllZCgpLHRoaXMuY2hhbmdlc0FwcGxpZWQ9ITAsdGhpcy5hcHBseUNoYW5nZXMoZSl9YXNzZXJ0Tm90QXBwbGllZCgpe319Y2xhc3MgaUJ7Y29uc3RydWN0b3IoZSxuKXt0aGlzLm92ZXJsYXllZERvY3VtZW50PWUsdGhpcy5tdXRhdGVkRmllbGRzPW59fWNsYXNzIHNCe2NvbnN0cnVjdG9yKGUsbixyLGkpe3RoaXMucmVtb3RlRG9jdW1lbnRDYWNoZT1lLHRoaXMubXV0YXRpb25RdWV1ZT1uLHRoaXMuZG9jdW1lbnRPdmVybGF5Q2FjaGU9cix0aGlzLmluZGV4TWFuYWdlcj1pfWdldERvY3VtZW50KGUsbil7bGV0IHI9bnVsbDtyZXR1cm4gdGhpcy5kb2N1bWVudE92ZXJsYXlDYWNoZS5nZXRPdmVybGF5KGUsbikubmV4dChpPT4ocj1pLHRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZS5nZXRFbnRyeShlLG4pKSkubmV4dChpPT4ociE9PW51bGwmJnpzKHIubXV0YXRpb24saSxEdC5lbXB0eSgpLEJlLm5vdygpKSxpKSl9Z2V0RG9jdW1lbnRzKGUsbil7cmV0dXJuIHRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZS5nZXRFbnRyaWVzKGUsbikubmV4dChyPT50aGlzLmdldExvY2FsVmlld09mRG9jdW1lbnRzKGUscixoZSgpKS5uZXh0KCgpPT5yKSl9Z2V0TG9jYWxWaWV3T2ZEb2N1bWVudHMoZSxuLHI9aGUoKSl7Y29uc3QgaT1OcigpO3JldHVybiB0aGlzLnBvcHVsYXRlT3ZlcmxheXMoZSxpLG4pLm5leHQoKCk9PnRoaXMuY29tcHV0ZVZpZXdzKGUsbixpLHIpLm5leHQocz0+e2xldCBvPVJzKCk7cmV0dXJuIHMuZm9yRWFjaCgoYSxjKT0+e289by5pbnNlcnQoYSxjLm92ZXJsYXllZERvY3VtZW50KX0pLG99KSl9Z2V0T3ZlcmxheWVkRG9jdW1lbnRzKGUsbil7Y29uc3Qgcj1OcigpO3JldHVybiB0aGlzLnBvcHVsYXRlT3ZlcmxheXMoZSxyLG4pLm5leHQoKCk9PnRoaXMuY29tcHV0ZVZpZXdzKGUsbixyLGhlKCkpKX1wb3B1bGF0ZU92ZXJsYXlzKGUsbixyKXtjb25zdCBpPVtdO3JldHVybiByLmZvckVhY2gocz0+e24uaGFzKHMpfHxpLnB1c2gocyl9KSx0aGlzLmRvY3VtZW50T3ZlcmxheUNhY2hlLmdldE92ZXJsYXlzKGUsaSkubmV4dChzPT57cy5mb3JFYWNoKChvLGEpPT57bi5zZXQobyxhKX0pfSl9Y29tcHV0ZVZpZXdzKGUsbixyLGkpe2xldCBzPUhuKCk7Y29uc3Qgbz1xcygpLGE9ZnVuY3Rpb24oKXtyZXR1cm4gcXMoKX0oKTtyZXR1cm4gbi5mb3JFYWNoKChjLHUpPT57Y29uc3QgbD1yLmdldCh1LmtleSk7aS5oYXModS5rZXkpJiYobD09PXZvaWQgMHx8bC5tdXRhdGlvbiBpbnN0YW5jZW9mIEVyKT9zPXMuaW5zZXJ0KHUua2V5LHUpOmwhPT12b2lkIDA/KG8uc2V0KHUua2V5LGwubXV0YXRpb24uZ2V0RmllbGRNYXNrKCkpLHpzKGwubXV0YXRpb24sdSxsLm11dGF0aW9uLmdldEZpZWxkTWFzaygpLEJlLm5vdygpKSk6by5zZXQodS5rZXksRHQuZW1wdHkoKSl9KSx0aGlzLnJlY2FsY3VsYXRlQW5kU2F2ZU92ZXJsYXlzKGUscykubmV4dChjPT4oYy5mb3JFYWNoKCh1LGwpPT5vLnNldCh1LGwpKSxuLmZvckVhY2goKHUsbCk9Pnt2YXIgaDtyZXR1cm4gYS5zZXQodSxuZXcgaUIobCwoaD1vLmdldCh1KSkhPT1udWxsJiZoIT09dm9pZCAwP2g6bnVsbCkpfSksYSkpfXJlY2FsY3VsYXRlQW5kU2F2ZU92ZXJsYXlzKGUsbil7Y29uc3Qgcj1xcygpO2xldCBpPW5ldyBOZSgobyxhKT0+by1hKSxzPWhlKCk7cmV0dXJuIHRoaXMubXV0YXRpb25RdWV1ZS5nZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdEb2N1bWVudEtleXMoZSxuKS5uZXh0KG89Pntmb3IoY29uc3QgYSBvZiBvKWEua2V5cygpLmZvckVhY2goYz0+e2NvbnN0IHU9bi5nZXQoYyk7aWYodT09PW51bGwpcmV0dXJuO2xldCBsPXIuZ2V0KGMpfHxEdC5lbXB0eSgpO2w9YS5hcHBseVRvTG9jYWxWaWV3KHUsbCksci5zZXQoYyxsKTtjb25zdCBoPShpLmdldChhLmJhdGNoSWQpfHxoZSgpKS5hZGQoYyk7aT1pLmluc2VydChhLmJhdGNoSWQsaCl9KX0pLm5leHQoKCk9Pntjb25zdCBvPVtdLGE9aS5nZXRSZXZlcnNlSXRlcmF0b3IoKTtmb3IoO2EuaGFzTmV4dCgpOyl7Y29uc3QgYz1hLmdldE5leHQoKSx1PWMua2V5LGw9Yy52YWx1ZSxoPURDKCk7bC5mb3JFYWNoKGQ9PntpZighcy5oYXMoZCkpe2NvbnN0IGY9TEMobi5nZXQoZCksci5nZXQoZCkpO2YhPT1udWxsJiZoLnNldChkLGYpLHM9cy5hZGQoZCl9fSksby5wdXNoKHRoaXMuZG9jdW1lbnRPdmVybGF5Q2FjaGUuc2F2ZU92ZXJsYXlzKGUsdSxoKSl9cmV0dXJuIEkud2FpdEZvcihvKX0pLm5leHQoKCk9PnIpfXJlY2FsY3VsYXRlQW5kU2F2ZU92ZXJsYXlzRm9yRG9jdW1lbnRLZXlzKGUsbil7cmV0dXJuIHRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZS5nZXRFbnRyaWVzKGUsbikubmV4dChyPT50aGlzLnJlY2FsY3VsYXRlQW5kU2F2ZU92ZXJsYXlzKGUscikpfWdldERvY3VtZW50c01hdGNoaW5nUXVlcnkoZSxuLHIsaSl7cmV0dXJuIGZ1bmN0aW9uKG8pe3JldHVybiBqLmlzRG9jdW1lbnRLZXkoby5wYXRoKSYmby5jb2xsZWN0aW9uR3JvdXA9PT1udWxsJiZvLmZpbHRlcnMubGVuZ3RoPT09MH0obik/dGhpcy5nZXREb2N1bWVudHNNYXRjaGluZ0RvY3VtZW50UXVlcnkoZSxuLnBhdGgpOlNDKG4pP3RoaXMuZ2V0RG9jdW1lbnRzTWF0Y2hpbmdDb2xsZWN0aW9uR3JvdXBRdWVyeShlLG4scixpKTp0aGlzLmdldERvY3VtZW50c01hdGNoaW5nQ29sbGVjdGlvblF1ZXJ5KGUsbixyLGkpfWdldE5leHREb2N1bWVudHMoZSxuLHIsaSl7cmV0dXJuIHRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZS5nZXRBbGxGcm9tQ29sbGVjdGlvbkdyb3VwKGUsbixyLGkpLm5leHQocz0+e2NvbnN0IG89aS1zLnNpemU+MD90aGlzLmRvY3VtZW50T3ZlcmxheUNhY2hlLmdldE92ZXJsYXlzRm9yQ29sbGVjdGlvbkdyb3VwKGUsbixyLmxhcmdlc3RCYXRjaElkLGktcy5zaXplKTpJLnJlc29sdmUoTnIoKSk7bGV0IGE9LTEsYz1zO3JldHVybiBvLm5leHQodT0+SS5mb3JFYWNoKHUsKGwsaCk9PihhPGgubGFyZ2VzdEJhdGNoSWQmJihhPWgubGFyZ2VzdEJhdGNoSWQpLHMuZ2V0KGwpP0kucmVzb2x2ZSgpOnRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZS5nZXRFbnRyeShlLGwpLm5leHQoZD0+e2M9Yy5pbnNlcnQobCxkKX0pKSkubmV4dCgoKT0+dGhpcy5wb3B1bGF0ZU92ZXJsYXlzKGUsdSxzKSkubmV4dCgoKT0+dGhpcy5jb21wdXRlVmlld3MoZSxjLHUsaGUoKSkpLm5leHQobD0+KHtiYXRjaElkOmEsY2hhbmdlczpiQyhsKX0pKSl9KX1nZXREb2N1bWVudHNNYXRjaGluZ0RvY3VtZW50UXVlcnkoZSxuKXtyZXR1cm4gdGhpcy5nZXREb2N1bWVudChlLG5ldyBqKG4pKS5uZXh0KHI9PntsZXQgaT1ScygpO3JldHVybiByLmlzRm91bmREb2N1bWVudCgpJiYoaT1pLmluc2VydChyLmtleSxyKSksaX0pfWdldERvY3VtZW50c01hdGNoaW5nQ29sbGVjdGlvbkdyb3VwUXVlcnkoZSxuLHIsaSl7Y29uc3Qgcz1uLmNvbGxlY3Rpb25Hcm91cDtsZXQgbz1ScygpO3JldHVybiB0aGlzLmluZGV4TWFuYWdlci5nZXRDb2xsZWN0aW9uUGFyZW50cyhlLHMpLm5leHQoYT0+SS5mb3JFYWNoKGEsYz0+e2NvbnN0IHU9ZnVuY3Rpb24oaCxkKXtyZXR1cm4gbmV3IGZzKGQsbnVsbCxoLmV4cGxpY2l0T3JkZXJCeS5zbGljZSgpLGguZmlsdGVycy5zbGljZSgpLGgubGltaXQsaC5saW1pdFR5cGUsaC5zdGFydEF0LGguZW5kQXQpfShuLGMuY2hpbGQocykpO3JldHVybiB0aGlzLmdldERvY3VtZW50c01hdGNoaW5nQ29sbGVjdGlvblF1ZXJ5KGUsdSxyLGkpLm5leHQobD0+e2wuZm9yRWFjaCgoaCxkKT0+e289by5pbnNlcnQoaCxkKX0pfSl9KS5uZXh0KCgpPT5vKSl9Z2V0RG9jdW1lbnRzTWF0Y2hpbmdDb2xsZWN0aW9uUXVlcnkoZSxuLHIsaSl7bGV0IHM7cmV0dXJuIHRoaXMuZG9jdW1lbnRPdmVybGF5Q2FjaGUuZ2V0T3ZlcmxheXNGb3JDb2xsZWN0aW9uKGUsbi5wYXRoLHIubGFyZ2VzdEJhdGNoSWQpLm5leHQobz0+KHM9byx0aGlzLnJlbW90ZURvY3VtZW50Q2FjaGUuZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeShlLG4scixzLGkpKSkubmV4dChvPT57cy5mb3JFYWNoKChjLHUpPT57Y29uc3QgbD11LmdldEtleSgpO28uZ2V0KGwpPT09bnVsbCYmKG89by5pbnNlcnQobCxodC5uZXdJbnZhbGlkRG9jdW1lbnQobCkpKX0pO2xldCBhPVJzKCk7cmV0dXJuIG8uZm9yRWFjaCgoYyx1KT0+e2NvbnN0IGw9cy5nZXQoYyk7bCE9PXZvaWQgMCYmenMobC5tdXRhdGlvbix1LER0LmVtcHR5KCksQmUubm93KCkpLFp1KG4sdSkmJihhPWEuaW5zZXJ0KGMsdSkpfSksYX0pfX1jbGFzcyBvQntjb25zdHJ1Y3RvcihlKXt0aGlzLnNlcmlhbGl6ZXI9ZSx0aGlzLmNyPW5ldyBNYXAsdGhpcy5scj1uZXcgTWFwfWdldEJ1bmRsZU1ldGFkYXRhKGUsbil7cmV0dXJuIEkucmVzb2x2ZSh0aGlzLmNyLmdldChuKSl9c2F2ZUJ1bmRsZU1ldGFkYXRhKGUsbil7cmV0dXJuIHRoaXMuY3Iuc2V0KG4uaWQsZnVuY3Rpb24oaSl7cmV0dXJue2lkOmkuaWQsdmVyc2lvbjppLnZlcnNpb24sY3JlYXRlVGltZTpmbihpLmNyZWF0ZVRpbWUpfX0obikpLEkucmVzb2x2ZSgpfWdldE5hbWVkUXVlcnkoZSxuKXtyZXR1cm4gSS5yZXNvbHZlKHRoaXMubHIuZ2V0KG4pKX1zYXZlTmFtZWRRdWVyeShlLG4pe3JldHVybiB0aGlzLmxyLnNldChuLm5hbWUsZnVuY3Rpb24oaSl7cmV0dXJue25hbWU6aS5uYW1lLHF1ZXJ5OmVCKGkuYnVuZGxlZFF1ZXJ5KSxyZWFkVGltZTpmbihpLnJlYWRUaW1lKX19KG4pKSxJLnJlc29sdmUoKX19Y2xhc3MgYUJ7Y29uc3RydWN0b3IoKXt0aGlzLm92ZXJsYXlzPW5ldyBOZShqLmNvbXBhcmF0b3IpLHRoaXMuaHI9bmV3IE1hcH1nZXRPdmVybGF5KGUsbil7cmV0dXJuIEkucmVzb2x2ZSh0aGlzLm92ZXJsYXlzLmdldChuKSl9Z2V0T3ZlcmxheXMoZSxuKXtjb25zdCByPU5yKCk7cmV0dXJuIEkuZm9yRWFjaChuLGk9PnRoaXMuZ2V0T3ZlcmxheShlLGkpLm5leHQocz0+e3MhPT1udWxsJiZyLnNldChpLHMpfSkpLm5leHQoKCk9PnIpfXNhdmVPdmVybGF5cyhlLG4scil7cmV0dXJuIHIuZm9yRWFjaCgoaSxzKT0+e3RoaXMuaHQoZSxuLHMpfSksSS5yZXNvbHZlKCl9cmVtb3ZlT3ZlcmxheXNGb3JCYXRjaElkKGUsbixyKXtjb25zdCBpPXRoaXMuaHIuZ2V0KHIpO3JldHVybiBpIT09dm9pZCAwJiYoaS5mb3JFYWNoKHM9PnRoaXMub3ZlcmxheXM9dGhpcy5vdmVybGF5cy5yZW1vdmUocykpLHRoaXMuaHIuZGVsZXRlKHIpKSxJLnJlc29sdmUoKX1nZXRPdmVybGF5c0ZvckNvbGxlY3Rpb24oZSxuLHIpe2NvbnN0IGk9TnIoKSxzPW4ubGVuZ3RoKzEsbz1uZXcgaihuLmNoaWxkKCIiKSksYT10aGlzLm92ZXJsYXlzLmdldEl0ZXJhdG9yRnJvbShvKTtmb3IoO2EuaGFzTmV4dCgpOyl7Y29uc3QgYz1hLmdldE5leHQoKS52YWx1ZSx1PWMuZ2V0S2V5KCk7aWYoIW4uaXNQcmVmaXhPZih1LnBhdGgpKWJyZWFrO3UucGF0aC5sZW5ndGg9PT1zJiZjLmxhcmdlc3RCYXRjaElkPnImJmkuc2V0KGMuZ2V0S2V5KCksYyl9cmV0dXJuIEkucmVzb2x2ZShpKX1nZXRPdmVybGF5c0ZvckNvbGxlY3Rpb25Hcm91cChlLG4scixpKXtsZXQgcz1uZXcgTmUoKHUsbCk9PnUtbCk7Y29uc3Qgbz10aGlzLm92ZXJsYXlzLmdldEl0ZXJhdG9yKCk7Zm9yKDtvLmhhc05leHQoKTspe2NvbnN0IHU9by5nZXROZXh0KCkudmFsdWU7aWYodS5nZXRLZXkoKS5nZXRDb2xsZWN0aW9uR3JvdXAoKT09PW4mJnUubGFyZ2VzdEJhdGNoSWQ+cil7bGV0IGw9cy5nZXQodS5sYXJnZXN0QmF0Y2hJZCk7bD09PW51bGwmJihsPU5yKCkscz1zLmluc2VydCh1Lmxhcmdlc3RCYXRjaElkLGwpKSxsLnNldCh1LmdldEtleSgpLHUpfX1jb25zdCBhPU5yKCksYz1zLmdldEl0ZXJhdG9yKCk7Zm9yKDtjLmhhc05leHQoKSYmKGMuZ2V0TmV4dCgpLnZhbHVlLmZvckVhY2goKHUsbCk9PmEuc2V0KHUsbCkpLCEoYS5zaXplKCk+PWkpKTspO3JldHVybiBJLnJlc29sdmUoYSl9aHQoZSxuLHIpe2NvbnN0IGk9dGhpcy5vdmVybGF5cy5nZXQoci5rZXkpO2lmKGkhPT1udWxsKXtjb25zdCBvPXRoaXMuaHIuZ2V0KGkubGFyZ2VzdEJhdGNoSWQpLmRlbGV0ZShyLmtleSk7dGhpcy5oci5zZXQoaS5sYXJnZXN0QmF0Y2hJZCxvKX10aGlzLm92ZXJsYXlzPXRoaXMub3ZlcmxheXMuaW5zZXJ0KHIua2V5LG5ldyBQJChuLHIpKTtsZXQgcz10aGlzLmhyLmdldChuKTtzPT09dm9pZCAwJiYocz1oZSgpLHRoaXMuaHIuc2V0KG4scykpLHRoaXMuaHIuc2V0KG4scy5hZGQoci5rZXkpKX19Y2xhc3MgdWd7Y29uc3RydWN0b3IoKXt0aGlzLlByPW5ldyBpdCh6ZS5JciksdGhpcy5Ucj1uZXcgaXQoemUuRXIpfWlzRW1wdHkoKXtyZXR1cm4gdGhpcy5Qci5pc0VtcHR5KCl9YWRkUmVmZXJlbmNlKGUsbil7Y29uc3Qgcj1uZXcgemUoZSxuKTt0aGlzLlByPXRoaXMuUHIuYWRkKHIpLHRoaXMuVHI9dGhpcy5Uci5hZGQocil9ZHIoZSxuKXtlLmZvckVhY2gocj0+dGhpcy5hZGRSZWZlcmVuY2UocixuKSl9cmVtb3ZlUmVmZXJlbmNlKGUsbil7dGhpcy5BcihuZXcgemUoZSxuKSl9UnIoZSxuKXtlLmZvckVhY2gocj0+dGhpcy5yZW1vdmVSZWZlcmVuY2UocixuKSl9VnIoZSl7Y29uc3Qgbj1uZXcgaihuZXcgYmUoW10pKSxyPW5ldyB6ZShuLGUpLGk9bmV3IHplKG4sZSsxKSxzPVtdO3JldHVybiB0aGlzLlRyLmZvckVhY2hJblJhbmdlKFtyLGldLG89Pnt0aGlzLkFyKG8pLHMucHVzaChvLmtleSl9KSxzfW1yKCl7dGhpcy5Qci5mb3JFYWNoKGU9PnRoaXMuQXIoZSkpfUFyKGUpe3RoaXMuUHI9dGhpcy5Qci5kZWxldGUoZSksdGhpcy5Ucj10aGlzLlRyLmRlbGV0ZShlKX1ncihlKXtjb25zdCBuPW5ldyBqKG5ldyBiZShbXSkpLHI9bmV3IHplKG4sZSksaT1uZXcgemUobixlKzEpO2xldCBzPWhlKCk7cmV0dXJuIHRoaXMuVHIuZm9yRWFjaEluUmFuZ2UoW3IsaV0sbz0+e3M9cy5hZGQoby5rZXkpfSksc31jb250YWluc0tleShlKXtjb25zdCBuPW5ldyB6ZShlLDApLHI9dGhpcy5Qci5maXJzdEFmdGVyT3JFcXVhbChuKTtyZXR1cm4gciE9PW51bGwmJmUuaXNFcXVhbChyLmtleSl9fWNsYXNzIHple2NvbnN0cnVjdG9yKGUsbil7dGhpcy5rZXk9ZSx0aGlzLnByPW59c3RhdGljIElyKGUsbil7cmV0dXJuIGouY29tcGFyYXRvcihlLmtleSxuLmtleSl8fF9lKGUucHIsbi5wcil9c3RhdGljIEVyKGUsbil7cmV0dXJuIF9lKGUucHIsbi5wcil8fGouY29tcGFyYXRvcihlLmtleSxuLmtleSl9fWNsYXNzIGNCe2NvbnN0cnVjdG9yKGUsbil7dGhpcy5pbmRleE1hbmFnZXI9ZSx0aGlzLnJlZmVyZW5jZURlbGVnYXRlPW4sdGhpcy5tdXRhdGlvblF1ZXVlPVtdLHRoaXMueXI9MSx0aGlzLndyPW5ldyBpdCh6ZS5Jcil9Y2hlY2tFbXB0eShlKXtyZXR1cm4gSS5yZXNvbHZlKHRoaXMubXV0YXRpb25RdWV1ZS5sZW5ndGg9PT0wKX1hZGRNdXRhdGlvbkJhdGNoKGUsbixyLGkpe2NvbnN0IHM9dGhpcy55cjt0aGlzLnlyKyssdGhpcy5tdXRhdGlvblF1ZXVlLmxlbmd0aD4wJiZ0aGlzLm11dGF0aW9uUXVldWVbdGhpcy5tdXRhdGlvblF1ZXVlLmxlbmd0aC0xXTtjb25zdCBvPW5ldyBEJChzLG4scixpKTt0aGlzLm11dGF0aW9uUXVldWUucHVzaChvKTtmb3IoY29uc3QgYSBvZiBpKXRoaXMud3I9dGhpcy53ci5hZGQobmV3IHplKGEua2V5LHMpKSx0aGlzLmluZGV4TWFuYWdlci5hZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleChlLGEua2V5LnBhdGgucG9wTGFzdCgpKTtyZXR1cm4gSS5yZXNvbHZlKG8pfWxvb2t1cE11dGF0aW9uQmF0Y2goZSxuKXtyZXR1cm4gSS5yZXNvbHZlKHRoaXMuU3IobikpfWdldE5leHRNdXRhdGlvbkJhdGNoQWZ0ZXJCYXRjaElkKGUsbil7Y29uc3Qgcj1uKzEsaT10aGlzLmJyKHIpLHM9aTwwPzA6aTtyZXR1cm4gSS5yZXNvbHZlKHRoaXMubXV0YXRpb25RdWV1ZS5sZW5ndGg+cz90aGlzLm11dGF0aW9uUXVldWVbc106bnVsbCl9Z2V0SGlnaGVzdFVuYWNrbm93bGVkZ2VkQmF0Y2hJZCgpe3JldHVybiBJLnJlc29sdmUodGhpcy5tdXRhdGlvblF1ZXVlLmxlbmd0aD09PTA/LTE6dGhpcy55ci0xKX1nZXRBbGxNdXRhdGlvbkJhdGNoZXMoZSl7cmV0dXJuIEkucmVzb2x2ZSh0aGlzLm11dGF0aW9uUXVldWUuc2xpY2UoKSl9Z2V0QWxsTXV0YXRpb25CYXRjaGVzQWZmZWN0aW5nRG9jdW1lbnRLZXkoZSxuKXtjb25zdCByPW5ldyB6ZShuLDApLGk9bmV3IHplKG4sTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSxzPVtdO3JldHVybiB0aGlzLndyLmZvckVhY2hJblJhbmdlKFtyLGldLG89Pntjb25zdCBhPXRoaXMuU3Ioby5wcik7cy5wdXNoKGEpfSksSS5yZXNvbHZlKHMpfWdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ0RvY3VtZW50S2V5cyhlLG4pe2xldCByPW5ldyBpdChfZSk7cmV0dXJuIG4uZm9yRWFjaChpPT57Y29uc3Qgcz1uZXcgemUoaSwwKSxvPW5ldyB6ZShpLE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7dGhpcy53ci5mb3JFYWNoSW5SYW5nZShbcyxvXSxhPT57cj1yLmFkZChhLnByKX0pfSksSS5yZXNvbHZlKHRoaXMuRHIocikpfWdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ1F1ZXJ5KGUsbil7Y29uc3Qgcj1uLnBhdGgsaT1yLmxlbmd0aCsxO2xldCBzPXI7ai5pc0RvY3VtZW50S2V5KHMpfHwocz1zLmNoaWxkKCIiKSk7Y29uc3Qgbz1uZXcgemUobmV3IGoocyksMCk7bGV0IGE9bmV3IGl0KF9lKTtyZXR1cm4gdGhpcy53ci5mb3JFYWNoV2hpbGUoYz0+e2NvbnN0IHU9Yy5rZXkucGF0aDtyZXR1cm4hIXIuaXNQcmVmaXhPZih1KSYmKHUubGVuZ3RoPT09aSYmKGE9YS5hZGQoYy5wcikpLCEwKX0sbyksSS5yZXNvbHZlKHRoaXMuRHIoYSkpfURyKGUpe2NvbnN0IG49W107cmV0dXJuIGUuZm9yRWFjaChyPT57Y29uc3QgaT10aGlzLlNyKHIpO2khPT1udWxsJiZuLnB1c2goaSl9KSxufXJlbW92ZU11dGF0aW9uQmF0Y2goZSxuKXtBZSh0aGlzLkNyKG4uYmF0Y2hJZCwicmVtb3ZlZCIpPT09MCksdGhpcy5tdXRhdGlvblF1ZXVlLnNoaWZ0KCk7bGV0IHI9dGhpcy53cjtyZXR1cm4gSS5mb3JFYWNoKG4ubXV0YXRpb25zLGk9Pntjb25zdCBzPW5ldyB6ZShpLmtleSxuLmJhdGNoSWQpO3JldHVybiByPXIuZGVsZXRlKHMpLHRoaXMucmVmZXJlbmNlRGVsZWdhdGUubWFya1BvdGVudGlhbGx5T3JwaGFuZWQoZSxpLmtleSl9KS5uZXh0KCgpPT57dGhpcy53cj1yfSl9TW4oZSl7fWNvbnRhaW5zS2V5KGUsbil7Y29uc3Qgcj1uZXcgemUobiwwKSxpPXRoaXMud3IuZmlyc3RBZnRlck9yRXF1YWwocik7cmV0dXJuIEkucmVzb2x2ZShuLmlzRXF1YWwoaSYmaS5rZXkpKX1wZXJmb3JtQ29uc2lzdGVuY3lDaGVjayhlKXtyZXR1cm4gdGhpcy5tdXRhdGlvblF1ZXVlLmxlbmd0aCxJLnJlc29sdmUoKX1DcihlLG4pe3JldHVybiB0aGlzLmJyKGUpfWJyKGUpe3JldHVybiB0aGlzLm11dGF0aW9uUXVldWUubGVuZ3RoPT09MD8wOmUtdGhpcy5tdXRhdGlvblF1ZXVlWzBdLmJhdGNoSWR9U3IoZSl7Y29uc3Qgbj10aGlzLmJyKGUpO3JldHVybiBuPDB8fG4+PXRoaXMubXV0YXRpb25RdWV1ZS5sZW5ndGg/bnVsbDp0aGlzLm11dGF0aW9uUXVldWVbbl19fWNsYXNzIHVCe2NvbnN0cnVjdG9yKGUpe3RoaXMudnI9ZSx0aGlzLmRvY3M9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE5lKGouY29tcGFyYXRvcil9KCksdGhpcy5zaXplPTB9c2V0SW5kZXhNYW5hZ2VyKGUpe3RoaXMuaW5kZXhNYW5hZ2VyPWV9YWRkRW50cnkoZSxuKXtjb25zdCByPW4ua2V5LGk9dGhpcy5kb2NzLmdldChyKSxzPWk/aS5zaXplOjAsbz10aGlzLnZyKG4pO3JldHVybiB0aGlzLmRvY3M9dGhpcy5kb2NzLmluc2VydChyLHtkb2N1bWVudDpuLm11dGFibGVDb3B5KCksc2l6ZTpvfSksdGhpcy5zaXplKz1vLXMsdGhpcy5pbmRleE1hbmFnZXIuYWRkVG9Db2xsZWN0aW9uUGFyZW50SW5kZXgoZSxyLnBhdGgucG9wTGFzdCgpKX1yZW1vdmVFbnRyeShlKXtjb25zdCBuPXRoaXMuZG9jcy5nZXQoZSk7biYmKHRoaXMuZG9jcz10aGlzLmRvY3MucmVtb3ZlKGUpLHRoaXMuc2l6ZS09bi5zaXplKX1nZXRFbnRyeShlLG4pe2NvbnN0IHI9dGhpcy5kb2NzLmdldChuKTtyZXR1cm4gSS5yZXNvbHZlKHI/ci5kb2N1bWVudC5tdXRhYmxlQ29weSgpOmh0Lm5ld0ludmFsaWREb2N1bWVudChuKSl9Z2V0RW50cmllcyhlLG4pe2xldCByPUhuKCk7cmV0dXJuIG4uZm9yRWFjaChpPT57Y29uc3Qgcz10aGlzLmRvY3MuZ2V0KGkpO3I9ci5pbnNlcnQoaSxzP3MuZG9jdW1lbnQubXV0YWJsZUNvcHkoKTpodC5uZXdJbnZhbGlkRG9jdW1lbnQoaSkpfSksSS5yZXNvbHZlKHIpfWdldERvY3VtZW50c01hdGNoaW5nUXVlcnkoZSxuLHIsaSl7bGV0IHM9SG4oKTtjb25zdCBvPW4ucGF0aCxhPW5ldyBqKG8uY2hpbGQoIiIpKSxjPXRoaXMuZG9jcy5nZXRJdGVyYXRvckZyb20oYSk7Zm9yKDtjLmhhc05leHQoKTspe2NvbnN0e2tleTp1LHZhbHVlOntkb2N1bWVudDpsfX09Yy5nZXROZXh0KCk7aWYoIW8uaXNQcmVmaXhPZih1LnBhdGgpKWJyZWFrO3UucGF0aC5sZW5ndGg+by5sZW5ndGgrMXx8VzIoejIobCkscik8PTB8fChpLmhhcyhsLmtleSl8fFp1KG4sbCkpJiYocz1zLmluc2VydChsLmtleSxsLm11dGFibGVDb3B5KCkpKX1yZXR1cm4gSS5yZXNvbHZlKHMpfWdldEFsbEZyb21Db2xsZWN0aW9uR3JvdXAoZSxuLHIsaSl7eigpfUZyKGUsbil7cmV0dXJuIEkuZm9yRWFjaCh0aGlzLmRvY3Mscj0+bihyKSl9bmV3Q2hhbmdlQnVmZmVyKGUpe3JldHVybiBuZXcgbEIodGhpcyl9Z2V0U2l6ZShlKXtyZXR1cm4gSS5yZXNvbHZlKHRoaXMuc2l6ZSl9fWNsYXNzIGxCIGV4dGVuZHMgckJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLmFyPWV9YXBwbHlDaGFuZ2VzKGUpe2NvbnN0IG49W107cmV0dXJuIHRoaXMuY2hhbmdlcy5mb3JFYWNoKChyLGkpPT57aS5pc1ZhbGlkRG9jdW1lbnQoKT9uLnB1c2godGhpcy5hci5hZGRFbnRyeShlLGkpKTp0aGlzLmFyLnJlbW92ZUVudHJ5KHIpfSksSS53YWl0Rm9yKG4pfWdldEZyb21DYWNoZShlLG4pe3JldHVybiB0aGlzLmFyLmdldEVudHJ5KGUsbil9Z2V0QWxsRnJvbUNhY2hlKGUsbil7cmV0dXJuIHRoaXMuYXIuZ2V0RW50cmllcyhlLG4pfX1jbGFzcyBoQntjb25zdHJ1Y3RvcihlKXt0aGlzLnBlcnNpc3RlbmNlPWUsdGhpcy5Ncj1uZXcgcHMobj0+bmcobikscmcpLHRoaXMubGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbj1ZLm1pbigpLHRoaXMuaGlnaGVzdFRhcmdldElkPTAsdGhpcy5Pcj0wLHRoaXMuTnI9bmV3IHVnLHRoaXMudGFyZ2V0Q291bnQ9MCx0aGlzLkJyPVhpLk5uKCl9Zm9yRWFjaFRhcmdldChlLG4pe3JldHVybiB0aGlzLk1yLmZvckVhY2goKHIsaSk9Pm4oaSkpLEkucmVzb2x2ZSgpfWdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24oZSl7cmV0dXJuIEkucmVzb2x2ZSh0aGlzLmxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24pfWdldEhpZ2hlc3RTZXF1ZW5jZU51bWJlcihlKXtyZXR1cm4gSS5yZXNvbHZlKHRoaXMuT3IpfWFsbG9jYXRlVGFyZ2V0SWQoZSl7cmV0dXJuIHRoaXMuaGlnaGVzdFRhcmdldElkPXRoaXMuQnIubmV4dCgpLEkucmVzb2x2ZSh0aGlzLmhpZ2hlc3RUYXJnZXRJZCl9c2V0VGFyZ2V0c01ldGFkYXRhKGUsbixyKXtyZXR1cm4gciYmKHRoaXMubGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbj1yKSxuPnRoaXMuT3ImJih0aGlzLk9yPW4pLEkucmVzb2x2ZSgpfXFuKGUpe3RoaXMuTXIuc2V0KGUudGFyZ2V0LGUpO2NvbnN0IG49ZS50YXJnZXRJZDtuPnRoaXMuaGlnaGVzdFRhcmdldElkJiYodGhpcy5Ccj1uZXcgWGkobiksdGhpcy5oaWdoZXN0VGFyZ2V0SWQ9biksZS5zZXF1ZW5jZU51bWJlcj50aGlzLk9yJiYodGhpcy5Pcj1lLnNlcXVlbmNlTnVtYmVyKX1hZGRUYXJnZXREYXRhKGUsbil7cmV0dXJuIHRoaXMucW4obiksdGhpcy50YXJnZXRDb3VudCs9MSxJLnJlc29sdmUoKX11cGRhdGVUYXJnZXREYXRhKGUsbil7cmV0dXJuIHRoaXMucW4obiksSS5yZXNvbHZlKCl9cmVtb3ZlVGFyZ2V0RGF0YShlLG4pe3JldHVybiB0aGlzLk1yLmRlbGV0ZShuLnRhcmdldCksdGhpcy5Oci5WcihuLnRhcmdldElkKSx0aGlzLnRhcmdldENvdW50LT0xLEkucmVzb2x2ZSgpfXJlbW92ZVRhcmdldHMoZSxuLHIpe2xldCBpPTA7Y29uc3Qgcz1bXTtyZXR1cm4gdGhpcy5Nci5mb3JFYWNoKChvLGEpPT57YS5zZXF1ZW5jZU51bWJlcjw9biYmci5nZXQoYS50YXJnZXRJZCk9PT1udWxsJiYodGhpcy5Nci5kZWxldGUobykscy5wdXNoKHRoaXMucmVtb3ZlTWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSxhLnRhcmdldElkKSksaSsrKX0pLEkud2FpdEZvcihzKS5uZXh0KCgpPT5pKX1nZXRUYXJnZXRDb3VudChlKXtyZXR1cm4gSS5yZXNvbHZlKHRoaXMudGFyZ2V0Q291bnQpfWdldFRhcmdldERhdGEoZSxuKXtjb25zdCByPXRoaXMuTXIuZ2V0KG4pfHxudWxsO3JldHVybiBJLnJlc29sdmUocil9YWRkTWF0Y2hpbmdLZXlzKGUsbixyKXtyZXR1cm4gdGhpcy5Oci5kcihuLHIpLEkucmVzb2x2ZSgpfXJlbW92ZU1hdGNoaW5nS2V5cyhlLG4scil7dGhpcy5Oci5ScihuLHIpO2NvbnN0IGk9dGhpcy5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZSxzPVtdO3JldHVybiBpJiZuLmZvckVhY2gobz0+e3MucHVzaChpLm1hcmtQb3RlbnRpYWxseU9ycGhhbmVkKGUsbykpfSksSS53YWl0Rm9yKHMpfXJlbW92ZU1hdGNoaW5nS2V5c0ZvclRhcmdldElkKGUsbil7cmV0dXJuIHRoaXMuTnIuVnIobiksSS5yZXNvbHZlKCl9Z2V0TWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSxuKXtjb25zdCByPXRoaXMuTnIuZ3Iobik7cmV0dXJuIEkucmVzb2x2ZShyKX1jb250YWluc0tleShlLG4pe3JldHVybiBJLnJlc29sdmUodGhpcy5Oci5jb250YWluc0tleShuKSl9fWNsYXNzIGRCe2NvbnN0cnVjdG9yKGUsbil7dGhpcy5Mcj17fSx0aGlzLm92ZXJsYXlzPXt9LHRoaXMua3I9bmV3IHBDKDApLHRoaXMucXI9ITEsdGhpcy5xcj0hMCx0aGlzLnJlZmVyZW5jZURlbGVnYXRlPWUodGhpcyksdGhpcy5Rcj1uZXcgaEIodGhpcyksdGhpcy5pbmRleE1hbmFnZXI9bmV3IHRCLHRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZT1mdW5jdGlvbihpKXtyZXR1cm4gbmV3IHVCKGkpfShyPT50aGlzLnJlZmVyZW5jZURlbGVnYXRlLktyKHIpKSx0aGlzLnNlcmlhbGl6ZXI9bmV3IEokKG4pLHRoaXMuJHI9bmV3IG9CKHRoaXMuc2VyaWFsaXplcil9c3RhcnQoKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9c2h1dGRvd24oKXtyZXR1cm4gdGhpcy5xcj0hMSxQcm9taXNlLnJlc29sdmUoKX1nZXQgc3RhcnRlZCgpe3JldHVybiB0aGlzLnFyfXNldERhdGFiYXNlRGVsZXRlZExpc3RlbmVyKCl7fXNldE5ldHdvcmtFbmFibGVkKCl7fWdldEluZGV4TWFuYWdlcihlKXtyZXR1cm4gdGhpcy5pbmRleE1hbmFnZXJ9Z2V0RG9jdW1lbnRPdmVybGF5Q2FjaGUoZSl7bGV0IG49dGhpcy5vdmVybGF5c1tlLnRvS2V5KCldO3JldHVybiBufHwobj1uZXcgYUIsdGhpcy5vdmVybGF5c1tlLnRvS2V5KCldPW4pLG59Z2V0TXV0YXRpb25RdWV1ZShlLG4pe2xldCByPXRoaXMuTHJbZS50b0tleSgpXTtyZXR1cm4gcnx8KHI9bmV3IGNCKG4sdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZSksdGhpcy5McltlLnRvS2V5KCldPXIpLHJ9Z2V0VGFyZ2V0Q2FjaGUoKXtyZXR1cm4gdGhpcy5Rcn1nZXRSZW1vdGVEb2N1bWVudENhY2hlKCl7cmV0dXJuIHRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZX1nZXRCdW5kbGVDYWNoZSgpe3JldHVybiB0aGlzLiRyfXJ1blRyYW5zYWN0aW9uKGUsbixyKXtQKCJNZW1vcnlQZXJzaXN0ZW5jZSIsIlN0YXJ0aW5nIHRyYW5zYWN0aW9uOiIsZSk7Y29uc3QgaT1uZXcgZkIodGhpcy5rci5uZXh0KCkpO3JldHVybiB0aGlzLnJlZmVyZW5jZURlbGVnYXRlLlVyKCkscihpKS5uZXh0KHM9PnRoaXMucmVmZXJlbmNlRGVsZWdhdGUuV3IoaSkubmV4dCgoKT0+cykpLnRvUHJvbWlzZSgpLnRoZW4ocz0+KGkucmFpc2VPbkNvbW1pdHRlZEV2ZW50KCkscykpfUdyKGUsbil7cmV0dXJuIEkub3IoT2JqZWN0LnZhbHVlcyh0aGlzLkxyKS5tYXAocj0+KCk9PnIuY29udGFpbnNLZXkoZSxuKSkpfX1jbGFzcyBmQiBleHRlbmRzIEsye2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5jdXJyZW50U2VxdWVuY2VOdW1iZXI9ZX19Y2xhc3MgbGd7Y29uc3RydWN0b3IoZSl7dGhpcy5wZXJzaXN0ZW5jZT1lLHRoaXMuenI9bmV3IHVnLHRoaXMuanI9bnVsbH1zdGF0aWMgSHIoZSl7cmV0dXJuIG5ldyBsZyhlKX1nZXQgSnIoKXtpZih0aGlzLmpyKXJldHVybiB0aGlzLmpyO3Rocm93IHooKX1hZGRSZWZlcmVuY2UoZSxuLHIpe3JldHVybiB0aGlzLnpyLmFkZFJlZmVyZW5jZShyLG4pLHRoaXMuSnIuZGVsZXRlKHIudG9TdHJpbmcoKSksSS5yZXNvbHZlKCl9cmVtb3ZlUmVmZXJlbmNlKGUsbixyKXtyZXR1cm4gdGhpcy56ci5yZW1vdmVSZWZlcmVuY2UocixuKSx0aGlzLkpyLmFkZChyLnRvU3RyaW5nKCkpLEkucmVzb2x2ZSgpfW1hcmtQb3RlbnRpYWxseU9ycGhhbmVkKGUsbil7cmV0dXJuIHRoaXMuSnIuYWRkKG4udG9TdHJpbmcoKSksSS5yZXNvbHZlKCl9cmVtb3ZlVGFyZ2V0KGUsbil7dGhpcy56ci5WcihuLnRhcmdldElkKS5mb3JFYWNoKGk9PnRoaXMuSnIuYWRkKGkudG9TdHJpbmcoKSkpO2NvbnN0IHI9dGhpcy5wZXJzaXN0ZW5jZS5nZXRUYXJnZXRDYWNoZSgpO3JldHVybiByLmdldE1hdGNoaW5nS2V5c0ZvclRhcmdldElkKGUsbi50YXJnZXRJZCkubmV4dChpPT57aS5mb3JFYWNoKHM9PnRoaXMuSnIuYWRkKHMudG9TdHJpbmcoKSkpfSkubmV4dCgoKT0+ci5yZW1vdmVUYXJnZXREYXRhKGUsbikpfVVyKCl7dGhpcy5qcj1uZXcgU2V0fVdyKGUpe2NvbnN0IG49dGhpcy5wZXJzaXN0ZW5jZS5nZXRSZW1vdGVEb2N1bWVudENhY2hlKCkubmV3Q2hhbmdlQnVmZmVyKCk7cmV0dXJuIEkuZm9yRWFjaCh0aGlzLkpyLHI9Pntjb25zdCBpPWouZnJvbVBhdGgocik7cmV0dXJuIHRoaXMuWXIoZSxpKS5uZXh0KHM9PntzfHxuLnJlbW92ZUVudHJ5KGksWS5taW4oKSl9KX0pLm5leHQoKCk9Pih0aGlzLmpyPW51bGwsbi5hcHBseShlKSkpfXVwZGF0ZUxpbWJvRG9jdW1lbnQoZSxuKXtyZXR1cm4gdGhpcy5ZcihlLG4pLm5leHQocj0+e3I/dGhpcy5Kci5kZWxldGUobi50b1N0cmluZygpKTp0aGlzLkpyLmFkZChuLnRvU3RyaW5nKCkpfSl9S3IoZSl7cmV0dXJuIDB9WXIoZSxuKXtyZXR1cm4gSS5vcihbKCk9PkkucmVzb2x2ZSh0aGlzLnpyLmNvbnRhaW5zS2V5KG4pKSwoKT0+dGhpcy5wZXJzaXN0ZW5jZS5nZXRUYXJnZXRDYWNoZSgpLmNvbnRhaW5zS2V5KGUsbiksKCk9PnRoaXMucGVyc2lzdGVuY2UuR3IoZSxuKV0pfX1jbGFzcyBoZ3tjb25zdHJ1Y3RvcihlLG4scixpKXt0aGlzLnRhcmdldElkPWUsdGhpcy5mcm9tQ2FjaGU9bix0aGlzLnFpPXIsdGhpcy5RaT1pfXN0YXRpYyBLaShlLG4pe2xldCByPWhlKCksaT1oZSgpO2Zvcihjb25zdCBzIG9mIG4uZG9jQ2hhbmdlcylzd2l0Y2gocy50eXBlKXtjYXNlIDA6cj1yLmFkZChzLmRvYy5rZXkpO2JyZWFrO2Nhc2UgMTppPWkuYWRkKHMuZG9jLmtleSl9cmV0dXJuIG5ldyBoZyhlLG4uZnJvbUNhY2hlLHIsaSl9fWNsYXNzIHBCe2NvbnN0cnVjdG9yKCl7dGhpcy5fZG9jdW1lbnRSZWFkQ291bnQ9MH1nZXQgZG9jdW1lbnRSZWFkQ291bnQoKXtyZXR1cm4gdGhpcy5fZG9jdW1lbnRSZWFkQ291bnR9aW5jcmVtZW50RG9jdW1lbnRSZWFkQ291bnQoZSl7dGhpcy5fZG9jdW1lbnRSZWFkQ291bnQrPWV9fWNsYXNzIGdCe2NvbnN0cnVjdG9yKCl7dGhpcy4kaT0hMSx0aGlzLlVpPSExLHRoaXMuV2k9MTAwLHRoaXMuR2k9ZnVuY3Rpb24oKXtyZXR1cm4gVTEoKT84Ok1yLnYoJGUoKSk+MD82OjR9KCl9aW5pdGlhbGl6ZShlLG4pe3RoaXMuemk9ZSx0aGlzLmluZGV4TWFuYWdlcj1uLHRoaXMuJGk9ITB9Z2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeShlLG4scixpKXtjb25zdCBzPXtyZXN1bHQ6bnVsbH07cmV0dXJuIHRoaXMuamkoZSxuKS5uZXh0KG89PntzLnJlc3VsdD1vfSkubmV4dCgoKT0+e2lmKCFzLnJlc3VsdClyZXR1cm4gdGhpcy5IaShlLG4saSxyKS5uZXh0KG89PntzLnJlc3VsdD1vfSl9KS5uZXh0KCgpPT57aWYocy5yZXN1bHQpcmV0dXJuO2NvbnN0IG89bmV3IHBCO3JldHVybiB0aGlzLkppKGUsbixvKS5uZXh0KGE9PntpZihzLnJlc3VsdD1hLHRoaXMuVWkpcmV0dXJuIHRoaXMuWWkoZSxuLG8sYS5zaXplKX0pfSkubmV4dCgoKT0+cy5yZXN1bHQpfVlpKGUsbixyLGkpe3JldHVybiByLmRvY3VtZW50UmVhZENvdW50PHRoaXMuV2k/KEVzKCk8PWdlLkRFQlVHJiZQKCJRdWVyeUVuZ2luZSIsIlNESyB3aWxsIG5vdCBjcmVhdGUgY2FjaGUgaW5kZXhlcyBmb3IgcXVlcnk6Iix1aShuKSwic2luY2UgaXQgb25seSBjcmVhdGVzIGNhY2hlIGluZGV4ZXMgZm9yIGNvbGxlY3Rpb24gY29udGFpbnMiLCJtb3JlIHRoYW4gb3IgZXF1YWwgdG8iLHRoaXMuV2ksImRvY3VtZW50cyIpLEkucmVzb2x2ZSgpKTooRXMoKTw9Z2UuREVCVUcmJlAoIlF1ZXJ5RW5naW5lIiwiUXVlcnk6Iix1aShuKSwic2NhbnMiLHIuZG9jdW1lbnRSZWFkQ291bnQsImxvY2FsIGRvY3VtZW50cyBhbmQgcmV0dXJucyIsaSwiZG9jdW1lbnRzIGFzIHJlc3VsdHMuIiksci5kb2N1bWVudFJlYWRDb3VudD50aGlzLkdpKmk/KEVzKCk8PWdlLkRFQlVHJiZQKCJRdWVyeUVuZ2luZSIsIlRoZSBTREsgZGVjaWRlcyB0byBjcmVhdGUgY2FjaGUgaW5kZXhlcyBmb3IgcXVlcnk6Iix1aShuKSwiYXMgdXNpbmcgY2FjaGUgaW5kZXhlcyBtYXkgaGVscCBpbXByb3ZlIHBlcmZvcm1hbmNlLiIpLHRoaXMuaW5kZXhNYW5hZ2VyLmNyZWF0ZVRhcmdldEluZGV4ZXMoZSxkbihuKSkpOkkucmVzb2x2ZSgpKX1qaShlLG4pe2lmKHJ2KG4pKXJldHVybiBJLnJlc29sdmUobnVsbCk7bGV0IHI9ZG4obik7cmV0dXJuIHRoaXMuaW5kZXhNYW5hZ2VyLmdldEluZGV4VHlwZShlLHIpLm5leHQoaT0+aT09PTA/bnVsbDoobi5saW1pdCE9PW51bGwmJmk9PT0xJiYobj1NZChuLG51bGwsIkYiKSxyPWRuKG4pKSx0aGlzLmluZGV4TWFuYWdlci5nZXREb2N1bWVudHNNYXRjaGluZ1RhcmdldChlLHIpLm5leHQocz0+e2NvbnN0IG89aGUoLi4ucyk7cmV0dXJuIHRoaXMuemkuZ2V0RG9jdW1lbnRzKGUsbykubmV4dChhPT50aGlzLmluZGV4TWFuYWdlci5nZXRNaW5PZmZzZXQoZSxyKS5uZXh0KGM9Pntjb25zdCB1PXRoaXMuWmkobixhKTtyZXR1cm4gdGhpcy5YaShuLHUsbyxjLnJlYWRUaW1lKT90aGlzLmppKGUsTWQobixudWxsLCJGIikpOnRoaXMuZXMoZSx1LG4sYyl9KSl9KSkpfUhpKGUsbixyLGkpe3JldHVybiBydihuKXx8aS5pc0VxdWFsKFkubWluKCkpP0kucmVzb2x2ZShudWxsKTp0aGlzLnppLmdldERvY3VtZW50cyhlLHIpLm5leHQocz0+e2NvbnN0IG89dGhpcy5aaShuLHMpO3JldHVybiB0aGlzLlhpKG4sbyxyLGkpP0kucmVzb2x2ZShudWxsKTooRXMoKTw9Z2UuREVCVUcmJlAoIlF1ZXJ5RW5naW5lIiwiUmUtdXNpbmcgcHJldmlvdXMgcmVzdWx0IGZyb20gJXMgdG8gZXhlY3V0ZSBxdWVyeTogJXMiLGkudG9TdHJpbmcoKSx1aShuKSksdGhpcy5lcyhlLG8sbixxMihpLC0xKSkubmV4dChhPT5hKSl9KX1aaShlLG4pe2xldCByPW5ldyBpdChBQyhlKSk7cmV0dXJuIG4uZm9yRWFjaCgoaSxzKT0+e1p1KGUscykmJihyPXIuYWRkKHMpKX0pLHJ9WGkoZSxuLHIsaSl7aWYoZS5saW1pdD09PW51bGwpcmV0dXJuITE7aWYoci5zaXplIT09bi5zaXplKXJldHVybiEwO2NvbnN0IHM9ZS5saW1pdFR5cGU9PT0iRiI/bi5sYXN0KCk6bi5maXJzdCgpO3JldHVybiEhcyYmKHMuaGFzUGVuZGluZ1dyaXRlc3x8cy52ZXJzaW9uLmNvbXBhcmVUbyhpKT4wKX1KaShlLG4scil7cmV0dXJuIEVzKCk8PWdlLkRFQlVHJiZQKCJRdWVyeUVuZ2luZSIsIlVzaW5nIGZ1bGwgY29sbGVjdGlvbiBzY2FuIHRvIGV4ZWN1dGUgcXVlcnk6Iix1aShuKSksdGhpcy56aS5nZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5KGUsbixsci5taW4oKSxyKX1lcyhlLG4scixpKXtyZXR1cm4gdGhpcy56aS5nZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5KGUscixpKS5uZXh0KHM9PihuLmZvckVhY2gobz0+e3M9cy5pbnNlcnQoby5rZXksbyl9KSxzKSl9fWNsYXNzIG1Ce2NvbnN0cnVjdG9yKGUsbixyLGkpe3RoaXMucGVyc2lzdGVuY2U9ZSx0aGlzLnRzPW4sdGhpcy5zZXJpYWxpemVyPWksdGhpcy5ucz1uZXcgTmUoX2UpLHRoaXMucnM9bmV3IHBzKHM9Pm5nKHMpLHJnKSx0aGlzLnNzPW5ldyBNYXAsdGhpcy5vcz1lLmdldFJlbW90ZURvY3VtZW50Q2FjaGUoKSx0aGlzLlFyPWUuZ2V0VGFyZ2V0Q2FjaGUoKSx0aGlzLiRyPWUuZ2V0QnVuZGxlQ2FjaGUoKSx0aGlzLl9zKHIpfV9zKGUpe3RoaXMuZG9jdW1lbnRPdmVybGF5Q2FjaGU9dGhpcy5wZXJzaXN0ZW5jZS5nZXREb2N1bWVudE92ZXJsYXlDYWNoZShlKSx0aGlzLmluZGV4TWFuYWdlcj10aGlzLnBlcnNpc3RlbmNlLmdldEluZGV4TWFuYWdlcihlKSx0aGlzLm11dGF0aW9uUXVldWU9dGhpcy5wZXJzaXN0ZW5jZS5nZXRNdXRhdGlvblF1ZXVlKGUsdGhpcy5pbmRleE1hbmFnZXIpLHRoaXMubG9jYWxEb2N1bWVudHM9bmV3IHNCKHRoaXMub3MsdGhpcy5tdXRhdGlvblF1ZXVlLHRoaXMuZG9jdW1lbnRPdmVybGF5Q2FjaGUsdGhpcy5pbmRleE1hbmFnZXIpLHRoaXMub3Muc2V0SW5kZXhNYW5hZ2VyKHRoaXMuaW5kZXhNYW5hZ2VyKSx0aGlzLnRzLmluaXRpYWxpemUodGhpcy5sb2NhbERvY3VtZW50cyx0aGlzLmluZGV4TWFuYWdlcil9Y29sbGVjdEdhcmJhZ2UoZSl7cmV0dXJuIHRoaXMucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oIkNvbGxlY3QgZ2FyYmFnZSIsInJlYWR3cml0ZS1wcmltYXJ5IixuPT5lLmNvbGxlY3Qobix0aGlzLm5zKSl9fWZ1bmN0aW9uIHlCKHQsZSxuLHIpe3JldHVybiBuZXcgbUIodCxlLG4scil9ZnVuY3Rpb24gS0ModCxlKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3Qgbj1uZSh0KTtyZXR1cm4geWllbGQgbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbigiSGFuZGxlIHVzZXIgY2hhbmdlIiwicmVhZG9ubHkiLHI9PntsZXQgaTtyZXR1cm4gbi5tdXRhdGlvblF1ZXVlLmdldEFsbE11dGF0aW9uQmF0Y2hlcyhyKS5uZXh0KHM9PihpPXMsbi5fcyhlKSxuLm11dGF0aW9uUXVldWUuZ2V0QWxsTXV0YXRpb25CYXRjaGVzKHIpKSkubmV4dChzPT57Y29uc3Qgbz1bXSxhPVtdO2xldCBjPWhlKCk7Zm9yKGNvbnN0IHUgb2YgaSl7by5wdXNoKHUuYmF0Y2hJZCk7Zm9yKGNvbnN0IGwgb2YgdS5tdXRhdGlvbnMpYz1jLmFkZChsLmtleSl9Zm9yKGNvbnN0IHUgb2Ygcyl7YS5wdXNoKHUuYmF0Y2hJZCk7Zm9yKGNvbnN0IGwgb2YgdS5tdXRhdGlvbnMpYz1jLmFkZChsLmtleSl9cmV0dXJuIG4ubG9jYWxEb2N1bWVudHMuZ2V0RG9jdW1lbnRzKHIsYykubmV4dCh1PT4oe3VzOnUscmVtb3ZlZEJhdGNoSWRzOm8sYWRkZWRCYXRjaElkczphfSkpfSl9KX0pfWZ1bmN0aW9uIHZCKHQsZSl7Y29uc3Qgbj1uZSh0KTtyZXR1cm4gbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbigiQWNrbm93bGVkZ2UgYmF0Y2giLCJyZWFkd3JpdGUtcHJpbWFyeSIscj0+e2NvbnN0IGk9ZS5iYXRjaC5rZXlzKCkscz1uLm9zLm5ld0NoYW5nZUJ1ZmZlcih7dHJhY2tSZW1vdmFsczohMH0pO3JldHVybiBmdW5jdGlvbihhLGMsdSxsKXtjb25zdCBoPXUuYmF0Y2gsZD1oLmtleXMoKTtsZXQgZj1JLnJlc29sdmUoKTtyZXR1cm4gZC5mb3JFYWNoKG09PntmPWYubmV4dCgoKT0+bC5nZXRFbnRyeShjLG0pKS5uZXh0KHk9Pntjb25zdCBfPXUuZG9jVmVyc2lvbnMuZ2V0KG0pO0FlKF8hPT1udWxsKSx5LnZlcnNpb24uY29tcGFyZVRvKF8pPDAmJihoLmFwcGx5VG9SZW1vdGVEb2N1bWVudCh5LHUpLHkuaXNWYWxpZERvY3VtZW50KCkmJih5LnNldFJlYWRUaW1lKHUuY29tbWl0VmVyc2lvbiksbC5hZGRFbnRyeSh5KSkpfSl9KSxmLm5leHQoKCk9PmEubXV0YXRpb25RdWV1ZS5yZW1vdmVNdXRhdGlvbkJhdGNoKGMsaCkpfShuLHIsZSxzKS5uZXh0KCgpPT5zLmFwcGx5KHIpKS5uZXh0KCgpPT5uLm11dGF0aW9uUXVldWUucGVyZm9ybUNvbnNpc3RlbmN5Q2hlY2socikpLm5leHQoKCk9Pm4uZG9jdW1lbnRPdmVybGF5Q2FjaGUucmVtb3ZlT3ZlcmxheXNGb3JCYXRjaElkKHIsaSxlLmJhdGNoLmJhdGNoSWQpKS5uZXh0KCgpPT5uLmxvY2FsRG9jdW1lbnRzLnJlY2FsY3VsYXRlQW5kU2F2ZU92ZXJsYXlzRm9yRG9jdW1lbnRLZXlzKHIsZnVuY3Rpb24oYSl7bGV0IGM9aGUoKTtmb3IobGV0IHU9MDt1PGEubXV0YXRpb25SZXN1bHRzLmxlbmd0aDsrK3UpYS5tdXRhdGlvblJlc3VsdHNbdV0udHJhbnNmb3JtUmVzdWx0cy5sZW5ndGg+MCYmKGM9Yy5hZGQoYS5iYXRjaC5tdXRhdGlvbnNbdV0ua2V5KSk7cmV0dXJuIGN9KGUpKSkubmV4dCgoKT0+bi5sb2NhbERvY3VtZW50cy5nZXREb2N1bWVudHMocixpKSl9KX1mdW5jdGlvbiBRQyh0KXtjb25zdCBlPW5lKHQpO3JldHVybiBlLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKCJHZXQgbGFzdCByZW1vdGUgc25hcHNob3QgdmVyc2lvbiIsInJlYWRvbmx5IixuPT5lLlFyLmdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24obikpfWZ1bmN0aW9uIF9CKHQsZSl7Y29uc3Qgbj1uZSh0KSxyPWUuc25hcHNob3RWZXJzaW9uO2xldCBpPW4ubnM7cmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oIkFwcGx5IHJlbW90ZSBldmVudCIsInJlYWR3cml0ZS1wcmltYXJ5IixzPT57Y29uc3Qgbz1uLm9zLm5ld0NoYW5nZUJ1ZmZlcih7dHJhY2tSZW1vdmFsczohMH0pO2k9bi5ucztjb25zdCBhPVtdO2UudGFyZ2V0Q2hhbmdlcy5mb3JFYWNoKChsLGgpPT57Y29uc3QgZD1pLmdldChoKTtpZighZClyZXR1cm47YS5wdXNoKG4uUXIucmVtb3ZlTWF0Y2hpbmdLZXlzKHMsbC5yZW1vdmVkRG9jdW1lbnRzLGgpLm5leHQoKCk9Pm4uUXIuYWRkTWF0Y2hpbmdLZXlzKHMsbC5hZGRlZERvY3VtZW50cyxoKSkpO2xldCBmPWQud2l0aFNlcXVlbmNlTnVtYmVyKHMuY3VycmVudFNlcXVlbmNlTnVtYmVyKTtlLnRhcmdldE1pc21hdGNoZXMuZ2V0KGgpIT09bnVsbD9mPWYud2l0aFJlc3VtZVRva2VuKG10LkVNUFRZX0JZVEVfU1RSSU5HLFkubWluKCkpLndpdGhMYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uKFkubWluKCkpOmwucmVzdW1lVG9rZW4uYXBwcm94aW1hdGVCeXRlU2l6ZSgpPjAmJihmPWYud2l0aFJlc3VtZVRva2VuKGwucmVzdW1lVG9rZW4scikpLGk9aS5pbnNlcnQoaCxmKSxmdW5jdGlvbih5LF8sVCl7cmV0dXJuIHkucmVzdW1lVG9rZW4uYXBwcm94aW1hdGVCeXRlU2l6ZSgpPT09MHx8Xy5zbmFwc2hvdFZlcnNpb24udG9NaWNyb3NlY29uZHMoKS15LnNuYXBzaG90VmVyc2lvbi50b01pY3Jvc2Vjb25kcygpPj0zZTg/ITA6VC5hZGRlZERvY3VtZW50cy5zaXplK1QubW9kaWZpZWREb2N1bWVudHMuc2l6ZStULnJlbW92ZWREb2N1bWVudHMuc2l6ZT4wfShkLGYsbCkmJmEucHVzaChuLlFyLnVwZGF0ZVRhcmdldERhdGEocyxmKSl9KTtsZXQgYz1IbigpLHU9aGUoKTtpZihlLmRvY3VtZW50VXBkYXRlcy5mb3JFYWNoKGw9PntlLnJlc29sdmVkTGltYm9Eb2N1bWVudHMuaGFzKGwpJiZhLnB1c2gobi5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZS51cGRhdGVMaW1ib0RvY3VtZW50KHMsbCkpfSksYS5wdXNoKEVCKHMsbyxlLmRvY3VtZW50VXBkYXRlcykubmV4dChsPT57Yz1sLmNzLHU9bC5sc30pKSwhci5pc0VxdWFsKFkubWluKCkpKXtjb25zdCBsPW4uUXIuZ2V0TGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbihzKS5uZXh0KGg9Pm4uUXIuc2V0VGFyZ2V0c01ldGFkYXRhKHMscy5jdXJyZW50U2VxdWVuY2VOdW1iZXIscikpO2EucHVzaChsKX1yZXR1cm4gSS53YWl0Rm9yKGEpLm5leHQoKCk9Pm8uYXBwbHkocykpLm5leHQoKCk9Pm4ubG9jYWxEb2N1bWVudHMuZ2V0TG9jYWxWaWV3T2ZEb2N1bWVudHMocyxjLHUpKS5uZXh0KCgpPT5jKX0pLnRoZW4ocz0+KG4ubnM9aSxzKSl9ZnVuY3Rpb24gRUIodCxlLG4pe2xldCByPWhlKCksaT1oZSgpO3JldHVybiBuLmZvckVhY2gocz0+cj1yLmFkZChzKSksZS5nZXRFbnRyaWVzKHQscikubmV4dChzPT57bGV0IG89SG4oKTtyZXR1cm4gbi5mb3JFYWNoKChhLGMpPT57Y29uc3QgdT1zLmdldChhKTtjLmlzRm91bmREb2N1bWVudCgpIT09dS5pc0ZvdW5kRG9jdW1lbnQoKSYmKGk9aS5hZGQoYSkpLGMuaXNOb0RvY3VtZW50KCkmJmMudmVyc2lvbi5pc0VxdWFsKFkubWluKCkpPyhlLnJlbW92ZUVudHJ5KGEsYy5yZWFkVGltZSksbz1vLmluc2VydChhLGMpKTohdS5pc1ZhbGlkRG9jdW1lbnQoKXx8Yy52ZXJzaW9uLmNvbXBhcmVUbyh1LnZlcnNpb24pPjB8fGMudmVyc2lvbi5jb21wYXJlVG8odS52ZXJzaW9uKT09PTAmJnUuaGFzUGVuZGluZ1dyaXRlcz8oZS5hZGRFbnRyeShjKSxvPW8uaW5zZXJ0KGEsYykpOlAoIkxvY2FsU3RvcmUiLCJJZ25vcmluZyBvdXRkYXRlZCB3YXRjaCB1cGRhdGUgZm9yICIsYSwiLiBDdXJyZW50IHZlcnNpb246Iix1LnZlcnNpb24sIiBXYXRjaCB2ZXJzaW9uOiIsYy52ZXJzaW9uKX0pLHtjczpvLGxzOml9fSl9ZnVuY3Rpb24gd0IodCxlKXtjb25zdCBuPW5lKHQpO3JldHVybiBuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKCJHZXQgbmV4dCBtdXRhdGlvbiBiYXRjaCIsInJlYWRvbmx5IixyPT4oZT09PXZvaWQgMCYmKGU9LTEpLG4ubXV0YXRpb25RdWV1ZS5nZXROZXh0TXV0YXRpb25CYXRjaEFmdGVyQmF0Y2hJZChyLGUpKSl9ZnVuY3Rpb24gSUIodCxlKXtjb25zdCBuPW5lKHQpO3JldHVybiBuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKCJBbGxvY2F0ZSB0YXJnZXQiLCJyZWFkd3JpdGUiLHI9PntsZXQgaTtyZXR1cm4gbi5Rci5nZXRUYXJnZXREYXRhKHIsZSkubmV4dChzPT5zPyhpPXMsSS5yZXNvbHZlKGkpKTpuLlFyLmFsbG9jYXRlVGFyZ2V0SWQocikubmV4dChvPT4oaT1uZXcgZXIoZSxvLCJUYXJnZXRQdXJwb3NlTGlzdGVuIixyLmN1cnJlbnRTZXF1ZW5jZU51bWJlciksbi5Rci5hZGRUYXJnZXREYXRhKHIsaSkubmV4dCgoKT0+aSkpKSl9KS50aGVuKHI9Pntjb25zdCBpPW4ubnMuZ2V0KHIudGFyZ2V0SWQpO3JldHVybihpPT09bnVsbHx8ci5zbmFwc2hvdFZlcnNpb24uY29tcGFyZVRvKGkuc25hcHNob3RWZXJzaW9uKT4wKSYmKG4ubnM9bi5ucy5pbnNlcnQoci50YXJnZXRJZCxyKSxuLnJzLnNldChlLHIudGFyZ2V0SWQpKSxyfSl9ZnVuY3Rpb24gTGQodCxlLG4pe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCByPW5lKHQpLGk9ci5ucy5nZXQoZSkscz1uPyJyZWFkd3JpdGUiOiJyZWFkd3JpdGUtcHJpbWFyeSI7dHJ5e258fCh5aWVsZCByLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKCJSZWxlYXNlIHRhcmdldCIscyxvPT5yLnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlLnJlbW92ZVRhcmdldChvLGkpKSl9Y2F0Y2gobyl7aWYoIWxhKG8pKXRocm93IG87UCgiTG9jYWxTdG9yZSIsYEZhaWxlZCB0byB1cGRhdGUgc2VxdWVuY2UgbnVtYmVycyBmb3IgdGFyZ2V0ICR7ZX06ICR7b31gKX1yLm5zPXIubnMucmVtb3ZlKGUpLHIucnMuZGVsZXRlKGkudGFyZ2V0KX0pfWZ1bmN0aW9uIHB2KHQsZSxuKXtjb25zdCByPW5lKHQpO2xldCBpPVkubWluKCkscz1oZSgpO3JldHVybiByLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKCJFeGVjdXRlIHF1ZXJ5IiwicmVhZHdyaXRlIixvPT5mdW5jdGlvbihjLHUsbCl7Y29uc3QgaD1uZShjKSxkPWgucnMuZ2V0KGwpO3JldHVybiBkIT09dm9pZCAwP0kucmVzb2x2ZShoLm5zLmdldChkKSk6aC5Rci5nZXRUYXJnZXREYXRhKHUsbCl9KHIsbyxkbihlKSkubmV4dChhPT57aWYoYSlyZXR1cm4gaT1hLmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24sci5Rci5nZXRNYXRjaGluZ0tleXNGb3JUYXJnZXRJZChvLGEudGFyZ2V0SWQpLm5leHQoYz0+e3M9Y30pfSkubmV4dCgoKT0+ci50cy5nZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5KG8sZSxuP2k6WS5taW4oKSxuP3M6aGUoKSkpLm5leHQoYT0+KFRCKHIsZiQoZSksYSkse2RvY3VtZW50czphLGhzOnN9KSkpfWZ1bmN0aW9uIFRCKHQsZSxuKXtsZXQgcj10LnNzLmdldChlKXx8WS5taW4oKTtuLmZvckVhY2goKGkscyk9PntzLnJlYWRUaW1lLmNvbXBhcmVUbyhyKT4wJiYocj1zLnJlYWRUaW1lKX0pLHQuc3Muc2V0KGUscil9Y2xhc3MgZ3Z7Y29uc3RydWN0b3IoKXt0aGlzLmFjdGl2ZVRhcmdldElkcz1fJCgpfUFzKGUpe3RoaXMuYWN0aXZlVGFyZ2V0SWRzPXRoaXMuYWN0aXZlVGFyZ2V0SWRzLmFkZChlKX1ScyhlKXt0aGlzLmFjdGl2ZVRhcmdldElkcz10aGlzLmFjdGl2ZVRhcmdldElkcy5kZWxldGUoZSl9ZHMoKXtjb25zdCBlPXthY3RpdmVUYXJnZXRJZHM6dGhpcy5hY3RpdmVUYXJnZXRJZHMudG9BcnJheSgpLHVwZGF0ZVRpbWVNczpEYXRlLm5vdygpfTtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSl9fWNsYXNzIFNCe2NvbnN0cnVjdG9yKCl7dGhpcy5ubz1uZXcgZ3YsdGhpcy5ybz17fSx0aGlzLm9ubGluZVN0YXRlSGFuZGxlcj1udWxsLHRoaXMuc2VxdWVuY2VOdW1iZXJIYW5kbGVyPW51bGx9YWRkUGVuZGluZ011dGF0aW9uKGUpe311cGRhdGVNdXRhdGlvblN0YXRlKGUsbixyKXt9YWRkTG9jYWxRdWVyeVRhcmdldChlKXtyZXR1cm4gdGhpcy5uby5BcyhlKSx0aGlzLnJvW2VdfHwibm90LWN1cnJlbnQifXVwZGF0ZVF1ZXJ5U3RhdGUoZSxuLHIpe3RoaXMucm9bZV09bn1yZW1vdmVMb2NhbFF1ZXJ5VGFyZ2V0KGUpe3RoaXMubm8uUnMoZSl9aXNMb2NhbFF1ZXJ5VGFyZ2V0KGUpe3JldHVybiB0aGlzLm5vLmFjdGl2ZVRhcmdldElkcy5oYXMoZSl9Y2xlYXJRdWVyeVN0YXRlKGUpe2RlbGV0ZSB0aGlzLnJvW2VdfWdldEFsbEFjdGl2ZVF1ZXJ5VGFyZ2V0cygpe3JldHVybiB0aGlzLm5vLmFjdGl2ZVRhcmdldElkc31pc0FjdGl2ZVF1ZXJ5VGFyZ2V0KGUpe3JldHVybiB0aGlzLm5vLmFjdGl2ZVRhcmdldElkcy5oYXMoZSl9c3RhcnQoKXtyZXR1cm4gdGhpcy5ubz1uZXcgZ3YsUHJvbWlzZS5yZXNvbHZlKCl9aGFuZGxlVXNlckNoYW5nZShlLG4scil7fXNldE9ubGluZVN0YXRlKGUpe31zaHV0ZG93bigpe313cml0ZVNlcXVlbmNlTnVtYmVyKGUpe31ub3RpZnlCdW5kbGVMb2FkZWQoZSl7fX1jbGFzcyBDQntpbyhlKXt9c2h1dGRvd24oKXt9fWNsYXNzIG12e2NvbnN0cnVjdG9yKCl7dGhpcy5zbz0oKT0+dGhpcy5vbygpLHRoaXMuX289KCk9PnRoaXMuYW8oKSx0aGlzLnVvPVtdLHRoaXMuY28oKX1pbyhlKXt0aGlzLnVvLnB1c2goZSl9c2h1dGRvd24oKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigib25saW5lIix0aGlzLnNvKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigib2ZmbGluZSIsdGhpcy5fbyl9Y28oKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigib25saW5lIix0aGlzLnNvKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigib2ZmbGluZSIsdGhpcy5fbyl9b28oKXtQKCJDb25uZWN0aXZpdHlNb25pdG9yIiwiTmV0d29yayBjb25uZWN0aXZpdHkgY2hhbmdlZDogQVZBSUxBQkxFIik7Zm9yKGNvbnN0IGUgb2YgdGhpcy51byllKDApfWFvKCl7UCgiQ29ubmVjdGl2aXR5TW9uaXRvciIsIk5ldHdvcmsgY29ubmVjdGl2aXR5IGNoYW5nZWQ6IFVOQVZBSUxBQkxFIik7Zm9yKGNvbnN0IGUgb2YgdGhpcy51byllKDEpfXN0YXRpYyBEKCl7cmV0dXJuIHR5cGVvZiB3aW5kb3c8InUiJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciE9PXZvaWQgMCYmd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIhPT12b2lkIDB9fWxldCBMYT1udWxsO2Z1bmN0aW9uIGloKCl7cmV0dXJuIExhPT09bnVsbD9MYT1mdW5jdGlvbigpe3JldHVybiAyNjg0MzU0NTYrTWF0aC5yb3VuZCgyMTQ3NDgzNjQ4Kk1hdGgucmFuZG9tKCkpfSgpOkxhKyssIjB4IitMYS50b1N0cmluZygxNil9Y29uc3QgQUI9e0JhdGNoR2V0RG9jdW1lbnRzOiJiYXRjaEdldCIsQ29tbWl0OiJjb21taXQiLFJ1blF1ZXJ5OiJydW5RdWVyeSIsUnVuQWdncmVnYXRpb25RdWVyeToicnVuQWdncmVnYXRpb25RdWVyeSJ9O2NsYXNzIFJCe2NvbnN0cnVjdG9yKGUpe3RoaXMubG89ZS5sbyx0aGlzLmhvPWUuaG99UG8oZSl7dGhpcy5Jbz1lfVRvKGUpe3RoaXMuRW89ZX1vbk1lc3NhZ2UoZSl7dGhpcy5Bbz1lfWNsb3NlKCl7dGhpcy5obygpfXNlbmQoZSl7dGhpcy5sbyhlKX1Sbygpe3RoaXMuSW8oKX1WbyhlKXt0aGlzLkVvKGUpfW1vKGUpe3RoaXMuQW8oZSl9fWNvbnN0IHV0PSJXZWJDaGFubmVsQ29ubmVjdGlvbiI7Y2xhc3MgYkIgZXh0ZW5kcyBjbGFzc3tjb25zdHJ1Y3RvcihuKXt0aGlzLmRhdGFiYXNlSW5mbz1uLHRoaXMuZGF0YWJhc2VJZD1uLmRhdGFiYXNlSWQ7Y29uc3Qgcj1uLnNzbD8iaHR0cHMiOiJodHRwIixpPWVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmRhdGFiYXNlSWQucHJvamVjdElkKSxzPWVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmRhdGFiYXNlSWQuZGF0YWJhc2UpO3RoaXMuZm89cisiOi8vIituLmhvc3QsdGhpcy5wbz1gcHJvamVjdHMvJHtpfS9kYXRhYmFzZXMvJHtzfWAsdGhpcy55bz10aGlzLmRhdGFiYXNlSWQuZGF0YWJhc2U9PT0iKGRlZmF1bHQpIj9gcHJvamVjdF9pZD0ke2l9YDpgcHJvamVjdF9pZD0ke2l9JmRhdGFiYXNlX2lkPSR7c31gfWdldCB3bygpe3JldHVybiExfVNvKG4scixpLHMsbyl7Y29uc3QgYT1paCgpLGM9dGhpcy5ibyhuLHIudG9VcmlFbmNvZGVkU3RyaW5nKCkpO1AoIlJlc3RDb25uZWN0aW9uIixgU2VuZGluZyBSUEMgJyR7bn0nICR7YX06YCxjLGkpO2NvbnN0IHU9eyJnb29nbGUtY2xvdWQtcmVzb3VyY2UtcHJlZml4Ijp0aGlzLnBvLCJ4LWdvb2ctcmVxdWVzdC1wYXJhbXMiOnRoaXMueW99O3JldHVybiB0aGlzLkRvKHUscyxvKSx0aGlzLkNvKG4sYyx1LGkpLnRoZW4obD0+KFAoIlJlc3RDb25uZWN0aW9uIixgUmVjZWl2ZWQgUlBDICcke259JyAke2F9OiBgLGwpLGwpLGw9Pnt0aHJvdyBHaSgiUmVzdENvbm5lY3Rpb24iLGBSUEMgJyR7bn0nICR7YX0gZmFpbGVkIHdpdGggZXJyb3I6IGAsbCwidXJsOiAiLGMsInJlcXVlc3Q6IixpKSxsfSl9dm8obixyLGkscyxvLGEpe3JldHVybiB0aGlzLlNvKG4scixpLHMsbyl9RG8obixyLGkpe25bIlgtR29vZy1BcGktQ2xpZW50Il09ZnVuY3Rpb24oKXtyZXR1cm4iZ2wtanMvIGZpcmUvIitkc30oKSxuWyJDb250ZW50LVR5cGUiXT0idGV4dC9wbGFpbiIsdGhpcy5kYXRhYmFzZUluZm8uYXBwSWQmJihuWyJYLUZpcmViYXNlLUdNUElEIl09dGhpcy5kYXRhYmFzZUluZm8uYXBwSWQpLHImJnIuaGVhZGVycy5mb3JFYWNoKChzLG8pPT5uW29dPXMpLGkmJmkuaGVhZGVycy5mb3JFYWNoKChzLG8pPT5uW29dPXMpfWJvKG4scil7Y29uc3QgaT1BQltuXTtyZXR1cm5gJHt0aGlzLmZvfS92MS8ke3J9OiR7aX1gfXRlcm1pbmF0ZSgpe319e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuZm9yY2VMb25nUG9sbGluZz1lLmZvcmNlTG9uZ1BvbGxpbmcsdGhpcy5hdXRvRGV0ZWN0TG9uZ1BvbGxpbmc9ZS5hdXRvRGV0ZWN0TG9uZ1BvbGxpbmcsdGhpcy51c2VGZXRjaFN0cmVhbXM9ZS51c2VGZXRjaFN0cmVhbXMsdGhpcy5sb25nUG9sbGluZ09wdGlvbnM9ZS5sb25nUG9sbGluZ09wdGlvbnN9Q28oZSxuLHIsaSl7Y29uc3Qgcz1paCgpO3JldHVybiBuZXcgUHJvbWlzZSgobyxhKT0+e2NvbnN0IGM9bmV3IGsyO2Muc2V0V2l0aENyZWRlbnRpYWxzKCEwKSxjLmxpc3Rlbk9uY2UoTTIuQ09NUExFVEUsKCk9Pnt0cnl7c3dpdGNoKGMuZ2V0TGFzdEVycm9yQ29kZSgpKXtjYXNlIG5oLk5PX0VSUk9SOmNvbnN0IGw9Yy5nZXRSZXNwb25zZUpzb24oKTtQKHV0LGBYSFIgZm9yIFJQQyAnJHtlfScgJHtzfSByZWNlaXZlZDpgLEpTT04uc3RyaW5naWZ5KGwpKSxvKGwpO2JyZWFrO2Nhc2UgbmguVElNRU9VVDpQKHV0LGBSUEMgJyR7ZX0nICR7c30gdGltZWQgb3V0YCksYShuZXcgayh3LkRFQURMSU5FX0VYQ0VFREVELCJSZXF1ZXN0IHRpbWUgb3V0IikpO2JyZWFrO2Nhc2UgbmguSFRUUF9FUlJPUjpjb25zdCBoPWMuZ2V0U3RhdHVzKCk7aWYoUCh1dCxgUlBDICcke2V9JyAke3N9IGZhaWxlZCB3aXRoIHN0YXR1czpgLGgsInJlc3BvbnNlIHRleHQ6IixjLmdldFJlc3BvbnNlVGV4dCgpKSxoPjApe2xldCBkPWMuZ2V0UmVzcG9uc2VKc29uKCk7QXJyYXkuaXNBcnJheShkKSYmKGQ9ZFswXSk7Y29uc3QgZj1kPy5lcnJvcjtpZihmJiZmLnN0YXR1cyYmZi5tZXNzYWdlKXtjb25zdCBtPWZ1bmN0aW9uKF8pe2NvbnN0IFQ9Xy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL18vZywiLSIpO3JldHVybiBPYmplY3QudmFsdWVzKHcpLmluZGV4T2YoVCk+PTA/VDp3LlVOS05PV059KGYuc3RhdHVzKTthKG5ldyBrKG0sZi5tZXNzYWdlKSl9ZWxzZSBhKG5ldyBrKHcuVU5LTk9XTiwiU2VydmVyIHJlc3BvbmRlZCB3aXRoIHN0YXR1cyAiK2MuZ2V0U3RhdHVzKCkpKX1lbHNlIGEobmV3IGsody5VTkFWQUlMQUJMRSwiQ29ubmVjdGlvbiBmYWlsZWQuIikpO2JyZWFrO2RlZmF1bHQ6eigpfX1maW5hbGx5e1AodXQsYFJQQyAnJHtlfScgJHtzfSBjb21wbGV0ZWQuYCl9fSk7Y29uc3QgdT1KU09OLnN0cmluZ2lmeShpKTtQKHV0LGBSUEMgJyR7ZX0nICR7c30gc2VuZGluZyByZXF1ZXN0OmAsaSksYy5zZW5kKG4sIlBPU1QiLHUsciwxNSl9KX1GbyhlLG4scil7Y29uc3QgaT1paCgpLHM9W3RoaXMuZm8sIi8iLCJnb29nbGUuZmlyZXN0b3JlLnYxLkZpcmVzdG9yZSIsIi8iLGUsIi9jaGFubmVsIl0sbz1EMigpLGE9UDIoKSxjPXtodHRwU2Vzc2lvbklkUGFyYW06ImdzZXNzaW9uaWQiLGluaXRNZXNzYWdlSGVhZGVyczp7fSxtZXNzYWdlVXJsUGFyYW1zOntkYXRhYmFzZTpgcHJvamVjdHMvJHt0aGlzLmRhdGFiYXNlSWQucHJvamVjdElkfS9kYXRhYmFzZXMvJHt0aGlzLmRhdGFiYXNlSWQuZGF0YWJhc2V9YH0sc2VuZFJhd0pzb246ITAsc3VwcG9ydHNDcm9zc0RvbWFpblhocjohMCxpbnRlcm5hbENoYW5uZWxQYXJhbXM6e2ZvcndhcmRDaGFubmVsUmVxdWVzdFRpbWVvdXRNczo2ZTV9LGZvcmNlTG9uZ1BvbGxpbmc6dGhpcy5mb3JjZUxvbmdQb2xsaW5nLGRldGVjdEJ1ZmZlcmluZ1Byb3h5OnRoaXMuYXV0b0RldGVjdExvbmdQb2xsaW5nfSx1PXRoaXMubG9uZ1BvbGxpbmdPcHRpb25zLnRpbWVvdXRTZWNvbmRzO3UhPT12b2lkIDAmJihjLmxvbmdQb2xsaW5nVGltZW91dD1NYXRoLnJvdW5kKDFlMyp1KSksdGhpcy51c2VGZXRjaFN0cmVhbXMmJihjLnVzZUZldGNoU3RyZWFtcz0hMCksdGhpcy5EbyhjLmluaXRNZXNzYWdlSGVhZGVycyxuLHIpLGMuZW5jb2RlSW5pdE1lc3NhZ2VIZWFkZXJzPSEwO2NvbnN0IGw9cy5qb2luKCIiKTtQKHV0LGBDcmVhdGluZyBSUEMgJyR7ZX0nIHN0cmVhbSAke2l9OiAke2x9YCxjKTtjb25zdCBoPW8uY3JlYXRlV2ViQ2hhbm5lbChsLGMpO2xldCBkPSExLGY9ITE7Y29uc3QgbT1uZXcgUkIoe2xvOl89PntmP1AodXQsYE5vdCBzZW5kaW5nIGJlY2F1c2UgUlBDICcke2V9JyBzdHJlYW0gJHtpfSBpcyBjbG9zZWQ6YCxfKTooZHx8KFAodXQsYE9wZW5pbmcgUlBDICcke2V9JyBzdHJlYW0gJHtpfSB0cmFuc3BvcnQuYCksaC5vcGVuKCksZD0hMCksUCh1dCxgUlBDICcke2V9JyBzdHJlYW0gJHtpfSBzZW5kaW5nOmAsXyksaC5zZW5kKF8pKX0saG86KCk9PmguY2xvc2UoKX0pLHk9KF8sVCxDKT0+e18ubGlzdGVuKFQsUz0+e3RyeXtDKFMpfWNhdGNoKFYpe3NldFRpbWVvdXQoKCk9Pnt0aHJvdyBWfSwwKX19KX07cmV0dXJuIHkoaCxrYS5FdmVudFR5cGUuT1BFTiwoKT0+e2Z8fFAodXQsYFJQQyAnJHtlfScgc3RyZWFtICR7aX0gdHJhbnNwb3J0IG9wZW5lZC5gKX0pLHkoaCxrYS5FdmVudFR5cGUuQ0xPU0UsKCk9PntmfHwoZj0hMCxQKHV0LGBSUEMgJyR7ZX0nIHN0cmVhbSAke2l9IHRyYW5zcG9ydCBjbG9zZWRgKSxtLlZvKCkpfSkseShoLGthLkV2ZW50VHlwZS5FUlJPUixfPT57Znx8KGY9ITAsR2kodXQsYFJQQyAnJHtlfScgc3RyZWFtICR7aX0gdHJhbnNwb3J0IGVycm9yZWQ6YCxfKSxtLlZvKG5ldyBrKHcuVU5BVkFJTEFCTEUsIlRoZSBvcGVyYXRpb24gY291bGQgbm90IGJlIGNvbXBsZXRlZCIpKSl9KSx5KGgsa2EuRXZlbnRUeXBlLk1FU1NBR0UsXz0+e3ZhciBUO2lmKCFmKXtjb25zdCBDPV8uZGF0YVswXTtBZSghIUMpO2NvbnN0IFM9QyxWPVMuZXJyb3J8fCgoVD1TWzBdKT09PW51bGx8fFQ9PT12b2lkIDA/dm9pZCAwOlQuZXJyb3IpO2lmKFYpe1AodXQsYFJQQyAnJHtlfScgc3RyZWFtICR7aX0gcmVjZWl2ZWQgZXJyb3I6YCxWKTtjb25zdCBVPVYuc3RhdHVzO2xldCBIPWZ1bmN0aW9uKGZlKXtjb25zdCBOPUZlW2ZlXTtpZihOIT09dm9pZCAwKXJldHVybiBGQyhOKX0oVSksQj1WLm1lc3NhZ2U7SD09PXZvaWQgMCYmKEg9dy5JTlRFUk5BTCxCPSJVbmtub3duIGVycm9yIHN0YXR1czogIitVKyIgd2l0aCBtZXNzYWdlICIrVi5tZXNzYWdlKSxmPSEwLG0uVm8obmV3IGsoSCxCKSksaC5jbG9zZSgpfWVsc2UgUCh1dCxgUlBDICcke2V9JyBzdHJlYW0gJHtpfSByZWNlaXZlZDpgLEMpLG0ubW8oQyl9fSkseShhLE4yLlNUQVRfRVZFTlQsXz0+e18uc3RhdD09PXp5LlBST1hZP1AodXQsYFJQQyAnJHtlfScgc3RyZWFtICR7aX0gZGV0ZWN0ZWQgYnVmZmVyaW5nIHByb3h5YCk6Xy5zdGF0PT09enkuTk9QUk9YWSYmUCh1dCxgUlBDICcke2V9JyBzdHJlYW0gJHtpfSBkZXRlY3RlZCBubyBidWZmZXJpbmcgcHJveHlgKX0pLHNldFRpbWVvdXQoKCk9PnttLlJvKCl9LDApLG19fWZ1bmN0aW9uIHNoKCl7cmV0dXJuIHR5cGVvZiBkb2N1bWVudDwidSI/ZG9jdW1lbnQ6bnVsbH1mdW5jdGlvbiBlbCh0KXtyZXR1cm4gbmV3IFUkKHQsITApfWNsYXNzIFpDe2NvbnN0cnVjdG9yKGUsbixyPTFlMyxpPTEuNSxzPTZlNCl7dGhpcy5vaT1lLHRoaXMudGltZXJJZD1uLHRoaXMuTW89cix0aGlzLnhvPWksdGhpcy5Pbz1zLHRoaXMuTm89MCx0aGlzLkJvPW51bGwsdGhpcy5Mbz1EYXRlLm5vdygpLHRoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMuTm89MH1rbygpe3RoaXMuTm89dGhpcy5Pb31xbyhlKXt0aGlzLmNhbmNlbCgpO2NvbnN0IG49TWF0aC5mbG9vcih0aGlzLk5vK3RoaXMuUW8oKSkscj1NYXRoLm1heCgwLERhdGUubm93KCktdGhpcy5MbyksaT1NYXRoLm1heCgwLG4tcik7aT4wJiZQKCJFeHBvbmVudGlhbEJhY2tvZmYiLGBCYWNraW5nIG9mZiBmb3IgJHtpfSBtcyAoYmFzZSBkZWxheTogJHt0aGlzLk5vfSBtcywgZGVsYXkgd2l0aCBqaXR0ZXI6ICR7bn0gbXMsIGxhc3QgYXR0ZW1wdDogJHtyfSBtcyBhZ28pYCksdGhpcy5Cbz10aGlzLm9pLmVucXVldWVBZnRlckRlbGF5KHRoaXMudGltZXJJZCxpLCgpPT4odGhpcy5Mbz1EYXRlLm5vdygpLGUoKSkpLHRoaXMuTm8qPXRoaXMueG8sdGhpcy5Obzx0aGlzLk1vJiYodGhpcy5Obz10aGlzLk1vKSx0aGlzLk5vPnRoaXMuT28mJih0aGlzLk5vPXRoaXMuT28pfUtvKCl7dGhpcy5CbyE9PW51bGwmJih0aGlzLkJvLnNraXBEZWxheSgpLHRoaXMuQm89bnVsbCl9Y2FuY2VsKCl7dGhpcy5CbyE9PW51bGwmJih0aGlzLkJvLmNhbmNlbCgpLHRoaXMuQm89bnVsbCl9UW8oKXtyZXR1cm4oTWF0aC5yYW5kb20oKS0uNSkqdGhpcy5Ob319Y2xhc3MgWEN7Y29uc3RydWN0b3IoZSxuLHIsaSxzLG8sYSxjKXt0aGlzLm9pPWUsdGhpcy4kbz1yLHRoaXMuVW89aSx0aGlzLmNvbm5lY3Rpb249cyx0aGlzLmF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyPW8sdGhpcy5hcHBDaGVja0NyZWRlbnRpYWxzUHJvdmlkZXI9YSx0aGlzLmxpc3RlbmVyPWMsdGhpcy5zdGF0ZT0wLHRoaXMuV289MCx0aGlzLkdvPW51bGwsdGhpcy56bz1udWxsLHRoaXMuc3RyZWFtPW51bGwsdGhpcy5qbz1uZXcgWkMoZSxuKX1Ibygpe3JldHVybiB0aGlzLnN0YXRlPT09MXx8dGhpcy5zdGF0ZT09PTV8fHRoaXMuSm8oKX1Kbygpe3JldHVybiB0aGlzLnN0YXRlPT09Mnx8dGhpcy5zdGF0ZT09PTN9c3RhcnQoKXt0aGlzLnN0YXRlIT09ND90aGlzLmF1dGgoKTp0aGlzLllvKCl9c3RvcCgpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0aGlzLkhvKCkmJih5aWVsZCB0aGlzLmNsb3NlKDApKX0pfVpvKCl7dGhpcy5zdGF0ZT0wLHRoaXMuam8ucmVzZXQoKX1Ybygpe3RoaXMuSm8oKSYmdGhpcy5Hbz09PW51bGwmJih0aGlzLkdvPXRoaXMub2kuZW5xdWV1ZUFmdGVyRGVsYXkodGhpcy4kbyw2ZTQsKCk9PnRoaXMuZV8oKSkpfXRfKGUpe3RoaXMubl8oKSx0aGlzLnN0cmVhbS5zZW5kKGUpfWVfKCl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKHRoaXMuSm8oKSlyZXR1cm4gdGhpcy5jbG9zZSgwKX0pfW5fKCl7dGhpcy5HbyYmKHRoaXMuR28uY2FuY2VsKCksdGhpcy5Hbz1udWxsKX1yXygpe3RoaXMuem8mJih0aGlzLnpvLmNhbmNlbCgpLHRoaXMuem89bnVsbCl9Y2xvc2UoZSxuKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dGhpcy5uXygpLHRoaXMucl8oKSx0aGlzLmpvLmNhbmNlbCgpLHRoaXMuV28rKyxlIT09ND90aGlzLmpvLnJlc2V0KCk6biYmbi5jb2RlPT09dy5SRVNPVVJDRV9FWEhBVVNURUQ/KHluKG4udG9TdHJpbmcoKSkseW4oIlVzaW5nIG1heGltdW0gYmFja29mZiBkZWxheSB0byBwcmV2ZW50IG92ZXJsb2FkaW5nIHRoZSBiYWNrZW5kLiIpLHRoaXMuam8ua28oKSk6biYmbi5jb2RlPT09dy5VTkFVVEhFTlRJQ0FURUQmJnRoaXMuc3RhdGUhPT0zJiYodGhpcy5hdXRoQ3JlZGVudGlhbHNQcm92aWRlci5pbnZhbGlkYXRlVG9rZW4oKSx0aGlzLmFwcENoZWNrQ3JlZGVudGlhbHNQcm92aWRlci5pbnZhbGlkYXRlVG9rZW4oKSksdGhpcy5zdHJlYW0hPT1udWxsJiYodGhpcy5pXygpLHRoaXMuc3RyZWFtLmNsb3NlKCksdGhpcy5zdHJlYW09bnVsbCksdGhpcy5zdGF0ZT1lLHlpZWxkIHRoaXMubGlzdGVuZXIuVG8obil9KX1pXygpe31hdXRoKCl7dGhpcy5zdGF0ZT0xO2NvbnN0IGU9dGhpcy5zXyh0aGlzLldvKSxuPXRoaXMuV287UHJvbWlzZS5hbGwoW3RoaXMuYXV0aENyZWRlbnRpYWxzUHJvdmlkZXIuZ2V0VG9rZW4oKSx0aGlzLmFwcENoZWNrQ3JlZGVudGlhbHNQcm92aWRlci5nZXRUb2tlbigpXSkudGhlbigoW3IsaV0pPT57dGhpcy5Xbz09PW4mJnRoaXMub18ocixpKX0scj0+e2UoKCk9Pntjb25zdCBpPW5ldyBrKHcuVU5LTk9XTiwiRmV0Y2hpbmcgYXV0aCB0b2tlbiBmYWlsZWQ6ICIrci5tZXNzYWdlKTtyZXR1cm4gdGhpcy5fXyhpKX0pfSl9b18oZSxuKXtjb25zdCByPXRoaXMuc18odGhpcy5Xbyk7dGhpcy5zdHJlYW09dGhpcy5hXyhlLG4pLHRoaXMuc3RyZWFtLlBvKCgpPT57cigoKT0+KHRoaXMuc3RhdGU9Mix0aGlzLnpvPXRoaXMub2kuZW5xdWV1ZUFmdGVyRGVsYXkodGhpcy5VbywxZTQsKCk9Pih0aGlzLkpvKCkmJih0aGlzLnN0YXRlPTMpLFByb21pc2UucmVzb2x2ZSgpKSksdGhpcy5saXN0ZW5lci5QbygpKSl9KSx0aGlzLnN0cmVhbS5UbyhpPT57cigoKT0+dGhpcy5fXyhpKSl9KSx0aGlzLnN0cmVhbS5vbk1lc3NhZ2UoaT0+e3IoKCk9PnRoaXMub25NZXNzYWdlKGkpKX0pfVlvKCl7dGhpcy5zdGF0ZT01LHRoaXMuam8ucW8oKCk9PmcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3RoaXMuc3RhdGU9MCx0aGlzLnN0YXJ0KCl9KSl9X18oZSl7cmV0dXJuIFAoIlBlcnNpc3RlbnRTdHJlYW0iLGBjbG9zZSB3aXRoIGVycm9yOiAke2V9YCksdGhpcy5zdHJlYW09bnVsbCx0aGlzLmNsb3NlKDQsZSl9c18oZSl7cmV0dXJuIG49Pnt0aGlzLm9pLmVucXVldWVBbmRGb3JnZXQoKCk9PnRoaXMuV289PT1lP24oKTooUCgiUGVyc2lzdGVudFN0cmVhbSIsInN0cmVhbSBjYWxsYmFjayBza2lwcGVkIGJ5IGdldENsb3NlR3VhcmRlZERpc3BhdGNoZXIuIiksUHJvbWlzZS5yZXNvbHZlKCkpKX19fWNsYXNzIERCIGV4dGVuZHMgWEN7Y29uc3RydWN0b3IoZSxuLHIsaSxzLG8pe3N1cGVyKGUsImxpc3Rlbl9zdHJlYW1fY29ubmVjdGlvbl9iYWNrb2ZmIiwibGlzdGVuX3N0cmVhbV9pZGxlIiwiaGVhbHRoX2NoZWNrX3RpbWVvdXQiLG4scixpLG8pLHRoaXMuc2VyaWFsaXplcj1zfWFfKGUsbil7cmV0dXJuIHRoaXMuY29ubmVjdGlvbi5GbygiTGlzdGVuIixlLG4pfW9uTWVzc2FnZShlKXt0aGlzLmpvLnJlc2V0KCk7Y29uc3Qgbj1CJCh0aGlzLnNlcmlhbGl6ZXIsZSkscj1mdW5jdGlvbihzKXtpZighKCJ0YXJnZXRDaGFuZ2UiaW4gcykpcmV0dXJuIFkubWluKCk7Y29uc3Qgbz1zLnRhcmdldENoYW5nZTtyZXR1cm4gby50YXJnZXRJZHMmJm8udGFyZ2V0SWRzLmxlbmd0aD9ZLm1pbigpOm8ucmVhZFRpbWU/Zm4oby5yZWFkVGltZSk6WS5taW4oKX0oZSk7cmV0dXJuIHRoaXMubGlzdGVuZXIudV8obixyKX1jXyhlKXtjb25zdCBuPXt9O24uZGF0YWJhc2U9eGQodGhpcy5zZXJpYWxpemVyKSxuLmFkZFRhcmdldD1mdW5jdGlvbihzLG8pe2xldCBhO2NvbnN0IGM9by50YXJnZXQ7aWYoYT1EZChjKT97ZG9jdW1lbnRzOnokKHMsYyl9OntxdWVyeTpXJChzLGMpLnV0fSxhLnRhcmdldElkPW8udGFyZ2V0SWQsby5yZXN1bWVUb2tlbi5hcHByb3hpbWF0ZUJ5dGVTaXplKCk+MCl7YS5yZXN1bWVUb2tlbj0kQyhzLG8ucmVzdW1lVG9rZW4pO2NvbnN0IHU9TmQocyxvLmV4cGVjdGVkQ291bnQpO3UhPT1udWxsJiYoYS5leHBlY3RlZENvdW50PXUpfWVsc2UgaWYoby5zbmFwc2hvdFZlcnNpb24uY29tcGFyZVRvKFkubWluKCkpPjApe2EucmVhZFRpbWU9cWMocyxvLnNuYXBzaG90VmVyc2lvbi50b1RpbWVzdGFtcCgpKTtjb25zdCB1PU5kKHMsby5leHBlY3RlZENvdW50KTt1IT09bnVsbCYmKGEuZXhwZWN0ZWRDb3VudD11KX1yZXR1cm4gYX0odGhpcy5zZXJpYWxpemVyLGUpO2NvbnN0IHI9SyQodGhpcy5zZXJpYWxpemVyLGUpO3ImJihuLmxhYmVscz1yKSx0aGlzLnRfKG4pfWxfKGUpe2NvbnN0IG49e307bi5kYXRhYmFzZT14ZCh0aGlzLnNlcmlhbGl6ZXIpLG4ucmVtb3ZlVGFyZ2V0PWUsdGhpcy50XyhuKX19Y2xhc3MgUEIgZXh0ZW5kcyBYQ3tjb25zdHJ1Y3RvcihlLG4scixpLHMsbyl7c3VwZXIoZSwid3JpdGVfc3RyZWFtX2Nvbm5lY3Rpb25fYmFja29mZiIsIndyaXRlX3N0cmVhbV9pZGxlIiwiaGVhbHRoX2NoZWNrX3RpbWVvdXQiLG4scixpLG8pLHRoaXMuc2VyaWFsaXplcj1zLHRoaXMuaF89ITF9Z2V0IFBfKCl7cmV0dXJuIHRoaXMuaF99c3RhcnQoKXt0aGlzLmhfPSExLHRoaXMubGFzdFN0cmVhbVRva2VuPXZvaWQgMCxzdXBlci5zdGFydCgpfWlfKCl7dGhpcy5oXyYmdGhpcy5JXyhbXSl9YV8oZSxuKXtyZXR1cm4gdGhpcy5jb25uZWN0aW9uLkZvKCJXcml0ZSIsZSxuKX1vbk1lc3NhZ2UoZSl7aWYoQWUoISFlLnN0cmVhbVRva2VuKSx0aGlzLmxhc3RTdHJlYW1Ub2tlbj1lLnN0cmVhbVRva2VuLHRoaXMuaF8pe3RoaXMuam8ucmVzZXQoKTtjb25zdCBuPXEkKGUud3JpdGVSZXN1bHRzLGUuY29tbWl0VGltZSkscj1mbihlLmNvbW1pdFRpbWUpO3JldHVybiB0aGlzLmxpc3RlbmVyLlRfKHIsbil9cmV0dXJuIEFlKCFlLndyaXRlUmVzdWx0c3x8ZS53cml0ZVJlc3VsdHMubGVuZ3RoPT09MCksdGhpcy5oXz0hMCx0aGlzLmxpc3RlbmVyLkVfKCl9ZF8oKXtjb25zdCBlPXt9O2UuZGF0YWJhc2U9eGQodGhpcy5zZXJpYWxpemVyKSx0aGlzLnRfKGUpfUlfKGUpe2NvbnN0IG49e3N0cmVhbVRva2VuOnRoaXMubGFzdFN0cmVhbVRva2VuLHdyaXRlczplLm1hcChyPT5IJCh0aGlzLnNlcmlhbGl6ZXIscikpfTt0aGlzLnRfKG4pfX1jbGFzcyBNQiBleHRlbmRzIGNsYXNze317Y29uc3RydWN0b3IoZSxuLHIsaSl7c3VwZXIoKSx0aGlzLmF1dGhDcmVkZW50aWFscz1lLHRoaXMuYXBwQ2hlY2tDcmVkZW50aWFscz1uLHRoaXMuY29ubmVjdGlvbj1yLHRoaXMuc2VyaWFsaXplcj1pLHRoaXMuQV89ITF9Ul8oKXtpZih0aGlzLkFfKXRocm93IG5ldyBrKHcuRkFJTEVEX1BSRUNPTkRJVElPTiwiVGhlIGNsaWVudCBoYXMgYWxyZWFkeSBiZWVuIHRlcm1pbmF0ZWQuIil9U28oZSxuLHIsaSl7cmV0dXJuIHRoaXMuUl8oKSxQcm9taXNlLmFsbChbdGhpcy5hdXRoQ3JlZGVudGlhbHMuZ2V0VG9rZW4oKSx0aGlzLmFwcENoZWNrQ3JlZGVudGlhbHMuZ2V0VG9rZW4oKV0pLnRoZW4oKFtzLG9dKT0+dGhpcy5jb25uZWN0aW9uLlNvKGUsa2QobixyKSxpLHMsbykpLmNhdGNoKHM9Pnt0aHJvdyBzLm5hbWU9PT0iRmlyZWJhc2VFcnJvciI/KHMuY29kZT09PXcuVU5BVVRIRU5USUNBVEVEJiYodGhpcy5hdXRoQ3JlZGVudGlhbHMuaW52YWxpZGF0ZVRva2VuKCksdGhpcy5hcHBDaGVja0NyZWRlbnRpYWxzLmludmFsaWRhdGVUb2tlbigpKSxzKTpuZXcgayh3LlVOS05PV04scy50b1N0cmluZygpKX0pfXZvKGUsbixyLGkscyl7cmV0dXJuIHRoaXMuUl8oKSxQcm9taXNlLmFsbChbdGhpcy5hdXRoQ3JlZGVudGlhbHMuZ2V0VG9rZW4oKSx0aGlzLmFwcENoZWNrQ3JlZGVudGlhbHMuZ2V0VG9rZW4oKV0pLnRoZW4oKFtvLGFdKT0+dGhpcy5jb25uZWN0aW9uLnZvKGUsa2QobixyKSxpLG8sYSxzKSkuY2F0Y2gobz0+e3Rocm93IG8ubmFtZT09PSJGaXJlYmFzZUVycm9yIj8oby5jb2RlPT09dy5VTkFVVEhFTlRJQ0FURUQmJih0aGlzLmF1dGhDcmVkZW50aWFscy5pbnZhbGlkYXRlVG9rZW4oKSx0aGlzLmFwcENoZWNrQ3JlZGVudGlhbHMuaW52YWxpZGF0ZVRva2VuKCkpLG8pOm5ldyBrKHcuVU5LTk9XTixvLnRvU3RyaW5nKCkpfSl9dGVybWluYXRlKCl7dGhpcy5BXz0hMCx0aGlzLmNvbm5lY3Rpb24udGVybWluYXRlKCl9fWNsYXNzIE5Ce2NvbnN0cnVjdG9yKGUsbil7dGhpcy5hc3luY1F1ZXVlPWUsdGhpcy5vbmxpbmVTdGF0ZUhhbmRsZXI9bix0aGlzLnN0YXRlPSJVbmtub3duIix0aGlzLm1fPTAsdGhpcy5mXz1udWxsLHRoaXMuZ189ITB9cF8oKXt0aGlzLm1fPT09MCYmKHRoaXMueV8oIlVua25vd24iKSx0aGlzLmZfPXRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQWZ0ZXJEZWxheSgib25saW5lX3N0YXRlX3RpbWVvdXQiLDFlNCwoKT0+KHRoaXMuZl89bnVsbCx0aGlzLndfKCJCYWNrZW5kIGRpZG4ndCByZXNwb25kIHdpdGhpbiAxMCBzZWNvbmRzLiIpLHRoaXMueV8oIk9mZmxpbmUiKSxQcm9taXNlLnJlc29sdmUoKSkpKX1TXyhlKXt0aGlzLnN0YXRlPT09Ik9ubGluZSI/dGhpcy55XygiVW5rbm93biIpOih0aGlzLm1fKyssdGhpcy5tXz49MSYmKHRoaXMuYl8oKSx0aGlzLndfKGBDb25uZWN0aW9uIGZhaWxlZCAxIHRpbWVzLiBNb3N0IHJlY2VudCBlcnJvcjogJHtlLnRvU3RyaW5nKCl9YCksdGhpcy55XygiT2ZmbGluZSIpKSl9c2V0KGUpe3RoaXMuYl8oKSx0aGlzLm1fPTAsZT09PSJPbmxpbmUiJiYodGhpcy5nXz0hMSksdGhpcy55XyhlKX15XyhlKXtlIT09dGhpcy5zdGF0ZSYmKHRoaXMuc3RhdGU9ZSx0aGlzLm9ubGluZVN0YXRlSGFuZGxlcihlKSl9d18oZSl7Y29uc3Qgbj1gQ291bGQgbm90IHJlYWNoIENsb3VkIEZpcmVzdG9yZSBiYWNrZW5kLiAke2V9ClRoaXMgdHlwaWNhbGx5IGluZGljYXRlcyB0aGF0IHlvdXIgZGV2aWNlIGRvZXMgbm90IGhhdmUgYSBoZWFsdGh5IEludGVybmV0IGNvbm5lY3Rpb24gYXQgdGhlIG1vbWVudC4gVGhlIGNsaWVudCB3aWxsIG9wZXJhdGUgaW4gb2ZmbGluZSBtb2RlIHVudGlsIGl0IGlzIGFibGUgdG8gc3VjY2Vzc2Z1bGx5IGNvbm5lY3QgdG8gdGhlIGJhY2tlbmQuYDt0aGlzLmdfPyh5bihuKSx0aGlzLmdfPSExKTpQKCJPbmxpbmVTdGF0ZVRyYWNrZXIiLG4pfWJfKCl7dGhpcy5mXyE9PW51bGwmJih0aGlzLmZfLmNhbmNlbCgpLHRoaXMuZl89bnVsbCl9fWNsYXNzIGtCe2NvbnN0cnVjdG9yKGUsbixyLGkscyl7dGhpcy5sb2NhbFN0b3JlPWUsdGhpcy5kYXRhc3RvcmU9bix0aGlzLmFzeW5jUXVldWU9cix0aGlzLnJlbW90ZVN5bmNlcj17fSx0aGlzLkRfPVtdLHRoaXMuQ189bmV3IE1hcCx0aGlzLnZfPW5ldyBTZXQsdGhpcy5GXz1bXSx0aGlzLk1fPXMsdGhpcy5NXy5pbyhvPT57ci5lbnF1ZXVlQW5kRm9yZ2V0KCgpPT5nKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpaSh0aGlzKSYmKFAoIlJlbW90ZVN0b3JlIiwiUmVzdGFydGluZyBzdHJlYW1zIGZvciBuZXR3b3JrIHJlYWNoYWJpbGl0eSBjaGFuZ2UuIikseWllbGQgZnVuY3Rpb24oYyl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0IHU9bmUoYyk7dS52Xy5hZGQoNCkseWllbGQgZmEodSksdS54Xy5zZXQoIlVua25vd24iKSx1LnZfLmRlbGV0ZSg0KSx5aWVsZCB0bCh1KX0pfSh0aGlzKSl9KSl9KSx0aGlzLnhfPW5ldyBOQihyLGkpfX1mdW5jdGlvbiB0bCh0KXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7aWYoaWkodCkpZm9yKGNvbnN0IGUgb2YgdC5GXyl5aWVsZCBlKCEwKX0pfWZ1bmN0aW9uIGZhKHQpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtmb3IoY29uc3QgZSBvZiB0LkZfKXlpZWxkIGUoITEpfSl9ZnVuY3Rpb24gWUModCxlKXtjb25zdCBuPW5lKHQpO24uQ18uaGFzKGUudGFyZ2V0SWQpfHwobi5DXy5zZXQoZS50YXJnZXRJZCxlKSxwZyhuKT9mZyhuKTpncyhuKS5KbygpJiZkZyhuLGUpKX1mdW5jdGlvbiBKQyh0LGUpe2NvbnN0IG49bmUodCkscj1ncyhuKTtuLkNfLmRlbGV0ZShlKSxyLkpvKCkmJmVBKG4sZSksbi5DXy5zaXplPT09MCYmKHIuSm8oKT9yLlhvKCk6aWkobikmJm4ueF8uc2V0KCJVbmtub3duIikpfWZ1bmN0aW9uIGRnKHQsZSl7aWYodC5PXy5PZShlLnRhcmdldElkKSxlLnJlc3VtZVRva2VuLmFwcHJveGltYXRlQnl0ZVNpemUoKT4wfHxlLnNuYXBzaG90VmVyc2lvbi5jb21wYXJlVG8oWS5taW4oKSk+MCl7Y29uc3Qgbj10LnJlbW90ZVN5bmNlci5nZXRSZW1vdGVLZXlzRm9yVGFyZ2V0KGUudGFyZ2V0SWQpLnNpemU7ZT1lLndpdGhFeHBlY3RlZENvdW50KG4pfWdzKHQpLmNfKGUpfWZ1bmN0aW9uIGVBKHQsZSl7dC5PXy5PZShlKSxncyh0KS5sXyhlKX1mdW5jdGlvbiBmZyh0KXt0Lk9fPW5ldyB4JCh7Z2V0UmVtb3RlS2V5c0ZvclRhcmdldDplPT50LnJlbW90ZVN5bmNlci5nZXRSZW1vdGVLZXlzRm9yVGFyZ2V0KGUpLF90OmU9PnQuQ18uZ2V0KGUpfHxudWxsLG50OigpPT50LmRhdGFzdG9yZS5zZXJpYWxpemVyLmRhdGFiYXNlSWR9KSxncyh0KS5zdGFydCgpLHQueF8ucF8oKX1mdW5jdGlvbiBwZyh0KXtyZXR1cm4gaWkodCkmJiFncyh0KS5IbygpJiZ0LkNfLnNpemU+MH1mdW5jdGlvbiBpaSh0KXtyZXR1cm4gbmUodCkudl8uc2l6ZT09PTB9ZnVuY3Rpb24gdEEodCl7dC5PXz12b2lkIDB9ZnVuY3Rpb24gT0IodCl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3QuQ18uZm9yRWFjaCgoZSxuKT0+e2RnKHQsZSl9KX0pfWZ1bmN0aW9uIHhCKHQsZSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3RBKHQpLHBnKHQpPyh0LnhfLlNfKGUpLGZnKHQpKTp0LnhfLnNldCgiVW5rbm93biIpfSl9ZnVuY3Rpb24gTEIodCxlLG4pe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZih0LnhfLnNldCgiT25saW5lIiksZSBpbnN0YW5jZW9mIGpDJiZlLnN0YXRlPT09MiYmZS5jYXVzZSl0cnl7eWllbGQgZnVuY3Rpb24oaSxzKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3Qgbz1zLmNhdXNlO2Zvcihjb25zdCBhIG9mIHMudGFyZ2V0SWRzKWkuQ18uaGFzKGEpJiYoeWllbGQgaS5yZW1vdGVTeW5jZXIucmVqZWN0TGlzdGVuKGEsbyksaS5DXy5kZWxldGUoYSksaS5PXy5yZW1vdmVUYXJnZXQoYSkpfSl9KHQsZSl9Y2F0Y2gocil7UCgiUmVtb3RlU3RvcmUiLCJGYWlsZWQgdG8gcmVtb3ZlIHRhcmdldHMgJXM6ICVzICIsZS50YXJnZXRJZHMuam9pbigiLCIpLHIpLHlpZWxkIHpjKHQscil9ZWxzZSBpZihlIGluc3RhbmNlb2YgcmM/dC5PXy4kZShlKTplIGluc3RhbmNlb2YgVUM/dC5PXy5KZShlKTp0Lk9fLkdlKGUpLCFuLmlzRXF1YWwoWS5taW4oKSkpdHJ5e2NvbnN0IHI9eWllbGQgUUModC5sb2NhbFN0b3JlKTtuLmNvbXBhcmVUbyhyKT49MCYmKHlpZWxkIGZ1bmN0aW9uKHMsbyl7Y29uc3QgYT1zLk9fLml0KG8pO3JldHVybiBhLnRhcmdldENoYW5nZXMuZm9yRWFjaCgoYyx1KT0+e2lmKGMucmVzdW1lVG9rZW4uYXBwcm94aW1hdGVCeXRlU2l6ZSgpPjApe2NvbnN0IGw9cy5DXy5nZXQodSk7bCYmcy5DXy5zZXQodSxsLndpdGhSZXN1bWVUb2tlbihjLnJlc3VtZVRva2VuLG8pKX19KSxhLnRhcmdldE1pc21hdGNoZXMuZm9yRWFjaCgoYyx1KT0+e2NvbnN0IGw9cy5DXy5nZXQoYyk7aWYoIWwpcmV0dXJuO3MuQ18uc2V0KGMsbC53aXRoUmVzdW1lVG9rZW4obXQuRU1QVFlfQllURV9TVFJJTkcsbC5zbmFwc2hvdFZlcnNpb24pKSxlQShzLGMpO2NvbnN0IGg9bmV3IGVyKGwudGFyZ2V0LGMsdSxsLnNlcXVlbmNlTnVtYmVyKTtkZyhzLGgpfSkscy5yZW1vdGVTeW5jZXIuYXBwbHlSZW1vdGVFdmVudChhKX0odCxuKSl9Y2F0Y2gocil7UCgiUmVtb3RlU3RvcmUiLCJGYWlsZWQgdG8gcmFpc2Ugc25hcHNob3Q6IixyKSx5aWVsZCB6Yyh0LHIpfX0pfWZ1bmN0aW9uIHpjKHQsZSxuKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7aWYoIWxhKGUpKXRocm93IGU7dC52Xy5hZGQoMSkseWllbGQgZmEodCksdC54Xy5zZXQoIk9mZmxpbmUiKSxufHwobj0oKT0+UUModC5sb2NhbFN0b3JlKSksdC5hc3luY1F1ZXVlLmVucXVldWVSZXRyeWFibGUoKCk9PmcodGhpcyxudWxsLGZ1bmN0aW9uKigpe1AoIlJlbW90ZVN0b3JlIiwiUmV0cnlpbmcgSW5kZXhlZERCIGFjY2VzcyIpLHlpZWxkIG4oKSx0LnZfLmRlbGV0ZSgxKSx5aWVsZCB0bCh0KX0pKX0pfWZ1bmN0aW9uIG5BKHQsZSl7cmV0dXJuIGUoKS5jYXRjaChuPT56Yyh0LG4sZSkpfWZ1bmN0aW9uIG5sKHQpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCBlPW5lKHQpLG49ZHIoZSk7bGV0IHI9ZS5EXy5sZW5ndGg+MD9lLkRfW2UuRF8ubGVuZ3RoLTFdLmJhdGNoSWQ6LTE7Zm9yKDtWQihlKTspdHJ5e2NvbnN0IGk9eWllbGQgd0IoZS5sb2NhbFN0b3JlLHIpO2lmKGk9PT1udWxsKXtlLkRfLmxlbmd0aD09PTAmJm4uWG8oKTticmVha31yPWkuYmF0Y2hJZCxGQihlLGkpfWNhdGNoKGkpe3lpZWxkIHpjKGUsaSl9ckEoZSkmJmlBKGUpfSl9ZnVuY3Rpb24gVkIodCl7cmV0dXJuIGlpKHQpJiZ0LkRfLmxlbmd0aDwxMH1mdW5jdGlvbiBGQih0LGUpe3QuRF8ucHVzaChlKTtjb25zdCBuPWRyKHQpO24uSm8oKSYmbi5QXyYmbi5JXyhlLm11dGF0aW9ucyl9ZnVuY3Rpb24gckEodCl7cmV0dXJuIGlpKHQpJiYhZHIodCkuSG8oKSYmdC5EXy5sZW5ndGg+MH1mdW5jdGlvbiBpQSh0KXtkcih0KS5zdGFydCgpfWZ1bmN0aW9uIFVCKHQpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtkcih0KS5kXygpfSl9ZnVuY3Rpb24gakIodCl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0IGU9ZHIodCk7Zm9yKGNvbnN0IG4gb2YgdC5EXyllLklfKG4ubXV0YXRpb25zKX0pfWZ1bmN0aW9uICRCKHQsZSxuKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3Qgcj10LkRfLnNoaWZ0KCksaT1vZy5mcm9tKHIsZSxuKTt5aWVsZCBuQSh0LCgpPT50LnJlbW90ZVN5bmNlci5hcHBseVN1Y2Nlc3NmdWxXcml0ZShpKSkseWllbGQgbmwodCl9KX1mdW5jdGlvbiBCQih0LGUpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtlJiZkcih0KS5QXyYmKHlpZWxkIGZ1bmN0aW9uKHIsaSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKGZ1bmN0aW9uKG8pe3JldHVybiBOJChvKSYmbyE9PXcuQUJPUlRFRH0oaS5jb2RlKSl7Y29uc3Qgcz1yLkRfLnNoaWZ0KCk7ZHIocikuWm8oKSx5aWVsZCBuQShyLCgpPT5yLnJlbW90ZVN5bmNlci5yZWplY3RGYWlsZWRXcml0ZShzLmJhdGNoSWQsaSkpLHlpZWxkIG5sKHIpfX0pfSh0LGUpKSxyQSh0KSYmaUEodCl9KX1mdW5jdGlvbiB5dih0LGUpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCBuPW5lKHQpO24uYXN5bmNRdWV1ZS52ZXJpZnlPcGVyYXRpb25JblByb2dyZXNzKCksUCgiUmVtb3RlU3RvcmUiLCJSZW1vdGVTdG9yZSByZWNlaXZlZCBuZXcgY3JlZGVudGlhbHMiKTtjb25zdCByPWlpKG4pO24udl8uYWRkKDMpLHlpZWxkIGZhKG4pLHImJm4ueF8uc2V0KCJVbmtub3duIikseWllbGQgbi5yZW1vdGVTeW5jZXIuaGFuZGxlQ3JlZGVudGlhbENoYW5nZShlKSxuLnZfLmRlbGV0ZSgzKSx5aWVsZCB0bChuKX0pfWZ1bmN0aW9uIEhCKHQsZSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0IG49bmUodCk7ZT8obi52Xy5kZWxldGUoMikseWllbGQgdGwobikpOmV8fChuLnZfLmFkZCgyKSx5aWVsZCBmYShuKSxuLnhfLnNldCgiVW5rbm93biIpKX0pfWZ1bmN0aW9uIGdzKHQpe3JldHVybiB0Lk5ffHwodC5OXz1mdW5jdGlvbihuLHIsaSl7Y29uc3Qgcz1uZShuKTtyZXR1cm4gcy5SXygpLG5ldyBEQihyLHMuY29ubmVjdGlvbixzLmF1dGhDcmVkZW50aWFscyxzLmFwcENoZWNrQ3JlZGVudGlhbHMscy5zZXJpYWxpemVyLGkpfSh0LmRhdGFzdG9yZSx0LmFzeW5jUXVldWUse1BvOk9CLmJpbmQobnVsbCx0KSxUbzp4Qi5iaW5kKG51bGwsdCksdV86TEIuYmluZChudWxsLHQpfSksdC5GXy5wdXNoKGU9PmcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2U/KHQuTl8uWm8oKSxwZyh0KT9mZyh0KTp0LnhfLnNldCgiVW5rbm93biIpKTooeWllbGQgdC5OXy5zdG9wKCksdEEodCkpfSkpKSx0Lk5ffWZ1bmN0aW9uIGRyKHQpe3JldHVybiB0LkJffHwodC5CXz1mdW5jdGlvbihuLHIsaSl7Y29uc3Qgcz1uZShuKTtyZXR1cm4gcy5SXygpLG5ldyBQQihyLHMuY29ubmVjdGlvbixzLmF1dGhDcmVkZW50aWFscyxzLmFwcENoZWNrQ3JlZGVudGlhbHMscy5zZXJpYWxpemVyLGkpfSh0LmRhdGFzdG9yZSx0LmFzeW5jUXVldWUse1BvOlVCLmJpbmQobnVsbCx0KSxUbzpCQi5iaW5kKG51bGwsdCksRV86akIuYmluZChudWxsLHQpLFRfOiRCLmJpbmQobnVsbCx0KX0pLHQuRl8ucHVzaChlPT5nKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtlPyh0LkJfLlpvKCkseWllbGQgbmwodCkpOih5aWVsZCB0LkJfLnN0b3AoKSx0LkRfLmxlbmd0aD4wJiYoUCgiUmVtb3RlU3RvcmUiLGBTdG9wcGluZyB3cml0ZSBzdHJlYW0gd2l0aCAke3QuRF8ubGVuZ3RofSBwZW5kaW5nIHdyaXRlc2ApLHQuRF89W10pKX0pKSksdC5CX31jbGFzcyBnZ3tjb25zdHJ1Y3RvcihlLG4scixpLHMpe3RoaXMuYXN5bmNRdWV1ZT1lLHRoaXMudGltZXJJZD1uLHRoaXMudGFyZ2V0VGltZU1zPXIsdGhpcy5vcD1pLHRoaXMucmVtb3ZhbENhbGxiYWNrPXMsdGhpcy5kZWZlcnJlZD1uZXcgb3IsdGhpcy50aGVuPXRoaXMuZGVmZXJyZWQucHJvbWlzZS50aGVuLmJpbmQodGhpcy5kZWZlcnJlZC5wcm9taXNlKSx0aGlzLmRlZmVycmVkLnByb21pc2UuY2F0Y2gobz0+e30pfWdldCBwcm9taXNlKCl7cmV0dXJuIHRoaXMuZGVmZXJyZWQucHJvbWlzZX1zdGF0aWMgY3JlYXRlQW5kU2NoZWR1bGUoZSxuLHIsaSxzKXtjb25zdCBvPURhdGUubm93KCkrcixhPW5ldyBnZyhlLG4sbyxpLHMpO3JldHVybiBhLnN0YXJ0KHIpLGF9c3RhcnQoZSl7dGhpcy50aW1lckhhbmRsZT1zZXRUaW1lb3V0KCgpPT50aGlzLmhhbmRsZURlbGF5RWxhcHNlZCgpLGUpfXNraXBEZWxheSgpe3JldHVybiB0aGlzLmhhbmRsZURlbGF5RWxhcHNlZCgpfWNhbmNlbChlKXt0aGlzLnRpbWVySGFuZGxlIT09bnVsbCYmKHRoaXMuY2xlYXJUaW1lb3V0KCksdGhpcy5kZWZlcnJlZC5yZWplY3QobmV3IGsody5DQU5DRUxMRUQsIk9wZXJhdGlvbiBjYW5jZWxsZWQiKyhlPyI6ICIrZToiIikpKSl9aGFuZGxlRGVsYXlFbGFwc2VkKCl7dGhpcy5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKCk9PnRoaXMudGltZXJIYW5kbGUhPT1udWxsPyh0aGlzLmNsZWFyVGltZW91dCgpLHRoaXMub3AoKS50aGVuKGU9PnRoaXMuZGVmZXJyZWQucmVzb2x2ZShlKSkpOlByb21pc2UucmVzb2x2ZSgpKX1jbGVhclRpbWVvdXQoKXt0aGlzLnRpbWVySGFuZGxlIT09bnVsbCYmKHRoaXMucmVtb3ZhbENhbGxiYWNrKHRoaXMpLGNsZWFyVGltZW91dCh0aGlzLnRpbWVySGFuZGxlKSx0aGlzLnRpbWVySGFuZGxlPW51bGwpfX1mdW5jdGlvbiBtZyh0LGUpe2lmKHluKCJBc3luY1F1ZXVlIixgJHtlfTogJHt0fWApLGxhKHQpKXJldHVybiBuZXcgayh3LlVOQVZBSUxBQkxFLGAke2V9OiAke3R9YCk7dGhyb3cgdH1jbGFzcyBNaXtjb25zdHJ1Y3RvcihlKXt0aGlzLmNvbXBhcmF0b3I9ZT8obixyKT0+ZShuLHIpfHxqLmNvbXBhcmF0b3Iobi5rZXksci5rZXkpOihuLHIpPT5qLmNvbXBhcmF0b3Iobi5rZXksci5rZXkpLHRoaXMua2V5ZWRNYXA9UnMoKSx0aGlzLnNvcnRlZFNldD1uZXcgTmUodGhpcy5jb21wYXJhdG9yKX1zdGF0aWMgZW1wdHlTZXQoZSl7cmV0dXJuIG5ldyBNaShlLmNvbXBhcmF0b3IpfWhhcyhlKXtyZXR1cm4gdGhpcy5rZXllZE1hcC5nZXQoZSkhPW51bGx9Z2V0KGUpe3JldHVybiB0aGlzLmtleWVkTWFwLmdldChlKX1maXJzdCgpe3JldHVybiB0aGlzLnNvcnRlZFNldC5taW5LZXkoKX1sYXN0KCl7cmV0dXJuIHRoaXMuc29ydGVkU2V0Lm1heEtleSgpfWlzRW1wdHkoKXtyZXR1cm4gdGhpcy5zb3J0ZWRTZXQuaXNFbXB0eSgpfWluZGV4T2YoZSl7Y29uc3Qgbj10aGlzLmtleWVkTWFwLmdldChlKTtyZXR1cm4gbj90aGlzLnNvcnRlZFNldC5pbmRleE9mKG4pOi0xfWdldCBzaXplKCl7cmV0dXJuIHRoaXMuc29ydGVkU2V0LnNpemV9Zm9yRWFjaChlKXt0aGlzLnNvcnRlZFNldC5pbm9yZGVyVHJhdmVyc2FsKChuLHIpPT4oZShuKSwhMSkpfWFkZChlKXtjb25zdCBuPXRoaXMuZGVsZXRlKGUua2V5KTtyZXR1cm4gbi5jb3B5KG4ua2V5ZWRNYXAuaW5zZXJ0KGUua2V5LGUpLG4uc29ydGVkU2V0Lmluc2VydChlLG51bGwpKX1kZWxldGUoZSl7Y29uc3Qgbj10aGlzLmdldChlKTtyZXR1cm4gbj90aGlzLmNvcHkodGhpcy5rZXllZE1hcC5yZW1vdmUoZSksdGhpcy5zb3J0ZWRTZXQucmVtb3ZlKG4pKTp0aGlzfWlzRXF1YWwoZSl7aWYoIShlIGluc3RhbmNlb2YgTWkpfHx0aGlzLnNpemUhPT1lLnNpemUpcmV0dXJuITE7Y29uc3Qgbj10aGlzLnNvcnRlZFNldC5nZXRJdGVyYXRvcigpLHI9ZS5zb3J0ZWRTZXQuZ2V0SXRlcmF0b3IoKTtmb3IoO24uaGFzTmV4dCgpOyl7Y29uc3QgaT1uLmdldE5leHQoKS5rZXkscz1yLmdldE5leHQoKS5rZXk7aWYoIWkuaXNFcXVhbChzKSlyZXR1cm4hMX1yZXR1cm4hMH10b1N0cmluZygpe2NvbnN0IGU9W107cmV0dXJuIHRoaXMuZm9yRWFjaChuPT57ZS5wdXNoKG4udG9TdHJpbmcoKSl9KSxlLmxlbmd0aD09PTA/IkRvY3VtZW50U2V0ICgpIjpgRG9jdW1lbnRTZXQgKAogIGArZS5qb2luKGAgIApgKStgCilgfWNvcHkoZSxuKXtjb25zdCByPW5ldyBNaTtyZXR1cm4gci5jb21wYXJhdG9yPXRoaXMuY29tcGFyYXRvcixyLmtleWVkTWFwPWUsci5zb3J0ZWRTZXQ9bixyfX1jbGFzcyB2dntjb25zdHJ1Y3Rvcigpe3RoaXMuTF89bmV3IE5lKGouY29tcGFyYXRvcil9dHJhY2soZSl7Y29uc3Qgbj1lLmRvYy5rZXkscj10aGlzLkxfLmdldChuKTtyP2UudHlwZSE9PTAmJnIudHlwZT09PTM/dGhpcy5MXz10aGlzLkxfLmluc2VydChuLGUpOmUudHlwZT09PTMmJnIudHlwZSE9PTE/dGhpcy5MXz10aGlzLkxfLmluc2VydChuLHt0eXBlOnIudHlwZSxkb2M6ZS5kb2N9KTplLnR5cGU9PT0yJiZyLnR5cGU9PT0yP3RoaXMuTF89dGhpcy5MXy5pbnNlcnQobix7dHlwZToyLGRvYzplLmRvY30pOmUudHlwZT09PTImJnIudHlwZT09PTA/dGhpcy5MXz10aGlzLkxfLmluc2VydChuLHt0eXBlOjAsZG9jOmUuZG9jfSk6ZS50eXBlPT09MSYmci50eXBlPT09MD90aGlzLkxfPXRoaXMuTF8ucmVtb3ZlKG4pOmUudHlwZT09PTEmJnIudHlwZT09PTI/dGhpcy5MXz10aGlzLkxfLmluc2VydChuLHt0eXBlOjEsZG9jOnIuZG9jfSk6ZS50eXBlPT09MCYmci50eXBlPT09MT90aGlzLkxfPXRoaXMuTF8uaW5zZXJ0KG4se3R5cGU6Mixkb2M6ZS5kb2N9KTp6KCk6dGhpcy5MXz10aGlzLkxfLmluc2VydChuLGUpfWtfKCl7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy5MXy5pbm9yZGVyVHJhdmVyc2FsKChuLHIpPT57ZS5wdXNoKHIpfSksZX19Y2xhc3MgWWl7Y29uc3RydWN0b3IoZSxuLHIsaSxzLG8sYSxjLHUpe3RoaXMucXVlcnk9ZSx0aGlzLmRvY3M9bix0aGlzLm9sZERvY3M9cix0aGlzLmRvY0NoYW5nZXM9aSx0aGlzLm11dGF0ZWRLZXlzPXMsdGhpcy5mcm9tQ2FjaGU9byx0aGlzLnN5bmNTdGF0ZUNoYW5nZWQ9YSx0aGlzLmV4Y2x1ZGVzTWV0YWRhdGFDaGFuZ2VzPWMsdGhpcy5oYXNDYWNoZWRSZXN1bHRzPXV9c3RhdGljIGZyb21Jbml0aWFsRG9jdW1lbnRzKGUsbixyLGkscyl7Y29uc3Qgbz1bXTtyZXR1cm4gbi5mb3JFYWNoKGE9PntvLnB1c2goe3R5cGU6MCxkb2M6YX0pfSksbmV3IFlpKGUsbixNaS5lbXB0eVNldChuKSxvLHIsaSwhMCwhMSxzKX1nZXQgaGFzUGVuZGluZ1dyaXRlcygpe3JldHVybiF0aGlzLm11dGF0ZWRLZXlzLmlzRW1wdHkoKX1pc0VxdWFsKGUpe2lmKCEodGhpcy5mcm9tQ2FjaGU9PT1lLmZyb21DYWNoZSYmdGhpcy5oYXNDYWNoZWRSZXN1bHRzPT09ZS5oYXNDYWNoZWRSZXN1bHRzJiZ0aGlzLnN5bmNTdGF0ZUNoYW5nZWQ9PT1lLnN5bmNTdGF0ZUNoYW5nZWQmJnRoaXMubXV0YXRlZEtleXMuaXNFcXVhbChlLm11dGF0ZWRLZXlzKSYmUXUodGhpcy5xdWVyeSxlLnF1ZXJ5KSYmdGhpcy5kb2NzLmlzRXF1YWwoZS5kb2NzKSYmdGhpcy5vbGREb2NzLmlzRXF1YWwoZS5vbGREb2NzKSkpcmV0dXJuITE7Y29uc3Qgbj10aGlzLmRvY0NoYW5nZXMscj1lLmRvY0NoYW5nZXM7aWYobi5sZW5ndGghPT1yLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IGk9MDtpPG4ubGVuZ3RoO2krKylpZihuW2ldLnR5cGUhPT1yW2ldLnR5cGV8fCFuW2ldLmRvYy5pc0VxdWFsKHJbaV0uZG9jKSlyZXR1cm4hMTtyZXR1cm4hMH19Y2xhc3MgcUJ7Y29uc3RydWN0b3IoKXt0aGlzLnFfPXZvaWQgMCx0aGlzLlFfPVtdfX1jbGFzcyB6Qntjb25zdHJ1Y3Rvcigpe3RoaXMucXVlcmllcz1uZXcgcHMoZT0+Q0MoZSksUXUpLHRoaXMub25saW5lU3RhdGU9IlVua25vd24iLHRoaXMuS189bmV3IFNldH19ZnVuY3Rpb24gV0IodCxlKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3Qgbj1uZSh0KSxyPWUucXVlcnk7bGV0IGk9ITEscz1uLnF1ZXJpZXMuZ2V0KHIpO2lmKHN8fChpPSEwLHM9bmV3IHFCKSxpKXRyeXtzLnFfPXlpZWxkIG4ub25MaXN0ZW4ocil9Y2F0Y2gobyl7Y29uc3QgYT1tZyhvLGBJbml0aWFsaXphdGlvbiBvZiBxdWVyeSAnJHt1aShlLnF1ZXJ5KX0nIGZhaWxlZGApO3JldHVybiB2b2lkIGUub25FcnJvcihhKX1uLnF1ZXJpZXMuc2V0KHIscykscy5RXy5wdXNoKGUpLGUuVV8obi5vbmxpbmVTdGF0ZSkscy5xXyYmZS5XXyhzLnFfKSYmeWcobil9KX1mdW5jdGlvbiBHQih0LGUpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCBuPW5lKHQpLHI9ZS5xdWVyeTtsZXQgaT0hMTtjb25zdCBzPW4ucXVlcmllcy5nZXQocik7aWYocyl7Y29uc3Qgbz1zLlFfLmluZGV4T2YoZSk7bz49MCYmKHMuUV8uc3BsaWNlKG8sMSksaT1zLlFfLmxlbmd0aD09PTApfWlmKGkpcmV0dXJuIG4ucXVlcmllcy5kZWxldGUociksbi5vblVubGlzdGVuKHIpfSl9ZnVuY3Rpb24gS0IodCxlKXtjb25zdCBuPW5lKHQpO2xldCByPSExO2Zvcihjb25zdCBpIG9mIGUpe2NvbnN0IHM9aS5xdWVyeSxvPW4ucXVlcmllcy5nZXQocyk7aWYobyl7Zm9yKGNvbnN0IGEgb2Ygby5RXylhLldfKGkpJiYocj0hMCk7by5xXz1pfX1yJiZ5ZyhuKX1mdW5jdGlvbiBRQih0LGUsbil7Y29uc3Qgcj1uZSh0KSxpPXIucXVlcmllcy5nZXQoZSk7aWYoaSlmb3IoY29uc3QgcyBvZiBpLlFfKXMub25FcnJvcihuKTtyLnF1ZXJpZXMuZGVsZXRlKGUpfWZ1bmN0aW9uIHlnKHQpe3QuS18uZm9yRWFjaChlPT57ZS5uZXh0KCl9KX1jbGFzcyBaQntjb25zdHJ1Y3RvcihlLG4scil7dGhpcy5xdWVyeT1lLHRoaXMuR189bix0aGlzLnpfPSExLHRoaXMual89bnVsbCx0aGlzLm9ubGluZVN0YXRlPSJVbmtub3duIix0aGlzLm9wdGlvbnM9cnx8e319V18oZSl7aWYoIXRoaXMub3B0aW9ucy5pbmNsdWRlTWV0YWRhdGFDaGFuZ2VzKXtjb25zdCByPVtdO2Zvcihjb25zdCBpIG9mIGUuZG9jQ2hhbmdlcylpLnR5cGUhPT0zJiZyLnB1c2goaSk7ZT1uZXcgWWkoZS5xdWVyeSxlLmRvY3MsZS5vbGREb2NzLHIsZS5tdXRhdGVkS2V5cyxlLmZyb21DYWNoZSxlLnN5bmNTdGF0ZUNoYW5nZWQsITAsZS5oYXNDYWNoZWRSZXN1bHRzKX1sZXQgbj0hMTtyZXR1cm4gdGhpcy56Xz90aGlzLkhfKGUpJiYodGhpcy5HXy5uZXh0KGUpLG49ITApOnRoaXMuSl8oZSx0aGlzLm9ubGluZVN0YXRlKSYmKHRoaXMuWV8oZSksbj0hMCksdGhpcy5qXz1lLG59b25FcnJvcihlKXt0aGlzLkdfLmVycm9yKGUpfVVfKGUpe3RoaXMub25saW5lU3RhdGU9ZTtsZXQgbj0hMTtyZXR1cm4gdGhpcy5qXyYmIXRoaXMuel8mJnRoaXMuSl8odGhpcy5qXyxlKSYmKHRoaXMuWV8odGhpcy5qXyksbj0hMCksbn1KXyhlLG4pe2lmKCFlLmZyb21DYWNoZSlyZXR1cm4hMDtjb25zdCByPW4hPT0iT2ZmbGluZSI7cmV0dXJuKCF0aGlzLm9wdGlvbnMuWl98fCFyKSYmKCFlLmRvY3MuaXNFbXB0eSgpfHxlLmhhc0NhY2hlZFJlc3VsdHN8fG49PT0iT2ZmbGluZSIpfUhfKGUpe2lmKGUuZG9jQ2hhbmdlcy5sZW5ndGg+MClyZXR1cm4hMDtjb25zdCBuPXRoaXMual8mJnRoaXMual8uaGFzUGVuZGluZ1dyaXRlcyE9PWUuaGFzUGVuZGluZ1dyaXRlcztyZXR1cm4hKCFlLnN5bmNTdGF0ZUNoYW5nZWQmJiFuKSYmdGhpcy5vcHRpb25zLmluY2x1ZGVNZXRhZGF0YUNoYW5nZXM9PT0hMH1ZXyhlKXtlPVlpLmZyb21Jbml0aWFsRG9jdW1lbnRzKGUucXVlcnksZS5kb2NzLGUubXV0YXRlZEtleXMsZS5mcm9tQ2FjaGUsZS5oYXNDYWNoZWRSZXN1bHRzKSx0aGlzLnpfPSEwLHRoaXMuR18ubmV4dChlKX19Y2xhc3Mgc0F7Y29uc3RydWN0b3IoZSl7dGhpcy5rZXk9ZX19Y2xhc3Mgb0F7Y29uc3RydWN0b3IoZSl7dGhpcy5rZXk9ZX19Y2xhc3MgWEJ7Y29uc3RydWN0b3IoZSxuKXt0aGlzLnF1ZXJ5PWUsdGhpcy5vYT1uLHRoaXMuX2E9bnVsbCx0aGlzLmhhc0NhY2hlZFJlc3VsdHM9ITEsdGhpcy5jdXJyZW50PSExLHRoaXMuYWE9aGUoKSx0aGlzLm11dGF0ZWRLZXlzPWhlKCksdGhpcy51YT1BQyhlKSx0aGlzLmNhPW5ldyBNaSh0aGlzLnVhKX1nZXQgbGEoKXtyZXR1cm4gdGhpcy5vYX1oYShlLG4pe2NvbnN0IHI9bj9uLlBhOm5ldyB2dixpPW4/bi5jYTp0aGlzLmNhO2xldCBzPW4/bi5tdXRhdGVkS2V5czp0aGlzLm11dGF0ZWRLZXlzLG89aSxhPSExO2NvbnN0IGM9dGhpcy5xdWVyeS5saW1pdFR5cGU9PT0iRiImJmkuc2l6ZT09PXRoaXMucXVlcnkubGltaXQ/aS5sYXN0KCk6bnVsbCx1PXRoaXMucXVlcnkubGltaXRUeXBlPT09IkwiJiZpLnNpemU9PT10aGlzLnF1ZXJ5LmxpbWl0P2kuZmlyc3QoKTpudWxsO2lmKGUuaW5vcmRlclRyYXZlcnNhbCgobCxoKT0+e2NvbnN0IGQ9aS5nZXQobCksZj1adSh0aGlzLnF1ZXJ5LGgpP2g6bnVsbCxtPSEhZCYmdGhpcy5tdXRhdGVkS2V5cy5oYXMoZC5rZXkpLHk9ISFmJiYoZi5oYXNMb2NhbE11dGF0aW9uc3x8dGhpcy5tdXRhdGVkS2V5cy5oYXMoZi5rZXkpJiZmLmhhc0NvbW1pdHRlZE11dGF0aW9ucyk7bGV0IF89ITE7ZCYmZj9kLmRhdGEuaXNFcXVhbChmLmRhdGEpP20hPT15JiYoci50cmFjayh7dHlwZTozLGRvYzpmfSksXz0hMCk6dGhpcy5JYShkLGYpfHwoci50cmFjayh7dHlwZToyLGRvYzpmfSksXz0hMCwoYyYmdGhpcy51YShmLGMpPjB8fHUmJnRoaXMudWEoZix1KTwwKSYmKGE9ITApKTohZCYmZj8oci50cmFjayh7dHlwZTowLGRvYzpmfSksXz0hMCk6ZCYmIWYmJihyLnRyYWNrKHt0eXBlOjEsZG9jOmR9KSxfPSEwLChjfHx1KSYmKGE9ITApKSxfJiYoZj8obz1vLmFkZChmKSxzPXk/cy5hZGQobCk6cy5kZWxldGUobCkpOihvPW8uZGVsZXRlKGwpLHM9cy5kZWxldGUobCkpKX0pLHRoaXMucXVlcnkubGltaXQhPT1udWxsKWZvcig7by5zaXplPnRoaXMucXVlcnkubGltaXQ7KXtjb25zdCBsPXRoaXMucXVlcnkubGltaXRUeXBlPT09IkYiP28ubGFzdCgpOm8uZmlyc3QoKTtvPW8uZGVsZXRlKGwua2V5KSxzPXMuZGVsZXRlKGwua2V5KSxyLnRyYWNrKHt0eXBlOjEsZG9jOmx9KX1yZXR1cm57Y2E6byxQYTpyLFhpOmEsbXV0YXRlZEtleXM6c319SWEoZSxuKXtyZXR1cm4gZS5oYXNMb2NhbE11dGF0aW9ucyYmbi5oYXNDb21taXR0ZWRNdXRhdGlvbnMmJiFuLmhhc0xvY2FsTXV0YXRpb25zfWFwcGx5Q2hhbmdlcyhlLG4scixpKXtjb25zdCBzPXRoaXMuY2E7dGhpcy5jYT1lLmNhLHRoaXMubXV0YXRlZEtleXM9ZS5tdXRhdGVkS2V5cztjb25zdCBvPWUuUGEua18oKTtvLnNvcnQoKGwsaCk9PmZ1bmN0aW9uKGYsbSl7Y29uc3QgeT1fPT57c3dpdGNoKF8pe2Nhc2UgMDpyZXR1cm4gMTtjYXNlIDI6Y2FzZSAzOnJldHVybiAyO2Nhc2UgMTpyZXR1cm4gMDtkZWZhdWx0OnJldHVybiB6KCl9fTtyZXR1cm4geShmKS15KG0pfShsLnR5cGUsaC50eXBlKXx8dGhpcy51YShsLmRvYyxoLmRvYykpLHRoaXMuVGEociksaT1pIT1udWxsJiZpO2NvbnN0IGE9biYmIWk/dGhpcy5FYSgpOltdLGM9dGhpcy5hYS5zaXplPT09MCYmdGhpcy5jdXJyZW50JiYhaT8xOjAsdT1jIT09dGhpcy5fYTtyZXR1cm4gdGhpcy5fYT1jLG8ubGVuZ3RoIT09MHx8dT97c25hcHNob3Q6bmV3IFlpKHRoaXMucXVlcnksZS5jYSxzLG8sZS5tdXRhdGVkS2V5cyxjPT09MCx1LCExLCEhciYmci5yZXN1bWVUb2tlbi5hcHByb3hpbWF0ZUJ5dGVTaXplKCk+MCksZGE6YX06e2RhOmF9fVVfKGUpe3JldHVybiB0aGlzLmN1cnJlbnQmJmU9PT0iT2ZmbGluZSI/KHRoaXMuY3VycmVudD0hMSx0aGlzLmFwcGx5Q2hhbmdlcyh7Y2E6dGhpcy5jYSxQYTpuZXcgdnYsbXV0YXRlZEtleXM6dGhpcy5tdXRhdGVkS2V5cyxYaTohMX0sITEpKTp7ZGE6W119fUFhKGUpe3JldHVybiF0aGlzLm9hLmhhcyhlKSYmISF0aGlzLmNhLmhhcyhlKSYmIXRoaXMuY2EuZ2V0KGUpLmhhc0xvY2FsTXV0YXRpb25zfVRhKGUpe2UmJihlLmFkZGVkRG9jdW1lbnRzLmZvckVhY2gobj0+dGhpcy5vYT10aGlzLm9hLmFkZChuKSksZS5tb2RpZmllZERvY3VtZW50cy5mb3JFYWNoKG49Pnt9KSxlLnJlbW92ZWREb2N1bWVudHMuZm9yRWFjaChuPT50aGlzLm9hPXRoaXMub2EuZGVsZXRlKG4pKSx0aGlzLmN1cnJlbnQ9ZS5jdXJyZW50KX1FYSgpe2lmKCF0aGlzLmN1cnJlbnQpcmV0dXJuW107Y29uc3QgZT10aGlzLmFhO3RoaXMuYWE9aGUoKSx0aGlzLmNhLmZvckVhY2gocj0+e3RoaXMuQWEoci5rZXkpJiYodGhpcy5hYT10aGlzLmFhLmFkZChyLmtleSkpfSk7Y29uc3Qgbj1bXTtyZXR1cm4gZS5mb3JFYWNoKHI9Pnt0aGlzLmFhLmhhcyhyKXx8bi5wdXNoKG5ldyBvQShyKSl9KSx0aGlzLmFhLmZvckVhY2gocj0+e2UuaGFzKHIpfHxuLnB1c2gobmV3IHNBKHIpKX0pLG59UmEoZSl7dGhpcy5vYT1lLmhzLHRoaXMuYWE9aGUoKTtjb25zdCBuPXRoaXMuaGEoZS5kb2N1bWVudHMpO3JldHVybiB0aGlzLmFwcGx5Q2hhbmdlcyhuLCEwKX1WYSgpe3JldHVybiBZaS5mcm9tSW5pdGlhbERvY3VtZW50cyh0aGlzLnF1ZXJ5LHRoaXMuY2EsdGhpcy5tdXRhdGVkS2V5cyx0aGlzLl9hPT09MCx0aGlzLmhhc0NhY2hlZFJlc3VsdHMpfX1jbGFzcyBZQntjb25zdHJ1Y3RvcihlLG4scil7dGhpcy5xdWVyeT1lLHRoaXMudGFyZ2V0SWQ9bix0aGlzLnZpZXc9cn19Y2xhc3MgSkJ7Y29uc3RydWN0b3IoZSl7dGhpcy5rZXk9ZSx0aGlzLm1hPSExfX1jbGFzcyBlNHtjb25zdHJ1Y3RvcihlLG4scixpLHMsbyl7dGhpcy5sb2NhbFN0b3JlPWUsdGhpcy5yZW1vdGVTdG9yZT1uLHRoaXMuZXZlbnRNYW5hZ2VyPXIsdGhpcy5zaGFyZWRDbGllbnRTdGF0ZT1pLHRoaXMuY3VycmVudFVzZXI9cyx0aGlzLm1heENvbmN1cnJlbnRMaW1ib1Jlc29sdXRpb25zPW8sdGhpcy5mYT17fSx0aGlzLmdhPW5ldyBwcyhhPT5DQyhhKSxRdSksdGhpcy5wYT1uZXcgTWFwLHRoaXMueWE9bmV3IFNldCx0aGlzLndhPW5ldyBOZShqLmNvbXBhcmF0b3IpLHRoaXMuU2E9bmV3IE1hcCx0aGlzLmJhPW5ldyB1Zyx0aGlzLkRhPXt9LHRoaXMuQ2E9bmV3IE1hcCx0aGlzLnZhPVhpLkJuKCksdGhpcy5vbmxpbmVTdGF0ZT0iVW5rbm93biIsdGhpcy5GYT12b2lkIDB9Z2V0IGlzUHJpbWFyeUNsaWVudCgpe3JldHVybiB0aGlzLkZhPT09ITB9fWZ1bmN0aW9uIHQ0KHQsZSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0IG49aDQodCk7bGV0IHIsaTtjb25zdCBzPW4uZ2EuZ2V0KGUpO2lmKHMpcj1zLnRhcmdldElkLG4uc2hhcmVkQ2xpZW50U3RhdGUuYWRkTG9jYWxRdWVyeVRhcmdldChyKSxpPXMudmlldy5WYSgpO2Vsc2V7Y29uc3Qgbz15aWVsZCBJQihuLmxvY2FsU3RvcmUsZG4oZSkpLGE9bi5zaGFyZWRDbGllbnRTdGF0ZS5hZGRMb2NhbFF1ZXJ5VGFyZ2V0KG8udGFyZ2V0SWQpO3I9by50YXJnZXRJZCxpPXlpZWxkIG40KG4sZSxyLGE9PT0iY3VycmVudCIsby5yZXN1bWVUb2tlbiksbi5pc1ByaW1hcnlDbGllbnQmJllDKG4ucmVtb3RlU3RvcmUsbyl9cmV0dXJuIGl9KX1mdW5jdGlvbiBuNCh0LGUsbixyLGkpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0Lk1hPShoLGQsZik9PmZ1bmN0aW9uKHksXyxULEMpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgUz1fLnZpZXcuaGEoVCk7Uy5YaSYmKFM9eWllbGQgcHYoeS5sb2NhbFN0b3JlLF8ucXVlcnksITEpLnRoZW4oKHtkb2N1bWVudHM6Qn0pPT5fLnZpZXcuaGEoQixTKSkpO2NvbnN0IFY9QyYmQy50YXJnZXRDaGFuZ2VzLmdldChfLnRhcmdldElkKSxVPUMmJkMudGFyZ2V0TWlzbWF0Y2hlcy5nZXQoXy50YXJnZXRJZCkhPW51bGwsSD1fLnZpZXcuYXBwbHlDaGFuZ2VzKFMseS5pc1ByaW1hcnlDbGllbnQsVixVKTtyZXR1cm4gRXYoeSxfLnRhcmdldElkLEguZGEpLEguc25hcHNob3R9KX0odCxoLGQsZik7Y29uc3Qgcz15aWVsZCBwdih0LmxvY2FsU3RvcmUsZSwhMCksbz1uZXcgWEIoZSxzLmhzKSxhPW8uaGEocy5kb2N1bWVudHMpLGM9ZGEuY3JlYXRlU3ludGhlc2l6ZWRUYXJnZXRDaGFuZ2VGb3JDdXJyZW50Q2hhbmdlKG4sciYmdC5vbmxpbmVTdGF0ZSE9PSJPZmZsaW5lIixpKSx1PW8uYXBwbHlDaGFuZ2VzKGEsdC5pc1ByaW1hcnlDbGllbnQsYyk7RXYodCxuLHUuZGEpO2NvbnN0IGw9bmV3IFlCKGUsbixvKTtyZXR1cm4gdC5nYS5zZXQoZSxsKSx0LnBhLmhhcyhuKT90LnBhLmdldChuKS5wdXNoKGUpOnQucGEuc2V0KG4sW2VdKSx1LnNuYXBzaG90fSl9ZnVuY3Rpb24gcjQodCxlKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3Qgbj1uZSh0KSxyPW4uZ2EuZ2V0KGUpLGk9bi5wYS5nZXQoci50YXJnZXRJZCk7aWYoaS5sZW5ndGg+MSlyZXR1cm4gbi5wYS5zZXQoci50YXJnZXRJZCxpLmZpbHRlcihzPT4hUXUocyxlKSkpLHZvaWQgbi5nYS5kZWxldGUoZSk7bi5pc1ByaW1hcnlDbGllbnQ/KG4uc2hhcmVkQ2xpZW50U3RhdGUucmVtb3ZlTG9jYWxRdWVyeVRhcmdldChyLnRhcmdldElkKSxuLnNoYXJlZENsaWVudFN0YXRlLmlzQWN0aXZlUXVlcnlUYXJnZXQoci50YXJnZXRJZCl8fCh5aWVsZCBMZChuLmxvY2FsU3RvcmUsci50YXJnZXRJZCwhMSkudGhlbigoKT0+e24uc2hhcmVkQ2xpZW50U3RhdGUuY2xlYXJRdWVyeVN0YXRlKHIudGFyZ2V0SWQpLEpDKG4ucmVtb3RlU3RvcmUsci50YXJnZXRJZCksVmQobixyLnRhcmdldElkKX0pLmNhdGNoKHVhKSkpOihWZChuLHIudGFyZ2V0SWQpLHlpZWxkIExkKG4ubG9jYWxTdG9yZSxyLnRhcmdldElkLCEwKSl9KX1mdW5jdGlvbiBpNCh0LGUsbil7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0IHI9ZDQodCk7dHJ5e2NvbnN0IGk9eWllbGQgZnVuY3Rpb24obyxhKXtjb25zdCBjPW5lKG8pLHU9QmUubm93KCksbD1hLnJlZHVjZSgoZixtKT0+Zi5hZGQobS5rZXkpLGhlKCkpO2xldCBoLGQ7cmV0dXJuIGMucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oIkxvY2FsbHkgd3JpdGUgbXV0YXRpb25zIiwicmVhZHdyaXRlIixmPT57bGV0IG09SG4oKSx5PWhlKCk7cmV0dXJuIGMub3MuZ2V0RW50cmllcyhmLGwpLm5leHQoXz0+e209XyxtLmZvckVhY2goKFQsQyk9PntDLmlzVmFsaWREb2N1bWVudCgpfHwoeT15LmFkZChUKSl9KX0pLm5leHQoKCk9PmMubG9jYWxEb2N1bWVudHMuZ2V0T3ZlcmxheWVkRG9jdW1lbnRzKGYsbSkpLm5leHQoXz0+e2g9Xztjb25zdCBUPVtdO2Zvcihjb25zdCBDIG9mIGEpe2NvbnN0IFM9UiQoQyxoLmdldChDLmtleSkub3ZlcmxheWVkRG9jdW1lbnQpO1MhPW51bGwmJlQucHVzaChuZXcgRXIoQy5rZXksUyx5QyhTLnZhbHVlLm1hcFZhbHVlKSxRdC5leGlzdHMoITApKSl9cmV0dXJuIGMubXV0YXRpb25RdWV1ZS5hZGRNdXRhdGlvbkJhdGNoKGYsdSxULGEpfSkubmV4dChfPT57ZD1fO2NvbnN0IFQ9Xy5hcHBseVRvTG9jYWxEb2N1bWVudFNldChoLHkpO3JldHVybiBjLmRvY3VtZW50T3ZlcmxheUNhY2hlLnNhdmVPdmVybGF5cyhmLF8uYmF0Y2hJZCxUKX0pfSkudGhlbigoKT0+KHtiYXRjaElkOmQuYmF0Y2hJZCxjaGFuZ2VzOmJDKGgpfSkpfShyLmxvY2FsU3RvcmUsZSk7ci5zaGFyZWRDbGllbnRTdGF0ZS5hZGRQZW5kaW5nTXV0YXRpb24oaS5iYXRjaElkKSxmdW5jdGlvbihvLGEsYyl7bGV0IHU9by5EYVtvLmN1cnJlbnRVc2VyLnRvS2V5KCldO3V8fCh1PW5ldyBOZShfZSkpLHU9dS5pbnNlcnQoYSxjKSxvLkRhW28uY3VycmVudFVzZXIudG9LZXkoKV09dX0ocixpLmJhdGNoSWQsbikseWllbGQgcGEocixpLmNoYW5nZXMpLHlpZWxkIG5sKHIucmVtb3RlU3RvcmUpfWNhdGNoKGkpe2NvbnN0IHM9bWcoaSwiRmFpbGVkIHRvIHBlcnNpc3Qgd3JpdGUiKTtuLnJlamVjdChzKX19KX1mdW5jdGlvbiBhQSh0LGUpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCBuPW5lKHQpO3RyeXtjb25zdCByPXlpZWxkIF9CKG4ubG9jYWxTdG9yZSxlKTtlLnRhcmdldENoYW5nZXMuZm9yRWFjaCgoaSxzKT0+e2NvbnN0IG89bi5TYS5nZXQocyk7byYmKEFlKGkuYWRkZWREb2N1bWVudHMuc2l6ZStpLm1vZGlmaWVkRG9jdW1lbnRzLnNpemUraS5yZW1vdmVkRG9jdW1lbnRzLnNpemU8PTEpLGkuYWRkZWREb2N1bWVudHMuc2l6ZT4wP28ubWE9ITA6aS5tb2RpZmllZERvY3VtZW50cy5zaXplPjA/QWUoby5tYSk6aS5yZW1vdmVkRG9jdW1lbnRzLnNpemU+MCYmKEFlKG8ubWEpLG8ubWE9ITEpKX0pLHlpZWxkIHBhKG4scixlKX1jYXRjaChyKXt5aWVsZCB1YShyKX19KX1mdW5jdGlvbiBfdih0LGUsbil7Y29uc3Qgcj1uZSh0KTtpZihyLmlzUHJpbWFyeUNsaWVudCYmbj09PTB8fCFyLmlzUHJpbWFyeUNsaWVudCYmbj09PTEpe2NvbnN0IGk9W107ci5nYS5mb3JFYWNoKChzLG8pPT57Y29uc3QgYT1vLnZpZXcuVV8oZSk7YS5zbmFwc2hvdCYmaS5wdXNoKGEuc25hcHNob3QpfSksZnVuY3Rpb24obyxhKXtjb25zdCBjPW5lKG8pO2Mub25saW5lU3RhdGU9YTtsZXQgdT0hMTtjLnF1ZXJpZXMuZm9yRWFjaCgobCxoKT0+e2Zvcihjb25zdCBkIG9mIGguUV8pZC5VXyhhKSYmKHU9ITApfSksdSYmeWcoYyl9KHIuZXZlbnRNYW5hZ2VyLGUpLGkubGVuZ3RoJiZyLmZhLnVfKGkpLHIub25saW5lU3RhdGU9ZSxyLmlzUHJpbWFyeUNsaWVudCYmci5zaGFyZWRDbGllbnRTdGF0ZS5zZXRPbmxpbmVTdGF0ZShlKX19ZnVuY3Rpb24gczQodCxlLG4pe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCByPW5lKHQpO3Iuc2hhcmVkQ2xpZW50U3RhdGUudXBkYXRlUXVlcnlTdGF0ZShlLCJyZWplY3RlZCIsbik7Y29uc3QgaT1yLlNhLmdldChlKSxzPWkmJmkua2V5O2lmKHMpe2xldCBvPW5ldyBOZShqLmNvbXBhcmF0b3IpO289by5pbnNlcnQocyxodC5uZXdOb0RvY3VtZW50KHMsWS5taW4oKSkpO2NvbnN0IGE9aGUoKS5hZGQocyksYz1uZXcgSnUoWS5taW4oKSxuZXcgTWFwLG5ldyBOZShfZSksbyxhKTt5aWVsZCBhQShyLGMpLHIud2E9ci53YS5yZW1vdmUocyksci5TYS5kZWxldGUoZSksdmcocil9ZWxzZSB5aWVsZCBMZChyLmxvY2FsU3RvcmUsZSwhMSkudGhlbigoKT0+VmQocixlLG4pKS5jYXRjaCh1YSl9KX1mdW5jdGlvbiBvNCh0LGUpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCBuPW5lKHQpLHI9ZS5iYXRjaC5iYXRjaElkO3RyeXtjb25zdCBpPXlpZWxkIHZCKG4ubG9jYWxTdG9yZSxlKTt1QShuLHIsbnVsbCksY0EobixyKSxuLnNoYXJlZENsaWVudFN0YXRlLnVwZGF0ZU11dGF0aW9uU3RhdGUociwiYWNrbm93bGVkZ2VkIikseWllbGQgcGEobixpKX1jYXRjaChpKXt5aWVsZCB1YShpKX19KX1mdW5jdGlvbiBhNCh0LGUsbil7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0IHI9bmUodCk7dHJ5e2NvbnN0IGk9eWllbGQgZnVuY3Rpb24obyxhKXtjb25zdCBjPW5lKG8pO3JldHVybiBjLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKCJSZWplY3QgYmF0Y2giLCJyZWFkd3JpdGUtcHJpbWFyeSIsdT0+e2xldCBsO3JldHVybiBjLm11dGF0aW9uUXVldWUubG9va3VwTXV0YXRpb25CYXRjaCh1LGEpLm5leHQoaD0+KEFlKGghPT1udWxsKSxsPWgua2V5cygpLGMubXV0YXRpb25RdWV1ZS5yZW1vdmVNdXRhdGlvbkJhdGNoKHUsaCkpKS5uZXh0KCgpPT5jLm11dGF0aW9uUXVldWUucGVyZm9ybUNvbnNpc3RlbmN5Q2hlY2sodSkpLm5leHQoKCk9PmMuZG9jdW1lbnRPdmVybGF5Q2FjaGUucmVtb3ZlT3ZlcmxheXNGb3JCYXRjaElkKHUsbCxhKSkubmV4dCgoKT0+Yy5sb2NhbERvY3VtZW50cy5yZWNhbGN1bGF0ZUFuZFNhdmVPdmVybGF5c0ZvckRvY3VtZW50S2V5cyh1LGwpKS5uZXh0KCgpPT5jLmxvY2FsRG9jdW1lbnRzLmdldERvY3VtZW50cyh1LGwpKX0pfShyLmxvY2FsU3RvcmUsZSk7dUEocixlLG4pLGNBKHIsZSksci5zaGFyZWRDbGllbnRTdGF0ZS51cGRhdGVNdXRhdGlvblN0YXRlKGUsInJlamVjdGVkIixuKSx5aWVsZCBwYShyLGkpfWNhdGNoKGkpe3lpZWxkIHVhKGkpfX0pfWZ1bmN0aW9uIGNBKHQsZSl7KHQuQ2EuZ2V0KGUpfHxbXSkuZm9yRWFjaChuPT57bi5yZXNvbHZlKCl9KSx0LkNhLmRlbGV0ZShlKX1mdW5jdGlvbiB1QSh0LGUsbil7Y29uc3Qgcj1uZSh0KTtsZXQgaT1yLkRhW3IuY3VycmVudFVzZXIudG9LZXkoKV07aWYoaSl7Y29uc3Qgcz1pLmdldChlKTtzJiYobj9zLnJlamVjdChuKTpzLnJlc29sdmUoKSxpPWkucmVtb3ZlKGUpKSxyLkRhW3IuY3VycmVudFVzZXIudG9LZXkoKV09aX19ZnVuY3Rpb24gVmQodCxlLG49bnVsbCl7dC5zaGFyZWRDbGllbnRTdGF0ZS5yZW1vdmVMb2NhbFF1ZXJ5VGFyZ2V0KGUpO2Zvcihjb25zdCByIG9mIHQucGEuZ2V0KGUpKXQuZ2EuZGVsZXRlKHIpLG4mJnQuZmEueGEocixuKTt0LnBhLmRlbGV0ZShlKSx0LmlzUHJpbWFyeUNsaWVudCYmdC5iYS5WcihlKS5mb3JFYWNoKHI9Pnt0LmJhLmNvbnRhaW5zS2V5KHIpfHxsQSh0LHIpfSl9ZnVuY3Rpb24gbEEodCxlKXt0LnlhLmRlbGV0ZShlLnBhdGguY2Fub25pY2FsU3RyaW5nKCkpO2NvbnN0IG49dC53YS5nZXQoZSk7biE9PW51bGwmJihKQyh0LnJlbW90ZVN0b3JlLG4pLHQud2E9dC53YS5yZW1vdmUoZSksdC5TYS5kZWxldGUobiksdmcodCkpfWZ1bmN0aW9uIEV2KHQsZSxuKXtmb3IoY29uc3QgciBvZiBuKXIgaW5zdGFuY2VvZiBzQT8odC5iYS5hZGRSZWZlcmVuY2Uoci5rZXksZSksYzQodCxyKSk6ciBpbnN0YW5jZW9mIG9BPyhQKCJTeW5jRW5naW5lIiwiRG9jdW1lbnQgbm8gbG9uZ2VyIGluIGxpbWJvOiAiK3Iua2V5KSx0LmJhLnJlbW92ZVJlZmVyZW5jZShyLmtleSxlKSx0LmJhLmNvbnRhaW5zS2V5KHIua2V5KXx8bEEodCxyLmtleSkpOnooKX1mdW5jdGlvbiBjNCh0LGUpe2NvbnN0IG49ZS5rZXkscj1uLnBhdGguY2Fub25pY2FsU3RyaW5nKCk7dC53YS5nZXQobil8fHQueWEuaGFzKHIpfHwoUCgiU3luY0VuZ2luZSIsIk5ldyBkb2N1bWVudCBpbiBsaW1ibzogIituKSx0LnlhLmFkZChyKSx2Zyh0KSl9ZnVuY3Rpb24gdmcodCl7Zm9yKDt0LnlhLnNpemU+MCYmdC53YS5zaXplPHQubWF4Q29uY3VycmVudExpbWJvUmVzb2x1dGlvbnM7KXtjb25zdCBlPXQueWEudmFsdWVzKCkubmV4dCgpLnZhbHVlO3QueWEuZGVsZXRlKGUpO2NvbnN0IG49bmV3IGooYmUuZnJvbVN0cmluZyhlKSkscj10LnZhLm5leHQoKTt0LlNhLnNldChyLG5ldyBKQihuKSksdC53YT10LndhLmluc2VydChuLHIpLFlDKHQucmVtb3RlU3RvcmUsbmV3IGVyKGRuKGlnKG4ucGF0aCkpLHIsIlRhcmdldFB1cnBvc2VMaW1ib1Jlc29sdXRpb24iLHBDLl9lKSl9fWZ1bmN0aW9uIHBhKHQsZSxuKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3Qgcj1uZSh0KSxpPVtdLHM9W10sbz1bXTtyLmdhLmlzRW1wdHkoKXx8KHIuZ2EuZm9yRWFjaCgoYSxjKT0+e28ucHVzaChyLk1hKGMsZSxuKS50aGVuKHU9PntpZigodXx8bikmJnIuaXNQcmltYXJ5Q2xpZW50JiZyLnNoYXJlZENsaWVudFN0YXRlLnVwZGF0ZVF1ZXJ5U3RhdGUoYy50YXJnZXRJZCx1Py5mcm9tQ2FjaGU/Im5vdC1jdXJyZW50IjoiY3VycmVudCIpLHUpe2kucHVzaCh1KTtjb25zdCBsPWhnLktpKGMudGFyZ2V0SWQsdSk7cy5wdXNoKGwpfX0pKX0pLHlpZWxkIFByb21pc2UuYWxsKG8pLHIuZmEudV8oaSkseWllbGQgZnVuY3Rpb24oYyx1KXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3QgbD1uZShjKTt0cnl7eWllbGQgbC5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbigibm90aWZ5TG9jYWxWaWV3Q2hhbmdlcyIsInJlYWR3cml0ZSIsaD0+SS5mb3JFYWNoKHUsZD0+SS5mb3JFYWNoKGQucWksZj0+bC5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZS5hZGRSZWZlcmVuY2UoaCxkLnRhcmdldElkLGYpKS5uZXh0KCgpPT5JLmZvckVhY2goZC5RaSxmPT5sLnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlLnJlbW92ZVJlZmVyZW5jZShoLGQudGFyZ2V0SWQsZikpKSkpfWNhdGNoKGgpe2lmKCFsYShoKSl0aHJvdyBoO1AoIkxvY2FsU3RvcmUiLCJGYWlsZWQgdG8gdXBkYXRlIHNlcXVlbmNlIG51bWJlcnM6ICIraCl9Zm9yKGNvbnN0IGggb2YgdSl7Y29uc3QgZD1oLnRhcmdldElkO2lmKCFoLmZyb21DYWNoZSl7Y29uc3QgZj1sLm5zLmdldChkKSxtPWYuc25hcHNob3RWZXJzaW9uLHk9Zi53aXRoTGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbihtKTtsLm5zPWwubnMuaW5zZXJ0KGQseSl9fX0pfShyLmxvY2FsU3RvcmUscykpfSl9ZnVuY3Rpb24gdTQodCxlKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3Qgbj1uZSh0KTtpZighbi5jdXJyZW50VXNlci5pc0VxdWFsKGUpKXtQKCJTeW5jRW5naW5lIiwiVXNlciBjaGFuZ2UuIE5ldyB1c2VyOiIsZS50b0tleSgpKTtjb25zdCByPXlpZWxkIEtDKG4ubG9jYWxTdG9yZSxlKTtuLmN1cnJlbnRVc2VyPWUsZnVuY3Rpb24ocyxvKXtzLkNhLmZvckVhY2goYT0+e2EuZm9yRWFjaChjPT57Yy5yZWplY3QobmV3IGsody5DQU5DRUxMRUQsbykpfSl9KSxzLkNhLmNsZWFyKCl9KG4sIid3YWl0Rm9yUGVuZGluZ1dyaXRlcycgcHJvbWlzZSBpcyByZWplY3RlZCBkdWUgdG8gYSB1c2VyIGNoYW5nZS4iKSxuLnNoYXJlZENsaWVudFN0YXRlLmhhbmRsZVVzZXJDaGFuZ2UoZSxyLnJlbW92ZWRCYXRjaElkcyxyLmFkZGVkQmF0Y2hJZHMpLHlpZWxkIHBhKG4sci51cyl9fSl9ZnVuY3Rpb24gbDQodCxlKXtjb25zdCBuPW5lKHQpLHI9bi5TYS5nZXQoZSk7aWYociYmci5tYSlyZXR1cm4gaGUoKS5hZGQoci5rZXkpO3tsZXQgaT1oZSgpO2NvbnN0IHM9bi5wYS5nZXQoZSk7aWYoIXMpcmV0dXJuIGk7Zm9yKGNvbnN0IG8gb2Ygcyl7Y29uc3QgYT1uLmdhLmdldChvKTtpPWkudW5pb25XaXRoKGEudmlldy5sYSl9cmV0dXJuIGl9fWZ1bmN0aW9uIGg0KHQpe2NvbnN0IGU9bmUodCk7cmV0dXJuIGUucmVtb3RlU3RvcmUucmVtb3RlU3luY2VyLmFwcGx5UmVtb3RlRXZlbnQ9YUEuYmluZChudWxsLGUpLGUucmVtb3RlU3RvcmUucmVtb3RlU3luY2VyLmdldFJlbW90ZUtleXNGb3JUYXJnZXQ9bDQuYmluZChudWxsLGUpLGUucmVtb3RlU3RvcmUucmVtb3RlU3luY2VyLnJlamVjdExpc3Rlbj1zNC5iaW5kKG51bGwsZSksZS5mYS51Xz1LQi5iaW5kKG51bGwsZS5ldmVudE1hbmFnZXIpLGUuZmEueGE9UUIuYmluZChudWxsLGUuZXZlbnRNYW5hZ2VyKSxlfWZ1bmN0aW9uIGQ0KHQpe2NvbnN0IGU9bmUodCk7cmV0dXJuIGUucmVtb3RlU3RvcmUucmVtb3RlU3luY2VyLmFwcGx5U3VjY2Vzc2Z1bFdyaXRlPW80LmJpbmQobnVsbCxlKSxlLnJlbW90ZVN0b3JlLnJlbW90ZVN5bmNlci5yZWplY3RGYWlsZWRXcml0ZT1hNC5iaW5kKG51bGwsZSksZX1jbGFzcyB3dntjb25zdHJ1Y3Rvcigpe3RoaXMuc3luY2hyb25pemVUYWJzPSExfWluaXRpYWxpemUoZSl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3RoaXMuc2VyaWFsaXplcj1lbChlLmRhdGFiYXNlSW5mby5kYXRhYmFzZUlkKSx0aGlzLnNoYXJlZENsaWVudFN0YXRlPXRoaXMuY3JlYXRlU2hhcmVkQ2xpZW50U3RhdGUoZSksdGhpcy5wZXJzaXN0ZW5jZT10aGlzLmNyZWF0ZVBlcnNpc3RlbmNlKGUpLHlpZWxkIHRoaXMucGVyc2lzdGVuY2Uuc3RhcnQoKSx0aGlzLmxvY2FsU3RvcmU9dGhpcy5jcmVhdGVMb2NhbFN0b3JlKGUpLHRoaXMuZ2NTY2hlZHVsZXI9dGhpcy5jcmVhdGVHYXJiYWdlQ29sbGVjdGlvblNjaGVkdWxlcihlLHRoaXMubG9jYWxTdG9yZSksdGhpcy5pbmRleEJhY2tmaWxsZXJTY2hlZHVsZXI9dGhpcy5jcmVhdGVJbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIoZSx0aGlzLmxvY2FsU3RvcmUpfSl9Y3JlYXRlR2FyYmFnZUNvbGxlY3Rpb25TY2hlZHVsZXIoZSxuKXtyZXR1cm4gbnVsbH1jcmVhdGVJbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIoZSxuKXtyZXR1cm4gbnVsbH1jcmVhdGVMb2NhbFN0b3JlKGUpe3JldHVybiB5Qih0aGlzLnBlcnNpc3RlbmNlLG5ldyBnQixlLmluaXRpYWxVc2VyLHRoaXMuc2VyaWFsaXplcil9Y3JlYXRlUGVyc2lzdGVuY2UoZSl7cmV0dXJuIG5ldyBkQihsZy5Icix0aGlzLnNlcmlhbGl6ZXIpfWNyZWF0ZVNoYXJlZENsaWVudFN0YXRlKGUpe3JldHVybiBuZXcgU0J9dGVybWluYXRlKCl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciBlLG47KGU9dGhpcy5nY1NjaGVkdWxlcik9PT1udWxsfHxlPT09dm9pZCAwfHxlLnN0b3AoKSwobj10aGlzLmluZGV4QmFja2ZpbGxlclNjaGVkdWxlcik9PT1udWxsfHxuPT09dm9pZCAwfHxuLnN0b3AoKSx0aGlzLnNoYXJlZENsaWVudFN0YXRlLnNodXRkb3duKCkseWllbGQgdGhpcy5wZXJzaXN0ZW5jZS5zaHV0ZG93bigpfSl9fWNsYXNzIGY0e2luaXRpYWxpemUoZSxuKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dGhpcy5sb2NhbFN0b3JlfHwodGhpcy5sb2NhbFN0b3JlPWUubG9jYWxTdG9yZSx0aGlzLnNoYXJlZENsaWVudFN0YXRlPWUuc2hhcmVkQ2xpZW50U3RhdGUsdGhpcy5kYXRhc3RvcmU9dGhpcy5jcmVhdGVEYXRhc3RvcmUobiksdGhpcy5yZW1vdGVTdG9yZT10aGlzLmNyZWF0ZVJlbW90ZVN0b3JlKG4pLHRoaXMuZXZlbnRNYW5hZ2VyPXRoaXMuY3JlYXRlRXZlbnRNYW5hZ2VyKG4pLHRoaXMuc3luY0VuZ2luZT10aGlzLmNyZWF0ZVN5bmNFbmdpbmUobiwhZS5zeW5jaHJvbml6ZVRhYnMpLHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUub25saW5lU3RhdGVIYW5kbGVyPXI9Pl92KHRoaXMuc3luY0VuZ2luZSxyLDEpLHRoaXMucmVtb3RlU3RvcmUucmVtb3RlU3luY2VyLmhhbmRsZUNyZWRlbnRpYWxDaGFuZ2U9dTQuYmluZChudWxsLHRoaXMuc3luY0VuZ2luZSkseWllbGQgSEIodGhpcy5yZW1vdGVTdG9yZSx0aGlzLnN5bmNFbmdpbmUuaXNQcmltYXJ5Q2xpZW50KSl9KX1jcmVhdGVFdmVudE1hbmFnZXIoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB6Qn0oKX1jcmVhdGVEYXRhc3RvcmUoZSl7Y29uc3Qgbj1lbChlLmRhdGFiYXNlSW5mby5kYXRhYmFzZUlkKSxyPWZ1bmN0aW9uKHMpe3JldHVybiBuZXcgYkIocyl9KGUuZGF0YWJhc2VJbmZvKTtyZXR1cm4gZnVuY3Rpb24ocyxvLGEsYyl7cmV0dXJuIG5ldyBNQihzLG8sYSxjKX0oZS5hdXRoQ3JlZGVudGlhbHMsZS5hcHBDaGVja0NyZWRlbnRpYWxzLHIsbil9Y3JlYXRlUmVtb3RlU3RvcmUoZSl7cmV0dXJuIGZ1bmN0aW9uKHIsaSxzLG8sYSl7cmV0dXJuIG5ldyBrQihyLGkscyxvLGEpfSh0aGlzLmxvY2FsU3RvcmUsdGhpcy5kYXRhc3RvcmUsZS5hc3luY1F1ZXVlLG49Pl92KHRoaXMuc3luY0VuZ2luZSxuLDApLGZ1bmN0aW9uKCl7cmV0dXJuIG12LkQoKT9uZXcgbXY6bmV3IENCfSgpKX1jcmVhdGVTeW5jRW5naW5lKGUsbil7cmV0dXJuIGZ1bmN0aW9uKGkscyxvLGEsYyx1LGwpe2NvbnN0IGg9bmV3IGU0KGkscyxvLGEsYyx1KTtyZXR1cm4gbCYmKGguRmE9ITApLGh9KHRoaXMubG9jYWxTdG9yZSx0aGlzLnJlbW90ZVN0b3JlLHRoaXMuZXZlbnRNYW5hZ2VyLHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUsZS5pbml0aWFsVXNlcixlLm1heENvbmN1cnJlbnRMaW1ib1Jlc29sdXRpb25zLG4pfXRlcm1pbmF0ZSgpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgZTt5aWVsZCBmdW5jdGlvbihyKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3QgaT1uZShyKTtQKCJSZW1vdGVTdG9yZSIsIlJlbW90ZVN0b3JlIHNodXR0aW5nIGRvd24uIiksaS52Xy5hZGQoNSkseWllbGQgZmEoaSksaS5NXy5zaHV0ZG93bigpLGkueF8uc2V0KCJVbmtub3duIil9KX0odGhpcy5yZW1vdGVTdG9yZSksKGU9dGhpcy5kYXRhc3RvcmUpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS50ZXJtaW5hdGUoKX0pfX1jbGFzcyBwNHtjb25zdHJ1Y3RvcihlKXt0aGlzLm9ic2VydmVyPWUsdGhpcy5tdXRlZD0hMX1uZXh0KGUpe3RoaXMub2JzZXJ2ZXIubmV4dCYmdGhpcy5CYSh0aGlzLm9ic2VydmVyLm5leHQsZSl9ZXJyb3IoZSl7dGhpcy5vYnNlcnZlci5lcnJvcj90aGlzLkJhKHRoaXMub2JzZXJ2ZXIuZXJyb3IsZSk6eW4oIlVuY2F1Z2h0IEVycm9yIGluIHNuYXBzaG90IGxpc3RlbmVyOiIsZS50b1N0cmluZygpKX1MYSgpe3RoaXMubXV0ZWQ9ITB9QmEoZSxuKXt0aGlzLm11dGVkfHxzZXRUaW1lb3V0KCgpPT57dGhpcy5tdXRlZHx8ZShuKX0sMCl9fWNsYXNzIGc0e2NvbnN0cnVjdG9yKGUsbixyLGkpe3RoaXMuYXV0aENyZWRlbnRpYWxzPWUsdGhpcy5hcHBDaGVja0NyZWRlbnRpYWxzPW4sdGhpcy5hc3luY1F1ZXVlPXIsdGhpcy5kYXRhYmFzZUluZm89aSx0aGlzLnVzZXI9bHQuVU5BVVRIRU5USUNBVEVELHRoaXMuY2xpZW50SWQ9ZkMubmV3SWQoKSx0aGlzLmF1dGhDcmVkZW50aWFsTGlzdGVuZXI9KCk9PlByb21pc2UucmVzb2x2ZSgpLHRoaXMuYXBwQ2hlY2tDcmVkZW50aWFsTGlzdGVuZXI9KCk9PlByb21pc2UucmVzb2x2ZSgpLHRoaXMuYXV0aENyZWRlbnRpYWxzLnN0YXJ0KHIscz0+Zyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7UCgiRmlyZXN0b3JlQ2xpZW50IiwiUmVjZWl2ZWQgdXNlcj0iLHMudWlkKSx5aWVsZCB0aGlzLmF1dGhDcmVkZW50aWFsTGlzdGVuZXIocyksdGhpcy51c2VyPXN9KSksdGhpcy5hcHBDaGVja0NyZWRlbnRpYWxzLnN0YXJ0KHIscz0+KFAoIkZpcmVzdG9yZUNsaWVudCIsIlJlY2VpdmVkIG5ldyBhcHAgY2hlY2sgdG9rZW49IixzKSx0aGlzLmFwcENoZWNrQ3JlZGVudGlhbExpc3RlbmVyKHMsdGhpcy51c2VyKSkpfWdldCBjb25maWd1cmF0aW9uKCl7cmV0dXJue2FzeW5jUXVldWU6dGhpcy5hc3luY1F1ZXVlLGRhdGFiYXNlSW5mbzp0aGlzLmRhdGFiYXNlSW5mbyxjbGllbnRJZDp0aGlzLmNsaWVudElkLGF1dGhDcmVkZW50aWFsczp0aGlzLmF1dGhDcmVkZW50aWFscyxhcHBDaGVja0NyZWRlbnRpYWxzOnRoaXMuYXBwQ2hlY2tDcmVkZW50aWFscyxpbml0aWFsVXNlcjp0aGlzLnVzZXIsbWF4Q29uY3VycmVudExpbWJvUmVzb2x1dGlvbnM6MTAwfX1zZXRDcmVkZW50aWFsQ2hhbmdlTGlzdGVuZXIoZSl7dGhpcy5hdXRoQ3JlZGVudGlhbExpc3RlbmVyPWV9c2V0QXBwQ2hlY2tUb2tlbkNoYW5nZUxpc3RlbmVyKGUpe3RoaXMuYXBwQ2hlY2tDcmVkZW50aWFsTGlzdGVuZXI9ZX12ZXJpZnlOb3RUZXJtaW5hdGVkKCl7aWYodGhpcy5hc3luY1F1ZXVlLmlzU2h1dHRpbmdEb3duKXRocm93IG5ldyBrKHcuRkFJTEVEX1BSRUNPTkRJVElPTiwiVGhlIGNsaWVudCBoYXMgYWxyZWFkeSBiZWVuIHRlcm1pbmF0ZWQuIil9dGVybWluYXRlKCl7dGhpcy5hc3luY1F1ZXVlLmVudGVyUmVzdHJpY3RlZE1vZGUoKTtjb25zdCBlPW5ldyBvcjtyZXR1cm4gdGhpcy5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXRFdmVuV2hpbGVSZXN0cmljdGVkKCgpPT5nKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0cnl7dGhpcy5fb25saW5lQ29tcG9uZW50cyYmKHlpZWxkIHRoaXMuX29ubGluZUNvbXBvbmVudHMudGVybWluYXRlKCkpLHRoaXMuX29mZmxpbmVDb21wb25lbnRzJiYoeWllbGQgdGhpcy5fb2ZmbGluZUNvbXBvbmVudHMudGVybWluYXRlKCkpLHRoaXMuYXV0aENyZWRlbnRpYWxzLnNodXRkb3duKCksdGhpcy5hcHBDaGVja0NyZWRlbnRpYWxzLnNodXRkb3duKCksZS5yZXNvbHZlKCl9Y2F0Y2gobil7Y29uc3Qgcj1tZyhuLCJGYWlsZWQgdG8gc2h1dGRvd24gcGVyc2lzdGVuY2UiKTtlLnJlamVjdChyKX19KSksZS5wcm9taXNlfX1mdW5jdGlvbiBvaCh0LGUpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0LmFzeW5jUXVldWUudmVyaWZ5T3BlcmF0aW9uSW5Qcm9ncmVzcygpLFAoIkZpcmVzdG9yZUNsaWVudCIsIkluaXRpYWxpemluZyBPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIiKTtjb25zdCBuPXQuY29uZmlndXJhdGlvbjt5aWVsZCBlLmluaXRpYWxpemUobik7bGV0IHI9bi5pbml0aWFsVXNlcjt0LnNldENyZWRlbnRpYWxDaGFuZ2VMaXN0ZW5lcihpPT5nKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyLmlzRXF1YWwoaSl8fCh5aWVsZCBLQyhlLmxvY2FsU3RvcmUsaSkscj1pKX0pKSxlLnBlcnNpc3RlbmNlLnNldERhdGFiYXNlRGVsZXRlZExpc3RlbmVyKCgpPT50LnRlcm1pbmF0ZSgpKSx0Ll9vZmZsaW5lQ29tcG9uZW50cz1lfSl9ZnVuY3Rpb24gSXYodCxlKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dC5hc3luY1F1ZXVlLnZlcmlmeU9wZXJhdGlvbkluUHJvZ3Jlc3MoKTtjb25zdCBuPXlpZWxkIHk0KHQpO1AoIkZpcmVzdG9yZUNsaWVudCIsIkluaXRpYWxpemluZyBPbmxpbmVDb21wb25lbnRQcm92aWRlciIpLHlpZWxkIGUuaW5pdGlhbGl6ZShuLHQuY29uZmlndXJhdGlvbiksdC5zZXRDcmVkZW50aWFsQ2hhbmdlTGlzdGVuZXIocj0+eXYoZS5yZW1vdGVTdG9yZSxyKSksdC5zZXRBcHBDaGVja1Rva2VuQ2hhbmdlTGlzdGVuZXIoKHIsaSk9Pnl2KGUucmVtb3RlU3RvcmUsaSkpLHQuX29ubGluZUNvbXBvbmVudHM9ZX0pfWZ1bmN0aW9uIG00KHQpe3JldHVybiB0Lm5hbWU9PT0iRmlyZWJhc2VFcnJvciI/dC5jb2RlPT09dy5GQUlMRURfUFJFQ09ORElUSU9OfHx0LmNvZGU9PT13LlVOSU1QTEVNRU5URUQ6ISh0eXBlb2YgRE9NRXhjZXB0aW9uPCJ1IiYmdCBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbil8fHQuY29kZT09PTIyfHx0LmNvZGU9PT0yMHx8dC5jb2RlPT09MTF9ZnVuY3Rpb24geTQodCl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKCF0Ll9vZmZsaW5lQ29tcG9uZW50cylpZih0Ll91bmluaXRpYWxpemVkQ29tcG9uZW50c1Byb3ZpZGVyKXtQKCJGaXJlc3RvcmVDbGllbnQiLCJVc2luZyB1c2VyIHByb3ZpZGVkIE9mZmxpbmVDb21wb25lbnRQcm92aWRlciIpO3RyeXt5aWVsZCBvaCh0LHQuX3VuaW5pdGlhbGl6ZWRDb21wb25lbnRzUHJvdmlkZXIuX29mZmxpbmUpfWNhdGNoKGUpe2NvbnN0IG49ZTtpZighbTQobikpdGhyb3cgbjtHaSgiRXJyb3IgdXNpbmcgdXNlciBwcm92aWRlZCBjYWNoZS4gRmFsbGluZyBiYWNrIHRvIG1lbW9yeSBjYWNoZTogIituKSx5aWVsZCBvaCh0LG5ldyB3dil9fWVsc2UgUCgiRmlyZXN0b3JlQ2xpZW50IiwiVXNpbmcgZGVmYXVsdCBPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIiKSx5aWVsZCBvaCh0LG5ldyB3dik7cmV0dXJuIHQuX29mZmxpbmVDb21wb25lbnRzfSl9ZnVuY3Rpb24gaEEodCl7cmV0dXJuIGcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3JldHVybiB0Ll9vbmxpbmVDb21wb25lbnRzfHwodC5fdW5pbml0aWFsaXplZENvbXBvbmVudHNQcm92aWRlcj8oUCgiRmlyZXN0b3JlQ2xpZW50IiwiVXNpbmcgdXNlciBwcm92aWRlZCBPbmxpbmVDb21wb25lbnRQcm92aWRlciIpLHlpZWxkIEl2KHQsdC5fdW5pbml0aWFsaXplZENvbXBvbmVudHNQcm92aWRlci5fb25saW5lKSk6KFAoIkZpcmVzdG9yZUNsaWVudCIsIlVzaW5nIGRlZmF1bHQgT25saW5lQ29tcG9uZW50UHJvdmlkZXIiKSx5aWVsZCBJdih0LG5ldyBmNCkpKSx0Ll9vbmxpbmVDb21wb25lbnRzfSl9ZnVuY3Rpb24gdjQodCl7cmV0dXJuIGhBKHQpLnRoZW4oZT0+ZS5zeW5jRW5naW5lKX1mdW5jdGlvbiBUdih0KXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3QgZT15aWVsZCBoQSh0KSxuPWUuZXZlbnRNYW5hZ2VyO3JldHVybiBuLm9uTGlzdGVuPXQ0LmJpbmQobnVsbCxlLnN5bmNFbmdpbmUpLG4ub25Vbmxpc3Rlbj1yNC5iaW5kKG51bGwsZS5zeW5jRW5naW5lKSxufSl9ZnVuY3Rpb24gZEEodCl7Y29uc3QgZT17fTtyZXR1cm4gdC50aW1lb3V0U2Vjb25kcyE9PXZvaWQgMCYmKGUudGltZW91dFNlY29uZHM9dC50aW1lb3V0U2Vjb25kcyksZX1jb25zdCBTdj1uZXcgTWFwO2Z1bmN0aW9uIGZBKHQsZSxuKXtpZighbil0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsYEZ1bmN0aW9uICR7dH0oKSBjYW5ub3QgYmUgY2FsbGVkIHdpdGggYW4gZW1wdHkgJHtlfS5gKX1mdW5jdGlvbiBfNCh0LGUsbixyKXtpZihlPT09ITAmJnI9PT0hMCl0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsYCR7dH0gYW5kICR7bn0gY2Fubm90IGJlIHVzZWQgdG9nZXRoZXIuYCl9ZnVuY3Rpb24gQ3YodCl7aWYoIWouaXNEb2N1bWVudEtleSh0KSl0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsYEludmFsaWQgZG9jdW1lbnQgcmVmZXJlbmNlLiBEb2N1bWVudCByZWZlcmVuY2VzIG11c3QgaGF2ZSBhbiBldmVuIG51bWJlciBvZiBzZWdtZW50cywgYnV0ICR7dH0gaGFzICR7dC5sZW5ndGh9LmApfWZ1bmN0aW9uIEF2KHQpe2lmKGouaXNEb2N1bWVudEtleSh0KSl0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsYEludmFsaWQgY29sbGVjdGlvbiByZWZlcmVuY2UuIENvbGxlY3Rpb24gcmVmZXJlbmNlcyBtdXN0IGhhdmUgYW4gb2RkIG51bWJlciBvZiBzZWdtZW50cywgYnV0ICR7dH0gaGFzICR7dC5sZW5ndGh9LmApfWZ1bmN0aW9uIHJsKHQpe2lmKHQ9PT12b2lkIDApcmV0dXJuInVuZGVmaW5lZCI7aWYodD09PW51bGwpcmV0dXJuIm51bGwiO2lmKHR5cGVvZiB0PT0ic3RyaW5nIilyZXR1cm4gdC5sZW5ndGg+MjAmJih0PWAke3Quc3Vic3RyaW5nKDAsMjApfS4uLmApLEpTT04uc3RyaW5naWZ5KHQpO2lmKHR5cGVvZiB0PT0ibnVtYmVyInx8dHlwZW9mIHQ9PSJib29sZWFuIilyZXR1cm4iIit0O2lmKHR5cGVvZiB0PT0ib2JqZWN0Iil7aWYodCBpbnN0YW5jZW9mIEFycmF5KXJldHVybiJhbiBhcnJheSI7e2NvbnN0IGU9ZnVuY3Rpb24ocil7cmV0dXJuIHIuY29uc3RydWN0b3I/ci5jb25zdHJ1Y3Rvci5uYW1lOm51bGx9KHQpO3JldHVybiBlP2BhIGN1c3RvbSAke2V9IG9iamVjdGA6ImFuIG9iamVjdCJ9fXJldHVybiB0eXBlb2YgdD09ImZ1bmN0aW9uIj8iYSBmdW5jdGlvbiI6eigpfWZ1bmN0aW9uIGFyKHQsZSl7aWYoIl9kZWxlZ2F0ZSJpbiB0JiYodD10Ll9kZWxlZ2F0ZSksISh0IGluc3RhbmNlb2YgZSkpe2lmKGUubmFtZT09PXQuY29uc3RydWN0b3IubmFtZSl0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsIlR5cGUgZG9lcyBub3QgbWF0Y2ggdGhlIGV4cGVjdGVkIGluc3RhbmNlLiBEaWQgeW91IHBhc3MgYSByZWZlcmVuY2UgZnJvbSBhIGRpZmZlcmVudCBGaXJlc3RvcmUgU0RLPyIpO3tjb25zdCBuPXJsKHQpO3Rocm93IG5ldyBrKHcuSU5WQUxJRF9BUkdVTUVOVCxgRXhwZWN0ZWQgdHlwZSAnJHtlLm5hbWV9JywgYnV0IGl0IHdhczogJHtufWApfX1yZXR1cm4gdH1jbGFzcyBSdntjb25zdHJ1Y3RvcihlKXt2YXIgbixyO2lmKGUuaG9zdD09PXZvaWQgMCl7aWYoZS5zc2whPT12b2lkIDApdGhyb3cgbmV3IGsody5JTlZBTElEX0FSR1VNRU5ULCJDYW4ndCBwcm92aWRlIHNzbCBvcHRpb24gaWYgaG9zdCBvcHRpb24gaXMgbm90IHNldCIpO3RoaXMuaG9zdD0iZmlyZXN0b3JlLmdvb2dsZWFwaXMuY29tIix0aGlzLnNzbD0hMH1lbHNlIHRoaXMuaG9zdD1lLmhvc3QsdGhpcy5zc2w9KG49ZS5zc2wpPT09bnVsbHx8bj09PXZvaWQgMHx8bjtpZih0aGlzLmNyZWRlbnRpYWxzPWUuY3JlZGVudGlhbHMsdGhpcy5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzPSEhZS5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzLHRoaXMubG9jYWxDYWNoZT1lLmxvY2FsQ2FjaGUsZS5jYWNoZVNpemVCeXRlcz09PXZvaWQgMCl0aGlzLmNhY2hlU2l6ZUJ5dGVzPTQxOTQzMDQwO2Vsc2V7aWYoZS5jYWNoZVNpemVCeXRlcyE9PS0xJiZlLmNhY2hlU2l6ZUJ5dGVzPDEwNDg1NzYpdGhyb3cgbmV3IGsody5JTlZBTElEX0FSR1VNRU5ULCJjYWNoZVNpemVCeXRlcyBtdXN0IGJlIGF0IGxlYXN0IDEwNDg1NzYiKTt0aGlzLmNhY2hlU2l6ZUJ5dGVzPWUuY2FjaGVTaXplQnl0ZXN9XzQoImV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmciLGUuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZywiZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nIixlLmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZyksdGhpcy5leHBlcmltZW50YWxGb3JjZUxvbmdQb2xsaW5nPSEhZS5leHBlcmltZW50YWxGb3JjZUxvbmdQb2xsaW5nLHRoaXMuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZz90aGlzLmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZz0hMTplLmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZz09PXZvaWQgMD90aGlzLmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZz0hMDp0aGlzLmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZz0hIWUuZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nLHRoaXMuZXhwZXJpbWVudGFsTG9uZ1BvbGxpbmdPcHRpb25zPWRBKChyPWUuZXhwZXJpbWVudGFsTG9uZ1BvbGxpbmdPcHRpb25zKSE9PW51bGwmJnIhPT12b2lkIDA/cjp7fSksZnVuY3Rpb24ocyl7aWYocy50aW1lb3V0U2Vjb25kcyE9PXZvaWQgMCl7aWYoaXNOYU4ocy50aW1lb3V0U2Vjb25kcykpdGhyb3cgbmV3IGsody5JTlZBTElEX0FSR1VNRU5ULGBpbnZhbGlkIGxvbmcgcG9sbGluZyB0aW1lb3V0OiAke3MudGltZW91dFNlY29uZHN9IChtdXN0IG5vdCBiZSBOYU4pYCk7aWYocy50aW1lb3V0U2Vjb25kczw1KXRocm93IG5ldyBrKHcuSU5WQUxJRF9BUkdVTUVOVCxgaW52YWxpZCBsb25nIHBvbGxpbmcgdGltZW91dDogJHtzLnRpbWVvdXRTZWNvbmRzfSAobWluaW11bSBhbGxvd2VkIHZhbHVlIGlzIDUpYCk7aWYocy50aW1lb3V0U2Vjb25kcz4zMCl0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsYGludmFsaWQgbG9uZyBwb2xsaW5nIHRpbWVvdXQ6ICR7cy50aW1lb3V0U2Vjb25kc30gKG1heGltdW0gYWxsb3dlZCB2YWx1ZSBpcyAzMClgKX19KHRoaXMuZXhwZXJpbWVudGFsTG9uZ1BvbGxpbmdPcHRpb25zKSx0aGlzLnVzZUZldGNoU3RyZWFtcz0hIWUudXNlRmV0Y2hTdHJlYW1zfWlzRXF1YWwoZSl7cmV0dXJuIHRoaXMuaG9zdD09PWUuaG9zdCYmdGhpcy5zc2w9PT1lLnNzbCYmdGhpcy5jcmVkZW50aWFscz09PWUuY3JlZGVudGlhbHMmJnRoaXMuY2FjaGVTaXplQnl0ZXM9PT1lLmNhY2hlU2l6ZUJ5dGVzJiZ0aGlzLmV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmc9PT1lLmV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmcmJnRoaXMuZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nPT09ZS5leHBlcmltZW50YWxBdXRvRGV0ZWN0TG9uZ1BvbGxpbmcmJmZ1bmN0aW9uKHIsaSl7cmV0dXJuIHIudGltZW91dFNlY29uZHM9PT1pLnRpbWVvdXRTZWNvbmRzfSh0aGlzLmV4cGVyaW1lbnRhbExvbmdQb2xsaW5nT3B0aW9ucyxlLmV4cGVyaW1lbnRhbExvbmdQb2xsaW5nT3B0aW9ucykmJnRoaXMuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcz09PWUuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcyYmdGhpcy51c2VGZXRjaFN0cmVhbXM9PT1lLnVzZUZldGNoU3RyZWFtc319Y2xhc3MgaWx7Y29uc3RydWN0b3IoZSxuLHIsaSl7dGhpcy5fYXV0aENyZWRlbnRpYWxzPWUsdGhpcy5fYXBwQ2hlY2tDcmVkZW50aWFscz1uLHRoaXMuX2RhdGFiYXNlSWQ9cix0aGlzLl9hcHA9aSx0aGlzLnR5cGU9ImZpcmVzdG9yZS1saXRlIix0aGlzLl9wZXJzaXN0ZW5jZUtleT0iKGxpdGUpIix0aGlzLl9zZXR0aW5ncz1uZXcgUnYoe30pLHRoaXMuX3NldHRpbmdzRnJvemVuPSExfWdldCBhcHAoKXtpZighdGhpcy5fYXBwKXRocm93IG5ldyBrKHcuRkFJTEVEX1BSRUNPTkRJVElPTiwiRmlyZXN0b3JlIHdhcyBub3QgaW5pdGlhbGl6ZWQgdXNpbmcgdGhlIEZpcmViYXNlIFNESy4gJ2FwcCcgaXMgbm90IGF2YWlsYWJsZSIpO3JldHVybiB0aGlzLl9hcHB9Z2V0IF9pbml0aWFsaXplZCgpe3JldHVybiB0aGlzLl9zZXR0aW5nc0Zyb3plbn1nZXQgX3Rlcm1pbmF0ZWQoKXtyZXR1cm4gdGhpcy5fdGVybWluYXRlVGFzayE9PXZvaWQgMH1fc2V0U2V0dGluZ3MoZSl7aWYodGhpcy5fc2V0dGluZ3NGcm96ZW4pdGhyb3cgbmV3IGsody5GQUlMRURfUFJFQ09ORElUSU9OLCJGaXJlc3RvcmUgaGFzIGFscmVhZHkgYmVlbiBzdGFydGVkIGFuZCBpdHMgc2V0dGluZ3MgY2FuIG5vIGxvbmdlciBiZSBjaGFuZ2VkLiBZb3UgY2FuIG9ubHkgbW9kaWZ5IHNldHRpbmdzIGJlZm9yZSBjYWxsaW5nIGFueSBvdGhlciBtZXRob2RzIG9uIGEgRmlyZXN0b3JlIG9iamVjdC4iKTt0aGlzLl9zZXR0aW5ncz1uZXcgUnYoZSksZS5jcmVkZW50aWFscyE9PXZvaWQgMCYmKHRoaXMuX2F1dGhDcmVkZW50aWFscz1mdW5jdGlvbihyKXtpZighcilyZXR1cm4gbmV3IHgyO3N3aXRjaChyLnR5cGUpe2Nhc2UiZmlyc3RQYXJ0eSI6cmV0dXJuIG5ldyBVMihyLnNlc3Npb25JbmRleHx8IjAiLHIuaWFtVG9rZW58fG51bGwsci5hdXRoVG9rZW5GYWN0b3J5fHxudWxsKTtjYXNlInByb3ZpZGVyIjpyZXR1cm4gci5jbGllbnQ7ZGVmYXVsdDp0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsIm1ha2VBdXRoQ3JlZGVudGlhbHNQcm92aWRlciBmYWlsZWQgZHVlIHRvIGludmFsaWQgY3JlZGVudGlhbCB0eXBlIil9fShlLmNyZWRlbnRpYWxzKSl9X2dldFNldHRpbmdzKCl7cmV0dXJuIHRoaXMuX3NldHRpbmdzfV9mcmVlemVTZXR0aW5ncygpe3JldHVybiB0aGlzLl9zZXR0aW5nc0Zyb3plbj0hMCx0aGlzLl9zZXR0aW5nc31fZGVsZXRlKCl7cmV0dXJuIHRoaXMuX3Rlcm1pbmF0ZVRhc2t8fCh0aGlzLl90ZXJtaW5hdGVUYXNrPXRoaXMuX3Rlcm1pbmF0ZSgpKSx0aGlzLl90ZXJtaW5hdGVUYXNrfXRvSlNPTigpe3JldHVybnthcHA6dGhpcy5fYXBwLGRhdGFiYXNlSWQ6dGhpcy5fZGF0YWJhc2VJZCxzZXR0aW5nczp0aGlzLl9zZXR0aW5nc319X3Rlcm1pbmF0ZSgpe3JldHVybiBmdW5jdGlvbihuKXtjb25zdCByPVN2LmdldChuKTtyJiYoUCgiQ29tcG9uZW50UHJvdmlkZXIiLCJSZW1vdmluZyBEYXRhc3RvcmUiKSxTdi5kZWxldGUobiksci50ZXJtaW5hdGUoKSl9KHRoaXMpLFByb21pc2UucmVzb2x2ZSgpfX1mdW5jdGlvbiBFNCh0LGUsbixyPXt9KXt2YXIgaTtjb25zdCBzPSh0PWFyKHQsaWwpKS5fZ2V0U2V0dGluZ3MoKSxvPWAke2V9OiR7bn1gO2lmKHMuaG9zdCE9PSJmaXJlc3RvcmUuZ29vZ2xlYXBpcy5jb20iJiZzLmhvc3QhPT1vJiZHaSgiSG9zdCBoYXMgYmVlbiBzZXQgaW4gYm90aCBzZXR0aW5ncygpIGFuZCBjb25uZWN0RmlyZXN0b3JlRW11bGF0b3IoKSwgZW11bGF0b3IgaG9zdCB3aWxsIGJlIHVzZWQuIiksdC5fc2V0U2V0dGluZ3MoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHMpLHtob3N0Om8sc3NsOiExfSkpLHIubW9ja1VzZXJUb2tlbil7bGV0IGEsYztpZih0eXBlb2Ygci5tb2NrVXNlclRva2VuPT0ic3RyaW5nIilhPXIubW9ja1VzZXJUb2tlbixjPWx0Lk1PQ0tfVVNFUjtlbHNle2E9azEoci5tb2NrVXNlclRva2VuLChpPXQuX2FwcCk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLm9wdGlvbnMucHJvamVjdElkKTtjb25zdCB1PXIubW9ja1VzZXJUb2tlbi5zdWJ8fHIubW9ja1VzZXJUb2tlbi51c2VyX2lkO2lmKCF1KXRocm93IG5ldyBrKHcuSU5WQUxJRF9BUkdVTUVOVCwibW9ja1VzZXJUb2tlbiBtdXN0IGNvbnRhaW4gJ3N1Yicgb3IgJ3VzZXJfaWQnIGZpZWxkISIpO2M9bmV3IGx0KHUpfXQuX2F1dGhDcmVkZW50aWFscz1uZXcgTDIobmV3IGRDKGEsYykpfX1jbGFzcyBzaXtjb25zdHJ1Y3RvcihlLG4scil7dGhpcy5jb252ZXJ0ZXI9bix0aGlzLl9xdWVyeT1yLHRoaXMudHlwZT0icXVlcnkiLHRoaXMuZmlyZXN0b3JlPWV9d2l0aENvbnZlcnRlcihlKXtyZXR1cm4gbmV3IHNpKHRoaXMuZmlyZXN0b3JlLGUsdGhpcy5fcXVlcnkpfX1jbGFzcyBidHtjb25zdHJ1Y3RvcihlLG4scil7dGhpcy5jb252ZXJ0ZXI9bix0aGlzLl9rZXk9cix0aGlzLnR5cGU9ImRvY3VtZW50Iix0aGlzLmZpcmVzdG9yZT1lfWdldCBfcGF0aCgpe3JldHVybiB0aGlzLl9rZXkucGF0aH1nZXQgaWQoKXtyZXR1cm4gdGhpcy5fa2V5LnBhdGgubGFzdFNlZ21lbnQoKX1nZXQgcGF0aCgpe3JldHVybiB0aGlzLl9rZXkucGF0aC5jYW5vbmljYWxTdHJpbmcoKX1nZXQgcGFyZW50KCl7cmV0dXJuIG5ldyBjcih0aGlzLmZpcmVzdG9yZSx0aGlzLmNvbnZlcnRlcix0aGlzLl9rZXkucGF0aC5wb3BMYXN0KCkpfXdpdGhDb252ZXJ0ZXIoZSl7cmV0dXJuIG5ldyBidCh0aGlzLmZpcmVzdG9yZSxlLHRoaXMuX2tleSl9fWNsYXNzIGNyIGV4dGVuZHMgc2l7Y29uc3RydWN0b3IoZSxuLHIpe3N1cGVyKGUsbixpZyhyKSksdGhpcy5fcGF0aD1yLHRoaXMudHlwZT0iY29sbGVjdGlvbiJ9Z2V0IGlkKCl7cmV0dXJuIHRoaXMuX3F1ZXJ5LnBhdGgubGFzdFNlZ21lbnQoKX1nZXQgcGF0aCgpe3JldHVybiB0aGlzLl9xdWVyeS5wYXRoLmNhbm9uaWNhbFN0cmluZygpfWdldCBwYXJlbnQoKXtjb25zdCBlPXRoaXMuX3BhdGgucG9wTGFzdCgpO3JldHVybiBlLmlzRW1wdHkoKT9udWxsOm5ldyBidCh0aGlzLmZpcmVzdG9yZSxudWxsLG5ldyBqKGUpKX13aXRoQ29udmVydGVyKGUpe3JldHVybiBuZXcgY3IodGhpcy5maXJlc3RvcmUsZSx0aGlzLl9wYXRoKX19ZnVuY3Rpb24gdzQodCxlLC4uLm4pe2lmKHQ9b3QodCksZkEoImNvbGxlY3Rpb24iLCJwYXRoIixlKSx0IGluc3RhbmNlb2YgaWwpe2NvbnN0IHI9YmUuZnJvbVN0cmluZyhlLC4uLm4pO3JldHVybiBBdihyKSxuZXcgY3IodCxudWxsLHIpfXtpZighKHQgaW5zdGFuY2VvZiBidHx8dCBpbnN0YW5jZW9mIGNyKSl0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsIkV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGNvbGxlY3Rpb24oKSB0byBiZSBhIENvbGxlY3Rpb25SZWZlcmVuY2UsIGEgRG9jdW1lbnRSZWZlcmVuY2Ugb3IgRmlyZWJhc2VGaXJlc3RvcmUiKTtjb25zdCByPXQuX3BhdGguY2hpbGQoYmUuZnJvbVN0cmluZyhlLC4uLm4pKTtyZXR1cm4gQXYociksbmV3IGNyKHQuZmlyZXN0b3JlLG51bGwscil9fWZ1bmN0aW9uIHBBKHQsZSwuLi5uKXtpZih0PW90KHQpLGFyZ3VtZW50cy5sZW5ndGg9PT0xJiYoZT1mQy5uZXdJZCgpKSxmQSgiZG9jIiwicGF0aCIsZSksdCBpbnN0YW5jZW9mIGlsKXtjb25zdCByPWJlLmZyb21TdHJpbmcoZSwuLi5uKTtyZXR1cm4gQ3YociksbmV3IGJ0KHQsbnVsbCxuZXcgaihyKSl9e2lmKCEodCBpbnN0YW5jZW9mIGJ0fHx0IGluc3RhbmNlb2YgY3IpKXRocm93IG5ldyBrKHcuSU5WQUxJRF9BUkdVTUVOVCwiRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gY29sbGVjdGlvbigpIHRvIGJlIGEgQ29sbGVjdGlvblJlZmVyZW5jZSwgYSBEb2N1bWVudFJlZmVyZW5jZSBvciBGaXJlYmFzZUZpcmVzdG9yZSIpO2NvbnN0IHI9dC5fcGF0aC5jaGlsZChiZS5mcm9tU3RyaW5nKGUsLi4ubikpO3JldHVybiBDdihyKSxuZXcgYnQodC5maXJlc3RvcmUsdCBpbnN0YW5jZW9mIGNyP3QuY29udmVydGVyOm51bGwsbmV3IGoocikpfX1jbGFzcyBJNHtjb25zdHJ1Y3Rvcigpe3RoaXMuWGE9UHJvbWlzZS5yZXNvbHZlKCksdGhpcy5ldT1bXSx0aGlzLnR1PSExLHRoaXMubnU9W10sdGhpcy5ydT1udWxsLHRoaXMuaXU9ITEsdGhpcy5zdT0hMSx0aGlzLm91PVtdLHRoaXMuam89bmV3IFpDKHRoaXMsImFzeW5jX3F1ZXVlX3JldHJ5IiksdGhpcy5fdT0oKT0+e2NvbnN0IG49c2goKTtuJiZQKCJBc3luY1F1ZXVlIiwiVmlzaWJpbGl0eSBzdGF0ZSBjaGFuZ2VkIHRvICIrbi52aXNpYmlsaXR5U3RhdGUpLHRoaXMuam8uS28oKX07Y29uc3QgZT1zaCgpO2UmJnR5cGVvZiBlLmFkZEV2ZW50TGlzdGVuZXI9PSJmdW5jdGlvbiImJmUuYWRkRXZlbnRMaXN0ZW5lcigidmlzaWJpbGl0eWNoYW5nZSIsdGhpcy5fdSl9Z2V0IGlzU2h1dHRpbmdEb3duKCl7cmV0dXJuIHRoaXMudHV9ZW5xdWV1ZUFuZEZvcmdldChlKXt0aGlzLmVucXVldWUoZSl9ZW5xdWV1ZUFuZEZvcmdldEV2ZW5XaGlsZVJlc3RyaWN0ZWQoZSl7dGhpcy5hdSgpLHRoaXMudXUoZSl9ZW50ZXJSZXN0cmljdGVkTW9kZShlKXtpZighdGhpcy50dSl7dGhpcy50dT0hMCx0aGlzLnN1PWV8fCExO2NvbnN0IG49c2goKTtuJiZ0eXBlb2Ygbi5yZW1vdmVFdmVudExpc3RlbmVyPT0iZnVuY3Rpb24iJiZuLnJlbW92ZUV2ZW50TGlzdGVuZXIoInZpc2liaWxpdHljaGFuZ2UiLHRoaXMuX3UpfX1lbnF1ZXVlKGUpe2lmKHRoaXMuYXUoKSx0aGlzLnR1KXJldHVybiBuZXcgUHJvbWlzZSgoKT0+e30pO2NvbnN0IG49bmV3IG9yO3JldHVybiB0aGlzLnV1KCgpPT50aGlzLnR1JiZ0aGlzLnN1P1Byb21pc2UucmVzb2x2ZSgpOihlKCkudGhlbihuLnJlc29sdmUsbi5yZWplY3QpLG4ucHJvbWlzZSkpLnRoZW4oKCk9Pm4ucHJvbWlzZSl9ZW5xdWV1ZVJldHJ5YWJsZShlKXt0aGlzLmVucXVldWVBbmRGb3JnZXQoKCk9Pih0aGlzLmV1LnB1c2goZSksdGhpcy5jdSgpKSl9Y3UoKXtyZXR1cm4gZyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7aWYodGhpcy5ldS5sZW5ndGghPT0wKXt0cnl7eWllbGQgdGhpcy5ldVswXSgpLHRoaXMuZXUuc2hpZnQoKSx0aGlzLmpvLnJlc2V0KCl9Y2F0Y2goZSl7aWYoIWxhKGUpKXRocm93IGU7UCgiQXN5bmNRdWV1ZSIsIk9wZXJhdGlvbiBmYWlsZWQgd2l0aCByZXRyeWFibGUgZXJyb3I6ICIrZSl9dGhpcy5ldS5sZW5ndGg+MCYmdGhpcy5qby5xbygoKT0+dGhpcy5jdSgpKX19KX11dShlKXtjb25zdCBuPXRoaXMuWGEudGhlbigoKT0+KHRoaXMuaXU9ITAsZSgpLmNhdGNoKHI9Pnt0aGlzLnJ1PXIsdGhpcy5pdT0hMTtjb25zdCBpPWZ1bmN0aW9uKG8pe2xldCBhPW8ubWVzc2FnZXx8IiI7cmV0dXJuIG8uc3RhY2smJihhPW8uc3RhY2suaW5jbHVkZXMoby5tZXNzYWdlKT9vLnN0YWNrOm8ubWVzc2FnZStgCmArby5zdGFjayksYX0ocik7dGhyb3cgeW4oIklOVEVSTkFMIFVOSEFORExFRCBFUlJPUjogIixpKSxyfSkudGhlbihyPT4odGhpcy5pdT0hMSxyKSkpKTtyZXR1cm4gdGhpcy5YYT1uLG59ZW5xdWV1ZUFmdGVyRGVsYXkoZSxuLHIpe3RoaXMuYXUoKSx0aGlzLm91LmluZGV4T2YoZSk+LTEmJihuPTApO2NvbnN0IGk9Z2cuY3JlYXRlQW5kU2NoZWR1bGUodGhpcyxlLG4scixzPT50aGlzLmx1KHMpKTtyZXR1cm4gdGhpcy5udS5wdXNoKGkpLGl9YXUoKXt0aGlzLnJ1JiZ6KCl9dmVyaWZ5T3BlcmF0aW9uSW5Qcm9ncmVzcygpe31odSgpe3JldHVybiBnKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgZTtkbyBlPXRoaXMuWGEseWllbGQgZTt3aGlsZShlIT09dGhpcy5YYSl9KX1QdShlKXtmb3IoY29uc3QgbiBvZiB0aGlzLm51KWlmKG4udGltZXJJZD09PWUpcmV0dXJuITA7cmV0dXJuITF9SXUoZSl7cmV0dXJuIHRoaXMuaHUoKS50aGVuKCgpPT57dGhpcy5udS5zb3J0KChuLHIpPT5uLnRhcmdldFRpbWVNcy1yLnRhcmdldFRpbWVNcyk7Zm9yKGNvbnN0IG4gb2YgdGhpcy5udSlpZihuLnNraXBEZWxheSgpLGUhPT0iYWxsIiYmbi50aW1lcklkPT09ZSlicmVhaztyZXR1cm4gdGhpcy5odSgpfSl9VHUoZSl7dGhpcy5vdS5wdXNoKGUpfWx1KGUpe2NvbnN0IG49dGhpcy5udS5pbmRleE9mKGUpO3RoaXMubnUuc3BsaWNlKG4sMSl9fWZ1bmN0aW9uIGJ2KHQpe3JldHVybiBmdW5jdGlvbihuLHIpe2lmKHR5cGVvZiBuIT0ib2JqZWN0Inx8bj09PW51bGwpcmV0dXJuITE7Y29uc3QgaT1uO2Zvcihjb25zdCBzIG9mIHIpaWYocyBpbiBpJiZ0eXBlb2YgaVtzXT09ImZ1bmN0aW9uIilyZXR1cm4hMDtyZXR1cm4hMX0odCxbIm5leHQiLCJlcnJvciIsImNvbXBsZXRlIl0pfWxldCBKaT1jbGFzcyBleHRlbmRzIGlse2NvbnN0cnVjdG9yKGUsbixyLGkpe3N1cGVyKGUsbixyLGkpLHRoaXMudHlwZT0iZmlyZXN0b3JlIix0aGlzLl9xdWV1ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgSTR9KCksdGhpcy5fcGVyc2lzdGVuY2VLZXk9aT8ubmFtZXx8IltERUZBVUxUXSJ9X3Rlcm1pbmF0ZSgpe3JldHVybiB0aGlzLl9maXJlc3RvcmVDbGllbnR8fG1BKHRoaXMpLHRoaXMuX2ZpcmVzdG9yZUNsaWVudC50ZXJtaW5hdGUoKX19O2Z1bmN0aW9uIFQ0KHQsZSl7Y29uc3Qgbj10eXBlb2YgdD09Im9iamVjdCI/dDpkcCgpLHI9dHlwZW9mIHQ9PSJzdHJpbmciP3Q6ZXx8IihkZWZhdWx0KSIsaT1ocChuLCJmaXJlc3RvcmUiKS5nZXRJbW1lZGlhdGUoe2lkZW50aWZpZXI6cn0pO2lmKCFpLl9pbml0aWFsaXplZCl7Y29uc3Qgcz1NMSgiZmlyZXN0b3JlIik7cyYmRTQoaSwuLi5zKX1yZXR1cm4gaX1mdW5jdGlvbiBnQSh0KXtyZXR1cm4gdC5fZmlyZXN0b3JlQ2xpZW50fHxtQSh0KSx0Ll9maXJlc3RvcmVDbGllbnQudmVyaWZ5Tm90VGVybWluYXRlZCgpLHQuX2ZpcmVzdG9yZUNsaWVudH1mdW5jdGlvbiBtQSh0KXt2YXIgZSxuLHI7Y29uc3QgaT10Ll9mcmVlemVTZXR0aW5ncygpLHM9ZnVuY3Rpb24oYSxjLHUsbCl7cmV0dXJuIG5ldyBKMihhLGMsdSxsLmhvc3QsbC5zc2wsbC5leHBlcmltZW50YWxGb3JjZUxvbmdQb2xsaW5nLGwuZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nLGRBKGwuZXhwZXJpbWVudGFsTG9uZ1BvbGxpbmdPcHRpb25zKSxsLnVzZUZldGNoU3RyZWFtcyl9KHQuX2RhdGFiYXNlSWQsKChlPXQuX2FwcCk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLm9wdGlvbnMuYXBwSWQpfHwiIix0Ll9wZXJzaXN0ZW5jZUtleSxpKTt0Ll9maXJlc3RvcmVDbGllbnQ9bmV3IGc0KHQuX2F1dGhDcmVkZW50aWFscyx0Ll9hcHBDaGVja0NyZWRlbnRpYWxzLHQuX3F1ZXVlLHMpLCEoKG49aS5sb2NhbENhY2hlKT09PW51bGx8fG49PT12b2lkIDApJiZuLl9vZmZsaW5lQ29tcG9uZW50UHJvdmlkZXImJighKChyPWkubG9jYWxDYWNoZSk9PT1udWxsfHxyPT09dm9pZCAwKSYmci5fb25saW5lQ29tcG9uZW50UHJvdmlkZXIpJiYodC5fZmlyZXN0b3JlQ2xpZW50Ll91bmluaXRpYWxpemVkQ29tcG9uZW50c1Byb3ZpZGVyPXtfb2ZmbGluZUtpbmQ6aS5sb2NhbENhY2hlLmtpbmQsX29mZmxpbmU6aS5sb2NhbENhY2hlLl9vZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIsX29ubGluZTppLmxvY2FsQ2FjaGUuX29ubGluZUNvbXBvbmVudFByb3ZpZGVyfSl9Y2xhc3MgZXN7Y29uc3RydWN0b3IoZSl7dGhpcy5fYnl0ZVN0cmluZz1lfXN0YXRpYyBmcm9tQmFzZTY0U3RyaW5nKGUpe3RyeXtyZXR1cm4gbmV3IGVzKG10LmZyb21CYXNlNjRTdHJpbmcoZSkpfWNhdGNoKG4pe3Rocm93IG5ldyBrKHcuSU5WQUxJRF9BUkdVTUVOVCwiRmFpbGVkIHRvIGNvbnN0cnVjdCBkYXRhIGZyb20gQmFzZTY0IHN0cmluZzogIituKX19c3RhdGljIGZyb21VaW50OEFycmF5KGUpe3JldHVybiBuZXcgZXMobXQuZnJvbVVpbnQ4QXJyYXkoZSkpfXRvQmFzZTY0KCl7cmV0dXJuIHRoaXMuX2J5dGVTdHJpbmcudG9CYXNlNjQoKX10b1VpbnQ4QXJyYXkoKXtyZXR1cm4gdGhpcy5fYnl0ZVN0cmluZy50b1VpbnQ4QXJyYXkoKX10b1N0cmluZygpe3JldHVybiJCeXRlcyhiYXNlNjQ6ICIrdGhpcy50b0Jhc2U2NCgpKyIpIn1pc0VxdWFsKGUpe3JldHVybiB0aGlzLl9ieXRlU3RyaW5nLmlzRXF1YWwoZS5fYnl0ZVN0cmluZyl9fWNsYXNzIHNse2NvbnN0cnVjdG9yKC4uLmUpe2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7KytuKWlmKGVbbl0ubGVuZ3RoPT09MCl0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsIkludmFsaWQgZmllbGQgbmFtZSBhdCBhcmd1bWVudCAkKGkgKyAxKS4gRmllbGQgbmFtZXMgbXVzdCBub3QgYmUgZW1wdHkuIik7dGhpcy5faW50ZXJuYWxQYXRoPW5ldyBudChlKX1pc0VxdWFsKGUpe3JldHVybiB0aGlzLl9pbnRlcm5hbFBhdGguaXNFcXVhbChlLl9pbnRlcm5hbFBhdGgpfX1jbGFzcyBvbHtjb25zdHJ1Y3RvcihlKXt0aGlzLl9tZXRob2ROYW1lPWV9fWNsYXNzIF9ne2NvbnN0cnVjdG9yKGUsbil7aWYoIWlzRmluaXRlKGUpfHxlPC05MHx8ZT45MCl0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsIkxhdGl0dWRlIG11c3QgYmUgYSBudW1iZXIgYmV0d2VlbiAtOTAgYW5kIDkwLCBidXQgd2FzOiAiK2UpO2lmKCFpc0Zpbml0ZShuKXx8bjwtMTgwfHxuPjE4MCl0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsIkxvbmdpdHVkZSBtdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gLTE4MCBhbmQgMTgwLCBidXQgd2FzOiAiK24pO3RoaXMuX2xhdD1lLHRoaXMuX2xvbmc9bn1nZXQgbGF0aXR1ZGUoKXtyZXR1cm4gdGhpcy5fbGF0fWdldCBsb25naXR1ZGUoKXtyZXR1cm4gdGhpcy5fbG9uZ31pc0VxdWFsKGUpe3JldHVybiB0aGlzLl9sYXQ9PT1lLl9sYXQmJnRoaXMuX2xvbmc9PT1lLl9sb25nfXRvSlNPTigpe3JldHVybntsYXRpdHVkZTp0aGlzLl9sYXQsbG9uZ2l0dWRlOnRoaXMuX2xvbmd9fV9jb21wYXJlVG8oZSl7cmV0dXJuIF9lKHRoaXMuX2xhdCxlLl9sYXQpfHxfZSh0aGlzLl9sb25nLGUuX2xvbmcpfX1jb25zdCBTND0vXl9fLipfXyQvO2NsYXNzIEM0e2NvbnN0cnVjdG9yKGUsbixyKXt0aGlzLmRhdGE9ZSx0aGlzLmZpZWxkTWFzaz1uLHRoaXMuZmllbGRUcmFuc2Zvcm1zPXJ9dG9NdXRhdGlvbihlLG4pe3JldHVybiB0aGlzLmZpZWxkTWFzayE9PW51bGw/bmV3IEVyKGUsdGhpcy5kYXRhLHRoaXMuZmllbGRNYXNrLG4sdGhpcy5maWVsZFRyYW5zZm9ybXMpOm5ldyBoYShlLHRoaXMuZGF0YSxuLHRoaXMuZmllbGRUcmFuc2Zvcm1zKX19Y2xhc3MgeUF7Y29uc3RydWN0b3IoZSxuLHIpe3RoaXMuZGF0YT1lLHRoaXMuZmllbGRNYXNrPW4sdGhpcy5maWVsZFRyYW5zZm9ybXM9cn10b011dGF0aW9uKGUsbil7cmV0dXJuIG5ldyBFcihlLHRoaXMuZGF0YSx0aGlzLmZpZWxkTWFzayxuLHRoaXMuZmllbGRUcmFuc2Zvcm1zKX19ZnVuY3Rpb24gdkEodCl7c3dpdGNoKHQpe2Nhc2UgMDpjYXNlIDI6Y2FzZSAxOnJldHVybiEwO2Nhc2UgMzpjYXNlIDQ6cmV0dXJuITE7ZGVmYXVsdDp0aHJvdyB6KCl9fWNsYXNzIEVne2NvbnN0cnVjdG9yKGUsbixyLGkscyxvKXt0aGlzLnNldHRpbmdzPWUsdGhpcy5kYXRhYmFzZUlkPW4sdGhpcy5zZXJpYWxpemVyPXIsdGhpcy5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzPWkscz09PXZvaWQgMCYmdGhpcy5FdSgpLHRoaXMuZmllbGRUcmFuc2Zvcm1zPXN8fFtdLHRoaXMuZmllbGRNYXNrPW98fFtdfWdldCBwYXRoKCl7cmV0dXJuIHRoaXMuc2V0dGluZ3MucGF0aH1nZXQgZHUoKXtyZXR1cm4gdGhpcy5zZXR0aW5ncy5kdX1BdShlKXtyZXR1cm4gbmV3IEVnKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLnNldHRpbmdzKSxlKSx0aGlzLmRhdGFiYXNlSWQsdGhpcy5zZXJpYWxpemVyLHRoaXMuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcyx0aGlzLmZpZWxkVHJhbnNmb3Jtcyx0aGlzLmZpZWxkTWFzayl9UnUoZSl7dmFyIG47Y29uc3Qgcj0obj10aGlzLnBhdGgpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5jaGlsZChlKSxpPXRoaXMuQXUoe3BhdGg6cixWdTohMX0pO3JldHVybiBpLm11KGUpLGl9ZnUoZSl7dmFyIG47Y29uc3Qgcj0obj10aGlzLnBhdGgpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5jaGlsZChlKSxpPXRoaXMuQXUoe3BhdGg6cixWdTohMX0pO3JldHVybiBpLkV1KCksaX1ndShlKXtyZXR1cm4gdGhpcy5BdSh7cGF0aDp2b2lkIDAsVnU6ITB9KX1wdShlKXtyZXR1cm4gV2MoZSx0aGlzLnNldHRpbmdzLm1ldGhvZE5hbWUsdGhpcy5zZXR0aW5ncy55dXx8ITEsdGhpcy5wYXRoLHRoaXMuc2V0dGluZ3Mud3UpfWNvbnRhaW5zKGUpe3JldHVybiB0aGlzLmZpZWxkTWFzay5maW5kKG49PmUuaXNQcmVmaXhPZihuKSkhPT12b2lkIDB8fHRoaXMuZmllbGRUcmFuc2Zvcm1zLmZpbmQobj0+ZS5pc1ByZWZpeE9mKG4uZmllbGQpKSE9PXZvaWQgMH1FdSgpe2lmKHRoaXMucGF0aClmb3IobGV0IGU9MDtlPHRoaXMucGF0aC5sZW5ndGg7ZSsrKXRoaXMubXUodGhpcy5wYXRoLmdldChlKSl9bXUoZSl7aWYoZS5sZW5ndGg9PT0wKXRocm93IHRoaXMucHUoIkRvY3VtZW50IGZpZWxkcyBtdXN0IG5vdCBiZSBlbXB0eSIpO2lmKHZBKHRoaXMuZHUpJiZTNC50ZXN0KGUpKXRocm93IHRoaXMucHUoJ0RvY3VtZW50IGZpZWxkcyBjYW5ub3QgYmVnaW4gYW5kIGVuZCB3aXRoICJfXyInKX19Y2xhc3MgQTR7Y29uc3RydWN0b3IoZSxuLHIpe3RoaXMuZGF0YWJhc2VJZD1lLHRoaXMuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcz1uLHRoaXMuc2VyaWFsaXplcj1yfHxlbChlKX1TdShlLG4scixpPSExKXtyZXR1cm4gbmV3IEVnKHtkdTplLG1ldGhvZE5hbWU6bix3dTpyLHBhdGg6bnQuZW1wdHlQYXRoKCksVnU6ITEseXU6aX0sdGhpcy5kYXRhYmFzZUlkLHRoaXMuc2VyaWFsaXplcix0aGlzLmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMpfX1mdW5jdGlvbiB3Zyh0KXtjb25zdCBlPXQuX2ZyZWV6ZVNldHRpbmdzKCksbj1lbCh0Ll9kYXRhYmFzZUlkKTtyZXR1cm4gbmV3IEE0KHQuX2RhdGFiYXNlSWQsISFlLmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMsbil9ZnVuY3Rpb24gUjQodCxlLG4scixpLHM9e30pe2NvbnN0IG89dC5TdShzLm1lcmdlfHxzLm1lcmdlRmllbGRzPzI6MCxlLG4saSk7VGcoIkRhdGEgbXVzdCBiZSBhbiBvYmplY3QsIGJ1dCBpdCB3YXM6IixvLHIpO2NvbnN0IGE9X0EocixvKTtsZXQgYyx1O2lmKHMubWVyZ2UpYz1uZXcgRHQoby5maWVsZE1hc2spLHU9by5maWVsZFRyYW5zZm9ybXM7ZWxzZSBpZihzLm1lcmdlRmllbGRzKXtjb25zdCBsPVtdO2Zvcihjb25zdCBoIG9mIHMubWVyZ2VGaWVsZHMpe2NvbnN0IGQ9RmQoZSxoLG4pO2lmKCFvLmNvbnRhaW5zKGQpKXRocm93IG5ldyBrKHcuSU5WQUxJRF9BUkdVTUVOVCxgRmllbGQgJyR7ZH0nIGlzIHNwZWNpZmllZCBpbiB5b3VyIGZpZWxkIG1hc2sgYnV0IG1pc3NpbmcgZnJvbSB5b3VyIGlucHV0IGRhdGEuYCk7d0EobCxkKXx8bC5wdXNoKGQpfWM9bmV3IER0KGwpLHU9by5maWVsZFRyYW5zZm9ybXMuZmlsdGVyKGg9PmMuY292ZXJzKGguZmllbGQpKX1lbHNlIGM9bnVsbCx1PW8uZmllbGRUcmFuc2Zvcm1zO3JldHVybiBuZXcgQzQobmV3IEN0KGEpLGMsdSl9Y2xhc3MgYWwgZXh0ZW5kcyBvbHtfdG9GaWVsZFRyYW5zZm9ybShlKXtpZihlLmR1IT09Mil0aHJvdyBlLmR1PT09MT9lLnB1KGAke3RoaXMuX21ldGhvZE5hbWV9KCkgY2FuIG9ubHkgYXBwZWFyIGF0IHRoZSB0b3AgbGV2ZWwgb2YgeW91ciB1cGRhdGUgZGF0YWApOmUucHUoYCR7dGhpcy5fbWV0aG9kTmFtZX0oKSBjYW5ub3QgYmUgdXNlZCB3aXRoIHNldCgpIHVubGVzcyB5b3UgcGFzcyB7bWVyZ2U6dHJ1ZX1gKTtyZXR1cm4gZS5maWVsZE1hc2sucHVzaChlLnBhdGgpLG51bGx9aXNFcXVhbChlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGFsfX1jbGFzcyBJZyBleHRlbmRzIG9se190b0ZpZWxkVHJhbnNmb3JtKGUpe3JldHVybiBuZXcgVCQoZS5wYXRoLG5ldyBPbyl9aXNFcXVhbChlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIElnfX1mdW5jdGlvbiBiNCh0LGUsbixyKXtjb25zdCBpPXQuU3UoMSxlLG4pO1RnKCJEYXRhIG11c3QgYmUgYW4gb2JqZWN0LCBidXQgaXQgd2FzOiIsaSxyKTtjb25zdCBzPVtdLG89Q3QuZW1wdHkoKTtyaShyLChjLHUpPT57Y29uc3QgbD1TZyhlLGMsbik7dT1vdCh1KTtjb25zdCBoPWkuZnUobCk7aWYodSBpbnN0YW5jZW9mIGFsKXMucHVzaChsKTtlbHNle2NvbnN0IGQ9Z2EodSxoKTtkIT1udWxsJiYocy5wdXNoKGwpLG8uc2V0KGwsZCkpfX0pO2NvbnN0IGE9bmV3IER0KHMpO3JldHVybiBuZXcgeUEobyxhLGkuZmllbGRUcmFuc2Zvcm1zKX1mdW5jdGlvbiBENCh0LGUsbixyLGkscyl7Y29uc3Qgbz10LlN1KDEsZSxuKSxhPVtGZChlLHIsbildLGM9W2ldO2lmKHMubGVuZ3RoJTIhPTApdGhyb3cgbmV3IGsody5JTlZBTElEX0FSR1VNRU5ULGBGdW5jdGlvbiAke2V9KCkgbmVlZHMgdG8gYmUgY2FsbGVkIHdpdGggYW4gZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzIHRoYXQgYWx0ZXJuYXRlIGJldHdlZW4gZmllbGQgbmFtZXMgYW5kIHZhbHVlcy5gKTtmb3IobGV0IGQ9MDtkPHMubGVuZ3RoO2QrPTIpYS5wdXNoKEZkKGUsc1tkXSkpLGMucHVzaChzW2QrMV0pO2NvbnN0IHU9W10sbD1DdC5lbXB0eSgpO2ZvcihsZXQgZD1hLmxlbmd0aC0xO2Q+PTA7LS1kKWlmKCF3QSh1LGFbZF0pKXtjb25zdCBmPWFbZF07bGV0IG09Y1tkXTttPW90KG0pO2NvbnN0IHk9by5mdShmKTtpZihtIGluc3RhbmNlb2YgYWwpdS5wdXNoKGYpO2Vsc2V7Y29uc3QgXz1nYShtLHkpO18hPW51bGwmJih1LnB1c2goZiksbC5zZXQoZixfKSl9fWNvbnN0IGg9bmV3IER0KHUpO3JldHVybiBuZXcgeUEobCxoLG8uZmllbGRUcmFuc2Zvcm1zKX1mdW5jdGlvbiBQNCh0LGUsbixyPSExKXtyZXR1cm4gZ2Eobix0LlN1KHI/NDozLGUpKX1mdW5jdGlvbiBnYSh0LGUpe2lmKEVBKHQ9b3QodCkpKXJldHVybiBUZygiVW5zdXBwb3J0ZWQgZmllbGQgdmFsdWU6IixlLHQpLF9BKHQsZSk7aWYodCBpbnN0YW5jZW9mIG9sKXJldHVybiBmdW5jdGlvbihyLGkpe2lmKCF2QShpLmR1KSl0aHJvdyBpLnB1KGAke3IuX21ldGhvZE5hbWV9KCkgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIHVwZGF0ZSgpIGFuZCBzZXQoKWApO2lmKCFpLnBhdGgpdGhyb3cgaS5wdShgJHtyLl9tZXRob2ROYW1lfSgpIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIGluc2lkZSBhcnJheXNgKTtjb25zdCBzPXIuX3RvRmllbGRUcmFuc2Zvcm0oaSk7cyYmaS5maWVsZFRyYW5zZm9ybXMucHVzaChzKX0odCxlKSxudWxsO2lmKHQ9PT12b2lkIDAmJmUuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcylyZXR1cm4gbnVsbDtpZihlLnBhdGgmJmUuZmllbGRNYXNrLnB1c2goZS5wYXRoKSx0IGluc3RhbmNlb2YgQXJyYXkpe2lmKGUuc2V0dGluZ3MuVnUmJmUuZHUhPT00KXRocm93IGUucHUoIk5lc3RlZCBhcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWQiKTtyZXR1cm4gZnVuY3Rpb24ocixpKXtjb25zdCBzPVtdO2xldCBvPTA7Zm9yKGNvbnN0IGEgb2Ygcil7bGV0IGM9Z2EoYSxpLmd1KG8pKTtjPT1udWxsJiYoYz17bnVsbFZhbHVlOiJOVUxMX1ZBTFVFIn0pLHMucHVzaChjKSxvKyt9cmV0dXJue2FycmF5VmFsdWU6e3ZhbHVlczpzfX19KHQsZSl9cmV0dXJuIGZ1bmN0aW9uKHIsaSl7aWYoKHI9b3QocikpPT09bnVsbClyZXR1cm57bnVsbFZhbHVlOiJOVUxMX1ZBTFVFIn07aWYodHlwZW9mIHI9PSJudW1iZXIiKXJldHVybiBFJChpLnNlcmlhbGl6ZXIscik7aWYodHlwZW9mIHI9PSJib29sZWFuIilyZXR1cm57Ym9vbGVhblZhbHVlOnJ9O2lmKHR5cGVvZiByPT0ic3RyaW5nIilyZXR1cm57c3RyaW5nVmFsdWU6cn07aWYociBpbnN0YW5jZW9mIERhdGUpe2NvbnN0IHM9QmUuZnJvbURhdGUocik7cmV0dXJue3RpbWVzdGFtcFZhbHVlOnFjKGkuc2VyaWFsaXplcixzKX19aWYociBpbnN0YW5jZW9mIEJlKXtjb25zdCBzPW5ldyBCZShyLnNlY29uZHMsMWUzKk1hdGguZmxvb3Ioci5uYW5vc2Vjb25kcy8xZTMpKTtyZXR1cm57dGltZXN0YW1wVmFsdWU6cWMoaS5zZXJpYWxpemVyLHMpfX1pZihyIGluc3RhbmNlb2YgX2cpcmV0dXJue2dlb1BvaW50VmFsdWU6e2xhdGl0dWRlOnIubGF0aXR1ZGUsbG9uZ2l0dWRlOnIubG9uZ2l0dWRlfX07aWYociBpbnN0YW5jZW9mIGVzKXJldHVybntieXRlc1ZhbHVlOiRDKGkuc2VyaWFsaXplcixyLl9ieXRlU3RyaW5nKX07aWYociBpbnN0YW5jZW9mIGJ0KXtjb25zdCBzPWkuZGF0YWJhc2VJZCxvPXIuZmlyZXN0b3JlLl9kYXRhYmFzZUlkO2lmKCFvLmlzRXF1YWwocykpdGhyb3cgaS5wdShgRG9jdW1lbnQgcmVmZXJlbmNlIGlzIGZvciBkYXRhYmFzZSAke28ucHJvamVjdElkfS8ke28uZGF0YWJhc2V9IGJ1dCBzaG91bGQgYmUgZm9yIGRhdGFiYXNlICR7cy5wcm9qZWN0SWR9LyR7cy5kYXRhYmFzZX1gKTtyZXR1cm57cmVmZXJlbmNlVmFsdWU6Y2coci5maXJlc3RvcmUuX2RhdGFiYXNlSWR8fGkuZGF0YWJhc2VJZCxyLl9rZXkucGF0aCl9fXRocm93IGkucHUoYFVuc3VwcG9ydGVkIGZpZWxkIHZhbHVlOiAke3JsKHIpfWApfSh0LGUpfWZ1bmN0aW9uIF9BKHQsZSl7Y29uc3Qgbj17fTtyZXR1cm4gZ0ModCk/ZS5wYXRoJiZlLnBhdGgubGVuZ3RoPjAmJmUuZmllbGRNYXNrLnB1c2goZS5wYXRoKTpyaSh0LChyLGkpPT57Y29uc3Qgcz1nYShpLGUuUnUocikpO3MhPW51bGwmJihuW3JdPXMpfSkse21hcFZhbHVlOntmaWVsZHM6bn19fWZ1bmN0aW9uIEVBKHQpe3JldHVybiEodHlwZW9mIHQhPSJvYmplY3QifHx0PT09bnVsbHx8dCBpbnN0YW5jZW9mIEFycmF5fHx0IGluc3RhbmNlb2YgRGF0ZXx8dCBpbnN0YW5jZW9mIEJlfHx0IGluc3RhbmNlb2YgX2d8fHQgaW5zdGFuY2VvZiBlc3x8dCBpbnN0YW5jZW9mIGJ0fHx0IGluc3RhbmNlb2Ygb2wpfWZ1bmN0aW9uIFRnKHQsZSxuKXtpZighRUEobil8fCFmdW5jdGlvbihpKXtyZXR1cm4gdHlwZW9mIGk9PSJvYmplY3QiJiZpIT09bnVsbCYmKE9iamVjdC5nZXRQcm90b3R5cGVPZihpKT09PU9iamVjdC5wcm90b3R5cGV8fE9iamVjdC5nZXRQcm90b3R5cGVPZihpKT09PW51bGwpfShuKSl7Y29uc3Qgcj1ybChuKTt0aHJvdyByPT09ImFuIG9iamVjdCI/ZS5wdSh0KyIgYSBjdXN0b20gb2JqZWN0Iik6ZS5wdSh0KyIgIityKX19ZnVuY3Rpb24gRmQodCxlLG4pe2lmKChlPW90KGUpKWluc3RhbmNlb2Ygc2wpcmV0dXJuIGUuX2ludGVybmFsUGF0aDtpZih0eXBlb2YgZT09InN0cmluZyIpcmV0dXJuIFNnKHQsZSk7dGhyb3cgV2MoIkZpZWxkIHBhdGggYXJndW1lbnRzIG11c3QgYmUgb2YgdHlwZSBzdHJpbmcgb3IgIix0LCExLHZvaWQgMCxuKX1jb25zdCBNND1uZXcgUmVnRXhwKCJbflxcKi9cXFtcXF1dIik7ZnVuY3Rpb24gU2codCxlLG4pe2lmKGUuc2VhcmNoKE00KT49MCl0aHJvdyBXYyhgSW52YWxpZCBmaWVsZCBwYXRoICgke2V9KS4gUGF0aHMgbXVzdCBub3QgY29udGFpbiAnficsICcqJywgJy8nLCAnWycsIG9yICddJ2AsdCwhMSx2b2lkIDAsbik7dHJ5e3JldHVybiBuZXcgc2woLi4uZS5zcGxpdCgiLiIpKS5faW50ZXJuYWxQYXRofWNhdGNoe3Rocm93IFdjKGBJbnZhbGlkIGZpZWxkIHBhdGggKCR7ZX0pLiBQYXRocyBtdXN0IG5vdCBiZSBlbXB0eSwgYmVnaW4gd2l0aCAnLicsIGVuZCB3aXRoICcuJywgb3IgY29udGFpbiAnLi4nYCx0LCExLHZvaWQgMCxuKX19ZnVuY3Rpb24gV2ModCxlLG4scixpKXtjb25zdCBzPXImJiFyLmlzRW1wdHkoKSxvPWkhPT12b2lkIDA7bGV0IGE9YEZ1bmN0aW9uICR7ZX0oKSBjYWxsZWQgd2l0aCBpbnZhbGlkIGRhdGFgO24mJihhKz0iICh2aWEgYHRvRmlyZXN0b3JlKClgKSIpLGErPSIuICI7bGV0IGM9IiI7cmV0dXJuKHN8fG8pJiYoYys9IiAoZm91bmQiLHMmJihjKz1gIGluIGZpZWxkICR7cn1gKSxvJiYoYys9YCBpbiBkb2N1bWVudCAke2l9YCksYys9IikiKSxuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsYSt0K2MpfWZ1bmN0aW9uIHdBKHQsZSl7cmV0dXJuIHQuc29tZShuPT5uLmlzRXF1YWwoZSkpfWNsYXNzIElBe2NvbnN0cnVjdG9yKGUsbixyLGkscyl7dGhpcy5fZmlyZXN0b3JlPWUsdGhpcy5fdXNlckRhdGFXcml0ZXI9bix0aGlzLl9rZXk9cix0aGlzLl9kb2N1bWVudD1pLHRoaXMuX2NvbnZlcnRlcj1zfWdldCBpZCgpe3JldHVybiB0aGlzLl9rZXkucGF0aC5sYXN0U2VnbWVudCgpfWdldCByZWYoKXtyZXR1cm4gbmV3IGJ0KHRoaXMuX2ZpcmVzdG9yZSx0aGlzLl9jb252ZXJ0ZXIsdGhpcy5fa2V5KX1leGlzdHMoKXtyZXR1cm4gdGhpcy5fZG9jdW1lbnQhPT1udWxsfWRhdGEoKXtpZih0aGlzLl9kb2N1bWVudCl7aWYodGhpcy5fY29udmVydGVyKXtjb25zdCBlPW5ldyBONCh0aGlzLl9maXJlc3RvcmUsdGhpcy5fdXNlckRhdGFXcml0ZXIsdGhpcy5fa2V5LHRoaXMuX2RvY3VtZW50LG51bGwpO3JldHVybiB0aGlzLl9jb252ZXJ0ZXIuZnJvbUZpcmVzdG9yZShlKX1yZXR1cm4gdGhpcy5fdXNlckRhdGFXcml0ZXIuY29udmVydFZhbHVlKHRoaXMuX2RvY3VtZW50LmRhdGEudmFsdWUpfX1nZXQoZSl7aWYodGhpcy5fZG9jdW1lbnQpe2NvbnN0IG49dGhpcy5fZG9jdW1lbnQuZGF0YS5maWVsZChjbCgiRG9jdW1lbnRTbmFwc2hvdC5nZXQiLGUpKTtpZihuIT09bnVsbClyZXR1cm4gdGhpcy5fdXNlckRhdGFXcml0ZXIuY29udmVydFZhbHVlKG4pfX19Y2xhc3MgTjQgZXh0ZW5kcyBJQXtkYXRhKCl7cmV0dXJuIHN1cGVyLmRhdGEoKX19ZnVuY3Rpb24gY2wodCxlKXtyZXR1cm4gdHlwZW9mIGU9PSJzdHJpbmciP1NnKHQsZSk6ZSBpbnN0YW5jZW9mIHNsP2UuX2ludGVybmFsUGF0aDplLl9kZWxlZ2F0ZS5faW50ZXJuYWxQYXRofWZ1bmN0aW9uIGs0KHQpe2lmKHQubGltaXRUeXBlPT09IkwiJiZ0LmV4cGxpY2l0T3JkZXJCeS5sZW5ndGg9PT0wKXRocm93IG5ldyBrKHcuVU5JTVBMRU1FTlRFRCwibGltaXRUb0xhc3QoKSBxdWVyaWVzIHJlcXVpcmUgc3BlY2lmeWluZyBhdCBsZWFzdCBvbmUgb3JkZXJCeSgpIGNsYXVzZSIpfWNsYXNzIENne31jbGFzcyBUQSBleHRlbmRzIENne31mdW5jdGlvbiBPNCh0LGUsLi4ubil7bGV0IHI9W107ZSBpbnN0YW5jZW9mIENnJiZyLnB1c2goZSkscj1yLmNvbmNhdChuKSxmdW5jdGlvbihzKXtjb25zdCBvPXMuZmlsdGVyKGM9PmMgaW5zdGFuY2VvZiBBZykubGVuZ3RoLGE9cy5maWx0ZXIoYz0+YyBpbnN0YW5jZW9mIHVsKS5sZW5ndGg7aWYobz4xfHxvPjAmJmE+MCl0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsIkludmFsaWRRdWVyeS4gV2hlbiB1c2luZyBjb21wb3NpdGUgZmlsdGVycywgeW91IGNhbm5vdCB1c2UgbW9yZSB0aGFuIG9uZSBmaWx0ZXIgYXQgdGhlIHRvcCBsZXZlbC4gQ29uc2lkZXIgbmVzdGluZyB0aGUgbXVsdGlwbGUgZmlsdGVycyB3aXRoaW4gYW4gYGFuZCguLi4pYCBzdGF0ZW1lbnQuIEZvciBleGFtcGxlOiBjaGFuZ2UgYHF1ZXJ5KHF1ZXJ5LCB3aGVyZSguLi4pLCBvciguLi4pKWAgdG8gYHF1ZXJ5KHF1ZXJ5LCBhbmQod2hlcmUoLi4uKSwgb3IoLi4uKSkpYC4iKX0ocik7Zm9yKGNvbnN0IGkgb2Ygcil0PWkuX2FwcGx5KHQpO3JldHVybiB0fWNsYXNzIHVsIGV4dGVuZHMgVEF7Y29uc3RydWN0b3IoZSxuLHIpe3N1cGVyKCksdGhpcy5fZmllbGQ9ZSx0aGlzLl9vcD1uLHRoaXMuX3ZhbHVlPXIsdGhpcy50eXBlPSJ3aGVyZSJ9c3RhdGljIF9jcmVhdGUoZSxuLHIpe3JldHVybiBuZXcgdWwoZSxuLHIpfV9hcHBseShlKXtjb25zdCBuPXRoaXMuX3BhcnNlKGUpO3JldHVybiBTQShlLl9xdWVyeSxuKSxuZXcgc2koZS5maXJlc3RvcmUsZS5jb252ZXJ0ZXIsUGQoZS5fcXVlcnksbikpfV9wYXJzZShlKXtjb25zdCBuPXdnKGUuZmlyZXN0b3JlKTtyZXR1cm4gZnVuY3Rpb24ocyxvLGEsYyx1LGwsaCl7bGV0IGQ7aWYodS5pc0tleUZpZWxkKCkpe2lmKGw9PT0iYXJyYXktY29udGFpbnMifHxsPT09ImFycmF5LWNvbnRhaW5zLWFueSIpdGhyb3cgbmV3IGsody5JTlZBTElEX0FSR1VNRU5ULGBJbnZhbGlkIFF1ZXJ5LiBZb3UgY2FuJ3QgcGVyZm9ybSAnJHtsfScgcXVlcmllcyBvbiBkb2N1bWVudElkKCkuYCk7aWYobD09PSJpbiJ8fGw9PT0ibm90LWluIil7UHYoaCxsKTtjb25zdCBmPVtdO2Zvcihjb25zdCBtIG9mIGgpZi5wdXNoKER2KGMscyxtKSk7ZD17YXJyYXlWYWx1ZTp7dmFsdWVzOmZ9fX1lbHNlIGQ9RHYoYyxzLGgpfWVsc2UgbCE9PSJpbiImJmwhPT0ibm90LWluIiYmbCE9PSJhcnJheS1jb250YWlucy1hbnkifHxQdihoLGwpLGQ9UDQoYSxvLGgsbD09PSJpbiJ8fGw9PT0ibm90LWluIik7cmV0dXJuIGplLmNyZWF0ZSh1LGwsZCl9KGUuX3F1ZXJ5LCJ3aGVyZSIsbixlLmZpcmVzdG9yZS5fZGF0YWJhc2VJZCx0aGlzLl9maWVsZCx0aGlzLl9vcCx0aGlzLl92YWx1ZSl9fWZ1bmN0aW9uIHg0KHQsZSxuKXtjb25zdCByPWUsaT1jbCgid2hlcmUiLHQpO3JldHVybiB1bC5fY3JlYXRlKGkscixuKX1jbGFzcyBBZyBleHRlbmRzIENne2NvbnN0cnVjdG9yKGUsbil7c3VwZXIoKSx0aGlzLnR5cGU9ZSx0aGlzLl9xdWVyeUNvbnN0cmFpbnRzPW59c3RhdGljIF9jcmVhdGUoZSxuKXtyZXR1cm4gbmV3IEFnKGUsbil9X3BhcnNlKGUpe2NvbnN0IG49dGhpcy5fcXVlcnlDb25zdHJhaW50cy5tYXAocj0+ci5fcGFyc2UoZSkpLmZpbHRlcihyPT5yLmdldEZpbHRlcnMoKS5sZW5ndGg+MCk7cmV0dXJuIG4ubGVuZ3RoPT09MT9uWzBdOll0LmNyZWF0ZShuLHRoaXMuX2dldE9wZXJhdG9yKCkpfV9hcHBseShlKXtjb25zdCBuPXRoaXMuX3BhcnNlKGUpO3JldHVybiBuLmdldEZpbHRlcnMoKS5sZW5ndGg9PT0wP2U6KGZ1bmN0aW9uKGkscyl7bGV0IG89aTtjb25zdCBhPXMuZ2V0RmxhdHRlbmVkRmlsdGVycygpO2Zvcihjb25zdCBjIG9mIGEpU0EobyxjKSxvPVBkKG8sYyl9KGUuX3F1ZXJ5LG4pLG5ldyBzaShlLmZpcmVzdG9yZSxlLmNvbnZlcnRlcixQZChlLl9xdWVyeSxuKSkpfV9nZXRRdWVyeUNvbnN0cmFpbnRzKCl7cmV0dXJuIHRoaXMuX3F1ZXJ5Q29uc3RyYWludHN9X2dldE9wZXJhdG9yKCl7cmV0dXJuIHRoaXMudHlwZT09PSJhbmQiPyJhbmQiOiJvciJ9fWNsYXNzIFJnIGV4dGVuZHMgVEF7Y29uc3RydWN0b3IoZSxuKXtzdXBlcigpLHRoaXMuX2ZpZWxkPWUsdGhpcy5fZGlyZWN0aW9uPW4sdGhpcy50eXBlPSJvcmRlckJ5In1zdGF0aWMgX2NyZWF0ZShlLG4pe3JldHVybiBuZXcgUmcoZSxuKX1fYXBwbHkoZSl7Y29uc3Qgbj1mdW5jdGlvbihpLHMsbyl7aWYoaS5zdGFydEF0IT09bnVsbCl0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsIkludmFsaWQgcXVlcnkuIFlvdSBtdXN0IG5vdCBjYWxsIHN0YXJ0QXQoKSBvciBzdGFydEFmdGVyKCkgYmVmb3JlIGNhbGxpbmcgb3JkZXJCeSgpLiIpO2lmKGkuZW5kQXQhPT1udWxsKXRocm93IG5ldyBrKHcuSU5WQUxJRF9BUkdVTUVOVCwiSW52YWxpZCBxdWVyeS4gWW91IG11c3Qgbm90IGNhbGwgZW5kQXQoKSBvciBlbmRCZWZvcmUoKSBiZWZvcmUgY2FsbGluZyBvcmRlckJ5KCkuIik7cmV0dXJuIG5ldyBrbyhzLG8pfShlLl9xdWVyeSx0aGlzLl9maWVsZCx0aGlzLl9kaXJlY3Rpb24pO3JldHVybiBuZXcgc2koZS5maXJlc3RvcmUsZS5jb252ZXJ0ZXIsZnVuY3Rpb24oaSxzKXtjb25zdCBvPWkuZXhwbGljaXRPcmRlckJ5LmNvbmNhdChbc10pO3JldHVybiBuZXcgZnMoaS5wYXRoLGkuY29sbGVjdGlvbkdyb3VwLG8saS5maWx0ZXJzLnNsaWNlKCksaS5saW1pdCxpLmxpbWl0VHlwZSxpLnN0YXJ0QXQsaS5lbmRBdCl9KGUuX3F1ZXJ5LG4pKX19ZnVuY3Rpb24gTDQodCxlPSJhc2MiKXtjb25zdCBuPWUscj1jbCgib3JkZXJCeSIsdCk7cmV0dXJuIFJnLl9jcmVhdGUocixuKX1mdW5jdGlvbiBEdih0LGUsbil7aWYodHlwZW9mKG49b3QobikpPT0ic3RyaW5nIil7aWYobj09PSIiKXRocm93IG5ldyBrKHcuSU5WQUxJRF9BUkdVTUVOVCwiSW52YWxpZCBxdWVyeS4gV2hlbiBxdWVyeWluZyB3aXRoIGRvY3VtZW50SWQoKSwgeW91IG11c3QgcHJvdmlkZSBhIHZhbGlkIGRvY3VtZW50IElELCBidXQgaXQgd2FzIGFuIGVtcHR5IHN0cmluZy4iKTtpZighU0MoZSkmJm4uaW5kZXhPZigiLyIpIT09LTEpdGhyb3cgbmV3IGsody5JTlZBTElEX0FSR1VNRU5ULGBJbnZhbGlkIHF1ZXJ5LiBXaGVuIHF1ZXJ5aW5nIGEgY29sbGVjdGlvbiBieSBkb2N1bWVudElkKCksIHlvdSBtdXN0IHByb3ZpZGUgYSBwbGFpbiBkb2N1bWVudCBJRCwgYnV0ICcke259JyBjb250YWlucyBhICcvJyBjaGFyYWN0ZXIuYCk7Y29uc3Qgcj1lLnBhdGguY2hpbGQoYmUuZnJvbVN0cmluZyhuKSk7aWYoIWouaXNEb2N1bWVudEtleShyKSl0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsYEludmFsaWQgcXVlcnkuIFdoZW4gcXVlcnlpbmcgYSBjb2xsZWN0aW9uIGdyb3VwIGJ5IGRvY3VtZW50SWQoKSwgdGhlIHZhbHVlIHByb3ZpZGVkIG11c3QgcmVzdWx0IGluIGEgdmFsaWQgZG9jdW1lbnQgcGF0aCwgYnV0ICcke3J9JyBpcyBub3QgYmVjYXVzZSBpdCBoYXMgYW4gb2RkIG51bWJlciBvZiBzZWdtZW50cyAoJHtyLmxlbmd0aH0pLmApO3JldHVybiBYeSh0LG5ldyBqKHIpKX1pZihuIGluc3RhbmNlb2YgYnQpcmV0dXJuIFh5KHQsbi5fa2V5KTt0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsYEludmFsaWQgcXVlcnkuIFdoZW4gcXVlcnlpbmcgd2l0aCBkb2N1bWVudElkKCksIHlvdSBtdXN0IHByb3ZpZGUgYSB2YWxpZCBzdHJpbmcgb3IgYSBEb2N1bWVudFJlZmVyZW5jZSwgYnV0IGl0IHdhczogJHtybChuKX0uYCl9ZnVuY3Rpb24gUHYodCxlKXtpZighQXJyYXkuaXNBcnJheSh0KXx8dC5sZW5ndGg9PT0wKXRocm93IG5ldyBrKHcuSU5WQUxJRF9BUkdVTUVOVCxgSW52YWxpZCBRdWVyeS4gQSBub24tZW1wdHkgYXJyYXkgaXMgcmVxdWlyZWQgZm9yICcke2UudG9TdHJpbmcoKX0nIGZpbHRlcnMuYCl9ZnVuY3Rpb24gU0EodCxlKXtjb25zdCBuPWZ1bmN0aW9uKGkscyl7Zm9yKGNvbnN0IG8gb2YgaSlmb3IoY29uc3QgYSBvZiBvLmdldEZsYXR0ZW5lZEZpbHRlcnMoKSlpZihzLmluZGV4T2YoYS5vcCk+PTApcmV0dXJuIGEub3A7cmV0dXJuIG51bGx9KHQuZmlsdGVycyxmdW5jdGlvbihpKXtzd2l0Y2goaSl7Y2FzZSIhPSI6cmV0dXJuWyIhPSIsIm5vdC1pbiJdO2Nhc2UiYXJyYXktY29udGFpbnMtYW55IjpjYXNlImluIjpyZXR1cm5bIm5vdC1pbiJdO2Nhc2Uibm90LWluIjpyZXR1cm5bImFycmF5LWNvbnRhaW5zLWFueSIsImluIiwibm90LWluIiwiIT0iXTtkZWZhdWx0OnJldHVybltdfX0oZS5vcCkpO2lmKG4hPT1udWxsKXRocm93IG49PT1lLm9wP25ldyBrKHcuSU5WQUxJRF9BUkdVTUVOVCxgSW52YWxpZCBxdWVyeS4gWW91IGNhbm5vdCB1c2UgbW9yZSB0aGFuIG9uZSAnJHtlLm9wLnRvU3RyaW5nKCl9JyBmaWx0ZXIuYCk6bmV3IGsody5JTlZBTElEX0FSR1VNRU5ULGBJbnZhbGlkIHF1ZXJ5LiBZb3UgY2Fubm90IHVzZSAnJHtlLm9wLnRvU3RyaW5nKCl9JyBmaWx0ZXJzIHdpdGggJyR7bi50b1N0cmluZygpfScgZmlsdGVycy5gKX1jbGFzcyBWNHtjb252ZXJ0VmFsdWUoZSxuPSJub25lIil7c3dpdGNoKFFyKGUpKXtjYXNlIDA6cmV0dXJuIG51bGw7Y2FzZSAxOnJldHVybiBlLmJvb2xlYW5WYWx1ZTtjYXNlIDI6cmV0dXJuIFVlKGUuaW50ZWdlclZhbHVlfHxlLmRvdWJsZVZhbHVlKTtjYXNlIDM6cmV0dXJuIHRoaXMuY29udmVydFRpbWVzdGFtcChlLnRpbWVzdGFtcFZhbHVlKTtjYXNlIDQ6cmV0dXJuIHRoaXMuY29udmVydFNlcnZlclRpbWVzdGFtcChlLG4pO2Nhc2UgNTpyZXR1cm4gZS5zdHJpbmdWYWx1ZTtjYXNlIDY6cmV0dXJuIHRoaXMuY29udmVydEJ5dGVzKEtyKGUuYnl0ZXNWYWx1ZSkpO2Nhc2UgNzpyZXR1cm4gdGhpcy5jb252ZXJ0UmVmZXJlbmNlKGUucmVmZXJlbmNlVmFsdWUpO2Nhc2UgODpyZXR1cm4gdGhpcy5jb252ZXJ0R2VvUG9pbnQoZS5nZW9Qb2ludFZhbHVlKTtjYXNlIDk6cmV0dXJuIHRoaXMuY29udmVydEFycmF5KGUuYXJyYXlWYWx1ZSxuKTtjYXNlIDEwOnJldHVybiB0aGlzLmNvbnZlcnRPYmplY3QoZS5tYXBWYWx1ZSxuKTtkZWZhdWx0OnRocm93IHooKX19Y29udmVydE9iamVjdChlLG4pe3JldHVybiB0aGlzLmNvbnZlcnRPYmplY3RNYXAoZS5maWVsZHMsbil9Y29udmVydE9iamVjdE1hcChlLG49Im5vbmUiKXtjb25zdCByPXt9O3JldHVybiByaShlLChpLHMpPT57cltpXT10aGlzLmNvbnZlcnRWYWx1ZShzLG4pfSkscn1jb252ZXJ0R2VvUG9pbnQoZSl7cmV0dXJuIG5ldyBfZyhVZShlLmxhdGl0dWRlKSxVZShlLmxvbmdpdHVkZSkpfWNvbnZlcnRBcnJheShlLG4pe3JldHVybihlLnZhbHVlc3x8W10pLm1hcChyPT50aGlzLmNvbnZlcnRWYWx1ZShyLG4pKX1jb252ZXJ0U2VydmVyVGltZXN0YW1wKGUsbil7c3dpdGNoKG4pe2Nhc2UicHJldmlvdXMiOmNvbnN0IHI9ZWcoZSk7cmV0dXJuIHI9PW51bGw/bnVsbDp0aGlzLmNvbnZlcnRWYWx1ZShyLG4pO2Nhc2UiZXN0aW1hdGUiOnJldHVybiB0aGlzLmNvbnZlcnRUaW1lc3RhbXAoUG8oZSkpO2RlZmF1bHQ6cmV0dXJuIG51bGx9fWNvbnZlcnRUaW1lc3RhbXAoZSl7Y29uc3Qgbj1ocihlKTtyZXR1cm4gbmV3IEJlKG4uc2Vjb25kcyxuLm5hbm9zKX1jb252ZXJ0RG9jdW1lbnRLZXkoZSxuKXtjb25zdCByPWJlLmZyb21TdHJpbmcoZSk7QWUoR0MocikpO2NvbnN0IGk9bmV3IE1vKHIuZ2V0KDEpLHIuZ2V0KDMpKSxzPW5ldyBqKHIucG9wRmlyc3QoNSkpO3JldHVybiBpLmlzRXF1YWwobil8fHluKGBEb2N1bWVudCAke3N9IGNvbnRhaW5zIGEgZG9jdW1lbnQgcmVmZXJlbmNlIHdpdGhpbiBhIGRpZmZlcmVudCBkYXRhYmFzZSAoJHtpLnByb2plY3RJZH0vJHtpLmRhdGFiYXNlfSkgd2hpY2ggaXMgbm90IHN1cHBvcnRlZC4gSXQgd2lsbCBiZSB0cmVhdGVkIGFzIGEgcmVmZXJlbmNlIGluIHRoZSBjdXJyZW50IGRhdGFiYXNlICgke24ucHJvamVjdElkfS8ke24uZGF0YWJhc2V9KSBpbnN0ZWFkLmApLHN9fWZ1bmN0aW9uIEY0KHQsZSxuKXtsZXQgcjtyZXR1cm4gcj10P24mJihuLm1lcmdlfHxuLm1lcmdlRmllbGRzKT90LnRvRmlyZXN0b3JlKGUsbik6dC50b0ZpcmVzdG9yZShlKTplLHJ9Y2xhc3MgRHN7Y29uc3RydWN0b3IoZSxuKXt0aGlzLmhhc1BlbmRpbmdXcml0ZXM9ZSx0aGlzLmZyb21DYWNoZT1ufWlzRXF1YWwoZSl7cmV0dXJuIHRoaXMuaGFzUGVuZGluZ1dyaXRlcz09PWUuaGFzUGVuZGluZ1dyaXRlcyYmdGhpcy5mcm9tQ2FjaGU9PT1lLmZyb21DYWNoZX19Y2xhc3MgQ0EgZXh0ZW5kcyBJQXtjb25zdHJ1Y3RvcihlLG4scixpLHMsbyl7c3VwZXIoZSxuLHIsaSxvKSx0aGlzLl9maXJlc3RvcmU9ZSx0aGlzLl9maXJlc3RvcmVJbXBsPWUsdGhpcy5tZXRhZGF0YT1zfWV4aXN0cygpe3JldHVybiBzdXBlci5leGlzdHMoKX1kYXRhKGU9e30pe2lmKHRoaXMuX2RvY3VtZW50KXtpZih0aGlzLl9jb252ZXJ0ZXIpe2NvbnN0IG49bmV3IGljKHRoaXMuX2ZpcmVzdG9yZSx0aGlzLl91c2VyRGF0YVdyaXRlcix0aGlzLl9rZXksdGhpcy5fZG9jdW1lbnQsdGhpcy5tZXRhZGF0YSxudWxsKTtyZXR1cm4gdGhpcy5fY29udmVydGVyLmZyb21GaXJlc3RvcmUobixlKX1yZXR1cm4gdGhpcy5fdXNlckRhdGFXcml0ZXIuY29udmVydFZhbHVlKHRoaXMuX2RvY3VtZW50LmRhdGEudmFsdWUsZS5zZXJ2ZXJUaW1lc3RhbXBzKX19Z2V0KGUsbj17fSl7aWYodGhpcy5fZG9jdW1lbnQpe2NvbnN0IHI9dGhpcy5fZG9jdW1lbnQuZGF0YS5maWVsZChjbCgiRG9jdW1lbnRTbmFwc2hvdC5nZXQiLGUpKTtpZihyIT09bnVsbClyZXR1cm4gdGhpcy5fdXNlckRhdGFXcml0ZXIuY29udmVydFZhbHVlKHIsbi5zZXJ2ZXJUaW1lc3RhbXBzKX19fWNsYXNzIGljIGV4dGVuZHMgQ0F7ZGF0YShlPXt9KXtyZXR1cm4gc3VwZXIuZGF0YShlKX19Y2xhc3MgVTR7Y29uc3RydWN0b3IoZSxuLHIsaSl7dGhpcy5fZmlyZXN0b3JlPWUsdGhpcy5fdXNlckRhdGFXcml0ZXI9bix0aGlzLl9zbmFwc2hvdD1pLHRoaXMubWV0YWRhdGE9bmV3IERzKGkuaGFzUGVuZGluZ1dyaXRlcyxpLmZyb21DYWNoZSksdGhpcy5xdWVyeT1yfWdldCBkb2NzKCl7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKG49PmUucHVzaChuKSksZX1nZXQgc2l6ZSgpe3JldHVybiB0aGlzLl9zbmFwc2hvdC5kb2NzLnNpemV9Z2V0IGVtcHR5KCl7cmV0dXJuIHRoaXMuc2l6ZT09PTB9Zm9yRWFjaChlLG4pe3RoaXMuX3NuYXBzaG90LmRvY3MuZm9yRWFjaChyPT57ZS5jYWxsKG4sbmV3IGljKHRoaXMuX2ZpcmVzdG9yZSx0aGlzLl91c2VyRGF0YVdyaXRlcixyLmtleSxyLG5ldyBEcyh0aGlzLl9zbmFwc2hvdC5tdXRhdGVkS2V5cy5oYXMoci5rZXkpLHRoaXMuX3NuYXBzaG90LmZyb21DYWNoZSksdGhpcy5xdWVyeS5jb252ZXJ0ZXIpKX0pfWRvY0NoYW5nZXMoZT17fSl7Y29uc3Qgbj0hIWUuaW5jbHVkZU1ldGFkYXRhQ2hhbmdlcztpZihuJiZ0aGlzLl9zbmFwc2hvdC5leGNsdWRlc01ldGFkYXRhQ2hhbmdlcyl0aHJvdyBuZXcgayh3LklOVkFMSURfQVJHVU1FTlQsIlRvIGluY2x1ZGUgbWV0YWRhdGEgY2hhbmdlcyB3aXRoIHlvdXIgZG9jdW1lbnQgY2hhbmdlcywgeW91IG11c3QgYWxzbyBwYXNzIHsgaW5jbHVkZU1ldGFkYXRhQ2hhbmdlczp0cnVlIH0gdG8gb25TbmFwc2hvdCgpLiIpO3JldHVybiB0aGlzLl9jYWNoZWRDaGFuZ2VzJiZ0aGlzLl9jYWNoZWRDaGFuZ2VzSW5jbHVkZU1ldGFkYXRhQ2hhbmdlcz09PW58fCh0aGlzLl9jYWNoZWRDaGFuZ2VzPWZ1bmN0aW9uKGkscyl7aWYoaS5fc25hcHNob3Qub2xkRG9jcy5pc0VtcHR5KCkpe2xldCBvPTA7cmV0dXJuIGkuX3NuYXBzaG90LmRvY0NoYW5nZXMubWFwKGE9Pntjb25zdCBjPW5ldyBpYyhpLl9maXJlc3RvcmUsaS5fdXNlckRhdGFXcml0ZXIsYS5kb2Mua2V5LGEuZG9jLG5ldyBEcyhpLl9zbmFwc2hvdC5tdXRhdGVkS2V5cy5oYXMoYS5kb2Mua2V5KSxpLl9zbmFwc2hvdC5mcm9tQ2FjaGUpLGkucXVlcnkuY29udmVydGVyKTtyZXR1cm4gYS5kb2Mse3R5cGU6ImFkZGVkIixkb2M6YyxvbGRJbmRleDotMSxuZXdJbmRleDpvKyt9fSl9e2xldCBvPWkuX3NuYXBzaG90Lm9sZERvY3M7cmV0dXJuIGkuX3NuYXBzaG90LmRvY0NoYW5nZXMuZmlsdGVyKGE9PnN8fGEudHlwZSE9PTMpLm1hcChhPT57Y29uc3QgYz1uZXcgaWMoaS5fZmlyZXN0b3JlLGkuX3VzZXJEYXRhV3JpdGVyLGEuZG9jLmtleSxhLmRvYyxuZXcgRHMoaS5fc25hcHNob3QubXV0YXRlZEtleXMuaGFzKGEuZG9jLmtleSksaS5fc25hcHNob3QuZnJvbUNhY2hlKSxpLnF1ZXJ5LmNvbnZlcnRlcik7bGV0IHU9LTEsbD0tMTtyZXR1cm4gYS50eXBlIT09MCYmKHU9by5pbmRleE9mKGEuZG9jLmtleSksbz1vLmRlbGV0ZShhLmRvYy5rZXkpKSxhLnR5cGUhPT0xJiYobz1vLmFkZChhLmRvYyksbD1vLmluZGV4T2YoYS5kb2Mua2V5KSkse3R5cGU6ajQoYS50eXBlKSxkb2M6YyxvbGRJbmRleDp1LG5ld0luZGV4Omx9fSl9fSh0aGlzLG4pLHRoaXMuX2NhY2hlZENoYW5nZXNJbmNsdWRlTWV0YWRhdGFDaGFuZ2VzPW4pLHRoaXMuX2NhY2hlZENoYW5nZXN9fWZ1bmN0aW9uIGo0KHQpe3N3aXRjaCh0KXtjYXNlIDA6cmV0dXJuImFkZGVkIjtjYXNlIDI6Y2FzZSAzOnJldHVybiJtb2RpZmllZCI7Y2FzZSAxOnJldHVybiJyZW1vdmVkIjtkZWZhdWx0OnJldHVybiB6KCl9fWNsYXNzIEFBIGV4dGVuZHMgVjR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLmZpcmVzdG9yZT1lfWNvbnZlcnRCeXRlcyhlKXtyZXR1cm4gbmV3IGVzKGUpfWNvbnZlcnRSZWZlcmVuY2UoZSl7Y29uc3Qgbj10aGlzLmNvbnZlcnREb2N1bWVudEtleShlLHRoaXMuZmlyZXN0b3JlLl9kYXRhYmFzZUlkKTtyZXR1cm4gbmV3IGJ0KHRoaXMuZmlyZXN0b3JlLG51bGwsbil9fWZ1bmN0aW9uICQ0KHQsZSxuLC4uLnIpe3Q9YXIodCxidCk7Y29uc3QgaT1hcih0LmZpcmVzdG9yZSxKaSkscz13ZyhpKTtsZXQgbztyZXR1cm4gbz10eXBlb2YoZT1vdChlKSk9PSJzdHJpbmcifHxlIGluc3RhbmNlb2Ygc2w/RDQocywidXBkYXRlRG9jIix0Ll9rZXksZSxuLHIpOmI0KHMsInVwZGF0ZURvYyIsdC5fa2V5LGUpLGJnKGksW28udG9NdXRhdGlvbih0Ll9rZXksUXQuZXhpc3RzKCEwKSldKX1mdW5jdGlvbiBCNCh0KXtyZXR1cm4gYmcoYXIodC5maXJlc3RvcmUsSmkpLFtuZXcgc2codC5fa2V5LFF0Lm5vbmUoKSldKX1mdW5jdGlvbiBINCh0LGUpe2NvbnN0IG49YXIodC5maXJlc3RvcmUsSmkpLHI9cEEodCksaT1GNCh0LmNvbnZlcnRlcixlKTtyZXR1cm4gYmcobixbUjQod2codC5maXJlc3RvcmUpLCJhZGREb2MiLHIuX2tleSxpLHQuY29udmVydGVyIT09bnVsbCx7fSkudG9NdXRhdGlvbihyLl9rZXksUXQuZXhpc3RzKCExKSldKS50aGVuKCgpPT5yKX1mdW5jdGlvbiBxNCh0LC4uLmUpe3ZhciBuLHIsaTt0PW90KHQpO2xldCBzPXtpbmNsdWRlTWV0YWRhdGFDaGFuZ2VzOiExfSxvPTA7dHlwZW9mIGVbb10hPSJvYmplY3QifHxidihlW29dKXx8KHM9ZVtvXSxvKyspO2NvbnN0IGE9e2luY2x1ZGVNZXRhZGF0YUNoYW5nZXM6cy5pbmNsdWRlTWV0YWRhdGFDaGFuZ2VzfTtpZihidihlW29dKSl7Y29uc3QgaD1lW29dO2Vbb109KG49aC5uZXh0KT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4uYmluZChoKSxlW28rMV09KHI9aC5lcnJvcik9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLmJpbmQoaCksZVtvKzJdPShpPWguY29tcGxldGUpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5iaW5kKGgpfWxldCBjLHUsbDtpZih0IGluc3RhbmNlb2YgYnQpdT1hcih0LmZpcmVzdG9yZSxKaSksbD1pZyh0Ll9rZXkucGF0aCksYz17bmV4dDpoPT57ZVtvXSYmZVtvXSh6NCh1LHQsaCkpfSxlcnJvcjplW28rMV0sY29tcGxldGU6ZVtvKzJdfTtlbHNle2NvbnN0IGg9YXIodCxzaSk7dT1hcihoLmZpcmVzdG9yZSxKaSksbD1oLl9xdWVyeTtjb25zdCBkPW5ldyBBQSh1KTtjPXtuZXh0OmY9PntlW29dJiZlW29dKG5ldyBVNCh1LGQsaCxmKSl9LGVycm9yOmVbbysxXSxjb21wbGV0ZTplW28rMl19LGs0KHQuX3F1ZXJ5KX1yZXR1cm4gZnVuY3Rpb24oZCxmLG0seSl7Y29uc3QgXz1uZXcgcDQoeSksVD1uZXcgWkIoZixfLG0pO3JldHVybiBkLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoKT0+Zyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIFdCKHlpZWxkIFR2KGQpLFQpfSkpLCgpPT57Xy5MYSgpLGQuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KCgpPT5nKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4gR0IoeWllbGQgVHYoZCksVCl9KSl9fShnQSh1KSxsLGEsYyl9ZnVuY3Rpb24gYmcodCxlKXtyZXR1cm4gZnVuY3Rpb24ocixpKXtjb25zdCBzPW5ldyBvcjtyZXR1cm4gci5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKCk9PmcodGhpcyxudWxsLGZ1bmN0aW9uKigpe3JldHVybiBpNCh5aWVsZCB2NChyKSxpLHMpfSkpLHMucHJvbWlzZX0oZ0EodCksZSl9ZnVuY3Rpb24gejQodCxlLG4pe2NvbnN0IHI9bi5kb2NzLmdldChlLl9rZXkpLGk9bmV3IEFBKHQpO3JldHVybiBuZXcgQ0EodCxpLGUuX2tleSxyLG5ldyBEcyhuLmhhc1BlbmRpbmdXcml0ZXMsbi5mcm9tQ2FjaGUpLGUuY29udmVydGVyKX1mdW5jdGlvbiBXNCgpe3JldHVybiBuZXcgSWcoInNlcnZlclRpbWVzdGFtcCIpfShmdW5jdGlvbihlLG49ITApeyhmdW5jdGlvbihpKXtkcz1pfSkoY3MpLHFpKG5ldyB6cigiZmlyZXN0b3JlIiwocix7aW5zdGFuY2VJZGVudGlmaWVyOmksb3B0aW9uczpzfSk9Pntjb25zdCBvPXIuZ2V0UHJvdmlkZXIoImFwcCIpLmdldEltbWVkaWF0ZSgpLGE9bmV3IEppKG5ldyBWMihyLmdldFByb3ZpZGVyKCJhdXRoLWludGVybmFsIikpLG5ldyAkMihyLmdldFByb3ZpZGVyKCJhcHAtY2hlY2staW50ZXJuYWwiKSksZnVuY3Rpb24odSxsKXtpZighT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5hcHBseSh1Lm9wdGlvbnMsWyJwcm9qZWN0SWQiXSkpdGhyb3cgbmV3IGsody5JTlZBTElEX0FSR1VNRU5ULCcicHJvamVjdElkIiBub3QgcHJvdmlkZWQgaW4gZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcC4nKTtyZXR1cm4gbmV3IE1vKHUub3B0aW9ucy5wcm9qZWN0SWQsbCl9KG8saSksbyk7cmV0dXJuIHM9T2JqZWN0LmFzc2lnbih7dXNlRmV0Y2hTdHJlYW1zOm59LHMpLGEuX3NldFNldHRpbmdzKHMpLGF9LCJQVUJMSUMiKS5zZXRNdWx0aXBsZUluc3RhbmNlcyghMCkpLFB0KFd5LCI0LjQuMyIsZSksUHQoV3ksIjQuNC4zIiwiZXNtMjAxNyIpfSkoKTtjbGFzcyBEZ3tjb25zdHJ1Y3RvcihlKXtyZXR1cm4gZX19Y29uc3QgUkE9ImZpcmVzdG9yZSI7Y2xhc3MgRzR7Y29uc3RydWN0b3IoKXtyZXR1cm4gZnAoUkEpfX1jb25zdCBQZz1uZXcgc2UoImFuZ3VsYXJmaXJlMi5maXJlc3RvcmUtaW5zdGFuY2VzIik7ZnVuY3Rpb24gSzQodCxlKXtjb25zdCBuPU1UKFJBLHQsZSk7cmV0dXJuIG4mJm5ldyBEZyhuKX1mdW5jdGlvbiBRNCh0KXtyZXR1cm4oZSxuKT0+e2NvbnN0IHI9ZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+dChuKSk7cmV0dXJuIG5ldyBEZyhyKX19Y29uc3QgWjQ9e3Byb3ZpZGU6RzQsZGVwczpbW25ldyBVbixQZ11dfSxYND17cHJvdmlkZTpEZyx1c2VGYWN0b3J5Oks0LGRlcHM6W1tuZXcgVW4sUGddLFlvXX07bGV0IFk0PSgoKT0+e3ZhciB0O2NsYXNzIGV7Y29uc3RydWN0b3IoKXtQdCgiYW5ndWxhcmZpcmUiLGJjLmZ1bGwsImZzdCIpfX1yZXR1cm4gdD1lLEdlKGUsIsm1ZmFjIixmdW5jdGlvbihyKXtyZXR1cm4gbmV3KHJ8fHQpfSksR2UoZSwiybVtb2QiLHR1KHt0eXBlOnR9KSksR2UoZSwiybVpbmoiLGF1KHtwcm92aWRlcnM6W1g0LFo0XX0pKSxlfSkoKTtmdW5jdGlvbiBKNCh0LC4uLmUpe3JldHVybntuZ01vZHVsZTpZNCxwcm92aWRlcnM6W3twcm92aWRlOlBnLHVzZUZhY3Rvcnk6UTQodCksbXVsdGk6ITAsZGVwczpbTWUsV24scHAsZ3AsW25ldyBVbixjU10sW25ldyBVbixOVF0sLi4uZV19XX19Y29uc3QgT0g9eXQoSDQsITApLHhIPXl0KHc0LCEwKSxMSD15dChCNCwhMCksVkg9eXQocEEsITApLGVIPXl0KFQ0LCEwKSxGSD15dChxNCwhMCksVUg9eXQoTDQsITApLGpIPXl0KE80LCEwKSwkSD15dChXNCwhMCksQkg9eXQoJDQsITApLEhIPXl0KHg0LCEwKSx0SD1KU09OLnBhcnNlKCd7ImFwaUtleSI6IkFJemFTeUM3VHU1Nl8xcnktdTlBblpmZ19BamlNV3Z2Tm1GSVBHVSIsImF1dGhEb21haW4iOiJ0ZXN0LXByb2plY3RzLTE5MDQ2LmZpcmViYXNlYXBwLmNvbSIsInByb2plY3RJZCI6InRlc3QtcHJvamVjdHMtMTkwNDYiLCJzdG9yYWdlQnVja2V0IjoidGVzdC1wcm9qZWN0cy0xOTA0Ni5hcHBzcG90LmNvbSIsIm1lc3NhZ2luZ1NlbmRlcklkIjoiNzM2ODQ5NDE4NDY5IiwiYXBwSWQiOiIxOjczNjg0OTQxODQ2OTp3ZWI6NzU0NmYxNmM1ZTM1NWIxYzZhOWMwYyIsIm1lYXN1cmVtZW50SWQiOiJHLUZLUkNXOTNQMFgifScpLG5IPXtwcm92aWRlcnM6W3cxKCksc08ob08oKSksak8oKSx3RShkRigoKT0+ZkYodEgpKSxKNCgoKT0+ZUgoKSksUmooKCk9PmJqKCkpKV19O2JPKFlMLG5IKTtleHBvcnR7ckkgYXMgJCxDdSBhcyBBLHVIIGFzIEIsUE0gYXMgQyxqdyBhcyBELERIIGFzIEUsUkggYXMgRixBSCBhcyBHLHdIIGFzIEgsc2UgYXMgSSxiSCBhcyBKLGVIIGFzIEssSXUgYXMgTCxPSCBhcyBNLE1lIGFzIE4sTGUgYXMgTyxnciBhcyBQLHhIIGFzIFEsY3AgYXMgUiwkSCBhcyBTLEJIIGFzIFQsVkggYXMgVSxMSCBhcyBWLEZIIGFzIFcsakggYXMgWCxISCBhcyBZLFVIIGFzIFosR2UgYXMgXyxYRCBhcyBhLHZIIGFzIGEwLGlJIGFzIGExLExoIGFzIGEyLGNIIGFzIGEzLEdOIGFzIGE0LGZIIGFzIGE1LFNIIGFzIGE2LElIIGFzIGE3LG1IIGFzIGE4LGlIIGFzIGE5LHlIIGFzIGFhLHNIIGFzIGFiLHBIIGFzIGFjLGdIIGFzIGFkLGFJIGFzIGFlLGFIIGFzIGFmLHEgYXMgYixiXyBhcyBjLGhIIGFzIGQsY0kgYXMgZSxCZiBhcyBmLGRIIGFzIGcsdk4gYXMgaCxiIGFzIGksQUUgYXMgaixfSCBhcyBrLEVIIGFzIGwseWUgYXMgbSxUSCBhcyBuLGt0IGFzIG8sJE4gYXMgcCxlZSBhcyBxLEZPIGFzIHIsbm4gYXMgcyxhYiBhcyB0LENIIGFzIHUsd3QgYXMgdix3aSBhcyB3LEl0IGFzIHgsb0ggYXMgeSxBcCBhcyB6LERfIGFzIMm1fTsKZnVuY3Rpb24gX192aXRlX19tYXBEZXBzKGluZGV4ZXMpIHsKICBpZiAoIV9fdml0ZV9fbWFwRGVwcy52aXRlRmlsZURlcHMpIHsKICAgIF9fdml0ZV9fbWFwRGVwcy52aXRlRmlsZURlcHMgPSBbXQogIH0KICByZXR1cm4gaW5kZXhlcy5tYXAoKGkpID0+IF9fdml0ZV9fbWFwRGVwcy52aXRlRmlsZURlcHNbaV0pCn0K"),Ht=Object.freeze(Object.defineProperty({__proto__:null,default:Ct},Symbol.toStringTag,{value:"Module"})),Jt=base64ToUint8Array("aW1wb3J0e2IgYXMgJCxpIGFzIGwseiBhcyBBLEIgYXMgTSxDIGFzIFMsRyBhcyBqLEUsRiBhcyBMLEggYXMgVSxKIGFzIE4sSyBhcyBWLE0gYXMgRyxRIGFzIHgsUyBhcyB6LFQgYXMgQixVIGFzIHcsViBhcyBPLFcgYXMgUixYIGFzIFcsWSxaIGFzIEosYyBhcyBwLGUgYXMgbSwkIGFzIHIsYTAgYXMgaSxhMSBhcyBhLGEyIGFzIFAscCBhcyBfLGggYXMgQyxhMyBhcyB1LGE0IGFzIEYsYTUgYXMgSCxhNiBhcyBLLGE3IGFzIFEsYTggYXMgVCxhOSBhcyB2LGFhIGFzIHksYWIgYXMgYixmIGFzIGMsYWMgYXMgWCxhZCBhcyBaLGFlIGFzIGssYWYgYXMgcX1mcm9tIi4vaW5kZXgtekI0NVJaOVUuanMiO2xldCBnPSgoKT0+e3ZhciBlO2NsYXNzIG57Y29uc3RydWN0b3IoKXt0aGlzLmF1dGg9dHlwZW9mIHdpbmRvdzwidSI/bChBKTpudWxsLHRoaXMudXNlciQ9TSh7bG9hZGluZzohMCxkYXRhOm51bGx9KSxTKCgpPT57aWYodGhpcy51c2VyJCgpLmxvYWRpbmc9ITAsIXRoaXMuYXV0aCl7dGhpcy51c2VyJCgpLmxvYWRpbmc9ITEsdGhpcy51c2VyJCgpLmRhdGE9bnVsbDtyZXR1cm59cmV0dXJuIEwodGhpcy5hdXRoLHQ9PntpZih0aGlzLnVzZXIkKCkubG9hZGluZz0hMSwhdCl7dGhpcy51c2VyJCgpLmRhdGE9bnVsbDtyZXR1cm59Y29uc3R7cGhvdG9VUkw6byx1aWQ6ZCxkaXNwbGF5TmFtZTpmLGVtYWlsOmh9PXQsRD17cGhvdG9VUkw6byx1aWQ6ZCxkaXNwbGF5TmFtZTpmLGVtYWlsOmh9O1UoKSYmY29uc29sZS5sb2coRCksdGhpcy51c2VyJCgpLmRhdGE9RH0pfSl9bG9naW4oKXtpZih0aGlzLmF1dGgpe2NvbnN0IHQ9dHlwZW9mIHdpbmRvdzwidSI/TjpudWxsO3QmJnQodGhpcy5hdXRoLG5ldyBqKX19bG9nb3V0KCl7dGhpcy5hdXRoJiZFKHRoaXMuYXV0aCl9fXJldHVybiBlPW4sZS7JtWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLsm1cHJvdj0kKHt0b2tlbjplLGZhY3Rvcnk6ZS7JtWZhYyxwcm92aWRlZEluOiJyb290In0pLG59KSgpO2NvbnN0IGVlPWU9PmUuZW1wdHk/W106ZS5kb2NzLm1hcChuPT57Y29uc3Qgcz1uLmRhdGEoKTtyZXR1cm57Li4ucyxjcmVhdGVkOm5ldyBEYXRlKHMuY3JlYXRlZD8udG9NaWxsaXMoKSksaWQ6bi5pZH19KTtsZXQgST0oKCk9Pnt2YXIgZTtjbGFzcyBue2NvbnN0cnVjdG9yKCl7dGhpcy5kYj1WKCksdGhpcy51c2VyPWwoZykudXNlciQsdGhpcy50b2Rvcz1NKHtkYXRhOltdLGxvYWRpbmc6ITB9KSx0aGlzLmFkZFRvZG89KHQsbyk9PntpZih0LnByZXZlbnREZWZhdWx0KCksIW8pdGhyb3ciTm8gVUlEISI7Y29uc3QgZD10LnRhcmdldCxmPW5ldyBGb3JtRGF0YShkKSx7dGFzazpofT1PYmplY3QuZnJvbUVudHJpZXMoZik7dHlwZW9mIGg9PSJzdHJpbmciJiYoZC5yZXNldCgpLEcoeCh0aGlzLmRiLCJ0b2RvcyIpLHt1aWQ6byx0ZXh0OmgsY29tcGxldGU6ITEsY3JlYXRlZDp6KCl9KSl9LHRoaXMudXBkYXRlVG9kbz0odCxvKT0+e0Iodyh0aGlzLmRiLCJ0b2RvcyIsdCkse2NvbXBsZXRlOm99KX0sdGhpcy5kZWxldGVUb2RvPXQ9PntPKHcodGhpcy5kYiwidG9kb3MiLHQpKX0sUygoKT0+e2NvbnN0IHQ9dGhpcy51c2VyKCkuZGF0YTtpZighdCl7dGhpcy50b2RvcygpLmxvYWRpbmc9ITEsdGhpcy50b2RvcygpLmRhdGE9W107cmV0dXJufXJldHVybiBSKFcoeCh0aGlzLmRiLCJ0b2RvcyIpLFkoInVpZCIsIj09Iix0LnVpZCksSigiY3JlYXRlZCIpKSxvPT57dGhpcy50b2RvcygpLmxvYWRpbmc9ITE7Y29uc3QgZD1lZShvKTtVKCkmJmNvbnNvbGUubG9nKGQpLHRoaXMudG9kb3MoKS5kYXRhPWR9KX0pfX1yZXR1cm4gZT1uLGUuybVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS7JtXByb3Y9JCh7dG9rZW46ZSxmYWN0b3J5OmUuybVmYWMscHJvdmlkZWRJbjoicm9vdCJ9KSxufSkoKTtmdW5jdGlvbiB0ZShlLG4pe2lmKGUmMSl7Y29uc3Qgcz1UKCk7cigwLCJidXR0b24iLDIpLF8oImNsaWNrIixmdW5jdGlvbigpe3Yocyk7Y29uc3Qgbz15KCk7cmV0dXJuIGIoby50cy51cGRhdGVUb2RvKG8udG9kby5pZCwhby50b2RvLmNvbXBsZXRlKSl9KSxpKDEsIiDinJTvuI8gIiksYSgpfX1mdW5jdGlvbiBvZShlLG4pe2lmKGUmMSl7Y29uc3Qgcz1UKCk7cigwLCJidXR0b24iLDIpLF8oImNsaWNrIixmdW5jdGlvbigpe3Yocyk7Y29uc3Qgbz15KCk7cmV0dXJuIGIoby50cy51cGRhdGVUb2RvKG8udG9kby5pZCwhby50b2RvLmNvbXBsZXRlKSl9KSxpKDEsIiDinYwgIiksYSgpfX1sZXQgbmU9KCgpPT57dmFyIGU7Y2xhc3Mgbntjb25zdHJ1Y3Rvcigpe3RoaXMudHM9bChJKX19cmV0dXJuIGU9bixlLsm1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuybVjbXA9cCh7dHlwZTplLHNlbGVjdG9yczpbWyJhcHAtdG9kby1pdGVtIl1dLGlucHV0czp7dG9kbzoidG9kbyJ9LHN0YW5kYWxvbmU6ITAsZmVhdHVyZXM6W21dLGRlY2xzOjgsdmFyczo1LGNvbnN0czpbWzMsIm5nQ2xhc3MiXSxbInR5cGUiLCJidXR0b24iXSxbInR5cGUiLCJidXR0b24iLDMsImNsaWNrIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsbyl7dCYxJiYocigwLCJzcGFuIiwwKSxpKDEpLGEoKSxyKDIsInNwYW4iLDApLGkoMyksYSgpLFAoNCx0ZSwyLDAsImJ1dHRvbiIsMSkoNSxvZSwyLDApLHIoNiwiYnV0dG9uIiwyKSxfKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gby50cy5kZWxldGVUb2RvKG8udG9kby5pZCl9KSxpKDcsIiDwn5eRICIpLGEoKSksdCYyJiYoQygibmdDbGFzcyIsby50b2RvLmNvbXBsZXRlPyJsaW5lLXRocm91Z2ggdGV4dC1ncmVlbi03MDAiOiIiKSx1KCksRihvLnRvZG8udGV4dCksdSgpLEMoIm5nQ2xhc3MiLG8udG9kby5jb21wbGV0ZT8ibGluZS10aHJvdWdoIHRleHQtZ3JlZW4tNzAwIjoiIiksdSgpLEYoby50b2RvLmlkKSx1KCksSCg0LG8udG9kby5jb21wbGV0ZT80OjUpKX0sZGVwZW5kZW5jaWVzOltLLFFdLGVuY2Fwc3VsYXRpb246Mn0pLG59KSgpLHNlPSgoKT0+e3ZhciBlO2NsYXNzIG57Y29uc3RydWN0b3IoKXt0aGlzLnRzPWwoSSksdGhpcy51c2VyPWwoZykudXNlciR9fXJldHVybiBlPW4sZS7JtWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLsm1Y21wPXAoe3R5cGU6ZSxzZWxlY3RvcnM6W1siYXBwLXRvZG8tZm9ybSJdXSxzdGFuZGFsb25lOiEwLGZlYXR1cmVzOlttXSxkZWNsczo0LHZhcnM6MCxjb25zdHM6W1sxLCJmbGV4IiwiZ2FwLTMiLCJpdGVtcy1jZW50ZXIiLCJqdXN0aWZ5LWNlbnRlciIsIm10LTUiLDMsInN1Ym1pdCJdLFsibmFtZSIsInRhc2siLDEsImJvcmRlciIsInAtMiJdLFsidHlwZSIsInN1Ym1pdCIsMSwiYm9yZGVyIiwicC0yIiwicm91bmRlZC1tZCIsInRleHQtd2hpdGUiLCJiZy1za3ktNzAwIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsbyl7dCYxJiYocigwLCJmb3JtIiwwKSxfKCJzdWJtaXQiLGZ1bmN0aW9uKGYpe3JldHVybiBvLnRzLmFkZFRvZG8oZixvLnVzZXIoKS5kYXRhPT1udWxsP251bGw6by51c2VyKCkuZGF0YS51aWQpfSksYygxLCJpbnB1dCIsMSkscigyLCJidXR0b24iLDIpLGkoMywiIEFkZCBUYXNrICIpLGEoKSgpKX0sZW5jYXBzdWxhdGlvbjoyfSksbn0pKCk7Y29uc3QgYWU9KGUsbik9Pm4uaWQ7ZnVuY3Rpb24gcmUoZSxuKXtpZihlJjEmJmMoMCwiYXBwLXRvZG8taXRlbSIsMSksZSYyKXtjb25zdCBzPW4uJGltcGxpY2l0O0MoInRvZG8iLHMpfX1mdW5jdGlvbiBpZShlLG4pe2UmMSYmKHIoMCwicCIpKDEsImIiKSxpKDIsIkFkZCB5b3VyIGZpcnN0IHRvZG8gaXRlbSEiKSxhKCkoKSl9bGV0IGRlPSgoKT0+e3ZhciBlO2NsYXNzIG57Y29uc3RydWN0b3IoKXt0aGlzLnRvZG9zPWwoSSkudG9kb3N9fXJldHVybiBlPW4sZS7JtWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLsm1Y21wPXAoe3R5cGU6ZSxzZWxlY3RvcnM6W1siYXBwLXRvZG9zIl1dLHN0YW5kYWxvbmU6ITAsZmVhdHVyZXM6W21dLGRlY2xzOjYsdmFyczoxLGNvbnN0czpbWzEsImdyaWQiLCJncmlkLWNvbHMtW2F1dG8sYXV0byxhdXRvLGF1dG9dIiwiZ2FwLTMiLCJqdXN0aWZ5LWl0ZW1zLXN0YXJ0Il0sWzEsImNvbnRlbnRzIiwzLCJ0b2RvIl0sWyJjbGFzcyIsImNvbnRlbnRzIiwzLCJ0b2RvIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsbyl7dCYxJiYocigwLCJkaXYiKSgxLCJkaXYiLDApLFgoMixyZSwxLDEsImFwcC10b2RvLWl0ZW0iLDIsYWUsITEsaWUsMywwLCJwIiksYSgpLGMoNSwiYXBwLXRvZG8tZm9ybSIpLGEoKSksdCYyJiYodSgyKSxaKG8udG9kb3MoKS5kYXRhKSl9LGRlcGVuZGVuY2llczpbbmUsc2VdLGVuY2Fwc3VsYXRpb246Mn0pLG59KSgpLHVlPSgoKT0+e3ZhciBlO2NsYXNzIG57Y29uc3RydWN0b3IoKXt0aGlzLnVzPWwoZyl9fXJldHVybiBlPW4sZS7JtWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLsm1Y21wPXAoe3R5cGU6ZSxzZWxlY3RvcnM6W1siYXBwLXByb2ZpbGUiXV0sc3RhbmRhbG9uZTohMCxmZWF0dXJlczpbbV0sZGVjbHM6OSx2YXJzOjMsY29uc3RzOltbMSwiZmxleCIsImZsZXgtY29sIiwiZ2FwLTMiLCJpdGVtcy1jZW50ZXIiXSxbMSwiZm9udC1ib2xkIl0sWyJ3aWR0aCIsIjEwMCIsImhlaWdodCIsIjEwMCIsImFsdCIsInVzZXIgYXZhdGFyIiwzLCJzcmMiXSxbInR5cGUiLCJidXR0b24iLDEsImJvcmRlciIsInAtMiIsInJvdW5kZWQtbWQiLCJ0ZXh0LXdoaXRlIiwiYmctbGltZS02MDAiLDMsImNsaWNrIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsbyl7dCYxJiYocigwLCJkaXYiLDApKDEsImgzIiwxKSxpKDIpLGEoKSxjKDMsImltZyIsMikscig0LCJwIiksaSg1KSxhKCkscig2LCJidXR0b24iLDMpLF8oImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBvLnVzLmxvZ291dCgpfSksaSg3LCIgTG9nb3V0ICIpLGEoKSxjKDgsImFwcC10b2RvcyIpLGEoKSksdCYyJiYodSgyKSxrKCJIaSAiLG8udXMudXNlciQoKS5kYXRhPT1udWxsP251bGw6by51cy51c2VyJCgpLmRhdGEuZGlzcGxheU5hbWUsIiEiKSx1KCksQygic3JjIixvLnVzLnVzZXIkKCkuZGF0YT09bnVsbD9udWxsOm8udXMudXNlciQoKS5kYXRhLnBob3RvVVJMLHEpLHUoMiksaygiWW91ciB1c2VySUQgaXMgIixvLnVzLnVzZXIkKCkuZGF0YT09bnVsbD9udWxsOm8udXMudXNlciQoKS5kYXRhLnVpZCwiIikpfSxkZXBlbmRlbmNpZXM6W2RlXSxlbmNhcHN1bGF0aW9uOjJ9KSxufSkoKTtmdW5jdGlvbiBsZShlLG4pe2UmMSYmKHIoMCwicCIpLGkoMSwiTG9hZGluZy4uLiIpLGEoKSl9ZnVuY3Rpb24gY2UoZSxuKXtlJjEmJmMoMCwiYXBwLXByb2ZpbGUiKX1mdW5jdGlvbiBwZShlLG4pe2lmKGUmMSl7Y29uc3Qgcz1UKCk7cigwLCJidXR0b24iLDIpLF8oImNsaWNrIixmdW5jdGlvbigpe3Yocyk7Y29uc3Qgbz15KCk7cmV0dXJuIGIoby51cy5sb2dpbigpKX0pLGkoMSwiIFNpZ25pbiB3aXRoIEdvb2dsZSAiKSxhKCl9fWxldCBtZT0oKCk9Pnt2YXIgZTtjbGFzcyBue2NvbnN0cnVjdG9yKCl7dGhpcy51cz1sKGcpfX1yZXR1cm4gZT1uLGUuybVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS7JtWNtcD1wKHt0eXBlOmUsc2VsZWN0b3JzOltbImFwcC1pbmRleCJdXSxzdGFuZGFsb25lOiEwLGZlYXR1cmVzOlttXSxkZWNsczo2LHZhcnM6MSxjb25zdHM6W1sxLCJ0ZXh0LWNlbnRlciJdLFsxLCJ0ZXh0LTN4bCIsImZvbnQtc2VtaWJvbGQiLCJteS0zIl0sWyJ0eXBlIiwiYnV0dG9uIiwxLCJib3JkZXIiLCJwLTIiLCJyb3VuZGVkLW1kIiwidGV4dC13aGl0ZSIsImJnLXJlZC02MDAiLDMsImNsaWNrIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsbyl7dCYxJiYocigwLCJkaXYiLDApKDEsImgxIiwxKSxpKDIsIkFuZ3VsYXIgRmlyZWJhc2UgVG9kbyBBcHAiKSxhKCksUCgzLGxlLDIsMCwicCIpKDQsY2UsMSwwKSg1LHBlLDIsMCksYSgpKSx0JjImJih1KDMpLEgoMyxvLnVzLnVzZXIkKCkubG9hZGluZz8zOm8udXMudXNlciQoKS5kYXRhPzQ6NSkpfSxkZXBlbmRlbmNpZXM6W3VlXSxlbmNhcHN1bGF0aW9uOjJ9KSxufSkoKSxmZT0oKCk9Pnt2YXIgZTtjbGFzcyBue31yZXR1cm4gZT1uLGUuybVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS7JtWNtcD1wKHt0eXBlOmUsc2VsZWN0b3JzOltbImFwcC1ob21lIl1dLHN0YW5kYWxvbmU6ITAsZmVhdHVyZXM6W21dLGRlY2xzOjEsdmFyczowLHRlbXBsYXRlOmZ1bmN0aW9uKHQsbyl7dCYxJiZjKDAsImFwcC1pbmRleCIpfSxkZXBlbmRlbmNpZXM6W21lXSxlbmNhcHN1bGF0aW9uOjJ9KSxufSkoKTtleHBvcnR7ZmUgYXMgZGVmYXVsdH07Cg=="),Ft=Object.freeze(Object.defineProperty({__proto__:null,default:Jt},Symbol.toStringTag,{value:"Module"})),zt=defineEventHandler((()=>({message:"Hello World"}))),Ut=Object.freeze(Object.defineProperty({__proto__:null,default:zt},Symbol.toStringTag,{value:"Module"}));function getDefaultExportFromCjs$1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Et,Mt,wt={exports:{}},Pt={};function require_events$1(){if(Et)return Pt;Et=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.EventEmitter=void 0,Pt.once=function(e,t){return new Promise((function(n,l){function errorListener(n){e.removeListener(t,resolver),l(n)}function resolver(){"function"==typeof e.removeListener&&e.removeListener("error",errorListener),n(Array.prototype.slice.call(arguments))}_eventTargetAgnosticAddListener(e,t,resolver,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&_eventTargetAgnosticAddListener(e,"error",t,n)}(e,errorListener,{once:!0})}))};let e=10;class EventEmitter{__unenv__=!0;_events=Object.create(null);_maxListeners;static get defaultMaxListeners(){return e}static set defaultMaxListeners(t){if("number"!=typeof t||t<0||Number.isNaN(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");e=t}setMaxListeners(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this}getMaxListeners(){return _getMaxListeners(this)}emit(e,...t){if(!this._events[e]||0===this._events[e].length)return!1;if("error"===e){let e;if(t.length>0&&(e=t[0]),e instanceof Error)throw e;const n=new Error("Unhandled error."+(e?" ("+e.message+")":""));throw n.context=e,n}for(const n of this._events[e])(n.listener||n).apply(this,t);return!0}addListener(e,t){return _addListener(this,e,t,!1)}on(e,t){return _addListener(this,e,t,!1)}prependListener(e,t){return _addListener(this,e,t,!0)}once(e,t){return this.on(e,_wrapOnce(this,e,t))}prependOnceListener(e,t){return this.prependListener(e,_wrapOnce(this,e,t))}removeListener(e,t){return function(e,t,n){if(_checkListener(n),!e._events[t]||0===e._events[t].length)return e;const l=e._events[t].length;if(e._events[t]=e._events[t].filter((e=>e!==n)),l===e._events[t].length)return e;e._events.removeListener&&e.emit("removeListener",t,n.listener||n);0===e._events[t].length&&delete e._events[t];return e}(this,e,t)}off(e,t){return this.removeListener(e,t)}removeAllListeners(e){return function(e,t){if(!e._events[t]||0===e._events[t].length)return e;if(e._events.removeListener)for(const n of e._events[t])e.emit("removeListener",t,n.listener||n);return delete e._events[t],e}(this,e)}listeners(e){return _listeners(this,e,!0)}rawListeners(e){return _listeners(this,e,!1)}listenerCount(e){return this.rawListeners(e).length}eventNames(){return Object.keys(this._events)}}function _addListener(e,t,n,l){_checkListener(n),void 0!==e._events.newListener&&e.emit("newListener",t,n.listener||n),e._events[t]||(e._events[t]=[]),l?e._events[t].unshift(n):e._events[t].push(n);const i=_getMaxListeners(e);if(i>0&&e._events[t].length>i&&!e._events[t].warned){e._events[t].warned=!0;const n=new Error(`[unenv] Possible EventEmitter memory leak detected. ${e._events[t].length} ${t} listeners added. Use emitter.setMaxListeners() to increase limit`);n.name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=e._events[t]?.length,console.warn(n)}return e}function _wrapOnce(e,t,n){let l=!1;const wrapper=(...i)=>{if(!l)return e.removeListener(t,wrapper),l=!0,0===i.length?n.call(e):n.apply(e,i)};return wrapper.listener=n,wrapper}function _getMaxListeners(e){return e._maxListeners??EventEmitter.defaultMaxListeners}function _listeners(e,t,n){let l=e._events[t];return"function"==typeof l&&(l=[l]),n?l.map((e=>e.listener||e)):l}function _checkListener(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function _eventTargetAgnosticAddListener(e,t,n,l){if("function"==typeof e.on)l.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,n)}}return Pt.EventEmitter=EventEmitter,Pt}function requireEvents(){return Mt||(Mt=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.once=t.default=t.EventEmitter=void 0;var n=require_events$1();const l=t.EventEmitter=globalThis.EventEmitter||n.EventEmitter,i=t.once=n.once;e.exports={EventEmitter:l,once:i}}(wt,wt.exports)),wt.exports}var jt,Bt,Qt={exports:{}},_t={},Dt={exports:{}},Ot=Dt.exports;function requireProxy(){if(jt)return Dt.exports;jt=1,Object.defineProperty(Ot,"__esModule",{value:!0});const fn=function(){};return Dt.exports=function createMock(e,t={}){fn.prototype.name=e;const n={};return new Proxy(fn,{get:(l,i)=>"caller"===i?null:"__createMock__"===i?createMock:"__unenv__"===i||(i in t?t[i]:n[i]=n[i]||createMock(`${e}.${i.toString()}`)),apply:(t,n,l)=>createMock(`${e}()`),construct:(t,n,l)=>createMock(`[${e}]`),enumerate:()=>[]})}("mock"),Dt.exports}function require_classes(){if(Bt)return _t;Bt=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.WriteStream=_t.StatsFs=_t.Stats=_t.ReadStream=_t.FileWriteStream=_t.FileReadStream=_t.Dirent=_t.Dir=void 0;var e,t=(e=requireProxy())&&e.__esModule?e:{default:e};return _t.Dir=t.default.__createMock__("fs.Dir"),_t.Dirent=t.default.__createMock__("fs.Dirent"),_t.Stats=t.default.__createMock__("fs.Stats"),_t.ReadStream=t.default.__createMock__("fs.ReadStream"),_t.WriteStream=t.default.__createMock__("fs.WriteStream"),_t.FileReadStream=t.default.__createMock__("fs.FileReadStream"),_t.FileWriteStream=t.default.__createMock__("fs.FileWriteStream"),_t.StatsFs=t.default.__createMock__("fs.StatsFs"),_t}var At,qt={};function require_constants(){return At||(At=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.constants=qt.X_OK=qt.W_OK=qt.R_OK=qt.F_OK=void 0,qt.F_OK=0,qt.R_OK=4,qt.W_OK=2,qt.X_OK=1,qt.constants=Object.create({UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,O_RDONLY:0,O_WRONLY:1,O_RDWR:2,UV_DIRENT_UNKNOWN:0,UV_DIRENT_FILE:1,UV_DIRENT_DIR:2,UV_DIRENT_LINK:3,UV_DIRENT_FIFO:4,UV_DIRENT_SOCKET:5,UV_DIRENT_CHAR:6,UV_DIRENT_BLOCK:7,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,UV_FS_O_FILEMAP:0,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DSYNC:4096,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_COPYFILE_EXCL:1,COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_FICLONE_FORCE:4})),qt}var $t,en={},tn={};function requireUtils(){if($t)return tn;function createNotImplementedError(e){throw new Error(`[unenv] ${e} is not implemented yet!`)}return $t=1,Object.defineProperty(tn,"__esModule",{value:!0}),tn.createNotImplementedError=createNotImplementedError,tn.mergeFns=function(...e){return function(...t){for(const n of e)n(...t)}},tn.notImplemented=function(e){return Object.assign((()=>{throw createNotImplementedError(e)}),{__unenv__:!0})},tn.notImplementedClass=function(e){return class{__unenv__=!0;constructor(){throw new Error(`[unenv] ${e} is not implemented yet!`)}}},tn.rawHeaders=function(e){const t=[];for(const n in e)if(Array.isArray(e[n]))for(const l of e[n])t.push(n,l);else t.push(n,e[n]);return t},tn}var nn,ln,sn,on={exports:{}};function require_promises(){return nn||(nn=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.chown=t.chmod=t.appendFile=t.access=void 0,Object.defineProperty(t,"constants",{enumerable:!0,get:function(){return l.constants}}),t.writeFile=t.watch=t.utimes=t.unlink=t.truncate=t.symlink=t.statfs=t.stat=t.rmdir=t.rm=t.rename=t.realpath=t.readlink=t.readdir=t.readFile=t.opendir=t.open=t.mkdtemp=t.mkdir=t.lutimes=t.lstat=t.link=t.lchown=t.lchmod=t.default=t.cp=t.copyFile=void 0;var n=requireUtils(),l=require_constants();t.access=(0,n.notImplemented)("fs.access"),t.copyFile=(0,n.notImplemented)("fs.copyFile"),t.cp=(0,n.notImplemented)("fs.cp"),t.open=(0,n.notImplemented)("fs.open"),t.opendir=(0,n.notImplemented)("fs.opendir"),t.rename=(0,n.notImplemented)("fs.rename"),t.truncate=(0,n.notImplemented)("fs.truncate"),t.rm=(0,n.notImplemented)("fs.rm"),t.rmdir=(0,n.notImplemented)("fs.rmdir"),t.mkdir=(0,n.notImplemented)("fs.mkdir"),t.readdir=(0,n.notImplemented)("fs.readdir"),t.readlink=(0,n.notImplemented)("fs.readlink"),t.symlink=(0,n.notImplemented)("fs.symlink"),t.lstat=(0,n.notImplemented)("fs.lstat"),t.stat=(0,n.notImplemented)("fs.stat"),t.link=(0,n.notImplemented)("fs.link"),t.unlink=(0,n.notImplemented)("fs.unlink"),t.chmod=(0,n.notImplemented)("fs.chmod"),t.lchmod=(0,n.notImplemented)("fs.lchmod"),t.lchown=(0,n.notImplemented)("fs.lchown"),t.chown=(0,n.notImplemented)("fs.chown"),t.utimes=(0,n.notImplemented)("fs.utimes"),t.lutimes=(0,n.notImplemented)("fs.lutimes"),t.realpath=(0,n.notImplemented)("fs.realpath"),t.mkdtemp=(0,n.notImplemented)("fs.mkdtemp"),t.writeFile=(0,n.notImplemented)("fs.writeFile"),t.appendFile=(0,n.notImplemented)("fs.appendFile"),t.readFile=(0,n.notImplemented)("fs.readFile"),t.watch=(0,n.notImplemented)("fs.watch"),t.statfs=(0,n.notImplemented)("fs.statfs"),e.exports={}}(on,on.exports)),on.exports}function require_fs(){if(ln)return en;ln=1,Object.defineProperty(en,"__esModule",{value:!0}),en.writevSync=en.writev=en.writeSync=en.writeFileSync=en.writeFile=en.write=en.watchFile=en.watch=en.utimesSync=en.utimes=en.unwatchFile=en.unlinkSync=en.unlink=en.truncateSync=en.truncate=en.symlinkSync=en.symlink=en.statfsSync=en.statfs=en.statSync=en.stat=en.rmdirSync=en.rmdir=en.rmSync=en.rm=en.renameSync=en.rename=en.realpathSync=en.realpath=en.readvSync=en.readv=en.readlinkSync=en.readlink=en.readdirSync=en.readdir=en.readSync=en.readFileSync=en.readFile=en.read=en.opendirSync=en.opendir=en.openSync=en.openAsBlob=en.open=en.mkdtempSync=en.mkdtemp=en.mkdirSync=en.mkdir=en.lutimesSync=en.lutimes=en.lstatSync=en.lstat=en.linkSync=en.link=en.lchownSync=en.lchown=en.lchmodSync=en.lchmod=en.futimesSync=en.futimes=en.ftruncateSync=en.ftruncate=en.fsyncSync=en.fsync=en.fstatSync=en.fstat=en.fdatasyncSync=en.fdatasync=en.fchownSync=en.fchown=en.fchmodSync=en.fchmod=en.existsSync=en.exists=en.createWriteStream=en.createReadStream=en.cpSync=en.cp=en.copyFileSync=en.copyFile=en.closeSync=en.close=en.chownSync=en.chown=en.chmodSync=en.chmod=en.appendFileSync=en.appendFile=en.accessSync=en.access=en._toUnixTimestamp=void 0;var e=requireUtils(),t=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_getRequireWildcardCache(t);if(n&&n.has(e))return n.get(e);var l={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(l,s,o):l[s]=e[s]}return l.default=e,n&&n.set(e,l),l}(require_promises());function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_getRequireWildcardCache=function(e){return e?n:t})(e)}function notImplementedAsync(t){const n=(0,e.notImplemented)(t);return n.__promisify__=()=>(0,e.notImplemented)(t+".__promisify__"),n.native=n,n}function callbackify(e){const fnc=function(...t){const n=t.pop();e().catch((e=>n(e))).then((e=>n(void 0,e)))};return fnc.__promisify__=e,fnc.native=fnc,fnc}en.access=callbackify(t.access),en.appendFile=callbackify(t.appendFile),en.chown=callbackify(t.chown),en.chmod=callbackify(t.chmod),en.copyFile=callbackify(t.copyFile),en.cp=callbackify(t.cp),en.lchown=callbackify(t.lchown),en.lchmod=callbackify(t.lchmod),en.link=callbackify(t.link),en.lstat=callbackify(t.lstat),en.lutimes=callbackify(t.lutimes),en.mkdir=callbackify(t.mkdir),en.mkdtemp=callbackify(t.mkdtemp),en.realpath=callbackify(t.realpath),en.open=callbackify(t.open),en.opendir=callbackify(t.opendir),en.readdir=callbackify(t.readdir),en.readFile=callbackify(t.readFile),en.readlink=callbackify(t.readlink),en.rename=callbackify(t.rename),en.rm=callbackify(t.rm),en.rmdir=callbackify(t.rmdir),en.stat=callbackify(t.stat),en.symlink=callbackify(t.symlink),en.truncate=callbackify(t.truncate),en.unlink=callbackify(t.unlink),en.utimes=callbackify(t.utimes),en.writeFile=callbackify(t.writeFile),en.statfs=callbackify(t.statfs),en.close=notImplementedAsync("fs.close"),en.createReadStream=notImplementedAsync("fs.createReadStream"),en.createWriteStream=notImplementedAsync("fs.createWriteStream"),en.exists=notImplementedAsync("fs.exists"),en.fchown=notImplementedAsync("fs.fchown"),en.fchmod=notImplementedAsync("fs.fchmod"),en.fdatasync=notImplementedAsync("fs.fdatasync"),en.fstat=notImplementedAsync("fs.fstat"),en.fsync=notImplementedAsync("fs.fsync"),en.ftruncate=notImplementedAsync("fs.ftruncate"),en.futimes=notImplementedAsync("fs.futimes"),en.lstatSync=notImplementedAsync("fs.lstatSync"),en.read=notImplementedAsync("fs.read"),en.readv=notImplementedAsync("fs.readv"),en.realpathSync=notImplementedAsync("fs.realpathSync"),en.statSync=notImplementedAsync("fs.statSync"),en.unwatchFile=notImplementedAsync("fs.unwatchFile"),en.watch=notImplementedAsync("fs.watch"),en.watchFile=notImplementedAsync("fs.watchFile"),en.write=notImplementedAsync("fs.write"),en.writev=notImplementedAsync("fs.writev"),en._toUnixTimestamp=notImplementedAsync("fs._toUnixTimestamp"),en.openAsBlob=notImplementedAsync("fs.openAsBlob"),en.appendFileSync=(0,e.notImplemented)("fs.appendFileSync"),en.accessSync=(0,e.notImplemented)("fs.accessSync"),en.chownSync=(0,e.notImplemented)("fs.chownSync"),en.chmodSync=(0,e.notImplemented)("fs.chmodSync"),en.closeSync=(0,e.notImplemented)("fs.closeSync"),en.copyFileSync=(0,e.notImplemented)("fs.copyFileSync"),en.cpSync=(0,e.notImplemented)("fs.cpSync");return en.existsSync=()=>!1,en.fchownSync=(0,e.notImplemented)("fs.fchownSync"),en.fchmodSync=(0,e.notImplemented)("fs.fchmodSync"),en.fdatasyncSync=(0,e.notImplemented)("fs.fdatasyncSync"),en.fstatSync=(0,e.notImplemented)("fs.fstatSync"),en.fsyncSync=(0,e.notImplemented)("fs.fsyncSync"),en.ftruncateSync=(0,e.notImplemented)("fs.ftruncateSync"),en.futimesSync=(0,e.notImplemented)("fs.futimesSync"),en.lchownSync=(0,e.notImplemented)("fs.lchownSync"),en.lchmodSync=(0,e.notImplemented)("fs.lchmodSync"),en.linkSync=(0,e.notImplemented)("fs.linkSync"),en.lutimesSync=(0,e.notImplemented)("fs.lutimesSync"),en.mkdirSync=(0,e.notImplemented)("fs.mkdirSync"),en.mkdtempSync=(0,e.notImplemented)("fs.mkdtempSync"),en.openSync=(0,e.notImplemented)("fs.openSync"),en.opendirSync=(0,e.notImplemented)("fs.opendirSync"),en.readdirSync=(0,e.notImplemented)("fs.readdirSync"),en.readSync=(0,e.notImplemented)("fs.readSync"),en.readvSync=(0,e.notImplemented)("fs.readvSync"),en.readFileSync=(0,e.notImplemented)("fs.readFileSync"),en.readlinkSync=(0,e.notImplemented)("fs.readlinkSync"),en.renameSync=(0,e.notImplemented)("fs.renameSync"),en.rmSync=(0,e.notImplemented)("fs.rmSync"),en.rmdirSync=(0,e.notImplemented)("fs.rmdirSync"),en.symlinkSync=(0,e.notImplemented)("fs.symlinkSync"),en.truncateSync=(0,e.notImplemented)("fs.truncateSync"),en.unlinkSync=(0,e.notImplemented)("fs.unlinkSync"),en.utimesSync=(0,e.notImplemented)("fs.utimesSync"),en.writeFileSync=(0,e.notImplemented)("fs.writeFileSync"),en.writeSync=(0,e.notImplemented)("fs.writeSync"),en.writevSync=(0,e.notImplemented)("fs.writevSync"),en.statfsSync=(0,e.notImplemented)("fs.statfsSync"),en}function requireFs(){return sn||(sn=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={promises:!0};t.promises=t.default=void 0;var l=_interopRequireWildcard(require_classes());Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var i=_interopRequireWildcard(require_constants());Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var s=_interopRequireWildcard(require_fs());Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var o=_interopRequireWildcard(require_promises());function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_getRequireWildcardCache=function(e){return e?n:t})(e)}function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_getRequireWildcardCache(t);if(n&&n.has(e))return n.get(e);var l={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(l,s,o):l[s]=e[s]}return l.default=e,n&&n.set(e,l),l}const u=t.promises=o;e.exports={...l,...i,...s,promises:u}}(Qt,Qt.exports)),Qt.exports}var cn,an={exports:{}},rn={};function requireWeb(){if(cn)return rn;cn=1,Object.defineProperty(rn,"__esModule",{value:!0}),rn.subtle=rn.randomUUID=rn.getRandomValues=void 0,rn.subtle=globalThis.crypto?.subtle;rn.randomUUID=()=>globalThis.crypto?.randomUUID();return rn.getRandomValues=e=>globalThis.crypto?.getRandomValues(e),rn}var un,dn,hn={};function requireNode(){if(un)return hn;un=1,Object.defineProperty(hn,"__esModule",{value:!0}),hn.webcrypto=hn.verify=hn.timingSafeEqual=hn.sign=hn.setFips=hn.setEngine=hn.secureHeapUsed=hn.scryptSync=hn.scrypt=hn.randomInt=hn.randomFillSync=hn.randomFill=hn.randomBytes=hn.publicEncrypt=hn.publicDecrypt=hn.pseudoRandomBytes=hn.privateEncrypt=hn.privateDecrypt=hn.pbkdf2Sync=hn.pbkdf2=hn.hkdfSync=hn.hkdf=hn.getHashes=hn.getFips=hn.getDiffieHellman=hn.getCurves=hn.getCiphers=hn.getCipherInfo=hn.generatePrimeSync=hn.generatePrime=hn.generateKeySync=hn.generateKeyPairSync=hn.generateKeyPair=hn.generateKey=hn.fips=hn.diffieHellman=hn.createVerify=hn.createSign=hn.createSecretKey=hn.createPublicKey=hn.createPrivateKey=hn.createHmac=hn.createHash=hn.createECDH=hn.createDiffieHellmanGroup=hn.createDiffieHellman=hn.createDecipheriv=hn.createDecipher=hn.createCipheriv=hn.createCipher=hn.constants=hn.checkPrimeSync=hn.checkPrime=hn.X509Certificate=hn.Verify=hn.Sign=hn.KeyObject=hn.Hmac=hn.Hash=hn.ECDH=hn.DiffieHellmanGroup=hn.DiffieHellman=hn.Decipheriv=hn.Decipher=hn.Cipheriv=hn.Cipher=hn.Certificate=void 0;var e=requireUtils(),t=requireWeb();hn.webcrypto=new Proxy(globalThis.crypto,{get:(e,t)=>"CryptoKey"===t?globalThis.CryptoKey:"function"==typeof globalThis.crypto[t]?globalThis.crypto[t].bind(globalThis.crypto):globalThis.crypto[t]});return hn.randomBytes=(e,n)=>{const l=E.alloc(e,0,void 0);for(let n=0;n<e;n+=65536)(0,t.getRandomValues)(Uint8Array.prototype.slice.call(l,n,n+65536));if("function"!=typeof n)return l;n(null,l)},hn.fips=!1,hn.constants={},hn.checkPrime=(0,e.notImplemented)("crypto.checkPrime"),hn.checkPrimeSync=(0,e.notImplemented)("crypto.checkPrimeSync"),hn.createCipher=(0,e.notImplemented)("crypto.createCipher"),hn.createDecipher=(0,e.notImplemented)("crypto.createDecipher"),hn.pseudoRandomBytes=(0,e.notImplemented)("crypto.pseudoRandomBytes"),hn.createCipheriv=(0,e.notImplemented)("crypto.createCipheriv"),hn.createDecipheriv=(0,e.notImplemented)("crypto.createDecipheriv"),hn.createDiffieHellman=(0,e.notImplemented)("crypto.createDiffieHellman"),hn.createDiffieHellmanGroup=(0,e.notImplemented)("crypto.createDiffieHellmanGroup"),hn.createECDH=(0,e.notImplemented)("crypto.createECDH"),hn.createHash=(0,e.notImplemented)("crypto.createHash"),hn.createHmac=(0,e.notImplemented)("crypto.createHmac"),hn.createPrivateKey=(0,e.notImplemented)("crypto.createPrivateKey"),hn.createPublicKey=(0,e.notImplemented)("crypto.createPublicKey"),hn.createSecretKey=(0,e.notImplemented)("crypto.createSecretKey"),hn.createSign=(0,e.notImplemented)("crypto.createSign"),hn.createVerify=(0,e.notImplemented)("crypto.createVerify"),hn.diffieHellman=(0,e.notImplemented)("crypto.diffieHellman"),hn.generatePrime=(0,e.notImplemented)("crypto.generatePrime"),hn.generatePrimeSync=(0,e.notImplemented)("crypto.generatePrimeSync"),hn.getCiphers=(0,e.notImplemented)("crypto.getCiphers"),hn.getCipherInfo=(0,e.notImplemented)("crypto.getCipherInfo"),hn.getCurves=(0,e.notImplemented)("crypto.getCurves"),hn.getDiffieHellman=(0,e.notImplemented)("crypto.getDiffieHellman"),hn.getHashes=(0,e.notImplemented)("crypto.getHashes"),hn.hkdf=(0,e.notImplemented)("crypto.hkdf"),hn.hkdfSync=(0,e.notImplemented)("crypto.hkdfSync"),hn.pbkdf2=(0,e.notImplemented)("crypto.pbkdf2"),hn.pbkdf2Sync=(0,e.notImplemented)("crypto.pbkdf2Sync"),hn.generateKeyPair=(0,e.notImplemented)("crypto.generateKeyPair"),hn.generateKeyPairSync=(0,e.notImplemented)("crypto.generateKeyPairSync"),hn.generateKey=(0,e.notImplemented)("crypto.generateKey"),hn.generateKeySync=(0,e.notImplemented)("crypto.generateKeySync"),hn.privateDecrypt=(0,e.notImplemented)("crypto.privateDecrypt"),hn.privateEncrypt=(0,e.notImplemented)("crypto.privateEncrypt"),hn.publicDecrypt=(0,e.notImplemented)("crypto.publicDecrypt"),hn.publicEncrypt=(0,e.notImplemented)("crypto.publicEncrypt"),hn.randomFill=(0,e.notImplemented)("crypto.randomFill"),hn.randomFillSync=(0,e.notImplemented)("crypto.randomFillSync"),hn.randomInt=(0,e.notImplemented)("crypto.randomInt"),hn.scrypt=(0,e.notImplemented)("crypto.scrypt"),hn.scryptSync=(0,e.notImplemented)("crypto.scryptSync"),hn.sign=(0,e.notImplemented)("crypto.sign"),hn.setEngine=(0,e.notImplemented)("crypto.setEngine"),hn.timingSafeEqual=(0,e.notImplemented)("crypto.timingSafeEqual"),hn.getFips=(0,e.notImplemented)("crypto.getFips"),hn.setFips=(0,e.notImplemented)("crypto.setFips"),hn.verify=(0,e.notImplemented)("crypto.verify"),hn.secureHeapUsed=(0,e.notImplemented)("crypto.secureHeapUsed"),hn.Certificate=(0,e.notImplementedClass)("crypto.Certificate"),hn.Cipher=(0,e.notImplementedClass)("crypto.Cipher"),hn.Cipheriv=(0,e.notImplementedClass)("crypto.Cipheriv"),hn.Decipher=(0,e.notImplementedClass)("crypto.Decipher"),hn.Decipheriv=(0,e.notImplementedClass)("crypto.Decipheriv"),hn.DiffieHellman=(0,e.notImplementedClass)("crypto.DiffieHellman"),hn.DiffieHellmanGroup=(0,e.notImplementedClass)("crypto.DiffieHellmanGroup"),hn.ECDH=(0,e.notImplementedClass)("crypto.ECDH"),hn.Hash=(0,e.notImplementedClass)("crypto.Hash"),hn.Hmac=(0,e.notImplementedClass)("crypto.Hmac"),hn.KeyObject=(0,e.notImplementedClass)("crypto.KeyObject"),hn.Sign=(0,e.notImplementedClass)("crypto.Sign"),hn.Verify=(0,e.notImplementedClass)("crypto.Verify"),hn.X509Certificate=(0,e.notImplementedClass)("crypto.X509Certificate"),hn}function requireCrypto(){return dn||(dn=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={},l=_interopRequireWildcard(requireWeb());Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var i=_interopRequireWildcard(requireNode());function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_getRequireWildcardCache=function(e){return e?n:t})(e)}function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_getRequireWildcardCache(t);if(n&&n.has(e))return n.get(e);var l={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(l,s,o):l[s]=e[s]}return l.default=e,n&&n.set(e,l),l}Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))})),e.exports={...l,...i}}(an,an.exports)),an.exports}!function(e){const t=e.performance;function mark(e){t&&t.mark&&t.mark(e)}function performanceMeasure(e,n){t&&t.measure&&t.measure(e,n)}mark("Zone");const n=e.__Zone_symbol_prefix||"__zone_symbol__";function __symbol__(e){return n+e}const l=!0===e[__symbol__("forceDuplicateZoneCheck")];if(e.Zone){if(l||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}class Zone{static{this.__symbol__=__symbol__}static assertZonePatched(){if(e.Promise!==z.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let e=Zone.current;for(;e.parent;)e=e.parent;return e}static get current(){return w.zone}static get currentTask(){return j}static __load_patch(t,n,i=!1){if(z.hasOwnProperty(t)){if(!i&&l)throw Error("Already loaded patch: "+t)}else if(!e["__Zone_disable_"+t]){const l="Zone:"+t;mark(l),z[t]=n(e,Zone,E),performanceMeasure(l,l)}}get parent(){return this._parent}get name(){return this._name}constructor(e,t){this._parent=e,this._name=t?t.name||"unnamed":"<root>",this._properties=t&&t.properties||{},this._zoneDelegate=new _ZoneDelegate(this,this._parent&&this._parent._zoneDelegate,t)}get(e){const t=this.getZoneWith(e);if(t)return t._properties[e]}getZoneWith(e){let t=this;for(;t;){if(t._properties.hasOwnProperty(e))return t;t=t._parent}return null}fork(e){if(!e)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,e)}wrap(e,t){if("function"!=typeof e)throw new Error("Expecting function got: "+e);const n=this._zoneDelegate.intercept(this,e,t),l=this;return function(){return l.runGuarded(n,this,arguments,t)}}run(e,t,n,l){w={parent:w,zone:this};try{return this._zoneDelegate.invoke(this,e,t,n,l)}finally{w=w.parent}}runGuarded(e,t=null,n,l){w={parent:w,zone:this};try{try{return this._zoneDelegate.invoke(this,e,t,n,l)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{w=w.parent}}runTask(e,t,n){if(e.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(e.zone||b).name+"; Execution: "+this.name+")");if(e.state===V&&(e.type===F||e.type===C))return;const l=e.state!=S;l&&e._transitionTo(S,f),e.runCount++;const i=j;j=e,w={parent:w,zone:this};try{e.type==C&&e.data&&!e.data.isPeriodic&&(e.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,e,t,n)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{e.state!==V&&e.state!==v&&(e.type==F||e.data&&e.data.isPeriodic?l&&e._transitionTo(f,S):(e.runCount=0,this._updateTaskCount(e,-1),l&&e._transitionTo(V,S,V))),w=w.parent,j=i}}scheduleTask(e){if(e.zone&&e.zone!==this){let t=this;for(;t;){if(t===e.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${e.zone.name}`);t=t.parent}}e._transitionTo(g,V);const t=[];e._zoneDelegates=t,e._zone=this;try{e=this._zoneDelegate.scheduleTask(this,e)}catch(t){throw e._transitionTo(v,g,V),this._zoneDelegate.handleError(this,t),t}return e._zoneDelegates===t&&this._updateTaskCount(e,1),e.state==g&&e._transitionTo(f,g),e}scheduleMicroTask(e,t,n,l){return this.scheduleTask(new ZoneTask(k,e,t,n,l,void 0))}scheduleMacroTask(e,t,n,l,i){return this.scheduleTask(new ZoneTask(C,e,t,n,l,i))}scheduleEventTask(e,t,n,l,i){return this.scheduleTask(new ZoneTask(F,e,t,n,l,i))}cancelTask(e){if(e.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(e.zone||b).name+"; Execution: "+this.name+")");if(e.state===f||e.state===S){e._transitionTo(L,f,S);try{this._zoneDelegate.cancelTask(this,e)}catch(t){throw e._transitionTo(v,L),this._zoneDelegate.handleError(this,t),t}return this._updateTaskCount(e,-1),e._transitionTo(V,L),e.runCount=0,e}}_updateTaskCount(e,t){const n=e._zoneDelegates;-1==t&&(e._zoneDelegates=null);for(let l=0;l<n.length;l++)n[l]._updateTaskCount(e.type,t)}}const i={name:"",onHasTask:(e,t,n,l)=>e.hasTask(n,l),onScheduleTask:(e,t,n,l)=>e.scheduleTask(n,l),onInvokeTask:(e,t,n,l,i,s)=>e.invokeTask(n,l,i,s),onCancelTask:(e,t,n,l)=>e.cancelTask(n,l)};class _ZoneDelegate{constructor(e,t,n){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=e,this._parentDelegate=t,this._forkZS=n&&(n&&n.onFork?n:t._forkZS),this._forkDlgt=n&&(n.onFork?t:t._forkDlgt),this._forkCurrZone=n&&(n.onFork?this.zone:t._forkCurrZone),this._interceptZS=n&&(n.onIntercept?n:t._interceptZS),this._interceptDlgt=n&&(n.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=n&&(n.onIntercept?this.zone:t._interceptCurrZone),this._invokeZS=n&&(n.onInvoke?n:t._invokeZS),this._invokeDlgt=n&&(n.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=n&&(n.onInvoke?this.zone:t._invokeCurrZone),this._handleErrorZS=n&&(n.onHandleError?n:t._handleErrorZS),this._handleErrorDlgt=n&&(n.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=n&&(n.onHandleError?this.zone:t._handleErrorCurrZone),this._scheduleTaskZS=n&&(n.onScheduleTask?n:t._scheduleTaskZS),this._scheduleTaskDlgt=n&&(n.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=n&&(n.onScheduleTask?this.zone:t._scheduleTaskCurrZone),this._invokeTaskZS=n&&(n.onInvokeTask?n:t._invokeTaskZS),this._invokeTaskDlgt=n&&(n.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=n&&(n.onInvokeTask?this.zone:t._invokeTaskCurrZone),this._cancelTaskZS=n&&(n.onCancelTask?n:t._cancelTaskZS),this._cancelTaskDlgt=n&&(n.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=n&&(n.onCancelTask?this.zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const l=n&&n.onHasTask,s=t&&t._hasTaskZS;(l||s)&&(this._hasTaskZS=l?n:i,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=e,n.onScheduleTask||(this._scheduleTaskZS=i,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),n.onInvokeTask||(this._invokeTaskZS=i,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),n.onCancelTask||(this._cancelTaskZS=i,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}fork(e,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,e,t):new Zone(e,t)}intercept(e,t,n){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,e,t,n):t}invoke(e,t,n,l,i){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,e,t,n,l,i):t.apply(n,l)}handleError(e,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,e,t)}scheduleTask(e,t){let n=t;if(this._scheduleTaskZS)this._hasTaskZS&&n._zoneDelegates.push(this._hasTaskDlgtOwner),n=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,e,t),n||(n=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=k)throw new Error("Task is missing scheduleFn.");scheduleMicroTask(t)}return n}invokeTask(e,t,n,l){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,e,t,n,l):t.callback.apply(n,l)}cancelTask(e,t){let n;if(this._cancelTaskZS)n=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,e,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");n=t.cancelFn(t)}return n}hasTask(e,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,e,t)}catch(t){this.handleError(e,t)}}_updateTaskCount(e,t){const n=this._taskCounts,l=n[e],i=n[e]=l+t;if(i<0)throw new Error("More tasks executed then were scheduled.");if(0==l||0==i){const t={microTask:n.microTask>0,macroTask:n.macroTask>0,eventTask:n.eventTask>0,change:e};this.hasTask(this.zone,t)}}}class ZoneTask{constructor(t,n,l,i,s,o){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=t,this.source=n,this.data=i,this.scheduleFn=s,this.cancelFn=o,!l)throw new Error("callback is not defined");this.callback=l;const u=this;t===F&&i&&i.useG?this.invoke=ZoneTask.invokeTask:this.invoke=function(){return ZoneTask.invokeTask.call(e,u,this,arguments)}}static invokeTask(e,t,n){e||(e=this),_++;try{return e.runCount++,e.zone.runTask(e,t,n)}finally{1==_&&drainMicroTaskQueue(),_--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(V,g)}_transitionTo(e,t,n){if(this._state!==t&&this._state!==n)throw new Error(`${this.type} '${this.source}': can not transition to '${e}', expecting state '${t}'${n?" or '"+n+"'":""}, was '${this._state}'.`);this._state=e,e==V&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const s=__symbol__("setTimeout"),o=__symbol__("Promise"),u=__symbol__("then");let d,h=[],m=!1;function nativeScheduleMicroTask(t){if(d||e[o]&&(d=e[o].resolve(0)),d){let e=d[u];e||(e=d.then),e.call(d,t)}else e[s](t,0)}function scheduleMicroTask(e){0===_&&0===h.length&&nativeScheduleMicroTask(drainMicroTaskQueue),e&&h.push(e)}function drainMicroTaskQueue(){if(!m){for(m=!0;h.length;){const e=h;h=[];for(let t=0;t<e.length;t++){const n=e[t];try{n.zone.runTask(n,null,null)}catch(e){E.onUnhandledError(e)}}}E.microtaskDrainDone(),m=!1}}const b={name:"NO ZONE"},V="notScheduled",g="scheduling",f="scheduled",S="running",L="canceling",v="unknown",k="microTask",C="macroTask",F="eventTask",z={},E={symbol:__symbol__,currentZoneFrame:()=>w,onUnhandledError:noop,microtaskDrainDone:noop,scheduleMicroTask:scheduleMicroTask,showUncaughtError:()=>!Zone[__symbol__("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:noop,patchMethod:()=>noop,bindArguments:()=>[],patchThen:()=>noop,patchMacroTask:()=>noop,patchEventPrototype:()=>noop,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>noop,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>noop,wrapWithCurrentZone:()=>noop,filterProperties:()=>[],attachOriginToPatched:()=>noop,_redefineProperty:()=>noop,patchCallbacks:()=>noop,nativeScheduleMicroTask:nativeScheduleMicroTask};let w={parent:null,zone:new Zone(null,null)},j=null,_=0;function noop(){}performanceMeasure("Zone","Zone"),e.Zone=Zone}(globalThis);const mn=Object.getOwnPropertyDescriptor,bn=Object.defineProperty,pn=Object.getPrototypeOf,Zn=Array.prototype.slice,yn="addEventListener",Gn="removeEventListener";Zone.__symbol__(yn),Zone.__symbol__(Gn);const Xn="true",Vn="false",Wn=Zone.__symbol__("");function wrapWithCurrentZone(e,t){return Zone.current.wrap(e,t)}function scheduleMacroTaskWithCurrentZone(e,t,n,l,i){return Zone.current.scheduleMacroTask(e,t,n,l,i)}const Rn=Zone.__symbol__,gn=globalThis,In="removeAttribute";function bindArguments(e,t){for(let n=e.length-1;n>=0;n--)"function"==typeof e[n]&&(e[n]=wrapWithCurrentZone(e[n],t+"_"+n));return e}const Sn="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,Ln=!("nw"in gn)&&void 0!==gn.process&&"[object process]"==={}.toString.call(gn.process),Yn=!Ln&&!Sn&&!1,Kn=void 0!==gn.process&&"[object process]"==={}.toString.call(gn.process)&&!Sn&&!1,xn={},wrapFn=function(e){if(!(e=e||gn.event))return;let t=xn[e.type];t||(t=xn[e.type]=Rn("ON_PROPERTY"+e.type));const n=this||e.target||gn,l=n[t];let i;if(Yn&&undefined===n&&"error"===e.type){const t=e;i=l&&l.call(this,t.message,t.filename,t.lineno,t.colno,t.error),!0===i&&e.preventDefault()}else i=l&&l.apply(this,arguments),null==i||i||e.preventDefault();return i};function patchProperty(e,t,n){let l=mn(e,t);if(!l&&n){mn(n,t)&&(l={enumerable:!0,configurable:!0})}if(!l||!l.configurable)return;const i=Rn("on"+t+"patched");if(e.hasOwnProperty(i)&&e[i])return;delete l.writable,delete l.value;const s=l.get,o=l.set,u=t.slice(2);let d=xn[u];d||(d=xn[u]=Rn("ON_PROPERTY"+u)),l.set=function(t){let n=this;if(n||e!==gn||(n=gn),!n)return;"function"==typeof n[d]&&n.removeEventListener(u,wrapFn),o&&o.call(n,null),n[d]=t,"function"==typeof t&&n.addEventListener(u,wrapFn,!1)},l.get=function(){let n=this;if(n||e!==gn||(n=gn),!n)return null;const i=n[d];if(i)return i;if(s){let e=s.call(this);if(e)return l.set.call(this,e),"function"==typeof n[In]&&n.removeAttribute(t),e}return null},bn(e,t,l),e[i]=!0}function patchOnProperties(e,t,n){if(t)for(let l=0;l<t.length;l++)patchProperty(e,"on"+t[l],n);else{const t=[];for(const n in e)"on"==n.slice(0,2)&&t.push(n);for(let l=0;l<t.length;l++)patchProperty(e,t[l],n)}}Rn("originalInstance");let Nn=!1;function patchMethod(e,t,n){let l=e;for(;l&&!l.hasOwnProperty(t);)l=pn(l);!l&&e[t]&&(l=e);const i=Rn(t);let s=null;if(l&&(!(s=l[i])||!l.hasOwnProperty(i))){s=l[i]=l[t];const e=l&&mn(l,t);if(!(o=e)||!1!==o.writable&&("function"!=typeof o.get||void 0!==o.set)){const e=n(s,i,t);l[t]=function(){return e(this,arguments)},attachOriginToPatched(l[t],s),Nn&&function(e,t){if("function"!=typeof Object.getOwnPropertySymbols)return;Object.getOwnPropertySymbols(e).forEach((n=>{const l=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){(!l||l.writable&&"function"==typeof l.set)&&(e[n]=t)},enumerable:!l||l.enumerable,configurable:!l||l.configurable})}))}(s,l[t])}}var o;return s}function patchMacroTask(e,t,n){let l=null;function scheduleTask(e){const t=e.data;return t.args[t.cbIdx]=function(){e.invoke.apply(this,arguments)},l.apply(t.target,t.args),e}l=patchMethod(e,t,(e=>function(t,l){const i=n(t,l);return i.cbIdx>=0&&"function"==typeof l[i.cbIdx]?scheduleMacroTaskWithCurrentZone(i.name,l[i.cbIdx],i,scheduleTask):e.apply(t,l)}))}function attachOriginToPatched(e,t){e[Rn("OriginalDelegate")]=t}Zone.__load_patch("ZoneAwarePromise",((e,t,n)=>{const l=Object.getOwnPropertyDescriptor,i=Object.defineProperty;const s=n.symbol,o=[],u=!1!==e[s("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],d=s("Promise"),h=s("then"),m="__creationTrace__";n.onUnhandledError=e=>{if(n.showUncaughtError()){const t=e&&e.rejection;t?console.error("Unhandled Promise rejection:",t instanceof Error?t.message:t,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",t,t instanceof Error?t.stack:void 0):console.error(e)}},n.microtaskDrainDone=()=>{for(;o.length;){const e=o.shift();try{e.zone.runGuarded((()=>{if(e.throwOriginal)throw e.rejection;throw e}))}catch(e){handleUnhandledRejection(e)}}};const b=s("unhandledPromiseRejectionHandler");function handleUnhandledRejection(e){n.onUnhandledError(e);try{const n=t[b];"function"==typeof n&&n.call(this,e)}catch(e){}}function isThenable(e){return e&&e.then}function forwardResolution(e){return e}function forwardRejection(e){return ZoneAwarePromise.reject(e)}const V=s("state"),g=s("value"),f=s("finally"),S=s("parentPromiseValue"),L=s("parentPromiseState"),v="Promise.then",k=null,C=!0,F=!1,z=0;function makeResolver(e,t){return n=>{try{resolvePromise(e,t,n)}catch(t){resolvePromise(e,!1,t)}}}const once=function(){let e=!1;return function(t){return function(){e||(e=!0,t.apply(null,arguments))}}},E="Promise resolved with itself",w=s("currentTaskTrace");function resolvePromise(e,l,s){const d=once();if(e===s)throw new TypeError(E);if(e[V]===k){let h=null;try{"object"!=typeof s&&"function"!=typeof s||(h=s&&s.then)}catch(t){return d((()=>{resolvePromise(e,!1,t)}))(),e}if(l!==F&&s instanceof ZoneAwarePromise&&s.hasOwnProperty(V)&&s.hasOwnProperty(g)&&s[V]!==k)clearRejectedNoCatch(s),resolvePromise(e,s[V],s[g]);else if(l!==F&&"function"==typeof h)try{h.call(s,d(makeResolver(e,l)),d(makeResolver(e,!1)))}catch(t){d((()=>{resolvePromise(e,!1,t)}))()}else{e[V]=l;const d=e[g];if(e[g]=s,e[f]===f&&l===C&&(e[V]=e[L],e[g]=e[S]),l===F&&s instanceof Error){const e=t.currentTask&&t.currentTask.data&&t.currentTask.data[m];e&&i(s,w,{configurable:!0,enumerable:!1,writable:!0,value:e})}for(let t=0;t<d.length;)scheduleResolveOrReject(e,d[t++],d[t++],d[t++],d[t++]);if(0==d.length&&l==F){e[V]=z;let l=s;try{throw new Error("Uncaught (in promise): "+function(e){if(e&&e.toString===Object.prototype.toString){return(e.constructor&&e.constructor.name||"")+": "+JSON.stringify(e)}return e?e.toString():Object.prototype.toString.call(e)}(s)+(s&&s.stack?"\n"+s.stack:""))}catch(e){l=e}u&&(l.throwOriginal=!0),l.rejection=s,l.promise=e,l.zone=t.current,l.task=t.currentTask,o.push(l),n.scheduleMicroTask()}}}return e}const j=s("rejectionHandledHandler");function clearRejectedNoCatch(e){if(e[V]===z){try{const n=t[j];n&&"function"==typeof n&&n.call(this,{rejection:e[g],promise:e})}catch(e){}e[V]=F;for(let t=0;t<o.length;t++)e===o[t].promise&&o.splice(t,1)}}function scheduleResolveOrReject(e,t,n,l,i){clearRejectedNoCatch(e);const s=e[V],o=s?"function"==typeof l?l:forwardResolution:"function"==typeof i?i:forwardRejection;t.scheduleMicroTask(v,(()=>{try{const l=e[g],i=!!n&&f===n[f];i&&(n[S]=l,n[L]=s);const u=t.run(o,void 0,i&&o!==forwardRejection&&o!==forwardResolution?[]:[l]);resolvePromise(n,!0,u)}catch(e){resolvePromise(n,!1,e)}}),n)}const noop=function(){},_=e.AggregateError;class ZoneAwarePromise{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(e){return e instanceof ZoneAwarePromise?e:resolvePromise(new this(null),C,e)}static reject(e){return resolvePromise(new this(null),F,e)}static withResolvers(){const e={};return e.promise=new ZoneAwarePromise(((t,n)=>{e.resolve=t,e.reject=n})),e}static any(e){if(!e||"function"!=typeof e[Symbol.iterator])return Promise.reject(new _([],"All promises were rejected"));const t=[];let n=0;try{for(let l of e)n++,t.push(ZoneAwarePromise.resolve(l))}catch(e){return Promise.reject(new _([],"All promises were rejected"))}if(0===n)return Promise.reject(new _([],"All promises were rejected"));let l=!1;const i=[];return new ZoneAwarePromise(((e,s)=>{for(let o=0;o<t.length;o++)t[o].then((t=>{l||(l=!0,e(t))}),(e=>{i.push(e),n--,0===n&&(l=!0,s(new _(i,"All promises were rejected")))}))}))}static race(e){let t,n,l=new this(((e,l)=>{t=e,n=l}));function onResolve(e){t(e)}function onReject(e){n(e)}for(let t of e)isThenable(t)||(t=this.resolve(t)),t.then(onResolve,onReject);return l}static all(e){return ZoneAwarePromise.allWithCallback(e)}static allSettled(e){return(this&&this.prototype instanceof ZoneAwarePromise?this:ZoneAwarePromise).allWithCallback(e,{thenCallback:e=>({status:"fulfilled",value:e}),errorCallback:e=>({status:"rejected",reason:e})})}static allWithCallback(e,t){let n,l,i=new this(((e,t)=>{n=e,l=t})),s=2,o=0;const u=[];for(let i of e){isThenable(i)||(i=this.resolve(i));const e=o;try{i.then((l=>{u[e]=t?t.thenCallback(l):l,s--,0===s&&n(u)}),(i=>{t?(u[e]=t.errorCallback(i),s--,0===s&&n(u)):l(i)}))}catch(e){l(e)}s++,o++}return s-=2,0===s&&n(u),i}constructor(e){const t=this;if(!(t instanceof ZoneAwarePromise))throw new Error("Must be an instanceof Promise.");t[V]=k,t[g]=[];try{const n=once();e&&e(n(makeResolver(t,C)),n(makeResolver(t,F)))}catch(e){resolvePromise(t,!1,e)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return ZoneAwarePromise}then(e,n){let l=this.constructor?.[Symbol.species];l&&"function"==typeof l||(l=this.constructor||ZoneAwarePromise);const i=new l(noop),s=t.current;return this[V]==k?this[g].push(s,i,e,n):scheduleResolveOrReject(this,s,i,e,n),i}catch(e){return this.then(null,e)}finally(e){let n=this.constructor?.[Symbol.species];n&&"function"==typeof n||(n=ZoneAwarePromise);const l=new n(noop);l[f]=f;const i=t.current;return this[V]==k?this[g].push(i,l,e,e):scheduleResolveOrReject(this,i,l,e,e),l}}ZoneAwarePromise.resolve=ZoneAwarePromise.resolve,ZoneAwarePromise.reject=ZoneAwarePromise.reject,ZoneAwarePromise.race=ZoneAwarePromise.race,ZoneAwarePromise.all=ZoneAwarePromise.all;const D=e[d]=e.Promise;e.Promise=ZoneAwarePromise;const $=s("thenPatched");function patchThen(e){const t=e.prototype,n=l(t,"then");if(n&&(!1===n.writable||!n.configurable))return;const i=t.then;t[h]=i,e.prototype.then=function(e,t){const n=new ZoneAwarePromise(((e,t)=>{i.call(this,e,t)}));return n.then(e,t)},e[$]=!0}return n.patchThen=patchThen,D&&(patchThen(D),patchMethod(e,"fetch",(e=>function(e){return function(t,n){let l=e.apply(t,n);if(l instanceof ZoneAwarePromise)return l;let i=l.constructor;return i[$]||patchThen(i),l}}(e)))),Promise[t.__symbol__("uncaughtPromiseErrors")]=o,ZoneAwarePromise})),Zone.__load_patch("toString",(e=>{const t=Function.prototype.toString,n=Rn("OriginalDelegate"),l=Rn("Promise"),i=Rn("Error"),newFunctionToString=function(){if("function"==typeof this){const s=this[n];if(s)return"function"==typeof s?t.call(s):Object.prototype.toString.call(s);if(this===Promise){const n=e[l];if(n)return t.call(n)}if(this===Error){const n=e[i];if(n)return t.call(n)}}return t.call(this)};newFunctionToString[n]=t,Function.prototype.toString=newFunctionToString;const s=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":s.call(this)}})),Zone.__load_patch("node_util",((e,t,n)=>{n.patchOnProperties=patchOnProperties,n.patchMethod=patchMethod,n.bindArguments=bindArguments,n.patchMacroTask=patchMacroTask,Nn=!0}));const Tn={useG:!0},vn={},kn={},Cn=new RegExp("^"+Wn+"(\\w+)(true|false)$"),Hn=Rn("propagationStopped");function prepareEventNames(e,t){const n=(t?t(e):e)+Vn,l=(t?t(e):e)+Xn,i=Wn+n,s=Wn+l;vn[e]={},vn[e][Vn]=i,vn[e][Xn]=s}function patchEventTarget(e,t,n,l){const i=l&&l.add||yn,s=l&&l.rm||Gn,o=l&&l.listeners||"eventListeners",u=l&&l.rmAll||"removeAllListeners",d=Rn(i),h="."+i+":",m="prependListener",b="."+m+":",invokeTask=function(e,t,n){if(e.isRemoved)return;const l=e.callback;let i;"object"==typeof l&&l.handleEvent&&(e.callback=e=>l.handleEvent(e),e.originalDelegate=l);try{e.invoke(e,t,[n])}catch(e){i=e}const o=e.options;if(o&&"object"==typeof o&&o.once){const l=e.originalDelegate?e.originalDelegate:e.callback;t[s].call(t,n.type,l,o)}return i};function globalCallback(n,l,i){if(!(l=l||e.event))return;const s=n||l.target||e,o=s[vn[l.type][i?Xn:Vn]];if(o){const e=[];if(1===o.length){const t=invokeTask(o[0],s,l);t&&e.push(t)}else{const t=o.slice();for(let n=0;n<t.length&&(!l||!0!==l[Hn]);n++){const i=invokeTask(t[n],s,l);i&&e.push(i)}}if(1===e.length)throw e[0];for(let n=0;n<e.length;n++){const l=e[n];t.nativeScheduleMicroTask((()=>{throw l}))}}}const globalZoneAwareCallback=function(e){return globalCallback(this,e,!1)},globalZoneAwareCaptureCallback=function(e){return globalCallback(this,e,!0)};function patchEventTargetMethods(t,n){if(!t)return!1;let l=!0;n&&void 0!==n.useG&&(l=n.useG);const V=n&&n.vh;let g=!0;n&&void 0!==n.chkDup&&(g=n.chkDup);let f=!1;n&&void 0!==n.rt&&(f=n.rt);let S=t;for(;S&&!S.hasOwnProperty(i);)S=pn(S);if(!S&&t[i]&&(S=t),!S)return!1;if(S[d])return!1;const L=n&&n.eventNameToString,v={},k=S[d]=S[i],C=S[Rn(s)]=S[s],F=S[Rn(o)]=S[o],z=S[Rn(u)]=S[u];let E;n&&n.prepend&&(E=S[Rn(n.prepend)]=S[n.prepend]);const customSchedulePrepend=function(e){return E.call(v.target,v.eventName,e.invoke,v.options)},w=l?function(e){if(!v.isExisting)return k.call(v.target,v.eventName,v.capture?globalZoneAwareCaptureCallback:globalZoneAwareCallback,v.options)}:function(e){return k.call(v.target,v.eventName,e.invoke,v.options)},j=l?function(e){if(!e.isRemoved){const t=vn[e.eventName];let n;t&&(n=t[e.capture?Xn:Vn]);const l=n&&e.target[n];if(l)for(let t=0;t<l.length;t++){if(l[t]===e){l.splice(t,1),e.isRemoved=!0,0===l.length&&(e.allRemoved=!0,e.target[n]=null);break}}}if(e.allRemoved)return C.call(e.target,e.eventName,e.capture?globalZoneAwareCaptureCallback:globalZoneAwareCallback,e.options)}:function(e){return C.call(e.target,e.eventName,e.invoke,e.options)},_=n&&n.diff?n.diff:function(e,t){const n=typeof t;return"function"===n&&e.callback===t||"object"===n&&e.originalDelegate===t},D=Zone[Rn("UNPATCHED_EVENTS")];e[Rn("PASSIVE_EVENTS")];const makeAddListener=function(t,i,s,o,u=!1,d=!1){return function(){const h=this||e;let m=arguments[0];n&&n.transferEventName&&(m=n.transferEventName(m));let b=arguments[1];if(!b)return t.apply(this,arguments);if(Ln&&"uncaughtException"===m)return t.apply(this,arguments);let f=!1;if("function"!=typeof b){if(!b.handleEvent)return t.apply(this,arguments);f=!0}if(V&&!V(t,b,h,arguments))return;const S=function(e,t){return"object"==typeof e&&e?!!e.capture:e}(arguments[2]),k=S&&"object"==typeof S&&S.signal&&"object"==typeof S.signal?S.signal:void 0;if(k?.aborted)return;if(D)for(let e=0;e<D.length;e++)if(m===D[e])return t.apply(this,arguments);const C=!!S&&("boolean"==typeof S||S.capture),F=!(!S||"object"!=typeof S)&&S.once,z=Zone.current;let E=vn[m];E||(prepareEventNames(m,L),E=vn[m]);const w=E[C?Xn:Vn];let j,$=h[w],ee=!1;if($){if(ee=!0,g)for(let e=0;e<$.length;e++)if(_($[e],b))return}else $=h[w]=[];const te=h.constructor.name,ne=kn[te];ne&&(j=ne[m]),j||(j=te+i+(L?L(m):m)),v.options=S,F&&(v.options.once=!1),v.target=h,v.capture=C,v.eventName=m,v.isExisting=ee;const le=l?Tn:void 0;le&&(le.taskData=v),k&&(v.options.signal=void 0);const ie=z.scheduleEventTask(j,b,le,s,o);return k&&(v.options.signal=k,t.call(k,"abort",(()=>{ie.zone.cancelTask(ie)}),{once:!0})),v.target=null,le&&(le.taskData=null),F&&(S.once=!0),"boolean"!=typeof ie.options&&(ie.options=S),ie.target=h,ie.capture=C,ie.eventName=m,f&&(ie.originalDelegate=b),d?$.unshift(ie):$.push(ie),u?h:void 0}};return S[i]=makeAddListener(k,h,w,j,f),E&&(S[m]=makeAddListener(E,b,customSchedulePrepend,j,f,!0)),S[s]=function(){const t=this||e;let l=arguments[0];n&&n.transferEventName&&(l=n.transferEventName(l));const i=arguments[2],s=!!i&&("boolean"==typeof i||i.capture),o=arguments[1];if(!o)return C.apply(this,arguments);if(V&&!V(C,o,t,arguments))return;const u=vn[l];let d;u&&(d=u[s?Xn:Vn]);const h=d&&t[d];if(h)for(let e=0;e<h.length;e++){const n=h[e];if(_(n,o)){if(h.splice(e,1),n.isRemoved=!0,0===h.length&&(n.allRemoved=!0,t[d]=null,"string"==typeof l)){t[Wn+"ON_PROPERTY"+l]=null}return n.zone.cancelTask(n),f?t:void 0}}return C.apply(this,arguments)},S[o]=function(){const t=this||e;let l=arguments[0];n&&n.transferEventName&&(l=n.transferEventName(l));const i=[],s=findEventTasks(t,L?L(l):l);for(let e=0;e<s.length;e++){const t=s[e];let n=t.originalDelegate?t.originalDelegate:t.callback;i.push(n)}return i},S[u]=function(){const t=this||e;let l=arguments[0];if(l){n&&n.transferEventName&&(l=n.transferEventName(l));const e=vn[l];if(e){const n=e[Vn],i=e[Xn],o=t[n],u=t[i];if(o){const e=o.slice();for(let t=0;t<e.length;t++){const n=e[t];let i=n.originalDelegate?n.originalDelegate:n.callback;this[s].call(this,l,i,n.options)}}if(u){const e=u.slice();for(let t=0;t<e.length;t++){const n=e[t];let i=n.originalDelegate?n.originalDelegate:n.callback;this[s].call(this,l,i,n.options)}}}}else{const e=Object.keys(t);for(let t=0;t<e.length;t++){const n=e[t],l=Cn.exec(n);let i=l&&l[1];i&&"removeListener"!==i&&this[u].call(this,i)}this[u].call(this,"removeListener")}if(f)return this},attachOriginToPatched(S[i],k),attachOriginToPatched(S[s],C),z&&attachOriginToPatched(S[u],z),F&&attachOriginToPatched(S[o],F),!0}let V=[];for(let e=0;e<n.length;e++)V[e]=patchEventTargetMethods(n[e],l);return V}function findEventTasks(e,t){if(!t){const n=[];for(let l in e){const i=Cn.exec(l);let s=i&&i[1];if(s&&(!t||s===t)){const t=e[l];if(t)for(let e=0;e<t.length;e++)n.push(t[e])}}return n}let n=vn[t];n||(prepareEventNames(t),n=vn[t]);const l=e[n[Vn]],i=e[n[Xn]];return l?i?l.concat(i):l.slice():i?i.slice():[]}function patchQueueMicrotask(e,t){t.patchMethod(e,"queueMicrotask",(e=>function(e,t){Zone.current.scheduleMicroTask("queueMicrotask",t[0])}))}Zone.__load_patch("EventEmitter",((e,t,n)=>{const l="addListener",i="removeListener",compareTaskCallbackVsDelegate=function(e,t){return e.callback===t||e.callback.listener===t},eventNameToString=function(e){return"string"==typeof e?e:e?e.toString().replace("(","_").replace(")","_"):""};let s;try{s=requireEvents()}catch(e){}s&&s.EventEmitter&&function(t){const s=patchEventTarget(e,n,[t],{useG:!1,add:l,rm:i,prepend:"prependListener",rmAll:"removeAllListeners",listeners:"listeners",chkDup:!1,rt:!0,diff:compareTaskCallbackVsDelegate,eventNameToString:eventNameToString});s&&s[0]&&(t.on=t[l],t.off=t[i])}(s.EventEmitter.prototype)})),Zone.__load_patch("fs",((e,t,n)=>{let l;try{l=requireFs()}catch(e){}if(!l)return;["access","appendFile","chmod","chown","close","exists","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","read","readdir","readFile","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","write","writeFile"].filter((e=>!!l[e]&&"function"==typeof l[e])).forEach((e=>{patchMacroTask(l,e,((t,n)=>({name:"fs."+e,args:n,cbIdx:n.length>0?n.length-1:-1,target:t})))}));const i=l.realpath?.[n.symbol("OriginalDelegate")];i?.native&&(l.realpath.native=i.native,patchMacroTask(l.realpath,"native",((e,t)=>({args:t,target:e,cbIdx:t.length>0?t.length-1:-1,name:"fs.realpath.native"}))))}));const Jn=Rn("zoneTask");function patchTimer(e,t,n,l){let i=null,s=null;n+=l;const o={};function scheduleTask(t){const n=t.data;return n.args[0]=function(){return t.invoke.apply(this,arguments)},n.handleId=i.apply(e,n.args),t}function clearTask(t){return s.call(e,t.data.handleId)}i=patchMethod(e,t+=l,(n=>function(i,s){if("function"==typeof s[0]){const e={isPeriodic:"Interval"===l,delay:"Timeout"===l||"Interval"===l?s[1]||0:void 0,args:s},n=s[0];s[0]=function(){try{return n.apply(this,arguments)}finally{e.isPeriodic||("number"==typeof e.handleId?delete o[e.handleId]:e.handleId&&(e.handleId[Jn]=null))}};const i=scheduleMacroTaskWithCurrentZone(t,s[0],e,scheduleTask,clearTask);if(!i)return i;const u=i.data.handleId;return"number"==typeof u?o[u]=i:u&&(u[Jn]=i),u&&u.ref&&u.unref&&"function"==typeof u.ref&&"function"==typeof u.unref&&(i.ref=u.ref.bind(u),i.unref=u.unref.bind(u)),"number"==typeof u||u?u:i}return n.apply(e,s)})),s=patchMethod(e,n,(t=>function(n,l){const i=l[0];let s;"number"==typeof i?s=o[i]:(s=i&&i[Jn],s||(s=i)),s&&"string"==typeof s.type?"notScheduled"!==s.state&&(s.cancelFn&&s.data.isPeriodic||0===s.runCount)&&("number"==typeof i?delete o[i]:i&&(i[Jn]=null),s.zone.cancelTask(s)):t.apply(e,l)}))}const Fn="set",zn="clear";Zone.__load_patch("node_timers",((e,t)=>{let n=!1;try{const t=requireProxy();if(!(e.setTimeout===t.setTimeout)&&!Kn){const l=t.setTimeout;t.setTimeout=function(){return n=!0,l.apply(this,arguments)};const i=e.setTimeout((()=>{}),100);clearTimeout(i),t.setTimeout=l}patchTimer(t,Fn,zn,"Timeout"),patchTimer(t,Fn,zn,"Interval"),patchTimer(t,Fn,zn,"Immediate")}catch(e){}Kn||(n?(e[t.__symbol__("setTimeout")]=e.setTimeout,e[t.__symbol__("setInterval")]=e.setInterval,e[t.__symbol__("setImmediate")]=e.setImmediate):(patchTimer(e,Fn,zn,"Timeout"),patchTimer(e,Fn,zn,"Interval"),patchTimer(e,Fn,zn,"Immediate")))})),Zone.__load_patch("nextTick",(()=>{!function(e,t,n){let l=null;function scheduleTask(e){const t=e.data;return t.args[t.cbIdx]=function(){e.invoke.apply(this,arguments)},l.apply(t.target,t.args),e}l=patchMethod(e,t,(e=>function(t,l){const i=n(t,l);return i.cbIdx>=0&&"function"==typeof l[i.cbIdx]?Zone.current.scheduleMicroTask(i.name,l[i.cbIdx],i,scheduleTask):e.apply(t,l)}))}(b,"nextTick",((e,t)=>({name:"process.nextTick",args:t,cbIdx:t.length>0&&"function"==typeof t[0]?0:-1,target:b})))})),Zone.__load_patch("handleUnhandledPromiseRejection",((e,t,n)=>{function findProcessPromiseRejectionHandler(e){return function(t){findEventTasks(b,e).forEach((n=>{"unhandledRejection"===e?n.invoke(t.rejection,t.promise):"rejectionHandled"===e&&n.invoke(t.promise)}))}}t[n.symbol("unhandledPromiseRejectionHandler")]=findProcessPromiseRejectionHandler("unhandledRejection"),t[n.symbol("rejectionHandledHandler")]=findProcessPromiseRejectionHandler("rejectionHandled")})),Zone.__load_patch("crypto",(()=>{let e;try{e=requireCrypto()}catch(e){}if(e){["randomBytes","pbkdf2"].forEach((t=>{patchMacroTask(e,t,((n,l)=>({name:"crypto."+t,args:l,cbIdx:l.length>0&&"function"==typeof l[l.length-1]?l.length-1:-1,target:e})))}))}})),Zone.__load_patch("console",((e,t)=>{["dir","log","info","error","warn","assert","debug","timeEnd","trace"].forEach((e=>{const n=console[t.__symbol__(e)]=console[e];n&&(console[e]=function(){const e=Zn.call(arguments);return t.current===t.root?n.apply(this,e):t.root.run(n,this,e)})}))})),Zone.__load_patch("queueMicrotask",((e,t,n)=>{patchQueueMicrotask(e,n)}));var extendStatics=function(e,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},extendStatics(e,t)};function __extends(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}function __rest(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(l=Object.getOwnPropertySymbols(e);i<l.length;i++)t.indexOf(l[i])<0&&Object.prototype.propertyIsEnumerable.call(e,l[i])&&(n[l[i]]=e[l[i]])}return n}function __awaiter(e,t,n,l){return new(n||(n=Promise))((function(i,s){function fulfilled(e){try{step(l.next(e))}catch(e){s(e)}}function rejected(e){try{step(l.throw(e))}catch(e){s(e)}}function step(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(fulfilled,rejected)}step((l=l.apply(e,t||[])).next())}))}function __generator(e,t){var n,l,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function verb(u){return function(d){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(o=0)),o;)try{if(n=1,l&&(i=2&u[0]?l.return:u[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,u[1])).done)return i;switch(l=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,l=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(6===u[0]&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],l=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,d])}}}function __values(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],l=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(l=s.next()).done;)o.push(l.value)}catch(e){i={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function __spreadArray(e,t,n){if(n||2===arguments.length)for(var l,i=0,s=t.length;i<s;i++)!l&&i in t||(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return e.concat(l||Array.prototype.slice.call(t))}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,i=n.apply(e,t||[]),s=[];return l={},verb("next"),verb("throw"),verb("return"),l[Symbol.asyncIterator]=function(){return this},l;function verb(e){i[e]&&(l[e]=function(t){return new Promise((function(n,l){s.push([e,t,n,l])>1||resume(e,t)}))})}function resume(e,t){try{!function(e){e.value instanceof __await?Promise.resolve(e.value.v).then(fulfill,reject):settle(s[0][2],e)}(i[e](t))}catch(e){settle(s[0][3],e)}}function fulfill(e){resume("next",e)}function reject(e){resume("throw",e)}function settle(e,t){e(t),s.shift(),s.length&&resume(s[0][0],s[0][1])}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=__values(e),t={},verb("next"),verb("throw"),verb("return"),t[Symbol.asyncIterator]=function(){return this},t);function verb(n){t[n]=e[n]&&function(t){return new Promise((function(l,i){(function(e,t,n,l){Promise.resolve(l).then((function(t){e({value:t,done:n})}),t)})(l,i,(t=e[n](t)).done,t.value)}))}}}function isFunction$2(e){return"function"==typeof e}function createErrorClass(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}"function"==typeof SuppressedError&&SuppressedError;var Un=createErrorClass((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function arrRemove(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var En=function(){function Subscription(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var e;return Subscription.prototype.unsubscribe=function(){var e,t,n,l,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var o=__values(s),u=o.next();!u.done;u=o.next()){u.value.remove(this)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else s.remove(this);var d=this.initialTeardown;if(isFunction$2(d))try{d()}catch(e){i=e instanceof Un?e.errors:[e]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var m=__values(h),b=m.next();!b.done;b=m.next()){var V=b.value;try{execFinalizer(V)}catch(e){i=null!=i?i:[],e instanceof Un?i=__spreadArray(__spreadArray([],__read(i)),__read(e.errors)):i.push(e)}}}catch(e){n={error:e}}finally{try{b&&!b.done&&(l=m.return)&&l.call(m)}finally{if(n)throw n.error}}}if(i)throw new Un(i)}},Subscription.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)execFinalizer(e);else{if(e instanceof Subscription){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}},Subscription.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},Subscription.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},Subscription.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&arrRemove(t,e)},Subscription.prototype.remove=function(e){var t=this._finalizers;t&&arrRemove(t,e),e instanceof Subscription&&e._removeParent(this)},Subscription.EMPTY=((e=new Subscription).closed=!0,e),Subscription}(),Mn=En.EMPTY;function isSubscription(e){return e instanceof En||e&&"closed"in e&&isFunction$2(e.remove)&&isFunction$2(e.add)&&isFunction$2(e.unsubscribe)}function execFinalizer(e){isFunction$2(e)?e():e.unsubscribe()}var wn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Pn={setTimeout:function(e,t){for(var n=[],l=2;l<arguments.length;l++)n[l-2]=arguments[l];return setTimeout.apply(void 0,__spreadArray([e,t],__read(n)))},clearTimeout:function(e){var t=Pn.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function reportUnhandledError(e){Pn.setTimeout((function(){throw e}))}function noop$4(){}function errorContext(e){e()}var jn=function(e){function Subscriber(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,isSubscription(t)&&t.add(n)):n.destination=Dn,n}return __extends(Subscriber,e),Subscriber.create=function(e,t,n){return new _n(e,t,n)},Subscriber.prototype.next=function(e){this.isStopped||this._next(e)},Subscriber.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},Subscriber.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},Subscriber.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},Subscriber.prototype._next=function(e){this.destination.next(e)},Subscriber.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},Subscriber.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},Subscriber}(En),Bn=Function.prototype.bind;function bind(e,t){return Bn.call(e,t)}var Qn=function(){function ConsumerObserver(e){this.partialObserver=e}return ConsumerObserver.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){handleUnhandledError(e)}},ConsumerObserver.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){handleUnhandledError(e)}else handleUnhandledError(e)},ConsumerObserver.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){handleUnhandledError(e)}},ConsumerObserver}(),_n=function(e){function SafeSubscriber(t,n,l){var i,s,o=e.call(this)||this;isFunction$2(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=l?l:void 0}:o&&wn.useDeprecatedNextContext?((s=Object.create(t)).unsubscribe=function(){return o.unsubscribe()},i={next:t.next&&bind(t.next,s),error:t.error&&bind(t.error,s),complete:t.complete&&bind(t.complete,s)}):i=t;return o.destination=new Qn(i),o}return __extends(SafeSubscriber,e),SafeSubscriber}(jn);function handleUnhandledError(e){reportUnhandledError(e)}var Dn={closed:!0,next:noop$4,error:function(e){throw e},complete:noop$4},On="function"==typeof Symbol&&Symbol.observable||"@@observable";function identity(e){return e}function pipeFromArray(e){return 0===e.length?identity:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var An=function(){function Observable(e){e&&(this._subscribe=e)}return Observable.prototype.lift=function(e){var t=new Observable;return t.source=this,t.operator=e,t},Observable.prototype.subscribe=function(e,t,n){var l,i=this,s=(l=e)&&l instanceof jn||function(e){return e&&isFunction$2(e.next)&&isFunction$2(e.error)&&isFunction$2(e.complete)}(l)&&isSubscription(l)?e:new _n(e,t,n);return errorContext((function(){var e=i,t=e.operator,n=e.source;s.add(t?t.call(s,n):n?i._subscribe(s):i._trySubscribe(s))})),s},Observable.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},Observable.prototype.forEach=function(e,t){var n=this;return new(t=getPromiseCtor(t))((function(t,l){var i=new _n({next:function(t){try{e(t)}catch(e){l(e),i.unsubscribe()}},error:l,complete:t});n.subscribe(i)}))},Observable.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},Observable.prototype[On]=function(){return this},Observable.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return pipeFromArray(e)(this)},Observable.prototype.toPromise=function(e){var t=this;return new(e=getPromiseCtor(e))((function(e,n){var l;t.subscribe((function(e){return l=e}),(function(e){return n(e)}),(function(){return e(l)}))}))},Observable.create=function(e){return new Observable(e)},Observable}();function getPromiseCtor(e){var t;return null!==(t=null!=e?e:wn.Promise)&&void 0!==t?t:Promise}function hasLift(e){return isFunction$2(null==e?void 0:e.lift)}function operate(e){return function(t){if(hasLift(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function createOperatorSubscriber(e,t,n,l,i){return new qn(e,t,n,l,i)}var qn=function(e){function OperatorSubscriber(t,n,l,i,s,o){var u=e.call(this,t)||this;return u.onFinalize=s,u.shouldUnsubscribe=o,u._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,u._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=l?function(){try{l()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,u}return __extends(OperatorSubscriber,e),OperatorSubscriber.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},OperatorSubscriber}(jn);function refCount(){return operate((function(e,t){var n=null;e._refCount++;var l=createOperatorSubscriber(t,void 0,void 0,void 0,(function(){if(!e||e._refCount<=0||0<--e._refCount)n=null;else{var l=e._connection,i=n;n=null,!l||i&&l!==i||l.unsubscribe(),t.unsubscribe()}}));e.subscribe(l),l.closed||(n=e.connect())}))}var $n=function(e){function ConnectableObservable(t,n){var l=e.call(this)||this;return l.source=t,l.subjectFactory=n,l._subject=null,l._refCount=0,l._connection=null,hasLift(t)&&(l.lift=t.lift),l}return __extends(ConnectableObservable,e),ConnectableObservable.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},ConnectableObservable.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},ConnectableObservable.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},ConnectableObservable.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new En;var n=this.getSubject();t.add(this.source.subscribe(createOperatorSubscriber(n,void 0,(function(){e._teardown(),n.complete()}),(function(t){e._teardown(),n.error(t)}),(function(){return e._teardown()})))),t.closed&&(this._connection=null,t=En.EMPTY)}return t},ConnectableObservable.prototype.refCount=function(){return refCount()(this)},ConnectableObservable}(An),el=createErrorClass((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),tl=function(e){function Subject(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return __extends(Subject,e),Subject.prototype.lift=function(e){var t=new nl(this,this);return t.operator=e,t},Subject.prototype._throwIfClosed=function(){if(this.closed)throw new el},Subject.prototype.next=function(e){var t=this;errorContext((function(){var n,l;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=__values(t.currentObservers),s=i.next();!s.done;s=i.next()){s.value.next(e)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(l=i.return)&&l.call(i)}finally{if(n)throw n.error}}}}))},Subject.prototype.error=function(e){var t=this;errorContext((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},Subject.prototype.complete=function(){var e=this;errorContext((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},Subject.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(Subject.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),Subject.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},Subject.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},Subject.prototype._innerSubscribe=function(e){var t=this,n=this,l=n.hasError,i=n.isStopped,s=n.observers;return l||i?Mn:(this.currentObservers=null,s.push(e),new En((function(){t.currentObservers=null,arrRemove(s,e)})))},Subject.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,l=t.thrownError,i=t.isStopped;n?e.error(l):i&&e.complete()},Subject.prototype.asObservable=function(){var e=new An;return e.source=this,e},Subject.create=function(e,t){return new nl(e,t)},Subject}(An),nl=function(e){function AnonymousSubject(t,n){var l=e.call(this)||this;return l.destination=t,l.source=n,l}return __extends(AnonymousSubject,e),AnonymousSubject.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},AnonymousSubject.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},AnonymousSubject.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},AnonymousSubject.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:Mn},AnonymousSubject}(tl),ll=function(e){function BehaviorSubject(t){var n=e.call(this)||this;return n._value=t,n}return __extends(BehaviorSubject,e),Object.defineProperty(BehaviorSubject.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),BehaviorSubject.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},BehaviorSubject.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,l=e._value;if(t)throw n;return this._throwIfClosed(),l},BehaviorSubject.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},BehaviorSubject}(tl),dateTimestampProvider_now=function(){return Date.now()},il=function(e){function Action(t,n){return e.call(this)||this}return __extends(Action,e),Action.prototype.schedule=function(e,t){return this},Action}(En),sl={setInterval:function(e,t){for(var n=[],l=2;l<arguments.length;l++)n[l-2]=arguments[l];return setInterval.apply(void 0,__spreadArray([e,t],__read(n)))},clearInterval:function(e){var t=sl.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},ol=function(e){function AsyncAction(t,n){var l=e.call(this,t,n)||this;return l.scheduler=t,l.work=n,l.pending=!1,l}return __extends(AsyncAction,e),AsyncAction.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var l=this.id,i=this.scheduler;return null!=l&&(this.id=this.recycleAsyncId(i,l,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,t),this},AsyncAction.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),sl.setInterval(e.flush.bind(e,this),n)},AsyncAction.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&sl.clearInterval(t)},AsyncAction.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},AsyncAction.prototype._execute=function(e,t){var n,l=!1;try{this.work(e)}catch(e){l=!0,n=e||new Error("Scheduled action threw falsy error")}if(l)return this.unsubscribe(),n},AsyncAction.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,l=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,arrRemove(l,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},AsyncAction}(il),cl=function(){function Scheduler(e,t){void 0===t&&(t=Scheduler.now),this.schedulerActionCtor=e,this.now=t}return Scheduler.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},Scheduler.now=dateTimestampProvider_now,Scheduler}(),al=function(e){function AsyncScheduler(t,n){void 0===n&&(n=cl.now);var l=e.call(this,t,n)||this;return l.actions=[],l._active=!1,l}return __extends(AsyncScheduler,e),AsyncScheduler.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},AsyncScheduler}(cl),rl=new al(ol),ul=function(e){function QueueAction(t,n){var l=e.call(this,t,n)||this;return l.scheduler=t,l.work=n,l}return __extends(QueueAction,e),QueueAction.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},QueueAction.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},QueueAction.prototype.requestAsyncId=function(t,n,l){return void 0===l&&(l=0),null!=l&&l>0||null==l&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,l):(t.flush(this),0)},QueueAction}(ol),dl=new(function(e){function QueueScheduler(){return null!==e&&e.apply(this,arguments)||this}return __extends(QueueScheduler,e),QueueScheduler}(al))(ul),hl=new An((function(e){return e.complete()}));function last$2(e){return e[e.length-1]}function popScheduler(e){return(t=last$2(e))&&isFunction$2(t.schedule)?e.pop():void 0;var t}var isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function isPromise$1(e){return isFunction$2(null==e?void 0:e.then)}function isInteropObservable(e){return isFunction$2(e[On])}function isAsyncIterable(e){return Symbol.asyncIterator&&isFunction$2(null==e?void 0:e[Symbol.asyncIterator])}function createInvalidObservableTypeError(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var ml="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function isIterable(e){return isFunction$2(null==e?void 0:e[ml])}function readableStreamLikeToAsyncGenerator(e){return __asyncGenerator(this,arguments,(function(){var t,n,l;return __generator(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,__await(t.read())];case 3:return n=i.sent(),l=n.value,n.done?[4,__await(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,__await(l)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function isReadableStreamLike(e){return isFunction$2(null==e?void 0:e.getReader)}function innerFrom(e){if(e instanceof An)return e;if(null!=e){if(isInteropObservable(e))return i=e,new An((function(e){var t=i[On]();if(isFunction$2(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(isArrayLike(e))return l=e,new An((function(e){for(var t=0;t<l.length&&!e.closed;t++)e.next(l[t]);e.complete()}));if(isPromise$1(e))return n=e,new An((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,reportUnhandledError)}));if(isAsyncIterable(e))return fromAsyncIterable(e);if(isIterable(e))return t=e,new An((function(e){var n,l;try{for(var i=__values(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(e){n={error:e}}finally{try{s&&!s.done&&(l=i.return)&&l.call(i)}finally{if(n)throw n.error}}e.complete()}));if(isReadableStreamLike(e))return fromAsyncIterable(readableStreamLikeToAsyncGenerator(e))}var t,n,l,i;throw createInvalidObservableTypeError(e)}function fromAsyncIterable(e){return new An((function(t){(function(e,t){var n,l,i,s;return __awaiter(this,void 0,void 0,(function(){var o,u;return __generator(this,(function(d){switch(d.label){case 0:d.trys.push([0,5,6,11]),n=__asyncValues(e),d.label=1;case 1:return[4,n.next()];case 2:if((l=d.sent()).done)return[3,4];if(o=l.value,t.next(o),t.closed)return[2];d.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=d.sent(),i={error:u},[3,11];case 6:return d.trys.push([6,,9,10]),l&&!l.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:d.sent(),d.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function executeSchedule(e,t,n,l,i){void 0===l&&(l=0),void 0===i&&(i=!1);var s=t.schedule((function(){n(),i?e.add(this.schedule(null,l)):this.unsubscribe()}),l);if(e.add(s),!i)return s}function observeOn(e,t){return void 0===t&&(t=0),operate((function(n,l){n.subscribe(createOperatorSubscriber(l,(function(n){return executeSchedule(l,e,(function(){return l.next(n)}),t)}),(function(){return executeSchedule(l,e,(function(){return l.complete()}),t)}),(function(n){return executeSchedule(l,e,(function(){return l.error(n)}),t)})))}))}function subscribeOn(e,t){return void 0===t&&(t=0),operate((function(n,l){l.add(e.schedule((function(){return n.subscribe(l)}),t))}))}function scheduleAsyncIterable(e,t){if(!e)throw new Error("Iterable cannot be null");return new An((function(n){executeSchedule(n,t,(function(){var l=e[Symbol.asyncIterator]();executeSchedule(n,t,(function(){l.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function scheduled(e,t){if(null!=e){if(isInteropObservable(e))return function(e,t){return innerFrom(e).pipe(subscribeOn(t),observeOn(t))}(e,t);if(isArrayLike(e))return function(e,t){return new An((function(n){var l=0;return t.schedule((function(){l===e.length?n.complete():(n.next(e[l++]),n.closed||this.schedule())}))}))}(e,t);if(isPromise$1(e))return function(e,t){return innerFrom(e).pipe(subscribeOn(t),observeOn(t))}(e,t);if(isAsyncIterable(e))return scheduleAsyncIterable(e,t);if(isIterable(e))return function(e,t){return new An((function(n){var l;return executeSchedule(n,t,(function(){l=e[ml](),executeSchedule(n,t,(function(){var e,t,i;try{t=(e=l.next()).value,i=e.done}catch(e){return void n.error(e)}i?n.complete():n.next(t)}),0,!0)})),function(){return isFunction$2(null==l?void 0:l.return)&&l.return()}}))}(e,t);if(isReadableStreamLike(e))return function(e,t){return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(e),t)}(e,t)}throw createInvalidObservableTypeError(e)}function from(e,t){return t?scheduled(e,t):innerFrom(e)}function of(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return from(e,popScheduler(e))}function throwError$2(e,t){var n=isFunction$2(e)?e:function(){return e},init=function(e){return e.error(n())};return new An(t?function(e){return t.schedule(init,0,e)}:init)}function isObservable(e){return!!e&&(e instanceof An||isFunction$2(e.lift)&&isFunction$2(e.subscribe))}var bl=createErrorClass((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function firstValueFrom(e,t){var n="object"==typeof t;return new Promise((function(l,i){var s=new _n({next:function(e){l(e),s.unsubscribe()},error:i,complete:function(){n?l(t.defaultValue):i(new bl)}});e.subscribe(s)}))}function map$1(e,t){return operate((function(n,l){var i=0;n.subscribe(createOperatorSubscriber(l,(function(n){l.next(e.call(t,n,i++))})))}))}var pl=Array.isArray;function mapOneOrManyArgs(e){return map$1((function(t){return function(e,t){return pl(t)?e.apply(void 0,__spreadArray([],__read(t))):e(t)}(e,t)}))}var Zl=Array.isArray,yl=Object.getPrototypeOf,Gl=Object.prototype,Xl=Object.keys;function argsArgArrayOrObject(e){if(1===e.length){var t=e[0];if(Zl(t))return{args:t,keys:null};if((l=t)&&"object"==typeof l&&yl(l)===Gl){var n=Xl(t);return{args:n.map((function(e){return t[e]})),keys:n}}}var l;return{args:e,keys:null}}function combineLatest(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=popScheduler(e),l=function(e){return isFunction$2(last$2(e))?e.pop():void 0}(e),i=argsArgArrayOrObject(e),s=i.args,o=i.keys;if(0===s.length)return from([],n);var u=new An(function(e,t,n){void 0===n&&(n=identity);return function(l){maybeSchedule(t,(function(){for(var i=e.length,s=new Array(i),o=i,u=i,_loop_1=function(i){maybeSchedule(t,(function(){var d=from(e[i],t),h=!1;d.subscribe(createOperatorSubscriber(l,(function(e){s[i]=e,h||(h=!0,u--),u||l.next(n(s.slice()))}),(function(){--o||l.complete()})))}),l)},d=0;d<i;d++)_loop_1(d)}),l)}}(s,n,o?function(e){return function(e,t){return e.reduce((function(e,n,l){return e[n]=t[l],e}),{})}(o,e)}:identity));return l?u.pipe(mapOneOrManyArgs(l)):u}function maybeSchedule(e,t,n){e?executeSchedule(n,e,t):t()}function mergeMap(e,t,n){return void 0===n&&(n=1/0),isFunction$2(t)?mergeMap((function(n,l){return map$1((function(e,i){return t(n,e,l,i)}))(innerFrom(e(n,l)))}),n):("number"==typeof t&&(n=t),operate((function(t,l){return function(e,t,n,l,i,s,o,u){var d=[],h=0,m=0,b=!1,checkComplete=function(){!b||d.length||h||t.complete()},outerNext=function(e){return h<l?doInnerSub(e):d.push(e)},doInnerSub=function(e){s&&t.next(e),h++;var u=!1;innerFrom(n(e,m++)).subscribe(createOperatorSubscriber(t,(function(e){null==i||i(e),s?outerNext(e):t.next(e)}),(function(){u=!0}),void 0,(function(){if(u)try{h--;for(var _loop_1=function(){var e=d.shift();o?executeSchedule(t,o,(function(){return doInnerSub(e)})):doInnerSub(e)};d.length&&h<l;)_loop_1();checkComplete()}catch(e){t.error(e)}})))};return e.subscribe(createOperatorSubscriber(t,outerNext,(function(){b=!0,checkComplete()}))),function(){null==u||u()}}(t,l,e,n)})))}function concatAll(){return void 0===(e=1)&&(e=1/0),mergeMap(identity,e);var e}function concat(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return concatAll()(from(e,popScheduler(e)))}function defer(e){return new An((function(t){innerFrom(e()).subscribe(t)}))}function filter(e,t){return operate((function(n,l){var i=0;n.subscribe(createOperatorSubscriber(l,(function(n){return e.call(t,n,i++)&&l.next(n)})))}))}function catchError(e){return operate((function(t,n){var l,i=null,s=!1;i=t.subscribe(createOperatorSubscriber(n,void 0,void 0,(function(o){l=innerFrom(e(o,catchError(e)(t))),i?(i.unsubscribe(),i=null,l.subscribe(n)):s=!0}))),s&&(i.unsubscribe(),i=null,l.subscribe(n))}))}function concatMap(e,t){return isFunction$2(t)?mergeMap(e,t,1):mergeMap(e,1)}function defaultIfEmpty(e){return operate((function(t,n){var l=!1;t.subscribe(createOperatorSubscriber(n,(function(e){l=!0,n.next(e)}),(function(){l||n.next(e),n.complete()})))}))}function take(e){return e<=0?function(){return hl}:operate((function(t,n){var l=0;t.subscribe(createOperatorSubscriber(n,(function(t){++l<=e&&(n.next(t),e<=l&&n.complete())})))}))}function throwIfEmpty(e){return void 0===e&&(e=defaultErrorFactory),operate((function(t,n){var l=!1;t.subscribe(createOperatorSubscriber(n,(function(e){l=!0,n.next(e)}),(function(){return l?n.complete():n.error(e())})))}))}function defaultErrorFactory(){return new bl}function finalize(e){return operate((function(t,n){try{t.subscribe(n)}finally{n.add(e)}}))}function first(e,t){var n=arguments.length>=2;return function(l){return l.pipe(e?filter((function(t,n){return e(t,n,l)})):identity,take(1),n?defaultIfEmpty(t):throwIfEmpty((function(){return new bl})))}}function takeLast(e){return e<=0?function(){return hl}:operate((function(t,n){var l=[];t.subscribe(createOperatorSubscriber(n,(function(t){l.push(t),e<l.length&&l.shift()}),(function(){var e,t;try{for(var i=__values(l),s=i.next();!s.done;s=i.next()){var o=s.value;n.next(o)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}n.complete()}),void 0,(function(){l=null})))}))}function scan(e,t){return operate(function(e,t,n,l,i){return function(s,o){var u=n,d=t,h=0;s.subscribe(createOperatorSubscriber(o,(function(t){var n=h++;d=u?e(d,t,n):(u=!0,t),l&&o.next(d)}),i&&function(){u&&o.next(d),o.complete()}))}}(e,t,arguments.length>=2,!0))}function switchMap(e,t){return operate((function(n,l){var i=null,s=0,o=!1,checkComplete=function(){return o&&!i&&l.complete()};n.subscribe(createOperatorSubscriber(l,(function(n){null==i||i.unsubscribe();var o=0,u=s++;innerFrom(e(n,u)).subscribe(i=createOperatorSubscriber(l,(function(e){return l.next(t?t(n,e,u,o++):e)}),(function(){i=null,checkComplete()})))}),(function(){o=!0,checkComplete()})))}))}function takeUntil(e){return operate((function(t,n){innerFrom(e).subscribe(createOperatorSubscriber(n,(function(){return n.complete()}),noop$4)),!n.closed&&t.subscribe(n)}))}function tap(e,t,n){var l=isFunction$2(e)||t||n?{next:e,error:t,complete:n}:e;return l?operate((function(e,t){var n;null===(n=l.subscribe)||void 0===n||n.call(l);var i=!0;e.subscribe(createOperatorSubscriber(t,(function(e){var n;null===(n=l.next)||void 0===n||n.call(l,e),t.next(e)}),(function(){var e;i=!1,null===(e=l.complete)||void 0===e||e.call(l),t.complete()}),(function(e){var n;i=!1,null===(n=l.error)||void 0===n||n.call(l,e),t.error(e)}),(function(){var e,t;i&&(null===(e=l.unsubscribe)||void 0===e||e.call(l)),null===(t=l.finalize)||void 0===t||t.call(l)})))})):identity}const stringToByteArray$1=function(e){const t=[];let n=0;for(let l=0;l<e.length;l++){let i=e.charCodeAt(l);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&l+1<e.length&&56320==(64512&e.charCodeAt(l+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++l)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Vl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let t=0;t<e.length;t+=3){const i=e[t],s=t+1<e.length,o=s?e[t+1]:0,u=t+2<e.length,d=u?e[t+2]:0,h=i>>2,m=(3&i)<<4|o>>4;let b=(15&o)<<2|d>>6,V=63&d;u||(V=64,s||(b=64)),l.push(n[h],n[m],n[b],n[V])}return l.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(stringToByteArray$1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,l=0;for(;n<e.length;){const i=e[n++];if(i<128)t[l++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[l++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[l++]=String.fromCharCode(55296+(s>>10)),t[l++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[l++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const o=t<e.length?n[e.charAt(t)]:64;++t;const u=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==o||null==u)throw new DecodeBase64StringError;const d=i<<2|s>>4;if(l.push(d),64!==o){const e=s<<4&240|o>>2;if(l.push(e),64!==u){const e=o<<6&192|u;l.push(e)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64urlEncodeWithoutPadding=function(e){return function(e){const t=stringToByteArray$1(e);return Vl.encodeByteArray(t,!0)}(e).replace(/\./g,"")},base64Decode=function(e){try{return Vl.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const getDefaultsFromGlobal=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,getDefaults$1=()=>{try{return getDefaultsFromGlobal()||(()=>{if(void 0===b||void 0===b.env)return;const e=b.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&base64Decode(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},getDefaultEmulatorHost=e=>{var t,n;return null===(n=null===(t=getDefaults$1())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},getDefaultAppConfig=()=>{var e;return null===(e=getDefaults$1())||void 0===e?void 0:e.config},getExperimentalSetting=e=>{var t;return null===(t=getDefaults$1())||void 0===t?void 0:t[`_${e}`]};class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function getUA(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function isSafari(){return!function(){var e;const t=null===(e=getDefaults$1())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(globalThis.process)}catch(e){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return"object"==typeof indexedDB}catch(e){return!1}}class FirebaseError extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},l=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(Wl,((e,n)=>{const l=t[n];return null!=l?String(l):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${l}).`;return new FirebaseError(l,o,n)}}const Wl=/\{\$([^}]+)}/g;function deepEqual(e,t){if(e===t)return!0;const n=Object.keys(e),l=Object.keys(t);for(const i of n){if(!l.includes(i))return!1;const n=e[i],s=t[i];if(isObject$1(n)&&isObject$1(s)){if(!deepEqual(n,s))return!1}else if(n!==s)return!1}for(const e of l)if(!n.includes(e))return!1;return!0}function isObject$1(e){return null!==e&&"object"==typeof e}function querystring(e){const t=[];for(const[n,l]of Object.entries(e))Array.isArray(l)?l.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(l));return t.length?"&"+t.join("&"):""}class ObserverProxy{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let l;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");l=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===l.next&&(l.next=noop$3),void 0===l.error&&(l.error=noop$3),void 0===l.complete&&(l.complete=noop$3);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch(e){}})),this.observers.push(l),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function noop$3(){}function getModularInstance(e){return e&&e._delegate?e._delegate:e}class Component{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Rl="[DEFAULT]";class Provider{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Deferred;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),l=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(l)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(l)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Rl})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=Rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=Rl){return this.instances.has(e)}getOptions(e=Rl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(e)&&t.resolve(l)}return l}onInit(e,t){var n;const l=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(l))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(l,i);const s=this.instances.get(l);return s&&e(s,l),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const l of n)try{l(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(l=e,l===Rl?void 0:l),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var l;return n||null}normalizeInstanceIdentifier(e=Rl){return this.component?this.component.multipleInstances?e:Rl:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Provider(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var gl;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(gl||(gl={}));const Il={debug:gl.DEBUG,verbose:gl.VERBOSE,info:gl.INFO,warn:gl.WARN,error:gl.ERROR,silent:gl.SILENT},fl=gl.INFO,Sl={[gl.DEBUG]:"log",[gl.VERBOSE]:"log",[gl.INFO]:"info",[gl.WARN]:"warn",[gl.ERROR]:"error"},defaultLogHandler=(e,t,...n)=>{if(t<e.logLevel)return;const l=(new Date).toISOString(),i=Sl[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${l}]  ${e.name}:`,...n)};class Logger{constructor(e){this.name=e,this._logLevel=fl,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gl))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Il[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,gl.DEBUG,...e),this._logHandler(this,gl.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,gl.VERBOSE,...e),this._logHandler(this,gl.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,gl.INFO,...e),this._logHandler(this,gl.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,gl.WARN,...e),this._logHandler(this,gl.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,gl.ERROR,...e),this._logHandler(this,gl.ERROR,...e)}}const instanceOfAny=(e,t)=>t.some((t=>e instanceof t));let Ll,Yl;const Kl=new WeakMap,xl=new WeakMap,Nl=new WeakMap,Tl=new WeakMap,vl=new WeakMap;let kl={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return xl.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Nl.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wrap(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function wrapFunction(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Yl||(Yl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(unwrap(this),t),wrap(Kl.get(this))}:function(...t){return wrap(e.apply(unwrap(this),t))}:function(t,...n){const l=e.call(unwrap(this),t,...n);return Nl.set(l,t.sort?t.sort():[t]),wrap(l)}}function transformCachableValue(e){return"function"==typeof e?wrapFunction(e):(e instanceof IDBTransaction&&function(e){if(xl.has(e))return;const t=new Promise(((t,n)=>{const unlisten=()=>{e.removeEventListener("complete",complete),e.removeEventListener("error",error),e.removeEventListener("abort",error)},complete=()=>{t(),unlisten()},error=()=>{n(e.error||new DOMException("AbortError","AbortError")),unlisten()};e.addEventListener("complete",complete),e.addEventListener("error",error),e.addEventListener("abort",error)}));xl.set(e,t)}(e),instanceOfAny(e,Ll||(Ll=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,kl):e)}function wrap(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const unlisten=()=>{e.removeEventListener("success",success),e.removeEventListener("error",error)},success=()=>{t(wrap(e.result)),unlisten()},error=()=>{n(e.error),unlisten()};e.addEventListener("success",success),e.addEventListener("error",error)}));return t.then((t=>{t instanceof IDBCursor&&Kl.set(t,e)})).catch((()=>{})),vl.set(t,e),t}(e);if(Tl.has(e))return Tl.get(e);const t=transformCachableValue(e);return t!==e&&(Tl.set(e,t),vl.set(t,e)),t}const unwrap=e=>vl.get(e);const Cl=["get","getKey","getAll","getAllKeys","count"],Hl=["put","add","delete","clear"],Jl=new Map;function getMethod(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Jl.get(t))return Jl.get(t);const n=t.replace(/FromIndex$/,""),l=t!==n,i=Hl.includes(n);if(!(n in(l?IDBIndex:IDBObjectStore).prototype)||!i&&!Cl.includes(n))return;const method=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let o=s.store;return l&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&s.done]))[0]};return Jl.set(t,method),method}kl=(e=>({...e,get:(t,n,l)=>getMethod(t,n)||e.get(t,n,l),has:(t,n)=>!!getMethod(t,n)||e.has(t,n)}))(kl);class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Fl="@firebase/app",zl="0.9.28",Ul=new Logger("@firebase/app"),El="[DEFAULT]",Ml={[Fl]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wl=new Map,Pl=new Map;function _addComponent(e,t){try{e.container.addComponent(t)}catch(n){Ul.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function _registerComponent(e){const t=e.name;if(Pl.has(t))return Ul.debug(`There were multiple attempts to register component ${t}.`),!1;Pl.set(t,e);for(const t of wl.values())_addComponent(t,e);return!0}function _getProvider(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const jl=new ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class FirebaseAppImpl{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Component("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jl.create("app-deleted",{appName:this._name})}}const Bl="10.8.1";function initializeApp$1(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const l=Object.assign({name:El,automaticDataCollectionEnabled:!1},t),i=l.name;if("string"!=typeof i||!i)throw jl.create("bad-app-name",{appName:String(i)});if(n||(n=getDefaultAppConfig()),!n)throw jl.create("no-options");const s=wl.get(i);if(s){if(deepEqual(n,s.options)&&deepEqual(l,s.config))return s;throw jl.create("duplicate-app",{appName:i})}const o=new ComponentContainer(i);for(const e of Pl.values())o.addComponent(e);const u=new FirebaseAppImpl(n,l,o);return wl.set(i,u),u}function getApp(e=El){const t=wl.get(e);if(!t&&e===El&&getDefaultAppConfig())return initializeApp$1();if(!t)throw jl.create("no-app",{appName:e});return t}function getApps(){return Array.from(wl.values())}function registerVersion(e,t,n){var l;let i=null!==(l=Ml[e])&&void 0!==l?l:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ul.warn(e.join(" "))}_registerComponent(new Component(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Ql="firebase-heartbeat-database",_l=1,Dl="firebase-heartbeat-store";let Ol=null;function getDbPromise(){return Ol||(Ol=function(e,t,{blocked:n,upgrade:l,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),u=wrap(o);return l&&o.addEventListener("upgradeneeded",(e=>{l(wrap(o.result),e.oldVersion,e.newVersion,wrap(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),u.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),u}(Ql,_l,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Dl)}catch(e){console.warn(e)}}}).catch((e=>{throw jl.create("idb-open",{originalErrorMessage:e.message})}))),Ol}async function writeHeartbeatsToIndexedDB(e,t){try{const n=(await getDbPromise()).transaction(Dl,"readwrite"),l=n.objectStore(Dl);await l.put(t,computeKey(e)),await n.done}catch(e){if(e instanceof FirebaseError)Ul.warn(e.message);else{const t=jl.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});Ul.warn(t.message)}}}function computeKey(e){return`${e.name}!${e.options.appId}`}class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=getUTCDateString();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==l&&!this._heartbeatsCache.heartbeats.some((e=>e.date===l)))return this._heartbeatsCache.heartbeats.push({date:l,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=getUTCDateString(),{heartbeatsToSend:n,unsentEntries:l}=function(e,t=1024){const n=[];let l=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),countBytes(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),countBytes(n)>t){n.pop();break}l=l.slice(1)}return{heartbeatsToSend:n,unsentEntries:l}}(this._heartbeatsCache.heartbeats),i=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function getUTCDateString(){return(new Date).toISOString().substring(0,10)}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!isIndexedDBAvailable()&&new Promise(((e,t)=>{try{let n=!0;const l="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(l);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(l),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await getDbPromise()).transaction(Dl),n=await t.objectStore(Dl).get(computeKey(e));return await t.done,n}catch(e){if(e instanceof FirebaseError)Ul.warn(e.message);else{const t=jl.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});Ul.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function countBytes(e){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:e})).length}var Al;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}Al="",_registerComponent(new Component("platform-logger",(e=>new PlatformLoggerServiceImpl(e)),"PRIVATE")),_registerComponent(new Component("heartbeat",(e=>new HeartbeatServiceImpl(e)),"PRIVATE")),registerVersion(Fl,zl,Al),registerVersion(Fl,zl,"esm2017"),registerVersion("fire-js","");const ql=_prodErrorMap,$l=new ErrorFactory("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ei=new Logger("@firebase/auth");function _logError(e,...t){ei.logLevel<=gl.ERROR&&ei.error(`Auth (${Bl}): ${e}`,...t)}function _fail(e,...t){throw createErrorInternal(e,...t)}function _createError(e,...t){return createErrorInternal(e,...t)}function createErrorInternal(e,...t){if("string"!=typeof e){const n=t[0],l=[...t.slice(1)];return l[0]&&(l[0].appName=e.name),e._errorFactory.create(n,...l)}return $l.create(e,...t)}function _assert(e,t,...n){if(!e)throw createErrorInternal(t,...n)}function debugFail(e){const t="INTERNAL ASSERTION FAILED: "+e;throw _logError(t),new Error(t)}function debugAssert(e,t){e||debugFail(t)}function _getCurrentUrl(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function _getCurrentScheme(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function _isOnline(){return"undefined"==typeof navigator||!navigator||!("onLine"in navigator)||"boolean"!=typeof navigator.onLine||"http:"!==_getCurrentScheme()&&"https:"!==_getCurrentScheme()&&!function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()&&!("connection"in navigator)||navigator.onLine}class Delay{constructor(e,t){this.shortDelay=e,this.longDelay=t,debugAssert(t>e,"Short delay should be less than long delay!"),this.isMobile="object"==typeof navigator&&"ReactNative"===navigator.product}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _emulatorUrl(e,t){debugAssert(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class FetchProvider{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ti={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ni=new Delay(3e4,6e4);function _addTidIfNecessary(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function _performApiRequest(e,t,n,l,i={}){return _performFetchWithErrorHandling(e,i,(async()=>{let i={},s={};l&&("GET"===t?s=l:i={body:JSON.stringify(l)});const o=querystring(Object.assign({key:e.config.apiKey},s)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),FetchProvider.fetch()(_getFinalTarget(e,e.config.apiHost,n,o),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},i))}))}async function _performFetchWithErrorHandling(e,t,n){e._canInitEmulator=!1;const l=Object.assign(Object.assign({},ti),t);try{const t=new NetworkTimeout(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw _makeTaggedError(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw _makeTaggedError(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw _makeTaggedError(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw _makeTaggedError(e,"user-disabled",s);const u=l[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw function(e,t,n){const l=Object.assign(Object.assign({},ql()),{[t]:n});return new ErrorFactory("auth","Firebase",l).create(t,{appName:e.name})}(e,u,o);_fail(e,u)}}catch(t){if(t instanceof FirebaseError)throw t;_fail(e,"network-request-failed",{message:String(t)})}}function _getFinalTarget(e,t,n,l){const i=`${t}${n}?${l}`;return e.config.emulator?_emulatorUrl(e.config,i):`${e.config.apiScheme}://${i}`}class NetworkTimeout{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(_createError(this.auth,"network-request-failed"))),ni.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(e,t,n){const l={appName:e.name};n.email&&(l.email=n.email),n.phoneNumber&&(l.phoneNumber=n.phoneNumber);const i=_createError(e,t,l);return i.customData._tokenResponse=n,i}function utcTimestampToDateString(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function secondsStringToMilliseconds(e){return 1e3*Number(e)}function _parseToken(e){const[t,n,l]=e.split(".");if(void 0===t||void 0===n||void 0===l)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const e=base64Decode(n);return e?JSON.parse(e):(_logError("Failed to decode base64 JWT payload"),null)}catch(e){return _logError("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}async function _logoutIfInvalidated(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof FirebaseError&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class ProactiveRefresh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class UserMetadata{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _reloadWithoutSaving(e){var t;const n=e.auth,l=await e.getIdToken(),i=await _logoutIfInvalidated(e,async function(e,t){return _performApiRequest(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:l}));_assert(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=__rest(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const u=(d=e.providerData,h=o,[...d.filter((e=>!h.some((t=>t.providerId===e.providerId)))),...h]);var d,h;const m=e.isAnonymous,b=!(e.email&&s.passwordHash||(null==u?void 0:u.length)),V=!!m&&b,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new UserMetadata(s.createdAt,s.lastLoginAt),isAnonymous:V};Object.assign(e,g)}class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_assert(e.idToken,"internal-error"),_assert(void 0!==e.idToken,"internal-error"),_assert(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=_parseToken(e);return _assert(t,"internal-error"),_assert(void 0!==t.exp,"internal-error"),_assert(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return _assert(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:l,expiresIn:i}=await async function(e,t){const n=await _performFetchWithErrorHandling(e,{},(async()=>{const n=querystring({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:i}=e.config,s=_getFinalTarget(e,l,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,l,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:l,expirationTime:i}=t,s=new StsTokenManager;return n&&(_assert("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),l&&(_assert("string"==typeof l,"internal-error",{appName:e}),s.accessToken=l),i&&(_assert("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}function assertStringOrUndefined(e,t){_assert("string"==typeof e||void 0===e,"internal-error",{appName:t})}class UserImpl{constructor(e){var{uid:t,auth:n,stsTokenManager:l}=e,i=__rest(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new UserMetadata(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,e));return _assert(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=getModularInstance(e),l=await n.getIdToken(t),i=_parseToken(l);_assert(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:l,authTime:utcTimestampToDateString(secondsStringToMilliseconds(i.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(i.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=getModularInstance(e);await _reloadWithoutSaving(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(_assert(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new UserImpl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await _logoutIfInvalidated(this,async function(e,t){return _performApiRequest(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,l,i,s,o,u,d,h;const m=null!==(n=t.displayName)&&void 0!==n?n:void 0,b=null!==(l=t.email)&&void 0!==l?l:void 0,V=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,g=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,S=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,L=null!==(d=t.createdAt)&&void 0!==d?d:void 0,v=null!==(h=t.lastLoginAt)&&void 0!==h?h:void 0,{uid:k,emailVerified:C,isAnonymous:F,providerData:z,stsTokenManager:E}=t;_assert(k&&E,e,"internal-error");const w=StsTokenManager.fromJSON(this.name,E);_assert("string"==typeof k,e,"internal-error"),assertStringOrUndefined(m,e.name),assertStringOrUndefined(b,e.name),_assert("boolean"==typeof C,e,"internal-error"),_assert("boolean"==typeof F,e,"internal-error"),assertStringOrUndefined(V,e.name),assertStringOrUndefined(g,e.name),assertStringOrUndefined(f,e.name),assertStringOrUndefined(S,e.name),assertStringOrUndefined(L,e.name),assertStringOrUndefined(v,e.name);const j=new UserImpl({uid:k,auth:e,email:b,emailVerified:C,displayName:m,isAnonymous:F,photoURL:g,phoneNumber:V,tenantId:f,stsTokenManager:w,createdAt:L,lastLoginAt:v});return z&&Array.isArray(z)&&(j.providerData=z.map((e=>Object.assign({},e)))),S&&(j._redirectEventId=S),j}static async _fromIdTokenResponse(e,t,n=!1){const l=new StsTokenManager;l.updateFromServerResponse(t);const i=new UserImpl({uid:t.localId,auth:e,stsTokenManager:l,isAnonymous:n});return await _reloadWithoutSaving(i),i}}const li=new Map;function _getInstance(e){debugAssert(e instanceof Function,"Expected a class definition");let t=li.get(e);return t?(debugAssert(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,li.set(e,t),t)}class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}InMemoryPersistence.type="NONE";const ii=InMemoryPersistence;function _persistenceKeyName(e,t,n){return`firebase:${e}:${t}:${n}`}class PersistenceUserManager{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:l,name:i}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,l.apiKey,i),this.fullPersistenceKey=_persistenceKeyName("persistence",l.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?UserImpl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new PersistenceUserManager(_getInstance(ii),e,n);const l=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=l[0]||_getInstance(ii);const s=_persistenceKeyName(n,e.config.apiKey,e.name);let o=null;for(const n of t)try{const t=await n._get(s);if(t){const l=UserImpl._fromJSON(e,t);n!==i&&(o=l),i=n;break}}catch(e){}const u=l.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&u.length?(i=u[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(e){}}))),new PersistenceUserManager(i,e,n)):new PersistenceUserManager(i,e,n)}}function _getBrowserName(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_isIEMobile(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_isFirefox(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_isBlackBerry(t))return"Blackberry";if(_isWebOS(t))return"Webos";if(_isSafari(t))return"Safari";if((t.includes("chrome/")||_isChromeIOS(t))&&!t.includes("edge/"))return"Chrome";if(_isAndroid(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function _isFirefox(e=getUA()){return/firefox\//i.test(e)}function _isSafari(e=getUA()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _isChromeIOS(e=getUA()){return/crios\//i.test(e)}function _isIEMobile(e=getUA()){return/iemobile/i.test(e)}function _isAndroid(e=getUA()){return/android/i.test(e)}function _isBlackBerry(e=getUA()){return/blackberry/i.test(e)}function _isWebOS(e=getUA()){return/webos/i.test(e)}function _isIOS(e=getUA()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function _isIE10(){return function(){const e=getUA();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function _isMobileBrowser(e=getUA()){return _isIOS(e)||_isAndroid(e)||_isWebOS(e)||_isBlackBerry(e)||/windows phone/i.test(e)||_isIEMobile(e)}function _getClientVersion(e,t=[]){let n;switch(e){case"Browser":n=_getBrowserName(getUA());break;case"Worker":n=`${_getBrowserName(getUA())}-${e}`;break;default:n=e}const l=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bl}/${l}`}class AuthMiddlewareQueue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const wrappedCallback=t=>new Promise(((n,l)=>{try{n(e(t))}catch(e){l(e)}}));wrappedCallback.onAbort=t,this.queue.push(wrappedCallback);const n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}class PasswordPolicyImpl{constructor(e){var t,n,l,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(l=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==l?l:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,l,i,s,o;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(n=u.meetsMaxPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(l=u.containsLowercaseLetter)||void 0===l||l),u.isValid&&(u.isValid=null===(i=u.containsUppercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(s=u.containsNumericCharacter)||void 0===s||s),u.isValid&&(u.isValid=null===(o=u.containsNonAlphanumericCharacter)||void 0===o||o),u}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),l&&(t.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let l=0;l<e.length;l++)n=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,l,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class AuthImpl{constructor(e,t,n,l){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$l,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_getInstance(t)),this._initializationPromise=this.queue((async()=>{var n,l;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(l=this.currentUser)||void 0===l?void 0:l.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let l=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==l?void 0:l._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null==o?void 0:o.user)||(l=o.user,i=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(l)}catch(e){l=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(e)))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _reloadWithoutSaving(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?getModularInstance(e):null;return t&&_assert(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_assert(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(_getInstance(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return _performApiRequest(e,"GET","/v2/passwordPolicy",_addTidIfNecessary(e,t))}(this),t=new PasswordPolicyImpl(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return _performApiRequest(e,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_getInstance(e)||this._popupRedirectResolver;_assert(t,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,l){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"==typeof t){const i=e.addObserver(t,n,l);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const l=await this._getAppCheckToken();return l&&(t["X-Firebase-AppCheck"]=l),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){ei.logLevel<=gl.WARN&&ei.warn(`Auth (${Bl}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function _castAuth(e){return getModularInstance(e)}class Subscription{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ObserverProxy(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let si={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function connectAuthEmulator(e,t,n){const l=_castAuth(e);_assert(l._canInitEmulator,l,"emulator-config-failed"),_assert(/^https?:\/\//.test(t),l,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=extractProtocol(t),{host:o,port:u}=function(e){const t=extractProtocol(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const l=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(l);if(i){const e=i[1];return{host:e,port:parsePort(l.substr(e.length+1))}}{const[e,t]=l.split(":");return{host:e,port:parsePort(t)}}}(t),d=null===u?"":`:${u}`;l.config.emulator={url:`${s}//${o}${d}/`},l.settings.appVerificationDisabledForTesting=!0,l.emulatorConfig=Object.freeze({host:o,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.")}function extractProtocol(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function parsePort(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class AuthCredential{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(e){return debugFail("not implemented")}_linkToIdToken(e,t){return debugFail("not implemented")}_getReauthenticationResolver(e){return debugFail("not implemented")}}async function signInWithIdp(e,t){return async function(e,t,n,l,i={}){const s=await _performApiRequest(e,t,n,l,i);return"mfaPendingCredential"in s&&_fail(e,"multi-factor-auth-required",{_serverResponse:s}),s}(e,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(e,t))}class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new OAuthCredential(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_fail("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:l}=t,i=__rest(t,["providerId","signInMethod"]);if(!n||!l)return null;const s=new OAuthCredential(n,l);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return signInWithIdp(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,signInWithIdp(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,signInWithIdp(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=querystring(t)}return e}}class FederatedAuthProvider{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return FacebookAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return FacebookAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(e.oauthAccessToken)}catch(e){return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com",FacebookAuthProvider.PROVIDER_ID="facebook.com";class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return GoogleAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GoogleAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return GoogleAuthProvider.credential(t,n)}catch(e){return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com",GoogleAuthProvider.PROVIDER_ID="google.com";class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return GithubAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GithubAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return GithubAuthProvider.credential(e.oauthAccessToken)}catch(e){return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com",GithubAuthProvider.PROVIDER_ID="github.com";class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(e,t){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return TwitterAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return TwitterAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return TwitterAuthProvider.credential(t,n)}catch(e){return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com",TwitterAuthProvider.PROVIDER_ID="twitter.com";class UserCredentialImpl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,l=!1){const i=await UserImpl._fromIdTokenResponse(e,n,l),s=providerIdForResponse(n);return new UserCredentialImpl({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const l=providerIdForResponse(n);return new UserCredentialImpl({user:e,providerId:l,_tokenResponse:n,operationType:t})}}function providerIdForResponse(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class MultiFactorError extends FirebaseError{constructor(e,t,n,l){var i;super(t.code,t.message),this.operationType=n,this.user=l,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,l){return new MultiFactorError(e,t,n,l)}}function _processCredentialSavingMfaContextIfNecessary(e,t,n,l){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw MultiFactorError._fromErrorAndOperation(e,n,t,l);throw n}))}function onIdTokenChanged$1(e,t,n,l){return getModularInstance(e).onIdTokenChanged(t,n,l)}function signOut$1(e){return getModularInstance(e).signOut()}const oi="__sak";class BrowserPersistenceClass{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(oi,"1"),this.storage.removeItem(oi),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=getUA();return _isSafari(e)||_isIOS(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),l=this.localCache[t];n!==l&&e(t,l,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(n);if(e.newValue!==l)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const triggerListeners=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},l=this.storage.getItem(n);_isIE10()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(triggerListeners,10):triggerListeners()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}BrowserLocalPersistence.type="LOCAL";const ci=BrowserLocalPersistence;class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}BrowserSessionPersistence.type="SESSION";const ai=BrowserSessionPersistence;class Receiver{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Receiver(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:l,data:i}=t.data,s=this.handlersMap[l];if(!(null==s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:l});const o=Array.from(s).map((async e=>e(t.origin,i))),u=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:l,response:u})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function _generateEventId(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}Receiver.receivers=[];class Sender{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const l="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let i,s;return new Promise(((o,u)=>{const d=_generateEventId("",20);l.port1.start();const h=setTimeout((()=>{u(new Error("unsupported_event"))}),n);s={messageChannel:l,onMessage(e){const t=e;if(t.data.eventId===d)switch(t.data.status){case"ack":clearTimeout(h),i=setTimeout((()=>{u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"))}}},this.handlers.add(s),l.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[l.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function _window(){return window}function _isWorker(){return void 0!==_window().WorkerGlobalScope&&"function"==typeof _window().importScripts}const ri="firebaseLocalStorageDb",ui="firebaseLocalStorage",di="fbase_key";class DBPromise{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function getObjectStore(e,t){return e.transaction([ui],t?"readwrite":"readonly").objectStore(ui)}function _openDatabase(){const e=indexedDB.open(ri,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(ui,{keyPath:di})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(ui)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ri);return new DBPromise(e).toPromise()}(),t(await _openDatabase()))}))}))}async function _putObject(e,t,n){const l=getObjectStore(e,!0).put({[di]:t,value:n});return new DBPromise(l).toPromise()}function _deleteObject(e,t){const n=getObjectStore(e,!0).delete(t);return new DBPromise(n).toPromise()}class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await _openDatabase()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_isWorker()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _openDatabase();return await _putObject(e,oi,"1"),await _deleteObject(e,oi),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>_putObject(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=getObjectStore(e,!1).get(t),l=await new DBPromise(n).toPromise();return void 0===l?null:l.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>_deleteObject(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=getObjectStore(e,!1).getAll();return new DBPromise(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:l,value:i}of e)n.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(i)&&(this.notifyListeners(l,i),t.push(l));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const hi=IndexedDBLocalPersistence;new Delay(3e4,6e4);class IdpCredential extends AuthCredential{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return signInWithIdp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return signInWithIdp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return signInWithIdp(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _signIn(e){return async function(e,t,n=!1){const l="signIn",i=await _processCredentialSavingMfaContextIfNecessary(e,l,t),s=await UserCredentialImpl._fromIdTokenResponse(e,l,i);return n||await e._updateCurrentUser(s.user),s}(e.auth,new IdpCredential(e),e.bypassAuthState)}function _reauth(e){const{auth:t,user:n}=e;return _assert(n,t,"internal-error"),async function(e,t,n=!1){const{auth:l}=e,i="reauthenticate";try{const s=await _logoutIfInvalidated(e,_processCredentialSavingMfaContextIfNecessary(l,i,t,e),n);_assert(s.idToken,l,"internal-error");const o=_parseToken(s.idToken);_assert(o,l,"internal-error");const{sub:u}=o;return _assert(e.uid===u,l,"user-mismatch"),UserCredentialImpl._forOperation(e,i,s)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&_fail(l,"user-mismatch"),e}}(n,new IdpCredential(e),e.bypassAuthState)}async function _link(e){const{auth:t,user:n}=e;return _assert(n,t,"internal-error"),async function(e,t,n=!1){const l=await _logoutIfInvalidated(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return UserCredentialImpl._forOperation(e,"link",l)}(n,new IdpCredential(e),e.bypassAuthState)}class AbstractPopupRedirectOperation{constructor(e,t,n,l,i=!1){this.auth=e,this.resolver=n,this.user=l,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:l,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const u={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mi=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(e,t,n,l,i){super(e,t,l,i),this.provider=n,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _assert(e,this.auth,"internal-error"),e}async onExecution(){debugAssert(1===this.filter.length,"Popup operations only handle one event");const e=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(_createError(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const poll=()=>{var e,t;(null===(t=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===t?void 0:t.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(poll,mi.get())};poll()}}PopupOperation.currentPopupAction=null;const bi="pendingRedirect",pi=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=pi.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return _persistenceKeyName(bi,e.config.apiKey,e.name)}(t),l=function(e){return _getInstance(e._redirectPersistence)}(e);if(!await l._isAvailable())return!1;const i="true"===await l._get(n);return await l._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}pi.set(this.auth._key(),e)}return this.bypassAuthState||pi.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function _overrideRedirectResult(e,t){pi.set(e._key(),t)}async function _getRedirectResult(e,t,n=!1){const l=_castAuth(e),i=function(e,t){return t?_getInstance(t):(_assert(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(l,t),s=new RedirectAction(l,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await l._persistUserIfCurrent(o.user),await l._setRedirectUser(null,t)),o}class AuthEventManager{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!isNullRedirectEvent(e)){const l=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(_createError(this.auth,l))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(e))}saveEventToCache(e){this.cachedEventUids.add(eventUid(e)),this.lastProcessedEventTime=Date.now()}}function eventUid(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function isNullRedirectEvent({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const Zi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yi=/^https?/;async function _validateOrigin(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return _performApiRequest(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(matchDomain(e))return}catch(e){}_fail(e,"unauthorized-domain")}function matchDomain(e){const t=_getCurrentUrl(),{protocol:n,hostname:l}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===l?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===l}if(!yi.test(n))return!1;if(Zi.test(e))return l===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(l)}const Gi=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const e=_window().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}function loadGapi(e){return new Promise(((t,n)=>{var l,i,s,o;function loadGapiIframe(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),n(_createError(e,"network-request-failed"))},timeout:Gi.get()})}if(null===(i=null===(l=_window().gapi)||void 0===l?void 0:l.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=_window().gapi)||void 0===s?void 0:s.load)){const t=`__${"iframefcb"}${Math.floor(1e6*Math.random())}`;return _window()[t]=()=>{gapi.load?loadGapiIframe():n(_createError(e,"network-request-failed"))},(o=`${si.gapiScript}?onload=${t}`,si.loadJS(o)).catch((e=>n(e)))}loadGapiIframe()}})).catch((e=>{throw Xi=null,e}))}let Xi=null;const Vi=new Delay(5e3,15e3),Wi="__/auth/iframe",Ri="emulator/auth/iframe",gi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ii=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(e){const t=e.config;_assert(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?_emulatorUrl(t,Ri):`https://${e.config.authDomain}/${Wi}`,l={apiKey:t.apiKey,appName:e.name,v:Bl},i=Ii.get(e.config.apiHost);i&&(l.eid=i);const s=e._getFrameworks();return s.length&&(l.fw=s.join(",")),`${n}?${querystring(l).slice(1)}`}async function _openIframe(e){const t=await function(e){return Xi=Xi||loadGapi(e),Xi}(e),n=_window().gapi;return _assert(n,e,"internal-error"),t.open({where:document.body,url:getIframeUrl(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gi,dontclear:!0},(t=>new Promise((async(n,l)=>{await t.restyle({setHideOnLeave:!1});const i=_createError(e,"network-request-failed"),s=_window().setTimeout((()=>{l(i)}),Vi.get());function clearTimerAndResolve(){_window().clearTimeout(s),n(t)}t.ping(clearTimerAndResolve).then(clearTimerAndResolve,(()=>{l(i)}))}))))}const fi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class AuthPopup{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function _open(e,t,n,l=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-l)/2,0).toString();let u="";const d=Object.assign(Object.assign({},fi),{width:l.toString(),height:i.toString(),top:s,left:o}),h=getUA().toLowerCase();n&&(u=_isChromeIOS(h)?"_blank":n),_isFirefox(h)&&(t=t||"http://localhost",d.scrollbars="yes");const m=Object.entries(d).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=getUA()){var t;return _isIOS(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(h)&&"_self"!==u)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const l=document.createEvent("MouseEvent");l.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(l)}(t||"",u),new AuthPopup(null);const b=window.open(t||"",u,m);_assert(b,e,"popup-blocked");try{b.focus()}catch(e){}return new AuthPopup(b)}const Si="__/auth/handler",Li="emulator/auth/handler",Yi=encodeURIComponent("fac");async function _getRedirectUrl(e,t,n,l,i,s){_assert(e.config.authDomain,e,"auth-domain-config-required"),_assert(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:l,v:Bl,eventId:i};if(t instanceof FederatedAuthProvider){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof BaseOAuthProvider){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const u=o;for(const e of Object.keys(u))void 0===u[e]&&delete u[e];const d=await e._getAppCheckToken(),h=d?`#${Yi}=${encodeURIComponent(d)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${Si}`;return _emulatorUrl(e,Li)}(e)}?${querystring(u).slice(1)}${h}`}const Ki="webStorageSupport";const xi=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ai,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(e,t,n,l){var i;debugAssert(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return _open(e,await _getRedirectUrl(e,t,n,_getCurrentUrl(),l),_generateEventId())}async _openRedirect(e,t,n,l){await this._originValidation(e);return function(e){_window().location.href=e}(await _getRedirectUrl(e,t,n,_getCurrentUrl(),l)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(debugAssert(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await _openIframe(e),n=new AuthEventManager(e);return t.register("authEvent",(t=>{_assert(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ki,{type:Ki},(n=>{var l;const i=null===(l=null==n?void 0:n[0])||void 0===l?void 0:l[Ki];void 0!==i&&t(!!i),_fail(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_validateOrigin(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}};var Ni="@firebase/auth",Ti="1.6.1";class AuthInterop{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const vi=getExperimentalSetting("authIdTokenMaxAge")||300;let ki=null;function getAuth$1(e=getApp()){const t=_getProvider(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=_getProvider(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(deepEqual(n.getOptions(),null!=t?t:{}))return e;_fail(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:xi,persistence:[hi,ci,ai]}),l=getExperimentalSetting("authTokenSyncURL");if(l){const e=(i=l,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>vi)return;const l=null==t?void 0:t.token;ki!==l&&(ki=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))});!function(e,t,n){getModularInstance(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),onIdTokenChanged$1(n,(t=>e(t)))}var i;const s=getDefaultEmulatorHost("auth");return s&&connectAuthEmulator(n,`http://${s}`),n}var Ci;!function(e){si=e}({loadJS:e=>new Promise(((t,n)=>{const l=document.createElement("script");var i,s;l.setAttribute("src",e),l.onload=t,l.onerror=e=>{const t=_createError("internal-error");t.customData=e,n(t)},l.type="text/javascript",l.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(l)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Ci="Browser",_registerComponent(new Component("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;_assert(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:s,authDomain:o,clientPlatform:Ci,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(Ci)},d=new AuthImpl(n,l,i,u);return function(e,t){const n=(null==t?void 0:t.persistence)||[],l=(Array.isArray(n)?n:[n]).map(_getInstance);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(l,null==t?void 0:t.popupRedirectResolver)}(d,t),d}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),_registerComponent(new Component("auth-internal",(e=>(e=>new AuthInterop(e))(_castAuth(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(Ni,Ti,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ci)),registerVersion(Ni,Ti,"esm2017");var Hi,Ji="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Fi=Fi||{},zi=Ji||self;function aa(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ui="closure_uid_"+(1e9*Math.random()>>>0),Ei=0;function ea(e,t,n){return e.call.apply(e.bind,arguments)}function fa(e,t,n){if(!e)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,l),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function q(e,t,n){return(q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ea:fa).apply(null,arguments)}function ha(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function r(e,t){function c(){}c.prototype=t.prototype,e.$=t.prototype,e.prototype=new c,e.prototype.constructor=e,e.ac=function(e,n,l){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function v$1(){this.s=this.s,this.o=this.o}v$1.prototype.s=!1,v$1.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Ui)&&e[Ui]||(e[Ui]=++Ei))},v$1.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Mi=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ma(e){const t=e.length;if(0<t){const n=Array(t);for(let l=0;l<t;l++)n[l]=e[l];return n}return[]}function na(e,t){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(aa(n)){const t=e.length||0,l=n.length||0;e.length=t+l;for(let i=0;i<l;i++)e[t+i]=n[i]}else e.push(n)}}function w$1(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}w$1.prototype.h=function(){this.defaultPrevented=!0};var wi=function(){if(!zi.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const c=()=>{};zi.addEventListener("test",c,t),zi.removeEventListener("test",c,t)}catch(e){}return e}();function x(e){return/^[\s\xa0]*$/.test(e)}function pa(){var e=zi.navigator;return e&&(e=e.userAgent)?e:""}function y(e){return-1!=pa().indexOf(e)}function qa(e){return qa[" "](e),e}qa[" "]=function(){};var Pi,ji,Bi,Qi=y("Opera"),_i=y("Trident")||y("MSIE"),Di=y("Edge"),Oi=Di||_i,Ai=y("Gecko")&&!(-1!=pa().toLowerCase().indexOf("webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),qi=-1!=pa().toLowerCase().indexOf("webkit")&&!y("Edge");function ya(){var e=zi.document;return e?e.documentMode:void 0}e:{var $i="",es=(ji=pa(),Ai?/rv:([^\);]+)(\)|;)/.exec(ji):Di?/Edge\/([\d\.]+)/.exec(ji):_i?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ji):qi?/WebKit\/(\S+)/.exec(ji):Qi?/(?:Version)[ \/]?(\S+)/.exec(ji):void 0);if(es&&($i=es?es[1]:""),_i){var ts=ya();if(null!=ts&&ts>parseFloat($i)){Pi=String(ts);break e}}Pi=$i}if(zi.document&&_i){var ns=ya();Bi=ns||(parseInt(Pi,10)||void 0)}else Bi=void 0;var ls=Bi;function A(e,t){if(w$1.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,l=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ai){e:{try{qa(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:is[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&A.$.h.call(this)}}r(A,w$1);var is={2:"touch",3:"pen",4:"mouse"};A.prototype.h=function(){A.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ss="closure_listenable_"+(1e6*Math.random()|0),os=0;function Ja(e,t,n,l,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!l,this.la=i,this.key=++os,this.fa=this.ia=!1}function Ma(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Na(e,t,n){for(const l in e)t.call(n,e[l],l,e)}function Pa(e){const t={};for(const n in e)t[n]=e[n];return t}const cs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ra(e,t){let n,l;for(let t=1;t<arguments.length;t++){for(n in l=arguments[t],l)e[n]=l[n];for(let t=0;t<cs.length;t++)n=cs[t],Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}}function Sa(e){this.src=e,this.g={},this.h=0}function Ua(e,t){var n=t.type;if(n in e.g){var l,i=e.g[n],s=Mi(i,t);(l=0<=s)&&Array.prototype.splice.call(i,s,1),l&&(Ma(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ta(e,t,n,l){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==l)return i}return-1}Sa.prototype.add=function(e,t,n,l,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Ta(e,t,l,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Ja(t,this.src,s,!!l,i)).ia=n,e.push(t)),t};var as="closure_lm_"+(1e6*Math.random()|0),rs={};function Ya(e,t,n,l,i){if(l&&l.once)return Za(e,t,n,l,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ya(e,t[s],n,l,i);return null}return n=$a(n),e&&e[ss]?e.O(t,n,p(l)?!!l.capture:!!l,i):ab(e,t,n,!1,l,i)}function ab(e,t,n,l,i,s){if(!t)throw Error("Invalid event type");var o=p(i)?!!i.capture:!!i,u=bb(e);if(u||(e[as]=u=new Sa(e)),(n=u.add(t,n,l,o,s)).proxy)return n;if(l=function(){function a(t){return e.call(a.src,a.listener,t)}const e=eb;return a}(),n.proxy=l,l.src=e,l.listener=n,e.addEventListener)wi||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),l,i);else if(e.attachEvent)e.attachEvent(db(t.toString()),l);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(l)}return n}function Za(e,t,n,l,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Za(e,t[s],n,l,i);return null}return n=$a(n),e&&e[ss]?e.P(t,n,p(l)?!!l.capture:!!l,i):ab(e,t,n,!0,l,i)}function fb(e,t,n,l,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)fb(e,t[s],n,l,i);else l=p(l)?!!l.capture:!!l,n=$a(n),e&&e[ss]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ta(s=e.g[t],n,l,i))&&(Ma(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=bb(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ta(t,n,l,i)),(n=-1<e?t[e]:null)&&gb(n))}function gb(e){if("number"!=typeof e&&e&&!e.fa){var t=e.src;if(t&&t[ss])Ua(t.i,e);else{var n=e.type,l=e.proxy;t.removeEventListener?t.removeEventListener(n,l,e.capture):t.detachEvent?t.detachEvent(db(n),l):t.addListener&&t.removeListener&&t.removeListener(l),(n=bb(t))?(Ua(n,e),0==n.h&&(n.src=null,t[as]=null)):Ma(e)}}}function db(e){return e in rs?rs[e]:rs[e]="on"+e}function eb(e,t){if(e.fa)e=!0;else{t=new A(t,this);var n=e.listener,l=e.la||e.src;e.ia&&gb(e),e=n.call(l,t)}return e}function bb(e){return(e=e[as])instanceof Sa?e:null}var us="__closure_events_fn_"+(1e9*Math.random()>>>0);function $a(e){return"function"==typeof e?e:(e[us]||(e[us]=function(t){return e.handleEvent(t)}),e[us])}function B(){v$1.call(this),this.i=new Sa(this),this.S=this,this.J=null}function C$1(e,t){var n,l=e.J;if(l)for(n=[];l;l=l.J)n.push(l);if(e=e.S,l=t.type||t,"string"==typeof t)t=new w$1(t,e);else if(t instanceof w$1)t.target=t.target||e;else{var i=t;Ra(t=new w$1(l,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ib(o,l,!0,t)&&i}if(i=ib(o=t.g=e,l,!0,t)&&i,i=ib(o,l,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ib(o=t.g=n[s],l,!1,t)&&i}function ib(e,t,n,l){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var u=o.listener,d=o.la||o.src;o.ia&&Ua(e.i,o),i=!1!==u.call(d,l)&&i}}return i&&!l.defaultPrevented}r(B,v$1),B.prototype[ss]=!0,B.prototype.removeEventListener=function(e,t,n,l){fb(this,e,t,n,l)},B.prototype.N=function(){if(B.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],l=0;l<n.length;l++)Ma(n[l]);delete t.g[e],t.h--}}this.J=null},B.prototype.O=function(e,t,n,l){return this.i.add(String(e),t,!1,n,l)},B.prototype.P=function(e,t,n,l){return this.i.add(String(e),t,!0,n,l)};var ds=zi.JSON.stringify;function lb(){var e=ps;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var hs=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new pb),(e=>e.reset()));class pb{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function qb(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function rb(e){zi.setTimeout((()=>{throw e}),0)}let ms,bs=!1,ps=new class{constructor(){this.h=this.g=null}add(e,t){const n=hs.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},vb=()=>{const e=zi.Promise.resolve(void 0);ms=()=>{e.then(ub)}};var ub=()=>{for(var e;e=lb();){try{e.h.call(e.g)}catch(e){rb(e)}var t=hs;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}bs=!1};function wb(e,t){B.call(this),this.h=e||1,this.g=t||zi,this.j=q(this.qb,this),this.l=Date.now()}function xb(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function yb(e,t,n){if("function"==typeof e)n&&(e=q(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=q(e.handleEvent,e)}return 2147483647<Number(t)?-1:zi.setTimeout(e,t||0)}function zb(e){e.g=yb((()=>{e.g=null,e.i&&(e.i=!1,zb(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}r(wb,B),(Hi=wb.prototype).ga=!1,Hi.T=null,Hi.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),C$1(this,"tick"),this.ga&&(xb(this),this.start()))}},Hi.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Hi.N=function(){wb.$.N.call(this),xb(this),delete this.g};class Ab extends v$1{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zb(this)}N(){super.N(),this.g&&(zi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bb(e){v$1.call(this),this.h=e,this.g={}}r(Bb,v$1);var Zs=[];function Eb(e,t,n,l){Array.isArray(n)||(n&&(Zs[0]=n.toString()),n=Zs);for(var i=0;i<n.length;i++){var s=Ya(t,n[i],l||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Fb(e){Na(e.g,(function(e,t){this.g.hasOwnProperty(t)&&gb(e)}),e),e.g={}}function Gb(){this.g=!0}function D$1(e,t,n,l){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var l=n[e];if(!(2>l.length)){var i=l[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ds(n)}catch(e){return t}}(e,n)+(l?" "+l:"")}))}Bb.prototype.N=function(){Bb.$.N.call(this),Fb(this)},Bb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gb.prototype.Ea=function(){this.g=!1},Gb.prototype.info=function(){};var ys={},Gs=null;function Mb(){return Gs=Gs||new B}function Nb(e){w$1.call(this,ys.Ta,e)}function Ob(e){const t=Mb();C$1(t,new Nb(t))}function Pb(e,t){w$1.call(this,ys.STAT_EVENT,e),this.stat=t}function F$1(e){const t=Mb();C$1(t,new Pb(t,e))}function Qb(e,t){w$1.call(this,ys.Ua,e),this.size=t}function Rb(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return zi.setTimeout((function(){e()}),t)}ys.Ta="serverreachability",r(Nb,w$1),ys.STAT_EVENT="statevent",r(Pb,w$1),ys.Ua="timingevent",r(Qb,w$1);var Xs={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Vs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ub(){}function Vb(e){return e.h||(e.h=e.i())}function Wb(){}Ub.prototype.h=null;var Ws,Rs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yb(){w$1.call(this,"d")}function Zb(){w$1.call(this,"c")}function ac(){}function bc(e,t,n,l){this.l=e,this.j=t,this.m=n,this.W=l||1,this.U=new Bb(this),this.P=gs,e=Oi?125:void 0,this.V=new wb(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dc}function dc(){this.i=null,this.g="",this.h=!1}r(Yb,w$1),r(Zb,w$1),r(ac,Ub),ac.prototype.g=function(){return new XMLHttpRequest},ac.prototype.i=function(){return{}},Ws=new ac;var gs=45e3,Is={},fs={};function gc(e,t,n){e.L=1,e.A=hc(G(t)),e.u=n,e.S=!0,ic(e,null)}function ic(e,t){e.G=Date.now(),jc(e),e.B=G(e.A);var n=e.B,l=e.W;Array.isArray(l)||(l=[String(l)]),kc(n.i,"t",l),e.o=0,n=e.l.J,e.h=new dc,e.g=lc(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Ab(q(e.Pa,e,e.g),e.O)),Eb(e.U,e.g,"readystatechange",e.nb),t=e.I?Pa(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Ob(),function(e,t,n,l,i,s){e.info((function(){if(e.g)if(s)for(var o="",u=s.split("&"),d=0;d<u.length;d++){var h=u[d].split("=");if(1<h.length){var m=h[0];h=h[1];var b=m.split("_");o=2<=b.length&&"type"==b[1]?o+(m+"=")+h+"&":o+(m+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+l+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function oc(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function rc(e,t,n){let l,i=!0;for(;!e.J&&e.o<n.length;){if(l=uc(e,n),l==fs){4==t&&(e.s=4,F$1(14),i=!1),D$1(e.j,e.m,null,"[Incomplete Response]");break}if(l==Is){e.s=4,F$1(15),D$1(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}D$1(e.j,e.m,l,null),qc(e,l)}oc(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,F$1(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),vc(t),t.M=!0,F$1(11))):(D$1(e.j,e.m,n,"[Invalid Chunked Response]"),I(e),pc(e))}function uc(e,t){var n=e.o,l=t.indexOf("\n",n);return-1==l?fs:(n=Number(t.substring(n,l)),isNaN(n)?Is:(l+=1)+n>t.length?fs:(t=t.slice(l,l+n),e.o=l+n,t))}function jc(e){e.Y=Date.now()+e.P,wc(e,e.P)}function wc(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Rb(q(e.lb,e),t)}function nc(e){e.C&&(zi.clearTimeout(e.C),e.C=null)}function pc(e){0==e.l.H||e.J||sc(e.l,e)}function I(e){nc(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,xb(e.V),Fb(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function qc(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||xc(n.i,e)))if(!e.K&&xc(n.i,e)&&3==n.H){try{var l=n.Ja.g.parse(t)}catch(e){l=null}if(Array.isArray(l)&&3==l.length){var i=l;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;yc(n),zc(n)}Ac(n),F$1(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Rb(q(n.ib,n),6e3));if(1>=Bc(n.i)&&n.oa){try{n.oa()}catch(e){}n.oa=void 0}}else J(n,11)}else if((e.K||n.g==e)&&yc(n),!x(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let h=i[t];if(n.V=h[0],h=h[1],2==n.H)if("c"==h[0]){n.K=h[1],n.pa=h[2];const t=h[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=h[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const m=h[5];null!=m&&"number"==typeof m&&0<m&&(l=1.5*m,n.L=l,n.l.info("backChannelRequestTimeoutMs_="+l)),l=n;const b=e.g;if(b){const e=b.g?b.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=l.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Cc(s,s.h),s.h=null))}if(l.F){const e=b.g?b.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(l.Da=e,K(l.I,l.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((l=n).wa=Dc(l,l.J?l.pa:null,l.Y),o.K){Ec(l.i,o);var u=o,d=l.L;d&&u.setTimeout(d),u.C&&(nc(u),jc(u)),l.g=o}else Fc(l);0<n.j.length&&Gc(n)}else"stop"!=h[0]&&"close"!=h[0]||J(n,7);else 3==n.H&&("stop"==h[0]||"close"==h[0]?"stop"==h[0]?J(n,7):Hc(n):"noop"!=h[0]&&n.h&&n.h.Aa(h),n.A=0)}Ob()}catch(e){}}function Kc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(aa(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(aa(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const l in e)t[n++]=l;return t}}}(e),l=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(aa(e)){for(var t=[],n=e.length,l=0;l<n;l++)t.push(e[l]);return t}for(l in t=[],n=0,e)t[n++]=e[l];return t}(e),i=l.length,s=0;s<i;s++)t.call(void 0,l[s],n&&n[s],e)}(Hi=bc.prototype).setTimeout=function(e){this.P=e},Hi.nb=function(e){e=e.target;const t=this.M;t&&3==H(e)?t.l():this.Pa(e)},Hi.Pa=function(e){try{if(e==this.g)e:{const m=H(this.g);var t=this.g.Ia();this.g.da();if(!(3>m)&&(3!=m||Oi||this.g&&(this.h.h||this.g.ja()||mc(this.g)))){this.J||4!=m||7==t||Ob(),nc(this);var n=this.g.da();this.ca=n;t:if(oc(this)){var l=mc(this.g);e="";var i=l.length,s=4==H(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){I(this),pc(this);var o="";break t}this.h.i=new zi.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(l[t],{stream:s&&t==i-1});l.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,l,i,s,o){e.info((function(){return"XMLHTTP RESP ("+l+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.v,this.B,this.m,this.W,m,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,d=this.g;if((u=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(u)){var h=u;break t}}h=null}if(!(n=h)){this.i=!1,this.s=3,F$1(12),I(this),pc(this);break e}D$1(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qc(this,n)}this.S?(rc(this,m,o),Oi&&this.i&&3==m&&(Eb(this.U,this.V,"tick",this.mb),this.V.start())):(D$1(this.j,this.m,o,null),qc(this,o)),4==m&&I(this),this.i&&!this.J&&(4==m?sc(this.l,this):(this.i=!1,jc(this)))}else(function(e){const t={};e=(e.g&&2<=H(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let l=0;l<e.length;l++){if(x(e[l]))continue;var n=qb(e[l]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,F$1(12)):(this.s=0,F$1(13)),I(this),pc(this)}}}catch(e){}},Hi.mb=function(){if(this.g){var e=H(this.g),t=this.g.ja();this.o<t.length&&(nc(this),rc(this,e,t),this.i&&4!=e&&jc(this))}},Hi.cancel=function(){this.J=!0,I(this)},Hi.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Ob(),F$1(17)),I(this),this.s=2,pc(this)):wc(this,this.Y-e)};var Ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function M(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof M){this.h=e.h,Nc(this,e.j),this.s=e.s,this.g=e.g,Oc(this,e.m),this.l=e.l;var t=e.i,n=new Pc;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Qc(this,n),this.o=e.o}else e&&(t=String(e).match(Ss))?(this.h=!1,Nc(this,t[1]||"",!0),this.s=Rc(t[2]||""),this.g=Rc(t[3]||"",!0),Oc(this,t[4]),this.l=Rc(t[5]||"",!0),Qc(this,t[6]||"",!0),this.o=Rc(t[7]||"")):(this.h=!1,this.i=new Pc(null,this.h))}function G(e){return new M(e)}function Nc(e,t,n){e.j=n?Rc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Oc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Qc(e,t,n){t instanceof Pc?(e.i=t,function(e,t){t&&!e.j&&(N(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&($c(this,t),kc(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Sc(t,xs)),e.i=new Pc(t,e.h))}function K(e,t,n){e.i.set(t,n)}function hc(e){return K(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Rc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Sc(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Zc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Zc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}M.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Sc(t,Ls,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Sc(t,Ls,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Sc(n,"/"==n.charAt(0)?Ks:Ys,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Sc(n,Ns)),e.join("")};var Ls=/[#\/\?@]/g,Ys=/[#\?:]/g,Ks=/[#\?]/g,xs=/[#\?@]/g,Ns=/#/g;function Pc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function N(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var l=e[n].indexOf("="),i=null;if(0<=l){var s=e[n].substring(0,l);i=e[n].substring(l+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function $c(e,t){N(e),t=O(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ad(e,t){return N(e),t=O(e,t),e.g.has(t)}function kc(e,t,n){$c(e,t),0<n.length&&(e.i=null,e.g.set(O(e,t),ma(n)),e.h+=n.length)}function O(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Hi=Pc.prototype).add=function(e,t){N(this),this.i=null,e=O(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Hi.forEach=function(e,t){N(this),this.g.forEach((function(n,l){n.forEach((function(n){e.call(t,n,l,this)}),this)}),this)},Hi.ta=function(){N(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let l=0;l<t.length;l++){const i=e[l];for(let e=0;e<i.length;e++)n.push(t[l])}return n},Hi.Z=function(e){N(this);let t=[];if("string"==typeof e)ad(this,e)&&(t=t.concat(this.g.get(O(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Hi.set=function(e,t){return N(this),this.i=null,ad(this,e=O(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Hi.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Hi.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var l=t[n];const s=encodeURIComponent(String(l)),o=this.Z(l);for(l=0;l<o.length;l++){var i=s;""!==o[l]&&(i+="="+encodeURIComponent(String(o[l]))),e.push(i)}}return this.i=e.join("&")};var Ts=class{constructor(e,t){this.g=e,this.map=t}};function cd(e){this.l=e||vs,zi.PerformanceNavigationTiming?e=0<(e=zi.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(zi.g&&zi.g.Ka&&zi.g.Ka()&&zi.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var vs=10;function ed(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Bc(e){return e.h?1:e.g?e.g.size:0}function xc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Cc(e,t){e.g?e.g.add(t):e.h=t}function Ec(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fd(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return ma(e.i)}cd.prototype.cancel=function(){if(this.i=fd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ks=class{stringify(e){return zi.JSON.stringify(e,void 0)}parse(e){return zi.JSON.parse(e,void 0)}};function hd(){this.g=new ks}function id(e,t,n){const l=n||"";try{Kc(e,(function(e,n){let i=e;p(e)&&(i=ds(e)),t.push(l+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(l+"type="+encodeURIComponent("_badmap")),e}}function kd(e,t,n,l,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(l)}catch(e){}}function ld(e){this.l=e.ec||null,this.j=e.ob||!1}function md(e,t){B.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Cs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}r(ld,Ub),ld.prototype.g=function(){return new md(this.l,this.j)},ld.prototype.i=function(e){return function(){return e}}({}),r(md,B);var Cs=0;function qd(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function pd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,od(e)}function od(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Hi=md.prototype).open=function(e,t){if(this.readyState!=Cs)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,od(this)},Hi.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||zi).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Hi.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pd(this)),this.readyState=Cs},Hi.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,od(this)),this.g&&(this.readyState=3,od(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==zi.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qd(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Hi.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?pd(this):od(this),3==this.readyState&&qd(this)}},Hi.Za=function(e){this.g&&(this.response=this.responseText=e,pd(this))},Hi.Ya=function(e){this.g&&(this.response=e,pd(this))},Hi.ka=function(){this.g&&pd(this)},Hi.setRequestHeader=function(e,t){this.v.append(e,t)},Hi.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Hi.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(md.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Hs=zi.JSON.parse;function P(e){B.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Js,this.L=this.M=!1}r(P,B);var Js="",Fs=/^https?$/i,zs=["POST","PUT"];function vd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,yd(e),zd(e)}function yd(e){e.F||(e.F=!0,C$1(e,"complete"),C$1(e,"error"))}function Ad(e){if(e.h&&void 0!==Fi&&(!e.C[1]||4!=H(e)||2!=e.da()))if(e.v&&4==H(e))yb(e.La,0,e);else if(C$1(e,"readystatechange"),4==H(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var l;if(l=0===o){var i=String(e.I).match(Ss)[1]||null;!i&&zi.self&&zi.self.location&&(i=zi.self.location.protocol.slice(0,-1)),l=!Fs.test(i?i.toLowerCase():"")}n=l}if(n)C$1(e,"complete"),C$1(e,"success");else{e.m=6;try{var s=2<H(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.da()+"]",yd(e)}}finally{zd(e)}}}function zd(e,t){if(e.g){wd(e);const n=e.g,l=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||C$1(e,"ready");try{n.onreadystatechange=l}catch(e){}}}function wd(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(zi.clearTimeout(e.A),e.A=null)}function H(e){return e.g?e.g.readyState:0}function mc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Js:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Bd(e){let t="";return Na(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Cd(e,t,n){e:{for(l in n){var l=!1;break e}l=!0}l||(n=Bd(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):K(e,t,n))}function Dd(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ed(e){this.Ga=0,this.j=[],this.l=new Gb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dd("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dd("baseRetryDelayMs",5e3,e),this.hb=Dd("retryDelaySeedMs",1e4,e),this.eb=Dd("forwardChannelMaxRetries",2,e),this.xa=Dd("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new cd(e&&e.concurrentRequestLimit),this.Ja=new hd,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Hc(e){if(Fd(e),3==e.H){var t=e.W++,n=G(e.I);if(K(n,"SID",e.K),K(n,"RID",t),K(n,"TYPE","terminate"),Gd(e,n),(t=new bc(e,e.l,t)).L=2,t.A=hc(G(n)),n=!1,zi.navigator&&zi.navigator.sendBeacon)try{n=zi.navigator.sendBeacon(t.A.toString(),"")}catch(e){}!n&&zi.Image&&((new Image).src=t.A,n=!0),n||(t.g=lc(t.l,null),t.g.ha(t.A)),t.G=Date.now(),jc(t)}Hd(e)}function zc(e){e.g&&(vc(e),e.g.cancel(),e.g=null)}function Fd(e){zc(e),e.u&&(zi.clearTimeout(e.u),e.u=null),yc(e),e.i.cancel(),e.m&&("number"==typeof e.m&&zi.clearTimeout(e.m),e.m=null)}function Gc(e){if(!ed(e.i)&&!e.m){e.m=!0;var t=e.Na;ms||vb(),bs||(ms(),bs=!0),ps.add(t,e),e.C=0}}function Ld(e,t){var n;n=t?t.m:e.W++;const l=G(e.I);K(l,"SID",e.K),K(l,"RID",n),K(l,"AID",e.V),Gd(e,l),e.o&&e.s&&Cd(l,e.o,e.s),n=new bc(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Kd(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Cc(e.i,n),gc(n,l,t)}function Gd(e,t){e.na&&Na(e.na,(function(e,n){K(t,n,e)})),e.h&&Kc({},(function(e,n){K(t,n,e)}))}function Kd(e,t,n){n=Math.min(e.j.length,n);var l=e.h?q(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const u=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{id(u,e,"req"+n+"_")}catch(e){l&&l(u)}}if(s){l=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,l}function Fc(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ms||vb(),bs||(ms(),bs=!0),ps.add(t,e),e.A=0}}function Ac(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Rb(q(e.Ma,e),Jd(e,e.A)),e.A++,!0)}function vc(e){null!=e.B&&(zi.clearTimeout(e.B),e.B=null)}function Md(e){e.g=new bc(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=G(e.wa);K(t,"RID","rpc"),K(t,"SID",e.K),K(t,"AID",e.V),K(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&K(t,"TO",e.qa),K(t,"TYPE","xmlhttp"),Gd(e,t),e.o&&e.s&&Cd(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=hc(G(t)),n.u=null,n.S=!0,ic(n,e)}function yc(e){null!=e.v&&(zi.clearTimeout(e.v),e.v=null)}function sc(e,t){var n=null;if(e.g==t){yc(e),vc(e),e.g=null;var l=2}else{if(!xc(e.i,t))return;n=t.F,Ec(e.i,t),l=1}if(0!=e.H)if(t.i)if(1==l){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;C$1(l=Mb(),new Qb(l,n)),Gc(e)}else Fc(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==l&&function(e,t){return!(Bc(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.j=t.F.concat(e.j),0):1==e.H||2==e.H||e.C>=(e.cb?0:e.eb)||(e.m=Rb(q(e.Na,e,t),Jd(e,e.C)),e.C++,0)))}(e,t)||2==l&&Ac(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:J(e,5);break;case 4:J(e,10);break;case 3:J(e,6);break;default:J(e,2)}}function Jd(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function J(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var l=q(e.pb,e);n||(n=new M("//www.google.com/images/cleardot.gif"),zi.location&&"http"==zi.location.protocol||Nc(n,"https"),hc(n)),function(e,t){const n=new Gb;if(zi.Image){const l=new Image;l.onload=ha(kd,n,l,"TestLoadImage: loaded",!0,t),l.onerror=ha(kd,n,l,"TestLoadImage: error",!1,t),l.onabort=ha(kd,n,l,"TestLoadImage: abort",!1,t),l.ontimeout=ha(kd,n,l,"TestLoadImage: timeout",!1,t),zi.setTimeout((function(){l.ontimeout&&l.ontimeout()}),1e4),l.src=e}else t(!1)}(n.toString(),l)}else F$1(2);e.H=0,e.h&&e.h.za(t),Hd(e),Fd(e)}function Hd(e){if(e.H=0,e.ma=[],e.h){const t=fd(e.i);0==t.length&&0==e.j.length||(na(e.ma,t),na(e.ma,e.j),e.i.i.length=0,ma(e.j),e.j.length=0),e.h.ya()}}function Dc(e,t,n){var l=n instanceof M?G(n):new M(n);if(""!=l.g)t&&(l.g=t+"."+l.g),Oc(l,l.m);else{var i=zi.location;l=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new M(null);l&&Nc(s,l),t&&(s.g=t),i&&Oc(s,i),n&&(s.l=n),l=s}return n=e.F,t=e.Da,n&&t&&K(l,n,t),K(l,"VER",e.ra),Gd(e,l),l}function lc(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new P(new ld({ob:n})):new P(e.va)).Oa(e.J),t}function Nd(){}function Od(){if(_i&&!(10<=Number(ls)))throw Error("Environmental error: no available transport.")}function Q(e,t){B.call(this),this.g=new Ed(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!x(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!x(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new R(this)}function Pd(e){Yb.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Qd(){Zb.call(this),this.status=1}function R(e){this.g=e}function S$1(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Sd(e,t,n){n||(n=0);var l=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)l[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)l[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+l[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+l[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+l[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+l[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+l[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+l[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+l[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+l[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+l[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+l[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+l[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+l[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+l[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+l[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+l[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+l[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+l[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+l[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+l[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+l[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+l[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+l[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+l[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+l[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+l[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+l[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+l[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+l[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+l[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+l[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+l[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+l[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+l[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+l[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+l[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+l[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+l[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+l[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+l[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+l[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+l[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+l[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+l[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+l[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+l[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+l[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+l[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+l[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+l[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+l[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+l[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+l[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+l[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+l[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+l[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+l[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+l[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+l[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+l[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+l[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+l[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+l[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+l[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+l[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function T(e,t){this.h=t;for(var n=[],l=!0,i=e.length-1;0<=i;i--){var s=0|e[i];l&&s==t||(n[i]=s,l=!1)}this.g=n}(Hi=P.prototype).Oa=function(e){this.M=e},Hi.ha=function(e,t,n,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ws.g(),this.C=this.u?Vb(this.u):Vb(Ws),this.g.onreadystatechange=q(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(e){return void vd(this,e)}if(e=n||"",n=new Map(this.headers),l)if(Object.getPrototypeOf(l)===Object.prototype)for(var i in l)n.set(i,l[i]);else{if("function"!=typeof l.keys||"function"!=typeof l.get)throw Error("Unknown input type for opt_headers: "+String(l));for(const e of l.keys())n.set(e,l.get(e))}l=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=zi.FormData&&e instanceof zi.FormData,!(0<=Mi(zs,t))||l||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of n)this.g.setRequestHeader(e,t);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wd(this),0<this.B&&((this.L=function(e){return _i&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=q(this.ua,this)):this.A=yb(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){vd(this,e)}},Hi.ua=function(){void 0!==Fi&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,C$1(this,"timeout"),this.abort(8))},Hi.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,C$1(this,"complete"),C$1(this,"abort"),zd(this))},Hi.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zd(this,!0)),P.$.N.call(this)},Hi.La=function(){this.s||(this.G||this.v||this.l?Ad(this):this.kb())},Hi.kb=function(){Ad(this)},Hi.isActive=function(){return!!this.g},Hi.da=function(){try{return 2<H(this)?this.g.status:-1}catch(e){return-1}},Hi.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},Hi.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Hs(t)}},Hi.Ia=function(){return this.m},Hi.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Hi=Ed.prototype).ra=8,Hi.H=1,Hi.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new bc(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Pa(s),Ra(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var l=this.j[n];if(void 0===(l="__data__"in l.map&&"string"==typeof(l=l.map.__data__)?l.length:void 0))break;if(4096<(t+=l)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Kd(this,i,t),K(n=G(this.I),"RID",e),K(n,"CVER",22),this.F&&K(n,"X-HTTP-Session-Id",this.F),Gd(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Bd(s)))+"&"+t:this.o&&Cd(n,this.o,s)),Cc(this.i,i),this.bb&&K(n,"TYPE","init"),this.P?(K(n,"$req",t),K(n,"SID","null"),i.aa=!0,gc(i,n,null)):gc(i,n,t),this.H=2}}else 3==this.H&&(e?Ld(this,e):0==this.j.length||ed(this.i)||Ld(this))},Hi.Ma=function(){if(this.u=null,Md(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Rb(q(this.jb,this),e)}},Hi.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,F$1(10),zc(this),Md(this))},Hi.ib=function(){null!=this.v&&(this.v=null,zc(this),Ac(this),F$1(19))},Hi.pb=function(e){e?(this.l.info("Successfully pinged google.com"),F$1(2)):(this.l.info("Failed to ping google.com"),F$1(1))},Hi.isActive=function(){return!!this.h&&this.h.isActive(this)},(Hi=Nd.prototype).Ba=function(){},Hi.Aa=function(){},Hi.za=function(){},Hi.ya=function(){},Hi.isActive=function(){return!0},Hi.Va=function(){},Od.prototype.g=function(e,t){return new Q(e,t)},r(Q,B),Q.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;F$1(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Dc(e,null,e.Y),Gc(e)},Q.prototype.close=function(){Hc(this.g)},Q.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ds(e),e=n);t.j.push(new Ts(t.fb++,e)),3==t.H&&Gc(t)},Q.prototype.N=function(){this.g.h=null,delete this.j,Hc(this.g),delete this.g,Q.$.N.call(this)},r(Pd,Yb),r(Qd,Zb),r(R,Nd),R.prototype.Ba=function(){C$1(this.g,"a")},R.prototype.Aa=function(e){C$1(this.g,new Pd(e))},R.prototype.za=function(e){C$1(this.g,new Qd)},R.prototype.ya=function(){C$1(this.g,"b")},r(S$1,(function(){this.blockSize=-1})),S$1.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},S$1.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,l=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Sd(this,e,s),s+=this.blockSize;if("string"==typeof e){for(;s<t;)if(l[i++]=e.charCodeAt(s++),i==this.blockSize){Sd(this,l),i=0;break}}else for(;s<t;)if(l[i++]=e[s++],i==this.blockSize){Sd(this,l),i=0;break}}this.h=i,this.i+=t},S$1.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var l=0;32>l;l+=8)e[n++]=this.g[t]>>>l&255;return e};var Us={};function Td(e){return-128<=e&&128>e?function(e,t){var n=Us;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new T([0|e],0>e?-1:0)})):new T([0|e],0>e?-1:0)}function U(e){if(isNaN(e)||!isFinite(e))return Ms;if(0>e)return W(U(-e));for(var t=[],n=1,l=0;e>=n;l++)t[l]=e/n|0,n*=Es;return new T(t,0)}var Es=4294967296,Ms=Td(0),ws=Td(1),Ps=Td(16777216);function Y(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function X(e){return-1==e.h}function W(e){for(var t=e.g.length,n=[],l=0;l<t;l++)n[l]=~e.g[l];return new T(n,~e.h).add(ws)}function Zd(e,t){return e.add(W(t))}function $d(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ae$1(e,t){this.g=e,this.h=t}function Yd(e,t){if(Y(t))throw Error("division by zero");if(Y(e))return new ae$1(Ms,Ms);if(X(e))return t=Yd(W(e),t),new ae$1(W(t.g),W(t.h));if(X(t))return t=Yd(e,W(t)),new ae$1(W(t.g),t.h);if(30<e.g.length){if(X(e)||X(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ws,l=t;0>=l.X(e);)n=be(n),l=be(l);var i=Z(n,1),s=Z(l,1);for(l=Z(l,2),n=Z(n,2);!Y(l);){var o=s.add(l);0>=o.X(e)&&(i=i.add(n),s=o),l=Z(l,1),n=Z(n,1)}return t=Zd(e,i.R(t)),new ae$1(i,t)}for(i=Ms;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),l=48>=(l=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,l-48),o=(s=U(n)).R(t);X(o)||0<o.X(e);)o=(s=U(n-=l)).R(t);Y(s)&&(s=ws),i=i.add(s),e=Zd(e,o)}return new ae$1(i,e)}function be(e){for(var t=e.g.length+1,n=[],l=0;l<t;l++)n[l]=e.D(l)<<1|e.D(l-1)>>>31;return new T(n,e.h)}function Z(e,t){var n=t>>5;t%=32;for(var l=e.g.length-n,i=[],s=0;s<l;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new T(i,e.h)}(Hi=T.prototype).ea=function(){if(X(this))return-W(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var l=this.D(n);e+=(0<=l?l:Es+l)*t,t*=Es}return e},Hi.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Y(this))return"0";if(X(this))return"-"+W(this).toString(e);for(var t=U(Math.pow(e,6)),n=this,l="";;){var i=Yd(n,t).g,s=((0<(n=Zd(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Y(n=i))return s+l;for(;6>s.length;)s="0"+s;l=s+l}},Hi.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Hi.X=function(e){return X(e=Zd(this,e))?-1:Y(e)?0:1},Hi.abs=function(){return X(this)?W(this):this},Hi.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],l=0,i=0;i<=t;i++){var s=l+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);l=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new T(n,-2147483648&n[n.length-1]?-1:0)},Hi.R=function(e){if(Y(this)||Y(e))return Ms;if(X(this))return X(e)?W(this).R(W(e)):W(W(this).R(e));if(X(e))return W(this.R(W(e)));if(0>this.X(Ps)&&0>e.X(Ps))return U(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],l=0;l<2*t;l++)n[l]=0;for(l=0;l<this.g.length;l++)for(var i=0;i<e.g.length;i++){var s=this.D(l)>>>16,o=65535&this.D(l),u=e.D(i)>>>16,d=65535&e.D(i);n[2*l+2*i]+=o*d,$d(n,2*l+2*i),n[2*l+2*i+1]+=s*d,$d(n,2*l+2*i+1),n[2*l+2*i+1]+=o*u,$d(n,2*l+2*i+1),n[2*l+2*i+2]+=s*u,$d(n,2*l+2*i+2)}for(l=0;l<t;l++)n[l]=n[2*l+1]<<16|n[2*l];for(l=t;l<2*t;l++)n[l]=0;return new T(n,0)},Hi.gb=function(e){return Yd(this,e).h},Hi.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],l=0;l<t;l++)n[l]=this.D(l)&e.D(l);return new T(n,this.h&e.h)},Hi.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],l=0;l<t;l++)n[l]=this.D(l)|e.D(l);return new T(n,this.h|e.h)},Hi.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],l=0;l<t;l++)n[l]=this.D(l)^e.D(l);return new T(n,this.h^e.h)},Od.prototype.createWebChannel=Od.prototype.g,Q.prototype.send=Q.prototype.u,Q.prototype.open=Q.prototype.m,Q.prototype.close=Q.prototype.close,Xs.NO_ERROR=0,Xs.TIMEOUT=8,Xs.HTTP_ERROR=6,Vs.COMPLETE="complete",Wb.EventType=Rs,Rs.OPEN="a",Rs.CLOSE="b",Rs.ERROR="c",Rs.MESSAGE="d",B.prototype.listen=B.prototype.O,P.prototype.listenOnce=P.prototype.P,P.prototype.getLastError=P.prototype.Sa,P.prototype.getLastErrorCode=P.prototype.Ia,P.prototype.getStatus=P.prototype.da,P.prototype.getResponseJson=P.prototype.Wa,P.prototype.getResponseText=P.prototype.ja,P.prototype.send=P.prototype.ha,P.prototype.setWithCredentials=P.prototype.Oa,S$1.prototype.digest=S$1.prototype.l,S$1.prototype.reset=S$1.prototype.reset,S$1.prototype.update=S$1.prototype.j,T.prototype.add=T.prototype.add,T.prototype.multiply=T.prototype.R,T.prototype.modulo=T.prototype.gb,T.prototype.compare=T.prototype.X,T.prototype.toNumber=T.prototype.ea,T.prototype.toString=T.prototype.toString,T.prototype.getBits=T.prototype.D,T.fromNumber=U,T.fromString=function Vd(e,t){if(0==e.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==e.charAt(0))return W(Vd(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=U(Math.pow(t,8)),l=Ms,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=U(Math.pow(t,s)),l=l.R(s).add(U(o))):l=(l=l.R(n)).add(U(o))}return l};var js=Xs,Bs=Vs,Qs=ys,_s=10,Ds=11,Os=Wb,As=P,qs=S$1,$s=T;const eo="@firebase/firestore";class User{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");let to="10.8.1";const no=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return no.logLevel}function __PRIVATE_logDebug(e,...t){if(no.logLevel<=gl.DEBUG){const n=t.map(__PRIVATE_argToString);no.debug(`Firestore (${to}): ${e}`,...n)}}function __PRIVATE_logError(e,...t){if(no.logLevel<=gl.ERROR){const n=t.map(__PRIVATE_argToString);no.error(`Firestore (${to}): ${e}`,...n)}}function __PRIVATE_logWarn(e,...t){if(no.logLevel<=gl.WARN){const n=t.map(__PRIVATE_argToString);no.warn(`Firestore (${to}): ${e}`,...n)}}function __PRIVATE_argToString(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function fail(e="Unexpected state"){const t=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: `+e;throw __PRIVATE_logError(t),new Error(t)}function __PRIVATE_hardAssert(e,t){e||fail()}function __PRIVATE_debugCast(e,t){return e}const lo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class __PRIVATE_Deferred{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class __PRIVATE_OAuthToken{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(User.UNAUTHENTICATED)))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(e){this.t=e,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const __PRIVATE_guardedChangeListener=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let l=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new __PRIVATE_Deferred,e.enqueueRetryable((()=>__PRIVATE_guardedChangeListener(this.currentUser)))};const __PRIVATE_awaitNextToken=()=>{const t=l;e.enqueueRetryable((async()=>{await t.promise,await __PRIVATE_guardedChangeListener(this.currentUser)}))},__PRIVATE_registerAuth=e=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),__PRIVATE_awaitNextToken()};this.t.onInit((e=>__PRIVATE_registerAuth(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?__PRIVATE_registerAuth(e):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new __PRIVATE_Deferred)}}),0),__PRIVATE_awaitNextToken()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(__PRIVATE_hardAssert("string"==typeof t.accessToken),new __PRIVATE_OAuthToken(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(null===e||"string"==typeof e),new User(e)}}class __PRIVATE_FirstPartyToken{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=User.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(User.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const onTokenChanged=e=>{null!=e.error&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>onTokenChanged(t)))};const __PRIVATE_registerAppCheck=e=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>__PRIVATE_registerAppCheck(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?__PRIVATE_registerAppCheck(e):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(__PRIVATE_hardAssert("string"==typeof e.token),this.R=e.token,new AppCheckToken(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function __PRIVATE_randomBytes(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class __PRIVATE_AutoId{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const l=__PRIVATE_randomBytes(40);for(let i=0;i<l.length;++i)n.length<20&&l[i]<t&&(n+=e.charAt(l[i]%62))}return n}}function __PRIVATE_primitiveComparator(e,t){return e<t?-1:e>t?1:0}function __PRIVATE_arrayEquals(e,t,n){return e.length===t.length&&e.every(((e,l)=>n(e,t[l])))}class Timestamp{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new FirestoreError(lo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new FirestoreError(lo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new FirestoreError(lo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new FirestoreError(lo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Timestamp.fromMillis(Date.now())}static fromDate(e){return Timestamp.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Timestamp(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,e.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class SnapshotVersion{constructor(e){this.timestamp=e}static fromTimestamp(e){return new SnapshotVersion(e)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class BasePath{constructor(e,t,n){void 0===t?t=0:t>e.length&&fail(),void 0===n?n=e.length-t:n>e.length-t&&fail(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===BasePath.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof BasePath?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let l=0;l<n;l++){const n=e.get(l),i=t.get(l);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ResourcePath extends BasePath{construct(e,t,n){return new ResourcePath(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new FirestoreError(lo.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new ResourcePath(t)}static emptyPath(){return new ResourcePath([])}}const io=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(e,t,n){return new FieldPath$1(e,t,n)}static isValidIdentifier(e){return io.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat(e){const t=[];let n="",l=0;const __PRIVATE_addCurrentSegment=()=>{if(0===n.length)throw new FirestoreError(lo.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;l<e.length;){const t=e[l];if("\\"===t){if(l+1===e.length)throw new FirestoreError(lo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[l+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new FirestoreError(lo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,l+=2}else"`"===t?(i=!i,l++):"."!==t||i?(n+=t,l++):(__PRIVATE_addCurrentSegment(),l++)}if(__PRIVATE_addCurrentSegment(),i)throw new FirestoreError(lo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new FieldPath$1(t)}static emptyPath(){return new FieldPath$1([])}}class DocumentKey{constructor(e){this.path=e}static fromPath(e){return new DocumentKey(ResourcePath.fromString(e))}static fromName(e){return new DocumentKey(ResourcePath.fromString(e).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ResourcePath.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ResourcePath.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new DocumentKey(new ResourcePath(e.slice()))}}function __PRIVATE_newIndexOffsetFromDocument(e){return new IndexOffset(e.readTime,e.key,-1)}class IndexOffset{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function __PRIVATE_indexOffsetComparator(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=DocumentKey.comparator(e.documentKey,t.documentKey),0!==n?n:__PRIVATE_primitiveComparator(e.largestBatchId,t.largestBatchId))}const so="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function __PRIVATE_ignoreIfPrimaryLeaseLoss(e){if(e.code!==lo.FAILED_PRECONDITION||e.message!==so)throw e;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}class PersistencePromise{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new PersistencePromise(((n,l)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,l)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,l)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof PersistencePromise?t:PersistencePromise.resolve(t)}catch(e){return PersistencePromise.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):PersistencePromise.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):PersistencePromise.reject(t)}static resolve(e){return new PersistencePromise(((t,n)=>{t(e)}))}static reject(e){return new PersistencePromise(((t,n)=>{n(e)}))}static waitFor(e){return new PersistencePromise(((t,n)=>{let l=0,i=0,s=!1;e.forEach((e=>{++l,e.next((()=>{++i,s&&i===l&&t()}),(e=>n(e)))})),s=!0,i===l&&t()}))}static or(e){let t=PersistencePromise.resolve(!1);for(const n of e)t=t.next((e=>e?PersistencePromise.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,l)=>{n.push(t.call(this,e,l))})),this.waitFor(n)}static mapArray(e,t){return new PersistencePromise(((n,l)=>{const i=e.length,s=new Array(i);let o=0;for(let u=0;u<i;u++){const d=u;t(e[d]).next((e=>{s[d]=e,++o,o===i&&n(s)}),(e=>l(e)))}}))}static doWhile(e,t){return new PersistencePromise(((n,l)=>{const process=()=>{!0===e()?t().next((()=>{process()}),l):n()};process()}))}}class __PRIVATE_SimpleDbTransaction{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new __PRIVATE_Deferred,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new __PRIVATE_IndexedDbTransactionError(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=__PRIVATE_checkForAndReportiOSError(t.target.error);this.V.reject(new __PRIVATE_IndexedDbTransactionError(e,n))}}static open(e,t,n,l){try{return new __PRIVATE_SimpleDbTransaction(t,e.transaction(l,n))}catch(e){throw new __PRIVATE_IndexedDbTransactionError(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(__PRIVATE_logDebug("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new __PRIVATE_SimpleDbStore(t)}}class __PRIVATE_SimpleDb{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===__PRIVATE_SimpleDb.S(getUA())&&__PRIVATE_logError("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return __PRIVATE_logDebug("SimpleDb","Removing database:",e),__PRIVATE_wrapRequest(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!isIndexedDBAvailable())return!1;if(__PRIVATE_SimpleDb.C())return!0;const e=getUA(),t=__PRIVATE_SimpleDb.S(e),n=0<t&&t<10,l=__PRIVATE_SimpleDb.v(e),i=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return void 0!==b&&"YES"===(null===(e=b.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(__PRIVATE_logDebug("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const l=indexedDB.open(this.name,this.version);l.onsuccess=e=>{const n=e.target.result;t(n)},l.onblocked=()=>{n(new __PRIVATE_IndexedDbTransactionError(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=t=>{const l=t.target.error;"VersionError"===l.name?n(new FirestoreError(lo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===l.name?n(new FirestoreError(lo.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):n(new __PRIVATE_IndexedDbTransactionError(e,l))},l.onupgradeneeded=e=>{__PRIVATE_logDebug("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,l.transaction,e.oldVersion,this.version).next((()=>{__PRIVATE_logDebug("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,l){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=__PRIVATE_SimpleDbTransaction.open(this.db,e,i?"readonly":"readwrite",n),s=l(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),PersistencePromise.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(__PRIVATE_logDebug("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class __PRIVATE_IterationController{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return __PRIVATE_wrapRequest(this.k.delete())}}class __PRIVATE_IndexedDbTransactionError extends FirestoreError{constructor(e,t){super(lo.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function __PRIVATE_isIndexedDbTransactionError(e){return"IndexedDbTransactionError"===e.name}class __PRIVATE_SimpleDbStore{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(__PRIVATE_logDebug("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(__PRIVATE_logDebug("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),__PRIVATE_wrapRequest(n)}add(e){return __PRIVATE_logDebug("SimpleDb","ADD",this.store.name,e,e),__PRIVATE_wrapRequest(this.store.add(e))}get(e){return __PRIVATE_wrapRequest(this.store.get(e)).next((t=>(void 0===t&&(t=null),__PRIVATE_logDebug("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return __PRIVATE_logDebug("SimpleDb","DELETE",this.store.name,e),__PRIVATE_wrapRequest(this.store.delete(e))}count(){return __PRIVATE_logDebug("SimpleDb","COUNT",this.store.name),__PRIVATE_wrapRequest(this.store.count())}W(e,t){const n=this.options(e,t),l=n.index?this.store.index(n.index):this.store;if("function"==typeof l.getAll){const e=l.getAll(n.range);return new PersistencePromise(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new PersistencePromise(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){__PRIVATE_logDebug("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const l=this.cursor(n);return this.G(l,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const l=this.cursor(n);return this.G(l,t)}Z(e){const t=this.cursor({});return new PersistencePromise(((n,l)=>{t.onerror=e=>{const t=__PRIVATE_checkForAndReportiOSError(e.target.error);l(t)},t.onsuccess=t=>{const l=t.target.result;l?e(l.primaryKey,l.value).next((e=>{e?l.continue():n()})):n()}}))}G(e,t){const n=[];return new PersistencePromise(((l,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void l();const s=new __PRIVATE_IterationController(i),o=t(i.primaryKey,i.value,s);if(o instanceof PersistencePromise){const e=o.catch((e=>(s.done(),PersistencePromise.reject(e))));n.push(e)}s.isDone?l():null===s.$?i.continue():i.continue(s.$)}})).next((()=>PersistencePromise.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function __PRIVATE_wrapRequest(e){return new PersistencePromise(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=__PRIVATE_checkForAndReportiOSError(e.target.error);n(t)}}))}let oo=!1;function __PRIVATE_checkForAndReportiOSError(e){const t=__PRIVATE_SimpleDb.S(getUA());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new FirestoreError("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return oo||(oo=!0,setTimeout((()=>{throw e}),0)),e}}return e}class __PRIVATE_ListenSequence{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function __PRIVATE_isNullOrUndefined(e){return null==e}function __PRIVATE_isNegativeZero(e){return 0===e&&1/e==-1/0}function __PRIVATE_objectSize(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function forEach(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function isEmpty(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}__PRIVATE_ListenSequence._e=-1;class SortedMap{constructor(e,t){this.comparator=e,this.root=t||LLRBNode.EMPTY}insert(e,t){return new SortedMap(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(e){return new SortedMap(this.comparator,this.root.remove(e,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const l=this.comparator(e,n.key);if(0===l)return t+n.left.size;l<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!0)}}class SortedMapIterator{constructor(e,t,n,l){this.isReverse=l,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&l&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class LLRBNode{constructor(e,t,n,l,i){this.key=e,this.value=t,this.color=null!=n?n:LLRBNode.RED,this.left=null!=l?l:LLRBNode.EMPTY,this.right=null!=i?i:LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,l,i){return new LLRBNode(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=l?l:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let l=this;const i=n(e,l.key);return l=i<0?l.copy(null,null,null,l.left.insert(e,t,n),null):0===i?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,n)),l.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return LLRBNode.EMPTY;n=l.right.min(),l=l.copy(n.key,n.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fail();if(this.right.isRed())throw fail();const e=this.left.check();if(e!==this.right.check())throw fail();return e+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1,LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(e,t,n,l,i){return this}insert(e,t,n){return new LLRBNode(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class SortedSet{constructor(e){this.comparator=e,this.data=new SortedMap(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const l=n.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(e){return new SortedSetIterator(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof SortedSet))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,l=n.getNext().key;if(0!==this.comparator(e,l))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new SortedSet(this.comparator);return t.data=e,t}}class SortedSetIterator{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class FieldMask{constructor(e){this.fields=e,e.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(e){let t=new SortedSet(FieldPath$1.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new FieldMask(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return __PRIVATE_arrayEquals(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ByteString{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+e):e}}(e);return new ByteString(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ByteString(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return __PRIVATE_primitiveComparator(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const co=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(e){if(__PRIVATE_hardAssert(!!e),"string"==typeof e){let t=0;const n=co.exec(e);if(__PRIVATE_hardAssert(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const l=new Date(e);return{seconds:Math.floor(l.getTime()/1e3),nanos:t}}return{seconds:__PRIVATE_normalizeNumber(e.seconds),nanos:__PRIVATE_normalizeNumber(e.nanos)}}function __PRIVATE_normalizeNumber(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function __PRIVATE_normalizeByteString(e){return"string"==typeof e?ByteString.fromBase64String(e):ByteString.fromUint8Array(e)}function __PRIVATE_isServerTimestamp(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function __PRIVATE_getPreviousValue(e){const t=e.mapValue.fields.__previous_value__;return __PRIVATE_isServerTimestamp(t)?__PRIVATE_getPreviousValue(t):t}function __PRIVATE_getLocalWriteTime(e){const t=__PRIVATE_normalizeTimestamp(e.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp(t.seconds,t.nanos)}class DatabaseInfo{constructor(e,t,n,l,i,s,o,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=l,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=d}}class DatabaseId{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof DatabaseId&&e.projectId===this.projectId&&e.database===this.database}}const ao={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function __PRIVATE_typeOrder(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?__PRIVATE_isServerTimestamp(e)?4:function(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?9007199254740991:10:fail()}function __PRIVATE_valueEquals(e,t){if(e===t)return!0;const n=__PRIVATE_typeOrder(e);if(n!==__PRIVATE_typeOrder(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(e).isEqual(__PRIVATE_getLocalWriteTime(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=__PRIVATE_normalizeTimestamp(e.timestampValue),l=__PRIVATE_normalizeTimestamp(t.timestampValue);return n.seconds===l.seconds&&n.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return __PRIVATE_normalizeByteString(e.bytesValue).isEqual(__PRIVATE_normalizeByteString(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return __PRIVATE_normalizeNumber(e.geoPointValue.latitude)===__PRIVATE_normalizeNumber(t.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(e.geoPointValue.longitude)===__PRIVATE_normalizeNumber(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return __PRIVATE_normalizeNumber(e.integerValue)===__PRIVATE_normalizeNumber(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=__PRIVATE_normalizeNumber(e.doubleValue),l=__PRIVATE_normalizeNumber(t.doubleValue);return n===l?__PRIVATE_isNegativeZero(n)===__PRIVATE_isNegativeZero(l):isNaN(n)&&isNaN(l)}return!1}(e,t);case 9:return __PRIVATE_arrayEquals(e.arrayValue.values||[],t.arrayValue.values||[],__PRIVATE_valueEquals);case 10:return function(e,t){const n=e.mapValue.fields||{},l=t.mapValue.fields||{};if(__PRIVATE_objectSize(n)!==__PRIVATE_objectSize(l))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===l[e]||!__PRIVATE_valueEquals(n[e],l[e])))return!1;return!0}(e,t);default:return fail()}}function __PRIVATE_arrayValueContains(e,t){return void 0!==(e.values||[]).find((e=>__PRIVATE_valueEquals(e,t)))}function __PRIVATE_valueCompare(e,t){if(e===t)return 0;const n=__PRIVATE_typeOrder(e),l=__PRIVATE_typeOrder(t);if(n!==l)return __PRIVATE_primitiveComparator(n,l);switch(n){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=__PRIVATE_normalizeNumber(e.integerValue||e.doubleValue),l=__PRIVATE_normalizeNumber(t.integerValue||t.doubleValue);return n<l?-1:n>l?1:n===l?0:isNaN(n)?isNaN(l)?0:-1:1}(e,t);case 3:return __PRIVATE_compareTimestamps(e.timestampValue,t.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(e),__PRIVATE_getLocalWriteTime(t));case 5:return __PRIVATE_primitiveComparator(e.stringValue,t.stringValue);case 6:return function(e,t){const n=__PRIVATE_normalizeByteString(e),l=__PRIVATE_normalizeByteString(t);return n.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),l=t.split("/");for(let e=0;e<n.length&&e<l.length;e++){const t=__PRIVATE_primitiveComparator(n[e],l[e]);if(0!==t)return t}return __PRIVATE_primitiveComparator(n.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(e.latitude),__PRIVATE_normalizeNumber(t.latitude));return 0!==n?n:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(e.longitude),__PRIVATE_normalizeNumber(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],l=t.values||[];for(let e=0;e<n.length&&e<l.length;++e){const t=__PRIVATE_valueCompare(n[e],l[e]);if(t)return t}return __PRIVATE_primitiveComparator(n.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ao.mapValue&&t===ao.mapValue)return 0;if(e===ao.mapValue)return 1;if(t===ao.mapValue)return-1;const n=e.fields||{},l=Object.keys(n),i=t.fields||{},s=Object.keys(i);l.sort(),s.sort();for(let e=0;e<l.length&&e<s.length;++e){const t=__PRIVATE_primitiveComparator(l[e],s[e]);if(0!==t)return t;const o=__PRIVATE_valueCompare(n[l[e]],i[s[e]]);if(0!==o)return o}return __PRIVATE_primitiveComparator(l.length,s.length)}(e.mapValue,t.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return __PRIVATE_primitiveComparator(e,t);const n=__PRIVATE_normalizeTimestamp(e),l=__PRIVATE_normalizeTimestamp(t),i=__PRIVATE_primitiveComparator(n.seconds,l.seconds);return 0!==i?i:__PRIVATE_primitiveComparator(n.nanos,l.nanos)}function canonicalId(e){return __PRIVATE_canonifyValue(e)}function __PRIVATE_canonifyValue(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=__PRIVATE_normalizeTimestamp(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return __PRIVATE_normalizeByteString(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return DocumentKey.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const l of e.values||[])n?n=!1:t+=",",t+=__PRIVATE_canonifyValue(l);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",l=!0;for(const i of t)l?l=!1:n+=",",n+=`${i}:${__PRIVATE_canonifyValue(e.fields[i])}`;return n+"}"}(e.mapValue):fail()}function __PRIVATE_refValue(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function isInteger$1(e){return!!e&&"integerValue"in e}function isArray(e){return!!e&&"arrayValue"in e}function __PRIVATE_isNullValue(e){return!!e&&"nullValue"in e}function __PRIVATE_isNanValue(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function __PRIVATE_isMapValue(e){return!!e&&"mapValue"in e}function __PRIVATE_deepClone(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return forEach(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=__PRIVATE_deepClone(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=__PRIVATE_deepClone(e.arrayValue.values[n]);return t}return Object.assign({},e)}class ObjectValue{constructor(e){this.value=e}static empty(){return new ObjectValue({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!__PRIVATE_isMapValue(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=__PRIVATE_deepClone(t)}setAll(e){let t=FieldPath$1.emptyPath(),n={},l=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,l),n={},l=[],t=i.popLast()}e?n[i.lastSegment()]=__PRIVATE_deepClone(e):l.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,l)}delete(e){const t=this.field(e.popLast());__PRIVATE_isMapValue(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return __PRIVATE_valueEquals(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let l=t.mapValue.fields[e.get(n)];__PRIVATE_isMapValue(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,n){forEach(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(e){const t=[];return forEach(e.fields,((e,n)=>{const l=new FieldPath$1([e]);if(__PRIVATE_isMapValue(n)){const e=__PRIVATE_extractFieldMask(n.mapValue).fields;if(0===e.length)t.push(l);else for(const n of e)t.push(l.child(n))}else t.push(l)})),new FieldMask(t)}class MutableDocument{constructor(e,t,n,l,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=l,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new MutableDocument(e,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(e,t,n,l){return new MutableDocument(e,1,t,SnapshotVersion.min(),n,l,0)}static newNoDocument(e,t){return new MutableDocument(e,2,t,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(e,t){return new MutableDocument(e,3,t,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(SnapshotVersion.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof MutableDocument&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bound{constructor(e,t){this.position=e,this.inclusive=t}}function __PRIVATE_boundCompareToDocument(e,t,n){let l=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(l=s.field.isKeyField()?DocumentKey.comparator(DocumentKey.fromName(o.referenceValue),n.key):__PRIVATE_valueCompare(o,n.data.field(s.field)),"desc"===s.dir&&(l*=-1),0!==l)break}return l}function __PRIVATE_boundEquals(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!__PRIVATE_valueEquals(e.position[n],t.position[n]))return!1;return!0}class OrderBy{constructor(e,t="asc"){this.field=e,this.dir=t}}function __PRIVATE_orderByEquals(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Filter{}class FieldFilter extends Filter{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new __PRIVATE_KeyFieldFilter(e,t,n):"array-contains"===t?new __PRIVATE_ArrayContainsFilter(e,n):"in"===t?new __PRIVATE_InFilter(e,n):"not-in"===t?new __PRIVATE_NotInFilter(e,n):"array-contains-any"===t?new __PRIVATE_ArrayContainsAnyFilter(e,n):new FieldFilter(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new __PRIVATE_KeyFieldInFilter(e,n):new __PRIVATE_KeyFieldNotInFilter(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(__PRIVATE_valueCompare(t,this.value)):null!==t&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(t)&&this.matchesComparison(__PRIVATE_valueCompare(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new CompositeFilter(e,t)}matches(e){return __PRIVATE_compositeFilterIsConjunction(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(e){return"and"===e.op}function __PRIVATE_compositeFilterIsFlatConjunction(e){return function(e){for(const t of e.filters)if(t instanceof CompositeFilter)return!1;return!0}(e)&&__PRIVATE_compositeFilterIsConjunction(e)}function __PRIVATE_canonifyFilter(e){if(e instanceof FieldFilter)return e.field.canonicalString()+e.op.toString()+canonicalId(e.value);if(__PRIVATE_compositeFilterIsFlatConjunction(e))return e.filters.map((e=>__PRIVATE_canonifyFilter(e))).join(",");{const t=e.filters.map((e=>__PRIVATE_canonifyFilter(e))).join(",");return`${e.op}(${t})`}}function __PRIVATE_filterEquals(e,t){return e instanceof FieldFilter?function(e,t){return t instanceof FieldFilter&&e.op===t.op&&e.field.isEqual(t.field)&&__PRIVATE_valueEquals(e.value,t.value)}(e,t):e instanceof CompositeFilter?function(e,t){return t instanceof CompositeFilter&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,l)=>e&&__PRIVATE_filterEquals(n,t.filters[l])),!0)}(e,t):void fail()}function __PRIVATE_stringifyFilter(e){return e instanceof FieldFilter?function(e){return`${e.field.canonicalString()} ${e.op} ${canonicalId(e.value)}`}(e):e instanceof CompositeFilter?function(e){return e.op.toString()+" {"+e.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(e):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(e,t,n){super(e,t,n),this.key=DocumentKey.fromName(n.referenceValue)}matches(e){const t=DocumentKey.comparator(e.key,this.key);return this.matchesComparison(t)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(e,t){super(e,"in",t),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(e,t){super(e,"not-in",t),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function __PRIVATE_extractDocumentKeysFromArrayValue(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>DocumentKey.fromName(e.referenceValue)))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return isArray(t)&&__PRIVATE_arrayValueContains(t.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&__PRIVATE_arrayValueContains(this.value.arrayValue,t)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(e,t){super(e,"not-in",t)}matches(e){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!__PRIVATE_arrayValueContains(this.value.arrayValue,t)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!isArray(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>__PRIVATE_arrayValueContains(this.value.arrayValue,e)))}}class __PRIVATE_TargetImpl{constructor(e,t=null,n=[],l=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=l,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function __PRIVATE_newTarget(e,t=null,n=[],l=[],i=null,s=null,o=null){return new __PRIVATE_TargetImpl(e,t,n,l,i,s,o)}function __PRIVATE_canonifyTarget(e){const t=__PRIVATE_debugCast(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>__PRIVATE_canonifyFilter(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),__PRIVATE_isNullOrUndefined(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>canonicalId(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>canonicalId(e))).join(",")),t.ce=e}return t.ce}function __PRIVATE_targetEquals(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!__PRIVATE_orderByEquals(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!__PRIVATE_filterEquals(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!__PRIVATE_boundEquals(e.startAt,t.startAt)&&__PRIVATE_boundEquals(e.endAt,t.endAt)}function __PRIVATE_targetIsDocumentTarget(e){return DocumentKey.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class __PRIVATE_QueryImpl{constructor(e,t=null,n=[],l=[],i=null,s="F",o=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=l,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function __PRIVATE_newQueryForPath(e){return new __PRIVATE_QueryImpl(e)}function __PRIVATE_queryMatchesAllDocuments(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(e){return null!==e.collectionGroup}function __PRIVATE_queryNormalizedOrderBy(e){const t=__PRIVATE_debugCast(e);if(null===t.le){t.le=[];const e=new Set;for(const n of t.explicitOrderBy)t.le.push(n),e.add(n.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",l=function(e){let t=new SortedSet(FieldPath$1.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);l.forEach((l=>{e.has(l.canonicalString())||l.isKeyField()||t.le.push(new OrderBy(l,n))})),e.has(FieldPath$1.keyField().canonicalString())||t.le.push(new OrderBy(FieldPath$1.keyField(),n))}return t.le}function __PRIVATE_queryToTarget(e){const t=__PRIVATE_debugCast(e);return t.he||(t.he=function(e,t){if("F"===e.limitType)return __PRIVATE_newTarget(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new OrderBy(e.field,t)}));const n=e.endAt?new Bound(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Bound(e.startAt.position,e.startAt.inclusive):null;return __PRIVATE_newTarget(e.path,e.collectionGroup,t,e.filters,e.limit,n,l)}}(t,__PRIVATE_queryNormalizedOrderBy(e))),t.he}function __PRIVATE_queryWithAddedFilter(e,t){const n=e.filters.concat([t]);return new __PRIVATE_QueryImpl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function __PRIVATE_queryWithLimit(e,t,n){return new __PRIVATE_QueryImpl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function __PRIVATE_queryEquals(e,t){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(e),__PRIVATE_queryToTarget(t))&&e.limitType===t.limitType}function __PRIVATE_canonifyQuery(e){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(e))}|lt:${e.limitType}`}function __PRIVATE_stringifyQuery(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>__PRIVATE_stringifyFilter(e))).join(", ")}]`),__PRIVATE_isNullOrUndefined(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>canonicalId(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>canonicalId(e))).join(",")),`Target(${t})`}(__PRIVATE_queryToTarget(e))}; limitType=${e.limitType})`}function __PRIVATE_queryMatches(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):DocumentKey.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of __PRIVATE_queryNormalizedOrderBy(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const l=__PRIVATE_boundCompareToDocument(e,t,n);return e.inclusive?l<=0:l<0}(e.startAt,__PRIVATE_queryNormalizedOrderBy(e),t))&&!(e.endAt&&!function(e,t,n){const l=__PRIVATE_boundCompareToDocument(e,t,n);return e.inclusive?l>=0:l>0}(e.endAt,__PRIVATE_queryNormalizedOrderBy(e),t))}(e,t)}function __PRIVATE_newQueryComparator(e){return(t,n)=>{let l=!1;for(const i of __PRIVATE_queryNormalizedOrderBy(e)){const e=__PRIVATE_compareDocs(i,t,n);if(0!==e)return e;l=l||i.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(e,t,n){const l=e.field.isKeyField()?DocumentKey.comparator(t.key,n.key):function(e,t,n){const l=t.data.field(e),i=n.data.field(e);return null!==l&&null!==i?__PRIVATE_valueCompare(l,i):fail()}(e.field,t,n);switch(e.dir){case"asc":return l;case"desc":return-1*l;default:return fail()}}class ObjectMap{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,l]of n)if(this.equalsFn(t,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),l=this.inner[n];if(void 0===l)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<l.length;n++)if(this.equalsFn(l[n][0],e))return void(l[n]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let l=0;l<n.length;l++)if(this.equalsFn(n[l][0],e))return 1===n.length?delete this.inner[t]:n.splice(l,1),this.innerSize--,!0;return!1}forEach(e){forEach(this.inner,((t,n)=>{for(const[t,l]of n)e(t,l)}))}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}const ro=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return ro}const uo=new SortedMap(DocumentKey.comparator);function documentMap(...e){let t=uo;for(const n of e)t=t.insert(n.key,n);return t}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(e){let t=uo;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ho=new SortedMap(DocumentKey.comparator),mo=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...e){let t=mo;for(const n of e)t=t.add(n);return t}const bo=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_toDouble(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(t)?"-0":t}}function __PRIVATE_toInteger(e){return{integerValue:""+e}}function toNumber(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!__PRIVATE_isNegativeZero(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?__PRIVATE_toInteger(t):__PRIVATE_toDouble(e,t)}class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(e,t,n){return e instanceof __PRIVATE_ServerTimestampTransform?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&__PRIVATE_isServerTimestamp(t)&&(t=__PRIVATE_getPreviousValue(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(e,t):e instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(e,t):function(e,t){const n=__PRIVATE_computeTransformOperationBaseValue(e,t),l=asNumber(n)+asNumber(e.Ie);return isInteger$1(n)&&isInteger$1(e.Ie)?__PRIVATE_toInteger(l):__PRIVATE_toDouble(e.serializer,l)}(e,t)}function __PRIVATE_applyTransformOperationToRemoteDocument(e,t,n){return e instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(e,t):e instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(e,t):n}function __PRIVATE_computeTransformOperationBaseValue(e,t){return e instanceof __PRIVATE_NumericIncrementTransformOperation?function(e){return isInteger$1(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayUnionTransformOperation(e,t){const n=__PRIVATE_coercedFieldValuesArray(t);for(const t of e.elements)n.some((e=>__PRIVATE_valueEquals(e,t)))||n.push(t);return{arrayValue:{values:n}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayRemoveTransformOperation(e,t){let n=__PRIVATE_coercedFieldValuesArray(t);for(const t of e.elements)n=n.filter((e=>!__PRIVATE_valueEquals(e,t)));return{arrayValue:{values:n}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function asNumber(e){return __PRIVATE_normalizeNumber(e.integerValue||e.doubleValue)}function __PRIVATE_coercedFieldValuesArray(e){return isArray(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class FieldTransform{constructor(e,t){this.field=e,this.transform=t}}class MutationResult{constructor(e,t){this.version=e,this.transformResults=t}}class Precondition{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Precondition}static exists(e){return new Precondition(void 0,e)}static updateTime(e){return new Precondition(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new __PRIVATE_DeleteMutation(e.key,Precondition.none()):new __PRIVATE_SetMutation(e.key,e.data,Precondition.none());{const n=e.data,l=ObjectValue.empty();let i=new SortedSet(FieldPath$1.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?l.delete(e):l.set(e,t),i=i.add(e)}return new __PRIVATE_PatchMutation(e.key,l,new FieldMask(i.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(e,t,n){e instanceof __PRIVATE_SetMutation?function(e,t,n){const l=e.value.clone(),i=__PRIVATE_serverTransformResults(e.fieldTransforms,t,n.transformResults);l.setAll(i),t.convertToFoundDocument(n.version,l).setHasCommittedMutations()}(e,t,n):e instanceof __PRIVATE_PatchMutation?function(e,t,n){if(!__PRIVATE_preconditionIsValidForDocument(e.precondition,t))return void t.convertToUnknownDocument(n.version);const l=__PRIVATE_serverTransformResults(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(__PRIVATE_getPatch(e)),i.setAll(l),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function __PRIVATE_mutationApplyToLocalView(e,t,n,l){return e instanceof __PRIVATE_SetMutation?function(e,t,n,l){if(!__PRIVATE_preconditionIsValidForDocument(e.precondition,t))return n;const i=e.value.clone(),s=__PRIVATE_localTransformResults(e.fieldTransforms,l,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,l):e instanceof __PRIVATE_PatchMutation?function(e,t,n,l){if(!__PRIVATE_preconditionIsValidForDocument(e.precondition,t))return n;const i=__PRIVATE_localTransformResults(e.fieldTransforms,l,t),s=t.data;return s.setAll(__PRIVATE_getPatch(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,l):function(e,t,n){return __PRIVATE_preconditionIsValidForDocument(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function __PRIVATE_mutationExtractBaseValue(e,t){let n=null;for(const l of e.fieldTransforms){const e=t.data.field(l.field),i=__PRIVATE_computeTransformOperationBaseValue(l.transform,e||null);null!=i&&(null===n&&(n=ObjectValue.empty()),n.set(l.field,i))}return n||null}function __PRIVATE_mutationEquals(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&__PRIVATE_arrayEquals(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof __PRIVATE_ArrayUnionTransformOperation&&t instanceof __PRIVATE_ArrayUnionTransformOperation||e instanceof __PRIVATE_ArrayRemoveTransformOperation&&t instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(e.elements,t.elements,__PRIVATE_valueEquals):e instanceof __PRIVATE_NumericIncrementTransformOperation&&t instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(e.Ie,t.Ie):e instanceof __PRIVATE_ServerTimestampTransform&&t instanceof __PRIVATE_ServerTimestampTransform}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(e,t,n,l=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(e,t,n,l,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=l,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const l=e.data.field(n);t.set(n,l)}})),t}function __PRIVATE_serverTransformResults(e,t,n){const l=new Map;__PRIVATE_hardAssert(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,u=t.data.field(s.field);l.set(s.field,__PRIVATE_applyTransformOperationToRemoteDocument(o,u,n[i]))}return l}function __PRIVATE_localTransformResults(e,t,n){const l=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);l.set(i.field,__PRIVATE_applyTransformOperationToLocalView(e,s,t))}return l}class __PRIVATE_DeleteMutation extends Mutation{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class MutationBatch{constructor(e,t,n,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=l}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const l=this.mutations[t];l.key.isEqual(e.key)&&__PRIVATE_mutationApplyToRemoteDocument(l,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=__PRIVATE_mutationApplyToLocalView(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=__PRIVATE_mutationApplyToLocalView(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=__PRIVATE_newMutationMap();return this.mutations.forEach((l=>{const i=e.get(l.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(l.key)?null:o;const u=__PRIVATE_calculateOverlayMutation(s,o);null!==u&&n.set(l.key,u),s.isValidDocument()||s.convertToNoDocument(SnapshotVersion.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),__PRIVATE_documentKeySet())}isEqual(e){return this.batchId===e.batchId&&__PRIVATE_arrayEquals(this.mutations,e.mutations,((e,t)=>__PRIVATE_mutationEquals(e,t)))&&__PRIVATE_arrayEquals(this.baseMutations,e.baseMutations,((e,t)=>__PRIVATE_mutationEquals(e,t)))}}class MutationBatchResult{constructor(e,t,n,l){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=l}static from(e,t,n){__PRIVATE_hardAssert(e.mutations.length===n.length);let l=ho;const i=e.mutations;for(let e=0;e<i.length;e++)l=l.insert(i[e].key,n[e].version);return new MutationBatchResult(e,t,n,l)}}class Overlay{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ExistenceFilter{constructor(e,t){this.count=e,this.unchangedNames=t}}var po,Zo;function __PRIVATE_mapCodeFromRpcCode(e){if(void 0===e)return __PRIVATE_logError("GRPC error has no .code"),lo.UNKNOWN;switch(e){case po.OK:return lo.OK;case po.CANCELLED:return lo.CANCELLED;case po.UNKNOWN:return lo.UNKNOWN;case po.DEADLINE_EXCEEDED:return lo.DEADLINE_EXCEEDED;case po.RESOURCE_EXHAUSTED:return lo.RESOURCE_EXHAUSTED;case po.INTERNAL:return lo.INTERNAL;case po.UNAVAILABLE:return lo.UNAVAILABLE;case po.UNAUTHENTICATED:return lo.UNAUTHENTICATED;case po.INVALID_ARGUMENT:return lo.INVALID_ARGUMENT;case po.NOT_FOUND:return lo.NOT_FOUND;case po.ALREADY_EXISTS:return lo.ALREADY_EXISTS;case po.PERMISSION_DENIED:return lo.PERMISSION_DENIED;case po.FAILED_PRECONDITION:return lo.FAILED_PRECONDITION;case po.ABORTED:return lo.ABORTED;case po.OUT_OF_RANGE:return lo.OUT_OF_RANGE;case po.UNIMPLEMENTED:return lo.UNIMPLEMENTED;case po.DATA_LOSS:return lo.DATA_LOSS;default:return fail()}}(Zo=po||(po={}))[Zo.OK=0]="OK",Zo[Zo.CANCELLED=1]="CANCELLED",Zo[Zo.UNKNOWN=2]="UNKNOWN",Zo[Zo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zo[Zo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zo[Zo.NOT_FOUND=5]="NOT_FOUND",Zo[Zo.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zo[Zo.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zo[Zo.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zo[Zo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zo[Zo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zo[Zo.ABORTED=10]="ABORTED",Zo[Zo.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zo[Zo.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zo[Zo.INTERNAL=13]="INTERNAL",Zo[Zo.UNAVAILABLE=14]="UNAVAILABLE",Zo[Zo.DATA_LOSS=15]="DATA_LOSS";const yo=new $s([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(e){const t=(new TextEncoder).encode(e),n=new qs;return n.update(t),new Uint8Array(n.digest())}function __PRIVATE_get64BitUints(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),l=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new $s([n,l],0),new $s([i,s],0)]}class BloomFilter{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${t}`);if(n<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=$s.fromNumber(this.Te)}de(e,t,n){let l=e.add(t.multiply($s.fromNumber(n)));return 1===l.compare(yo)&&(l=new $s([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=__PRIVATE_getMd5HashValue(e),[n,l]=__PRIVATE_get64BitUints(t);for(let e=0;e<this.hashCount;e++){const t=this.de(n,l,e);if(!this.Ae(t))return!1}return!0}static create(e,t,n){const l=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new BloomFilter(i,l,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=__PRIVATE_getMd5HashValue(e),[n,l]=__PRIVATE_get64BitUints(t);for(let e=0;e<this.hashCount;e++){const t=this.de(n,l,e);this.Re(t)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class RemoteEvent{constructor(e,t,n,l,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=l,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const l=new Map;return l.set(e,TargetChange.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new RemoteEvent(SnapshotVersion.min(),l,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(e,t,n,l,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=l,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new TargetChange(n,t,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}class __PRIVATE_DocumentWatchChange{constructor(e,t,n,l){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=l}}class __PRIVATE_ExistenceFilterChange{constructor(e,t){this.targetId=e,this.fe=t}}class __PRIVATE_WatchTargetChange{constructor(e,t,n=ByteString.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=l}}class __PRIVATE_TargetState{constructor(){this.ge=0,this.pe=__PRIVATE_snapshotChangesMap(),this.ye=ByteString.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=__PRIVATE_documentKeySet(),t=__PRIVATE_documentKeySet(),n=__PRIVATE_documentKeySet();return this.pe.forEach(((l,i)=>{switch(i){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:n=n.add(l);break;default:fail()}})),new TargetChange(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=__PRIVATE_snapshotChangesMap()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,__PRIVATE_hardAssert(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class __PRIVATE_WatchChangeAggregator{constructor(e){this.Le=e,this.ke=new Map,this.qe=__PRIVATE_mutableDocumentMap(),this.Qe=__PRIVATE_documentTargetMap(),this.Ke=new SortedMap(__PRIVATE_primitiveComparator)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:fail()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,l=this.Ye(t);if(l){const i=l.target;if(__PRIVATE_targetIsDocumentTarget(i))if(0===n){const e=new DocumentKey(i.path);this.We(t,e,MutableDocument.newNoDocument(e,SnapshotVersion.min()))}else __PRIVATE_hardAssert(1===n);else{const l=this.Ze(t);if(l!==n){const n=this.Xe(e),i=n?this.et(n,e,l):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:l=0},hashCount:i=0}=t;let s,o;try{s=__PRIVATE_normalizeByteString(n).toUint8Array()}catch(e){if(e instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new BloomFilter(s,l,i)}catch(e){return __PRIVATE_logWarn(e instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let l=0;return n.forEach((n=>{const i=this.Le.nt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.We(t,n,null),l++)})),l}it(e){const t=new Map;this.ke.forEach(((n,l)=>{const i=this.Ye(l);if(i){if(n.current&&__PRIVATE_targetIsDocumentTarget(i.target)){const t=new DocumentKey(i.target.path);null!==this.qe.get(t)||this.st(l,t)||this.We(l,t,MutableDocument.newNoDocument(t,e))}n.De&&(t.set(l,n.ve()),n.Fe())}}));let n=__PRIVATE_documentKeySet();this.Qe.forEach(((e,t)=>{let l=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(l=!1,!1)})),l&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const l=new RemoteEvent(e,t,this.Ke,this.qe,n);return this.qe=__PRIVATE_mutableDocumentMap(),this.Qe=__PRIVATE_documentTargetMap(),this.Ke=new SortedMap(__PRIVATE_primitiveComparator),l}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const l=this.ze(e);this.st(e,t)?l.Me(t,1):l.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new __PRIVATE_TargetState,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new SortedSet(__PRIVATE_primitiveComparator),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new __PRIVATE_TargetState),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const Go={asc:"ASCENDING",desc:"DESCENDING"},Xo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vo={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function __PRIVATE_toInt32Proto(e,t){return e.useProto3Json||__PRIVATE_isNullOrUndefined(t)?t:{value:t}}function toTimestamp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function __PRIVATE_toBytes(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function __PRIVATE_toVersion(e,t){return toTimestamp(e,t.toTimestamp())}function __PRIVATE_fromVersion(e){return __PRIVATE_hardAssert(!!e),SnapshotVersion.fromTimestamp(function(e){const t=__PRIVATE_normalizeTimestamp(e);return new Timestamp(t.seconds,t.nanos)}(e))}function __PRIVATE_toResourceName(e,t){return __PRIVATE_toResourcePath(e,t).canonicalString()}function __PRIVATE_toResourcePath(e,t){const n=function(e){return new ResourcePath(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function __PRIVATE_fromResourceName(e){const t=ResourcePath.fromString(e);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(t)),t}function __PRIVATE_toName(e,t){return __PRIVATE_toResourceName(e.databaseId,t.path)}function fromName(e,t){const n=__PRIVATE_fromResourceName(t);if(n.get(1)!==e.databaseId.projectId)throw new FirestoreError(lo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new FirestoreError(lo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(n))}function __PRIVATE_toQueryPath(e,t){return __PRIVATE_toResourceName(e.databaseId,t)}function __PRIVATE_getEncodedDatabaseId(e){return new ResourcePath(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(e){return __PRIVATE_hardAssert(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function __PRIVATE_toMutationDocument(e,t,n){return{name:__PRIVATE_toName(e,t),fields:n.value.mapValue.fields}}function __PRIVATE_toDocumentsTarget(e,t){return{documents:[__PRIVATE_toQueryPath(e,t.path)]}}function __PRIVATE_toQueryTarget(e,t){const n={structuredQuery:{}},l=t.path;let i;null!==t.collectionGroup?(i=l,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=l.popLast(),n.structuredQuery.from=[{collectionId:l.lastSegment()}]),n.parent=__PRIVATE_toQueryPath(e,i);const s=function(e){if(0!==e.length)return __PRIVATE_toFilter(CompositeFilter.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:__PRIVATE_toFieldPathReference(e.field),direction:__PRIVATE_toDirection(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const u=__PRIVATE_toInt32Proto(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function __PRIVATE_convertQueryTargetToQuery(e){let t=function(e){const t=__PRIVATE_fromResourceName(e);return 4===t.length?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(t)}(e.parent);const n=e.structuredQuery,l=n.from?n.from.length:0;let i=null;if(l>0){__PRIVATE_hardAssert(1===l);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=__PRIVATE_fromFilter(e);return t instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new OrderBy(__PRIVATE_fromFieldPathReference(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let u=null;n.limit&&(u=function(e){let t;return t="object"==typeof e?e.value:e,__PRIVATE_isNullOrUndefined(t)?null:t}(n.limit));let d=null;n.startAt&&(d=function(e){const t=!!e.before,n=e.values||[];return new Bound(n,t)}(n.startAt));let h=null;return n.endAt&&(h=function(e){const t=!e.before,n=e.values||[];return new Bound(n,t)}(n.endAt)),function(e,t,n,l,i,s,o,u){return new __PRIVATE_QueryImpl(e,t,n,l,i,s,o,u)}(t,i,o,s,u,"F",d,h)}function __PRIVATE_fromFilter(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=__PRIVATE_fromFieldPathReference(e.unaryFilter.field);return FieldFilter.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=__PRIVATE_fromFieldPathReference(e.unaryFilter.field);return FieldFilter.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=__PRIVATE_fromFieldPathReference(e.unaryFilter.field);return FieldFilter.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=__PRIVATE_fromFieldPathReference(e.unaryFilter.field);return FieldFilter.create(i,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}(e):void 0!==e.fieldFilter?function(e){return FieldFilter.create(__PRIVATE_fromFieldPathReference(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return CompositeFilter.create(e.compositeFilter.filters.map((e=>__PRIVATE_fromFilter(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return fail()}}(e.compositeFilter.op))}(e):fail()}function __PRIVATE_toDirection(e){return Go[e]}function __PRIVATE_toOperatorName(e){return Xo[e]}function __PRIVATE_toCompositeOperatorName(e){return Vo[e]}function __PRIVATE_toFieldPathReference(e){return{fieldPath:e.canonicalString()}}function __PRIVATE_fromFieldPathReference(e){return FieldPath$1.fromServerFormat(e.fieldPath)}function __PRIVATE_toFilter(e){return e instanceof FieldFilter?function(e){if("=="===e.op){if(__PRIVATE_isNanValue(e.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(e.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(e.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(__PRIVATE_isNanValue(e.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(e.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(e.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(e.field),op:__PRIVATE_toOperatorName(e.op),value:e.value}}}(e):e instanceof CompositeFilter?function(e){const t=e.getFilters().map((e=>__PRIVATE_toFilter(e)));return 1===t.length?t[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(e.op),filters:t}}}(e):fail()}function __PRIVATE_toDocumentMask(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function __PRIVATE_isValidResourceName(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class TargetData{constructor(e,t,n,l,i=SnapshotVersion.min(),s=SnapshotVersion.min(),o=ByteString.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=l,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(e){return new TargetData(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class __PRIVATE_LocalSerializer{constructor(e){this.ct=e}}function __PRIVATE_fromBundledQuery(e){const t=__PRIVATE_convertQueryTargetToQuery({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?__PRIVATE_queryWithLimit(t,t.limit,"L"):t}class __PRIVATE_MemoryIndexManager{constructor(){this._n=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(e,t){return this._n.add(t),PersistencePromise.resolve()}getCollectionParents(e,t){return PersistencePromise.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return PersistencePromise.resolve()}deleteFieldIndex(e,t){return PersistencePromise.resolve()}deleteAllFieldIndexes(e){return PersistencePromise.resolve()}createTargetIndexes(e,t){return PersistencePromise.resolve()}getDocumentsMatchingTarget(e,t){return PersistencePromise.resolve(null)}getIndexType(e,t){return PersistencePromise.resolve(0)}getFieldIndexes(e,t){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(e){return PersistencePromise.resolve(null)}getMinOffset(e,t){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(e,t){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(e,t,n){return PersistencePromise.resolve()}updateIndexEntries(e,t){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),l=this.index[t]||new SortedSet(ResourcePath.comparator),i=!l.has(n);return this.index[t]=l.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),l=this.index[t];return l&&l.has(n)}getEntries(e){return(this.index[e]||new SortedSet(ResourcePath.comparator)).toArray()}}class __PRIVATE_TargetIdGenerator{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new __PRIVATE_TargetIdGenerator(0)}static Bn(){return new __PRIVATE_TargetIdGenerator(-1)}}class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,MutableDocument.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?PersistencePromise.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class OverlayedDocument{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class LocalDocumentsView{constructor(e,t,n,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=l}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((l=>(n=l,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&__PRIVATE_mutationApplyToLocalView(n.mutation,e,FieldMask.empty(),Timestamp.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,__PRIVATE_documentKeySet()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=__PRIVATE_documentKeySet()){const l=__PRIVATE_newOverlayMap();return this.populateOverlays(e,l,t).next((()=>this.computeViews(e,t,l,n).next((e=>{let t=documentMap();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=__PRIVATE_newOverlayMap();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,__PRIVATE_documentKeySet())))}populateOverlays(e,t,n){const l=[];return n.forEach((e=>{t.has(e)||l.push(e)})),this.documentOverlayCache.getOverlays(e,l).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,l){let i=__PRIVATE_mutableDocumentMap();const s=__PRIVATE_newDocumentKeyMap(),o=__PRIVATE_newDocumentKeyMap();return t.forEach(((e,t)=>{const o=n.get(t.key);l.has(t.key)&&(void 0===o||o.mutation instanceof __PRIVATE_PatchMutation)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(o.mutation,t,o.mutation.getFieldMask(),Timestamp.now())):s.set(t.key,FieldMask.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new OverlayedDocument(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=__PRIVATE_newDocumentKeyMap();let l=new SortedMap(((e,t)=>e-t)),i=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||FieldMask.empty();o=i.applyToLocalView(s,o),n.set(e,o);const u=(l.get(i.batchId)||__PRIVATE_documentKeySet()).add(e);l=l.insert(i.batchId,u)}))})).next((()=>{const s=[],o=l.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,h=__PRIVATE_newMutationMap();d.forEach((e=>{if(!i.has(e)){const l=__PRIVATE_calculateOverlayMutation(t.get(e),n.get(e));null!==l&&h.set(e,l),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return PersistencePromise.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,l){return function(e){return DocumentKey.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):__PRIVATE_isCollectionGroupQuery(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,l):this.getDocumentsMatchingCollectionQuery(e,t,n,l)}getNextDocuments(e,t,n,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,l).next((i=>{const s=l-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,l-i.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let o=-1,u=i;return s.next((t=>PersistencePromise.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{u=u.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,u,t,__PRIVATE_documentKeySet()))).next((e=>({batchId:o,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new DocumentKey(t)).next((e=>{let t=documentMap();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,l){const i=t.collectionGroup;let s=documentMap();return this.indexManager.getCollectionParents(e,i).next((o=>PersistencePromise.forEach(o,(o=>{const u=function(e,t){return new __PRIVATE_QueryImpl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,n,l).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,l){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,l)))).next((e=>{i.forEach(((t,n)=>{const l=n.getKey();null===e.get(l)&&(e=e.insert(l,MutableDocument.newInvalidDocument(l)))}));let n=documentMap();return e.forEach(((e,l)=>{const s=i.get(e);void 0!==s&&__PRIVATE_mutationApplyToLocalView(s.mutation,l,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(t,l)&&(n=n.insert(e,l))})),n}))}}class __PRIVATE_MemoryBundleCache{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return PersistencePromise.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:__PRIVATE_fromVersion(e.createTime)}}(t)),PersistencePromise.resolve()}getNamedQuery(e,t){return PersistencePromise.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:__PRIVATE_fromBundledQuery(e.bundledQuery),readTime:__PRIVATE_fromVersion(e.readTime)}}(t)),PersistencePromise.resolve()}}class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.hr=new Map}getOverlay(e,t){return PersistencePromise.resolve(this.overlays.get(t))}getOverlays(e,t){const n=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,l)=>{this.ht(e,t,l)})),PersistencePromise.resolve()}removeOverlaysForBatchId(e,t,n){const l=this.hr.get(n);return void 0!==l&&(l.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),PersistencePromise.resolve()}getOverlaysForCollection(e,t,n){const l=__PRIVATE_newOverlayMap(),i=t.length+1,s=new DocumentKey(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&l.set(e.getKey(),e)}return PersistencePromise.resolve(l)}getOverlaysForCollectionGroup(e,t,n,l){let i=new SortedMap(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=__PRIVATE_newOverlayMap(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=__PRIVATE_newOverlayMap(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=l)););return PersistencePromise.resolve(o)}ht(e,t,n){const l=this.overlays.get(n.key);if(null!==l){const e=this.hr.get(l.largestBatchId).delete(n.key);this.hr.set(l.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Overlay(t,n));let i=this.hr.get(t);void 0===i&&(i=__PRIVATE_documentKeySet(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class __PRIVATE_ReferenceSet{constructor(){this.Pr=new SortedSet(__PRIVATE_DocReference.Ir),this.Tr=new SortedSet(__PRIVATE_DocReference.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new __PRIVATE_DocReference(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new __PRIVATE_DocReference(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new DocumentKey(new ResourcePath([])),n=new __PRIVATE_DocReference(t,e),l=new __PRIVATE_DocReference(t,e+1),i=[];return this.Tr.forEachInRange([n,l],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new DocumentKey(new ResourcePath([])),n=new __PRIVATE_DocReference(t,e),l=new __PRIVATE_DocReference(t,e+1);let i=__PRIVATE_documentKeySet();return this.Tr.forEachInRange([n,l],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new __PRIVATE_DocReference(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class __PRIVATE_DocReference{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return DocumentKey.comparator(e.key,t.key)||__PRIVATE_primitiveComparator(e.pr,t.pr)}static Er(e,t){return __PRIVATE_primitiveComparator(e.pr,t.pr)||DocumentKey.comparator(e.key,t.key)}}class __PRIVATE_MemoryMutationQueue{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new SortedSet(__PRIVATE_DocReference.Ir)}checkEmpty(e){return PersistencePromise.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,l){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new MutationBatch(i,t,n,l);this.mutationQueue.push(s);for(const t of l)this.wr=this.wr.add(new __PRIVATE_DocReference(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return PersistencePromise.resolve(s)}lookupMutationBatch(e,t){return PersistencePromise.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,l=this.br(n),i=l<0?0:l;return PersistencePromise.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new __PRIVATE_DocReference(t,0),l=new __PRIVATE_DocReference(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,l],(e=>{const t=this.Sr(e.pr);i.push(t)})),PersistencePromise.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new SortedSet(__PRIVATE_primitiveComparator);return t.forEach((e=>{const t=new __PRIVATE_DocReference(e,0),l=new __PRIVATE_DocReference(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,l],(e=>{n=n.add(e.pr)}))})),PersistencePromise.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,l=n.length+1;let i=n;DocumentKey.isDocumentKey(i)||(i=i.child(""));const s=new __PRIVATE_DocReference(new DocumentKey(i),0);let o=new SortedSet(__PRIVATE_primitiveComparator);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===l&&(o=o.add(e.pr)),!0)}),s),PersistencePromise.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){__PRIVATE_hardAssert(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return PersistencePromise.forEach(t.mutations,(l=>{const i=new __PRIVATE_DocReference(l.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new __PRIVATE_DocReference(t,0),l=this.wr.firstAfterOrEqual(n);return PersistencePromise.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,PersistencePromise.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(e){this.vr=e,this.docs=new SortedMap(DocumentKey.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,l=this.docs.get(n),i=l?l.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return PersistencePromise.resolve(n?n.document.mutableCopy():MutableDocument.newInvalidDocument(t))}getEntries(e,t){let n=__PRIVATE_mutableDocumentMap();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():MutableDocument.newInvalidDocument(e))})),PersistencePromise.resolve(n)}getDocumentsMatchingQuery(e,t,n,l){let i=__PRIVATE_mutableDocumentMap();const s=t.path,o=new DocumentKey(s.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:e,value:{document:o}}=u.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(o),n)<=0||(l.has(o.key)||__PRIVATE_queryMatches(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return PersistencePromise.resolve(i)}getAllFromCollectionGroup(e,t,n,l){fail()}Fr(e,t){return PersistencePromise.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(e){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,l)=>{l.isValidDocument()?t.push(this.ar.addEntry(e,l)):this.ar.removeEntry(n)})),PersistencePromise.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class __PRIVATE_MemoryTargetCache{constructor(e){this.persistence=e,this.Mr=new ObjectMap((e=>__PRIVATE_canonifyTarget(e)),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.Or=0,this.Nr=new __PRIVATE_ReferenceSet,this.targetCount=0,this.Br=__PRIVATE_TargetIdGenerator.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(e){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return PersistencePromise.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),PersistencePromise.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new __PRIVATE_TargetIdGenerator(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(e,t){return this.qn(t),PersistencePromise.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(e,t,n){let l=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),l++)})),PersistencePromise.waitFor(i).next((()=>l))}getTargetCount(e){return PersistencePromise.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return PersistencePromise.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),PersistencePromise.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const l=this.persistence.referenceDelegate,i=[];return l&&t.forEach((t=>{i.push(l.markPotentiallyOrphaned(e,t))})),PersistencePromise.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),PersistencePromise.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return PersistencePromise.resolve(n)}containsKey(e,t){return PersistencePromise.resolve(this.Nr.containsKey(t))}}class __PRIVATE_MemoryPersistence{constructor(e,t){this.Lr={},this.overlays={},this.kr=new __PRIVATE_ListenSequence(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(e){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new __PRIVATE_LocalSerializer(t),this.$r=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new __PRIVATE_MemoryMutationQueue(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",e);const l=new __PRIVATE_MemoryTransaction(this.kr.next());return this.referenceDelegate.Ur(),n(l).next((e=>this.referenceDelegate.Wr(l).next((()=>e)))).toPromise().then((e=>(l.raiseOnCommittedEvent(),e)))}Gr(e,t){return PersistencePromise.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(e){super(),this.currentSequenceNumber=e}}class __PRIVATE_MemoryEagerDelegate{constructor(e){this.persistence=e,this.zr=new __PRIVATE_ReferenceSet,this.jr=null}static Hr(e){return new __PRIVATE_MemoryEagerDelegate(e)}get Jr(){if(this.jr)return this.jr;throw fail()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),PersistencePromise.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),PersistencePromise.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.Jr,(n=>{const l=DocumentKey.fromPath(n);return this.Yr(e,l).next((e=>{e||t.removeEntry(l,SnapshotVersion.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return PersistencePromise.or([()=>PersistencePromise.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class __PRIVATE_LocalViewChanges{constructor(e,t,n,l){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=l}static Ki(e,t){let n=__PRIVATE_documentKeySet(),l=__PRIVATE_documentKeySet();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:l=l.add(e.doc.key)}return new __PRIVATE_LocalViewChanges(e,t.fromCache,n,l)}}class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class __PRIVATE_QueryEngine{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=isSafari()?8:__PRIVATE_SimpleDb.v(getUA())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,l){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,l,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new QueryContext;return this.Ji(e,t,n).next((l=>{if(i.result=l,this.Ui)return this.Yi(e,t,n,l.size)}))})).next((()=>i.result))}Yi(e,t,n,l){return n.documentReadCount<this.Wi?(__PRIVATE_getLogLevel()<=gl.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=gl.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(t),"scans",n.documentReadCount,"local documents and returns",l,"documents as results."),n.documentReadCount>this.Gi*l?(__PRIVATE_getLogLevel()<=gl.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,__PRIVATE_queryToTarget(t))):PersistencePromise.resolve())}ji(e,t){if(__PRIVATE_queryMatchesAllDocuments(t))return PersistencePromise.resolve(null);let n=__PRIVATE_queryToTarget(t);return this.indexManager.getIndexType(e,n).next((l=>0===l?null:(null!==t.limit&&1===l&&(t=__PRIVATE_queryWithLimit(t,null,"F"),n=__PRIVATE_queryToTarget(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((l=>{const i=__PRIVATE_documentKeySet(...l);return this.zi.getDocuments(e,i).next((l=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,l);return this.Xi(t,s,i,n.readTime)?this.ji(e,__PRIVATE_queryWithLimit(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,l){return __PRIVATE_queryMatchesAllDocuments(t)||l.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,l)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=gl.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),__PRIVATE_stringifyQuery(t)),this.es(e,s,t,function(e,t){const n=e.toTimestamp().seconds,l=e.toTimestamp().nanoseconds+1,i=SnapshotVersion.fromTimestamp(1e9===l?new Timestamp(n+1,0):new Timestamp(n,l));return new IndexOffset(i,DocumentKey.empty(),t)}(l,-1)).next((e=>e)))}))}Zi(e,t){let n=new SortedSet(__PRIVATE_newQueryComparator(e));return t.forEach(((t,l)=>{__PRIVATE_queryMatches(e,l)&&(n=n.add(l))})),n}Xi(e,t,n,l){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(l)>0)}Ji(e,t,n){return __PRIVATE_getLogLevel()<=gl.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(t)),this.zi.getDocumentsMatchingQuery(e,t,IndexOffset.min(),n)}es(e,t,n,l){return this.zi.getDocumentsMatchingQuery(e,n,l).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class __PRIVATE_LocalStoreImpl{constructor(e,t,n,l){this.persistence=e,this.ts=t,this.serializer=l,this.ns=new SortedMap(__PRIVATE_primitiveComparator),this.rs=new ObjectMap((e=>__PRIVATE_canonifyTarget(e)),__PRIVATE_targetEquals),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LocalDocumentsView(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}async function __PRIVATE_localStoreHandleUserChange(e,t){const n=__PRIVATE_debugCast(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let l;return n.mutationQueue.getAllMutationBatches(e).next((i=>(l=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=__PRIVATE_documentKeySet();for(const e of l){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(e){const t=__PRIVATE_debugCast(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(e,t){const n=__PRIVATE_debugCast(e),l=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];t.targetChanges.forEach(((s,u)=>{const d=i.get(u);if(!d)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,u).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,u))));let h=d.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?h=h.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):s.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(s.resumeToken,l)),i=i.insert(u,h),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(d,h,s)&&o.push(n.Qr.updateTargetData(e,h))}));let u=__PRIVATE_mutableDocumentMap(),d=__PRIVATE_documentKeySet();if(t.documentUpdates.forEach((l=>{t.resolvedLimboDocuments.has(l)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,l))})),o.push(function(e,t,n){let l=__PRIVATE_documentKeySet(),i=__PRIVATE_documentKeySet();return n.forEach((e=>l=l.add(e))),t.getEntries(e,l).next((e=>{let l=__PRIVATE_mutableDocumentMap();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(SnapshotVersion.min())?(t.removeEntry(n,s.readTime),l=l.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),l=l.insert(n,s)):__PRIVATE_logDebug("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:l,ls:i}}))}(e,s,t.documentUpdates).next((e=>{u=e.cs,d=e.ls}))),!l.isEqual(SnapshotVersion.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,l)));o.push(t)}return PersistencePromise.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,u,d))).next((()=>u))})).then((e=>(n.ns=i,e)))}function __PRIVATE_localStoreGetNextMutationBatch(e,t){const n=__PRIVATE_debugCast(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}async function __PRIVATE_localStoreReleaseTarget(e,t,n){const l=__PRIVATE_debugCast(e),i=l.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await l.persistence.runTransaction("Release target",s,(e=>l.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;__PRIVATE_logDebug("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}l.ns=l.ns.remove(t),l.rs.delete(i.target)}function __PRIVATE_localStoreExecuteQuery(e,t,n){const l=__PRIVATE_debugCast(e);let i=SnapshotVersion.min(),s=__PRIVATE_documentKeySet();return l.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const l=__PRIVATE_debugCast(e),i=l.rs.get(n);return void 0!==i?PersistencePromise.resolve(l.ns.get(i)):l.Qr.getTargetData(t,n)}(l,e,__PRIVATE_queryToTarget(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,l.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>l.ts.getDocumentsMatchingQuery(e,t,n?i:SnapshotVersion.min(),n?s:__PRIVATE_documentKeySet()))).next((e=>(function(e,t,n){let l=e.ss.get(t)||SnapshotVersion.min();n.forEach(((e,t)=>{t.readTime.compareTo(l)>0&&(l=t.readTime)})),e.ss.set(t,l)}(l,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,hs:s})))))}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=bo}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class __PRIVATE_MemorySharedClientState{constructor(){this.no=new __PRIVATE_LocalClientState,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class __PRIVATE_NoopConnectivityMonitor{io(e){}shutdown(){}}let Wo=null;function __PRIVATE_generateUniqueDebugId(){return null===Wo?Wo=268435456+Math.round(2147483648*Math.random()):Wo++,"0x"+Wo.toString(16)}const Ro={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class __PRIVATE_StreamBridge{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const go="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po=`projects/${n}/databases/${l}`,this.yo="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${l}`}get wo(){return!1}So(e,t,n,l,i){const s=__PRIVATE_generateUniqueDebugId(),o=this.bo(e,t.toUriEncodedString());__PRIVATE_logDebug("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,l,i),this.Co(e,o,u,n).then((t=>(__PRIVATE_logDebug("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw __PRIVATE_logWarn("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}vo(e,t,n,l,i,s){return this.So(e,t,n,l,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+to,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Ro[e];return`${this.fo}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,l){const i=__PRIVATE_generateUniqueDebugId();return new Promise(((s,o)=>{const u=new As;u.setWithCredentials(!0),u.listenOnce(Bs.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case js.NO_ERROR:const t=u.getResponseJson();__PRIVATE_logDebug(go,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case js.TIMEOUT:__PRIVATE_logDebug(go,`RPC '${e}' ${i} timed out`),o(new FirestoreError(lo.DEADLINE_EXCEEDED,"Request time out"));break;case js.HTTP_ERROR:const n=u.getStatus();if(__PRIVATE_logDebug(go,`RPC '${e}' ${i} failed with status:`,n,"response text:",u.getResponseText()),n>0){let e=u.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(lo).indexOf(t)>=0?t:lo.UNKNOWN}(t.status);o(new FirestoreError(e,t.message))}else o(new FirestoreError(lo.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new FirestoreError(lo.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(go,`RPC '${e}' ${i} completed.`)}}));const d=JSON.stringify(l);__PRIVATE_logDebug(go,`RPC '${e}' ${i} sending request:`,l),u.send(t,"POST",d,n,15)}))}Fo(e,t,n){const l=__PRIVATE_generateUniqueDebugId(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=new Od,o=Mb(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;void 0!==d&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;const h=i.join("");__PRIVATE_logDebug(go,`Creating RPC '${e}' stream ${l}: ${h}`,u);const m=s.createWebChannel(h,u);let b=!1,V=!1;const g=new __PRIVATE_StreamBridge({lo:t=>{V?__PRIVATE_logDebug(go,`Not sending because RPC '${e}' stream ${l} is closed:`,t):(b||(__PRIVATE_logDebug(go,`Opening RPC '${e}' stream ${l} transport.`),m.open(),b=!0),__PRIVATE_logDebug(go,`RPC '${e}' stream ${l} sending:`,t),m.send(t))},ho:()=>m.close()}),__PRIVATE_unguardedEventListen=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return __PRIVATE_unguardedEventListen(m,Os.EventType.OPEN,(()=>{V||__PRIVATE_logDebug(go,`RPC '${e}' stream ${l} transport opened.`)})),__PRIVATE_unguardedEventListen(m,Os.EventType.CLOSE,(()=>{V||(V=!0,__PRIVATE_logDebug(go,`RPC '${e}' stream ${l} transport closed`),g.Vo())})),__PRIVATE_unguardedEventListen(m,Os.EventType.ERROR,(t=>{V||(V=!0,__PRIVATE_logWarn(go,`RPC '${e}' stream ${l} transport errored:`,t),g.Vo(new FirestoreError(lo.UNAVAILABLE,"The operation could not be completed")))})),__PRIVATE_unguardedEventListen(m,Os.EventType.MESSAGE,(t=>{var n;if(!V){const i=t.data[0];__PRIVATE_hardAssert(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){__PRIVATE_logDebug(go,`RPC '${e}' stream ${l} received error:`,o);const t=o.status;let n=function(e){const t=po[e];if(void 0!==t)return __PRIVATE_mapCodeFromRpcCode(t)}(t),i=o.message;void 0===n&&(n=lo.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),V=!0,g.Vo(new FirestoreError(n,i)),m.close()}else __PRIVATE_logDebug(go,`RPC '${e}' stream ${l} received:`,i),g.mo(i)}})),__PRIVATE_unguardedEventListen(o,Qs.STAT_EVENT,(t=>{t.stat===_s?__PRIVATE_logDebug(go,`RPC '${e}' stream ${l} detected buffering proxy`):t.stat===Ds&&__PRIVATE_logDebug(go,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{g.Ro()}),0),g}}function getDocument$1(){return"undefined"!=typeof document?document:null}function __PRIVATE_newSerializer(e){return new JsonProtoSerializer(e,!0)}class __PRIVATE_ExponentialBackoff{constructor(e,t,n=1e3,l=1.5,i=6e4){this.oi=e,this.timerId=t,this.Mo=n,this.xo=l,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),l=Math.max(0,t-n);l>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.No} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,l,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class __PRIVATE_PersistentStream{constructor(e,t,n,l,i,s,o,u){this.oi=e,this.$o=n,this.Uo=l,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new __PRIVATE_ExponentialBackoff(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===lo.RESOURCE_EXHAUSTED?(__PRIVATE_logError(t.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===lo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Wo===t&&this.o_(e,n)}),(t=>{e((()=>{const e=new FirestoreError(lo.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return __PRIVATE_logDebug("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(__PRIVATE_logDebug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(e,t,n,l,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,l,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const l=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:fail()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(__PRIVATE_hardAssert(void 0===t||"string"==typeof t),ByteString.fromBase64String(t||"")):(__PRIVATE_hardAssert(void 0===t||t instanceof Uint8Array),ByteString.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){const t=void 0===e.code?lo.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(e.code);return new FirestoreError(t,e.message||"")}(o);n=new __PRIVATE_WatchTargetChange(l,i,s,u||null)}else if("documentChange"in t){t.documentChange;const l=t.documentChange;l.document,l.document.name,l.document.updateTime;const i=fromName(e,l.document.name),s=__PRIVATE_fromVersion(l.document.updateTime),o=l.document.createTime?__PRIVATE_fromVersion(l.document.createTime):SnapshotVersion.min(),u=new ObjectValue({mapValue:{fields:l.document.fields}}),d=MutableDocument.newFoundDocument(i,s,o,u),h=l.targetIds||[],m=l.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange(h,m,d.key,d)}else if("documentDelete"in t){t.documentDelete;const l=t.documentDelete;l.document;const i=fromName(e,l.document),s=l.readTime?__PRIVATE_fromVersion(l.readTime):SnapshotVersion.min(),o=MutableDocument.newNoDocument(i,s),u=l.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange([],u,o.key,o)}else if("documentRemove"in t){t.documentRemove;const l=t.documentRemove;l.document;const i=fromName(e,l.document),s=l.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange([],s,i,null)}else{if(!("filter"in t))return fail();{t.filter;const e=t.filter;e.targetId;const{count:l=0,unchangedNames:i}=e,s=new ExistenceFilter(l,i),o=e.targetId;n=new __PRIVATE_ExistenceFilterChange(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return SnapshotVersion.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?SnapshotVersion.min():t.readTime?__PRIVATE_fromVersion(t.readTime):SnapshotVersion.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=__PRIVATE_getEncodedDatabaseId(this.serializer),t.addTarget=function(e,t){let n;const l=t.target;if(n=__PRIVATE_targetIsDocumentTarget(l)?{documents:__PRIVATE_toDocumentsTarget(e,l)}:{query:__PRIVATE_toQueryTarget(e,l).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=__PRIVATE_toBytes(e,t.resumeToken);const l=__PRIVATE_toInt32Proto(e,t.expectedCount);null!==l&&(n.expectedCount=l)}else if(t.snapshotVersion.compareTo(SnapshotVersion.min())>0){n.readTime=toTimestamp(e,t.snapshotVersion.toTimestamp());const l=__PRIVATE_toInt32Proto(e,t.expectedCount);null!==l&&(n.expectedCount=l)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=__PRIVATE_getEncodedDatabaseId(this.serializer),t.removeTarget=e,this.t_(t)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(e,t,n,l,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,l,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(__PRIVATE_hardAssert(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(__PRIVATE_hardAssert(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?__PRIVATE_fromVersion(e.updateTime):__PRIVATE_fromVersion(t);return n.isEqual(SnapshotVersion.min())&&(n=__PRIVATE_fromVersion(t)),new MutationResult(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=__PRIVATE_fromVersion(e.commitTime);return this.listener.T_(n,t)}return __PRIVATE_hardAssert(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof __PRIVATE_SetMutation)n={update:__PRIVATE_toMutationDocument(e,t.key,t.value)};else if(t instanceof __PRIVATE_DeleteMutation)n={delete:__PRIVATE_toName(e,t.key)};else if(t instanceof __PRIVATE_PatchMutation)n={update:__PRIVATE_toMutationDocument(e,t.key,t.data),updateMask:__PRIVATE_toDocumentMask(t.fieldMask)};else{if(!(t instanceof __PRIVATE_VerifyMutation))return fail();n={verify:__PRIVATE_toName(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw fail()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:__PRIVATE_toVersion(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fail()}(e,t.precondition)),n}(this.serializer,e)))};this.t_(t)}}class __PRIVATE_DatastoreImpl extends class{}{constructor(e,t,n,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=l,this.A_=!1}R_(){if(this.A_)throw new FirestoreError(lo.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,l){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.So(e,__PRIVATE_toResourcePath(t,n),l,i,s))).catch((e=>{throw"FirebaseError"===e.name?(e.code===lo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new FirestoreError(lo.UNKNOWN,e.toString())}))}vo(e,t,n,l,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.vo(e,__PRIVATE_toResourcePath(t,n),l,s,o,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===lo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new FirestoreError(lo.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(__PRIVATE_logError(t),this.g_=!1):__PRIVATE_logDebug("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class __PRIVATE_RemoteStoreImpl{constructor(e,t,n,l,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=__PRIVATE_debugCast(e);t.v_.add(4),await __PRIVATE_disableNetworkInternal(t),t.x_.set("Unknown"),t.v_.delete(4),await __PRIVATE_enableNetworkInternal(t)}(this))}))})),this.x_=new __PRIVATE_OnlineStateTracker(n,l)}}async function __PRIVATE_enableNetworkInternal(e){if(__PRIVATE_canUseNetwork(e))for(const t of e.F_)await t(!0)}async function __PRIVATE_disableNetworkInternal(e){for(const t of e.F_)await t(!1)}function __PRIVATE_remoteStoreListen(e,t){const n=__PRIVATE_debugCast(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),__PRIVATE_shouldStartWatchStream(n)?__PRIVATE_startWatchStream(n):__PRIVATE_ensureWatchStream(n).Jo()&&__PRIVATE_sendWatchRequest(n,t))}function __PRIVATE_remoteStoreUnlisten(e,t){const n=__PRIVATE_debugCast(e),l=__PRIVATE_ensureWatchStream(n);n.C_.delete(t),l.Jo()&&__PRIVATE_sendUnwatchRequest(n,t),0===n.C_.size&&(l.Jo()?l.Xo():__PRIVATE_canUseNetwork(n)&&n.x_.set("Unknown"))}function __PRIVATE_sendWatchRequest(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(SnapshotVersion.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}__PRIVATE_ensureWatchStream(e).c_(t)}function __PRIVATE_sendUnwatchRequest(e,t){e.O_.Oe(t),__PRIVATE_ensureWatchStream(e).l_(t)}function __PRIVATE_startWatchStream(e){e.O_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(e).start(),e.x_.p_()}function __PRIVATE_shouldStartWatchStream(e){return __PRIVATE_canUseNetwork(e)&&!__PRIVATE_ensureWatchStream(e).Ho()&&e.C_.size>0}function __PRIVATE_canUseNetwork(e){return 0===__PRIVATE_debugCast(e).v_.size}function __PRIVATE_cleanUpWatchStreamState(e){e.O_=void 0}async function __PRIVATE_onWatchStreamOpen(e){e.C_.forEach(((t,n)=>{__PRIVATE_sendWatchRequest(e,t)}))}async function __PRIVATE_onWatchStreamClose(e,t){__PRIVATE_cleanUpWatchStreamState(e),__PRIVATE_shouldStartWatchStream(e)?(e.x_.S_(t),__PRIVATE_startWatchStream(e)):e.x_.set("Unknown")}async function __PRIVATE_onWatchStreamChange(e,t,n){if(e.x_.set("Online"),t instanceof __PRIVATE_WatchTargetChange&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const l of t.targetIds)e.C_.has(l)&&(await e.remoteSyncer.rejectListen(l,n),e.C_.delete(l),e.O_.removeTarget(l))}(e,t)}catch(n){__PRIVATE_logDebug("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await __PRIVATE_disableNetworkUntilRecovery(e,n)}else if(t instanceof __PRIVATE_DocumentWatchChange?e.O_.$e(t):t instanceof __PRIVATE_ExistenceFilterChange?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(SnapshotVersion.min()))try{const t=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,l)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(l);i&&e.C_.set(l,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const l=e.C_.get(t);if(!l)return;e.C_.set(t,l.withResumeToken(ByteString.EMPTY_BYTE_STRING,l.snapshotVersion)),__PRIVATE_sendUnwatchRequest(e,t);const i=new TargetData(l.target,t,n,l.sequenceNumber);__PRIVATE_sendWatchRequest(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){__PRIVATE_logDebug("RemoteStore","Failed to raise snapshot:",t),await __PRIVATE_disableNetworkUntilRecovery(e,t)}}async function __PRIVATE_disableNetworkUntilRecovery(e,t,n){if(!__PRIVATE_isIndexedDbTransactionError(t))throw t;e.v_.add(1),await __PRIVATE_disableNetworkInternal(e),e.x_.set("Offline"),n||(n=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{__PRIVATE_logDebug("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await __PRIVATE_enableNetworkInternal(e)}))}function __PRIVATE_executeWithRecovery(e,t){return t().catch((n=>__PRIVATE_disableNetworkUntilRecovery(e,n,t)))}async function __PRIVATE_fillWritePipeline(e){const t=__PRIVATE_debugCast(e),n=__PRIVATE_ensureWriteStream(t);let l=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;__PRIVATE_canAddToWritePipeline(t);)try{const e=await __PRIVATE_localStoreGetNextMutationBatch(t.localStore,l);if(null===e){0===t.D_.length&&n.Xo();break}l=e.batchId,__PRIVATE_addToWritePipeline(t,e)}catch(e){await __PRIVATE_disableNetworkUntilRecovery(t,e)}__PRIVATE_shouldStartWriteStream(t)&&__PRIVATE_startWriteStream(t)}function __PRIVATE_canAddToWritePipeline(e){return __PRIVATE_canUseNetwork(e)&&e.D_.length<10}function __PRIVATE_addToWritePipeline(e,t){e.D_.push(t);const n=__PRIVATE_ensureWriteStream(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function __PRIVATE_shouldStartWriteStream(e){return __PRIVATE_canUseNetwork(e)&&!__PRIVATE_ensureWriteStream(e).Ho()&&e.D_.length>0}function __PRIVATE_startWriteStream(e){__PRIVATE_ensureWriteStream(e).start()}async function __PRIVATE_onWriteStreamOpen(e){__PRIVATE_ensureWriteStream(e).d_()}async function __PRIVATE_onWriteHandshakeComplete(e){const t=__PRIVATE_ensureWriteStream(e);for(const n of e.D_)t.I_(n.mutations)}async function __PRIVATE_onMutationResult(e,t,n){const l=e.D_.shift(),i=MutationBatchResult.from(l,t,n);await __PRIVATE_executeWithRecovery(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await __PRIVATE_fillWritePipeline(e)}async function __PRIVATE_onWriteStreamClose(e,t){t&&__PRIVATE_ensureWriteStream(e).P_&&await async function(e,t){if(function(e){return function(e){switch(e){default:return fail();case lo.CANCELLED:case lo.UNKNOWN:case lo.DEADLINE_EXCEEDED:case lo.RESOURCE_EXHAUSTED:case lo.INTERNAL:case lo.UNAVAILABLE:case lo.UNAUTHENTICATED:return!1;case lo.INVALID_ARGUMENT:case lo.NOT_FOUND:case lo.ALREADY_EXISTS:case lo.PERMISSION_DENIED:case lo.FAILED_PRECONDITION:case lo.ABORTED:case lo.OUT_OF_RANGE:case lo.UNIMPLEMENTED:case lo.DATA_LOSS:return!0}}(e)&&e!==lo.ABORTED}(t.code)){const n=e.D_.shift();__PRIVATE_ensureWriteStream(e).Zo(),await __PRIVATE_executeWithRecovery(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await __PRIVATE_fillWritePipeline(e)}}(e,t),__PRIVATE_shouldStartWriteStream(e)&&__PRIVATE_startWriteStream(e)}async function __PRIVATE_remoteStoreHandleCredentialChange(e,t){const n=__PRIVATE_debugCast(e);n.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("RemoteStore","RemoteStore received new credentials");const l=__PRIVATE_canUseNetwork(n);n.v_.add(3),await __PRIVATE_disableNetworkInternal(n),l&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await __PRIVATE_enableNetworkInternal(n)}function __PRIVATE_ensureWatchStream(e){return e.N_||(e.N_=function(e,t,n){const l=__PRIVATE_debugCast(e);return l.R_(),new __PRIVATE_PersistentListenStream(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,n)}(e.datastore,e.asyncQueue,{Po:__PRIVATE_onWatchStreamOpen.bind(null,e),To:__PRIVATE_onWatchStreamClose.bind(null,e),u_:__PRIVATE_onWatchStreamChange.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),__PRIVATE_shouldStartWatchStream(e)?__PRIVATE_startWatchStream(e):e.x_.set("Unknown")):(await e.N_.stop(),__PRIVATE_cleanUpWatchStreamState(e))}))),e.N_}function __PRIVATE_ensureWriteStream(e){return e.B_||(e.B_=function(e,t,n){const l=__PRIVATE_debugCast(e);return l.R_(),new __PRIVATE_PersistentWriteStream(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,n)}(e.datastore,e.asyncQueue,{Po:__PRIVATE_onWriteStreamOpen.bind(null,e),To:__PRIVATE_onWriteStreamClose.bind(null,e),E_:__PRIVATE_onWriteHandshakeComplete.bind(null,e),T_:__PRIVATE_onMutationResult.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await __PRIVATE_fillWritePipeline(e)):(await e.B_.stop(),e.D_.length>0&&(__PRIVATE_logDebug("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))}))),e.B_}class DelayedOperation{constructor(e,t,n,l,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=l,this.removalCallback=i,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,l,i){const s=Date.now()+n,o=new DelayedOperation(e,t,s,l,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(lo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(e,t){if(__PRIVATE_logError("AsyncQueue",`${t}: ${e}`),__PRIVATE_isIndexedDbTransactionError(e))return new FirestoreError(lo.UNAVAILABLE,`${t}: ${e}`);throw e}class DocumentSet{constructor(e){this.comparator=e?(t,n)=>e(t,n)||DocumentKey.comparator(t.key,n.key):(e,t)=>DocumentKey.comparator(e.key,t.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}static emptySet(e){return new DocumentSet(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof DocumentSet))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,l=n.getNext().key;if(!e.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new DocumentSet;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class __PRIVATE_DocumentChangeSet{constructor(){this.L_=new SortedMap(DocumentKey.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):fail():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class ViewSnapshot{constructor(e,t,n,l,i,s,o,u,d){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=l,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,n,l,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new ViewSnapshot(e,t,DocumentSet.emptySet(t),s,n,l,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&__PRIVATE_queryEquals(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class __PRIVATE_QueryListenersInfo{constructor(){this.q_=void 0,this.Q_=[]}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=new ObjectMap((e=>__PRIVATE_canonifyQuery(e)),__PRIVATE_queryEquals),this.onlineState="Unknown",this.K_=new Set}}function __PRIVATE_eventManagerOnWatchChange(e,t){const n=__PRIVATE_debugCast(e);let l=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.Q_)t.W_(e)&&(l=!0);i.q_=e}}l&&__PRIVATE_raiseSnapshotsInSyncEvent(n)}function __PRIVATE_eventManagerOnWatchError(e,t,n){const l=__PRIVATE_debugCast(e),i=l.queries.get(t);if(i)for(const e of i.Q_)e.onError(n);l.queries.delete(t)}function __PRIVATE_raiseSnapshotsInSyncEvent(e){e.K_.forEach((e=>{e.next()}))}class __PRIVATE_QueryListener{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ViewSnapshot(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=ViewSnapshot.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class __PRIVATE_AddedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_RemovedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_View{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.ua=__PRIVATE_newQueryComparator(e),this.ca=new DocumentSet(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new __PRIVATE_DocumentChangeSet,l=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,s=l,o=!1;const u="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,d="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((e,t)=>{const h=l.get(e),m=__PRIVATE_queryMatches(this.query,t)?t:null,b=!!h&&this.mutatedKeys.has(h.key),V=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let g=!1;h&&m?h.data.isEqual(m.data)?b!==V&&(n.track({type:3,doc:m}),g=!0):this.Ia(h,m)||(n.track({type:2,doc:m}),g=!0,(u&&this.ua(m,u)>0||d&&this.ua(m,d)<0)&&(o=!0)):!h&&m?(n.track({type:0,doc:m}),g=!0):h&&!m&&(n.track({type:1,doc:h}),g=!0,(u||d)&&(o=!0)),g&&(m?(s=s.add(m),i=V?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:s,Pa:n,Xi:o,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,l){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort(((e,t)=>function(e,t){const order=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return order(e)-order(t)}(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),l=null!=l&&l;const o=t&&!l?this.Ea():[],u=0===this.aa.size&&this.current&&!l?1:0,d=u!==this._a;return this._a=u,0!==s.length||d?{snapshot:new ViewSnapshot(this.query,e.ca,i,s,e.mutatedKeys,0===u,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:o}:{da:o}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=__PRIVATE_documentKeySet(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new __PRIVATE_RemovedLimboDocument(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new __PRIVATE_AddedLimboDocument(n))})),t}Ra(e){this.oa=e.hs,this.aa=__PRIVATE_documentKeySet();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return ViewSnapshot.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class __PRIVATE_QueryView{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class LimboResolution{constructor(e){this.key=e,this.ma=!1}}class __PRIVATE_SyncEngineImpl{constructor(e,t,n,l,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=l,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new ObjectMap((e=>__PRIVATE_canonifyQuery(e)),__PRIVATE_queryEquals),this.pa=new Map,this.ya=new Set,this.wa=new SortedMap(DocumentKey.comparator),this.Sa=new Map,this.ba=new __PRIVATE_ReferenceSet,this.Da={},this.Ca=new Map,this.va=__PRIVATE_TargetIdGenerator.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function __PRIVATE_syncEngineListen(e,t){const n=function(e){const t=__PRIVATE_debugCast(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,t),t.fa.u_=__PRIVATE_eventManagerOnWatchChange.bind(null,t.eventManager),t.fa.xa=__PRIVATE_eventManagerOnWatchError.bind(null,t.eventManager),t}(e);let l,i;const s=n.ga.get(t);if(s)l=s.targetId,n.sharedClientState.addLocalQueryTarget(l),i=s.view.Va();else{const e=await function(e,t){const n=__PRIVATE_debugCast(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let l;return n.Qr.getTargetData(e,t).next((i=>i?(l=i,PersistencePromise.resolve(l)):n.Qr.allocateTargetId(e).next((i=>(l=new TargetData(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,l).next((()=>l)))))))})).then((e=>{const l=n.ns.get(e.targetId);return(null===l||e.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}(n.localStore,__PRIVATE_queryToTarget(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);l=e.targetId,i=await async function(e,t,n,l,i){e.Ma=(t,n,l)=>async function(e,t,n,l){let i=t.view.ha(n);i.Xi&&(i=await __PRIVATE_localStoreExecuteQuery(e.localStore,t.query,!1).then((({documents:e})=>t.view.ha(e,i))));const s=l&&l.targetChanges.get(t.targetId),o=l&&null!=l.targetMismatches.get(t.targetId),u=t.view.applyChanges(i,e.isPrimaryClient,s,o);return __PRIVATE_updateTrackedLimbos(e,t.targetId,u.da),u.snapshot}(e,t,n,l);const s=await __PRIVATE_localStoreExecuteQuery(e.localStore,t,!0),o=new __PRIVATE_View(t,s.hs),u=o.ha(s.documents),d=TargetChange.createSynthesizedTargetChangeForCurrentChange(n,l&&"Offline"!==e.onlineState,i),h=o.applyChanges(u,e.isPrimaryClient,d);__PRIVATE_updateTrackedLimbos(e,n,h.da);const m=new __PRIVATE_QueryView(t,n,o);return e.ga.set(t,m),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),h.snapshot}(n,t,l,"current"===s,e.resumeToken),n.isPrimaryClient&&__PRIVATE_remoteStoreListen(n.remoteStore,e)}return i}async function __PRIVATE_syncEngineUnlisten(e,t){const n=__PRIVATE_debugCast(e),l=n.ga.get(t),i=n.pa.get(l.targetId);if(i.length>1)return n.pa.set(l.targetId,i.filter((e=>!__PRIVATE_queryEquals(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(l.targetId),n.sharedClientState.isActiveQueryTarget(l.targetId)||await __PRIVATE_localStoreReleaseTarget(n.localStore,l.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(l.targetId),__PRIVATE_remoteStoreUnlisten(n.remoteStore,l.targetId),__PRIVATE_removeAndCleanupTarget(n,l.targetId)})).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(n,l.targetId),await __PRIVATE_localStoreReleaseTarget(n.localStore,l.targetId,!0))}async function __PRIVATE_syncEngineWrite(e,t,n){const l=function(e){const t=__PRIVATE_debugCast(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,t),t}(e);try{const e=await function(e,t){const n=__PRIVATE_debugCast(e),l=Timestamp.now(),i=t.reduce(((e,t)=>e.add(t.key)),__PRIVATE_documentKeySet());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let u=__PRIVATE_mutableDocumentMap(),d=__PRIVATE_documentKeySet();return n.os.getEntries(e,i).next((e=>{u=e,u.forEach(((e,t)=>{t.isValidDocument()||(d=d.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,u))).next((i=>{s=i;const o=[];for(const e of t){const t=__PRIVATE_mutationExtractBaseValue(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new __PRIVATE_PatchMutation(e.key,t,__PRIVATE_extractFieldMask(t.value.mapValue),Precondition.exists(!0)))}return n.mutationQueue.addMutationBatch(e,l,o,t)})).next((t=>{o=t;const l=t.applyToLocalDocumentSet(s,d);return n.documentOverlayCache.saveOverlays(e,t.batchId,l)}))})).then((()=>({batchId:o.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(s)})))}(l.localStore,t);l.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let l=e.Da[e.currentUser.toKey()];l||(l=new SortedMap(__PRIVATE_primitiveComparator)),l=l.insert(t,n),e.Da[e.currentUser.toKey()]=l}(l,e.batchId,n),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(l,e.changes),await __PRIVATE_fillWritePipeline(l.remoteStore)}catch(e){const t=__PRIVATE_wrapInUserErrorIfRecoverable(e,"Failed to persist write");n.reject(t)}}async function __PRIVATE_syncEngineApplyRemoteEvent(e,t){const n=__PRIVATE_debugCast(e);try{const e=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const l=n.Sa.get(t);l&&(__PRIVATE_hardAssert(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?l.ma=!0:e.modifiedDocuments.size>0?__PRIVATE_hardAssert(l.ma):e.removedDocuments.size>0&&(__PRIVATE_hardAssert(l.ma),l.ma=!1))})),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(n,e,t)}catch(e){await __PRIVATE_ignoreIfPrimaryLeaseLoss(e)}}function __PRIVATE_syncEngineApplyOnlineStateChange(e,t,n){const l=__PRIVATE_debugCast(e);if(l.isPrimaryClient&&0===n||!l.isPrimaryClient&&1===n){const e=[];l.ga.forEach(((n,l)=>{const i=l.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=__PRIVATE_debugCast(e);n.onlineState=t;let l=!1;n.queries.forEach(((e,n)=>{for(const e of n.Q_)e.U_(t)&&(l=!0)})),l&&__PRIVATE_raiseSnapshotsInSyncEvent(n)}(l.eventManager,t),e.length&&l.fa.u_(e),l.onlineState=t,l.isPrimaryClient&&l.sharedClientState.setOnlineState(t)}}async function __PRIVATE_syncEngineRejectListen(e,t,n){const l=__PRIVATE_debugCast(e);l.sharedClientState.updateQueryState(t,"rejected",n);const i=l.Sa.get(t),s=i&&i.key;if(s){let e=new SortedMap(DocumentKey.comparator);e=e.insert(s,MutableDocument.newNoDocument(s,SnapshotVersion.min()));const n=__PRIVATE_documentKeySet().add(s),i=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),e,n);await __PRIVATE_syncEngineApplyRemoteEvent(l,i),l.wa=l.wa.remove(s),l.Sa.delete(t),__PRIVATE_pumpEnqueuedLimboResolutions(l)}else await __PRIVATE_localStoreReleaseTarget(l.localStore,t,!1).then((()=>__PRIVATE_removeAndCleanupTarget(l,t,n))).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(e,t){const n=__PRIVATE_debugCast(e),l=t.batch.batchId;try{const e=await function(e,t){const n=__PRIVATE_debugCast(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const l=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,l){const i=n.batch,s=i.keys();let o=PersistencePromise.resolve();return s.forEach((e=>{o=o.next((()=>l.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);__PRIVATE_hardAssert(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),l.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=__PRIVATE_documentKeySet();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,l)))}))}(n.localStore,t);__PRIVATE_processUserCallback(n,l,null),__PRIVATE_triggerPendingWritesCallbacks(n,l),n.sharedClientState.updateMutationState(l,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(n,e)}catch(e){await __PRIVATE_ignoreIfPrimaryLeaseLoss(e)}}async function __PRIVATE_syncEngineRejectFailedWrite(e,t,n){const l=__PRIVATE_debugCast(e);try{const e=await function(e,t){const n=__PRIVATE_debugCast(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let l;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(__PRIVATE_hardAssert(null!==t),l=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,l,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,l))).next((()=>n.localDocuments.getDocuments(e,l)))}))}(l.localStore,t);__PRIVATE_processUserCallback(l,t,n),__PRIVATE_triggerPendingWritesCallbacks(l,t),l.sharedClientState.updateMutationState(t,"rejected",n),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(l,e)}catch(n){await __PRIVATE_ignoreIfPrimaryLeaseLoss(n)}}function __PRIVATE_triggerPendingWritesCallbacks(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function __PRIVATE_processUserCallback(e,t,n){const l=__PRIVATE_debugCast(e);let i=l.Da[l.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),l.Da[l.currentUser.toKey()]=i}}function __PRIVATE_removeAndCleanupTarget(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const l of e.pa.get(t))e.ga.delete(l),n&&e.fa.xa(l,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||__PRIVATE_removeLimboTarget(e,t)}))}function __PRIVATE_removeLimboTarget(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(__PRIVATE_remoteStoreUnlisten(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),__PRIVATE_pumpEnqueuedLimboResolutions(e))}function __PRIVATE_updateTrackedLimbos(e,t,n){for(const l of n)l instanceof __PRIVATE_AddedLimboDocument?(e.ba.addReference(l.key,t),__PRIVATE_trackLimboChange(e,l)):l instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug("SyncEngine","Document no longer in limbo: "+l.key),e.ba.removeReference(l.key,t),e.ba.containsKey(l.key)||__PRIVATE_removeLimboTarget(e,l.key)):fail()}function __PRIVATE_trackLimboChange(e,t){const n=t.key,l=n.path.canonicalString();e.wa.get(n)||e.ya.has(l)||(__PRIVATE_logDebug("SyncEngine","New document in limbo: "+n),e.ya.add(l),__PRIVATE_pumpEnqueuedLimboResolutions(e))}function __PRIVATE_pumpEnqueuedLimboResolutions(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new DocumentKey(ResourcePath.fromString(t)),l=e.va.next();e.Sa.set(l,new LimboResolution(n)),e.wa=e.wa.insert(n,l),__PRIVATE_remoteStoreListen(e.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(n.path)),l,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence._e))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(e,t,n){const l=__PRIVATE_debugCast(e),i=[],s=[],o=[];l.ga.isEmpty()||(l.ga.forEach(((e,u)=>{o.push(l.Ma(u,t,n).then((e=>{if((e||n)&&l.isPrimaryClient&&l.sharedClientState.updateQueryState(u.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=__PRIVATE_LocalViewChanges.Ki(u.targetId,e);s.push(t)}})))})),await Promise.all(o),l.fa.u_(i),await async function(e,t){const n=__PRIVATE_debugCast(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>PersistencePromise.forEach(t,(t=>PersistencePromise.forEach(t.qi,(l=>n.persistence.referenceDelegate.addReference(e,t.targetId,l))).next((()=>PersistencePromise.forEach(t.Qi,(l=>n.persistence.referenceDelegate.removeReference(e,t.targetId,l)))))))))}catch(e){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;__PRIVATE_logDebug("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.ns.get(t),l=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(l);n.ns=n.ns.insert(t,i)}}}(l.localStore,s))}async function __PRIVATE_syncEngineHandleCredentialChange(e,t){const n=__PRIVATE_debugCast(e);if(!n.currentUser.isEqual(t)){__PRIVATE_logDebug("SyncEngine","User change. New user:",t.toKey());const e=await __PRIVATE_localStoreHandleUserChange(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new FirestoreError(lo.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(n,e.us)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(e,t){const n=__PRIVATE_debugCast(e),l=n.Sa.get(t);if(l&&l.ma)return __PRIVATE_documentKeySet().add(l.key);{let e=__PRIVATE_documentKeySet();const l=n.pa.get(t);if(!l)return e;for(const t of l){const l=n.ga.get(t);e=e.unionWith(l.view.la)}return e}}class MemoryOfflineComponentProvider{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=__PRIVATE_newSerializer(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function(e,t,n,l){return new __PRIVATE_LocalStoreImpl(e,t,n,l)}(this.persistence,new __PRIVATE_QueryEngine,e.initialUser,this.serializer)}createPersistence(e){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Hr,this.serializer)}createSharedClientState(e){return new __PRIVATE_MemorySharedClientState}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class OnlineComponentProvider{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await async function(e,t){const n=__PRIVATE_debugCast(e);t?(n.v_.delete(2),await __PRIVATE_enableNetworkInternal(n)):t||(n.v_.add(2),await __PRIVATE_disableNetworkInternal(n),n.x_.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new __PRIVATE_EventManagerImpl}createDatastore(e){const t=__PRIVATE_newSerializer(e.databaseInfo.databaseId),n=function(e){return new __PRIVATE_WebChannelConnection(e)}(e.databaseInfo);return function(e,t,n,l){return new __PRIVATE_DatastoreImpl(e,t,n,l)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,l,i){return new __PRIVATE_RemoteStoreImpl(e,t,n,l,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,e,0)),new __PRIVATE_NoopConnectivityMonitor)}createSyncEngine(e,t){return function(e,t,n,l,i,s,o){const u=new __PRIVATE_SyncEngineImpl(e,t,n,l,i,s);return o&&(u.Fa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=__PRIVATE_debugCast(e);__PRIVATE_logDebug("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await __PRIVATE_disableNetworkInternal(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class __PRIVATE_AsyncObserver{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):__PRIVATE_logError("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class FirestoreClient{constructor(e,t,n,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=l,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{__PRIVATE_logDebug("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(__PRIVATE_logDebug("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new FirestoreError(lo.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=__PRIVATE_wrapInUserErrorIfRecoverable(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function __PRIVATE_setOfflineComponentProvider(e,t){e.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let l=n.initialUser;e.setCredentialChangeListener((async e=>{l.isEqual(e)||(await __PRIVATE_localStoreHandleUserChange(t.localStore,e),l=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function __PRIVATE_setOnlineComponentProvider(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){__PRIVATE_logDebug("FirestoreClient","Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===lo.FAILED_PRECONDITION||e.code===lo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+n),await __PRIVATE_setOfflineComponentProvider(e,new MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug("FirestoreClient","Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(e,new MemoryOfflineComponentProvider);return e._offlineComponents}(e);__PRIVATE_logDebug("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>__PRIVATE_remoteStoreHandleCredentialChange(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>__PRIVATE_remoteStoreHandleCredentialChange(t.remoteStore,n))),e._onlineComponents=t}async function __PRIVATE_ensureOnlineComponents(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(__PRIVATE_logDebug("FirestoreClient","Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(e,e._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug("FirestoreClient","Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(e,new OnlineComponentProvider))),e._onlineComponents}async function __PRIVATE_getEventManager(e){const t=await __PRIVATE_ensureOnlineComponents(e),n=t.eventManager;return n.onListen=__PRIVATE_syncEngineListen.bind(null,t.syncEngine),n.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,t.syncEngine),n}function __PRIVATE_cloneLongPollingOptions(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Io=new Map;function __PRIVATE_validateNonEmptyArgument(e,t,n){if(!n)throw new FirestoreError(lo.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function __PRIVATE_validateDocumentPath(e){if(!DocumentKey.isDocumentKey(e))throw new FirestoreError(lo.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function __PRIVATE_validateCollectionPath(e){if(DocumentKey.isDocumentKey(e))throw new FirestoreError(lo.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function __PRIVATE_valueDescription(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":fail()}function __PRIVATE_cast(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new FirestoreError(lo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=__PRIVATE_valueDescription(e);throw new FirestoreError(lo.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class FirestoreSettingsImpl{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new FirestoreError(lo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new FirestoreError(lo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,l){if(!0===t&&!0===l)throw new FirestoreError(lo.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new FirestoreError(lo.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new FirestoreError(lo.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new FirestoreError(lo.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Firestore$1{constructor(e,t,n,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new FirestoreError(lo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new FirestoreError(lo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(e.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new FirestoreError(lo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Io.get(e);t&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),Io.delete(e),t.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(e,t,n,l={}){var i;const s=(e=__PRIVATE_cast(e,Firestore$1))._getSettings(),o=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),l.mockUserToken){let t,n;if("string"==typeof l.mockUserToken)t=l.mockUserToken,n=User.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",l=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:l,exp:l+3600,auth_time:l,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[base64urlEncodeWithoutPadding(JSON.stringify({alg:"none",type:"JWT"})),base64urlEncodeWithoutPadding(JSON.stringify(s)),""].join(".")}(l.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=l.mockUserToken.sub||l.mockUserToken.user_id;if(!s)throw new FirestoreError(lo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new User(s)}e._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(t,n))}}class Query{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Query(this.firestore,e,this._query)}}class DocumentReference{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new DocumentReference(this.firestore,e,this._key)}}class CollectionReference extends Query{constructor(e,t,n){super(e,t,__PRIVATE_newQueryForPath(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(e))}withConverter(e){return new CollectionReference(this.firestore,e,this._path)}}function collection$1(e,t,...n){if(e=getModularInstance(e),__PRIVATE_validateNonEmptyArgument("collection","path",t),e instanceof Firestore$1){const l=ResourcePath.fromString(t,...n);return __PRIVATE_validateCollectionPath(l),new CollectionReference(e,null,l)}{if(!(e instanceof DocumentReference||e instanceof CollectionReference))throw new FirestoreError(lo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=e._path.child(ResourcePath.fromString(t,...n));return __PRIVATE_validateCollectionPath(l),new CollectionReference(e.firestore,null,l)}}function doc$1(e,t,...n){if(e=getModularInstance(e),1===arguments.length&&(t=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",t),e instanceof Firestore$1){const l=ResourcePath.fromString(t,...n);return __PRIVATE_validateDocumentPath(l),new DocumentReference(e,null,new DocumentKey(l))}{if(!(e instanceof DocumentReference||e instanceof CollectionReference))throw new FirestoreError(lo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=e._path.child(ResourcePath.fromString(t,...n));return __PRIVATE_validateDocumentPath(l),new DocumentReference(e.firestore,e instanceof CollectionReference?e.converter:null,new DocumentKey(l))}}class __PRIVATE_AsyncQueueImpl{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this._u=()=>{const e=getDocument$1();e&&__PRIVATE_logDebug("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=getDocument$1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=getDocument$1();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new __PRIVATE_Deferred;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;__PRIVATE_logDebug("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const l=DelayedOperation.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(l),l}au(){this.ru&&fail()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}function __PRIVATE_isPartialObserver(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(e,["next","error","complete"])}let fo=class extends Firestore$1{constructor(e,t,n,l){super(e,t,n,l),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=(null==l?void 0:l.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||__PRIVATE_configureFirestore(this),this._firestoreClient.terminate()}};function getFirestore$1(e,t){const n="string"==typeof e?e:t||"(default)",l=_getProvider("object"==typeof e?e:getApp(),"firestore").getImmediate({identifier:n});if(!l._initialized){const e=(e=>{const t=getDefaultEmulatorHost(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const l=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),l]:[t.substring(0,n),l]})("firestore");e&&connectFirestoreEmulator(l,...e)}return l}function ensureFirestoreConfigured(e){return e._firestoreClient||__PRIVATE_configureFirestore(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function __PRIVATE_configureFirestore(e){var t,n,l;const i=e._freezeSettings(),s=function(e,t,n,l){return new DatabaseInfo(e,t,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(l.experimentalLongPollingOptions),l.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new FirestoreClient(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(l=i.localCache)||void 0===l?void 0:l._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Bytes{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bytes(ByteString.fromBase64String(e))}catch(e){throw new FirestoreError(lo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Bytes(ByteString.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class FieldPath{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new FirestoreError(lo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class FieldValue{constructor(e){this._methodName=e}}class GeoPoint{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new FirestoreError(lo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new FirestoreError(lo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return __PRIVATE_primitiveComparator(this._lat,e._lat)||__PRIVATE_primitiveComparator(this._long,e._long)}}const So=/^__.*__$/;class ParsedSetData{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new __PRIVATE_PatchMutation(e,this.data,this.fieldMask,t,this.fieldTransforms):new __PRIVATE_SetMutation(e,this.data,t,this.fieldTransforms)}}class ParsedUpdateData{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new __PRIVATE_PatchMutation(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function __PRIVATE_isWrite(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor(e,t,n,l,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=l,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.Au({path:n,Vu:!1});return l.mu(e),l}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.Au({path:n,Vu:!1});return l.Eu(),l}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return __PRIVATE_createError(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(__PRIVATE_isWrite(this.du)&&So.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||__PRIVATE_newSerializer(e)}Su(e,t,n,l=!1){return new __PRIVATE_ParseContextImpl({du:e,methodName:t,wu:n,path:FieldPath$1.emptyPath(),Vu:!1,yu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(e){const t=e._freezeSettings(),n=__PRIVATE_newSerializer(e._databaseId);return new __PRIVATE_UserDataReader(e._databaseId,!!t.ignoreUndefinedProperties,n)}function __PRIVATE_parseSetData(e,t,n,l,i,s={}){const o=e.Su(s.merge||s.mergeFields?2:0,t,n,i);__PRIVATE_validatePlainObject("Data must be an object, but it was:",o,l);const u=__PRIVATE_parseObject(l,o);let d,h;if(s.merge)d=new FieldMask(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const l of s.mergeFields){const i=__PRIVATE_fieldPathFromArgument$1(t,l,n);if(!o.contains(i))throw new FirestoreError(lo.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(e,i)||e.push(i)}d=new FieldMask(e),h=o.fieldTransforms.filter((e=>d.covers(e.field)))}else d=null,h=o.fieldTransforms;return new ParsedSetData(new ObjectValue(u),d,h)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(e){if(2!==e.du)throw 1===e.du?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof __PRIVATE_DeleteFieldValueImpl}}class __PRIVATE_ServerTimestampFieldValueImpl extends FieldValue{_toFieldTransform(e){return new FieldTransform(e.path,new __PRIVATE_ServerTimestampTransform)}isEqual(e){return e instanceof __PRIVATE_ServerTimestampFieldValueImpl}}function __PRIVATE_parseData(e,t){if(__PRIVATE_looksLikeJsonObject(e=getModularInstance(e)))return __PRIVATE_validatePlainObject("Unsupported field value:",t,e),__PRIVATE_parseObject(e,t);if(e instanceof FieldValue)return function(e,t){if(!__PRIVATE_isWrite(t.du))throw t.pu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.pu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let l=0;for(const i of e){let e=__PRIVATE_parseData(i,t.gu(l));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),l++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=getModularInstance(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return toNumber(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Timestamp.fromDate(e);return{timestampValue:toTimestamp(t.serializer,n)}}if(e instanceof Timestamp){const n=new Timestamp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:toTimestamp(t.serializer,n)}}if(e instanceof GeoPoint)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(t.serializer,e._byteString)};if(e instanceof DocumentReference){const n=t.databaseId,l=e.firestore._databaseId;if(!l.isEqual(n))throw t.pu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:__PRIVATE_toResourceName(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu(`Unsupported field value: ${__PRIVATE_valueDescription(e)}`)}(e,t)}function __PRIVATE_parseObject(e,t){const n={};return isEmpty(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):forEach(e,((e,l)=>{const i=__PRIVATE_parseData(l,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function __PRIVATE_looksLikeJsonObject(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Timestamp||e instanceof GeoPoint||e instanceof Bytes||e instanceof DocumentReference||e instanceof FieldValue)}function __PRIVATE_validatePlainObject(e,t,n){if(!__PRIVATE_looksLikeJsonObject(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const l=__PRIVATE_valueDescription(n);throw"an object"===l?t.pu(e+" a custom object"):t.pu(e+" "+l)}}function __PRIVATE_fieldPathFromArgument$1(e,t,n){if((t=getModularInstance(t))instanceof FieldPath)return t._internalPath;if("string"==typeof t)return __PRIVATE_fieldPathFromDotSeparatedString(e,t);throw __PRIVATE_createError("Field path arguments must be of type string or ",e,!1,void 0,n)}const Lo=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(e,t,n){if(t.search(Lo)>=0)throw __PRIVATE_createError(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new FieldPath(...t.split("."))._internalPath}catch(l){throw __PRIVATE_createError(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function __PRIVATE_createError(e,t,n,l,i){const s=l&&!l.isEmpty(),o=void 0!==i;let u=`Function ${t}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||o)&&(d+=" (found",s&&(d+=` in field ${l}`),o&&(d+=` in document ${i}`),d+=")"),new FirestoreError(lo.INVALID_ARGUMENT,u+e+d)}function __PRIVATE_fieldMaskContains(e,t){return e.some((e=>e.isEqual(t)))}class DocumentSnapshot$1{constructor(e,t,n,l,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=l,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(e,t){return"string"==typeof t?__PRIVATE_fieldPathFromDotSeparatedString(e,t):t instanceof FieldPath?t._internalPath:t._delegate._internalPath}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query$1(e,t,...n){let l=[];t instanceof AppliableConstraint&&l.push(t),l=l.concat(n),function(e){const t=e.filter((e=>e instanceof QueryCompositeFilterConstraint)).length,n=e.filter((e=>e instanceof QueryFieldFilterConstraint)).length;if(t>1||t>0&&n>0)throw new FirestoreError(lo.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(l);for(const t of l)e=t._apply(e);return e}class QueryFieldFilterConstraint extends QueryConstraint{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new QueryFieldFilterConstraint(e,t,n)}_apply(e){const t=this._parse(e);return __PRIVATE_validateNewFieldFilter(e._query,t),new Query(e.firestore,e.converter,__PRIVATE_queryWithAddedFilter(e._query,t))}_parse(e){const t=__PRIVATE_newUserDataReader(e.firestore),n=function(e,t,n,l,i,s,o){let u;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new FirestoreError(lo.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){__PRIVATE_validateDisjunctiveFilterElements(o,s);const t=[];for(const n of o)t.push(__PRIVATE_parseDocumentIdValue(l,e,n));u={arrayValue:{values:t}}}else u=__PRIVATE_parseDocumentIdValue(l,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||__PRIVATE_validateDisjunctiveFilterElements(o,s),u=function(e,t,n,l=!1){return __PRIVATE_parseData(n,e.Su(l?4:3,t))}(n,t,o,"in"===s||"not-in"===s);return FieldFilter.create(i,s,u)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function where$1(e,t,n){const l=t,i=__PRIVATE_fieldPathFromArgument("where",e);return QueryFieldFilterConstraint._create(i,l,n)}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new QueryCompositeFilterConstraint(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:CompositeFilter.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const l=t.getFlattenedFilters();for(const e of l)__PRIVATE_validateNewFieldFilter(n,e),n=__PRIVATE_queryWithAddedFilter(n,e)}(e._query,t),new Query(e.firestore,e.converter,__PRIVATE_queryWithAddedFilter(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class QueryOrderByConstraint extends QueryConstraint{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new QueryOrderByConstraint(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new FirestoreError(lo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new FirestoreError(lo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy(t,n)}(e._query,this._field,this._direction);return new Query(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new __PRIVATE_QueryImpl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function orderBy$1(e,t="asc"){const n=t,l=__PRIVATE_fieldPathFromArgument("orderBy",e);return QueryOrderByConstraint._create(l,n)}function __PRIVATE_parseDocumentIdValue(e,t,n){if("string"==typeof(n=getModularInstance(n))){if(""===n)throw new FirestoreError(lo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery(t)&&-1!==n.indexOf("/"))throw new FirestoreError(lo.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const l=t.path.child(ResourcePath.fromString(n));if(!DocumentKey.isDocumentKey(l))throw new FirestoreError(lo.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return __PRIVATE_refValue(e,new DocumentKey(l))}if(n instanceof DocumentReference)return __PRIVATE_refValue(e,n._key);throw new FirestoreError(lo.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(n)}.`)}function __PRIVATE_validateDisjunctiveFilterElements(e,t){if(!Array.isArray(e)||0===e.length)throw new FirestoreError(lo.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new FirestoreError(lo.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new FirestoreError(lo.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class AbstractUserDataWriter{convertValue(e,t="none"){switch(__PRIVATE_typeOrder(e)){case 0:return null;case 1:return e.booleanValue;case 2:return __PRIVATE_normalizeNumber(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw fail()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return forEach(e,((e,l)=>{n[e]=this.convertValue(l,t)})),n}convertGeoPoint(e){return new GeoPoint(__PRIVATE_normalizeNumber(e.latitude),__PRIVATE_normalizeNumber(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=__PRIVATE_getPreviousValue(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(e));default:return null}}convertTimestamp(e){const t=__PRIVATE_normalizeTimestamp(e);return new Timestamp(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ResourcePath.fromString(e);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(n));const l=new DatabaseId(n.get(1),n.get(3)),i=new DocumentKey(n.popFirst(5));return l.isEqual(t)||__PRIVATE_logError(`Document ${i} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}class SnapshotMetadata{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(e,t,n,l,i,s){super(e,t,n,l,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(e={}){return super.data(e)}}class QuerySnapshot{constructor(e,t,n,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new SnapshotMetadata(l.hasPendingWrites,l.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,n.key,n,new SnapshotMetadata(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(lo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const l=new QueryDocumentSnapshot(e._firestore,e._userDataWriter,n.doc.key,n.doc,new SnapshotMetadata(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:l,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const l=new QueryDocumentSnapshot(e._firestore,e._userDataWriter,t.doc.key,t.doc,new SnapshotMetadata(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:__PRIVATE_resultChangeType(t.type),doc:l,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function __PRIVATE_resultChangeType(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail()}}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bytes(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new DocumentReference(this.firestore,null,t)}}function updateDoc$1(e,t,n,...l){e=__PRIVATE_cast(e,DocumentReference);const i=__PRIVATE_cast(e.firestore,fo),s=__PRIVATE_newUserDataReader(i);let o;return o="string"==typeof(t=getModularInstance(t))||t instanceof FieldPath?function(e,t,n,l,i,s){const o=e.Su(1,t,n),u=[__PRIVATE_fieldPathFromArgument$1(t,l,n)],d=[i];if(s.length%2!=0)throw new FirestoreError(lo.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)u.push(__PRIVATE_fieldPathFromArgument$1(t,s[e])),d.push(s[e+1]);const h=[],m=ObjectValue.empty();for(let e=u.length-1;e>=0;--e)if(!__PRIVATE_fieldMaskContains(h,u[e])){const t=u[e];let n=d[e];n=getModularInstance(n);const l=o.fu(t);if(n instanceof __PRIVATE_DeleteFieldValueImpl)h.push(t);else{const e=__PRIVATE_parseData(n,l);null!=e&&(h.push(t),m.set(t,e))}}const b=new FieldMask(h);return new ParsedUpdateData(m,b,o.fieldTransforms)}(s,"updateDoc",e._key,t,n,l):function(e,t,n,l){const i=e.Su(1,t,n);__PRIVATE_validatePlainObject("Data must be an object, but it was:",i,l);const s=[],o=ObjectValue.empty();forEach(l,((e,l)=>{const u=__PRIVATE_fieldPathFromDotSeparatedString(t,e,n);l=getModularInstance(l);const d=i.fu(u);if(l instanceof __PRIVATE_DeleteFieldValueImpl)s.push(u);else{const e=__PRIVATE_parseData(l,d);null!=e&&(s.push(u),o.set(u,e))}}));const u=new FieldMask(s);return new ParsedUpdateData(o,u,i.fieldTransforms)}(s,"updateDoc",e._key,t),executeWrite(i,[o.toMutation(e._key,Precondition.exists(!0))])}function deleteDoc$1(e){return executeWrite(__PRIVATE_cast(e.firestore,fo),[new __PRIVATE_DeleteMutation(e._key,Precondition.none())])}function addDoc$1(e,t){const n=__PRIVATE_cast(e.firestore,fo),l=doc$1(e),i=function(e,t,n){let l;return l=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,l}(e.converter,t);return executeWrite(n,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(e.firestore),"addDoc",l._key,i,null!==e.converter,{}).toMutation(l._key,Precondition.exists(!1))]).then((()=>l))}function onSnapshot$1(e,...t){var n,l,i;e=getModularInstance(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||__PRIVATE_isPartialObserver(t[o])||(s=t[o],o++);const u={includeMetadataChanges:s.includeMetadataChanges};if(__PRIVATE_isPartialObserver(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let d,h,m;if(e instanceof DocumentReference)h=__PRIVATE_cast(e.firestore,fo),m=__PRIVATE_newQueryForPath(e._key.path),d={next:n=>{t[o]&&t[o](function(e,t,n){const l=n.docs.get(t._key),i=new __PRIVATE_ExpUserDataWriter(e);return new DocumentSnapshot(e,i,t._key,l,new SnapshotMetadata(n.hasPendingWrites,n.fromCache),t.converter)}(h,e,n))},error:t[o+1],complete:t[o+2]};else{const n=__PRIVATE_cast(e,Query);h=__PRIVATE_cast(n.firestore,fo),m=n._query;const l=new __PRIVATE_ExpUserDataWriter(h);d={next:e=>{t[o]&&t[o](new QuerySnapshot(h,l,n,e))},error:t[o+1],complete:t[o+2]},function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new FirestoreError(lo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query)}return function(e,t,n,l){const i=new __PRIVATE_AsyncObserver(l),s=new __PRIVATE_QueryListener(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=__PRIVATE_debugCast(e),l=t.query;let i=!1,s=n.queries.get(l);if(s||(i=!0,s=new __PRIVATE_QueryListenersInfo),i)try{s.q_=await n.onListen(l)}catch(e){const n=__PRIVATE_wrapInUserErrorIfRecoverable(e,`Initialization of query '${__PRIVATE_stringifyQuery(t.query)}' failed`);return void t.onError(n)}n.queries.set(l,s),s.Q_.push(t),t.U_(n.onlineState),s.q_&&t.W_(s.q_)&&__PRIVATE_raiseSnapshotsInSyncEvent(n)}(await __PRIVATE_getEventManager(e),s))),()=>{i.La(),e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=__PRIVATE_debugCast(e),l=t.query;let i=!1;const s=n.queries.get(l);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),i=0===s.Q_.length)}if(i)return n.queries.delete(l),n.onUnlisten(l)}(await __PRIVATE_getEventManager(e),s)))}}(ensureFirestoreConfigured(h),m,u,d)}function executeWrite(e,t){return function(e,t){const n=new __PRIVATE_Deferred;return e.asyncQueue.enqueueAndForget((async()=>__PRIVATE_syncEngineWrite(await function(e){return __PRIVATE_ensureOnlineComponents(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(ensureFirestoreConfigured(e),t)}function serverTimestamp$1(){return new __PRIVATE_ServerTimestampFieldValueImpl("serverTimestamp")}!function(e,t=!0){!function(e){to=e}(Bl),_registerComponent(new Component("firestore",((e,{instanceIdentifier:n,options:l})=>{const i=e.getProvider("app").getImmediate(),s=new fo(new __PRIVATE_FirebaseAuthCredentialsProvider(e.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new FirestoreError(lo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(e.options.projectId,t)}(i,n),i);return l=Object.assign({useFetchStreams:t},l),s._setSettings(l),s}),"PUBLIC").setMultipleInstances(!0)),registerVersion(eo,"4.4.3",e),registerVersion(eo,"4.4.3","esm2017")}();var __async$1=(e,t,n)=>new Promise(((l,i)=>{var fulfilled=e=>{try{step(n.next(e))}catch(e){i(e)}},rejected=e=>{try{step(n.throw(e))}catch(e){i(e)}},step=e=>e.done?l(e.value):Promise.resolve(e.value).then(fulfilled,rejected);step((n=n.apply(e,t)).next())}));function defaultEquals(e,t){return Object.is(e,t)}let Yo=null,Ko=!1,xo=1;const No=Symbol("SIGNAL");function setActiveConsumer(e){const t=Yo;return Yo=e,t}const To={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function producerAccessed(e){if(Ko)throw new Error("");if(null===Yo)return;Yo.consumerOnSignalRead(e);const t=Yo.nextProducerIndex++;if(assertConsumerNode(Yo),t<Yo.producerNode.length&&Yo.producerNode[t]!==e&&consumerIsLive(Yo)){producerRemoveLiveConsumerAtIndex(Yo.producerNode[t],Yo.producerIndexOfThis[t])}Yo.producerNode[t]!==e&&(Yo.producerNode[t]=e,Yo.producerIndexOfThis[t]=consumerIsLive(Yo)?producerAddLiveConsumer(e,Yo,t):0),Yo.producerLastReadVersion[t]=e.version}function producerUpdateValueVersion(e){if((!consumerIsLive(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==xo)){if(!e.producerMustRecompute(e)&&!consumerPollProducersForChange(e))return e.dirty=!1,void(e.lastCleanEpoch=xo);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=xo}}function producerNotifyConsumers(e){if(void 0===e.liveConsumerNode)return;const t=Ko;Ko=!0;try{for(const t of e.liveConsumerNode)t.dirty||consumerMarkDirty(t)}finally{Ko=t}}function producerUpdatesAllowed(){return!1!==Yo?.consumerAllowSignalWrites}function consumerMarkDirty(e){e.dirty=!0,producerNotifyConsumers(e),e.consumerMarkedDirty?.(e)}function consumerBeforeComputation(e){return e&&(e.nextProducerIndex=0),setActiveConsumer(e)}function consumerAfterComputation(e,t){if(setActiveConsumer(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(consumerIsLive(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)producerRemoveLiveConsumerAtIndex(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function consumerPollProducersForChange(e){assertConsumerNode(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],l=e.producerLastReadVersion[t];if(l!==n.version)return!0;if(producerUpdateValueVersion(n),l!==n.version)return!0}return!1}function consumerDestroy(e){if(assertConsumerNode(e),consumerIsLive(e))for(let t=0;t<e.producerNode.length;t++)producerRemoveLiveConsumerAtIndex(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function producerAddLiveConsumer(e,t,n){if(assertProducerNode(e),assertConsumerNode(e),0===e.liveConsumerNode.length)for(let t=0;t<e.producerNode.length;t++)e.producerIndexOfThis[t]=producerAddLiveConsumer(e.producerNode[t],e,t);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function producerRemoveLiveConsumerAtIndex(e,t){if(assertProducerNode(e),assertConsumerNode(e),1===e.liveConsumerNode.length)for(let t=0;t<e.producerNode.length;t++)producerRemoveLiveConsumerAtIndex(e.producerNode[t],e.producerIndexOfThis[t]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[t],l=e.liveConsumerNode[t];assertConsumerNode(l),l.producerIndexOfThis[n]=t}}function consumerIsLive(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function assertConsumerNode(e){e.producerNode??(e.producerNode=[]),e.producerIndexOfThis??(e.producerIndexOfThis=[]),e.producerLastReadVersion??(e.producerLastReadVersion=[])}function assertProducerNode(e){e.liveConsumerNode??(e.liveConsumerNode=[]),e.liveConsumerIndexOfThis??(e.liveConsumerIndexOfThis=[])}let throwInvalidWriteToSignalErrorFn=function(){throw new Error};function throwInvalidWriteToSignalError(){throwInvalidWriteToSignalErrorFn()}function signalSetFn(e,t){producerUpdatesAllowed()||throwInvalidWriteToSignalError(),e.equal(e.value,t)||(e.value=t,function(e){e.version++,xo++,producerNotifyConsumers(e)}(e))}const vo=(()=>({...To,equal:defaultEquals,value:void 0}))();function createWatch(e,t,n){const l=Object.create(ko);n&&(l.consumerAllowSignalWrites=!0),l.fn=e,l.schedule=t;const registerOnCleanup=e=>{l.cleanupFn=e};return l.ref={notify:()=>consumerMarkDirty(l),run:()=>{if(null===l.fn)return;if(Ko)throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(l.dirty=!1,l.hasRun&&!consumerPollProducersForChange(l))return;l.hasRun=!0;const e=consumerBeforeComputation(l);try{l.cleanupFn(),l.cleanupFn=NOOP_CLEANUP_FN,l.fn(registerOnCleanup)}finally{consumerAfterComputation(l,e)}},cleanup:()=>l.cleanupFn(),destroy:()=>{var e;(function(e){return null===e.fn&&null===e.schedule})(e=l)||(consumerDestroy(e),e.cleanupFn(),e.fn=null,e.schedule=null,e.cleanupFn=NOOP_CLEANUP_FN)},[No]:l},l.ref}const NOOP_CLEANUP_FN=()=>{},ko=(()=>({...To,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:NOOP_CLEANUP_FN}))(),Co="https://g.co/ng/security#xss";class RuntimeError extends Error{constructor(e,t){super(formatRuntimeError(e,t)),this.code=e}}function formatRuntimeError(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function _wrapInTimeout(e){return t=>{setTimeout(e,void 0,t)}}const Ho=class extends tl{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let l=e,i=t||(()=>null),s=n;if(e&&"object"==typeof e){const t=e;l=t.next?.bind(t),i=t.error?.bind(t),s=t.complete?.bind(t)}this.__isAsync&&(i=_wrapInTimeout(i),l&&(l=_wrapInTimeout(l)),s&&(s=_wrapInTimeout(s)));const o=super.subscribe({next:l,error:i,complete:s});return e instanceof En&&e.add(o),o}};var Jo=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Jo||{});function stringify$1(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(stringify$1).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function concatStringsWithSpace(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var Fo=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Fo||{}),zo=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(zo||{});function noSideEffects(e){return{toString:e}.toString()}const Uo=globalThis,Eo={},Mo=[];function getClosureSafeProperty(e){for(let t in e)if(e[t]===getClosureSafeProperty)return t;throw Error("Could not find renamed property on target object.")}const wo=getClosureSafeProperty({"cmp":getClosureSafeProperty}),Po=getClosureSafeProperty({"dir":getClosureSafeProperty}),jo=getClosureSafeProperty({"pipe":getClosureSafeProperty}),Bo=getClosureSafeProperty({"mod":getClosureSafeProperty}),Qo=getClosureSafeProperty({"fac":getClosureSafeProperty}),_o=getClosureSafeProperty({__NG_ELEMENT_ID__:getClosureSafeProperty}),Do=getClosureSafeProperty({__NG_ENV_ID__:getClosureSafeProperty});var Oo=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Oo||{});function classIndexOf(e,t,n){let l=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===l||e.charCodeAt(i+n)<=32)return i}n=i+1}}function setUpAttributes(e,t,n){let l=0;for(;l<n.length;){const i=n[l];if("number"==typeof i){if(0!==i)break;l++;const s=n[l++],o=n[l++],u=n[l++];e.setAttribute(t,o,u,s)}else{const s=i,o=n[++l];isAnimationProp(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),l++}}return l}function isNameOnlyAttributeMarker(e){return 3===e||4===e||6===e}function isAnimationProp(e){return 64===e.charCodeAt(0)}function mergeHostAttrs(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let l=0;l<t.length;l++){const i=t[l];"number"==typeof i?n=i:0===n||mergeHostAttribute(e,n,i,null,-1===n||2===n?t[++l]:null)}}return e}function mergeHostAttribute(e,t,n,l,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===l)return void(null!==i&&(e[s+1]=i));if(l===e[s+1])return void(e[s+2]=i)}s++,null!==l&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==l&&e.splice(s++,0,l),null!==i&&e.splice(s++,0,i)}const Ao="ng-template";function isCssClassMatching(e,t,n){let l=0,i=!0;for(;l<e.length;){let s=e[l++];if("string"==typeof s&&i){const i=e[l++];if(n&&"class"===s&&-1!==classIndexOf(i.toLowerCase(),t,0))return!0}else{if(1===s){for(;l<e.length&&"string"==typeof(s=e[l++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function isInlineTemplate(e){return 4===e.type&&e.value!==Ao}function hasTagAndTypeMatch(e,t,n){return t===(4!==e.type||n?e.value:Ao)}function isNodeMatchingSelector(e,t,n){let l=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++){if(isNameOnlyAttributeMarker(e[t]))return t}return e.length}(i);let o=!1;for(let u=0;u<t.length;u++){const d=t[u];if("number"!=typeof d){if(!o)if(4&l){if(l=2|1&l,""!==d&&!hasTagAndTypeMatch(e,d,n)||""===d&&1===t.length){if(isPositive(l))return!1;o=!0}}else{const h=8&l?d:t[++u];if(8&l&&null!==e.attrs){if(!isCssClassMatching(e.attrs,h,n)){if(isPositive(l))return!1;o=!0}continue}const m=findAttrIndexInNode(8&l?"class":d,i,isInlineTemplate(e),n);if(-1===m){if(isPositive(l))return!1;o=!0;continue}if(""!==h){let e;e=m>s?"":i[m+1].toLowerCase();const t=8&l?e:null;if(t&&-1!==classIndexOf(t,h,0)||2&l&&h!==e){if(isPositive(l))return!1;o=!0}}}}else{if(!o&&!isPositive(l)&&!isPositive(d))return!1;if(o&&isPositive(d))continue;o=!1,l=d|1&l}}return isPositive(l)||o}function isPositive(e){return 0==(1&e)}function findAttrIndexInNode(e,t,n,l){if(null===t)return-1;let i=0;if(l||!n){let n=!1;for(;i<t.length;){const l=t[i];if(l===e)return i;if(3===l||6===l)n=!0;else{if(1===l||2===l){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===l)break;if(0===l){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const l=e[n];if("number"==typeof l)return-1;if(l===t)return n;n++}return-1}(t,e)}function isNodeMatchingSelectorList(e,t,n=!1){for(let l=0;l<t.length;l++)if(isNodeMatchingSelector(e,t[l],n))return!0;return!1}function maybeWrapInNotSelector(e,t){return e?":not("+t.trim()+")":t}function stringifyCSSSelector(e){let t=e[0],n=1,l=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&l){const t=e[++n];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&l?i+="."+o:4&l&&(i+=" "+o);else""===i||isPositive(o)||(t+=maybeWrapInNotSelector(s,i),i=""),l=o,s=s||!isPositive(l);n++}return""!==i&&(t+=maybeWrapInNotSelector(s,i)),t}function defineComponent(e){return noSideEffects((()=>{const t=getNgDirectiveDef(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Fo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||zo.Emulated,styles:e.styles||Mo,_:null,schemas:e.schemas||null,tView:null,id:""};initFeatures(n);const l=e.dependencies;return n.directiveDefs=extractDefListOrFactory(l,!1),n.pipeDefs=extractDefListOrFactory(l,!0),n.id=function(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const e of n)t=Math.imul(31,t)+e.charCodeAt(0)<<0;t+=2147483648;const l="c"+t;return l}(n),n}))}function extractDirectiveDef(e){return getComponentDef(e)||getDirectiveDef(e)}function nonNull(e){return null!==e}function defineNgModule(e){return noSideEffects((()=>({type:e.type,bootstrap:e.bootstrap||Mo,declarations:e.declarations||Mo,imports:e.imports||Mo,exports:e.exports||Mo,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null})))}function parseAndConvertBindingsForDefinition(e,t){if(null==e)return Eo;const n={};for(const l in e)if(e.hasOwnProperty(l)){const i=e[l];let s,o,u=Oo.None;Array.isArray(i)?(u=i[0],s=i[1],o=i[2]??s):(s=i,o=i),t?(n[s]=u!==Oo.None?[l,u]:l,t[s]=o):n[s]=l}return n}function defineDirective(e){return noSideEffects((()=>{const t=getNgDirectiveDef(e);return initFeatures(t),t}))}function definePipe(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function getComponentDef(e){return e[wo]||null}function getDirectiveDef(e){return e[Po]||null}function getPipeDef$1(e){return e[jo]||null}function getNgModuleDef(e,t){const n=e[Bo]||null;if(!n&&!0===t)throw new Error(`Type ${stringify$1(e)} does not have 'mod' property.`);return n}function getNgDirectiveDef(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Eo,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Mo,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:parseAndConvertBindingsForDefinition(e.inputs,t),outputs:parseAndConvertBindingsForDefinition(e.outputs),debugInfo:null}}function initFeatures(e){e.features?.forEach((t=>t(e)))}function extractDefListOrFactory(e,t){if(!e)return null;const n=t?getPipeDef$1:extractDirectiveDef;return()=>("function"==typeof e?e():e).map((e=>n(e))).filter(nonNull)}const qo=0,$o=1,ec=2,tc=3,cc=4,Xc=5,Vc=6,Wc=7,Ic=8,fc=9,Lc=10,Yc=11,Tc=12,Jc=13,Uc=14,Mc=15,_c=16,ta=17,la=18,ia=19,sa=20,oa=21,ca=22,ra=23,ua=25,da=1,ba=6,Ga=7,Xa=9,Va=10;var Wa=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Wa||{});function isLView(e){return Array.isArray(e)&&"object"==typeof e[da]}function isLContainer(e){return Array.isArray(e)&&!0===e[da]}function isContentQueryHost(e){return 0!=(4&e.flags)}function isComponentHost(e){return e.componentOffset>-1}function isDirectiveHost(e){return 1==(1&e.flags)}function isComponentDef(e){return!!e.template}function isRootView(e){return 0!=(512&e[ec])}function isProjectionTNode(e){return 16==(16&e.type)}function unwrapRNode(e){for(;Array.isArray(e);)e=e[qo];return e}function unwrapLView(e){for(;Array.isArray(e);){if("object"==typeof e[da])return e;e=e[qo]}return null}function getNativeByIndex(e,t){return unwrapRNode(t[e])}function getNativeByTNode(e,t){return unwrapRNode(t[e.index])}function getTNode(e,t){return e.data[t]}function getComponentLViewByIndex(e,t){const n=t[e];return isLView(n)?n:n[qo]}function viewAttachedToChangeDetector(e){return 128==(128&e[ec])}function getConstant(e,t){return null==t?null:e[t]}function resetPreOrderHookFlags(e){e[ta]=0}function markViewForRefresh(e){1024&e[ec]||(e[ec]|=1024,viewAttachedToChangeDetector(e)&&markAncestorsForTraversal(e))}function requiresRefreshOrTraversal(e){return!!(9216&e[ec]||e[ra]?.dirty)}function updateAncestorTraversalFlagsOnAttach(e){requiresRefreshOrTraversal(e)?markAncestorsForTraversal(e):64&e[ec]&&e[Lc].changeDetectionScheduler?.notify()}function markAncestorsForTraversal(e){e[Lc].changeDetectionScheduler?.notify();let t=getLViewParent(e);for(;null!==t&&!(8192&t[ec])&&(t[ec]|=8192,viewAttachedToChangeDetector(t));)t=getLViewParent(t)}function storeLViewOnDestroy(e,t){if(256==(256&e[ec]))throw new RuntimeError(911,!1);null===e[oa]&&(e[oa]=[]),e[oa].push(t)}function getLViewParent(e){const t=e[tc];return isLContainer(t)?t[tc]:t}const ga={lFrame:createLFrame(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function isInSkipHydrationBlock$1(){return null!==ga.skipHydrationRootTNode}function getLView(){return ga.lFrame.lView}function getTView(){return ga.lFrame.tView}function restoreView(e){return ga.lFrame.contextLView=e,e[Ic]}function resetView(e){return ga.lFrame.contextLView=null,e}function getCurrentTNode(){let e=getCurrentTNodePlaceholderOk();for(;null!==e&&64===e.type;)e=e.parent;return e}function getCurrentTNodePlaceholderOk(){return ga.lFrame.currentTNode}function setCurrentTNode(e,t){const n=ga.lFrame;n.currentTNode=e,n.isParent=t}function isCurrentTNodeParent(){return ga.lFrame.isParent}function nextBindingIndex(){return ga.lFrame.bindingIndex++}function setBindingRootForHostBindings(e,t){const n=ga.lFrame;n.bindingIndex=n.bindingRootIndex=e,setCurrentDirectiveIndex(t)}function setCurrentDirectiveIndex(e){ga.lFrame.currentDirectiveIndex=e}function setCurrentQueryIndex(e){ga.lFrame.currentQueryIndex=e}function getDeclarationTNode(e){const t=e[$o];return 2===t.type?t.declTNode:1===t.type?e[Xc]:null}function enterDI(e,t,n){if(n&Jo.SkipSelf){let l=t,i=e;for(;!(l=l.parent,null!==l||n&Jo.Host||(l=getDeclarationTNode(i),null===l)||(i=i[Uc],10&l.type)););if(null===l)return!1;t=l,e=i}const l=ga.lFrame=allocLFrame();return l.currentTNode=t,l.lView=e,!0}function enterView(e){const t=allocLFrame(),n=e[$o];ga.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function allocLFrame(){const e=ga.lFrame,t=null===e?null:e.child;return null===t?createLFrame(e):t}function createLFrame(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function leaveViewLight(){const e=ga.lFrame;return ga.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ia=leaveViewLight;function leaveView(){const e=leaveViewLight();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function nextContextImpl(e){return(ga.lFrame.contextLView=function(e,t){for(;e>0;)t=t[Uc],e--;return t}(e,ga.lFrame.contextLView))[Ic]}function getSelectedIndex(){return ga.lFrame.selectedIndex}function setSelectedIndex(e){ga.lFrame.selectedIndex=e}function getNamespace$1(){return ga.lFrame.currentNamespace}let La=!0;function wasLastNodeCreated(){return La}function lastNodeWasCreated(e){La=e}function injectElementRef(){return createElementRef(getCurrentTNode(),getLView())}function createElementRef(e,t){return new Ka(getNativeByTNode(e,t))}let Ka=(()=>{class ElementRef2{constructor(e){this.nativeElement=e}}return ElementRef2.__NG_ELEMENT_ID__=injectElementRef,ElementRef2})();function deepForEach(e,t){e.forEach((e=>Array.isArray(e)?deepForEach(e,t):t(e)))}function addToArray(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function removeFromArray(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function keyValueArraySet(e,t,n){let l=keyValueArrayIndexOf(e,t);return l>=0?e[1|l]=n:(l=~l,function(e,t,n,l){let i=e.length;if(i==t)e.push(n,l);else if(1===i)e.push(l,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){const t=i-2;e[i]=e[t],i--}e[t]=n,e[t+1]=l}}(e,l,t,n)),l}function keyValueArrayGet(e,t){const n=keyValueArrayIndexOf(e,t);if(n>=0)return e[1|n]}function keyValueArrayIndexOf(e,t){return function(e,t,n){let l=0,i=e.length>>n;for(;i!==l;){const s=l+(i-l>>1),o=e[s<<n];if(t===o)return s<<n;o>t?i=s:l=s+1}return~(i<<n)}(e,t,1)}const xa="ngSkipHydration",va="ngskiphydration";function hasSkipHydrationAttrOnTNode(e){const t=e.mergedAttrs;if(null===t)return!1;for(let e=0;e<t.length;e+=2){const n=t[e];if("number"==typeof n)return!1;if("string"==typeof n&&n.toLowerCase()===va)return!0}return!1}function hasSkipHydrationAttrOnRElement(e){return e.hasAttribute(xa)}function hasInSkipHydrationBlockFlag(e){return 128==(128&e.flags)}function isInSkipHydrationBlock(e){if(hasInSkipHydrationBlockFlag(e))return!0;let t=e.parent;for(;t;){if(hasInSkipHydrationBlockFlag(e)||hasSkipHydrationAttrOnTNode(t))return!0;t=t.parent}return!1}let ka;function setDocument(e){ka=e}function getDocument(){if(void 0!==ka)return ka;if("undefined"!=typeof document)return document;throw new RuntimeError(210,!1)}function defineInjectable(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function defineInjector(e){return{providers:e.providers||[],imports:e.imports||[]}}function getInjectableDef(e){return getOwnDefinition(e,Ca)||getOwnDefinition(e,Fa)}function getOwnDefinition(e,t){return e.hasOwnProperty(t)?e[t]:null}function getInjectorDef(e){return e&&(e.hasOwnProperty(Ha)||e.hasOwnProperty(za))?e[Ha]:null}const Ca=getClosureSafeProperty({"prov":getClosureSafeProperty}),Ha=getClosureSafeProperty({"inj":getClosureSafeProperty}),Fa=getClosureSafeProperty({ngInjectableDef:getClosureSafeProperty}),za=getClosureSafeProperty({ngInjectorDef:getClosureSafeProperty});class InjectionToken{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.prov=defineInjectable({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ea=new InjectionToken("",{providedIn:"root",factory:()=>wa}),wa="ng",ja=new InjectionToken(""),Ba=new InjectionToken("",{providedIn:"platform",factory:()=>"unknown"}),Qa=new InjectionToken(""),_a=new InjectionToken("",{providedIn:"root",factory:()=>getDocument().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Da=getClosureSafeProperty({__forward_ref__:getClosureSafeProperty});function forwardRef(e){return e.__forward_ref__=forwardRef,e.toString=function(){return stringify$1(this())},e}function resolveForwardRef(e){return isForwardRef(e)?e():e}function isForwardRef(e){return"function"==typeof e&&e.hasOwnProperty(Da)&&e.__forward_ref__===forwardRef}let Oa;function isEnvironmentProviders(e){return e&&!!e.providers}function renderStringify(e){return"string"==typeof e?e:null==e?"":String(e)}function stringifyForError(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():renderStringify(e)}function throwProviderNotFoundError(e,t){throw new RuntimeError(-201,!1)}function getInjectImplementation(){return Oa}function setInjectImplementation(e){const t=Oa;return Oa=e,t}function injectRootLimpMode(e,t,n){const l=getInjectableDef(e);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:n&Jo.Optional?null:void 0!==t?t:void throwProviderNotFoundError()}const Aa={},er="__NG_DI_FLAG__",tr="ngTempTokenPath",nr=/\n/gm,lr="",ir="__source";let sr;function setCurrentInjector(e){const t=sr;return sr=e,t}function injectInjectorOnly(e,t=Jo.Default){if(void 0===sr)throw new RuntimeError(-203,!1);if(null===sr)return injectRootLimpMode(e,void 0,t);return sr.get(e,t&Jo.Optional?null:void 0,t)}function inject(e,t=Jo.Default){return(getInjectImplementation()||injectInjectorOnly)(resolveForwardRef(e),t)}function inject(e,t=Jo.Default){return inject(e,convertToBitFlags(t))}function convertToBitFlags(e){return void 0===e||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function injectArgs(e){const t=[];for(let n=0;n<e.length;n++){const l=resolveForwardRef(e[n]);if(Array.isArray(l)){if(0===l.length)throw new RuntimeError(900,!1);let e,n=Jo.Default;for(let t=0;t<l.length;t++){const i=l[t],s=i[er];"number"==typeof s?-1===s?e=i.token:n|=s:e=i}t.push(inject(e,n))}else t.push(inject(l))}return t}function attachInjectFlag(e,t){return e[er]=t,e.prototype[er]=t,e}function catchInjectorError(e,t,n,l){const i=e[tr];throw t[ir]&&i.unshift(t[ir]),e.message=function(e,t,n,l=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==lr?e.slice(2):e;let i=stringify$1(t);if(Array.isArray(t))i=t.map(stringify$1).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let l=t[n];e.push(n+":"+("string"==typeof l?JSON.stringify(l):stringify$1(l)))}i=`{${e.join(", ")}}`}return`${n}${l?"("+l+")":""}[${i}]: ${e.replace(nr,"\n  ")}`}("\n"+e.message,i,n,l),e.ngTokenPath=i,e[tr]=null,e}function makeStateKey(e){return e}function initTransferState(){const e=new or;return"browser"===inject(Ba)&&(e.store=function(e,t){const n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(e){console.warn("Exception while restoring TransferState for app "+t,e)}return{}}(getDocument(),inject(Ea))),e}let or=(()=>{var e;class TransferState2{constructor(){this.store={},this.onSerializeCallbacks={}}get(e,t){return void 0!==this.store[e]?this.store[e]:t}set(e,t){this.store[e]=t}remove(e){delete this.store[e]}hasKey(e){return this.store.hasOwnProperty(e)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(e,t){this.onSerializeCallbacks[e]=t}toJson(){for(const e in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(e))try{this.store[e]=this.onSerializeCallbacks[e]()}catch(e){console.warn("Exception in onSerialize callback: ",e)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return(e=TransferState2).prov=defineInjectable({token:e,providedIn:"root",factory:initTransferState}),TransferState2})();const cr="h",ar="b";var rr=function(e){return e.FirstChild="f",e.NextSibling="n",e}(rr||{});const ur="e",dr="t",hr="c",mr="x",br="r",pr="i",Zr="n",yr="d",Gr=makeStateKey("__nghData__"),Xr="ngh",Vr="nghm";let _retrieveHydrationInfoImpl=()=>null;function retrieveHydrationInfoImpl(e,t,n=!1){let l=e.getAttribute(Xr);if(null==l)return null;const[i,s]=l.split("|");if(l=n?s:i,!l)return null;const o=n?i:s?`|${s}`:"";let u={};if(""!==l){const e=t.get(or,null,{optional:!0});if(null!==e){u=e.get(Gr,[])[Number(l)]}}const d={data:u,firstChild:e.firstChild??null};return n&&(d.firstChild=e,setSegmentHead(d,0,e.nextSibling)),o?e.setAttribute(Xr,o):e.removeAttribute(Xr),d}function retrieveHydrationInfo(e,t,n=!1){return _retrieveHydrationInfoImpl(e,t,n)}function getLNodeForHydration(e){let t=e._lView;return 2===t[$o].type?null:(isRootView(t)&&(t=t[ua]),t)}function setSegmentHead(e,t,n){e.segmentHeads??(e.segmentHeads={}),e.segmentHeads[t]=n}function getSegmentHead(e,t){return e.segmentHeads?.[t]??null}function getSerializedContainerViews(e,t){return e.data[hr]?.[t]??null}function calcSerializedContainerSize(e,t){const n=getSerializedContainerViews(e,t)??[];let l=0;for(let e of n)l+=e[br]*(e[mr]??1);return l}function isDisconnectedNode$1(e,t){if(void 0===e.disconnectedNodes){const t=e.data[yr];e.disconnectedNodes=t?new Set(t):null}return!!e.disconnectedNodes?.has(t)}const Wr="__parameters__";function makeParamDecorator(e,t,n){return noSideEffects((()=>{const l=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function ParamDecoratorFactory(...e){if(this instanceof ParamDecoratorFactory)return l.apply(this,e),this;const t=new ParamDecoratorFactory(...e);return ParamDecorator.annotation=t,ParamDecorator;function ParamDecorator(e,n,l){const i=e.hasOwnProperty(Wr)?e[Wr]:Object.defineProperty(e,Wr,{value:[]})[Wr];for(;i.length<=l;)i.push(null);return(i[l]=i[l]||[]).push(t),e}}return n&&(ParamDecoratorFactory.prototype=Object.create(n.prototype)),ParamDecoratorFactory.prototype.ngMetadataName=e,ParamDecoratorFactory.annotationCls=ParamDecoratorFactory,ParamDecoratorFactory}))}const Rr=attachInjectFlag(makeParamDecorator("Optional"),8);function getFactoryDef(e,t){const n=e.hasOwnProperty(Qo);return n?e[Qo]:null}const gr=new InjectionToken(""),Ir=new InjectionToken("",-1),fr=new InjectionToken("");class NullInjector{get(e,t=Aa){if(t===Aa){const t=new Error(`NullInjectorError: No provider for ${stringify$1(e)}!`);throw t.name="NullInjectorError",t}return t}}function makeEnvironmentProviders(e){return{"providers":e}}function importProvidersFrom(...e){return{"providers":internalImportProvidersFrom(!0,e),"fromNgModule":!0}}function internalImportProvidersFrom(e,...t){const n=[],l=new Set;let i;const collectProviders=e=>{n.push(e)};return deepForEach(t,(e=>{const t=e;walkProviderTree(t,collectProviders,[],l)&&(i||(i=[]),i.push(t))})),void 0!==i&&processInjectorTypesWithProviders(i,collectProviders),n}function processInjectorTypesWithProviders(e,t){for(let n=0;n<e.length;n++){const{ngModule:l,providers:i}=e[n];deepForEachProvider(i,(e=>{t(e,l)}))}}function walkProviderTree(e,t,n,l){if(!(e=resolveForwardRef(e)))return!1;let i=null,s=getInjectorDef(e);const o=!s&&getComponentDef(e);if(s||o){if(o&&!o.standalone)return!1;i=e}else{const t=e.ngModule;if(s=getInjectorDef(t),!s)return!1;i=t}const u=l.has(i);if(o){if(u)return!1;if(l.add(i),o.dependencies){const e="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const i of e)walkProviderTree(i,t,n,l)}}else{if(!s)return!1;{if(null!=s.imports&&!u){let e;l.add(i);try{deepForEach(s.imports,(i=>{walkProviderTree(i,t,n,l)&&(e||(e=[]),e.push(i))}))}finally{}void 0!==e&&processInjectorTypesWithProviders(e,t)}if(!u){const e=getFactoryDef(i)||(()=>new i);t({provide:i,useFactory:e,deps:Mo},i),t({provide:fr,useValue:i,multi:!0},i),t({provide:gr,useValue:()=>inject(i),multi:!0},i)}const o=s.providers;if(null!=o&&!u){const n=e;deepForEachProvider(o,(e=>{t(e,n)}))}}}return i!==e&&void 0!==e.providers}function deepForEachProvider(e,t){for(let n of e)isEnvironmentProviders(n)&&(n=n.providers),Array.isArray(n)?deepForEachProvider(n,t):t(n)}const Sr=getClosureSafeProperty({provide:String,useValue:getClosureSafeProperty});function isValueProvider(e){return null!==e&&"object"==typeof e&&Sr in e}function isTypeProvider(e){return"function"==typeof e}const Lr=new InjectionToken(""),Yr={},Kr={};let xr;function getNullInjector(){return void 0===xr&&(xr=new NullInjector),xr}class EnvironmentInjector{}class R3Injector extends EnvironmentInjector{get destroyed(){return this._destroyed}constructor(e,t,n,l){super(),this.parent=t,this.source=n,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,forEachSingleProvider(e,(e=>this.processProvider(e))),this.records.set(Ir,makeRecord(void 0,this)),l.has("environment")&&this.records.set(EnvironmentInjector,makeRecord(void 0,this));const i=this.records.get(Lr);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(fr,Mo,Jo.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=setCurrentInjector(this),n=setInjectImplementation(void 0);try{return e()}finally{setCurrentInjector(t),setInjectImplementation(n)}}get(e,t=Aa,n=Jo.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Do))return e[Do](this);n=convertToBitFlags(n);const l=setCurrentInjector(this),i=setInjectImplementation(void 0);try{if(!(n&Jo.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(s=e)||"object"==typeof s&&s instanceof InjectionToken)&&getInjectableDef(e);t=n&&this.injectableDefInScope(n)?makeRecord(injectableDefOrInjectorDefFactory(e),Yr):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}const l=n&Jo.Self?getNullInjector():this.parent;return t=n&Jo.Optional&&t===Aa?null:t,l.get(e,t)}catch(t){if("NullInjectorError"===t.name){if((t[tr]=t[tr]||[]).unshift(stringify$1(e)),l)throw t;return catchInjectorError(t,e,"R3InjectorError",this.source)}throw t}finally{setInjectImplementation(i),setCurrentInjector(l)}var s}resolveInjectorInitializers(){const e=setCurrentInjector(this),t=setInjectImplementation(void 0);try{const e=this.get(gr,Mo,Jo.Self);0;for(const t of e)t()}finally{setCurrentInjector(e),setInjectImplementation(t)}}toString(){const e=[],t=this.records;for(const n of t.keys())e.push(stringify$1(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new RuntimeError(205,!1)}processProvider(e){let t=isTypeProvider(e=resolveForwardRef(e))?e:resolveForwardRef(e&&e.provide);const n=function(e){if(isValueProvider(e))return makeRecord(void 0,e.useValue);{const t=function(e,t,n){let l;if(isTypeProvider(e)){const t=resolveForwardRef(e);return getFactoryDef(t)||injectableDefOrInjectorDefFactory(t)}if(isValueProvider(e))l=()=>resolveForwardRef(e.useValue);else if((i=e)&&i.useFactory)l=()=>e.useFactory(...injectArgs(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))l=()=>inject(resolveForwardRef(e.useExisting));else{const t=resolveForwardRef(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return getFactoryDef(t)||injectableDefOrInjectorDefFactory(t);l=()=>new t(...injectArgs(e.deps))}var i;return l}(e);return makeRecord(t,Yr)}}(e);if(!isTypeProvider(e)&&!0===e.multi){let n=this.records.get(t);n||(n=makeRecord(void 0,Yr,!0),n.factory=()=>injectArgs(n.multi),this.records.set(t,n)),t=e,n.multi.push(e)}this.records.set(t,n)}hydrate(e,t){var n;return t.value===Yr&&(t.value=Kr,t.value=t.factory()),"object"==typeof t.value&&t.value&&(null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=resolveForwardRef(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function injectableDefOrInjectorDefFactory(e){const t=getInjectableDef(e),n=null!==t?t.factory:getFactoryDef(e);if(null!==n)return n;if(e instanceof InjectionToken)throw new RuntimeError(204,!1);if(e instanceof Function)return function(e){const t=e.length;if(t>0)throw new RuntimeError(204,!1);const n=function(e){const t=e&&(e[Ca]||e[Fa]);return t||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new RuntimeError(204,!1)}function makeRecord(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function forEachSingleProvider(e,t){for(const n of e)Array.isArray(n)?forEachSingleProvider(n,t):n&&isEnvironmentProviders(n)?forEachSingleProvider(n.providers,t):t(n)}function runInInjectionContext(e,t){e instanceof R3Injector&&e.assertNotDestroyed();const n=setCurrentInjector(e),l=setInjectImplementation(void 0);try{return t()}finally{setCurrentInjector(n),setInjectImplementation(l)}}function assertInInjectionContext(e){if(!getInjectImplementation()&&!sr)throw new RuntimeError(-203,!1)}class SimpleChange{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function applyValueToInputField(e,t,n,l){null!==t?t.applyValueToInputSignal(t,l):e[n]=l}function NgOnChangesFeature(){return NgOnChangesFeatureImpl}function NgOnChangesFeatureImpl(e){return e.type.prototype.ngOnChanges&&(e.setInput=ngOnChangesSetInput),rememberChangeHistoryAndInvokeOnChangesHook}function rememberChangeHistoryAndInvokeOnChangesHook(){const e=getSimpleChangesStore(this),t=e?.current;if(t){const n=e.previous;if(n===Eo)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function ngOnChangesSetInput(e,t,n,l,i){const s=this.declaredInputs[l],o=getSimpleChangesStore(e)||function(e,t){return e[Nr]=t}(e,{previous:Eo,current:null}),u=o.current||(o.current={}),d=o.previous,h=d[s];u[s]=new SimpleChange(h&&h.currentValue,n,d===Eo),applyValueToInputField(e,t,i,n)}NgOnChangesFeature.ngInherit=!0;const Nr="__ngSimpleChanges__";function getSimpleChangesStore(e){return e[Nr]||null}const profiler=function(e,t,n){};function registerPostOrderHooks(e,t){for(let n=t.directiveStart,l=t.directiveEnd;n<l;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:u}=t;l&&(e.contentHooks??(e.contentHooks=[])).push(-n,l),i&&((e.contentHooks??(e.contentHooks=[])).push(n,i),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks??(e.viewHooks=[])).push(-n,s),o&&((e.viewHooks??(e.viewHooks=[])).push(n,o),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(n,o)),null!=u&&(e.destroyHooks??(e.destroyHooks=[])).push(n,u)}}function executeCheckHooks(e,t,n){callHooks(e,t,3,n)}function executeInitAndCheckHooks(e,t,n,l){(3&e[ec])===n&&callHooks(e,t,n,l)}function incrementInitPhaseFlags(e,t){let n=e[ec];(3&n)===t&&(n&=16383,n+=1,e[ec]=n)}function callHooks(e,t,n,l){const i=void 0!==l?65535&e[ta]:0,s=null!=l?l:-1,o=t.length-1;let u=0;for(let d=i;d<o;d++){if("number"==typeof t[d+1]){if(u=t[d],null!=l&&u>=l)break}else{t[d]<0&&(e[ta]+=65536),(u<s||-1==s)&&(callHook(e,n,t,d),e[ta]=(4294901760&e[ta])+d+2),d++}}}function callHookInternal(e,t){const n=setActiveConsumer(null);try{t.call(e)}finally{setActiveConsumer(n)}}function callHook(e,t,n,l){const i=n[l]<0,s=n[l+1],o=e[i?-n[l]:n[l]];if(i){e[ec]>>14<e[ta]>>16&&(3&e[ec])===t&&(e[ec]+=16384,callHookInternal(o,s))}else callHookInternal(o,s)}const Tr=-1;class NodeInjectorFactory{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function hasParentInjector(e){return e!==Tr}function getParentInjectorIndex(e){return 32767&e}function getParentInjectorView(e,t){let n=e>>16;let l=t;for(;n>0;)l=l[Uc],n--;return l}let vr=!0;function setIncludeViewProviders(e){const t=vr;return vr=e,t}const kr=255,Cr=5;let Hr=0;const Jr={};function getOrCreateNodeInjectorForNode(e,t){const n=getInjectorIndex(e,t);if(-1!==n)return n;const l=t[$o];l.firstCreatePass&&(e.injectorIndex=t.length,insertBloom(l.data,e),insertBloom(t,null),insertBloom(l.blueprint,null));const i=getParentInjectorLocation(e,t),s=e.injectorIndex;if(hasParentInjector(i)){const e=getParentInjectorIndex(i),n=getParentInjectorView(i,t),l=n[$o].data;for(let i=0;i<8;i++)t[s+i]=n[e+i]|l[e+i]}return t[s+8]=i,s}function insertBloom(e,t){e.push(0,0,0,0,0,0,0,0,t)}function getInjectorIndex(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function getParentInjectorLocation(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,l=null,i=t;for(;null!==i;){if(l=getTNodeFromLView(i),null===l)return Tr;if(n++,i=i[Uc],-1!==l.injectorIndex)return l.injectorIndex|n<<16}return Tr}function diPublicInInjector(e,t,n){!function(e,t,n){let l;"string"==typeof n?l=n.charCodeAt(0)||0:n.hasOwnProperty(_o)&&(l=n[_o]),null==l&&(l=n[_o]=Hr++);const i=l&kr,s=1<<i;t.data[e+(i>>Cr)]|=s}(e,t,n)}function notFoundValueOrThrow(e,t,n){if(n&Jo.Optional||void 0!==e)return e;throwProviderNotFoundError()}function lookupTokenUsingModuleInjector(e,t,n,l){if(n&Jo.Optional&&void 0===l&&(l=null),0==(n&(Jo.Self|Jo.Host))){const i=e[fc],s=setInjectImplementation(void 0);try{return i?i.get(t,l,n&Jo.Optional):injectRootLimpMode(t,l,n&Jo.Optional)}finally{setInjectImplementation(s)}}return notFoundValueOrThrow(l,0,n)}function getOrCreateInjectable(e,t,n,l=Jo.Default,i){if(null!==e){if(2048&t[ec]&&!(l&Jo.Self)){const i=function(e,t,n,l,i){let s=e,o=t;for(;null!==s&&null!==o&&2048&o[ec]&&!(512&o[ec]);){const e=lookupTokenUsingNodeInjector(s,o,n,l|Jo.Self,Jr);if(e!==Jr)return e;let t=s.parent;if(!t){const e=o[sa];if(e){const t=e.get(n,Jr,l);if(t!==Jr)return t}t=getTNodeFromLView(o),o=o[Uc]}s=t}return i}(e,t,n,l,Jr);if(i!==Jr)return i}const i=lookupTokenUsingNodeInjector(e,t,n,l,Jr);if(i!==Jr)return i}return lookupTokenUsingModuleInjector(t,n,l,i)}function lookupTokenUsingNodeInjector(e,t,n,l,i){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(_o)?e[_o]:void 0;return"number"==typeof t?t>=0?t&kr:createNodeInjector:t}(n);if("function"==typeof s){if(!enterDI(t,e,l))return l&Jo.Host?notFoundValueOrThrow(i,0,l):lookupTokenUsingModuleInjector(t,n,l,i);try{let e;if(e=s(l),null!=e||l&Jo.Optional)return e;throwProviderNotFoundError()}finally{Ia()}}else if("number"==typeof s){let i=null,o=getInjectorIndex(e,t),u=Tr,d=l&Jo.Host?t[Mc][Xc]:null;for((-1===o||l&Jo.SkipSelf)&&(u=-1===o?getParentInjectorLocation(e,t):t[o+8],u!==Tr&&shouldSearchParent(l,!1)?(i=t[$o],o=getParentInjectorIndex(u),t=getParentInjectorView(u,t)):o=-1);-1!==o;){const e=t[$o];if(bloomHasToken(s,o,e.data)){const e=searchTokensOnInjector(o,t,n,i,l,d);if(e!==Jr)return e}u=t[o+8],u!==Tr&&shouldSearchParent(l,t[$o].data[o+8]===d)&&bloomHasToken(s,o,t)?(i=e,o=getParentInjectorIndex(u),t=getParentInjectorView(u,t)):o=-1}}return i}function searchTokensOnInjector(e,t,n,l,i,s){const o=t[$o],u=o.data[e+8],d=function(e,t,n,l,i){const s=e.providerIndexes,o=t.data,u=1048575&s,d=e.directiveStart,h=e.directiveEnd,m=s>>20,b=i?u+m:h;for(let e=l?u:u+m;e<b;e++){const t=o[e];if(e<d&&n===t||e>=d&&t.type===n)return e}if(i){const e=o[d];if(e&&isComponentDef(e)&&e.type===n)return d}return null}(u,o,n,null==l?isComponentHost(u)&&vr:l!=o&&0!=(3&u.type),i&Jo.Host&&s===u);return null!==d?getNodeInjectable(t,o,d,u):Jr}function getNodeInjectable(e,t,n,l){let i=e[n];const s=t.data;if(i instanceof NodeInjectorFactory){const o=i;o.resolving&&function(e,t){throw t&&t.join(" > "),new RuntimeError(-200,e)}(stringifyForError(s[n]));const u=setIncludeViewProviders(o.canSeeViewProviders);o.resolving=!0;const d=o.injectImpl?setInjectImplementation(o.injectImpl):null;enterDI(e,l,Jo.Default);try{i=e[n]=o.factory(void 0,s,e,l),t.firstCreatePass&&n>=l.directiveStart&&function(e,t,n){const{ngOnChanges:l,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(l){const l=NgOnChangesFeatureImpl(t);(n.preOrderHooks??(n.preOrderHooks=[])).push(e,l),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,l)}i&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks??(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==d&&setInjectImplementation(d),setIncludeViewProviders(u),o.resolving=!1,Ia()}}return i}function bloomHasToken(e,t,n){const l=1<<e;return!!(n[t+(e>>Cr)]&l)}function shouldSearchParent(e,t){return!(e&Jo.Self||e&Jo.Host&&t)}class NodeInjector{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,n){return getOrCreateInjectable(this._tNode,this._lView,e,convertToBitFlags(n),t)}}function createNodeInjector(){return new NodeInjector(getCurrentTNode(),getLView())}function getInheritedFactory(e){return noSideEffects((()=>{const t=e.prototype.constructor,n=t[Qo]||getFactoryOf(t),l=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==l;){const e=i[Qo]||getFactoryOf(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e}))}function getFactoryOf(e){return isForwardRef(e)?()=>{const t=getFactoryOf(resolveForwardRef(e));return t&&t()}:getFactoryDef(e)}function getTNodeFromLView(e){const t=e[$o],n=t.type;return 2===n?t.declTNode:1===n?e[Xc]:null}function createInjector(e,t=null,n=null,l){const i=createInjectorWithoutInjectorInstances(e,t,n,l);return i.resolveInjectorInitializers(),i}function createInjectorWithoutInjectorInstances(e,t=null,n=null,l,i=new Set){const s=[n||Mo,importProvidersFrom(e)];return l=l||("object"==typeof e?void 0:stringify$1(e)),new R3Injector(s,t||getNullInjector(),l||null,i)}let Fr=(()=>{var e;class Injector2{static create(e,t){if(Array.isArray(e))return createInjector({name:""},t,e,"");{const t=e.name??"";return createInjector({name:t},e.parent,e.providers,t)}}}return(e=Injector2).THROW_IF_NOT_FOUND=Aa,e.NULL=new NullInjector,e.prov=defineInjectable({token:e,providedIn:"any",factory:()=>inject(Ir)}),e.__NG_ELEMENT_ID__=-1,Injector2})();function getOriginalError(e){return e.ngOriginalError}class ErrorHandler{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&getOriginalError(e);for(;t&&getOriginalError(t);)t=getOriginalError(t);return t||null}}const zr=new InjectionToken("",{providedIn:"root",factory:()=>inject(ErrorHandler).handleError.bind(void 0)}),Ur=new InjectionToken(""),Er=new InjectionToken("",{providedIn:"root",factory:()=>false});class SafeValueImpl{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Co})`}}class SafeHtmlImpl extends SafeValueImpl{getTypeName(){return"HTML"}}class SafeStyleImpl extends SafeValueImpl{getTypeName(){return"Style"}}class SafeScriptImpl extends SafeValueImpl{getTypeName(){return"Script"}}class SafeUrlImpl extends SafeValueImpl{getTypeName(){return"URL"}}class SafeResourceUrlImpl extends SafeValueImpl{getTypeName(){return"ResourceURL"}}function unwrapSafeValue(e){return e instanceof SafeValueImpl?e.changingThisBreaksApplicationSecurity:e}function allowSanitizationBypassAndThrow(e,t){const n=function(e){return e instanceof SafeValueImpl&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Co})`)}return n===t}function getInertBodyHelper(e){const t=new InertDocumentHelper(e);return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch{return!1}}()?new DOMParserHelper(t):t}class DOMParserHelper{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class InertDocumentHelper{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=e,t}}const Mr=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function _sanitizeUrl(e){return(e=String(e)).match(Mr)?e:"unsafe:"+e}function tagSet(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function merge$1(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const wr=tagSet("area,br,col,hr,img,wbr"),Pr=tagSet("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jr=tagSet("rp,rt"),Br=merge$1(jr,Pr),Qr=merge$1(wr,merge$1(Pr,tagSet("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),merge$1(jr,tagSet("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Br),_r=tagSet("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dr=merge$1(_r,tagSet("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tagSet("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Or=tagSet("script,style,template");class SanitizingHtmlSerializer{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Qr.hasOwnProperty(t))return this.sanitizedSomething=!0,!Or.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let e=0;e<n.length;e++){const t=n.item(e),l=t.name,i=l.toLowerCase();if(!Dr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=t.value;_r[i]&&(s=_sanitizeUrl(s)),this.buf.push(" ",l,'="',encodeEntities(s),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Qr.hasOwnProperty(t)&&!wr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(encodeEntities(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Ar=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qr=/([^\#-~ |!])/g;function encodeEntities(e){return e.replace(/&/g,"&amp;").replace(Ar,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(qr,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $r;function _sanitizeHtml(e,t){let n=null;try{$r=$r||getInertBodyHelper(e);let l=t?String(t):"";n=$r.getInertBodyElement(l);let i=5,s=l;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,l=s,s=n.innerHTML,n=$r.getInertBodyElement(l)}while(l!==s);const o=new SanitizingHtmlSerializer;return o.sanitizeChildren(getTemplateContent(n)||n)}finally{if(n){const e=getTemplateContent(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function getTemplateContent(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var eu=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(eu||{});function sanitizeHtml(e){const t=getSanitizer();return t?t.sanitize(eu.HTML,e)||"":allowSanitizationBypassAndThrow(e,"HTML")?unwrapSafeValue(e):_sanitizeHtml(getDocument(),renderStringify(e))}function sanitizeUrl(e){const t=getSanitizer();return t?t.sanitize(eu.URL,e)||"":allowSanitizationBypassAndThrow(e,"URL")?unwrapSafeValue(e):_sanitizeUrl(renderStringify(e))}function getSanitizer(){const e=getLView();return e&&e[Lc].sanitizer}const tu=new Map;let nu=0;const lu="__ngContext__";function attachPatchData(e,t){var n;isLView(t)?(e[lu]=t[ia],n=t,tu.set(n[ia],n)):e[lu]=t}function maybeUnwrapFn(e){return e instanceof Function?e():e}function isPlatformBrowser$1(e){return"browser"===(e??inject(Fr)).get(Ba)}var iu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(iu||{});let su;function icuContainerIterate(e,t){return su(e,t)}function applyToElementOrContainer(e,t,n,l,i){if(null!=l){let s,o=!1;isLContainer(l)?s=l:isLView(l)&&(o=!0,l=l[qo]);const u=unwrapRNode(l);0===e&&null!==n?null==i?nativeAppendChild(t,n,u):nativeInsertBefore(t,n,u,i||null,!0):1===e&&null!==n?nativeInsertBefore(t,n,u,i||null,!0):2===e?nativeRemoveNode(t,u,o):3===e&&t.destroyNode(u),null!=s&&function(e,t,n,l,i){const s=n[Ga],o=unwrapRNode(n);s!==o&&applyToElementOrContainer(t,e,l,s,i);for(let i=Va;i<n.length;i++){const o=n[i];applyView(o[$o],o,e,t,l,s)}}(t,e,s,n,i)}}function createTextNode(e,t){return e.createText(t)}function createElementNode(e,t,n){return e.createElement(t,n)}function detachViewFromDOM(e,t){applyView(e,t,t[Yc],2,null,null)}function insertView(e,t,n,l){const i=Va+l,s=n.length;l>0&&(n[i-1][cc]=t),l<s-Va?(t[cc]=n[i],addToArray(n,Va+l,t)):(n.push(t),t[cc]=null),t[tc]=n;const o=t[_c];null!==o&&n!==o&&function(e,t){const n=e[Xa],l=t[tc],i=l[tc][Mc],s=t[Mc];s!==i&&(e[ec]|=Wa.HasTransplantedViews);null===n?e[Xa]=[t]:n.push(t)}(o,t);const u=t[la];null!==u&&u.insertView(e),updateAncestorTraversalFlagsOnAttach(t),t[ec]|=128}function detachMovedView(e,t){const n=e[Xa],l=n.indexOf(t);n.splice(l,1)}function detachView(e,t){if(e.length<=Va)return;const n=Va+t,l=e[n];if(l){const s=l[_c];null!==s&&s!==e&&detachMovedView(s,l),t>0&&(e[n-1][cc]=l[cc]);const o=removeFromArray(e,Va+t);detachViewFromDOM(l[$o],i=l),i[qo]=null,i[Xc]=null;const u=o[la];null!==u&&u.detachView(o[$o]),l[tc]=null,l[cc]=null,l[ec]&=-129}var i;return l}function destroyLView(e,t){if(!(256&t[ec])){const n=t[Yc];n.destroyNode&&applyView(e,t,n,3,null,null),function(e){let t=e[Tc];if(!t)return cleanUpView(e[$o],e);for(;t;){let n=null;if(isLView(t))n=t[Tc];else{const e=t[Va];e&&(n=e)}if(!n){for(;t&&!t[cc]&&t!==e;)isLView(t)&&cleanUpView(t[$o],t),t=t[tc];null===t&&(t=e),isLView(t)&&cleanUpView(t[$o],t),n=t&&t[cc]}t=n}}(t)}}function cleanUpView(e,t){if(!(256&t[ec])){t[ec]&=-129,t[ec]|=256,t[ra]&&consumerDestroy(t[ra]),function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let e=0;e<n.length;e+=2){const l=t[n[e]];if(!(l instanceof NodeInjectorFactory)){const t=n[e+1];if(Array.isArray(t))for(let e=0;e<t.length;e+=2){const n=l[t[e]],i=t[e+1];try{i.call(n)}finally{}}else try{t.call(l)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,l=t[Wc];if(null!==n)for(let e=0;e<n.length-1;e+=2)if("string"==typeof n[e]){const t=n[e+3];t>=0?l[t]():l[-t].unsubscribe(),e+=2}else{const t=l[n[e+1]];n[e].call(t)}null!==l&&(t[Wc]=null);const i=t[oa];if(null!==i){t[oa]=null;for(let e=0;e<i.length;e++){(0,i[e])()}}}(e,t),1===t[$o].type&&t[Yc].destroy();const n=t[_c];if(null!==n&&isLContainer(t[tc])){n!==t[tc]&&detachMovedView(n,t);const l=t[la];null!==l&&l.detachView(e)}!function(e){tu.delete(e[ia])}(t)}}function getParentRElement(e,t,n){return function(e,t,n){let l=t;for(;null!==l&&40&l.type;)l=(t=l).parent;if(null===l)return n[qo];{const{componentOffset:t}=l;if(t>-1){const{encapsulation:n}=e.data[l.directiveStart+t];if(n===zo.None||n===zo.Emulated)return null}return getNativeByTNode(l,n)}}(e,t.parent,n)}function nativeInsertBefore(e,t,n,l,i){e.insertBefore(t,n,l,i)}function nativeAppendChild(e,t,n){e.appendChild(t,n)}function nativeAppendOrInsertBefore(e,t,n,l,i){null!==l?nativeInsertBefore(e,t,n,l,i):nativeAppendChild(e,t,n)}function nativeParentNode(e,t){return e.parentNode(t)}let _getInsertInFrontOfRNodeWithI18n=function(e,t,n){return 40&e.type?getNativeByTNode(e,n):null};function appendChild(e,t,n,l){const i=getParentRElement(e,l,t),s=t[Yc],o=function(e,t,n){return _getInsertInFrontOfRNodeWithI18n(e,t,n)}(l.parent||t[Xc],l,t);if(null!=i)if(Array.isArray(n))for(let e=0;e<n.length;e++)nativeAppendOrInsertBefore(s,i,n[e],o,!1);else nativeAppendOrInsertBefore(s,i,n,o,!1)}function getFirstNativeNode(e,t){if(null!==t){const n=t.type;if(3&n)return getNativeByTNode(t,e);if(4&n)return getBeforeNodeForView(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return getFirstNativeNode(e,n);{const n=e[t.index];return isLContainer(n)?getBeforeNodeForView(-1,n):unwrapRNode(n)}}if(32&n){return icuContainerIterate(t,e)()||unwrapRNode(e[t.index])}{const n=getProjectionNodes(e,t);if(null!==n){if(Array.isArray(n))return n[0];return getFirstNativeNode(getLViewParent(e[Mc]),n)}return getFirstNativeNode(e,t.next)}}return null}function getProjectionNodes(e,t){if(null!==t){const n=e[Mc][Xc],l=t.projection;return n.projection[l]}return null}function getBeforeNodeForView(e,t){const n=Va+e+1;if(n<t.length){const e=t[n],l=e[$o].firstChild;if(null!==l)return getFirstNativeNode(e,l)}return t[Ga]}function nativeRemoveNode(e,t,n){const l=nativeParentNode(e,t);l&&function(e,t,n,l){e.removeChild(t,n,l)}(e,l,t,n)}function clearElementContents(e){e.textContent=""}function applyNodes(e,t,n,l,i,s,o){for(;null!=n;){const u=l[n.index],d=n.type;if(o&&0===t&&(u&&attachPatchData(unwrapRNode(u),l),n.flags|=2),32!=(32&n.flags))if(8&d)applyNodes(e,t,n.child,l,i,s,!1),applyToElementOrContainer(t,e,i,u,s);else if(32&d){const o=icuContainerIterate(n,l);let d;for(;d=o();)applyToElementOrContainer(t,e,i,d,s);applyToElementOrContainer(t,e,i,u,s)}else 16&d?applyProjectionRecursive(e,t,l,n,i,s):applyToElementOrContainer(t,e,i,u,s);n=o?n.projectionNext:n.next}}function applyView(e,t,n,l,i,s){applyNodes(n,l,e.firstChild,t,i,s,!1)}function applyProjectionRecursive(e,t,n,l,i,s){const o=n[Mc],u=o[Xc].projection[l.projection];if(Array.isArray(u))for(let n=0;n<u.length;n++){applyToElementOrContainer(t,e,i,u[n],s)}else{let n=u;const d=o[tc];hasInSkipHydrationBlockFlag(l)&&(n.flags|=128),applyNodes(e,t,n,d,i,s,!0)}}function writeDirectClass(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function setupStaticAttributes(e,t,n){const{mergedAttrs:l,classes:i,styles:s}=n;null!==l&&setUpAttributes(e,t,l),null!==i&&writeDirectClass(e,t,i),null!==s&&function(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}const ou={};function advance(e=1){selectIndexInternal(getTView(),getLView(),getSelectedIndex()+e,!1)}function selectIndexInternal(e,t,n,l){if(!l){if(3==(3&t[ec])){const l=e.preOrderCheckHooks;null!==l&&executeCheckHooks(t,l,n)}else{const l=e.preOrderHooks;null!==l&&executeInitAndCheckHooks(t,l,0,n)}}setSelectedIndex(n)}function directiveInject(e,t=Jo.Default){const n=getLView();if(null===n)return inject(e,t);return getOrCreateInjectable(getCurrentTNode(),n,resolveForwardRef(e),t)}function writeToDirectiveInput(e,t,n,l,i,s){const o=setActiveConsumer(null);try{let o=null;if(0!=(i&Oo.SignalBased)){o=t[l][No]}null!==o&&void 0!==o.transformFn&&(s=o.transformFn(s)),0!=(i&Oo.HasDecoratorInputTransform)&&(s=e.inputTransforms[l].call(t,s)),null!==e.setInput?e.setInput(t,o,s,n,l):applyValueToInputField(t,o,l,s)}finally{setActiveConsumer(o)}}function createLView(e,t,n,l,i,s,o,u,d,h,m){const b=t.blueprint.slice();return b[qo]=i,b[ec]=204|l,(null!==h||e&&2048&e[ec])&&(b[ec]|=2048),resetPreOrderHookFlags(b),b[tc]=b[Uc]=e,b[Ic]=n,b[Lc]=o||e&&e[Lc],b[Yc]=u||e&&e[Yc],b[fc]=d||e&&e[fc]||null,b[Xc]=s,b[ia]=nu++,b[Vc]=m,b[sa]=h,b[Mc]=2==t.type?e[Mc]:b,b}function getOrCreateTNode(e,t,n,l,i){let s=e.data[t];if(null===s)s=function(e,t,n,l,i){const s=getCurrentTNodePlaceholderOk(),o=isCurrentTNodeParent(),u=o?s:s&&s.parent,d=e.data[t]=function(e,t,n,l,i,s){let o=t?t.injectorIndex:-1,u=0;isInSkipHydrationBlock$1()&&(u|=128);const d={type:n,index:l,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:u,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0};return d}(0,u,n,t,l,i);null===e.firstChild&&(e.firstChild=d);null!==s&&(o?null==s.child&&null!==d.parent&&(s.child=d):null===s.next&&(s.next=d,d.prev=s));return d}(e,t,n,l,i),ga.lFrame.inI18n&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=l,s.attrs=i;const e=function(){const e=ga.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===e?-1:e.injectorIndex}return setCurrentTNode(s,!0),s}function allocExpando(e,t,n,l){if(0===n)return-1;const i=t.length;for(let i=0;i<n;i++)t.push(l),e.blueprint.push(l),e.data.push(null);return i}function executeTemplate(e,t,n,l,i){const s=getSelectedIndex(),o=2&l;try{setSelectedIndex(-1),o&&t.length>ua&&selectIndexInternal(e,t,ua,!1);profiler(o?2:0,i),n(l,i)}finally{setSelectedIndex(s)}}function executeContentQueries(e,t,n){if(isContentQueryHost(t)){const l=setActiveConsumer(null);try{const l=t.directiveStart,i=t.directiveEnd;for(let t=l;t<i;t++){const l=e.data[t];if(l.contentQueries){const e=n[t];l.contentQueries(1,e,t)}}}finally{setActiveConsumer(l)}}}function createDirectivesInstances(e,t,n){!function(e,t,n,l){const i=n.directiveStart,s=n.directiveEnd;isComponentHost(n)&&function(e,t,n){const l=getNativeByTNode(t,e),i=getOrCreateComponentTView(n),s=e[Lc].rendererFactory;let o=16;n.signals?o=4096:n.onPush&&(o=64);const u=addToViewTree(e,createLView(e,i,null,o,l,t,null,s.createRenderer(l,n),null,null,null));e[t.index]=u}(t,n,e.data[i+n.componentOffset]);e.firstCreatePass||getOrCreateNodeInjectorForNode(n,t);attachPatchData(l,t);const o=n.initialInputs;for(let l=i;l<s;l++){const s=e.data[l],u=getNodeInjectable(t,e,l,n);if(attachPatchData(u,t),null!==o&&setInputsFromAttrs(t,l-i,u,s,n,o),isComponentDef(s)){getComponentLViewByIndex(n.index,t)[Ic]=getNodeInjectable(t,e,l,n)}}}(e,t,n,getNativeByTNode(n,t)),64==(64&n.flags)&&invokeDirectivesHostBindings(e,t,n)}function saveResolvedLocalsInData(e,t,n=getNativeByTNode){const l=t.localNames;if(null!==l){let i=t.index+1;for(let s=0;s<l.length;s+=2){const o=l[s+1],u=-1===o?n(t,e):e[o];e[i++]=u}}}function getOrCreateComponentTView(e){const t=e.tView;if(null===t||t.incompleteFirstPass){const t=null;return e.tView=createTView(1,t,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id)}return t}function createTView(e,t,n,l,i,s,o,u,d,h,m){const b=ua+l,V=b+i,g=function(e,t){const n=[];for(let l=0;l<t;l++)n.push(l<e?null:ou);return n}(b,V),f="function"==typeof h?h():h;return g[$o]={type:e,blueprint:g,template:n,queries:null,viewQuery:u,declTNode:t,data:g.slice().fill(null,b),bindingStartIndex:b,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:d,consts:f,incompleteFirstPass:!1,ssrId:m}}function locateHostElement(e,t,n,l){const i=l.get(Er,false)||n===zo.ShadowDom,s=e.selectRootElement(t,i);return function(e){_applyRootElementTransformImpl(e)}(s),s}let _applyRootElementTransformImpl=()=>null;function applyRootElementTransformImpl(e){hasSkipHydrationAttrOnRElement(e)?clearElementContents(e):function(e){const t=getDocument(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(e){const t=function(e){return e.textContent?.replace(/\s/gm,"")}(e);return"ngetn"===t||"ngtns"===t?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let l;const i=[];for(;l=n.nextNode();)i.push(l);for(const e of i)"ngetn"===e.textContent?e.replaceWith(t.createTextNode("")):e.remove()}(e)}function captureNodeBindings(e,t,n,l,i){for(let s in t){if(!t.hasOwnProperty(s))continue;const o=t[s];if(void 0===o)continue;let u;l??(l={});let d=Oo.None;Array.isArray(o)?(u=o[0],d=o[1]):u=o;let h=s;if(null!==i){if(!i.hasOwnProperty(s))continue;h=i[s]}0===e?addPropertyBinding(l,n,h,u,d):addPropertyBinding(l,n,h,u)}return l}function addPropertyBinding(e,t,n,l,i){let s;e.hasOwnProperty(n)?(s=e[n]).push(t,l):s=e[n]=[t,l],void 0!==i&&s.push(i)}function elementPropertyInternal(e,t,n,l,i,s,o,u){const d=getNativeByTNode(t,n);let h,m=t.inputs;!u&&null!=m&&(h=m[l])?(setInputsForProperty(e,n,h,l,i),isComponentHost(t)&&function(e,t){const n=getComponentLViewByIndex(t,e);16&n[ec]||(n[ec]|=64)}(n,t.index)):3&t.type?(l=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(l),i=null!=o?o(i,t.value||"",l):i,s.setProperty(d,l,i)):t.type}function resolveDirectives(e,t,n,l){{const i=null===l?null:{"":-1},s=function(e,t){const n=e.directiveRegistry;let l=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(isNodeMatchingSelectorList(t,o.selectors,!1))if(l||(l=[]),isComponentDef(o))if(null!==o.findHostDirectiveDefs){const n=[];i=i||new Map,o.findHostDirectiveDefs(o,n,i),l.unshift(...n,o);markAsComponentHost(e,t,n.length)}else l.unshift(o),markAsComponentHost(e,t,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,l,i),l.push(o)}return null===l?null:[l,i]}(e,n);let o,u;null===s?o=u=null:[o,u]=s,null!==o&&initializeDirectives(e,t,n,o,i,u),i&&function(e,t,n){if(t){const l=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new RuntimeError(-301,!1);l.push(t[e],i)}}}(n,l,i)}n.mergedAttrs=mergeHostAttrs(n.mergedAttrs,n.attrs)}function initializeDirectives(e,t,n,l,i,s){for(let i=0;i<l.length;i++)diPublicInInjector(getOrCreateNodeInjectorForNode(n,t),e,l[i].type);!function(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,l.length);for(let e=0;e<l.length;e++){const t=l[e];t.providersResolver&&t.providersResolver(t)}let o=!1,u=!1,d=allocExpando(e,t,l.length,null);for(let s=0;s<l.length;s++){const h=l[s];n.mergedAttrs=mergeHostAttrs(n.mergedAttrs,h.hostAttrs),configureViewWithDirective(e,n,t,d,h),saveNameToExportMap(d,h,i),null!==h.contentQueries&&(n.flags|=4),null===h.hostBindings&&null===h.hostAttrs&&0===h.hostVars||(n.flags|=64);const m=h.type.prototype;!o&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(n.index),o=!0),u||!m.ngOnChanges&&!m.ngDoCheck||((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n.index),u=!0),d++}!function(e,t,n){const l=t.directiveStart,i=t.directiveEnd,s=e.data,o=t.attrs,u=[];let d=null,h=null;for(let e=l;e<i;e++){const l=s[e],i=n?n.get(l):null,m=i?i.inputs:null,b=i?i.outputs:null;d=captureNodeBindings(0,l.inputs,e,d,m),h=captureNodeBindings(1,l.outputs,e,h,b);const V=null===d||null===o||isInlineTemplate(t)?null:generateInitialInputs(d,e,o);u.push(V)}null!==d&&(d.hasOwnProperty("class")&&(t.flags|=8),d.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=u,t.inputs=d,t.outputs=h}(e,n,s)}function invokeDirectivesHostBindings(e,t,n){const l=n.directiveStart,i=n.directiveEnd,s=n.index,o=ga.lFrame.currentDirectiveIndex;try{setSelectedIndex(s);for(let n=l;n<i;n++){const l=e.data[n],i=t[n];setCurrentDirectiveIndex(n),null===l.hostBindings&&0===l.hostVars&&null===l.hostAttrs||invokeHostBindingsInCreationMode(l,i)}}finally{setSelectedIndex(-1),setCurrentDirectiveIndex(o)}}function invokeHostBindingsInCreationMode(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function markAsComponentHost(e,t,n){t.componentOffset=n,(e.components??(e.components=[])).push(t.index)}function saveNameToExportMap(e,t,n){if(n){if(t.exportAs)for(let l=0;l<t.exportAs.length;l++)n[t.exportAs[l]]=e;isComponentDef(t)&&(n[""]=e)}}function configureViewWithDirective(e,t,n,l,i){e.data[l]=i;const s=i.factory||(i.factory=getFactoryDef(i.type)),o=new NodeInjectorFactory(s,isComponentDef(i),directiveInject);e.blueprint[l]=o,n[l]=o,function(e,t,n,l,i){const s=i.hostBindings;if(s){let i=e.hostBindingOpCodes;null===i&&(i=e.hostBindingOpCodes=[]);const o=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(i)!=o&&i.push(o),i.push(n,l,s)}}(e,t,l,allocExpando(e,n,i.hostVars,ou),i)}function setInputsFromAttrs(e,t,n,l,i,s){const o=s[t];if(null!==o)for(let e=0;e<o.length;){writeToDirectiveInput(l,n,o[e++],o[e++],o[e++],o[e++])}}function generateInitialInputs(e,t,n){let l=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===l&&(l=[]);const o=e[s];for(let e=0;e<o.length;e+=3)if(o[e]===t){l.push(s,o[e+1],o[e+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return l}function createLContainer(e,t,n,l){return[e,!0,0,t,null,l,null,n,null,null]}function refreshContentQueries(e,t){const n=e.contentQueries;if(null!==n){const l=setActiveConsumer(null);try{for(let l=0;l<n.length;l+=2){const i=n[l],s=n[l+1];if(-1!==s){const n=e.data[s];setCurrentQueryIndex(i),n.contentQueries(2,t[s],s)}}}finally{setActiveConsumer(l)}}}function addToViewTree(e,t){return e[Tc]?e[Jc][cc]=t:e[Tc]=t,e[Jc]=t,t}function executeViewQueryFn(e,t,n){setCurrentQueryIndex(0);const l=setActiveConsumer(null);try{t(e,n)}finally{setActiveConsumer(l)}}function handleError(e,t){const n=e[fc],l=n?n.get(ErrorHandler,null):null;l&&l.handleError(t)}function setInputsForProperty(e,t,n,l,i){for(let s=0;s<n.length;){const o=n[s++],u=n[s++],d=n[s++],h=t[o];writeToDirectiveInput(e.data[o],h,l,u,d,i)}}function renderComponent(e,t){const n=getComponentLViewByIndex(t,e),l=n[$o];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(l,n);const i=n[qo];null!==i&&null===n[Vc]&&(n[Vc]=retrieveHydrationInfo(i,n[fc])),renderView(l,n,n[Ic])}function renderView(e,t,n){enterView(t);try{const l=e.viewQuery;null!==l&&executeViewQueryFn(1,l,n);const i=e.template;null!==i&&executeTemplate(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[la]?.finishViewCreation(e),e.staticContentQueries&&refreshContentQueries(e,t),e.staticViewQueries&&executeViewQueryFn(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)renderComponent(e,t[n])}(t,s)}catch(t){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),t}finally{t[ec]&=-5,leaveView()}}function createAndRenderEmbeddedLView(e,t,n,l){const i=t.tView,s=createLView(e,i,n,4096&e[ec]?4096:16,null,t,null,null,null,l?.injector??null,l?.dehydratedView??null),o=e[t.index];s[_c]=o;const u=e[la];return null!==u&&(s[la]=u.createEmbeddedView(i)),renderView(i,s,n),s}function getLViewFromLContainer(e,t){const n=Va+t;if(n<e.length){return e[n]}}function shouldAddViewToDom(e,t){return!t||null===t.firstChild||hasInSkipHydrationBlockFlag(e)}function addLViewToLContainer(e,t,n,l=!0){const i=t[$o];if(insertView(i,t,e,n),l){const l=getBeforeNodeForView(n,e),s=t[Yc],o=nativeParentNode(s,e[Ga]);null!==o&&function(e,t,n,l,i,s){l[qo]=i,l[Xc]=t,applyView(e,l,n,1,i,s)}(i,e[Xc],s,t,o,l)}const s=t[Vc];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function removeLViewFromLContainer(e,t){const n=detachView(e,t);return void 0!==n&&destroyLView(n[$o],n),n}function collectNativeNodes(e,t,n,l,i=!1){for(;null!==n;){const s=t[n.index];null!==s&&l.push(unwrapRNode(s)),isLContainer(s)&&collectNativeNodesInLContainer(s,l);const o=n.type;if(8&o)collectNativeNodes(e,t,n.child,l);else if(32&o){const e=icuContainerIterate(n,t);let i;for(;i=e();)l.push(i)}else if(16&o){const e=getProjectionNodes(t,n);if(Array.isArray(e))l.push(...e);else{const n=getLViewParent(t[Mc]);collectNativeNodes(n[$o],n,e,l,!0)}}n=i?n.projectionNext:n.next}return l}function collectNativeNodesInLContainer(e,t){for(let n=Va;n<e.length;n++){const l=e[n],i=l[$o].firstChild;null!==i&&collectNativeNodes(l[$o],l,i,t)}e[Ga]!==e[qo]&&t.push(e[Ga])}let cu=[];function getOrBorrowReactiveLViewConsumer(e){return e[ra]??function(e){const t=cu.pop()??Object.create(au);return t.lView=e,t}(e)}const au={...To,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{markAncestorsForTraversal(e.lView)},consumerOnSignalRead(){this.lView[ra]=this}};function getFirstLContainer(e){return getNearestLContainer(e[Tc])}function getNextLContainer(e){return getNearestLContainer(e[cc])}function getNearestLContainer(e){for(;null!==e&&!isLContainer(e);)e=e[cc];return e}const ru=100;function detectChangesInternal(e,t=!0,n=0){const l=e[Lc],i=l.rendererFactory;i.begin?.();try{!function(e,t){detectChangesInView(e,t);let n=0;for(;requiresRefreshOrTraversal(e);){if(n===ru)throw new RuntimeError(103,!1);n++,detectChangesInView(e,1)}}(e,n)}catch(n){throw t&&handleError(e,n),n}finally{i.end?.(),l.inlineEffectRunner?.flush()}}function refreshView(e,t,n,l){const i=t[ec];if(256==(256&i))return;t[Lc].inlineEffectRunner?.flush(),enterView(t);let s=null,o=null;(function(e){return 2!==e.type})(e)&&(o=getOrBorrowReactiveLViewConsumer(t),s=consumerBeforeComputation(o));try{resetPreOrderHookFlags(t),d=e.bindingStartIndex,ga.lFrame.bindingIndex=d,null!==n&&executeTemplate(e,t,n,2,l);const s=3==(3&i);if(s){const n=e.preOrderCheckHooks;null!==n&&executeCheckHooks(t,n,null)}else{const n=e.preOrderHooks;null!==n&&executeInitAndCheckHooks(t,n,0,null),incrementInitPhaseFlags(t,0)}if(function(e){for(let t=getFirstLContainer(e);null!==t;t=getNextLContainer(t)){if(!(t[ec]&Wa.HasTransplantedViews))continue;const e=t[Xa];for(let t=0;t<e.length;t++){const n=e[t];n[tc],markViewForRefresh(n)}}}(t),detectChangesInEmbeddedViews(t,0),null!==e.contentQueries&&refreshContentQueries(e,t),s){const n=e.contentCheckHooks;null!==n&&executeCheckHooks(t,n)}else{const n=e.contentHooks;null!==n&&executeInitAndCheckHooks(t,n,1),incrementInitPhaseFlags(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const l=n[e];if(l<0)setSelectedIndex(~l);else{const i=l,s=n[++e],o=n[++e];setBindingRootForHostBindings(s,i),o(2,t[i])}}}finally{setSelectedIndex(-1)}}(e,t);const o=e.components;null!==o&&detectChangesInChildComponents(t,o,0);const u=e.viewQuery;if(null!==u&&executeViewQueryFn(2,u,l),s){const n=e.viewCheckHooks;null!==n&&executeCheckHooks(t,n)}else{const n=e.viewHooks;null!==n&&executeInitAndCheckHooks(t,n,2),incrementInitPhaseFlags(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[ca]){for(const e of t[ca])e();t[ca]=null}t[ec]&=-73}catch(e){throw markAncestorsForTraversal(t),e}finally{null!==o&&(consumerAfterComputation(o,s),(u=o).lView[ra]!==u&&(u.lView=null,cu.push(u))),leaveView()}var u,d}function detectChangesInEmbeddedViews(e,t){for(let n=getFirstLContainer(e);null!==n;n=getNextLContainer(n))for(let e=Va;e<n.length;e++){detectChangesInViewIfAttached(n[e],t)}}function detectChangesInComponent(e,t,n){detectChangesInViewIfAttached(getComponentLViewByIndex(t,e),n)}function detectChangesInViewIfAttached(e,t){viewAttachedToChangeDetector(e)&&detectChangesInView(e,t)}function detectChangesInView(e,t){const n=e[$o],l=e[ec],i=e[ra];let s=!!(0===t&&16&l);if(s||(s=!!(64&l&&0===t)),s||(s=!!(1024&l)),s||(s=!(!i?.dirty||!consumerPollProducersForChange(i))),i&&(i.dirty=!1),e[ec]&=-9217,s)refreshView(n,e,n.template,e[Ic]);else if(8192&l){detectChangesInEmbeddedViews(e,1);const t=n.components;null!==t&&detectChangesInChildComponents(e,t,1)}}function detectChangesInChildComponents(e,t,n){for(let l=0;l<t.length;l++)detectChangesInComponent(e,t[l],n)}function markViewDirty(e){for(e[Lc].changeDetectionScheduler?.notify();e;){e[ec]|=64;const t=getLViewParent(e);if(isRootView(e)&&!t)return e;e=t}return null}class ViewRef$1{get rootNodes(){const e=this._lView,t=e[$o];return collectNativeNodes(t,e,t.firstChild,[])}constructor(e,t,n=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ic]}set context(e){this._lView[Ic]=e}get destroyed(){return 256==(256&this._lView[ec])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[tc];if(isLContainer(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(detachView(e,n),removeFromArray(t,n))}this._attachedToViewContainer=!1}destroyLView(this._lView[$o],this._lView)}onDestroy(e){storeLViewOnDestroy(this._lView,e)}markForCheck(){markViewDirty(this._cdRefInjectingView||this._lView)}detach(){this._lView[ec]&=-129}reattach(){updateAncestorTraversalFlagsOnAttach(this._lView),this._lView[ec]|=128}detectChanges(){this._lView[ec]|=1024,detectChangesInternal(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new RuntimeError(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,detachViewFromDOM(this._lView[$o],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new RuntimeError(902,!1);this._appRef=e,updateAncestorTraversalFlagsOnAttach(this._lView)}}const uu="<-- AT THIS LOCATION";function nodeNotFoundError(e,t){const n=`${function(e,t,n){const l="  ";let i="";t.prev?(i+=l+"\n",i+=l+describeTNode(t.prev)+"\n"):t.type&&12&t.type&&(i+=l+"\n");n?(i+=l+describeTNode(t)+"\n",i+=l+`\x3c!-- container --\x3e  ${uu}\n`):i+=l+describeTNode(t)+`  ${uu}\n`;i+=l+"\n";const s=t.type?getParentRElement(e[$o],t,e):null;s&&(i=describeRNode(s,"\n"+i));return i}(e,t,!1)}\n\n`;var l;throw new RuntimeError(-502,"During serialization, Angular was unable to find an element in the DOM:\n\n"+n+`To fix this problem:\n  * check ${l?`the "${l}"`:"corresponding"} component for hydration-related issues\n  * check to see if your template has valid HTML structure\n  * or skip hydration by adding the \`ngSkipHydration\` attribute to its host node in a template\n\n`)}function unsupportedProjectionOfDomNodes(e){const t=`${function(e){const t="  ";let n="";const l=e;l.previousSibling&&(n+=t+"\n",n+=t+describeRNode(l.previousSibling)+"\n");n+=t+describeRNode(l)+`  ${uu}\n`,e.nextSibling&&(n+=t+"\n");e.parentNode&&(n=describeRNode(l.parentNode,"\n"+n));return n}(e)}\n\n`;return new RuntimeError(-503,"During serialization, Angular detected DOM nodes that were created outside of Angular context and provided as projectable nodes (likely via `ViewContainerRef.createComponent` or `createComponent` APIs). Hydration is not supported for such cases, consider refactoring the code to avoid this pattern or using `ngSkipHydration` on the host element of the component.\n\n"+t+"Note: attributes are only displayed to better represent the DOM but have no effect on hydration mismatches.\n\n")}const du=new Set(["ngh","ng-version","ng-server-context"]);function describeTNode(e,t=""){switch(e.type){case 1:return`#text${e.value?`(${e.value})`:""}`;case 2:const n=function(e){const t=[];if(e.attrs)for(let n=0;n<e.attrs.length;){const l=e.attrs[n++];if("number"==typeof l)break;const i=e.attrs[n++];t.push(`${l}="${shorten(i)}"`)}return t.join(" ")}(e),l=e.value.toLowerCase();return`<${l}${n?" "+n:""}>${t}</${l}>`;case 8:return"\x3c!-- ng-container --\x3e";case 4:return"\x3c!-- container --\x3e";default:return`#node(${function(e){switch(e){case 4:return"view container";case 2:return"element";case 8:return"ng-container";case 32:return"icu";case 64:return"i18n";case 16:return"projection";case 1:return"text";default:return"<unknown>"}}(e.type)})`}}function describeRNode(e,t=""){const n=e;switch(n.nodeType){case Node.ELEMENT_NODE:const e=n.tagName.toLowerCase(),l=function(e){const t=[];for(let n=0;n<e.attributes.length;n++){const l=e.attributes[n];du.has(l.name)||t.push(`${l.name}="${shorten(l.value)}"`)}return t.join(" ")}(n);return`<${e}${l?" "+l:""}>${t}</${e}>`;case Node.TEXT_NODE:const i=n.textContent?shorten(n.textContent):"";return"#text"+(i?`(${i})`:"");case Node.COMMENT_NODE:return`\x3c!-- ${shorten(n.textContent??"")} --\x3e`;default:return`#node(${n.nodeType})`}}function shorten(e,t=50){return e?(e=function(e){return e.replace(/\s+/gm,"")}(e)).length>t?`${e.substring(0,t-1)}`:e:""}function removeDehydratedViews(e){const t=e[ba]??[],n=e[tc][Yc];for(const e of t)removeDehydratedView(e,n);e[ba]=Mo}function removeDehydratedView(e,t){let n=0,l=e.firstChild;if(l){const i=e.data[br];for(;n<i;){const e=l.nextSibling;nativeRemoveNode(t,l,!1),l=e,n++}}}function cleanupLContainer(e){removeDehydratedViews(e);for(let t=Va;t<e.length;t++)cleanupLView(e[t])}function cleanupLView(e){const t=e[$o];for(let n=ua;n<t.bindingStartIndex;n++)if(isLContainer(e[n])){cleanupLContainer(e[n])}else isLView(e[n])&&cleanupLView(e[n])}const hu=new RegExp(`^(\\d+)*(${ar}|${cr})*(.*)`);function getNoOffsetIndex(e){return e.index-ua}function isDisconnectedNode(e,t){return!(16&e.type||!t[e.index]||unwrapRNode(t[e.index])?.isConnected)}function locateNextRNode(e,t,n,l){let i=null;const s=getNoOffsetIndex(l),o=e.data[Zr];if(o?.[s])i=function(e,t){const[n,...l]=function(e){const t=e.match(hu),[n,l,i,s]=t,o=l?parseInt(l,10):i,u=[];for(const[e,t,n]of s.matchAll(/(f|n)(\d*)/g)){const e=parseInt(n,10)||1;u.push(t,e)}return[o,...u]}(e);let i;if(n===cr)i=t[Mc][qo];else if(n===ar)i=t[Mc][qo].ownerDocument.body;else{i=unwrapRNode(t[Number(n)+ua])}return function(e,t){let n=e;for(let e=0;e<t.length;e+=2){const l=t[e],i=t[e+1];for(let e=0;e<i;e++)switch(l){case rr.FirstChild:n=n.firstChild;break;case rr.NextSibling:n=n.nextSibling}}return n}(i,l)}(o[s],n);else if(t.firstChild===l)i=e.firstChild;else{const t=null===l.prev,s=l.prev??l.parent;if(function(e){return!e.prev&&8===e.parent?.type}(l)){i=getSegmentHead(e,getNoOffsetIndex(l.parent))}else{let l=getNativeByTNode(s,n);if(t)i=l.firstChild;else{const t=getNoOffsetIndex(s),n=getSegmentHead(e,t);if(2===s.type&&n){i=siblingAfter(calcSerializedContainerSize(e,t)+1,n)}else i=l.nextSibling}}}return i}function siblingAfter(e,t){let n=t;for(let t=0;t<e;t++)n=n.nextSibling;return n}function navigateBetween(e,t){if(e===t)return[];if(null==e.parentElement||null==t.parentElement)return null;if(e.parentElement===t.parentElement)return function(e,t){const n=[];let l=null;for(l=e;null!=l&&l!==t;l=l.nextSibling)n.push(rr.NextSibling);return null==l?null:n}(e,t);{const n=t.parentElement,l=navigateBetween(e,n),i=navigateBetween(n.firstChild,t);return l&&i?[...l,rr.FirstChild,...i]:null}}function calcPathBetween(e,t,n){const l=navigateBetween(e,t);return null===l?null:function(e,t){const n=[e];for(const e of t){const t=n.length-1;if(t>0&&n[t-1]===e){const e=n[t]||1;n[t]=e+1}else n.push(e,"")}return n.join("")}(n,l)}let _findMatchingDehydratedViewImpl=()=>null;function findMatchingDehydratedViewImpl(e,t){const n=e[ba];if(!t||null===n||0===n.length)return null;return n[0].data[pr]===t?n.shift():(removeDehydratedViews(e),null)}function findMatchingDehydratedView(e,t){return _findMatchingDehydratedViewImpl(e,t)}class ChangeDetectionScheduler{}class ComponentRef$1{}class ComponentFactory$1{}const mu="ngComponent";class _NullComponentFactoryResolver{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${stringify$1(e)}.`);return t[mu]=e,t}(e)}}let bu=(()=>{class ComponentFactoryResolver$12{}return ComponentFactoryResolver$12.NULL=new _NullComponentFactoryResolver,ComponentFactoryResolver$12})();class RendererFactory2{}let pu=(()=>{class Renderer22{constructor(){this.destroyNode=null}}return Renderer22.__NG_ELEMENT_ID__=()=>function(){const e=getLView(),t=getComponentLViewByIndex(getCurrentTNode().index,e);return(isLView(t)?t:e)[Yc]}(),Renderer22})();let Zu=(()=>{var e;class Sanitizer2{}return(e=Sanitizer2).prov=defineInjectable({token:e,providedIn:"root",factory:()=>null}),Sanitizer2})();const yu={},Gu=new Set;function performanceMarkFeature(e){Gu.has(e)||(Gu.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function signal(e,t){performanceMarkFeature("NgSignals");const n=function(e){const t=Object.create(vo);t.value=e;const getter=()=>(producerAccessed(t),t.value);return getter[No]=t,getter}(e),l=n[No];return t?.equal&&(l.equal=t.equal),n.set=e=>signalSetFn(l,e),n.update=e=>function(e,t){producerUpdatesAllowed()||throwInvalidWriteToSignalError(),signalSetFn(e,t(e.value))}(l,e),n.asReadonly=signalAsReadonlyFn.bind(n),n}function signalAsReadonlyFn(){const e=this[No];if(void 0===e.readonlyFn){const readonlyFn=()=>this();readonlyFn[No]=e,e.readonlyFn=readonlyFn}return e.readonlyFn}function untracked(e){const t=setActiveConsumer(null);try{return e()}finally{setActiveConsumer(t)}}let Xu=(()=>{class ChangeDetectorRef2{}return ChangeDetectorRef2.__NG_ELEMENT_ID__=injectChangeDetectorRef,ChangeDetectorRef2})();function injectChangeDetectorRef(e){return function(e,t,n){if(isComponentHost(e)&&!n){const n=getComponentLViewByIndex(e.index,t);return new ViewRef$1(n,n)}if(47&e.type){const e=t[Mc];return new ViewRef$1(e,t)}return null}(getCurrentTNode(),getLView(),16==(16&e))}let Vu=(()=>{var e;class DestroyRef2{}return(e=DestroyRef2).__NG_ELEMENT_ID__=injectDestroyRef,e.__NG_ENV_ID__=e=>e,DestroyRef2})();class NodeInjectorDestroyRef extends Vu{constructor(e){super(),this._lView=e}onDestroy(e){return storeLViewOnDestroy(this._lView,e),()=>function(e,t){if(null===e[oa])return;const n=e[oa].indexOf(t);-1!==n&&e[oa].splice(n,1)}(this._lView,e)}}function injectDestroyRef(){return new NodeInjectorDestroyRef(getLView())}const Wu=new InjectionToken("",{providedIn:"root",factory:()=>inject(Ru)});let Ru=(()=>{var e;class EffectScheduler2{}return(e=EffectScheduler2).prov=defineInjectable({token:e,providedIn:"root",factory:()=>new ZoneAwareEffectScheduler}),EffectScheduler2})();class ZoneAwareEffectScheduler{constructor(){this.hasQueuedFlush=!1,this.queuedEffectCount=0,this.queues=new Map}scheduleEffect(e){this.enqueue(e),this.hasQueuedFlush||(queueMicrotask((()=>this.flush())),this.hasQueuedFlush=!1)}enqueue(e){const t=e.creationZone;this.queues.has(t)||this.queues.set(t,new Set);const n=this.queues.get(t);n.has(e)||(this.queuedEffectCount++,n.add(e))}flush(){for(;this.queuedEffectCount>0;)for(const[e,t]of this.queues)null===e?this.flushQueue(t):e.run((()=>this.flushQueue(t)))}flushQueue(e){for(const t of e)e.delete(t),this.queuedEffectCount--,t.run()}}class EffectHandle{constructor(e,t,n,l,i,s){this.scheduler=e,this.effectFn=t,this.creationZone=n,this.injector=i,this.watcher=createWatch((e=>this.runEffect(e)),(()=>this.schedule()),s),this.unregisterOnDestroy=l?.onDestroy((()=>this.destroy()))}runEffect(e){try{this.effectFn(e)}catch(e){const t=this.injector.get(ErrorHandler,null,{optional:!0});t?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function effect(e,t){var n;performanceMarkFeature("NgSignals"),!t?.injector&&assertInInjectionContext();const l=t?.injector??inject(Fr),i=!0!==t?.manualCleanup?l.get(Vu):null,s=new EffectHandle(l.get(Wu),e,"undefined"==typeof Zone?null:Zone.current,i,l,t?.allowSignalWrites??!1),o=l.get(Xu,null,{optional:!0});return o&&8&o._lView[ec]?((n=o._lView)[ca]??(n[ca]=[])).push(s.watcher.notify):s.watcher.notify(),s}function noop$2(...e){}class NgZone{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ho(!1),this.onMicrotaskEmpty=new Ho(!1),this.onStable=new Ho(!1),this.onError=new Ho(!1),"undefined"==typeof Zone)throw new RuntimeError(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!n&&t,l.shouldCoalesceRunChangeDetection=n,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){const e="function"==typeof Uo.requestAnimationFrame;let t=Uo[e?"requestAnimationFrame":"setTimeout"],n=Uo[e?"cancelAnimationFrame":"clearTimeout"];if("undefined"!=typeof Zone&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const l=n[Zone.__symbol__("OriginalDelegate")];l&&(n=l)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(e){const delayChangeDetectionForEventsDelegate=()=>{!function(e){if(e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId)return;e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Uo,(()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",(()=>{e.lastRequestAnimationFrameId=-1,updateMicroTaskStatus(e),e.isCheckStableRunning=!0,checkStable(e),e.isCheckStableRunning=!1}),void 0,(()=>{}),(()=>{}))),e.fakeTopEventTask.invoke()})),updateMicroTaskStatus(e)}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,l,i,s,o)=>{if(function(e){if(!Array.isArray(e))return!1;if(1!==e.length)return!1;return!0===e[0].data?.__ignore_ng_zone__}(o))return t.invokeTask(l,i,s,o);try{return onEnter(e),t.invokeTask(l,i,s,o)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&delayChangeDetectionForEventsDelegate(),onLeave(e)}},onInvoke:(t,n,l,i,s,o,u)=>{try{return onEnter(e),t.invoke(l,i,s,o,u)}finally{e.shouldCoalesceRunChangeDetection&&delayChangeDetectionForEventsDelegate(),onLeave(e)}},onHasTask:(t,n,l,i)=>{t.hasTask(l,i),n===l&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,updateMicroTaskStatus(e),checkStable(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,l,i)=>(t.handleError(l,i),e.runOutsideAngular((()=>e.onError.emit(i))),!1)})}(l)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!NgZone.isInAngularZone())throw new RuntimeError(909,!1)}static assertNotInAngularZone(){if(NgZone.isInAngularZone())throw new RuntimeError(909,!1)}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,l){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+l,e,gu,noop$2,noop$2);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const gu={};function checkStable(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((()=>e.onStable.emit(null)))}finally{e.isStable=!0}}}function updateMicroTaskStatus(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function onEnter(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function onLeave(e){e._nesting--,checkStable(e)}class NoopNgZone{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ho,this.onMicrotaskEmpty=new Ho,this.onStable=new Ho,this.onError=new Ho}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,l){return e.apply(t,n)}}let Iu=(()=>{var e;class AfterRenderEventManager2{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const t of e)t()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(e=AfterRenderEventManager2).prov=defineInjectable({token:e,providedIn:"root",factory:()=>new e}),AfterRenderEventManager2})();function computeStaticStyling(e,t,n){let l=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let e=0;e<t.length;e++){const n=t[e];if("number"==typeof n)s=n;else if(1==s)i=concatStringsWithSpace(i,n);else if(2==s){l=concatStringsWithSpace(l,n+": "+t[++e]+";")}}n?e.styles=l:e.stylesWithoutHost=l,n?e.classes=i:e.classesWithoutHost=i}class ComponentFactoryResolver extends bu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=getComponentDef(e);return new ComponentFactory(t,this.ngModule)}}function toRefArray(e){const t=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const l=e[n];void 0!==l&&t.push({propName:Array.isArray(l)?l[0]:l,templateName:n})}return t}class ChainedInjector{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,n){n=convertToBitFlags(n);const l=this.injector.get(e,yu,n);return l!==yu||t===yu?l:this.parentInjector.get(e,t,n)}}class ComponentFactory extends ComponentFactory$1{get inputs(){const e=this.componentDef,t=e.inputTransforms,n=toRefArray(e.inputs);if(null!==t)for(const e of n)t.hasOwnProperty(e.propName)&&(e.transform=t[e.propName]);return n}get outputs(){return toRefArray(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(stringifyCSSSelector).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,n,l){let i=(l=l||this.ngModule)instanceof EnvironmentInjector?l:l?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new ChainedInjector(e,i):e,o=s.get(RendererFactory2,null);if(null===o)throw new RuntimeError(407,!1);const u={rendererFactory:o,sanitizer:s.get(Zu,null),inlineEffectRunner:null,afterRenderEventManager:s.get(Iu,null),changeDetectionScheduler:s.get(ChangeDetectionScheduler,null)},d=o.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",m=n?locateHostElement(d,n,this.componentDef.encapsulation,s):createElementNode(d,h,function(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(h));let b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let V=null;null!==m&&(V=retrieveHydrationInfo(m,s,!0));const g=createTView(0,null,null,1,0,null,null,null,null,null,null),f=createLView(null,g,null,b,null,null,u,d,s,null,V);let S,L;enterView(f);try{const e=this.componentDef;let l,i=null;e.findHostDirectiveDefs?(l=[],i=new Map,e.findHostDirectiveDefs(e,l,i),l.push(e)):l=[e];const s=function(e,t){const n=e[$o],l=ua;return e[l]=t,getOrCreateTNode(n,l,2,"#host",null)}(f,m),o=function(e,t,n,l,i,s,o){const u=i[$o];!function(e,t,n,l){for(const n of e)t.mergedAttrs=mergeHostAttrs(t.mergedAttrs,n.hostAttrs);null!==t.mergedAttrs&&(computeStaticStyling(t,t.mergedAttrs,!0),null!==n&&setupStaticAttributes(l,n,t))}(l,e,t,o);let d=null;null!==t&&(d=retrieveHydrationInfo(t,i[fc]));const h=s.rendererFactory.createRenderer(t,n);let m=16;n.signals?m=4096:n.onPush&&(m=64);const b=createLView(i,getOrCreateComponentTView(n),null,m,i[e.index],e,s,h,null,null,d);u.firstCreatePass&&markAsComponentHost(u,e,l.length-1);return addToViewTree(i,b),i[e.index]=b}(s,m,e,l,f,u,d);L=getTNode(g,ua),m&&function(e,t,n,l){if(l)setUpAttributes(e,n,["ng-version","17.2.3"]);else{const{attrs:l,classes:i}=function(e){const t=[],n=[];let l=1,i=2;for(;l<e.length;){let s=e[l];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++l]):8===i&&n.push(s);else{if(!isPositive(i))break;i=s}l++}return{attrs:t,classes:n}}(t.selectors[0]);l&&setUpAttributes(e,n,l),i&&i.length>0&&writeDirectClass(e,n,i.join(" "))}}(d,e,m,n),void 0!==t&&function(e,t,n){const l=e.projection=[];for(let e=0;e<t.length;e++){const t=n[e];l.push(null!=t?Array.from(t):null)}}(L,this.ngContentSelectors,t),S=function(e,t,n,l,i,s){const o=getCurrentTNode(),u=i[$o],d=getNativeByTNode(o,i);initializeDirectives(u,i,o,n,null,l);for(let e=0;e<n.length;e++){attachPatchData(getNodeInjectable(i,u,o.directiveStart+e,o),i)}invokeDirectivesHostBindings(u,i,o),d&&attachPatchData(d,i);const h=getNodeInjectable(i,u,o.directiveStart+o.componentOffset,o);if(e[Ic]=i[Ic]=h,null!==s)for(const e of s)e(h,t);return executeContentQueries(u,o,i),h}(o,e,l,i,f,[LifecycleHooksFeature]),renderView(g,f,null)}finally{leaveView()}return new ComponentRef(this.componentType,S,createElementRef(L,f),f,L)}}class ComponentRef extends ComponentRef$1{constructor(e,t,n,l,i){super(),this.location=n,this._rootLView=l,this._tNode=i,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new ViewRef$1(l,void 0,!1),this.componentType=e}setInput(e,t){const n=this._tNode.inputs;let l;if(null!==n&&(l=n[e])){if(this.previousInputValues??(this.previousInputValues=new Map),this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const n=this._rootLView;setInputsForProperty(n[$o],n,l,e,t),this.previousInputValues.set(e,t);markViewDirty(getComponentLViewByIndex(this._tNode.index,n))}}get injector(){return new NodeInjector(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function LifecycleHooksFeature(){const e=getCurrentTNode();registerPostOrderHooks(getLView()[$o],e)}let fu=(()=>{class ViewContainerRef3{}return ViewContainerRef3.__NG_ELEMENT_ID__=injectViewContainerRef,ViewContainerRef3})();function injectViewContainerRef(){return function(e,t){let n;const l=t[e.index];isLContainer(l)?n=l:(n=createLContainer(l,t,null,e),t[e.index]=n,addToViewTree(t,n));return Yu(n,t,e,l),new Lu(n,e,t)}(getCurrentTNode(),getLView())}const Su=fu,Lu=class extends Su{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return createElementRef(this._hostTNode,this._hostLView)}get injector(){return new NodeInjector(this._hostTNode,this._hostLView)}get parentInjector(){const e=getParentInjectorLocation(this._hostTNode,this._hostLView);if(hasParentInjector(e)){const t=getParentInjectorView(e,this._hostLView),n=getParentInjectorIndex(e),l=t[$o].data[n+8];return new NodeInjector(l,t)}return new NodeInjector(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=getViewRefs(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Va}createEmbeddedView(e,t,n){let l,i;"number"==typeof n?l=n:null!=n&&(l=n.index,i=n.injector);const s=findMatchingDehydratedView(this._lContainer,e.ssrId),o=e.createEmbeddedViewImpl(t||{},i,s);return this.insertImpl(o,l,shouldAddViewToDom(this._hostTNode,s)),o}createComponent(e,t,n,l,i){const s=e&&!function(e){return"function"==typeof e}(e);let o;if(s)o=t;else{const e=t||{};o=e.index,n=e.injector,l=e.projectableNodes,i=e.environmentInjector||e.ngModuleRef}const u=s?e:new ComponentFactory(getComponentDef(e)),d=n||this.parentInjector;if(!i&&null==u.ngModule){const e=(s?d:this.parentInjector).get(EnvironmentInjector,null);e&&(i=e)}const h=getComponentDef(u.componentType??{}),m=findMatchingDehydratedView(this._lContainer,h?.id??null),b=m?.firstChild??null,V=u.create(d,l,b,i);return this.insertImpl(V.hostView,o,shouldAddViewToDom(this._hostTNode,m)),V}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,n){const l=e._lView;if(isLContainer(l[tc])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=l[tc],n=new Lu(t,t[Xc],t[tc]);n.detach(n.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;return addLViewToLContainer(s,l,i,n),e.attachToViewContainerRef(),addToArray(getOrCreateViewRefs(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=getViewRefs(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=detachView(this._lContainer,t);n&&(removeFromArray(getOrCreateViewRefs(this._lContainer),t),destroyLView(n[$o],n))}detach(e){const t=this._adjustIndex(e,-1),n=detachView(this._lContainer,t);return n&&null!=removeFromArray(getOrCreateViewRefs(this._lContainer),t)?new ViewRef$1(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function getViewRefs(e){return e[8]}function getOrCreateViewRefs(e){return e[8]||(e[8]=[])}let Yu=createAnchorNode,_populateDehydratedViewsInLContainer=()=>!1;function createAnchorNode(e,t,n,l){if(e[Ga])return;let i;i=8&n.type?unwrapRNode(l):function(e,t){const n=e[Yc],l=n.createComment(""),i=getNativeByTNode(t,e);return nativeInsertBefore(n,nativeParentNode(n,i),l,function(e,t){return e.nextSibling(t)}(n,i),!1),l}(t,n),e[Ga]=i}function populateDehydratedViewsInLContainerImpl(e,t,n){if(e[Ga]&&e[ba])return!0;const l=n[Vc],i=t.index-ua;if(!l||isInSkipHydrationBlock(t)||isDisconnectedNode$1(l,i))return!1;const s=getSegmentHead(l,i),o=l.data[hr]?.[i],[u,d]=function(e,t){const n=[];for(const l of t)for(let t=0;t<(l[mr]??1);t++){const t={data:l,firstChild:null};l[br]>0&&(t.firstChild=e,e=siblingAfter(l[br],e)),n.push(t)}return[e,n]}(s,o);return e[Ga]=u,e[ba]=d,!0}function locateOrCreateAnchorNode(e,t,n,l){_populateDehydratedViewsInLContainer(e,n,t)||createAnchorNode(e,t,n,l)}function HostDirectivesFeature(e){const feature=t=>{const n=(Array.isArray(e)?e:e()).map((e=>"function"==typeof e?{directive:resolveForwardRef(e),inputs:Eo,outputs:Eo}:{directive:resolveForwardRef(e.directive),inputs:bindingArrayToMap(e.inputs),outputs:bindingArrayToMap(e.outputs)}));null===t.hostDirectives?(t.findHostDirectiveDefs=findHostDirectiveDefs,t.hostDirectives=n):t.hostDirectives.unshift(...n)};return feature.ngInherit=!0,feature}function findHostDirectiveDefs(e,t,n){if(null!==e.hostDirectives)for(const l of e.hostDirectives){const e=getDirectiveDef(l.directive);patchDeclaredInputs(e.declaredInputs,l.inputs),findHostDirectiveDefs(e,t,n),n.set(e,l),t.push(e)}}function bindingArrayToMap(e){if(void 0===e||0===e.length)return Eo;const t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}function patchDeclaredInputs(e,t){for(const n in t)if(t.hasOwnProperty(n)){const l=t[n],i=e[n];e[l]=i}}class NgModuleRef$1{}class NgModuleFactory$1{}class NgModuleRef extends NgModuleRef$1{constructor(e,t,n){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ComponentFactoryResolver(this);const l=getNgModuleDef(e);this._bootstrapComponents=maybeUnwrapFn(l.bootstrap),this._r3Injector=createInjectorWithoutInjectorInstances(e,t,[{provide:NgModuleRef$1,useValue:this},{provide:bu,useValue:this.componentFactoryResolver},...n],stringify$1(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((e=>e())),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class NgModuleFactory extends NgModuleFactory$1{constructor(e){super(),this.moduleType=e}create(e){return new NgModuleRef(this.moduleType,e,[])}}class EnvironmentNgModuleRefAdapter extends NgModuleRef$1{constructor(e){super(),this.componentFactoryResolver=new ComponentFactoryResolver(this),this.instance=null;const t=new R3Injector([...e.providers,{provide:NgModuleRef$1,useValue:this},{provide:bu,useValue:this.componentFactoryResolver}],e.parent||getNullInjector(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function createEnvironmentInjector(e,t,n=null){return new EnvironmentNgModuleRefAdapter({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let Ku=(()=>{var e;class PendingTasks2{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ll(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=PendingTasks2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"root"}),PendingTasks2})();function bindingUpdated(e,t,n){const l=e[t];return!Object.is(l,n)&&(e[t]=n,!0)}function template(e,t,n,l,i,s,o,u){const d=getLView(),h=getTView(),m=e+ua,b=h.firstCreatePass?function(e,t,n,l,i,s,o,u,d){const h=t.consts,m=getOrCreateTNode(t,e,4,o||null,getConstant(h,u));resolveDirectives(t,n,m,getConstant(h,d)),registerPostOrderHooks(t,m);const b=m.tView=createTView(2,m,l,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h,null);return null!==t.queries&&(t.queries.template(t,m),b.queries=t.queries.embeddedTView(m)),m}(m,h,d,t,n,l,i,s,o):h.data[m];setCurrentTNode(b,!1);const V=xu(h,d,b,e);wasLastNodeCreated()&&appendChild(h,d,V,b),attachPatchData(V,d);const g=createLContainer(V,d,V,b);return d[m]=g,addToViewTree(d,g),function(e,t,n){_populateDehydratedViewsInLContainer(e,t,n)}(g,b,d),isDirectiveHost(b)&&createDirectivesInstances(h,d,b),null!=o&&saveResolvedLocalsInData(d,b,u),template}let xu=createContainerAnchorImpl;function createContainerAnchorImpl(e,t,n,l){return lastNodeWasCreated(!0),t[Yc].createComment("")}function locateOrCreateContainerAnchorImpl(e,t,n,l){const i=t[Vc],s=!i||isInSkipHydrationBlock$1()||isDisconnectedNode$1(i,l);if(lastNodeWasCreated(s),s)return createContainerAnchorImpl(0,t);const o=i.data[dr]?.[l]??null;null!==o&&null!==n.tView&&null===n.tView.ssrId&&(n.tView.ssrId=o);const u=locateNextRNode(i,e,t,n);setSegmentHead(i,l,u);return siblingAfter(calcSerializedContainerSize(i,l),u)}function toTStylingRange(e,t){return e<<17|t<<2}function getTStylingRangePrev(e){return e>>17&32767}function setTStylingRangePrevDuplicate(e){return 2|e}function getTStylingRangeNext(e){return(131068&e)>>2}function setTStylingRangeNext(e,t){return-131069&e|t<<2}function setTStylingRangeNextDuplicate(e){return 1|e}function insertTStylingBinding(e,t,n,l,i,s){let o=s?t.classBindings:t.styleBindings,u=getTStylingRangePrev(o),d=getTStylingRangeNext(o);e[l]=n;let h,m=!1;if(Array.isArray(n)){const e=n;h=e[1],(null===h||keyValueArrayIndexOf(e,h)>0)&&(m=!0)}else h=n;if(i){if(0!==d){const t=getTStylingRangePrev(e[u+1]);e[l+1]=toTStylingRange(t,u),0!==t&&(e[t+1]=setTStylingRangeNext(e[t+1],l)),e[u+1]=131071&e[u+1]|l<<17}else e[l+1]=toTStylingRange(u,0),0!==u&&(e[u+1]=setTStylingRangeNext(e[u+1],l)),u=l}else e[l+1]=toTStylingRange(d,0),0===u?u=l:e[d+1]=setTStylingRangeNext(e[d+1],l),d=l;m&&(e[l+1]=setTStylingRangePrevDuplicate(e[l+1])),markDuplicates(e,h,l,!0),markDuplicates(e,h,l,!1),function(e,t,n,l,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&keyValueArrayIndexOf(s,t)>=0&&(n[l+1]=setTStylingRangeNextDuplicate(n[l+1]))}(t,h,e,l,s),o=toTStylingRange(u,d),s?t.classBindings=o:t.styleBindings=o}function markDuplicates(e,t,n,l){const i=e[n+1],s=null===t;let o=l?getTStylingRangePrev(i):getTStylingRangeNext(i),u=!1;for(;0!==o&&(!1===u||s);){const n=e[o],i=e[o+1];isStylingMatch(n,t)&&(u=!0,e[o+1]=l?setTStylingRangeNextDuplicate(i):setTStylingRangePrevDuplicate(i)),o=l?getTStylingRangePrev(i):getTStylingRangeNext(i)}u&&(e[n+1]=l?setTStylingRangePrevDuplicate(i):setTStylingRangeNextDuplicate(i))}function isStylingMatch(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&keyValueArrayIndexOf(e,t)>=0}const Nu={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function getLastParsedKey(e){return e.substring(Nu.key,Nu.keyEnd)}function parseClassName(e){return function(e){Nu.key=0,Nu.keyEnd=0,Nu.value=0,Nu.valueEnd=0,Nu.textEnd=e.length}(e),parseClassNameNext(e,consumeWhitespace(e,0,Nu.textEnd))}function parseClassNameNext(e,t){const n=Nu.textEnd;return n===t?-1:(t=Nu.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Nu.key=t,n),consumeWhitespace(e,t,n))}function consumeWhitespace(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function property(e,t,n){const l=getLView();if(bindingUpdated(l,nextBindingIndex(),t)){elementPropertyInternal(getTView(),function(){const e=ga.lFrame;return getTNode(e.tView,e.selectedIndex)}(),l,e,t,l[Yc],n,!1)}return property}function setDirectiveInputsWhichShadowsStyling(e,t,n,l,i){const s=i?"class":"style";setInputsForProperty(e,n,t.inputs[s],s,l)}function classMap(e){!function(e,t,n,l){const i=getTView(),s=function(e){const t=ga.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);i.firstUpdatePass&&function(e,t,n,l){const i=e.data;if(null===i[n+1]){const s=i[getSelectedIndex()],o=isInHostBindings(e,n);hasStylingInputShadow(s,l)&&null===t&&!o&&(t=!1),t=function(e,t,n,l){const i=function(e){const t=ga.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=l?t.residualClasses:t.residualStyles;if(null===i){0===(l?t.classBindings:t.styleBindings)&&(n=collectStylingFromTAttrs(n=collectStylingFromDirectives(null,e,t,n,l),t.attrs,l),s=null)}else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=collectStylingFromDirectives(i,e,t,n,l),null===s){let n=function(e,t,n){const l=n?t.classBindings:t.styleBindings;if(0===getTStylingRangeNext(l))return;return e[getTStylingRangePrev(l)]}(e,t,l);void 0!==n&&Array.isArray(n)&&(n=collectStylingFromDirectives(null,e,t,n[1],l),n=collectStylingFromTAttrs(n,t.attrs,l),function(e,t,n,l){const i=n?t.classBindings:t.styleBindings;e[getTStylingRangePrev(i)]=l}(e,t,l,n))}else s=function(e,t,n){let l;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++){l=collectStylingFromTAttrs(l,e[s].hostAttrs,n)}return collectStylingFromTAttrs(l,t.attrs,n)}(e,t,l)}void 0!==s&&(l?t.residualClasses=s:t.residualStyles=s);return n}(i,s,t,l),insertTStylingBinding(i,s,t,n,o,l)}}(i,null,s,l);const o=getLView();if(n!==ou&&bindingUpdated(o,s,n)){const u=i.data[getSelectedIndex()];if(hasStylingInputShadow(u,l)&&!isInHostBindings(i,s)){let e=l?u.classesWithoutHost:u.stylesWithoutHost;null!==e&&(n=concatStringsWithSpace(e,n||"")),setDirectiveInputsWhichShadowsStyling(i,u,o,n,l)}else!function(e,t,n,l,i,s,o,u){i===ou&&(i=Mo);let d=0,h=0,m=0<i.length?i[0]:null,b=0<s.length?s[0]:null;for(;null!==m||null!==b;){const V=d<i.length?i[d+1]:void 0,g=h<s.length?s[h+1]:void 0;let f,S=null;m===b?(d+=2,h+=2,V!==g&&(S=b,f=g)):null===b||null!==m&&m<b?(d+=2,S=m):(h+=2,S=b,f=g),null!==S&&updateStyling(e,t,n,l,S,f,o,u),m=d<i.length?i[d]:null,b=h<s.length?s[h]:null}}(i,u,o,o[Yc],o[s+1],o[s+1]=function(e,t,n){if(null==n||""===n)return Mo;const l=[],i=unwrapSafeValue(n);if(Array.isArray(i))for(let t=0;t<i.length;t++)e(l,i[t],!0);else if("object"==typeof i)for(const t in i)i.hasOwnProperty(t)&&e(l,t,i[t]);else"string"==typeof i&&t(l,i);return l}(e,t,n),l,s)}}(classKeyValueArraySet,classStringParser,e,!0)}function classStringParser(e,t){for(let n=parseClassName(t);n>=0;n=parseClassNameNext(t,n))keyValueArraySet(e,getLastParsedKey(t),!0)}function isInHostBindings(e,t){return t>=e.expandoStartIndex}function collectStylingFromDirectives(e,t,n,l,i){let s=null;const o=n.directiveEnd;let u=n.directiveStylingLast;for(-1===u?u=n.directiveStart:u++;u<o&&(s=t[u],l=collectStylingFromTAttrs(l,s.hostAttrs,i),s!==e);)u++;return null!==e&&(n.directiveStylingLast=u),l}function collectStylingFromTAttrs(e,t,n){const l=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===l&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),keyValueArraySet(e,o,!!n||t[++s]))}return void 0===e?null:e}function classKeyValueArraySet(e,t,n){const l=String(t);""===l||l.includes(" ")||keyValueArraySet(e,l,n)}function updateStyling(e,t,n,l,i,s,o,u){if(!(3&t.type))return;const d=e.data,h=d[u+1];if(!isStylingValuePresent(1==(1&h)?findStylingValue(d,t,n,i,getTStylingRangeNext(h),o):void 0)){isStylingValuePresent(s)||function(e){return 2==(2&e)}(h)&&(s=findStylingValue(d,null,n,i,u,o));!function(e,t,n,l,i){if(t)i?e.addClass(n,l):e.removeClass(n,l);else{let t=-1===l.indexOf("-")?void 0:iu.DashCase;null==i?e.removeStyle(n,l,t):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),t|=iu.Important),e.setStyle(n,l,i,t))}}(l,o,getNativeByIndex(getSelectedIndex(),n),i,s)}}function findStylingValue(e,t,n,l,i,s){const o=null===t;let u;for(;i>0;){const t=e[i],s=Array.isArray(t),d=s?t[1]:t,h=null===d;let m=n[i+1];m===ou&&(m=h?Mo:void 0);let b=h?keyValueArrayGet(m,l):d===l?m:void 0;if(s&&!isStylingValuePresent(b)&&(b=keyValueArrayGet(t,l)),isStylingValuePresent(b)&&(u=b,o))return u;const V=e[i+1];i=o?getTStylingRangePrev(V):getTStylingRangeNext(V)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(u=keyValueArrayGet(e,l))}return u}function isStylingValuePresent(e){return void 0!==e}function hasStylingInputShadow(e,t){return 0!=(e.flags&(t?8:16))}class LiveCollection{destroy(e){}updateValue(e,t){}swap(e,t){const n=Math.min(e,t),l=Math.max(e,t),i=this.detach(l);if(l-n>1){const e=this.detach(n);this.attach(n,i),this.attach(l,e)}else this.attach(n,i)}move(e,t){this.attach(t,this.detach(e))}}function valuesMatching(e,t,n,l,i){return e===n&&Object.is(t,l)?1:Object.is(i(e,t),i(n,l))?-1:0}function attachPreviouslyDetached(e,t,n,l){return!(void 0===t||!t.has(l))&&(e.attach(n,t.get(l)),t.delete(l),!0)}function createOrAttach(e,t,n,l,i){if(attachPreviouslyDetached(e,t,l,n(l,i)))e.updateValue(l,i);else{const t=e.create(l,i);e.attach(l,t)}}function initLiveItemsInTheFuture(e,t,n,l){const i=new Set;for(let s=t;s<=n;s++)i.add(l(s,e.at(s)));return i}class UniqueValueMultiKeyMap{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;const t=this.kvMap.get(e);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let n=this.kvMap.get(e);void 0===this._vMap&&(this._vMap=new Map);const l=this._vMap;for(;l.has(n);)n=l.get(n);l.set(n,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,n]of this.kvMap)if(e(n,t),void 0!==this._vMap){const l=this._vMap;for(;l.has(n);)n=l.get(n),e(n,t)}}}function conditional(e,t,n){performanceMarkFeature("NgControlFlow");const l=getLView(),i=nextBindingIndex(),s=getLContainer(l,ua+e);if(bindingUpdated(l,i,t)){const e=setActiveConsumer(null);try{if(removeLViewFromLContainer(s,0),-1!==t){const e=getExistingTNode(l[$o],ua+t),i=findMatchingDehydratedView(s,e.tView.ssrId);addLViewToLContainer(s,createAndRenderEmbeddedLView(l,e,n,{dehydratedView:i}),0,shouldAddViewToDom(e,i))}}finally{setActiveConsumer(e)}}else{const e=getLViewFromLContainer(s,0);void 0!==e&&(e[Ic]=n)}}class RepeaterContext{constructor(e,t,n){this.lContainer=e,this.$implicit=t,this.$index=n}get $count(){return this.lContainer.length-Va}}class RepeaterMetadata{constructor(e,t,n){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=n}}class LiveCollectionLContainerImpl extends LiveCollection{constructor(e,t,n){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=n,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Va}at(e){return this.getLView(e)[Ic].$implicit}attach(e,t){const n=t[Vc];this.needsIndexUpdate||(this.needsIndexUpdate=e!==this.length),addLViewToLContainer(this.lContainer,t,e,shouldAddViewToDom(this.templateTNode,n))}detach(e){return this.needsIndexUpdate||(this.needsIndexUpdate=e!==this.length-1),function(e,t){const n=detachView(e,t);return n}(this.lContainer,e)}create(e,t){const n=findMatchingDehydratedView(this.lContainer,this.templateTNode.tView.ssrId);return createAndRenderEmbeddedLView(this.hostLView,this.templateTNode,new RepeaterContext(this.lContainer,t,e),{dehydratedView:n})}destroy(e){destroyLView(e[$o],e)}updateValue(e,t){this.getLView(e)[Ic].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ic].$index=e}getLView(e){return function(e,t){const n=getLViewFromLContainer(e,t);return n}(this.lContainer,e)}}function repeater(e){const t=setActiveConsumer(null),n=getSelectedIndex();try{const t=getLView(),l=t[$o],i=t[n];if(void 0===i.liveCollection){const e=n+1,s=getLContainer(t,e),o=getExistingTNode(l,e);i.liveCollection=new LiveCollectionLContainerImpl(s,t,o)}else i.liveCollection.reset();const s=i.liveCollection;if(function(e,t,n){let l,i,s=0,o=e.length-1;if(Array.isArray(t)){let u=t.length-1;for(;s<=o&&s<=u;){const d=e.at(s),h=t[s],m=valuesMatching(s,d,s,h,n);if(0!==m){m<0&&e.updateValue(s,h),s++;continue}const b=e.at(o),V=t[u],g=valuesMatching(o,b,u,V,n);if(0!==g){g<0&&e.updateValue(o,V),o--,u--;continue}const f=n(s,d),S=n(o,b),L=n(s,h);if(Object.is(L,S)){const t=n(u,V);Object.is(t,f)?(e.swap(s,o),e.updateValue(o,V),u--,o--):e.move(o,s),e.updateValue(s,h),s++}else if(l??(l=new UniqueValueMultiKeyMap),i??(i=initLiveItemsInTheFuture(e,s,o,n)),attachPreviouslyDetached(e,l,s,L))e.updateValue(s,h),s++,o++;else if(i.has(L))l.set(f,e.detach(s)),o--;else{const n=e.create(s,t[s]);e.attach(s,n),s++,o++}}for(;s<=u;)createOrAttach(e,l,n,s,t[s]),s++}else if(null!=t){const u=t[Symbol.iterator]();let d=u.next();for(;!d.done&&s<=o;){const t=e.at(s),h=d.value,m=valuesMatching(s,t,s,h,n);if(0!==m)m<0&&e.updateValue(s,h),s++,d=u.next();else{l??(l=new UniqueValueMultiKeyMap),i??(i=initLiveItemsInTheFuture(e,s,o,n));const m=n(s,h);if(attachPreviouslyDetached(e,l,s,m))e.updateValue(s,h),s++,o++,d=u.next();else if(i.has(m)){const i=n(s,t);l.set(i,e.detach(s)),o--}else e.attach(s,e.create(s,h)),s++,o++,d=u.next()}}for(;!d.done;)createOrAttach(e,l,n,e.length,d.value),d=u.next()}for(;s<=o;)e.destroy(e.detach(o--));l?.forEach((t=>{e.destroy(t)}))}(s,e,i.trackByFn),s.updateIndexes(),i.hasEmptyBlock){const e=nextBindingIndex(),i=0===s.length;if(bindingUpdated(t,e,i)){const e=n+2,s=getLContainer(t,e);if(i){const n=getExistingTNode(l,e),i=findMatchingDehydratedView(s,n.tView.ssrId);addLViewToLContainer(s,createAndRenderEmbeddedLView(t,n,void 0,{dehydratedView:i}),0,shouldAddViewToDom(n,i))}else removeLViewFromLContainer(s,0)}}}finally{setActiveConsumer(t)}}function getLContainer(e,t){return e[t]}function getExistingTNode(e,t){return getTNode(e,t)}function elementStart(e,t,n,l){const i=getLView(),s=getTView(),o=ua+e,u=i[Yc],d=s.firstCreatePass?function(e,t,n,l,i,s){const o=t.consts,u=getOrCreateTNode(t,e,2,l,getConstant(o,i));return resolveDirectives(t,n,u,getConstant(o,s)),null!==u.attrs&&computeStaticStyling(u,u.attrs,!1),null!==u.mergedAttrs&&computeStaticStyling(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(o,s,i,t,n,l):s.data[o],h=_locateOrCreateElementNode(s,i,d,u,t,e);i[o]=h;const m=isDirectiveHost(d);return setCurrentTNode(d,!0),setupStaticAttributes(u,h,d),32!=(32&d.flags)&&wasLastNodeCreated()&&appendChild(s,i,h,d),0===ga.lFrame.elementDepthCount&&attachPatchData(h,i),ga.lFrame.elementDepthCount++,m&&(createDirectivesInstances(s,i,d),executeContentQueries(s,d,i)),null!==l&&saveResolvedLocalsInData(i,d),elementStart}function elementEnd(){let e=getCurrentTNode();isCurrentTNodeParent()?ga.lFrame.isParent=!1:(e=e.parent,setCurrentTNode(e,!1));const t=e;(function(e){return ga.skipHydrationRootTNode===e})(t)&&(ga.skipHydrationRootTNode=null),ga.lFrame.elementDepthCount--;const n=getTView();return n.firstCreatePass&&(registerPostOrderHooks(n,e),isContentQueryHost(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(8&e.flags)}(t)&&setDirectiveInputsWhichShadowsStyling(n,t,getLView(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&setDirectiveInputsWhichShadowsStyling(n,t,getLView(),t.stylesWithoutHost,!1),elementEnd}function element(e,t,n,l){return elementStart(e,t,n,l),elementEnd(),element}let _locateOrCreateElementNode=(e,t,n,l,i,s)=>(lastNodeWasCreated(!0),createElementNode(l,i,getNamespace$1()));function locateOrCreateElementNodeImpl(e,t,n,l,i,s){const o=t[Vc],u=!o||isInSkipHydrationBlock$1()||isDisconnectedNode$1(o,s);if(lastNodeWasCreated(u),u)return createElementNode(l,i,getNamespace$1());const d=locateNextRNode(o,e,t,n);return getSerializedContainerViews(o,s)&&setSegmentHead(o,s,d.nextSibling),o&&(hasSkipHydrationAttrOnTNode(n)||hasSkipHydrationAttrOnRElement(d))&&isComponentHost(n)&&(!function(e){ga.skipHydrationRootTNode=e}(n),clearElementContents(d)),d}function getCurrentView(){return getLView()}const Tu="en-US";function setLocaleId(e){"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}function listener(e,t,n,l){const i=getLView(),s=getTView(),o=getCurrentTNode();return function(e,t,n,l,i,s,o){const u=isDirectiveHost(l),d=e.firstCreatePass,h=d&&function(e){return e.cleanup||(e.cleanup=[])}(e),m=t[Ic],b=(V=t,V[Wc]||(V[Wc]=[]));var V;let g=!0;if(3&l.type||o){const d=getNativeByTNode(l,t),V=o?o(d):d,f=b.length,S=o?e=>o(unwrapRNode(e[l.index])):l.index;let L=null;if(!o&&u&&(L=function(e,t,n,l){const i=e.cleanup;if(null!=i)for(let e=0;e<i.length-1;e+=2){const s=i[e];if(s===n&&i[e+1]===l){const n=t[Wc],l=i[e+2];return n.length>l?n[l]:null}"string"==typeof s&&(e+=2)}return null}(e,t,i,l.index)),null!==L){(L.__ngLastListenerFn__||L).__ngNextListenerFn__=s,L.__ngLastListenerFn__=s,g=!1}else{s=wrapListener(l,t,m,s,!1);const e=n.listen(V,i,s);b.push(s,e),h&&h.push(i,S,f,f+1)}}else s=wrapListener(l,t,m,s,!1);const f=l.outputs;let S;if(g&&null!==f&&(S=f[i])){const e=S.length;if(e)for(let n=0;n<e;n+=2){const e=S[n],o=S[n+1],u=t[e][o].subscribe(s),d=b.length;if(b.push(s,u),h){const e="function"==typeof u?d+1:-(d+1);h.push(i,l.index,d,e)}}}}(s,i,i[Yc],o,e,t,l),listener}function executeListenerWithErrorHandling(e,t,n,l){try{return profiler(6,t,n),!1!==n(l)}catch(t){return handleError(e,t),!1}}function wrapListener(e,t,n,l,i){return function wrapListenerIn_markDirtyAndPreventDefault(s){if(s===Function)return l;markViewDirty(e.componentOffset>-1?getComponentLViewByIndex(e.index,t):t);let o=executeListenerWithErrorHandling(t,n,l,s),u=wrapListenerIn_markDirtyAndPreventDefault.__ngNextListenerFn__;for(;u;)o=executeListenerWithErrorHandling(t,n,u,s)&&o,u=u.__ngNextListenerFn__;return i&&!1===o&&s.preventDefault(),o}}function nextContext(e=1){return nextContextImpl(e)}function text(e,t=""){const n=getLView(),l=getTView(),i=e+ua,s=l.firstCreatePass?getOrCreateTNode(l,i,1,t,null):l.data[i],o=_locateOrCreateTextNode(l,n,s,t,e);n[i]=o,wasLastNodeCreated()&&appendChild(l,n,o,s),setCurrentTNode(s,!1)}let _locateOrCreateTextNode=(e,t,n,l,i)=>(lastNodeWasCreated(!0),createTextNode(t[Yc],l));function locateOrCreateTextNodeImpl(e,t,n,l,i){const s=t[Vc],o=!s||isInSkipHydrationBlock$1()||isDisconnectedNode$1(s,i);if(lastNodeWasCreated(o),o)return createTextNode(t[Yc],l);return locateNextRNode(s,e,t,n)}function textInterpolate(e){return textInterpolate1("",e,""),textInterpolate}function textInterpolate1(e,t,n){const l=getLView(),i=function(e,t,n,l){return bindingUpdated(e,nextBindingIndex(),n)?t+renderStringify(n)+l:ou}(l,e,t,n);return i!==ou&&function(e,t,n){const l=getNativeByIndex(t,e);!function(e,t,n){e.setValue(t,n)}(e[Yc],l,n)}(l,getSelectedIndex(),i),textInterpolate1}let vu=(()=>{var e;class StandaloneService2{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const t=internalImportProvidersFrom(0,e.type),n=t.length>0?createEnvironmentInjector([t],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,n)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return(e=StandaloneService2).prov=defineInjectable({token:e,providedIn:"environment",factory:()=>new e(inject(EnvironmentInjector))}),StandaloneService2})();function StandaloneFeature(e){performanceMarkFeature("NgStandalone"),e.getStandaloneInjector=t=>t.get(vu).getOrCreateStandaloneInjector(e)}function pureFunction1Internal(e,t,n,l,i,s){const o=t+n;return bindingUpdated(e,o,i)?function(e,t,n){return e[t]=n}(e,o+1,s?l.call(s,i):l(i)):function(e,t){const n=e[t];return n===ou?void 0:n}(e,o+1)}function pipeBind1(e,t,n){const l=e+ua,i=getLView(),s=function(e,t){return e[t]}(i,l);return function(e,t){return e[$o].data[t].pure}(i,l)?pureFunction1Internal(i,function(){const e=ga.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,s.transform,n,s):s.transform(n)}class Version{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const ku=new Version("17.2.3");let Cu=(()=>{var e;class Console2{log(e){console.log(e)}warn(e){console.warn(e)}}return(e=Console2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"platform"}),Console2})();const Hu=new InjectionToken(""),Ju=new InjectionToken("");let Fu,zu=(()=>{var e;class Testability2{constructor(e,t,n){this._ngZone=e,this.registry=t,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Fu||(Fu=n,n.addToWindow(t)),this._watchAngularEvents(),e.run((()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular((()=>{this._ngZone.onStable.subscribe({next:()=>{NgZone.assertNotInAngularZone(),queueMicrotask((()=>{this._isZoneStable=!0,this._runCallbacksIfReady()}))}})}))}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask((()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}}));else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter((t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((e=>({source:e.source,creationLocation:e.creationLocation,data:e.data}))):[]}addCallback(e,t,n){let l=-1;t&&t>0&&(l=setTimeout((()=>{this._callbacks=this._callbacks.filter((e=>e.timeoutId!==l)),e()}),t)),this._callbacks.push({doneCb:e,timeoutId:l,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,t,n){return[]}}return(e=Testability2).fac=function(t){return new(t||e)(inject(NgZone),inject(Uu),inject(Ju))},e.prov=defineInjectable({token:e,factory:e.fac}),Testability2})(),Uu=(()=>{var e;class TestabilityRegistry2{constructor(){this._applications=new Map}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Fu?.findTestabilityInTree(this,e,t)??null}}return(e=TestabilityRegistry2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"platform"}),TestabilityRegistry2})();function isPromise(e){return!!e&&"function"==typeof e.then}function isSubscribable(e){return!!e&&"function"==typeof e.subscribe}const Eu=new InjectionToken("");let Mu=(()=>{var e;class ApplicationInitStatus2{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),this.appInits=inject(Eu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const t of this.appInits){const n=t();if(isPromise(n))e.push(n);else if(isSubscribable(n)){const t=new Promise(((e,t)=>{n.subscribe({complete:e,error:t})}));e.push(t)}}const complete=()=>{this.done=!0,this.resolve()};Promise.all(e).then((()=>{complete()})).catch((e=>{this.reject(e)})),0===e.length&&complete(),this.initialized=!0}}return(e=ApplicationInitStatus2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"root"}),ApplicationInitStatus2})();const wu=new InjectionToken("");function publishSignalConfiguration(){!function(e){throwInvalidWriteToSignalErrorFn=e}((()=>{throw new RuntimeError(600,!1)}))}function _callAndReportToErrorHandler(e,t,n){try{const l=n();return isPromise(l)?l.catch((n=>{throw t.runOutsideAngular((()=>e.handleError(n))),n})):l}catch(n){throw t.runOutsideAngular((()=>e.handleError(n))),n}}function optionsReducer(e,t){return Array.isArray(t)?t.reduce(optionsReducer,e):{...e,...t}}let Pu,ju=(()=>{var e;class ApplicationRef2{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=inject(zr),this.afterRenderEffectManager=inject(Iu),this.componentTypes=[],this.components=[],this.isStable=inject(Ku).hasPendingTasks.pipe(map$1((e=>!e))),this._injector=inject(EnvironmentInjector)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,t){const n=e instanceof ComponentFactory$1;if(!this._injector.get(Mu).done){!n&&function(e){const t=getComponentDef(e)||getDirectiveDef(e)||getPipeDef$1(e);null!==t&&t.standalone}(e);throw new RuntimeError(405,!1)}let l;if(n)l=e;else{l=this._injector.get(bu).resolveComponentFactory(e)}this.componentTypes.push(l.componentType);const i=l.isBoundToModule?void 0:this._injector.get(NgModuleRef$1);const s=t||l.selector,o=l.create(Fr.NULL,[],s,i),u=o.location.nativeElement,d=o.injector.get(Hu,null);return d?.registerApplication(u),o.onDestroy((()=>{this.detachView(o.hostView),remove(this.components,o),d?.unregisterApplication(u)})),this._loadComponent(o),o}tick(){if(this._runningTick)throw new RuntimeError(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let e=0;const t=this.afterRenderEffectManager;for(;;){if(e===ru)throw new RuntimeError(103,!1);const n=0===e;for(let{_lView:e,notifyErrorHandler:t}of this._views)(n||shouldRecheckView(e))&&this.detectChangesInView(e,t,n);if(e++,t.executeInternalCallbacks(),!this._views.some((({_lView:e})=>shouldRecheckView(e)))&&(t.execute(),!this._views.some((({_lView:e})=>shouldRecheckView(e)))))break}}detectChangesInView(e,t,n){let l;n?(l=0,e[ec]|=1024):l=64&e[ec]?0:1,detectChangesInternal(e,t,l)}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;remove(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const t=this._injector.get(wu,[]);[...this._bootstrapListeners,...t].forEach((t=>t(e)))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach((e=>e())),this._views.slice().forEach((e=>e.destroy()))}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>remove(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new RuntimeError(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=ApplicationRef2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"root"}),ApplicationRef2})();function remove(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function whenStable(e){Pu??(Pu=new WeakMap);const t=Pu.get(e);if(t)return t;const n=e.isStable.pipe(first((e=>e))).toPromise().then((()=>{}));return Pu.set(e,n),e.onDestroy((()=>Pu?.delete(e))),n}function shouldRecheckView(e){return requiresRefreshOrTraversal(e)}class ModuleWithComponentFactories{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Bu=(()=>{var e;class Compiler2{compileModuleSync(e){return new NgModuleFactory(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const t=this.compileModuleSync(e),n=maybeUnwrapFn(getNgModuleDef(e).declarations).reduce(((e,t)=>{const n=getComponentDef(t);return n&&e.push(new ComponentFactory(n)),e}),[]);return new ModuleWithComponentFactories(t,n)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return(e=Compiler2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"root"}),Compiler2})();let Qu=(()=>{var e;class NgZoneChangeDetectionScheduler2{constructor(){this.zone=inject(NgZone),this.applicationRef=inject(ju)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run((()=>{this.applicationRef.tick()}))}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=NgZoneChangeDetectionScheduler2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"root"}),NgZoneChangeDetectionScheduler2})();function internalProvideZoneChangeDetection(e){return[{provide:NgZone,useFactory:e},{provide:gr,multi:!0,useFactory:()=>{const e=inject(Qu,{optional:!0});return()=>e.initialize()}},{provide:gr,multi:!0,useFactory:()=>{const e=inject(_u);return()=>{e.initialize()}}},{provide:zr,useFactory:ngZoneApplicationErrorHandlerFactory}]}function ngZoneApplicationErrorHandlerFactory(){const e=inject(NgZone),t=inject(ErrorHandler);return n=>e.runOutsideAngular((()=>t.handleError(n)))}function getNgZoneOptions(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let _u=(()=>{var e;class ZoneStablePendingTask2{constructor(){this.subscription=new En,this.initialized=!1,this.zone=inject(NgZone),this.pendingTasks=inject(Ku)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;this.zone.isStable||this.zone.hasPendingMacrotasks||this.zone.hasPendingMicrotasks||(e=this.pendingTasks.add()),this.zone.runOutsideAngular((()=>{this.subscription.add(this.zone.onStable.subscribe((()=>{NgZone.assertNotInAngularZone(),queueMicrotask((()=>{null===e||this.zone.hasPendingMacrotasks||this.zone.hasPendingMicrotasks||(this.pendingTasks.remove(e),e=null)}))})))})),this.subscription.add(this.zone.onUnstable.subscribe((()=>{NgZone.assertInAngularZone(),e??(e=this.pendingTasks.add())})))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=ZoneStablePendingTask2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"root"}),ZoneStablePendingTask2})();const Du=new InjectionToken("",{providedIn:"root",factory:()=>inject(Du,Jo.Optional|Jo.SkipSelf)||"undefined"!=typeof $localize&&$localize.locale||Tu}),Ou=new InjectionToken("");let Au=(()=>{var e;class PlatformRef2{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e="zone.js",t){return"noop"===e?new NoopNgZone:"zone.js"===e?new NgZone(t):e}(t?.ngZone,getNgZoneOptions({eventCoalescing:t?.ngZoneEventCoalescing,runCoalescing:t?.ngZoneRunCoalescing}));return n.run((()=>{const t=(l=e.moduleType,i=this.injector,s=internalProvideZoneChangeDetection((()=>n)),new NgModuleRef(l,i,s));var l,i,s;const o=t.injector.get(ErrorHandler,null);return n.runOutsideAngular((()=>{const e=n.onError.subscribe({next:e=>{o.handleError(e)}});t.onDestroy((()=>{remove(this._modules,t),e.unsubscribe()}))})),_callAndReportToErrorHandler(o,n,(()=>{const e=t.injector.get(Mu);return e.runInitializers(),e.donePromise.then((()=>(setLocaleId(t.injector.get(Du,Tu)||Tu),this._moduleDoBootstrap(t),t)))}))}))}bootstrapModule(e,t=[]){const n=optionsReducer({},t);return function(e,t,n){const l=new NgModuleFactory(n);return Promise.resolve(l)}(this.injector,0,e).then((e=>this.bootstrapModuleFactory(e,n)))}_moduleDoBootstrap(e){const t=e.injector.get(ju);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((e=>t.bootstrap(e)));else{if(!e.instance.ngDoBootstrap)throw new RuntimeError(-403,!1);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new RuntimeError(404,!1);this._modules.slice().forEach((e=>e.destroy())),this._destroyListeners.forEach((e=>e()));const e=this._injector.get(Ou,null);e&&(e.forEach((e=>e())),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=PlatformRef2).fac=function(t){return new(t||e)(inject(Fr))},e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"platform"}),PlatformRef2})(),qu=null;const $u=new InjectionToken("");function createPlatformFactory(e,t,n=[]){const l=`Platform: ${t}`,i=new InjectionToken(l);return(t=[])=>{let s=getPlatform();if(!s||s.injector.get($u,!1)){const s=[...n,...t,{provide:i,useValue:!0}];e?e(s):function(e){if(qu&&!qu.get($u,!1))throw new RuntimeError(400,!1);publishSignalConfiguration(),qu=e;const t=e.get(Au);runPlatformInitializers(e)}(createPlatformInjector(s,l))}return function(e){const t=getPlatform();if(!t)throw new RuntimeError(401,!1);return t}()}}function createPlatformInjector(e=[],t){return Fr.create({name:t,providers:[{provide:Lr,useValue:"platform"},{provide:Ou,useValue:new Set([()=>qu=null])},...e]})}function getPlatform(){return qu?.get(Au)??null}function runPlatformInitializers(e){const t=e.get(ja,null);t?.forEach((e=>e()))}const td=createPlatformFactory(null,"core",[]);function internalCreateApplication(e){try{const{rootComponent:n,appProviders:l,platformProviders:i}=e;0;const s=function(e=[]){if(qu)return qu;const t=createPlatformInjector(e);return qu=t,publishSignalConfiguration(),runPlatformInitializers(t),t}(i),o=[makeEnvironmentProviders([[],internalProvideZoneChangeDetection((()=>new NgZone(getNgZoneOptions(t))))]),...l||[]],u=new EnvironmentNgModuleRefAdapter({providers:o,parent:s,debugName:"",runEnvironmentInitializers:!1}).injector,d=u.get(NgZone);return d.run((()=>{u.resolveInjectorInitializers();const e=u.get(ErrorHandler,null);let t;d.runOutsideAngular((()=>{t=d.onError.subscribe({next:t=>{e.handleError(t)}})}));const destroyListener=()=>u.destroy(),l=s.get(Ou);return l.add(destroyListener),u.onDestroy((()=>{t.unsubscribe(),l.delete(destroyListener)})),_callAndReportToErrorHandler(e,d,(()=>{const e=u.get(Mu);return e.runInitializers(),e.donePromise.then((()=>{setLocaleId(u.get(Du,Tu)||Tu);const e=u.get(ju);return void 0!==n&&e.bootstrap(n),e}))}))}))}catch(e){return Promise.reject(e)}var t}class SerializedViewCollection{constructor(){this.views=[],this.indexByContent=new Map}add(e){const t=JSON.stringify(e);if(!this.indexByContent.has(t)){const n=this.views.length;return this.views.push(e),this.indexByContent.set(t,n),n}return this.indexByContent.get(t)}getAll(){return this.views}}let nd=0;function getSsrId(e){return e.ssrId||(e.ssrId="t"+nd++),e.ssrId}function calcNumRootNodes(e,t,n){const l=[];return collectNativeNodes(e,t,n,l),l.length}function calcNumRootNodesInLContainer(e){const t=[];return collectNativeNodesInLContainer(e,t),t.length}function annotateComponentLViewForHydration(e,t){const n=e[qo];return n&&!n.hasAttribute(xa)?annotateHostElementForHydration(n,e,t):null}function annotateLContainerForHydration(e,t){const n=unwrapLView(e[qo]),l=annotateComponentLViewForHydration(n,t),i=unwrapRNode(n[qo]),s=`${l}|${annotateHostElementForHydration(i,e[tc],t)}`;n[Yc].setAttribute(i,Xr,s)}function serializeLContainer(e,t){const n=[];let l="";for(let i=Va;i<e.length;i++){let s,o,u,d=e[i];if(isRootView(d)&&(d=d[ua],isLContainer(d))){o=calcNumRootNodesInLContainer(d)+1,annotateLContainerForHydration(d,t);const e=unwrapLView(d[qo]);u={[pr]:e[$o].ssrId,[br]:o}}if(!u){const n=d[$o];1===n.type?(s=n.ssrId,o=1):(s=getSsrId(n),o=calcNumRootNodes(n,d,n.firstChild)),u={[pr]:s,[br]:o,...serializeLView(e[i],t)}}const h=JSON.stringify(u);if(n.length>0&&h===l){const e=n[n.length-1];e[mr]??(e[mr]=1),e[mr]++}else l=h,n.push(u)}return n}function appendSerializedNodePath(e,t,n){const l=t.index-ua;e[Zr]??(e[Zr]={}),e[Zr][l]=function(e,t){let n,l,i,s=e.parent;for(;null!==s&&isDisconnectedNode(s,t);)s=s.parent;null!==s&&3&s.type?(n=s.index,l=unwrapRNode(t[n]),i=renderStringify(n-ua)):(n=i=cr,l=t[Mc][qo]);let o=unwrapRNode(t[e.index]);if(12&e.type){const n=getFirstNativeNode(t,e);n&&(o=n)}let u=calcPathBetween(l,o,i);if(null===u&&l!==o&&(u=calcPathBetween(l.ownerDocument.body,o,ar),null===u))throw nodeNotFoundError(t,e);return u}(t,n)}function appendDisconnectedNodeIndex(e,t){const n=t.index-ua;e[yr]??(e[yr]=[]),e[yr].includes(n)||e[yr].push(n)}function serializeLView(e,t){const n={},l=e[$o];for(let s=ua;s<l.bindingStartIndex;s++){const o=l.data[s],u=s-ua;if(null!=(i=o)&&"object"==typeof i&&(null===i.insertBeforeIndex||"number"==typeof i.insertBeforeIndex||Array.isArray(i.insertBeforeIndex)))if(isDisconnectedNode(o,e)&&isContentProjectedNode(o))appendDisconnectedNodeIndex(n,o);else{if(Array.isArray(o.projection))for(const t of o.projection)if(t){if(Array.isArray(t))throw unsupportedProjectionOfDomNodes(unwrapRNode(e[s]));isProjectionTNode(t)||isInSkipHydrationBlock(t)||(isDisconnectedNode(t,e)?appendDisconnectedNodeIndex(n,t):appendSerializedNodePath(n,t,e))}if(conditionallyAnnotateNodePath(n,o,e),isLContainer(e[s])){const l=o.tView;null!==l&&(n[dr]??(n[dr]={}),n[dr][u]=getSsrId(l));const i=e[s][qo];if(Array.isArray(i)){const e=unwrapRNode(i);e.hasAttribute(xa)||annotateHostElementForHydration(e,i,t)}n[hr]??(n[hr]={}),n[hr][u]=serializeLContainer(e[s],t)}else if(Array.isArray(e[s])){const n=unwrapRNode(e[s][qo]);n.hasAttribute(xa)||annotateHostElementForHydration(n,e[s],t)}else if(8&o.type)n[ur]??(n[ur]={}),n[ur][u]=calcNumRootNodes(l,e,o.child);else if(16&o.type){let t=o.next;for(;null!==t&&16&t.type;)t=t.next;t&&!isInSkipHydrationBlock(t)&&appendSerializedNodePath(n,t,e)}else if(1&o.type){const n=unwrapRNode(e[s]);""===n.textContent?t.corruptedTextNodes.set(n,"ngetn"):n.nextSibling?.nodeType===Node.TEXT_NODE&&t.corruptedTextNodes.set(n,"ngtns")}}}var i;return n}function conditionallyAnnotateNodePath(e,t,n){t.projectionNext&&t.projectionNext!==t.next&&!isInSkipHydrationBlock(t.projectionNext)&&appendSerializedNodePath(e,t.projectionNext,n),null===t.prev&&null!==t.parent&&isDisconnectedNode(t.parent,n)&&!isDisconnectedNode(t,n)&&appendSerializedNodePath(e,t,n)}function annotateHostElementForHydration(e,t,n){const l=t[Yc];if(function(e){return 32==(32&e[ec])}(t)||function(e){const t=e[Ic];return!!t?.constructor&&getComponentDef(t.constructor)?.encapsulation===zo.ShadowDom}(t))return l.setAttribute(e,xa,""),null;{const i=serializeLView(t,n),s=n.serializedViewCollection.add(i);return l.setAttribute(e,Xr,s.toString()),s}}function insertCorruptedTextNodeMarkers(e,t){for(const[n,l]of e)n.after(t.createComment(l))}function isContentProjectedNode(e){let t=e;for(;null!=t;){if(isComponentHost(t))return!0;t=t.parent}return!1}let sd=!1;function enableHydrationRuntimeSupport(){sd||(sd=!0,_retrieveHydrationInfoImpl=retrieveHydrationInfoImpl,_locateOrCreateElementNode=locateOrCreateElementNodeImpl,_locateOrCreateTextNode=locateOrCreateTextNodeImpl,xu=locateOrCreateContainerAnchorImpl,Yu=locateOrCreateAnchorNode,_populateDehydratedViewsInLContainer=populateDehydratedViewsInLContainerImpl,_findMatchingDehydratedViewImpl=findMatchingDehydratedViewImpl,_applyRootElementTransformImpl=applyRootElementTransformImpl)}function withDomHydration(){return makeEnvironmentProviders([{provide:Ur,useFactory:()=>{let e=!0;if(isPlatformBrowser$1()){const t=inject(or,{optional:!0});e=!!t?.get(Gr,null)}return e&&performanceMarkFeature("NgHydration"),e}},{provide:gr,useValue:()=>{isPlatformBrowser$1()&&inject(Ur)&&(!function(){const e=getDocument();let t;for(const n of e.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===Vr){t=n;break}if(!t)throw new RuntimeError(-507,!1)}(),enableHydrationRuntimeSupport())},multi:!0},{provide:Er,useFactory:()=>isPlatformBrowser$1()&&inject(Ur)},{provide:wu,useFactory:()=>{if(isPlatformBrowser$1()&&inject(Ur)){const e=inject(ju);return inject(Fr),()=>{(function(e,t){return whenStable(e)})(e).then((()=>{NgZone.assertInAngularZone(),function(e){const t=e._views;for(const e of t){const t=getLNodeForHydration(e);null!==t&&null!==t[qo]&&(isLView(t)?cleanupLView(t):(cleanupLView(t[qo]),cleanupLContainer(t)))}}(e)}))}}return()=>{}},multi:!0}])}let rd=null;function getDOM(){return rd}function setRootDomAdapter(e){rd??(rd=e)}class DomAdapter{}const ud=new InjectionToken("");let dd=(()=>{var e;class PlatformLocation2{historyGo(e){throw new Error("")}}return(e=PlatformLocation2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:()=>inject(bd),providedIn:"platform"}),PlatformLocation2})(),bd=(()=>{var e;class BrowserPlatformLocation2 extends dd{constructor(){super(),this._doc=inject(ud),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return getDOM().getBaseHref(this._doc)}onPopState(e){const t=getDOM().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=getDOM().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,t,n){this._history.pushState(e,t,n)}replaceState(e,t,n){this._history.replaceState(e,t,n)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return(e=BrowserPlatformLocation2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:()=>new e,providedIn:"platform"}),BrowserPlatformLocation2})();function joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length,l=n-("/"===e[n-1]?1:0);return e.slice(0,l)+e.slice(n)}function normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}let Xd=(()=>{var e;class LocationStrategy2{historyGo(e){throw new Error("")}}return(e=LocationStrategy2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:()=>inject(Rd),providedIn:"root"}),LocationStrategy2})();const Wd=new InjectionToken("");let Rd=(()=>{var e;class PathLocationStrategy2 extends Xd{constructor(e,t){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=t??this._platformLocation.getBaseHrefFromDOM()??inject(ud).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,l){const i=this.prepareExternalUrl(n+normalizeQueryParams(l));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,l){const i=this.prepareExternalUrl(n+normalizeQueryParams(l));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return(e=PathLocationStrategy2).fac=function(t){return new(t||e)(inject(dd),inject(Wd,8))},e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"root"}),PathLocationStrategy2})(),gd=(()=>{var e;class Location2{constructor(e){this._subject=new Ho,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const t=this._locationStrategy.getBaseHref();this._basePath=function(e){const t=new RegExp("^(https?:)?//").test(e);if(t){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(stripTrailingSlash(_stripIndexHtml(t))),this._locationStrategy.onPopState((e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})}))}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+normalizeQueryParams(t))}normalize(e){return Location2.stripTrailingSlash(function(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);if(""===n||["/",";","?","#"].includes(n[0]))return n;return t}(this._basePath,_stripIndexHtml(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._locationStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+normalizeQueryParams(t)),n)}replaceState(e,t="",n=null){this._locationStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+normalizeQueryParams(t)),n)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??(this._urlChangeSubscription=this.subscribe((e=>{this._notifyUrlChangeListeners(e.url,e.state)}))),()=>{const t=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(t,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach((n=>n(e,t)))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return(e=Location2).normalizeQueryParams=normalizeQueryParams,e.joinWithSlash=joinWithSlash,e.stripTrailingSlash=stripTrailingSlash,e.fac=function(t){return new(t||e)(inject(Xd))},e.prov=defineInjectable({token:e,factory:()=>new gd(inject(Xd)),providedIn:"root"}),Location2})();function _stripIndexHtml(e){return e.replace(/\/index.html$/,"")}function parseCookieValue(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[l,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(l.trim()===t)return decodeURIComponent(i)}return null}const Id=/\s+/,xd=[];let Ud=(()=>{var e;class NgClass2{constructor(e,t){this._ngEl=e,this._renderer=t,this.initialClasses=xd,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Id):xd}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Id):e}ngDoCheck(){for(const e of this.initialClasses)this._updateState(e,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const t of e)this._updateState(t,!0);else if(null!=e)for(const t of Object.keys(e))this._updateState(t,Boolean(e[t]));this._applyStateDiff()}_updateState(e,t){const n=this.stateMap.get(e);void 0!==n?(n.enabled!==t&&(n.changed=!0,n.enabled=t),n.touched=!0):this.stateMap.set(e,{enabled:t,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const t=e[0],n=e[1];n.changed?(this._toggleClass(t,n.enabled),n.changed=!1):n.touched||(n.enabled&&this._toggleClass(t,!1),this.stateMap.delete(t)),n.touched=!1}}_toggleClass(e,t){(e=e.trim()).length>0&&e.split(Id).forEach((e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)}))}}return(e=NgClass2).fac=function(t){return new(t||e)(directiveInject(Ka),directiveInject(pu))},e.dir=defineDirective({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Oo.None,"class","klass"],ngClass:"ngClass"},standalone:!0}),NgClass2})();class SubscribableStrategy{createSubscription(e,t){return untracked((()=>e.subscribe({next:t,error:e=>{throw e}})))}dispose(e){untracked((()=>e.unsubscribe()))}}class PromiseStrategy{createSubscription(e,t){return e.then(t,(e=>{throw e}))}dispose(e){}}const jd=new PromiseStrategy,_d=new SubscribableStrategy;let eh=(()=>{var e;class AsyncPipe2{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(t=>this._updateLatestValue(e,t)))}_selectStrategy(e){if(isPromise(e))return jd;if(isSubscribable(e))return _d;throw new RuntimeError(2100,!1)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}}return(e=AsyncPipe2).fac=function(t){return new(t||e)(directiveInject(Xu,16))},e.pipe=definePipe({name:"async",type:e,pure:!1,standalone:!0}),AsyncPipe2})(),th=(()=>{var e;class CommonModule2{}return(e=CommonModule2).fac=function(t){return new(t||e)},e.mod=defineNgModule({type:e}),e.inj=defineInjector({}),CommonModule2})();const nh="browser",lh="server";function isPlatformBrowser(e){return e===nh}function isPlatformServer(e){return e===lh}let ih=(()=>{var e;class ViewportScroller2{}return(e=ViewportScroller2).prov=defineInjectable({token:e,providedIn:"root",factory:()=>isPlatformBrowser(inject(Ba))?new BrowserViewportScroller(inject(ud),window):new NullViewportScroller}),ViewportScroller2})();class BrowserViewportScroller{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let l=n.currentNode;for(;l;){const e=l.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}l=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,l=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],l-i[1])}}class NullViewportScroller{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class XhrFactory{}class HttpHandler{}class HttpBackend{}class HttpHeaders{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach((e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),l=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,l),this.headers.has(l)?this.headers.get(l).push(i):this.headers.set(l,[i])}}))}:"undefined"!=typeof Headers&&e instanceof Headers?(this.headers=new Map,e.forEach(((e,t)=>{this.setHeaderEntries(t,e)}))):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach((([e,t])=>{this.setHeaderEntries(e,t)}))}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof HttpHeaders?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((e=>this.applyUpdate(e))),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach((t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))}))}clone(e){const t=new HttpHeaders;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof HttpHeaders?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const l=("a"===e.op?this.headers.get(t):void 0)||[];l.push(...n),this.headers.set(t,l);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter((e=>-1===i.indexOf(e))),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const n=(Array.isArray(t)?t:[t]).map((e=>e.toString())),l=e.toLowerCase();this.headers.set(l,n),this.maybeSetNormalizedName(e,l)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach((t=>e(this.normalizedNames.get(t),this.headers.get(t))))}}class HttpUrlEncodingCodec{encodeKey(e){return standardEncoding(e)}encodeValue(e){return standardEncoding(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const sh=/%(\d[a-f0-9])/gi,oh={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function standardEncoding(e){return encodeURIComponent(e).replace(sh,((e,t)=>oh[t]??e))}function valueToString(e){return`${e}`}class HttpParams{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new HttpUrlEncodingCodec,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;e.length>0&&e.replace(/^\?/,"").split("&").forEach((e=>{const l=e.indexOf("="),[i,s]=-1==l?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,l)),t.decodeValue(e.slice(l+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}));return n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach((t=>{const n=e.fromObject[t],l=Array.isArray(n)?n.map(valueToString):[valueToString(n)];this.map.set(t,l)}))):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach((n=>{const l=e[n];Array.isArray(l)?l.forEach((e=>{t.push({param:n,value:e,op:"a"})})):t.push({param:n,value:l,op:"a"})})),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map((e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map((e=>t+"="+this.encoder.encodeValue(e))).join("&")})).filter((e=>""!==e)).join("&")}clone(e){const t=new HttpParams({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((e=>this.map.set(e,this.cloneFrom.map.get(e)))),this.updates.forEach((e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(valueToString(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(valueToString(e.value));-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}})),this.cloneFrom=this.updates=null)}}class HttpContext{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function isArrayBuffer(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function isBlob(e){return"undefined"!=typeof Blob&&e instanceof Blob}function isFormData(e){return"undefined"!=typeof FormData&&e instanceof FormData}class HttpRequest{constructor(e,t,n,l){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==n?n:null,i=l):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers??(this.headers=new HttpHeaders),this.context??(this.context=new HttpContext),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?"),l=-1===n?"?":n<t.length-1?"&":"";this.urlWithParams=t+l+e}}else this.params=new HttpParams,this.urlWithParams=t}serializeBody(){return null===this.body?null:isArrayBuffer(this.body)||isBlob(this.body)||isFormData(this.body)||(e=this.body,"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams)||"string"==typeof this.body?this.body:this.body instanceof HttpParams?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString();var e}detectContentTypeHeader(){return null===this.body||isFormData(this.body)?null:isBlob(this.body)?this.body.type||null:isArrayBuffer(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof HttpParams?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,l=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,d=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(((t,n)=>t.set(n,e.setHeaders[n])),u)),e.setParams&&(d=Object.keys(e.setParams).reduce(((t,n)=>t.set(n,e.setParams[n])),d)),new HttpRequest(t,n,i,{params:d,headers:u,context:h,reportProgress:o,responseType:l,withCredentials:s})}}var ch=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(ch||{});class HttpResponseBase{constructor(e,t=ah.Ok,n="OK"){this.headers=e.headers||new HttpHeaders,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class HttpHeaderResponse extends HttpResponseBase{constructor(e={}){super(e),this.type=ch.ResponseHeader}clone(e={}){return new HttpHeaderResponse({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class HttpResponse extends HttpResponseBase{constructor(e={}){super(e),this.type=ch.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new HttpResponse({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class HttpErrorResponse extends HttpResponseBase{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}var ah=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(ah||{});function addBody(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let rh=(()=>{var e;class HttpClient2{constructor(e){this.handler=e}request(e,t,n={}){let l;if(e instanceof HttpRequest)l=e;else{let i,s;i=n.headers instanceof HttpHeaders?n.headers:new HttpHeaders(n.headers),n.params&&(s=n.params instanceof HttpParams?n.params:new HttpParams({fromObject:n.params})),l=new HttpRequest(e,t,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials,transferCache:n.transferCache})}const i=of(l).pipe(concatMap((e=>this.handler.handle(e))));if(e instanceof HttpRequest||"events"===n.observe)return i;const s=i.pipe(filter((e=>e instanceof HttpResponse)));switch(n.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return s.pipe(map$1((e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return s.pipe(map$1((e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return s.pipe(map$1((e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));default:return s.pipe(map$1((e=>e.body)))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new HttpParams).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,addBody(n,t))}post(e,t,n={}){return this.request("POST",e,addBody(n,t))}put(e,t,n={}){return this.request("PUT",e,addBody(n,t))}}return(e=HttpClient2).fac=function(t){return new(t||e)(inject(HttpHandler))},e.prov=defineInjectable({token:e,factory:e.fac}),HttpClient2})();const uh=/^\)\]\}',?\n/,dh="X-Request-URL";function getResponseUrl$1(e){if(e.url)return e.url;const t=dh.toLocaleLowerCase();return e.headers.get(t)}let hh=(()=>{var e;class FetchBackend2{constructor(){this.fetchImpl=inject(FetchFactory,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=inject(NgZone)}handle(e){return new An((t=>{const n=new AbortController;return this.doRequest(e,n.signal,t).then(noop$1,(e=>t.error(new HttpErrorResponse({error:e})))),()=>n.abort()}))}doRequest(e,t,n){return __async$1(this,null,(function*(){const l=this.createRequestInit(e);let i;try{const s=this.fetchImpl(e.urlWithParams,{signal:t,...l});s.then(noop$1,noop$1),n.next({type:ch.Sent}),i=yield s}catch(t){return void n.error(new HttpErrorResponse({error:t,status:t.status??0,statusText:t.statusText,url:e.urlWithParams,headers:t.headers}))}const s=new HttpHeaders(i.headers),o=i.statusText,u=getResponseUrl$1(i)??e.urlWithParams;let d=i.status,h=null;if(e.reportProgress&&n.next(new HttpHeaderResponse({headers:s,status:d,statusText:o,url:u})),i.body){const t=i.headers.get("content-length"),l=[],s=i.body.getReader();let o,u,d=0;const m="undefined"!=typeof Zone&&Zone.current;yield this.ngZone.runOutsideAngular((()=>__async$1(this,null,(function*(){for(;;){const{done:i,value:h}=yield s.read();if(i)break;if(l.push(h),d+=h.length,e.reportProgress){u="text"===e.responseType?(u??"")+(o??(o=new TextDecoder)).decode(h,{stream:!0}):void 0;const reportProgress=()=>n.next({type:ch.DownloadProgress,total:t?+t:void 0,loaded:d,partialText:u});m?m.run(reportProgress):reportProgress()}}}))));const b=this.concatChunks(l,d);try{const t=i.headers.get("Content-Type")??"";h=this.parseBody(e,b,t)}catch(t){return void n.error(new HttpErrorResponse({error:t,headers:new HttpHeaders(i.headers),status:i.status,statusText:i.statusText,url:getResponseUrl$1(i)??e.urlWithParams}))}}0===d&&(d=h?ah.Ok:0);d>=200&&d<300?(n.next(new HttpResponse({body:h,headers:s,status:d,statusText:o,url:u})),n.complete()):n.error(new HttpErrorResponse({error:h,headers:s,status:d,statusText:o,url:u}))}))}parseBody(e,t,n){switch(e.responseType){case"json":const e=(new TextDecoder).decode(t).replace(uh,"");return""===e?null:JSON.parse(e);case"text":return(new TextDecoder).decode(t);case"blob":return new Blob([t],{type:n});case"arraybuffer":return t.buffer}}createRequestInit(e){const t={},n=e.withCredentials?"include":void 0;if(e.headers.forEach(((e,n)=>t[e]=n.join(","))),t.Accept??(t.Accept="application/json, text/plain, */*"),!t["Content-Type"]){const n=e.detectContentTypeHeader();null!==n&&(t["Content-Type"]=n)}return{body:e.serializeBody(),method:e.method,headers:t,credentials:n}}concatChunks(e,t){const n=new Uint8Array(t);let l=0;for(const t of e)n.set(t,l),l+=t.length;return n}}return(e=FetchBackend2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac}),FetchBackend2})();class FetchFactory{}function noop$1(){}function interceptorChainEndFn(e,t){return t(e)}const mh=new InjectionToken(""),bh=new InjectionToken(""),ph=new InjectionToken("");let Zh=(()=>{var e;class HttpInterceptorHandler2 extends HttpHandler{constructor(e,t){super(),this.backend=e,this.injector=t,this.chain=null,this.pendingTasks=inject(Ku);const n=inject(ph,{optional:!0});this.backend=n??e}handle(e){if(null===this.chain){const e=Array.from(new Set([...this.injector.get(mh),...this.injector.get(bh,[])]));this.chain=e.reduceRight(((e,t)=>function(e,t,n){return(l,i)=>runInInjectionContext(n,(()=>t(l,(t=>e(t,i)))))}(e,t,this.injector)),interceptorChainEndFn)}const t=this.pendingTasks.add();return this.chain(e,(e=>this.backend.handle(e))).pipe(finalize((()=>this.pendingTasks.remove(t))))}}return(e=HttpInterceptorHandler2).fac=function(t){return new(t||e)(inject(HttpBackend),inject(EnvironmentInjector))},e.prov=defineInjectable({token:e,factory:e.fac}),HttpInterceptorHandler2})();const yh=/^\)\]\}',?\n/;let Gh=(()=>{var e;class HttpXhrBackend2{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new RuntimeError(-2800,!1);const t=this.xhrFactory;return(t.loadImpl?from(t.loadImpl()):of(null)).pipe(switchMap((()=>new An((n=>{const l=t.build();if(l.open(e.method,e.urlWithParams),e.withCredentials&&(l.withCredentials=!0),e.headers.forEach(((e,t)=>l.setRequestHeader(e,t.join(",")))),e.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&l.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();l.responseType="json"!==t?t:"text"}const i=e.serializeBody();let s=null;const partialFromXhr=()=>{if(null!==s)return s;const t=l.statusText||"OK",n=new HttpHeaders(l.getAllResponseHeaders()),i=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(l)||e.url;return s=new HttpHeaderResponse({headers:n,status:l.status,statusText:t,url:i}),s},onLoad=()=>{let{headers:t,status:i,statusText:s,url:o}=partialFromXhr(),u=null;i!==ah.NoContent&&(u=void 0===l.response?l.responseText:l.response),0===i&&(i=u?ah.Ok:0);let d=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof u){const e=u;u=u.replace(yh,"");try{u=""!==u?JSON.parse(u):null}catch(t){u=e,d&&(d=!1,u={error:t,text:u})}}d?(n.next(new HttpResponse({body:u,headers:t,status:i,statusText:s,url:o||void 0})),n.complete()):n.error(new HttpErrorResponse({error:u,headers:t,status:i,statusText:s,url:o||void 0}))},onError=e=>{const{url:t}=partialFromXhr(),i=new HttpErrorResponse({error:e,status:l.status||0,statusText:l.statusText||"Unknown Error",url:t||void 0});n.error(i)};let o=!1;const onDownProgress=t=>{o||(n.next(partialFromXhr()),o=!0);let i={type:ch.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&l.responseText&&(i.partialText=l.responseText),n.next(i)},onUpProgress=e=>{let t={type:ch.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return l.addEventListener("load",onLoad),l.addEventListener("error",onError),l.addEventListener("timeout",onError),l.addEventListener("abort",onError),e.reportProgress&&(l.addEventListener("progress",onDownProgress),null!==i&&l.upload&&l.upload.addEventListener("progress",onUpProgress)),l.send(i),n.next({type:ch.Sent}),()=>{l.removeEventListener("error",onError),l.removeEventListener("abort",onError),l.removeEventListener("load",onLoad),l.removeEventListener("timeout",onError),e.reportProgress&&(l.removeEventListener("progress",onDownProgress),null!==i&&l.upload&&l.upload.removeEventListener("progress",onUpProgress)),l.readyState!==l.DONE&&l.abort()}})))))}}return(e=HttpXhrBackend2).fac=function(t){return new(t||e)(inject(XhrFactory))},e.prov=defineInjectable({token:e,factory:e.fac}),HttpXhrBackend2})();const Xh=new InjectionToken(""),Vh=new InjectionToken("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Wh=new InjectionToken("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class HttpXsrfTokenExtractor{}let Rh=(()=>{var e;class HttpXsrfCookieExtractor2{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=parseCookieValue(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return(e=HttpXsrfCookieExtractor2).fac=function(t){return new(t||e)(inject(ud),inject(Ba),inject(Vh))},e.prov=defineInjectable({token:e,factory:e.fac}),HttpXsrfCookieExtractor2})();function xsrfInterceptorFn(e,t){const n=e.url.toLowerCase();if(!inject(Xh)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const l=inject(HttpXsrfTokenExtractor).getToken(),i=inject(Wh);return null==l||e.headers.has(i)||(e=e.clone({headers:e.headers.set(i,l)})),t(e)}var gh=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(gh||{});const Ih="b",fh="h",Sh="s",Lh="st",Yh="u",Kh="rt",xh=new InjectionToken(""),Nh=["GET","HEAD"];function transferCacheInterceptorFn(e,t){const{isCacheActive:n,...l}=inject(xh),{transferCache:i,method:s}=e;if(!n||"POST"===s&&!l.includePostRequests&&!i||"POST"!==s&&!Nh.includes(s)||!1===i||!1===l.filter?.(e))return t(e);const o=inject(or),u=function(e){const{params:t,method:n,responseType:l,url:i,body:s}=e,o=t.keys().sort().map((e=>`${e}=${t.getAll(e)}`)).join("&"),u=function(e){let t=0;for(const n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,t.toString()}([n,l,i,"string"==typeof s?s:"",o].join("|"));return u}(e),d=o.get(u,null);let h=l.includeHeaders;if("object"==typeof i&&i.includeHeaders&&(h=i.includeHeaders),d){const{[Ih]:e,[Kh]:t,[fh]:n,[Sh]:l,[Lh]:i,[Yh]:s}=d;let o=e;switch(t){case"arraybuffer":o=(new TextEncoder).encode(e).buffer;break;case"blob":o=new Blob([e])}let u=new HttpHeaders(n);return of(new HttpResponse({body:o,headers:u,status:l,statusText:i,url:s}))}return t(e).pipe(tap((t=>{t instanceof HttpResponse&&o.set(u,{[Ih]:t.body,[fh]:getFilteredHeaders(t.headers,h),[Sh]:t.status,[Lh]:t.statusText,[Yh]:t.url||"",[Kh]:e.responseType})})))}function getFilteredHeaders(e,t){if(!t)return{};const n={};for(const l of t){const t=e.getAll(l);null!==t&&(n[l]=t)}return n}class GenericBrowserDomAdapter extends DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class BrowserDomAdapter extends GenericBrowserDomAdapter{static makeCurrent(){setRootDomAdapter(new BrowserDomAdapter)}onAndCancel(e,t,n){return e.addEventListener(t,n),()=>{e.removeEventListener(t,n)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Th=Th||document.querySelector("base"),Th?Th.getAttribute("href"):null);return null==t?null:new URL(t,document.baseURI).pathname}resetBaseElement(){Th=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return parseCookieValue(document.cookie,e)}}let Th=null;let vh=(()=>{var e;class BrowserXhr2{build(){return new XMLHttpRequest}}return(e=BrowserXhr2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac}),BrowserXhr2})();const kh=new InjectionToken("");let Ch=(()=>{var e;class EventManager2{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach((e=>{e.manager=this})),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){let t=this._eventNameToPlugin.get(e);if(t)return t;if(t=this._plugins.find((t=>t.supports(e))),!t)throw new RuntimeError(5101,!1);return this._eventNameToPlugin.set(e,t),t}}return(e=EventManager2).fac=function(t){return new(t||e)(inject(kh),inject(NgZone))},e.prov=defineInjectable({token:e,factory:e.fac}),EventManager2})();class EventManagerPlugin{constructor(e){this._doc=e}}const Hh="ng-app-id";let Jh=(()=>{var e;class SharedStylesHost2{constructor(e,t,n,l={}){this.doc=e,this.appId=t,this.nonce=n,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=isPlatformServer(l),this.resetHostNodes()}addStyles(e){for(const t of e){1===this.changeUsageCount(t,1)&&this.onStyleAdded(t)}}removeStyles(e){for(const t of e){this.changeUsageCount(t,-1)<=0&&this.onStyleRemoved(t)}}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach((e=>e.remove())),e.clear());for(const e of this.getAllStyles())this.onStyleRemoved(e);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const t of this.getAllStyles())this.addStyleToHost(e,t)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const t of this.hostNodes)this.addStyleToHost(t,e)}onStyleRemoved(e){const t=this.styleRef;t.get(e)?.elements?.forEach((e=>e.remove())),t.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Hh}="${this.appId}"]`);if(e?.length){const t=new Map;return e.forEach((e=>{null!=e.textContent&&t.set(e.textContent,e)})),t}return null}changeUsageCount(e,t){const n=this.styleRef;if(n.has(e)){const l=n.get(e);return l.usage+=t,l.usage}return n.set(e,{usage:t,elements:[]}),t}getStyleElement(e,t){const n=this.styleNodesInDOM,l=n?.get(t);if(l?.parentNode===e)return n.delete(t),l.removeAttribute(Hh),l;{const n=this.doc.createElement("style");return this.nonce&&n.setAttribute("nonce",this.nonce),n.textContent=t,this.platformIsServer&&n.setAttribute(Hh,this.appId),e.appendChild(n),n}}addStyleToHost(e,t){const n=this.getStyleElement(e,t),l=this.styleRef,i=l.get(t)?.elements;i?i.push(n):l.set(t,{elements:[n],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return(e=SharedStylesHost2).fac=function(t){return new(t||e)(inject(ud),inject(Ea),inject(_a,8),inject(Ba))},e.prov=defineInjectable({token:e,factory:e.fac}),SharedStylesHost2})();const Fh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zh=/%COMP%/g,Uh="%COMP%",Eh=`_nghost-${Uh}`,Mh=`_ngcontent-${Uh}`,wh=new InjectionToken("",{providedIn:"root",factory:()=>true});function shimStylesContent(e,t){return t.map((t=>t.replace(zh,e)))}let Ph=(()=>{var e;class DomRendererFactory22{constructor(e,t,n,l,i,s,o,u=null){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.removeStylesOnCompDestroy=l,this.doc=i,this.platformId=s,this.ngZone=o,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=isPlatformServer(s),this.defaultRenderer=new DefaultDomRenderer2(e,i,o,this.platformIsServer)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;this.platformIsServer&&t.encapsulation===zo.ShadowDom&&(t={...t,encapsulation:zo.Emulated});const n=this.getOrCreateRenderer(e,t);return n instanceof EmulatedEncapsulationDomRenderer2?n.applyToHost(e):n instanceof NoneEncapsulationDomRenderer&&n.applyStyles(),n}getOrCreateRenderer(e,t){const n=this.rendererByCompId;let l=n.get(t.id);if(!l){const i=this.doc,s=this.ngZone,o=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(t.encapsulation){case zo.Emulated:l=new EmulatedEncapsulationDomRenderer2(o,u,t,this.appId,d,i,s,h);break;case zo.ShadowDom:return new ShadowDomRenderer(o,u,e,t,i,s,this.nonce,h);default:l=new NoneEncapsulationDomRenderer(o,u,t,d,i,s,h)}n.set(t.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=DomRendererFactory22).fac=function(t){return new(t||e)(inject(Ch),inject(Jh),inject(Ea),inject(wh),inject(ud),inject(Ba),inject(NgZone),inject(_a))},e.prov=defineInjectable({token:e,factory:e.fac}),DomRendererFactory22})();class DefaultDomRenderer2{constructor(e,t,n,l){this.eventManager=e,this.doc=t,this.ngZone=n,this.platformIsServer=l,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Fh[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(isTemplateNode(e)?e.content:e).appendChild(t)}insertBefore(e,t,n){if(e){(isTemplateNode(e)?e.content:e).insertBefore(t,n)}}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?this.doc.querySelector(e):e;if(!n)throw new RuntimeError(-5104,!1);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,l){if(l){t=l+":"+t;const i=Fh[l];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const l=Fh[n];l?e.removeAttributeNS(l,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,l){l&(iu.DashCase|iu.Important)?e.style.setProperty(t,n,l&iu.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&iu.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){null!=e&&(e[t]=n)}setValue(e,t){e.nodeValue=t}listen(e,t,n){if("string"==typeof e&&!(e=getDOM().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(n))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded((()=>e(t))):e(t))&&t.preventDefault()}}}function isTemplateNode(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class ShadowDomRenderer extends DefaultDomRenderer2{constructor(e,t,n,l,i,s,o,u){super(e,i,s,u),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=shimStylesContent(l.id,l.styles);for(const e of d){const t=document.createElement("style");o&&t.setAttribute("nonce",o),t.textContent=e,this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class NoneEncapsulationDomRenderer extends DefaultDomRenderer2{constructor(e,t,n,l,i,s,o,u){super(e,i,s,o),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=l,this.styles=u?shimStylesContent(u,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class EmulatedEncapsulationDomRenderer2 extends NoneEncapsulationDomRenderer{constructor(e,t,n,l,i,s,o,u){const d=l+"-"+n.id;var h;super(e,t,n,i,s,o,u,d),this.contentAttr=(h=d,Mh.replace(zh,h)),this.hostAttr=function(e){return Eh.replace(zh,e)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}let jh=(()=>{var e;class DomEventsPlugin2 extends EventManagerPlugin{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return(e=DomEventsPlugin2).fac=function(t){return new(t||e)(inject(ud))},e.prov=defineInjectable({token:e,factory:e.fac}),DomEventsPlugin2})();const Bh=["alt","control","meta","shift"],Qh={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_h={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Dh=(()=>{var e;class KeyEventsPlugin2 extends EventManagerPlugin{constructor(e){super(e)}supports(e){return null!=KeyEventsPlugin2.parseEventName(e)}addEventListener(e,t,n){const l=KeyEventsPlugin2.parseEventName(t),i=KeyEventsPlugin2.eventCallback(l.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular((()=>getDOM().onAndCancel(e,l.domEventName,i)))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const l=KeyEventsPlugin2._normalizeKey(t.pop());let i="",s=t.indexOf("code");if(s>-1&&(t.splice(s,1),i="code."),Bh.forEach((e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),i+=e+".")})),i+=l,0!=t.length||0===l.length)return null;const o={};return o.domEventName=n,o.fullKey=i,o}static matchEventFullKeyCode(e,t){let n=Qh[e.key]||e.key,l="";return t.indexOf("code.")>-1&&(n=e.code,l="code."),!(null==n||!n)&&(n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Bh.forEach((t=>{if(t!==n){(0,_h[t])(e)&&(l+=t+".")}})),l+=n,l===t)}static eventCallback(e,t,n){return l=>{KeyEventsPlugin2.matchEventFullKeyCode(l,e)&&n.runGuarded((()=>t(l)))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return(e=KeyEventsPlugin2).fac=function(t){return new(t||e)(inject(ud))},e.prov=defineInjectable({token:e,factory:e.fac}),KeyEventsPlugin2})();function createProvidersConfig(e){return{appProviders:[...Ah,...e?.providers??[]],platformProviders:Oh}}const Oh=[{provide:Ba,useValue:nh},{provide:ja,useValue:function(){BrowserDomAdapter.makeCurrent()},multi:!0},{provide:ud,useFactory:function(){return setDocument(document),document},deps:[]}],Ah=[{provide:Lr,useValue:"root"},{provide:ErrorHandler,useFactory:function(){return new ErrorHandler},deps:[]},{provide:kh,useClass:jh,multi:!0,deps:[ud,NgZone,Ba]},{provide:kh,useClass:Dh,multi:!0,deps:[ud]},Ph,Jh,Ch,{provide:RendererFactory2,useExisting:Ph},{provide:XhrFactory,useClass:vh,deps:[]},[]];let qh=(()=>{var e;class Meta2{constructor(e){this._doc=e,this._dom=getDOM()}addTag(e,t=!1){return e?this._getOrCreateElement(e,t):null}addTags(e,t=!1){return e?e.reduce(((e,n)=>(n&&e.push(this._getOrCreateElement(n,t)),e)),[]):[]}getTag(e){return e&&this._doc.querySelector(`meta[${e}]`)||null}getTags(e){if(!e)return[];const t=this._doc.querySelectorAll(`meta[${e}]`);return t?[].slice.call(t):[]}updateTag(e,t){if(!e)return null;t=t||this._parseSelector(e);const n=this.getTag(t);return n?this._setMetaElementAttributes(e,n):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,t=!1){if(!t){const t=this._parseSelector(e),n=this.getTags(t).filter((t=>this._containsAttributes(e,t)))[0];if(void 0!==n)return n}const n=this._dom.createElement("meta");this._setMetaElementAttributes(e,n);return this._doc.getElementsByTagName("head")[0].appendChild(n),n}_setMetaElementAttributes(e,t){return Object.keys(e).forEach((n=>t.setAttribute(this._getMetaKeyMap(n),e[n]))),t}_parseSelector(e){const t=e.name?"name":"property";return`${t}="${e[t]}"`}_containsAttributes(e,t){return Object.keys(e).every((n=>t.getAttribute(this._getMetaKeyMap(n))===e[n]))}_getMetaKeyMap(e){return $h[e]||e}}return(e=Meta2).fac=function(t){return new(t||e)(inject(ud))},e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"root"}),Meta2})();const $h={httpEquiv:"http-equiv"};let em=(()=>{var e;class Title2{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return(e=Title2).fac=function(t){return new(t||e)(inject(ud))},e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"root"}),Title2})(),tm=(()=>{var e;class DomSanitizer2{}return(e=DomSanitizer2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:function(t){let n=null;return n=t?new(t||e):inject(nm),n},providedIn:"root"}),DomSanitizer2})(),nm=(()=>{var e;class DomSanitizerImpl2 extends tm{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case eu.NONE:return t;case eu.HTML:return allowSanitizationBypassAndThrow(t,"HTML")?unwrapSafeValue(t):_sanitizeHtml(this._doc,String(t)).toString();case eu.STYLE:return allowSanitizationBypassAndThrow(t,"Style")?unwrapSafeValue(t):t;case eu.SCRIPT:if(allowSanitizationBypassAndThrow(t,"Script"))return unwrapSafeValue(t);throw new RuntimeError(5200,!1);case eu.URL:return allowSanitizationBypassAndThrow(t,"URL")?unwrapSafeValue(t):_sanitizeUrl(String(t));case eu.RESOURCE_URL:if(allowSanitizationBypassAndThrow(t,"ResourceURL"))return unwrapSafeValue(t);throw new RuntimeError(5201,!1);default:throw new RuntimeError(5202,!1)}}bypassSecurityTrustHtml(e){return new SafeHtmlImpl(e)}bypassSecurityTrustStyle(e){return new SafeStyleImpl(e)}bypassSecurityTrustScript(e){return new SafeScriptImpl(e)}bypassSecurityTrustUrl(e){return new SafeUrlImpl(e)}bypassSecurityTrustResourceUrl(e){return new SafeResourceUrlImpl(e)}}return(e=DomSanitizerImpl2).fac=function(t){return new(t||e)(inject(ud))},e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"root"}),DomSanitizerImpl2})();var lm=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e}(lm||{});var im=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(im||{});const sm="*";function style(e){return{type:im.Style,styles:e,offset:null}}class NoopAnimationPlayer{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach((e=>e())),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask((()=>this._onFinish()))}_onStart(){this._onStartFns.forEach((e=>e())),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((e=>e())),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((e=>e())),t.length=0}}class AnimationGroupPlayer{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,l=0;const i=this.players.length;0==i?queueMicrotask((()=>this._onFinish())):this.players.forEach((e=>{e.onDone((()=>{++t==i&&this._onFinish()})),e.onDestroy((()=>{++n==i&&this._onDestroy()})),e.onStart((()=>{++l==i&&this._onStart()}))})),this.totalTime=this.players.reduce(((e,t)=>Math.max(e,t.totalTime)),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach((e=>e())),this._onDoneFns=[])}init(){this.players.forEach((e=>e.init()))}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((e=>e())),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((e=>e.play()))}pause(){this.players.forEach((e=>e.pause()))}restart(){this.players.forEach((e=>e.restart()))}finish(){this._onFinish(),this.players.forEach((e=>e.finish()))}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((e=>e.destroy())),this._onDestroyFns.forEach((e=>e())),this._onDestroyFns=[])}reset(){this.players.forEach((e=>e.reset())),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach((e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}getPosition(){const e=this.players.reduce(((e,t)=>null===e||t.totalTime>e.totalTime?t:e),null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach((e=>{e.beforeDestroy&&e.beforeDestroy()}))}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((e=>e())),t.length=0}}function invalidTimingValue(e){return new RuntimeError(3e3,!1)}function optimizeGroupPlayer(e){switch(e.length){case 0:return new NoopAnimationPlayer;case 1:return e[0];default:return new AnimationGroupPlayer(e)}}function normalizeKeyframes$1(e,t,n=new Map,l=new Map){const i=[],s=[];let o=-1,u=null;if(t.forEach((t=>{const d=t.get("offset"),h=d==o,m=h&&u||new Map;t.forEach(((t,s)=>{let o=s,u=t;if("offset"!==s)switch(o=e.normalizePropertyName(o,i),u){case"!":u=n.get(s);break;case sm:u=l.get(s);break;default:u=e.normalizeStyleValue(s,o,u,i)}m.set(o,u)})),h||s.push(m),u=m,o=d})),i.length)throw new RuntimeError(3502,!1);return s}function listenOnPlayer(e,t,n,l){switch(t){case"start":e.onStart((()=>l(n&&copyAnimationEvent(n,"start",e))));break;case"done":e.onDone((()=>l(n&&copyAnimationEvent(n,"done",e))));break;case"destroy":e.onDestroy((()=>l(n&&copyAnimationEvent(n,"destroy",e))))}}function copyAnimationEvent(e,t,n){const l=n.totalTime,i=!!n.disabled,s=makeAnimationEvent(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==l?e.totalTime:l,i),o=e._data;return null!=o&&(s._data=o),s}function makeAnimationEvent(e,t,n,l,i="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:l,phaseName:i,totalTime:s,disabled:!!o}}function getOrSetDefaultValue(e,t,n){let l=e.get(t);return l||e.set(t,l=n),l}function parseTimelineCommand(e){const t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}const om=(()=>"undefined"==typeof document?null:document.documentElement)();function getParentElement(e){const t=e.parentNode||e.host||null;return t===om?null:t}let cm=null,am=!1;function validateStyleProperty(e){cm||(cm=function(){if("undefined"!=typeof document)return document.body;return null}()||{},am=!!cm.style&&"WebkitAppearance"in cm.style);let t=!0;if(cm.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in cm.style,!t&&am)){t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in cm.style}return t}let rm=(()=>{var e;class NoopAnimationDriver2{validateStyleProperty(e){return validateStyleProperty(e)}matchesElement(e,t){return!1}containsElement(e,t){return function(e,t){for(;t;){if(t===e)return!0;t=getParentElement(t)}return!1}(e,t)}getParentElement(e){return getParentElement(e)}query(e,t,n){return function(e,t,n){if(n)return Array.from(e.querySelectorAll(t));const l=e.querySelector(t);return l?[l]:[]}(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,l,i,s=[],o){return new NoopAnimationPlayer(n,l)}}return(e=NoopAnimationDriver2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac}),NoopAnimationDriver2})();class AnimationDriver{}AnimationDriver.NOOP=new rm;class AnimationStyleNormalizer{}const um=1e3,dm="ng-enter",hm="ng-leave",mm="ng-trigger",bm=".ng-trigger",pm="ng-animating",Zm=".ng-animating";function resolveTimingValue(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:_convertTimeValueToMS(parseFloat(t[1]),t[2])}function _convertTimeValueToMS(e,t){return"s"===t?e*um:e}function resolveTiming(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){const l=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;let i,s=0,o="";if("string"==typeof e){const n=e.match(l);if(null===n)return t.push(invalidTimingValue()),{duration:0,delay:0,easing:""};i=_convertTimeValueToMS(parseFloat(n[1]),n[2]);const u=n[3];null!=u&&(s=_convertTimeValueToMS(parseFloat(u),n[4]));const d=n[5];d&&(o=d)}else i=e;if(!n){let e=!1,n=t.length;i<0&&(t.push(new RuntimeError(3100,!1)),e=!0),s<0&&(t.push(new RuntimeError(3101,!1)),e=!0),e&&t.splice(n,0,invalidTimingValue())}return{duration:i,delay:s,easing:o}}(e,t,n)}function setStyles(e,t,n){t.forEach(((t,l)=>{const i=dashCaseToCamelCase(l);n&&!n.has(l)&&n.set(l,e.style[i]),e.style[i]=t}))}function eraseStyles(e,t){t.forEach(((t,n)=>{const l=dashCaseToCamelCase(n);e.style[l]=""}))}function normalizeAnimationEntry(e){return Array.isArray(e)?1==e.length?e[0]:function(e,t=null){return{type:im.Sequence,steps:e,options:t}}(e):e}function validateStyleParams(e,t,n){const l=t.params||{},i=extractStyleParams(e);i.length&&i.forEach((e=>{l.hasOwnProperty(e)||n.push(new RuntimeError(3001,!1))}))}const ym=new RegExp("{{\\s*(.+?)\\s*}}","g");function extractStyleParams(e){let t=[];if("string"==typeof e){let n;for(;n=ym.exec(e);)t.push(n[1]);ym.lastIndex=0}return t}function interpolateParams(e,t,n){const l=`${e}`,i=l.replace(ym,((e,l)=>{let i=t[l];return null==i&&(n.push(new RuntimeError(3003,!1)),i=""),i.toString()}));return i==l?e:i}const Gm=/-+([a-z0-9])/g;function dashCaseToCamelCase(e){return e.replace(Gm,((...e)=>e[1].toUpperCase()))}function visitDslNode(e,t,n){switch(t.type){case im.Trigger:return e.visitTrigger(t,n);case im.State:return e.visitState(t,n);case im.Transition:return e.visitTransition(t,n);case im.Sequence:return e.visitSequence(t,n);case im.Group:return e.visitGroup(t,n);case im.Animate:return e.visitAnimate(t,n);case im.Keyframes:return e.visitKeyframes(t,n);case im.Style:return e.visitStyle(t,n);case im.Reference:return e.visitReference(t,n);case im.AnimateChild:return e.visitAnimateChild(t,n);case im.AnimateRef:return e.visitAnimateRef(t,n);case im.Query:return e.visitQuery(t,n);case im.Stagger:return e.visitStagger(t,n);default:throw t.type,new RuntimeError(3004,!1)}}const Xm=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class WebAnimationsStyleNormalizer extends AnimationStyleNormalizer{normalizePropertyName(e,t){return dashCaseToCamelCase(e)}normalizeStyleValue(e,t,n,l){let i="";const s=n.toString().trim();if(Xm.has(t)&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&l.push(new RuntimeError(3005,!1))}return s+i}}const Vm="*";function parseTransitionExpr(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach((e=>function(e,t,n){if(":"==e[0]){const l=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(new RuntimeError(3016,!1)),"* => *"}}(e,n);if("function"==typeof l)return void t.push(l);e=l}const l=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==l||l.length<4)return n.push(new RuntimeError(3015,!1)),t;const i=l[1],s=l[2],o=l[3];t.push(makeLambdaFromStates(i,o));const u=i==Vm&&o==Vm;"<"!=s[0]||u||t.push(makeLambdaFromStates(o,i));return}(e,n,t))):n.push(e),n}const Wm=new Set(["true","1"]),Rm=new Set(["false","0"]);function makeLambdaFromStates(e,t){const n=Wm.has(e)||Rm.has(e),l=Wm.has(t)||Rm.has(t);return(i,s)=>{let o=e==Vm||e==i,u=t==Vm||t==s;return!o&&n&&"boolean"==typeof i&&(o=i?Wm.has(e):Rm.has(e)),!u&&l&&"boolean"==typeof s&&(u=s?Wm.has(t):Rm.has(t)),o&&u}}const gm=":self",Im=new RegExp(`s*${gm}s*,?`,"g");function buildAnimationAst(e,t,n,l){return new AnimationAstBuilderVisitor(e).build(t,n,l)}class AnimationAstBuilderVisitor{constructor(e){this._driver=e}build(e,t,n){const l=new AnimationAstBuilderContext(t);this._resetContextStyleTimingState(l);return visitDslNode(this,normalizeAnimationEntry(e),l)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,l=t.depCount=0;const i=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(new RuntimeError(3006,!1)),e.definitions.forEach((e=>{if(this._resetContextStyleTimingState(t),e.type==im.State){const n=e,l=n.name;l.toString().split(/\s*,\s*/).forEach((e=>{n.name=e,i.push(this.visitState(n,t))})),n.name=l}else if(e.type==im.Transition){const i=this.visitTransition(e,t);n+=i.queryCount,l+=i.depCount,s.push(i)}else t.errors.push(new RuntimeError(3007,!1))})),{type:im.Trigger,name:e.name,states:i,transitions:s,queryCount:n,depCount:l,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),l=e.options&&e.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=l||{};n.styles.forEach((e=>{e instanceof Map&&e.forEach((e=>{extractStyleParams(e).forEach((e=>{s.hasOwnProperty(e)||i.add(e)}))}))})),i.size&&t.errors.push((e.name,i.values(),new RuntimeError(3008,!1)))}return{type:im.State,name:e.name,style:n,options:l?{params:l}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=visitDslNode(this,normalizeAnimationEntry(e.animation),t),l=parseTransitionExpr(e.expr,t.errors);return{type:im.Transition,matchers:l,animation:n,queryCount:t.queryCount,depCount:t.depCount,options:normalizeAnimationOptions(e.options)}}visitSequence(e,t){return{type:im.Sequence,steps:e.steps.map((e=>visitDslNode(this,e,t))),options:normalizeAnimationOptions(e.options)}}visitGroup(e,t){const n=t.currentTime;let l=0;const i=e.steps.map((e=>{t.currentTime=n;const i=visitDslNode(this,e,t);return l=Math.max(l,t.currentTime),i}));return t.currentTime=l,{type:im.Group,steps:i,options:normalizeAnimationOptions(e.options)}}visitAnimate(e,t){const n=function(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e){return makeTimingAst(resolveTiming(e,t).duration,0,"")}const n=e,l=n.split(/\s+/).some((e=>"{"==e.charAt(0)&&"{"==e.charAt(1)));if(l){const e=makeTimingAst(0,0,"");return e.dynamic=!0,e.strValue=n,e}const i=resolveTiming(n,t);return makeTimingAst(i.duration,i.delay,i.easing)}(e.timings,t.errors);let l;t.currentAnimateTimings=n;let i=e.styles?e.styles:style({});if(i.type==im.Keyframes)l=this.visitKeyframes(i,t);else{let i=e.styles,s=!1;if(!i){s=!0;const e={};n.easing&&(e.easing=n.easing),i=style(e)}t.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,t);o.isEmptyStep=s,l=o}return t.currentAnimateTimings=null,{type:im.Animate,timings:n,style:l,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[],l=Array.isArray(e.styles)?e.styles:[e.styles];for(let e of l)"string"==typeof e?e===sm?n.push(e):t.errors.push(new RuntimeError(3002,!1)):n.push(new Map(Object.entries(e)));let i=!1,s=null;return n.forEach((e=>{if(e instanceof Map&&(e.has("easing")&&(s=e.get("easing"),e.delete("easing")),!i))for(let t of e.values())if(t.toString().indexOf("{{")>=0){i=!0;break}})),{type:im.Style,styles:n,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let l=t.currentTime,i=t.currentTime;n&&i>0&&(i-=n.duration+n.delay),e.styles.forEach((e=>{"string"!=typeof e&&e.forEach(((e,n)=>{const s=t.collectedStyles.get(t.currentQuerySelector),o=s.get(n);let u=!0;o&&(i!=l&&i>=o.startTime&&l<=o.endTime&&(t.errors.push((o.startTime,o.endTime,new RuntimeError(3010,!1))),u=!1),i=o.startTime),u&&s.set(n,{startTime:i,endTime:l}),t.options&&validateStyleParams(e,t.options,t.errors)}))}))}visitKeyframes(e,t){const n={type:im.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(new RuntimeError(3011,!1)),n;let l=0;const i=[];let s=!1,o=!1,u=0;const d=e.steps.map((e=>{const n=this._makeStyleAst(e,t);let d=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach((e=>{if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}}));else if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}return t}(n.styles),h=0;return null!=d&&(l++,h=n.offset=d),o=o||h<0||h>1,s=s||h<u,u=h,i.push(h),n}));o&&t.errors.push(new RuntimeError(3012,!1)),s&&t.errors.push(new RuntimeError(3200,!1));const h=e.steps.length;let m=0;l>0&&l<h?t.errors.push(new RuntimeError(3202,!1)):0==l&&(m=1/(h-1));const b=h-1,V=t.currentTime,g=t.currentAnimateTimings,f=g.duration;return d.forEach(((e,l)=>{const s=m>0?l==b?1:m*l:i[l],o=s*f;t.currentTime=V+g.delay+o,g.duration=o,this._validateStyleAst(e,t),e.offset=s,n.styles.push(e)})),n}visitReference(e,t){return{type:im.Reference,animation:visitDslNode(this,normalizeAnimationEntry(e.animation),t),options:normalizeAnimationOptions(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:im.AnimateChild,options:normalizeAnimationOptions(e.options)}}visitAnimateRef(e,t){return{type:im.AnimateRef,animation:this.visitReference(e.animation,t),options:normalizeAnimationOptions(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,l=e.options||{};t.queryCount++,t.currentQuery=e;const[i,s]=function(e){const t=!!e.split(/\s*,\s*/).find((e=>e==gm));t&&(e=e.replace(Im,""));return e=e.replace(/@\*/g,bm).replace(/@\w+/g,(e=>bm+"-"+e.slice(1))).replace(/:animating/g,Zm),[e,t]}(e.selector);t.currentQuerySelector=n.length?n+" "+i:i,getOrSetDefaultValue(t.collectedStyles,t.currentQuerySelector,new Map);const o=visitDslNode(this,normalizeAnimationEntry(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:im.Query,selector:i,limit:l.limit||0,optional:!!l.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:normalizeAnimationOptions(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(new RuntimeError(3013,!1));const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:resolveTiming(e.timings,t.errors,!0);return{type:im.Stagger,animation:visitDslNode(this,normalizeAnimationEntry(e.animation),t),timings:n,options:null}}}class AnimationAstBuilderContext{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function normalizeAnimationOptions(e){var t;return e?(e={...e}).params&&(e.params=(t=e.params)?{...t}:null):e={},e}function makeTimingAst(e,t,n){return{duration:e,delay:t,easing:n}}function createTimelineInstruction(e,t,n,l,i,s,o=null,u=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:l,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:u}}class ElementInstructionMap{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const fm=new RegExp(":enter","g"),Sm=new RegExp(":leave","g");function buildAnimationTimelines(e,t,n,l,i,s=new Map,o=new Map,u,d,h=[]){return(new AnimationTimelineBuilderVisitor).buildKeyframes(e,t,n,l,i,s,o,u,d,h)}class AnimationTimelineBuilderVisitor{buildKeyframes(e,t,n,l,i,s,o,u,d,h=[]){d=d||new ElementInstructionMap;const m=new AnimationTimelineContext(e,t,d,l,i,h,[]);m.options=u;const b=u.delay?resolveTimingValue(u.delay):0;m.currentTimeline.delayNextStep(b),m.currentTimeline.setStyles([s],null,m.errors,u),visitDslNode(this,n,m);const V=m.timelines.filter((e=>e.containsAnimation()));if(V.length&&o.size){let e;for(let n=V.length-1;n>=0;n--){const l=V[n];if(l.element===t){e=l;break}}e&&!e.allowOnlyTimelineStyles()&&e.setStyles([o],null,m.errors,u)}return V.length?V.map((e=>e.buildKeyframes())):[createTimelineInstruction(t,[],[],[],0,b,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.get(t.element);if(n){const l=t.createSubContext(e.options),i=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,l,l.options);i!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,n),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,n){for(const l of e){const e=l?.delay;if(e){const i="number"==typeof e?e:resolveTimingValue(interpolateParams(e,l?.params??{},t.errors));n.delayNextStep(i)}}}_visitSubInstructions(e,t,n){let l=t.currentTimeline.currentTime;const i=null!=n.duration?resolveTimingValue(n.duration):null,s=null!=n.delay?resolveTimingValue(n.delay):null;return 0!==i&&e.forEach((e=>{const n=t.appendInstructionToTimeline(e,i,s);l=Math.max(l,n.duration+n.delay)})),l}visitReference(e,t){t.updateOptions(e.options,!0),visitDslNode(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let l=t;const i=e.options;if(i&&(i.params||i.delay)&&(l=t.createSubContext(i),l.transformIntoNewTimeline(),null!=i.delay)){l.previousNode.type==im.Style&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=Lm);const e=resolveTimingValue(i.delay);l.delayNextStep(e)}e.steps.length&&(e.steps.forEach((e=>visitDslNode(this,e,l))),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>n&&l.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let l=t.currentTimeline.currentTime;const i=e.options&&e.options.delay?resolveTimingValue(e.options.delay):0;e.steps.forEach((s=>{const o=t.createSubContext(e.options);i&&o.delayNextStep(i),visitDslNode(this,s,o),l=Math.max(l,o.currentTimeline.currentTime),n.push(o.currentTimeline)})),n.forEach((e=>t.currentTimeline.mergeTimelineCollectedStyles(e))),t.transformIntoNewTimeline(l),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return resolveTiming(t.params?interpolateParams(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),l=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),l.snapshotCurrentStyles());const i=e.style;i.type==im.Keyframes?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),l.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,l=t.currentAnimateTimings;!l&&n.hasCurrentStyleProperties()&&n.forwardFrame();const i=l&&l.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,l=t.currentTimeline.duration,i=n.duration,s=t.createSubContext().currentTimeline;s.easing=n.easing,e.styles.forEach((e=>{const n=e.offset||0;s.forwardTime(n*i),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(l+i),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,l=e.options||{},i=l.delay?resolveTimingValue(l.delay):0;i&&(t.previousNode.type===im.Style||0==n&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Lm);let s=n;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!l.optional,t.errors);t.currentQueryTotal=o.length;let u=null;o.forEach(((n,l)=>{t.currentQueryIndex=l;const o=t.createSubContext(e.options,n);i&&o.delayNextStep(i),n===t.element&&(u=o.currentTimeline),visitDslNode(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe();const d=o.currentTimeline.currentTime;s=Math.max(s,d)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,l=t.currentTimeline,i=e.timings,s=Math.abs(i.duration),o=s*(t.currentQueryTotal-1);let u=s*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":u=o-u;break;case"full":u=n.currentStaggerTime}const d=t.currentTimeline;u&&d.delayNextStep(u);const h=d.currentTime;visitDslNode(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=l.currentTime-h+(l.startTime-n.currentTimeline.startTime)}}const Lm={};class AnimationTimelineContext{constructor(e,t,n,l,i,s,o,u){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=l,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Lm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new TimelineBuilder(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let l=this.options;null!=n.duration&&(l.duration=resolveTimingValue(n.duration)),null!=n.delay&&(l.delay=resolveTimingValue(n.delay));const i=n.params;if(i){let e=l.params;e||(e=this.options.params={}),Object.keys(i).forEach((n=>{t&&e.hasOwnProperty(n)||(e[n]=interpolateParams(i[n],e,this.errors))}))}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach((e=>{n[e]=t[e]}))}}return e}createSubContext(e=null,t,n){const l=t||this.element,i=new AnimationTimelineContext(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=Lm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const l={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new SubTimelineBuilder(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,l,e.stretchStartingKeyframe);return this.timelines.push(i),l}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,l,i,s){let o=[];if(l&&o.push(this.element),e.length>0){e=(e=e.replace(fm,"."+this._enterClassName)).replace(Sm,"."+this._leaveClassName);const t=1!=n;let l=this._driver.query(this.element,e,t);0!==n&&(l=n<0?l.slice(l.length+n,l.length):l.slice(0,n)),o.push(...l)}return i||0!=o.length||s.push(new RuntimeError(3014,!1)),o}}class TimelineBuilder{constructor(e,t,n,l){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=l,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new TimelineBuilder(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[e,t]of this._globalTimelineStyles)this._backFill.set(e,t||sm),this._currentKeyframe.set(e,sm);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,l){t&&this._previousKeyframe.set("easing",t);const i=l&&l.params||{},s=function(e,t){const n=new Map;let l;return e.forEach((e=>{if("*"===e){l??(l=t.keys());for(let e of l)n.set(e,sm)}else for(let[t,l]of e)n.set(t,l)})),n}(e,this._globalTimelineStyles);for(let[e,t]of s){const l=interpolateParams(t,i,n);this._pendingStyles.set(e,l),this._localTimelineStyles.has(e)||this._backFill.set(e,this._globalTimelineStyles.get(e)??sm),this._updateStyle(e,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach(((e,t)=>{this._currentKeyframe.set(t,e)})),this._pendingStyles.clear(),this._localTimelineStyles.forEach(((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)})))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach(((e,t)=>{const n=this._styleSummary.get(t);(!n||e.time>n.time)&&this._updateStyle(t,e.value)}))}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let l=[];this._keyframes.forEach(((i,s)=>{const o=new Map([...this._backFill,...i]);o.forEach(((n,l)=>{"!"===n?e.add(l):n===sm&&t.add(l)})),n||o.set("offset",s/this.duration),l.push(o)}));const i=[...e.values()],s=[...t.values()];if(n){const e=l[0],t=new Map(e);e.set("offset",0),t.set("offset",1),l=[e,t]}return createTimelineInstruction(this.element,l,i,s,this.duration,this.startTime,this.easing,!1)}}class SubTimelineBuilder extends TimelineBuilder{constructor(e,t,n,l,i,s,o=!1){super(e,t,s.delay),this.keyframes=n,this.preStyleProps=l,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:l}=this.timings;if(this._stretchStartingKeyframe&&t){const i=[],s=n+t,o=t/s,u=new Map(e[0]);u.set("offset",0),i.push(u);const d=new Map(e[0]);d.set("offset",roundOffset(o)),i.push(d);const h=e.length-1;for(let l=1;l<=h;l++){let o=new Map(e[l]);const u=t+o.get("offset")*n;o.set("offset",roundOffset(u/s)),i.push(o)}n=s,t=0,l="",e=i}return createTimelineInstruction(this.element,e,this.preStyleProps,this.postStyleProps,n,t,l,!0)}}function roundOffset(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}function createTransitionInstruction(e,t,n,l,i,s,o,u,d,h,m,b,V){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:s,toState:l,toStyles:o,timelines:u,queriedElements:d,preStyleProps:h,postStyleProps:m,totalTime:b,errors:V}}const Ym={};class AnimationTransitionFactory{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,l){return function(e,t,n,l,i){return e.some((e=>e(t,n,l,i)))}(this.ast.matchers,e,t,n,l)}buildStyles(e,t,n){let l=this._stateStyles.get("*");return void 0!==e&&(l=this._stateStyles.get(e?.toString())||l),l?l.buildStyles(t,n):new Map}build(e,t,n,l,i,s,o,u,d,h){const m=[],b=this.ast.options&&this.ast.options.params||Ym,V=o&&o.params||Ym,g=this.buildStyles(n,V,m),f=u&&u.params||Ym,S=this.buildStyles(l,f,m),L=new Set,v=new Map,k=new Map,C="void"===l,F={params:applyParamDefaults(f,b),delay:this.ast.options?.delay},z=h?[]:buildAnimationTimelines(e,t,this.ast.animation,i,s,g,S,F,d,m);let E=0;return z.forEach((e=>{E=Math.max(e.duration+e.delay,E)})),m.length?createTransitionInstruction(t,this._triggerName,n,l,C,g,S,[],[],v,k,E,m):(z.forEach((e=>{const n=e.element,l=getOrSetDefaultValue(v,n,new Set);e.preStyleProps.forEach((e=>l.add(e)));const i=getOrSetDefaultValue(k,n,new Set);e.postStyleProps.forEach((e=>i.add(e))),n!==t&&L.add(n)})),createTransitionInstruction(t,this._triggerName,n,l,C,g,S,z,[...L.values()],v,k,E))}}function applyParamDefaults(e,t){const n={...t};return Object.entries(e).forEach((([e,t])=>{null!=t&&(n[e]=t)})),n}class AnimationStateStyles{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n=new Map,l=applyParamDefaults(e,this.defaultParams);return this.styles.styles.forEach((e=>{"string"!=typeof e&&e.forEach(((e,i)=>{e&&(e=interpolateParams(e,l,t));const s=this.normalizer.normalizePropertyName(i,t);e=this.normalizer.normalizeStyleValue(i,s,e,t),n.set(i,e)}))})),n}}class AnimationTrigger{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states=new Map,t.states.forEach((e=>{const t=e.options&&e.options.params||{};this.states.set(e.name,new AnimationStateStyles(e.style,t,n))})),balanceProperties(this.states,"true","1"),balanceProperties(this.states,"false","0"),t.transitions.forEach((t=>{this.transitionFactories.push(new AnimationTransitionFactory(e,t,this.states))})),this.fallbackTransition=function(e,t,n){const l=[(e,t)=>!0],i={type:im.Sequence,steps:[],options:null},s={type:im.Transition,animation:i,matchers:l,options:null,queryCount:0,depCount:0};return new AnimationTransitionFactory(e,s,t)}(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,l){return this.transitionFactories.find((i=>i.match(e,t,n,l)))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function balanceProperties(e,t,n){e.has(t)?e.has(n)||e.set(n,e.get(t)):e.has(n)&&e.set(t,e.get(n))}const Km=new ElementInstructionMap;class TimelineAnimationEngine{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const n=[],l=[],i=buildAnimationAst(this._driver,t,n,l);if(n.length)throw new RuntimeError(3503,!1);this._animations.set(e,i)}_buildPlayer(e,t,n){const l=e.element,i=normalizeKeyframes$1(this._normalizer,e.keyframes,t,n);return this._driver.animate(l,i,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const l=[],i=this._animations.get(e);let s;const o=new Map;if(i?(s=buildAnimationTimelines(this._driver,t,i,dm,hm,new Map,new Map,n,Km,l),s.forEach((e=>{const t=getOrSetDefaultValue(o,e.element,new Map);e.postStyleProps.forEach((e=>t.set(e,null)))}))):(l.push(new RuntimeError(3300,!1)),s=[]),l.length)throw new RuntimeError(3504,!1);o.forEach(((e,t)=>{e.forEach(((n,l)=>{e.set(l,this._driver.computeStyle(t,l,sm))}))}));const u=s.map((e=>{const t=o.get(e.element);return this._buildPlayer(e,new Map,t)})),d=optimizeGroupPlayer(u);return this._playersById.set(e,d),d.onDestroy((()=>this.destroy(e))),this.players.push(d),d}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw new RuntimeError(3301,!1);return t}listen(e,t,n,l){const i=makeAnimationEvent(t,"","","");return listenOnPlayer(this._getPlayer(e),n,i,l),()=>{}}command(e,t,n,l){if("register"==n)return void this.register(e,l[0]);if("create"==n){const n=l[0]||{};return void this.create(e,t,n)}const i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(l[0]));break;case"destroy":this.destroy(e)}}}const xm="ng-animate-queued",Nm="ng-animate-disabled",Tm=[],vm={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},km={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Cm="__ng_removed";class StateValue{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value"),l=n?e.value:e;if(this.value=function(e){return null!=e?e:null}(l),n){const{value:t,...n}=e;this.options=n}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach((n=>{null==e[n]&&(e[n]=t[n])}))}}}const Hm="void",Jm=new StateValue(Hm);class AnimationTransitionNamespace{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,addClass(t,this._hostClassName)}listen(e,t,n,l){if(!this._triggers.has(t))throw new RuntimeError(3302,!1);if(null==n||0==n.length)throw new RuntimeError(3303,!1);if("start"!=(i=n)&&"done"!=i)throw new RuntimeError(3400,!1);var i;const s=getOrSetDefaultValue(this._elementListeners,e,[]),o={name:t,phase:n,callback:l};s.push(o);const u=getOrSetDefaultValue(this._engine.statesByElement,e,new Map);return u.has(t)||(addClass(e,mm),addClass(e,mm+"-"+t),u.set(t,Jm)),()=>{this._engine.afterFlush((()=>{const e=s.indexOf(o);e>=0&&s.splice(e,1),this._triggers.has(t)||u.delete(t)}))}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw new RuntimeError(3401,!1);return t}trigger(e,t,n,l=!0){const i=this._getTrigger(t),s=new TransitionAnimationPlayer(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(addClass(e,mm),addClass(e,mm+"-"+t),this._engine.statesByElement.set(e,o=new Map));let u=o.get(t);const d=new StateValue(n,this.id);!(n&&n.hasOwnProperty("value"))&&u&&d.absorbOptions(u.options),o.set(t,d),u||(u=Jm);if(!(d.value===Hm)&&u.value===d.value){if(!function(e,t){const n=Object.keys(e),l=Object.keys(t);if(n.length!=l.length)return!1;for(let l=0;l<n.length;l++){const i=n[l];if(!t.hasOwnProperty(i)||e[i]!==t[i])return!1}return!0}(u.params,d.params)){const t=[],n=i.matchStyles(u.value,u.params,t),l=i.matchStyles(d.value,d.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush((()=>{eraseStyles(e,n),setStyles(e,l)}))}return}const h=getOrSetDefaultValue(this._engine.playersByElement,e,[]);h.forEach((e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()}));let m=i.matchTransition(u.value,d.value,e,d.params),b=!1;if(!m){if(!l)return;m=i.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:u,toState:d,player:s,isFallbackTransition:b}),b||(addClass(e,xm),s.onStart((()=>{removeClass(e,xm)}))),s.onDone((()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(s);e>=0&&n.splice(e,1)}})),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach((t=>t.delete(e))),this._elementListeners.forEach(((t,n)=>{this._elementListeners.set(n,t.filter((t=>t.name!=e)))}))}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach((e=>e.destroy())),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,bm,!0);n.forEach((e=>{if(e[Cm])return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach((n=>n.triggerLeaveAnimation(e,t,!1,!0))):this.clearElementCache(e)})),this._engine.afterFlushAnimationsDone((()=>n.forEach((e=>this.clearElementCache(e)))))}triggerLeaveAnimation(e,t,n,l){const i=this._engine.statesByElement.get(e),s=new Map;if(i){const o=[];if(i.forEach(((t,n)=>{if(s.set(n,t.value),this._triggers.has(n)){const t=this.trigger(e,n,Hm,l);t&&o.push(t)}})),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),n&&optimizeGroupPlayer(o).onDone((()=>this._engine.processLeaveNode(e))),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const l=new Set;t.forEach((t=>{const i=t.name;if(l.has(i))return;l.add(i);const s=this._triggers.get(i).fallbackTransition,o=n.get(i)||Jm,u=new StateValue(Hm),d=new TransitionAnimationPlayer(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:s,fromState:o,toState:u,player:d,isFallbackTransition:!0})}))}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let l=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)l=!0;else{let t=e;for(;t=t.parentNode;){if(n.statesByElement.get(t)){l=!0;break}}}}if(this.prepareLeaveAnimationListeners(e),l)n.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Cm];l&&l!==vm||(n.afterFlush((()=>this.clearElementCache(e))),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){addClass(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach((n=>{const l=n.player;if(l.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach((t=>{if(t.name==n.triggerName){const l=makeAnimationEvent(i,n.triggerName,n.fromState.value,n.toState.value);l._data=e,listenOnPlayer(n.player,t.phase,l,t.callback)}})),l.markedForDestroy?this._engine.afterFlush((()=>{l.destroy()})):t.push(n)})),this._queue=[],t.sort(((e,t)=>{const n=e.transition.ast.depCount,l=t.transition.ast.depCount;return 0==n||0==l?n-l:this._engine.driver.containsElement(e.element,t.element)?1:-1}))}destroy(e){this.players.forEach((e=>e.destroy())),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class TransitionAnimationEngine{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,n,l){this.bodyNode=e,this.driver=t,this._normalizer=n,this.scheduler=l,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach((t=>{t.players.forEach((t=>{t.queued&&e.push(t)}))})),e}createNamespace(e,t){const n=new AnimationTransitionNamespace(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList,l=this.namespacesByHostElement;if(n.length-1>=0){let i=!1,s=this.driver.getParentElement(t);for(;s;){const t=l.get(s);if(t){const l=n.indexOf(t);n.splice(l+1,0,e),i=!0;break}s=this.driver.getParentElement(s)}i||n.unshift(e)}else n.push(e);return l.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let l=this._namespaceLookup[e];l&&l.register(t,n)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush((()=>{})),this.afterFlushAnimationsDone((()=>{const n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);const l=this._namespaceList.indexOf(n);l>=0&&this._namespaceList.splice(l,1),n.destroy(t),delete this._namespaceLookup[e]})))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n)for(let e of n.values())if(e.namespaceId){const n=this._fetchNamespace(e.namespaceId);n&&t.add(n)}return t}trigger(e,t,n,l){if(isElementNode(t)){const i=this._fetchNamespace(e);if(i)return i.trigger(t,n,l),!0}return!1}insertNode(e,t,n,l){if(!isElementNode(t))return;const i=t[Cm];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,n)}l&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),addClass(e,Nm)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),removeClass(e,Nm))}removeNode(e,t,n){if(isElementNode(t)){this.scheduler?.notify();const l=e?this._fetchNamespace(e):null;l?l.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n);const i=this.namespacesByHostElement.get(t);i&&i.id!==e&&i.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,n,l,i){this.collectedLeaveElements.push(t),t[Cm]={namespaceId:e,setForRemoval:l,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:i}}listen(e,t,n,l,i){return isElementNode(t)?this._fetchNamespace(e).listen(t,n,l,i):()=>{}}_buildInstruction(e,t,n,l,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,l,e.fromState.options,e.toState.options,t,i)}destroyInnerAnimations(e){let t=this.driver.query(e,bm,!0);t.forEach((e=>this.destroyActiveAnimationsForElement(e))),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Zm,!0),t.forEach((e=>this.finishActiveQueriedAnimationOnElement(e))))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach((e=>{e.queued?e.markedForDestroy=!0:e.destroy()}))}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach((e=>e.finish()))}whenRenderingDone(){return new Promise((e=>{if(this.players.length)return optimizeGroupPlayer(this.players).onDone((()=>e()));e()}))}processLeaveNode(e){const t=e[Cm];if(t&&t.setForRemoval){if(e[Cm]=vm,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Nm)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((e=>{this.markElementAsDisabled(e,!1)}))}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach(((e,t)=>this._balanceNamespaceList(e,t))),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let e=0;e<this.collectedEnterElements.length;e++){addClass(this.collectedEnterElements[e],"ng-star-inserted")}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let e=0;e<this.collectedLeaveElements.length;e++){const t=this.collectedLeaveElements[e];this.processLeaveNode(t)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((e=>e())),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?optimizeGroupPlayer(t).onDone((()=>{e.forEach((e=>e()))})):e.forEach((e=>e()))}}reportError(e){throw new RuntimeError(3402,!1)}_flushAnimations(e,t){const n=new ElementInstructionMap,l=[],i=new Map,s=[],o=new Map,u=new Map,d=new Map,h=new Set;this.disabledNodes.forEach((e=>{h.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let e=0;e<t.length;e++)h.add(t[e])}));const m=this.bodyNode,b=Array.from(this.statesByElement.keys()),V=buildRootMap(b,this.collectedEnterElements),g=new Map;let f=0;V.forEach(((e,t)=>{const n=dm+f++;g.set(t,n),e.forEach((e=>addClass(e,n)))}));const S=[],L=new Set,v=new Set;for(let e=0;e<this.collectedLeaveElements.length;e++){const t=this.collectedLeaveElements[e],n=t[Cm];n&&n.setForRemoval&&(S.push(t),L.add(t),n.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach((e=>L.add(e))):v.add(t))}const k=new Map,C=buildRootMap(b,Array.from(L));C.forEach(((e,t)=>{const n=hm+f++;k.set(t,n),e.forEach((e=>addClass(e,n)))})),e.push((()=>{V.forEach(((e,t)=>{const n=g.get(t);e.forEach((e=>removeClass(e,n)))})),C.forEach(((e,t)=>{const n=k.get(t);e.forEach((e=>removeClass(e,n)))})),S.forEach((e=>{this.processLeaveNode(e)}))}));const F=[],z=[];for(let e=this._namespaceList.length-1;e>=0;e--){this._namespaceList[e].drainQueuedTransitions(t).forEach((e=>{const t=e.player,i=e.element;if(F.push(t),this.collectedEnterElements.length){const n=i[Cm];if(n&&n.setForMove){if(n.previousTriggersValues&&n.previousTriggersValues.has(e.triggerName)){const t=n.previousTriggersValues.get(e.triggerName),l=this.statesByElement.get(e.element);if(l&&l.has(e.triggerName)){const n=l.get(e.triggerName);n.value=t,l.set(e.triggerName,n)}}return void t.destroy()}}const h=!m||!this.driver.containsElement(m,i),b=k.get(i),V=g.get(i),f=this._buildInstruction(e,n,V,b,h);if(f.errors&&f.errors.length)return void z.push(f);if(h)return t.onStart((()=>eraseStyles(i,f.fromStyles))),t.onDestroy((()=>setStyles(i,f.toStyles))),void l.push(t);if(e.isFallbackTransition)return t.onStart((()=>eraseStyles(i,f.fromStyles))),t.onDestroy((()=>setStyles(i,f.toStyles))),void l.push(t);const S=[];f.timelines.forEach((e=>{e.stretchStartingKeyframe=!0,this.disabledNodes.has(e.element)||S.push(e)})),f.timelines=S,n.append(i,f.timelines);const L={instruction:f,player:t,element:i};s.push(L),f.queriedElements.forEach((e=>getOrSetDefaultValue(o,e,[]).push(t))),f.preStyleProps.forEach(((e,t)=>{if(e.size){let n=u.get(t);n||u.set(t,n=new Set),e.forEach(((e,t)=>n.add(t)))}})),f.postStyleProps.forEach(((e,t)=>{let n=d.get(t);n||d.set(t,n=new Set),e.forEach(((e,t)=>n.add(t)))}))}))}if(z.length){const e=[];z.forEach((t=>{e.push((t.triggerName,t.errors,new RuntimeError(3505,!1)))})),F.forEach((e=>e.destroy())),this.reportError(e)}const E=new Map,w=new Map;s.forEach((e=>{const t=e.element;n.has(t)&&(w.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,E))})),l.forEach((e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((e=>{getOrSetDefaultValue(E,t,[]).push(e),e.destroy()}))}));const j=S.filter((e=>replacePostStylesAsPre(e,u,d))),_=new Map;cloakAndComputeStyles(_,this.driver,v,d,sm).forEach((e=>{replacePostStylesAsPre(e,u,d)&&j.push(e)}));const D=new Map;V.forEach(((e,t)=>{cloakAndComputeStyles(D,this.driver,new Set(e),u,"!")})),j.forEach((e=>{const t=_.get(e),n=D.get(e);_.set(e,new Map([...t?.entries()??[],...n?.entries()??[]]))}));const $=[],ee=[],te={};s.forEach((e=>{const{element:t,player:s,instruction:o}=e;if(n.has(t)){if(h.has(t))return s.onDestroy((()=>setStyles(t,o.toStyles))),s.disabled=!0,s.overrideTotalTime(o.totalTime),void l.push(s);let e=te;if(w.size>1){let n=t;const l=[];for(;n=n.parentNode;){const t=w.get(n);if(t){e=t;break}l.push(n)}l.forEach((t=>w.set(t,e)))}const n=this._buildAnimation(s.namespaceId,o,E,i,D,_);if(s.setRealPlayer(n),e===te)$.push(s);else{const t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=optimizeGroupPlayer(t)),l.push(s)}}else eraseStyles(t,o.fromStyles),s.onDestroy((()=>setStyles(t,o.toStyles))),ee.push(s),h.has(t)&&l.push(s)})),ee.forEach((e=>{const t=i.get(e.element);if(t&&t.length){const n=optimizeGroupPlayer(t);e.setRealPlayer(n)}})),l.forEach((e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(let e=0;e<S.length;e++){const t=S[e],n=t[Cm];if(removeClass(t,hm),n&&n.hasAnimation)continue;let l=[];if(o.size){let e=o.get(t);e&&e.length&&l.push(...e);let n=this.driver.query(t,Zm,!0);for(let e=0;e<n.length;e++){let t=o.get(n[e]);t&&t.length&&l.push(...t)}}const i=l.filter((e=>!e.destroyed));i.length?removeNodesAfterAnimationDone(this,t,i):this.processLeaveNode(t)}return S.length=0,$.forEach((e=>{this.players.push(e),e.onDone((()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)})),e.play()})),$}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,l,i){let s=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(s=t)}else{const t=this.playersByElement.get(e);if(t){const e=!i||i==Hm;t.forEach((t=>{t.queued||(e||t.triggerName==l)&&s.push(t)}))}}return(n||l)&&(s=s.filter((e=>(!n||n==e.namespaceId)&&(!l||l==e.triggerName)))),s}_beforeAnimationBuild(e,t,n){const l=t.triggerName,i=t.element,s=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:l;for(const e of t.timelines){const l=e.element,u=l!==i,d=getOrSetDefaultValue(n,l,[]);this._getPreviousPlayers(l,u,s,o,t.toState).forEach((e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),d.push(e)}))}eraseStyles(i,t.fromStyles)}_buildAnimation(e,t,n,l,i,s){const o=t.triggerName,u=t.element,d=[],h=new Set,m=new Set,b=t.timelines.map((t=>{const b=t.element;h.add(b);const V=b[Cm];if(V&&V.removedBeforeQueried)return new NoopAnimationPlayer(t.duration,t.delay);const g=b!==u,f=function(e){const t=[];return _flattenGroupPlayersRecur(e,t),t}((n.get(b)||Tm).map((e=>e.getRealPlayer()))).filter((e=>{const t=e;return!!t.element&&t.element===b})),S=i.get(b),L=s.get(b),v=normalizeKeyframes$1(this._normalizer,t.keyframes,S,L),k=this._buildPlayer(t,v,f);if(t.subTimeline&&l&&m.add(b),g){const t=new TransitionAnimationPlayer(e,o,b);t.setRealPlayer(k),d.push(t)}return k}));d.forEach((e=>{getOrSetDefaultValue(this.playersByQueriedElement,e.element,[]).push(e),e.onDone((()=>function(e,t,n){let l=e.get(t);if(l){if(l.length){const e=l.indexOf(n);l.splice(e,1)}0==l.length&&e.delete(t)}return l}(this.playersByQueriedElement,e.element,e)))})),h.forEach((e=>addClass(e,pm)));const V=optimizeGroupPlayer(b);return V.onDestroy((()=>{h.forEach((e=>removeClass(e,pm))),setStyles(u,t.toStyles)})),m.forEach((e=>{getOrSetDefaultValue(l,e,[]).push(V)})),V}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new NoopAnimationPlayer(e.duration,e.delay)}}class TransitionAnimationPlayer{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new NoopAnimationPlayer,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach(((t,n)=>{t.forEach((t=>listenOnPlayer(e,n,void 0,t)))})),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart((()=>t.triggerCallback("start"))),e.onDone((()=>this.finish())),e.onDestroy((()=>this.destroy()))}_queueEvent(e,t){getOrSetDefaultValue(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function isElementNode(e){return e&&1===e.nodeType}function cloakElement(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function cloakAndComputeStyles(e,t,n,l,i){const s=[];n.forEach((e=>s.push(cloakElement(e))));const o=[];l.forEach(((n,l)=>{const s=new Map;n.forEach((e=>{const n=t.computeStyle(l,e,i);s.set(e,n),n&&0!=n.length||(l[Cm]=km,o.push(l))})),e.set(l,s)}));let u=0;return n.forEach((e=>cloakElement(e,s[u++]))),o}function buildRootMap(e,t){const n=new Map;if(e.forEach((e=>n.set(e,[]))),0==t.length)return n;const l=new Set(t),i=new Map;function getRoot(e){if(!e)return 1;let t=i.get(e);if(t)return t;const s=e.parentNode;return t=n.has(s)?s:l.has(s)?1:getRoot(s),i.set(e,t),t}return t.forEach((e=>{const t=getRoot(e);1!==t&&n.get(t).push(e)})),n}function addClass(e,t){e.classList?.add(t)}function removeClass(e,t){e.classList?.remove(t)}function removeNodesAfterAnimationDone(e,t,n){optimizeGroupPlayer(n).onDone((()=>e.processLeaveNode(t)))}function _flattenGroupPlayersRecur(e,t){for(let n=0;n<e.length;n++){const l=e[n];l instanceof AnimationGroupPlayer?_flattenGroupPlayersRecur(l.players,t):t.push(l)}}function replacePostStylesAsPre(e,t,n){const l=n.get(e);if(!l)return!1;let i=t.get(e);return i?l.forEach((e=>i.add(e))):t.set(e,l),n.delete(e),!0}class AnimationEngine{constructor(e,t,n,l){this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new TransitionAnimationEngine(e.body,t,n,l),this._timelineEngine=new TimelineAnimationEngine(e.body,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,l,i){const s=e+"-"+l;let o=this._triggerCache[s];if(!o){const e=[],t=[],n=buildAnimationAst(this._driver,i,e,t);if(e.length)throw new RuntimeError(3404,!1);t.length,o=function(e,t,n){return new AnimationTrigger(e,t,n)}(l,n,this._normalizer),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,l,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,l){this._transitionEngine.insertNode(e,t,n,l)}onRemove(e,t,n){this._transitionEngine.removeNode(e,t,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,l){if("@"==n.charAt(0)){const[e,i]=parseTimelineCommand(n),s=l;this._timelineEngine.command(e,t,i,s)}else this._transitionEngine.trigger(e,t,n,l)}listen(e,t,n,l,i){if("@"==n.charAt(0)){const[e,l]=parseTimelineCommand(n);return this._timelineEngine.listen(e,t,l,i)}return this._transitionEngine.listen(e,t,n,l,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class SpecialCasedStyles{constructor(e,t,n){this._element=e,this._startStyles=t,this._endStyles=n,this._state=0;let l=SpecialCasedStyles.initialStylesByElement.get(e);l||SpecialCasedStyles.initialStylesByElement.set(e,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&setStyles(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(setStyles(this._element,this._initialStyles),this._endStyles&&(setStyles(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(SpecialCasedStyles.initialStylesByElement.delete(this._element),this._startStyles&&(eraseStyles(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(eraseStyles(this._element,this._endStyles),this._endStyles=null),setStyles(this._element,this._initialStyles),this._state=3)}}SpecialCasedStyles.initialStylesByElement=new WeakMap;const Fm="@",zm="@.disabled";class BaseAnimationRenderer{constructor(e,t,n,l){this.namespaceId=e,this.delegate=t,this.engine=n,this._onDestroy=l,this.type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone((()=>{queueMicrotask((()=>{this.delegate.destroy()}))})),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,l=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,l)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,l){this.delegate.setAttribute(e,t,n,l)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,l){this.delegate.setStyle(e,t,n,l)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==Fm&&t==zm?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class AnimationRenderer extends BaseAnimationRenderer{constructor(e,t,n,l,i){super(t,n,l,i),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==Fm?"."==t.charAt(1)&&t==zm?(n=void 0===n||!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==Fm){const l=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let i=t.slice(1),s="";return i.charAt(0)!=Fm&&([i,s]=function(e){const t=e.indexOf("."),n=e.substring(0,t),l=e.slice(t+1);return[n,l]}(i)),this.engine.listen(this.namespaceId,l,i,s,(e=>{const t=e._data||-1;this.factory.scheduleListenerCallback(t,n,e)}))}return this.delegate.listen(e,t,n)}}class AnimationRendererFactory{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(e,t)=>{const n=t?.parentNode(e);n&&t.removeChild(n,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const e=this._rendererCache;let t=e.get(n);if(!t){const onRendererDestroy=()=>e.delete(n);t=new BaseAnimationRenderer("",n,this.engine,onRendererDestroy),e.set(n,t)}return t}const l=t.id,i=t.id+"-"+this._currentId;this._currentId++,this.engine.register(i,e);const registerTrigger=t=>{Array.isArray(t)?t.forEach(registerTrigger):this.engine.registerTrigger(l,i,e,t.name,t)};return t.data.animation.forEach(registerTrigger),new AnimationRenderer(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask((()=>{this._microtaskId++}))}scheduleListenerCallback(e,t,n){if(e>=0&&e<this._microtaskId)return void this._zone.run((()=>t(n)));const l=this._animationCallbacksBuffer;0==l.length&&queueMicrotask((()=>{this._zone.run((()=>{l.forEach((e=>{const[t,n]=e;t(n)})),this._animationCallbacksBuffer=[]}))})),l.push([t,n])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)})),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const Um=[{provide:AnimationStyleNormalizer,useFactory:function(){return new WebAnimationsStyleNormalizer}},{provide:AnimationEngine,useClass:(()=>{var e;class InjectableAnimationEngine2 extends AnimationEngine{constructor(e,t,n){super(e,t,n,inject(ChangeDetectionScheduler,{optional:!0}))}ngOnDestroy(){this.flush()}}return(e=InjectableAnimationEngine2).fac=function(t){return new(t||e)(inject(ud),inject(AnimationDriver),inject(AnimationStyleNormalizer))},e.prov=defineInjectable({token:e,factory:e.fac}),InjectableAnimationEngine2})()},{provide:RendererFactory2,useFactory:function(e,t,n){return new AnimationRendererFactory(e,t,n)},deps:[Ph,AnimationEngine,NgZone]}],Em=[{provide:AnimationDriver,useClass:rm},{provide:Qa,useValue:"NoopAnimations"},...Um];var Mm=Object.getOwnPropertyNames,__commonJS=(e,t)=>function(){return t||(0,e[Mm(e)[0]])((t={exports:{}}).exports,t),t.exports},wm=__commonJS({"external/npm/node_modules/domino/lib/Event.js"(e,t){function Event(e,t){if(this.type="",this.target=null,this.currentTarget=null,this.eventPhase=Event.AT_TARGET,this.bubbles=!1,this.cancelable=!1,this.isTrusted=!1,this.defaultPrevented=!1,this.timeStamp=Date.now(),this._propagationStopped=!1,this._immediatePropagationStopped=!1,this._initialized=!0,this._dispatching=!1,e&&(this.type=e),t)for(var n in t)this[n]=t[n]}t.exports=Event,Event.CAPTURING_PHASE=1,Event.AT_TARGET=2,Event.BUBBLING_PHASE=3,Event.prototype=Object.create(Object.prototype,{constructor:{value:Event},stopPropagation:{value:function(){this._propagationStopped=!0}},stopImmediatePropagation:{value:function(){this._propagationStopped=!0,this._immediatePropagationStopped=!0}},preventDefault:{value:function(){this.cancelable&&(this.defaultPrevented=!0)}},initEvent:{value:function(e,t,n){this._initialized=!0,this._dispatching||(this._propagationStopped=!1,this._immediatePropagationStopped=!1,this.defaultPrevented=!1,this.isTrusted=!1,this.target=null,this.type=e,this.bubbles=t,this.cancelable=n)}}})}}),Pm=__commonJS({"external/npm/node_modules/domino/lib/UIEvent.js"(e,t){var n=wm();function UIEvent(){n.call(this),this.view=null,this.detail=0}t.exports=UIEvent,UIEvent.prototype=Object.create(n.prototype,{constructor:{value:UIEvent},initUIEvent:{value:function(e,t,n,l,i){this.initEvent(e,t,n),this.view=l,this.detail=i}}})}}),jm=__commonJS({"external/npm/node_modules/domino/lib/MouseEvent.js"(e,t){var n=Pm();function MouseEvent(){n.call(this),this.screenX=this.screenY=this.clientX=this.clientY=0,this.ctrlKey=this.altKey=this.shiftKey=this.metaKey=!1,this.button=0,this.buttons=1,this.relatedTarget=null}t.exports=MouseEvent,MouseEvent.prototype=Object.create(n.prototype,{constructor:{value:MouseEvent},initMouseEvent:{value:function(e,t,n,l,i,s,o,u,d,h,m,b,V,g,f){switch(this.initEvent(e,t,n,l,i),this.screenX=s,this.screenY=o,this.clientX=u,this.clientY=d,this.ctrlKey=h,this.altKey=m,this.shiftKey=b,this.metaKey=V,this.button=g,g){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2;break;default:this.buttons=0}this.relatedTarget=f}},getModifierState:{value:function(e){switch(e){case"Alt":return this.altKey;case"Control":return this.ctrlKey;case"Shift":return this.shiftKey;case"Meta":return this.metaKey;default:return!1}}}})}}),Bm=__commonJS({"external/npm/node_modules/domino/lib/DOMException.js"(e,t){t.exports=DOMException;var n,l,i=[null,"INDEX_SIZE_ERR",null,"HIERARCHY_REQUEST_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR",null,"NO_MODIFICATION_ALLOWED_ERR","NOT_FOUND_ERR","NOT_SUPPORTED_ERR","INUSE_ATTRIBUTE_ERR","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR",null,"TYPE_MISMATCH_ERR","SECURITY_ERR","NETWORK_ERR","ABORT_ERR","URL_MISMATCH_ERR","QUOTA_EXCEEDED_ERR","TIMEOUT_ERR","INVALID_NODE_TYPE_ERR","DATA_CLONE_ERR"],s=[null,"INDEX_SIZE_ERR (1): the index is not in the allowed range",null,"HIERARCHY_REQUEST_ERR (3): the operation would yield an incorrect nodes model","WRONG_DOCUMENT_ERR (4): the object is in the wrong Document, a call to importNode is required","INVALID_CHARACTER_ERR (5): the string contains invalid characters",null,"NO_MODIFICATION_ALLOWED_ERR (7): the object can not be modified","NOT_FOUND_ERR (8): the object can not be found here","NOT_SUPPORTED_ERR (9): this operation is not supported","INUSE_ATTRIBUTE_ERR (10): setAttributeNode called on owned Attribute","INVALID_STATE_ERR (11): the object is in an invalid state","SYNTAX_ERR (12): the string did not match the expected pattern","INVALID_MODIFICATION_ERR (13): the object can not be modified in this way","NAMESPACE_ERR (14): the operation is not allowed by Namespaces in XML","INVALID_ACCESS_ERR (15): the object does not support the operation or argument",null,"TYPE_MISMATCH_ERR (17): the type of the object does not match the expected type","SECURITY_ERR (18): the operation is insecure","NETWORK_ERR (19): a network error occurred","ABORT_ERR (20): the user aborted an operation","URL_MISMATCH_ERR (21): the given URL does not match another URL","QUOTA_EXCEEDED_ERR (22): the quota has been exceeded","TIMEOUT_ERR (23): a timeout occurred","INVALID_NODE_TYPE_ERR (24): the supplied node is invalid or has an invalid ancestor for this operation","DATA_CLONE_ERR (25): the object can not be cloned."],o={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};function DOMException(e){Error.call(this),Error.captureStackTrace(this,this.constructor),this.code=e,this.message=s[e],this.name=i[e]}for(l in DOMException.prototype.__proto__=Error.prototype,o)n={value:o[l]},Object.defineProperty(DOMException,l,n),Object.defineProperty(DOMException.prototype,l,n)}}),Qm=__commonJS({"external/npm/node_modules/domino/lib/config.js"(e){e.isApiWritable=!globalThis.__domino_frozen__}}),_m=__commonJS({"external/npm/node_modules/domino/lib/utils.js"(e){var t=Bm(),n=t,l=Qm().isApiWritable;e.NAMESPACE={HTML:"http://www.w3.org/1999/xhtml",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink"},e.IndexSizeError=function(){throw new t(n.INDEX_SIZE_ERR)},e.HierarchyRequestError=function(){throw new t(n.HIERARCHY_REQUEST_ERR)},e.WrongDocumentError=function(){throw new t(n.WRONG_DOCUMENT_ERR)},e.InvalidCharacterError=function(){throw new t(n.INVALID_CHARACTER_ERR)},e.NoModificationAllowedError=function(){throw new t(n.NO_MODIFICATION_ALLOWED_ERR)},e.NotFoundError=function(){throw new t(n.NOT_FOUND_ERR)},e.NotSupportedError=function(){throw new t(n.NOT_SUPPORTED_ERR)},e.InvalidStateError=function(){throw new t(n.INVALID_STATE_ERR)},e.SyntaxError=function(){throw new t(n.SYNTAX_ERR)},e.InvalidModificationError=function(){throw new t(n.INVALID_MODIFICATION_ERR)},e.NamespaceError=function(){throw new t(n.NAMESPACE_ERR)},e.InvalidAccessError=function(){throw new t(n.INVALID_ACCESS_ERR)},e.TypeMismatchError=function(){throw new t(n.TYPE_MISMATCH_ERR)},e.SecurityError=function(){throw new t(n.SECURITY_ERR)},e.NetworkError=function(){throw new t(n.NETWORK_ERR)},e.AbortError=function(){throw new t(n.ABORT_ERR)},e.UrlMismatchError=function(){throw new t(n.URL_MISMATCH_ERR)},e.QuotaExceededError=function(){throw new t(n.QUOTA_EXCEEDED_ERR)},e.TimeoutError=function(){throw new t(n.TIMEOUT_ERR)},e.InvalidNodeTypeError=function(){throw new t(n.INVALID_NODE_TYPE_ERR)},e.DataCloneError=function(){throw new t(n.DATA_CLONE_ERR)},e.nyi=function(){throw new Error("NotYetImplemented")},e.shouldOverride=function(){throw new Error("Abstract function; should be overriding in subclass.")},e.assert=function(e,t){if(!e)throw new Error("Assertion failed: "+(t||"")+"\n"+(new Error).stack)},e.expose=function(e,t){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],writable:l})},e.merge=function(e,t){for(var n in t)e[n]=t[n]},e.documentOrder=function(e,t){return 3-(6&e.compareDocumentPosition(t))},e.toASCIILowerCase=function(e){return e.replace(/[A-Z]+/g,(function(e){return e.toLowerCase()}))},e.toASCIIUpperCase=function(e){return e.replace(/[a-z]+/g,(function(e){return e.toUpperCase()}))}}}),Dm=__commonJS({"external/npm/node_modules/domino/lib/EventTarget.js"(e,t){var n=wm(),l=jm(),i=_m();function EventTarget(){}t.exports=EventTarget,EventTarget.prototype={addEventListener:function(e,t,n){if(t){void 0===n&&(n=!1),this._listeners||(this._listeners=Object.create(null)),this._listeners[e]||(this._listeners[e]=[]);for(var l=this._listeners[e],i=0,s=l.length;i<s;i++){var o=l[i];if(o.listener===t&&o.capture===n)return}var u={listener:t,capture:n};"function"==typeof t&&(u.f=t),l.push(u)}},removeEventListener:function(e,t,n){if(void 0===n&&(n=!1),this._listeners){var l=this._listeners[e];if(l)for(var i=0,s=l.length;i<s;i++){var o=l[i];if(o.listener===t&&o.capture===n)return void(1===l.length?this._listeners[e]=void 0:l.splice(i,1))}}},dispatchEvent:function(e){return this._dispatchEvent(e,!1)},_dispatchEvent:function(e,t){function invoke(e,t){var l=t.type,i=t.eventPhase;if(t.currentTarget=e,i!==n.CAPTURING_PHASE&&e._handlers&&e._handlers[l]){var s,o=e._handlers[l];if("function"==typeof o)s=o.call(t.currentTarget,t);else{var u=o.handleEvent;if("function"!=typeof u)throw new TypeError("handleEvent property of event handler object isnot a function.");s=u.call(o,t)}if("mouseover"===t.type)!0===s&&t.preventDefault();else!1===s&&t.preventDefault()}var d=e._listeners&&e._listeners[l];if(d)for(var h=0,m=(d=d.slice()).length;h<m;h++){if(t._immediatePropagationStopped)return;var b=d[h];if(!(i===n.CAPTURING_PHASE&&!b.capture||i===n.BUBBLING_PHASE&&b.capture))if(b.f)b.f.call(t.currentTarget,t);else{var V=b.listener.handleEvent;if("function"!=typeof V)throw new TypeError("handleEvent property of event listener object is not a function.");V.call(b.listener,t)}}}"boolean"!=typeof t&&(t=!1),e._initialized&&!e._dispatching||i.InvalidStateError(),e.isTrusted=t,e._dispatching=!0,e.target=this;for(var s=[],o=this.parentNode;o;o=o.parentNode)s.push(o);e.eventPhase=n.CAPTURING_PHASE;for(var u=s.length-1;u>=0&&(invoke(s[u],e),!e._propagationStopped);u--);if(e._propagationStopped||(e.eventPhase=n.AT_TARGET,invoke(this,e)),e.bubbles&&!e._propagationStopped){e.eventPhase=n.BUBBLING_PHASE;for(var d=0,h=s.length;d<h&&(invoke(s[d],e),!e._propagationStopped);d++);}if(e._dispatching=!1,e.eventPhase=n.AT_TARGET,e.currentTarget=null,t&&!e.defaultPrevented&&e instanceof l)switch(e.type){case"mousedown":this._armed={x:e.clientX,y:e.clientY,t:e.timeStamp};break;case"mouseout":case"mouseover":this._armed=null;break;case"mouseup":this._isClick(e)&&this._doClick(e),this._armed=null}return!e.defaultPrevented},_isClick:function(e){return null!==this._armed&&"mouseup"===e.type&&e.isTrusted&&0===e.button&&e.timeStamp-this._armed.t<1e3&&Math.abs(e.clientX-this._armed.x)<10&&Math.abs(e.clientY-this._armed.Y)<10},_doClick:function(e){if(!this._click_in_progress){this._click_in_progress=!0;for(var t=this;t&&!t._post_click_activation_steps;)t=t.parentNode;t&&t._pre_click_activation_steps&&t._pre_click_activation_steps();var n=this.ownerDocument.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,this.ownerDocument.defaultView,1,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,null);var l=this._dispatchEvent(n,!0);t&&(l?t._post_click_activation_steps&&t._post_click_activation_steps(n):t._cancelled_activation_steps&&t._cancelled_activation_steps())}},_setEventHandler:function(e,t){this._handlers||(this._handlers=Object.create(null)),this._handlers[e]=t},_getEventHandler:function(e){return this._handlers&&this._handlers[e]||null}}}}),Om=__commonJS({"external/npm/node_modules/domino/lib/LinkedList.js"(e,t){var n=_m(),l=t.exports={valid:function(e){return n.assert(e,"list falsy"),n.assert(e._previousSibling,"previous falsy"),n.assert(e._nextSibling,"next falsy"),!0},insertBefore:function(e,t){n.assert(l.valid(e)&&l.valid(t));var i=e,s=e._previousSibling,o=t,u=t._previousSibling;i._previousSibling=u,s._nextSibling=o,u._nextSibling=i,o._previousSibling=s,n.assert(l.valid(e)&&l.valid(t))},replace:function(e,t){n.assert(l.valid(e)&&(null===t||l.valid(t))),null!==t&&l.insertBefore(t,e),l.remove(e),n.assert(l.valid(e)&&(null===t||l.valid(t)))},remove:function(e){n.assert(l.valid(e));var t=e._previousSibling;if(t!==e){var i=e._nextSibling;t._nextSibling=i,i._previousSibling=t,e._previousSibling=e._nextSibling=e,n.assert(l.valid(e))}}}}}),Am=__commonJS({"external/npm/node_modules/domino/lib/NodeUtils.js"(e,t){t.exports={serializeOne:function(e,t){var d="";switch(e.nodeType){case 1:var h=e.namespaceURI,m=h===l.HTML,b=m||h===l.SVG||h===l.MATHML?e.localName:e.tagName;d+="<"+b;for(var V=0,g=e._numattrs;V<g;V++){var f=e._attr(V);d+=" "+attrname(f),void 0!==f.value&&(d+='="'+escapeAttr(f.value)+'"')}if(d+=">",!m||!s[b]){var S=e.serialize();i[b.toUpperCase()]&&(S=escapeMatchingClosingTag(S,b)),m&&o[b]&&"\n"===S.charAt(0)&&(d+="\n"),d+=S,d+="</"+b+">"}break;case 3:case 4:var L;L=1===t.nodeType&&t.namespaceURI===l.HTML?t.tagName:"",i[L]||"NOSCRIPT"===L&&t.ownerDocument._scripting_enabled?d+=e.data:d+=function(e){if(!u.test(e))return e;return e.replace(u,(e=>{switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case"":return"&nbsp;"}}))}(e.data);break;case 8:d+="\x3c!--"+escapeClosingCommentTag(e.data)+"--\x3e";break;case 7:const v=escapeProcessingInstructionContent(e.data);d+="<?"+e.target+" "+v+"?>";break;case 10:d+="<!DOCTYPE "+e.name,d+=">";break;default:n.InvalidStateError()}return d},"escapeMatchingClosingTag":escapeMatchingClosingTag,"escapeClosingCommentTag":escapeClosingCommentTag,"escapeProcessingInstructionContent":escapeProcessingInstructionContent};var n=_m(),l=n.NAMESPACE,i={STYLE:!0,SCRIPT:!0,XMP:!0,IFRAME:!0,NOEMBED:!0,NOFRAMES:!0,PLAINTEXT:!0},s={area:!0,base:!0,basefont:!0,bgsound:!0,br:!0,col:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},o={},u=/[&<>\u00A0]/g,d=/[&"<>\u00A0]/g;function escapeAttr(e){return d.test(e)?e.replace(d,(e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case'"':return"&quot;";case"":return"&nbsp;"}})):e}function attrname(e){var t=e.namespaceURI;return t?t===l.XML?"xml:"+e.localName:t===l.XLINK?"xlink:"+e.localName:t===l.XMLNS?"xmlns"===e.localName?"xmlns":"xmlns:"+e.localName:e.name:e.localName}function escapeMatchingClosingTag(e,t){const n="</"+t;if(!e.toLowerCase().includes(n))return e;const l=[...e],i=e.matchAll(new RegExp(n,"ig"));for(const e of i)l[e.index]="&lt;";return l.join("")}var h=/--!?>/;function escapeClosingCommentTag(e){return h.test(e)?e.replace(/(--\!?)>/g,"$1&gt;"):e}function escapeProcessingInstructionContent(e){return e.includes(">")?e.replaceAll(">","&gt;"):e}}}),qm=__commonJS({"external/npm/node_modules/domino/lib/Node.js"(e,t){t.exports=Node2;var n=Dm(),l=Om(),i=Am(),s=_m();function Node2(){n.call(this),this.parentNode=null,this._nextSibling=this._previousSibling=this,this._index=void 0}var o=Node2.ELEMENT_NODE=1,u=Node2.ATTRIBUTE_NODE=2,d=Node2.TEXT_NODE=3,h=Node2.CDATA_SECTION_NODE=4,m=Node2.ENTITY_REFERENCE_NODE=5,b=Node2.ENTITY_NODE=6,V=Node2.PROCESSING_INSTRUCTION_NODE=7,g=Node2.COMMENT_NODE=8,f=Node2.DOCUMENT_NODE=9,S=Node2.DOCUMENT_TYPE_NODE=10,L=Node2.DOCUMENT_FRAGMENT_NODE=11,v=Node2.NOTATION_NODE=12,k=Node2.DOCUMENT_POSITION_DISCONNECTED=1,C=Node2.DOCUMENT_POSITION_PRECEDING=2,F=Node2.DOCUMENT_POSITION_FOLLOWING=4,z=Node2.DOCUMENT_POSITION_CONTAINS=8,E=Node2.DOCUMENT_POSITION_CONTAINED_BY=16,w=Node2.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;Node2.prototype=Object.create(n.prototype,{baseURI:{get:s.nyi},parentElement:{get:function(){return this.parentNode&&this.parentNode.nodeType===o?this.parentNode:null}},hasChildNodes:{value:s.shouldOverride},firstChild:{get:s.shouldOverride},lastChild:{get:s.shouldOverride},isConnected:{get:function(){let e=this;for(;null!=e;){if(e.nodeType===Node2.DOCUMENT_NODE)return!0;e=e.parentNode,null!=e&&e.nodeType===Node2.DOCUMENT_FRAGMENT_NODE&&(e=e.host)}return!1}},previousSibling:{get:function(){var e=this.parentNode;return e?this===e.firstChild?null:this._previousSibling:null}},nextSibling:{get:function(){var e=this.parentNode,t=this._nextSibling;return e?t===e.firstChild?null:t:null}},textContent:{get:function(){return null},set:function(e){}},innerText:{get:function(){return null},set:function(e){}},_countChildrenOfType:{value:function(e){for(var t=0,n=this.firstChild;null!==n;n=n.nextSibling)n.nodeType===e&&t++;return t}},_ensureInsertValid:{value:function(e,t,n){var l,i,u=this;if(!e.nodeType)throw new TypeError("not a node");switch(u.nodeType){case f:case L:case o:break;default:s.HierarchyRequestError()}switch(e.isAncestor(u)&&s.HierarchyRequestError(),null===t&&n||t.parentNode!==u&&s.NotFoundError(),e.nodeType){case L:case S:case o:case d:case V:case g:break;default:s.HierarchyRequestError()}if(u.nodeType===f)switch(e.nodeType){case d:s.HierarchyRequestError();break;case L:switch(e._countChildrenOfType(d)>0&&s.HierarchyRequestError(),e._countChildrenOfType(o)){case 0:break;case 1:if(null!==t)for(n&&t.nodeType===S&&s.HierarchyRequestError(),i=t.nextSibling;null!==i;i=i.nextSibling)i.nodeType===S&&s.HierarchyRequestError();l=u._countChildrenOfType(o),n?l>0&&s.HierarchyRequestError():(l>1||1===l&&t.nodeType!==o)&&s.HierarchyRequestError();break;default:s.HierarchyRequestError()}break;case o:if(null!==t)for(n&&t.nodeType===S&&s.HierarchyRequestError(),i=t.nextSibling;null!==i;i=i.nextSibling)i.nodeType===S&&s.HierarchyRequestError();l=u._countChildrenOfType(o),n?l>0&&s.HierarchyRequestError():(l>1||1===l&&t.nodeType!==o)&&s.HierarchyRequestError();break;case S:if(null===t)u._countChildrenOfType(o)&&s.HierarchyRequestError();else for(i=u.firstChild;null!==i&&i!==t;i=i.nextSibling)i.nodeType===o&&s.HierarchyRequestError();l=u._countChildrenOfType(S),n?l>0&&s.HierarchyRequestError():(l>1||1===l&&t.nodeType!==S)&&s.HierarchyRequestError()}else e.nodeType===S&&s.HierarchyRequestError()}},insertBefore:{value:function(e,t){var n=this;n._ensureInsertValid(e,t,!0);var l=t;return l===e&&(l=e.nextSibling),n.doc.adoptNode(e),e._insertOrReplace(n,l,!1),e}},appendChild:{value:function(e){return this.insertBefore(e,null)}},_appendChild:{value:function(e){e._insertOrReplace(this,null,!1)}},removeChild:{value:function(e){if(!e.nodeType)throw new TypeError("not a node");return e.parentNode!==this&&s.NotFoundError(),e.remove(),e}},replaceChild:{value:function(e,t){var n=this;return n._ensureInsertValid(e,t,!1),e.doc!==n.doc&&n.doc.adoptNode(e),e._insertOrReplace(n,t,!0),t}},contains:{value:function(e){return null!==e&&(this===e||0!=(this.compareDocumentPosition(e)&E))}},compareDocumentPosition:{value:function(e){if(this===e)return 0;if(this.doc!==e.doc||this.rooted!==e.rooted)return k+w;for(var t=[],n=[],l=this;null!==l;l=l.parentNode)t.push(l);for(l=e;null!==l;l=l.parentNode)n.push(l);if(t.reverse(),n.reverse(),t[0]!==n[0])return k+w;l=Math.min(t.length,n.length);for(var i=1;i<l;i++)if(t[i]!==n[i])return t[i].index<n[i].index?F:C;return t.length<n.length?F+E:C+z}},isSameNode:{value:function(e){return this===e}},isEqualNode:{value:function(e){if(!e)return!1;if(e.nodeType!==this.nodeType)return!1;if(!this.isEqual(e))return!1;for(var t=this.firstChild,n=e.firstChild;t&&n;t=t.nextSibling,n=n.nextSibling)if(!t.isEqualNode(n))return!1;return null===t&&null===n}},cloneNode:{value:function(e){var t=this.clone();if(e)for(var n=this.firstChild;null!==n;n=n.nextSibling)t._appendChild(n.cloneNode(!0));return t}},lookupPrefix:{value:function(e){var t;if(""===e||null==e)return null;switch(this.nodeType){case o:return this._lookupNamespacePrefix(e,this);case f:return(t=this.documentElement)?t.lookupPrefix(e):null;case b:case v:case L:case S:return null;case u:return(t=this.ownerElement)?t.lookupPrefix(e):null;default:return(t=this.parentElement)?t.lookupPrefix(e):null}}},lookupNamespaceURI:{value:function(e){var t;switch(""!==e&&void 0!==e||(e=null),this.nodeType){case o:return s.shouldOverride();case f:return(t=this.documentElement)?t.lookupNamespaceURI(e):null;case b:case v:case S:case L:return null;case u:return(t=this.ownerElement)?t.lookupNamespaceURI(e):null;default:return(t=this.parentElement)?t.lookupNamespaceURI(e):null}}},isDefaultNamespace:{value:function(e){return""!==e&&void 0!==e||(e=null),this.lookupNamespaceURI(null)===e}},index:{get:function(){var e=this.parentNode;if(this===e.firstChild)return 0;var t=e.childNodes;if(void 0===this._index||t[this._index]!==this){for(var n=0;n<t.length;n++)t[n]._index=n;s.assert(t[this._index]===this)}return this._index}},isAncestor:{value:function(e){if(this.doc!==e.doc)return!1;if(this.rooted!==e.rooted)return!1;for(var t=e;t;t=t.parentNode)if(t===this)return!0;return!1}},ensureSameDoc:{value:function(e){null===e.ownerDocument?e.ownerDocument=this.doc:e.ownerDocument!==this.doc&&s.WrongDocumentError()}},removeChildren:{value:s.shouldOverride},_insertOrReplace:{value:function(e,t,n){var i,o,u=this;(u.nodeType===L&&u.rooted&&s.HierarchyRequestError(),e._childNodes)&&(i=null===t?e._childNodes.length:t.index,u.parentNode===e&&u.index<i&&i--);n&&(t.rooted&&t.doc.mutateRemove(t),t.parentNode=null);var d=t;null===d&&(d=e.firstChild);var h=u.rooted&&e.rooted;if(u.nodeType===L){for(var m,b=[0,n?1:0],V=u.firstChild;null!==V;V=m)m=V.nextSibling,b.push(V),V.parentNode=e;var g=b.length;if(n?l.replace(d,g>2?b[2]:null):g>2&&null!==d&&l.insertBefore(b[2],d),e._childNodes)for(b[0]=null===t?e._childNodes.length:t._index,e._childNodes.splice.apply(e._childNodes,b),o=2;o<g;o++)b[o]._index=b[0]+(o-2);else e._firstChild===t&&(g>2?e._firstChild=b[2]:n&&(e._firstChild=null));if(u._childNodes?u._childNodes.length=0:u._firstChild=null,e.rooted)for(e.modify(),o=2;o<g;o++)e.doc.mutateInsert(b[o])}else{if(t===u)return;h?u._remove():u.parentNode&&u.remove(),u.parentNode=e,n?(l.replace(d,u),e._childNodes?(u._index=i,e._childNodes[i]=u):e._firstChild===t&&(e._firstChild=u)):(null!==d&&l.insertBefore(u,d),e._childNodes?(u._index=i,e._childNodes.splice(i,0,u)):e._firstChild===t&&(e._firstChild=u)),h?(e.modify(),e.doc.mutateMove(u)):e.rooted&&(e.modify(),e.doc.mutateInsert(u))}}},lastModTime:{get:function(){return this._lastModTime||(this._lastModTime=this.doc.modclock),this._lastModTime}},modify:{value:function(){if(this.doc.modclock)for(var e=++this.doc.modclock,t=this;t;t=t.parentElement)t._lastModTime&&(t._lastModTime=e)}},doc:{get:function(){return this.ownerDocument||this}},rooted:{get:function(){return!!this._nid}},normalize:{value:function(){for(var e,t=this.firstChild;null!==t;t=e)if(e=t.nextSibling,t.normalize&&t.normalize(),t.nodeType===Node2.TEXT_NODE)if(""!==t.nodeValue){var n=t.previousSibling;null!==n&&n.nodeType===Node2.TEXT_NODE&&(n.appendData(t.nodeValue),this.removeChild(t))}else this.removeChild(t)}},serialize:{value:function(){if(this._innerHTML)return this._innerHTML;for(var e="",t=this.firstChild;null!==t;t=t.nextSibling)e+=i.serializeOne(t,this);return e}},outerHTML:{get:function(){return i.serializeOne(this,{nodeType:0})},set:s.nyi},ELEMENT_NODE:{value:o},ATTRIBUTE_NODE:{value:u},TEXT_NODE:{value:d},CDATA_SECTION_NODE:{value:h},ENTITY_REFERENCE_NODE:{value:m},ENTITY_NODE:{value:b},PROCESSING_INSTRUCTION_NODE:{value:V},COMMENT_NODE:{value:g},DOCUMENT_NODE:{value:f},DOCUMENT_TYPE_NODE:{value:S},DOCUMENT_FRAGMENT_NODE:{value:L},NOTATION_NODE:{value:v},DOCUMENT_POSITION_DISCONNECTED:{value:k},DOCUMENT_POSITION_PRECEDING:{value:C},DOCUMENT_POSITION_FOLLOWING:{value:F},DOCUMENT_POSITION_CONTAINS:{value:z},DOCUMENT_POSITION_CONTAINED_BY:{value:E},DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC:{value:w}})}}),$m=__commonJS({"external/npm/node_modules/domino/lib/NodeList.es6.js"(e,t){t.exports=class extends Array{constructor(e){if(super(e&&e.length||0),e)for(var t in e)this[t]=e[t]}item(e){return this[e]||null}}}}),tb=__commonJS({"external/npm/node_modules/domino/lib/NodeList.es5.js"(e,t){function item(e){return this[e]||null}t.exports=function(e){return e||(e=[]),e.item=item,e}}}),nb=__commonJS({"external/npm/node_modules/domino/lib/NodeList.js"(e,t){var n;try{n=$m()}catch(e){n=tb()}t.exports=n}}),sb=__commonJS({"external/npm/node_modules/domino/lib/ContainerNode.js"(e,t){t.exports=ContainerNode;var n=qm(),l=nb();function ContainerNode(){n.call(this),this._firstChild=this._childNodes=null}ContainerNode.prototype=Object.create(n.prototype,{hasChildNodes:{value:function(){return this._childNodes?this._childNodes.length>0:null!==this._firstChild}},childNodes:{get:function(){return this._ensureChildNodes(),this._childNodes}},firstChild:{get:function(){return this._childNodes?0===this._childNodes.length?null:this._childNodes[0]:this._firstChild}},lastChild:{get:function(){var e,t=this._childNodes;return t?0===t.length?null:t[t.length-1]:null===(e=this._firstChild)?null:e._previousSibling}},_ensureChildNodes:{value:function(){if(!this._childNodes){var e=this._firstChild,t=e,n=this._childNodes=new l;if(e)do{n.push(t),t=t._nextSibling}while(t!==e);this._firstChild=null}}},removeChildren:{value:function(){for(var e,t=this.rooted?this.ownerDocument:null,n=this.firstChild;null!==n;)n=(e=n).nextSibling,t&&t.mutateRemove(e),e.parentNode=null;this._childNodes?this._childNodes.length=0:this._firstChild=null,this.modify()}}})}}),ob=__commonJS({"external/npm/node_modules/domino/lib/xmlnames.js"(e){e.isValidName=function(e){if(t.test(e))return!0;if(d.test(e))return!0;if(!m.test(e))return!1;if(!g.test(e))return!1;var n=e.match(b),l=e.match(V);return null!==l&&2*l.length===n.length},e.isValidQName=function(e){if(n.test(e))return!0;if(h.test(e))return!0;if(!m.test(e))return!1;if(!f.test(e))return!1;var t=e.match(b),l=e.match(V);return null!==l&&2*l.length===t.length};var t=/^[_:A-Za-z][-.:\w]+$/,n=/^([_A-Za-z][-.\w]+|[_A-Za-z][-.\w]+:[_A-Za-z][-.\w]+)$/,l="_A-Za-z-----------",i="-._A-Za-z0-9----------",s="["+l+"]["+i+"]*",o=l+":",u=i+":",d=new RegExp("^["+o+"]["+u+"]*$"),h=new RegExp("^("+s+"|"+s+":"+s+")$"),m=/[\uD800-\uDB7F\uDC00-\uDFFF]/,b=/[\uD800-\uDB7F\uDC00-\uDFFF]/g,V=/[\uD800-\uDB7F][\uDC00-\uDFFF]/g;s="["+(l+="\ud800--\udfff")+"]["+(i+="\ud800--\udfff")+"]*",o=l+":",u=i+":";var g=new RegExp("^["+o+"]["+u+"]*$"),f=new RegExp("^("+s+"|"+s+":"+s+")$")}}),cb=__commonJS({"external/npm/node_modules/domino/lib/attributes.js"(e){var t=_m();e.property=function(e){if(Array.isArray(e.type)){var n=Object.create(null);e.type.forEach((function(e){n[e.value||e]=e.alias||e}));var l=e.missing;void 0===l&&(l=null);var i=e.invalid;return void 0===i&&(i=l),{get:function(){var t=this._getattr(e.name);return null===t?l:void 0!==(t=n[t.toLowerCase()])?t:null!==i?i:t},set:function(t){this._setattr(e.name,t)}}}if(e.type===Boolean)return{get:function(){return this.hasAttribute(e.name)},set:function(t){t?this._setattr(e.name,""):this.removeAttribute(e.name)}};if(e.type===Number||"long"===e.type||"unsigned long"===e.type||"limited unsigned long with fallback"===e.type)return function(e){var n;n="function"==typeof e.default?e.default:"number"==typeof e.default?function(){return e.default}:function(){t.assert(!1,typeof e.default)};var l="unsigned long"===e.type,i="long"===e.type,s="limited unsigned long with fallback"===e.type,o=e.min,u=e.max,d=e.setmin;void 0===o&&(l&&(o=0),i&&(o=-2147483648),s&&(o=1));void 0===u&&(l||i||s)&&(u=2147483647);return{get:function(){var t=this._getattr(e.name),d=e.float?parseFloat(t):parseInt(t,10);if(null===t||!isFinite(d)||void 0!==o&&d<o||void 0!==u&&d>u)return n.call(this);if(l||i||s){if(!/^[ \t\n\f\r]*[-+]?[0-9]/.test(t))return n.call(this);d|=0}return d},set:function(o){e.float||(o=Math.floor(o)),void 0!==d&&o<d&&t.IndexSizeError(e.name+" set to "+o),l?o=o<0||o>2147483647?n.call(this):0|o:s?o=o<1||o>2147483647?n.call(this):0|o:i&&(o=o<-2147483648||o>2147483647?n.call(this):0|o),this._setattr(e.name,String(o))}}}(e);if(!e.type||e.type===String)return{get:function(){return this._getattr(e.name)||""},set:function(t){e.treatNullAsEmptyString&&null===t&&(t=""),this._setattr(e.name,t)}};if("function"==typeof e.type)return e.type(e.name,e);throw new Error("Invalid attribute definition")},e.registerChangeHandler=function(e,t,n){var l=e.prototype;Object.prototype.hasOwnProperty.call(l,"_attributeChangeHandlers")||(l._attributeChangeHandlers=Object.create(l._attributeChangeHandlers||null)),l._attributeChangeHandlers[t]=n}}}),hb=__commonJS({"external/npm/node_modules/domino/lib/FilteredElementList.js"(e,t){t.exports=FilteredElementList;var n=qm();function FilteredElementList(e,t){this.root=e,this.filter=t,this.lastModTime=e.lastModTime,this.done=!1,this.cache=[],this.traverse()}FilteredElementList.prototype=Object.create(Object.prototype,{length:{get:function(){return this.checkcache(),this.done||this.traverse(),this.cache.length}},item:{value:function(e){return this.checkcache(),!this.done&&e>=this.cache.length&&this.traverse(),this.cache[e]}},checkcache:{value:function(){if(this.lastModTime!==this.root.lastModTime){for(var e=this.cache.length-1;e>=0;e--)this[e]=void 0;this.cache.length=0,this.done=!1,this.lastModTime=this.root.lastModTime}}},traverse:{value:function(e){var t;for(void 0!==e&&e++;null!==(t=this.next());)if(this[this.cache.length]=t,this.cache.push(t),e&&this.cache.length===e)return;this.done=!0}},next:{value:function(){var e,t=0===this.cache.length?this.root:this.cache[this.cache.length-1];for(e=t.nodeType===n.DOCUMENT_NODE?t.documentElement:t.nextElement(this.root);e;){if(this.filter(e))return e;e=e.nextElement(this.root)}return null}}})}}),mb=__commonJS({"external/npm/node_modules/domino/lib/DOMTokenList.js"(e,t){var n=_m();function DOMTokenList(e,t){this._getString=e,this._setString=t,this._length=0,this._lastStringValue="",this._update()}function fixIndex(e,t){var n,l=e._length;for(e._length=t.length,n=0;n<t.length;n++)e[n]=t[n];for(;n<l;n++)e[n]=void 0}function handleErrors(e){return""===(e=String(e))&&n.SyntaxError(),/[ \t\r\n\f]/.test(e)&&n.InvalidCharacterError(),e}function getList(e){var t=e._getString();if(t===e._lastStringValue)return function(e){for(var t=e._length,n=Array(t),l=0;l<t;l++)n[l]=e[l];return n}(e);var n=t.replace(/(^[ \t\r\n\f]+)|([ \t\r\n\f]+$)/g,"");if(""===n)return[];var l=Object.create(null);return n.split(/[ \t\r\n\f]+/g).filter((function(e){var t="$"+e;return!l[t]&&(l[t]=!0,!0)}))}t.exports=DOMTokenList,Object.defineProperties(DOMTokenList.prototype,{length:{get:function(){return this._length}},item:{value:function(e){var t=getList(this);return e<0||e>=t.length?null:t[e]}},contains:{value:function(e){return e=String(e),getList(this).indexOf(e)>-1}},add:{value:function(){for(var e=getList(this),t=0,n=arguments.length;t<n;t++){var l=handleErrors(arguments[t]);e.indexOf(l)<0&&e.push(l)}this._update(e)}},remove:{value:function(){for(var e=getList(this),t=0,n=arguments.length;t<n;t++){var l=handleErrors(arguments[t]),i=e.indexOf(l);i>-1&&e.splice(i,1)}this._update(e)}},toggle:{value:function(e,t){return e=handleErrors(e),this.contains(e)?void 0!==t&&!1!==t||(this.remove(e),!1):(void 0===t||!0===t)&&(this.add(e),!0)}},replace:{value:function(e,t){""===String(t)&&n.SyntaxError(),e=handleErrors(e),t=handleErrors(t);var l=getList(this),i=l.indexOf(e);if(i<0)return!1;var s=l.indexOf(t);return s<0?l[i]=t:i<s?(l[i]=t,l.splice(s,1)):l.splice(i,1),this._update(l),!0}},toString:{value:function(){return this._getString()}},value:{get:function(){return this._getString()},set:function(e){this._setString(e),this._update()}},_update:{value:function(e){e?(fixIndex(this,e),this._setString(e.join(" ").trim())):fixIndex(this,getList(this)),this._lastStringValue=this._getString()}}})}}),Xb=__commonJS({"external/npm/node_modules/domino/lib/select.js"(e,t){var n=Object.create(null,{location:{get:function(){throw new Error("window.location is not supported.")}}}),order=function(e,t){return 2&function(e,t){return e.compareDocumentPosition(t)}(e,t)?1:-1},next=function(e){for(;(e=e.nextSibling)&&1!==e.nodeType;);return e},prev=function(e){for(;(e=e.previousSibling)&&1!==e.nodeType;);return e},child=function(e){if(e=e.firstChild)for(;1!==e.nodeType&&(e=e.nextSibling););return e},lastChild=function(e){if(e=e.lastChild)for(;1!==e.nodeType&&(e=e.previousSibling););return e},parentIsElement=function(e){if(!e.parentNode)return!1;var t=e.parentNode.nodeType;return 1===t||9===t},unquote=function(e){if(!e)return e;var t=e[0];return'"'===t||"'"===t?(e=e[e.length-1]===t?e.slice(1,-1):e.slice(1)).replace(u.str_escape,(function(e){var t=/^\\(?:([0-9A-Fa-f]+)|([\r\n\f]+))/.exec(e);if(!t)return e.slice(1);if(t[2])return"";var n=parseInt(t[1],16);return String.fromCodePoint?String.fromCodePoint(n):String.fromCharCode(n)})):u.ident.test(e)?decodeid(e):e},decodeid=function(e){return e.replace(u.escape,(function(e){var t=/^\\([0-9A-Fa-f]+)/.exec(e);if(!t)return e[1];var n=parseInt(t[1],16);return String.fromCodePoint?String.fromCodePoint(n):String.fromCharCode(n)}))},l=Array.prototype.indexOf?Array.prototype.indexOf:function(e,t){for(var n=this.length;n--;)if(this[n]===t)return n;return-1},makeInside=function(e,t){var n=u.inside.source.replace(/</g,e).replace(/>/g,t);return new RegExp(n)},replace=function(e,t,n){return e=(e=e.source).replace(t,n.source||n),new RegExp(e)},truncateUrl=function(e,t){return e.replace(/^(?:\w+:\/\/|\/+)/,"").replace(/(?:\/+|\/*#.*?)$/,"").split("/",t).join("/")},nth=function(e,t,n){var l=function(e,t){var n,l=e.replace(/\s+/g,"");return"even"===l?l="2n+0":"odd"===l?l="2n+1":-1===l.indexOf("n")&&(l="0n"+l),{group:"-"===(n=/^([+-])?(\d+)?n([+-])?(\d+)?$/.exec(l))[1]?-(n[2]||1):+(n[2]||1),offset:n[4]?"-"===n[3]?-n[4]:+n[4]:0}}(e),i=l.group,s=l.offset,o=n?lastChild:child,u=n?prev:next;return function(e){if(parentIsElement(e))for(var n=o(e.parentNode),l=0;n;){if(t(n,e)&&l++,n===e)return l-=s,i&&l?l%i==0&&l<0==i<0:!l;n=u(n)}}},i={"*":function(){return function(){return!0}}(),type:function(e){return e=e.toLowerCase(),function(t){return t.nodeName.toLowerCase()===e}},attr:function(e,t,n,l){return t=s[t],function(i){var s;switch(e){case"for":s=i.htmlFor;break;case"class":""===(s=i.className)&&null==i.getAttribute("class")&&(s=null);break;case"href":case"src":s=i.getAttribute(e,2);break;case"title":s=i.getAttribute("title")||null;break;case"id":case"lang":case"dir":case"accessKey":case"hidden":case"tabIndex":case"style":if(i.getAttribute){s=i.getAttribute(e);break}default:if(i.hasAttribute&&!i.hasAttribute(e))break;s=null!=i[e]?i[e]:i.getAttribute&&i.getAttribute(e)}if(null!=s)return s+="",l&&(s=s.toLowerCase(),n=n.toLowerCase()),t(s,n)}},":first-child":function(e){return!prev(e)&&parentIsElement(e)},":last-child":function(e){return!next(e)&&parentIsElement(e)},":only-child":function(e){return!prev(e)&&!next(e)&&parentIsElement(e)},":nth-child":function(e,t){return nth(e,(function(){return!0}),t)},":nth-last-child":function(e){return i[":nth-child"](e,!0)},":root":function(e){return e.ownerDocument.documentElement===e},":empty":function(e){return!e.firstChild},":not":function(e){var t=compileGroup(e);return function(e){return!t(e)}},":first-of-type":function(e){if(parentIsElement(e)){for(var t=e.nodeName;e=prev(e);)if(e.nodeName===t)return;return!0}},":last-of-type":function(e){if(parentIsElement(e)){for(var t=e.nodeName;e=next(e);)if(e.nodeName===t)return;return!0}},":only-of-type":function(e){return i[":first-of-type"](e)&&i[":last-of-type"](e)},":nth-of-type":function(e,t){return nth(e,(function(e,t){return e.nodeName===t.nodeName}),t)},":nth-last-of-type":function(e){return i[":nth-of-type"](e,!0)},":checked":function(e){return!(!e.checked&&!e.selected)},":indeterminate":function(e){return!i[":checked"](e)},":enabled":function(e){return!e.disabled&&"hidden"!==e.type},":disabled":function(e){return!!e.disabled},":target":function(e){return e.id===n.location.hash.substring(1)},":focus":function(e){return e===e.ownerDocument.activeElement},":is":function(e){return compileGroup(e)},":matches":function(e){return i[":is"](e)},":nth-match":function(e,t){var n=e.split(/\s*,\s*/),l=n.shift(),i=compileGroup(n.join(","));return nth(l,i,t)},":nth-last-match":function(e){return i[":nth-match"](e,!0)},":links-here":function(e){return e+""==n.location+""},":lang":function(e){return function(t){for(;t;){if(t.lang)return 0===t.lang.indexOf(e);t=t.parentNode}}},":dir":function(e){return function(t){for(;t;){if(t.dir)return t.dir===e;t=t.parentNode}}},":scope":function(e,t){var n=t||e.ownerDocument;return 9===n.nodeType?e===n.documentElement:e===n},":any-link":function(e){return"string"==typeof e.href},":local-link":function(e){if(e.nodeName)return e.href&&e.host===n.location.host;var t=+e+1;return function(e){if(e.href){var l=n.location+"",i=e+"";return truncateUrl(l,t)===truncateUrl(i,t)}}},":default":function(e){return!!e.defaultSelected},":valid":function(e){return e.willValidate||e.validity&&e.validity.valid},":invalid":function(e){return!i[":valid"](e)},":in-range":function(e){return e.value>e.min&&e.value<=e.max},":out-of-range":function(e){return!i[":in-range"](e)},":required":function(e){return!!e.required},":optional":function(e){return!e.required},":read-only":function(e){if(e.readOnly)return!0;var t=e.getAttribute("contenteditable"),n=e.contentEditable,l=e.nodeName.toLowerCase();return((l="input"!==l&&"textarea"!==l)||e.disabled)&&null==t&&"true"!==n},":read-write":function(e){return!i[":read-only"](e)},":hover":function(){throw new Error(":hover is not supported.")},":active":function(){throw new Error(":active is not supported.")},":link":function(){throw new Error(":link is not supported.")},":visited":function(){throw new Error(":visited is not supported.")},":column":function(){throw new Error(":column is not supported.")},":nth-column":function(){throw new Error(":nth-column is not supported.")},":nth-last-column":function(){throw new Error(":nth-last-column is not supported.")},":current":function(){throw new Error(":current is not supported.")},":past":function(){throw new Error(":past is not supported.")},":future":function(){throw new Error(":future is not supported.")},":contains":function(e){return function(t){return-1!==(t.innerText||t.textContent||t.value||"").indexOf(e)}},":has":function(e){return function(t){return find(e,t).length>0}}},s={"-":function(){return!0},"=":function(e,t){return e===t},"*=":function(e,t){return-1!==e.indexOf(t)},"~=":function(e,t){var n,l,i,s;for(l=0;;l=n+1){if(-1===(n=e.indexOf(t,l)))return!1;if(i=e[n-1],s=e[n+t.length],!(i&&" "!==i||s&&" "!==s))return!0}},"|=":function(e,t){var n,l=e.indexOf(t);if(0===l)return"-"===(n=e[l+t.length])||!n},"^=":function(e,t){return 0===e.indexOf(t)},"$=":function(e,t){var n=e.lastIndexOf(t);return-1!==n&&n+t.length===e.length},"!=":function(e,t){return e!==t}},o={" ":function(e){return function(t){for(;t=t.parentNode;)if(e(t))return t}},">":function(e){return function(t){if(t=t.parentNode)return e(t)&&t}},"+":function(e){return function(t){if(t=prev(t))return e(t)&&t}},"~":function(e){return function(t){for(;t=prev(t);)if(e(t))return t}},noop:function(e){return function(t){return e(t)&&t}},ref:function(e,t){var n;function ref(e){for(var t=e.ownerDocument.getElementsByTagName("*"),l=t.length;l--;)if(n=t[l],ref.test(e))return n=null,!0;n=null}return ref.combinator=function(l){if(n&&n.getAttribute){var i=n.getAttribute(t)||"";return"#"===i[0]&&(i=i.substring(1)),i===l.id&&e(n)?n:void 0}},ref}},u={escape:/\\(?:[^0-9A-Fa-f\r\n]|[0-9A-Fa-f]{1,6}[\r\n\t ]?)/g,str_escape:/(escape)|\\(\n|\r\n?|\f)/g,nonascii:/[\u00A0-\uFFFF]/,cssid:/(?:(?!-?[0-9])(?:escape|nonascii|[-_a-zA-Z0-9])+)/,qname:/^ *(cssid|\*)/,simple:/^(?:([.#]cssid)|pseudo|attr)/,ref:/^ *\/(cssid)\/ */,combinator:/^(?: +([^ \w*.#\\]) +|( )+|([^ \w*.#\\]))(?! *$)/,attr:/^\[(cssid)(?:([^\w]?=)(inside))?\]/,pseudo:/^(:cssid)(?:\((inside)\))?/,inside:/(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|<[^"'>]*>|\\["'>]|[^"'>])*/,ident:/^(cssid)$/};u.cssid=replace(u.cssid,"nonascii",u.nonascii),u.cssid=replace(u.cssid,"escape",u.escape),u.qname=replace(u.qname,"cssid",u.cssid),u.simple=replace(u.simple,"cssid",u.cssid),u.ref=replace(u.ref,"cssid",u.cssid),u.attr=replace(u.attr,"cssid",u.cssid),u.pseudo=replace(u.pseudo,"cssid",u.cssid),u.inside=replace(u.inside,"[^\"'>]*",u.inside),u.attr=replace(u.attr,"inside",makeInside("\\[","\\]")),u.pseudo=replace(u.pseudo,"inside",makeInside("\\(","\\)")),u.simple=replace(u.simple,"pseudo",u.pseudo),u.simple=replace(u.simple,"attr",u.attr),u.ident=replace(u.ident,"cssid",u.cssid),u.str_escape=replace(u.str_escape,"escape",u.escape);var compile=function(e){for(var t,n,l,i,s,d,h=e.replace(/^\s+|\s+$/g,""),m=[],b=[];h;){if(i=u.qname.exec(h))h=h.substring(i[0].length),l=decodeid(i[1]),b.push(tok(l,!0));else{if(!(i=u.simple.exec(h)))throw new SyntaxError("Invalid selector.");h=h.substring(i[0].length),l="*",b.push(tok(l,!0)),b.push(tok(i))}for(;i=u.simple.exec(h);)h=h.substring(i[0].length),b.push(tok(i));if("!"===h[0]&&(h=h.substring(1),(n=makeSubject()).qname=l,b.push(n.simple)),i=u.ref.exec(h))h=h.substring(i[0].length),d=o.ref(makeSimple(b),decodeid(i[1])),m.push(d.combinator),b=[];else{if(i=u.combinator.exec(h)){if(h=h.substring(i[0].length),","===(s=i[1]||i[2]||i[3])){m.push(o.noop(makeSimple(b)));break}}else s="noop";if(!o[s])throw new SyntaxError("Bad combinator.");m.push(o[s](makeSimple(b))),b=[]}}return(t=makeTest(m)).qname=l,t.sel=h,n&&(n.lname=t.qname,n.test=t,n.qname=n.qname,n.sel=t.sel,t=n),d&&(d.test=t,d.qname=t.qname,d.sel=t.sel,t=d),t},tok=function(e,t){if(t)return"*"===e?i["*"]:i.type(e);if(e[1])return"."===e[1][0]?i.attr("class","~=",decodeid(e[1].substring(1)),!1):i.attr("id","=",decodeid(e[1].substring(1)),!1);if(e[2])return e[3]?i[decodeid(e[2])](unquote(e[3])):i[decodeid(e[2])];if(e[4]){var n=e[6],l=/["'\s]\s*I$/i.test(n);return l&&(n=n.replace(/\s*I$/i,"")),i.attr(decodeid(e[4]),e[5]||"-",unquote(n),l)}throw new SyntaxError("Unknown Selector.")},makeSimple=function(e){var t,n=e.length;return n<2?e[0]:function(l){if(l){for(t=0;t<n;t++)if(!e[t](l))return;return!0}}},makeTest=function(e){return e.length<2?function(t){return!!e[0](t)}:function(t){for(var n=e.length;n--;)if(!(t=e[n](t)))return;return!0}},makeSubject=function(){var e;function subject(t){for(var n=t.ownerDocument.getElementsByTagName(subject.lname),l=n.length;l--;)if(subject.test(n[l])&&e===t)return e=null,!0;e=null}return subject.simple=function(t){return e=t,!0},subject},compileGroup=function(e){for(var t=compile(e),n=[t];t.sel;)t=compile(t.sel),n.push(t);return n.length<2?t:function(e){for(var t=n.length,l=0;l<t;l++)if(n[l](e))return!0}},find=function(e,t){for(var n,i=[],s=compile(e),o=t.getElementsByTagName(s.qname),u=0;n=o[u++];)s(n)&&i.push(n);if(s.sel){for(;s.sel;)for(s=compile(s.sel),o=t.getElementsByTagName(s.qname),u=0;n=o[u++];)s(n)&&-1===l.call(i,n)&&i.push(n);i.sort(order)}return i};t.exports=e=function(e,t){var n,l;if(11!==t.nodeType&&-1===e.indexOf(" ")){if("#"===e[0]&&t.rooted&&/^#[A-Z_][-A-Z0-9_]*$/i.test(e)&&t.doc._hasMultipleElementsWithId&&(n=e.substring(1),!t.doc._hasMultipleElementsWithId(n)))return(l=t.doc.getElementById(n))?[l]:[];if("."===e[0]&&/^\.\w+$/.test(e))return t.getElementsByClassName(e.substring(1));if(/^\w+$/.test(e))return t.getElementsByTagName(e)}return find(e,t)},e.selectors=i,e.operators=s,e.combinators=o,e.matches=function(e,t){var n={sel:t};do{if((n=compile(n.sel))(e))return!0}while(n.sel);return!1}}}),Ib=__commonJS({"external/npm/node_modules/domino/lib/ChildNode.js"(e,t){var n=qm(),l=Om(),createDocumentFragmentFromArguments=function(e,t){for(var l=e.createDocumentFragment(),i=0;i<t.length;i++){var s=t[i],o=s instanceof n;l.appendChild(o?s:e.createTextNode(String(s)))}return l},i={after:{value:function(){var e=Array.prototype.slice.call(arguments),t=this.parentNode,n=this.nextSibling;if(null!==t){for(;n&&e.some((function(e){return e===n}));)n=n.nextSibling;var l=createDocumentFragmentFromArguments(this.doc,e);t.insertBefore(l,n)}}},before:{value:function(){var e=Array.prototype.slice.call(arguments),t=this.parentNode,n=this.previousSibling;if(null!==t){for(;n&&e.some((function(e){return e===n}));)n=n.previousSibling;var l=createDocumentFragmentFromArguments(this.doc,e),i=n?n.nextSibling:t.firstChild;t.insertBefore(l,i)}}},remove:{value:function(){null!==this.parentNode&&(this.doc&&(this.doc._preremoveNodeIterators(this),this.rooted&&this.doc.mutateRemove(this)),this._remove(),this.parentNode=null)}},_remove:{value:function(){var e=this.parentNode;null!==e&&(e._childNodes?e._childNodes.splice(this.index,1):e._firstChild===this&&(this._nextSibling===this?e._firstChild=null:e._firstChild=this._nextSibling),l.remove(this),e.modify())}},replaceWith:{value:function(){var e=Array.prototype.slice.call(arguments),t=this.parentNode,n=this.nextSibling;if(null!==t){for(;n&&e.some((function(e){return e===n}));)n=n.nextSibling;var l=createDocumentFragmentFromArguments(this.doc,e);this.parentNode===t?t.replaceChild(l,this):t.insertBefore(l,n)}}}};t.exports=i}}),Sb=__commonJS({"external/npm/node_modules/domino/lib/NonDocumentTypeChildNode.js"(e,t){var n=qm(),l={nextElementSibling:{get:function(){if(this.parentNode)for(var e=this.nextSibling;null!==e;e=e.nextSibling)if(e.nodeType===n.ELEMENT_NODE)return e;return null}},previousElementSibling:{get:function(){if(this.parentNode)for(var e=this.previousSibling;null!==e;e=e.previousSibling)if(e.nodeType===n.ELEMENT_NODE)return e;return null}}};t.exports=l}}),Lb=__commonJS({"external/npm/node_modules/domino/lib/NamedNodeMap.js"(e,t){t.exports=NamedNodeMap;var n=_m();function NamedNodeMap(e){this.element=e}Object.defineProperties(NamedNodeMap.prototype,{length:{get:n.shouldOverride},item:{value:n.shouldOverride},getNamedItem:{value:function(e){return this.element.getAttributeNode(e)}},getNamedItemNS:{value:function(e,t){return this.element.getAttributeNodeNS(e,t)}},setNamedItem:{value:n.nyi},setNamedItemNS:{value:n.nyi},removeNamedItem:{value:function(e){var t=this.element.getAttributeNode(e);if(t)return this.element.removeAttribute(e),t;n.NotFoundError()}},removeNamedItemNS:{value:function(e,t){var l=this.element.getAttributeNodeNS(e,t);if(l)return this.element.removeAttributeNS(e,t),l;n.NotFoundError()}}})}}),Kb=__commonJS({"external/npm/node_modules/domino/lib/Element.js"(e,t){t.exports=Element2;var n,l=ob(),i=_m(),s=i.NAMESPACE,o=cb(),u=qm(),d=nb(),h=Am(),m=hb(),b=Bm(),V=mb(),g=Xb(),f=sb(),S=Ib(),L=Sb(),v=Lb(),k=Object.create(null);function Element2(e,t,n,l){f.call(this),this.nodeType=u.ELEMENT_NODE,this.ownerDocument=e,this.localName=t,this.namespaceURI=n,this.prefix=l,this._tagName=void 0,this._attrsByQName=Object.create(null),this._attrsByLName=Object.create(null),this._attrKeys=[]}function recursiveGetText(e,t){if(e.nodeType===u.TEXT_NODE)t.push(e._data);else for(var n=0,l=e.childNodes.length;n<l;n++)recursiveGetText(e.childNodes[n],t)}function Attr(e,t,n,l,i){this.localName=t,this.prefix=null===n||""===n?null:""+n,this.namespaceURI=null===l||""===l?null:""+l,this.data=i,this._setOwnerElement(e)}function AttributesArray(e){for(var t in v.call(this,e),e._attrsByQName)this[t]=e._attrsByQName[t];for(var n=0;n<e._attrKeys.length;n++)this[n]=e._attrsByLName[e._attrKeys[n]]}function ChildrenCollection(e){this.element=e,this.updateCache()}function localNameElementFilter(e){return function(t){return t.localName===e}}Element2.prototype=Object.create(f.prototype,{isHTML:{get:function(){return this.namespaceURI===s.HTML&&this.ownerDocument.isHTML}},tagName:{get:function(){if(void 0===this._tagName){var e;if(e=null===this.prefix?this.localName:this.prefix+":"+this.localName,this.isHTML){var t=k[e];t||(k[e]=t=i.toASCIIUpperCase(e)),e=t}this._tagName=e}return this._tagName}},nodeName:{get:function(){return this.tagName}},nodeValue:{get:function(){return null},set:function(){}},textContent:{get:function(){var e=[];return recursiveGetText(this,e),e.join("")},set:function(e){this.removeChildren(),null!=e&&""!==e&&this._appendChild(this.ownerDocument.createTextNode(e))}},innerText:{get:function(){var e=[];return recursiveGetText(this,e),e.join("").replace(/[ \t\n\f\r]+/g," ").trim()},set:function(e){this.removeChildren(),null!=e&&""!==e&&this._appendChild(this.ownerDocument.createTextNode(e))}},innerHTML:{get:function(){return this.serialize()},set:i.nyi},outerHTML:{get:function(){return h.serializeOne(this,{nodeType:0})},set:function(e){var t=this.ownerDocument,n=this.parentNode;if(null!==n){n.nodeType===u.DOCUMENT_NODE&&i.NoModificationAllowedError(),n.nodeType===u.DOCUMENT_FRAGMENT_NODE&&(n=n.ownerDocument.createElement("body"));var l=t.implementation.mozHTMLParser(t._address,n);l.parse(null===e?"":String(e),!0),this.replaceWith(l._asDocumentFragment())}}},_insertAdjacent:{value:function(e,t){var n=!1;switch(e){case"beforebegin":n=!0;case"afterend":var l=this.parentNode;return null===l?null:l.insertBefore(t,n?this:this.nextSibling);case"afterbegin":n=!0;case"beforeend":return this.insertBefore(t,n?this.firstChild:null);default:return i.SyntaxError()}}},insertAdjacentElement:{value:function(e,t){if(t.nodeType!==u.ELEMENT_NODE)throw new TypeError("not an element");return e=i.toASCIILowerCase(String(e)),this._insertAdjacent(e,t)}},insertAdjacentText:{value:function(e,t){var n=this.ownerDocument.createTextNode(t);e=i.toASCIILowerCase(String(e)),this._insertAdjacent(e,n)}},insertAdjacentHTML:{value:function(e,t){var n;switch(e=i.toASCIILowerCase(String(e)),t=String(t),e){case"beforebegin":case"afterend":null!==(n=this.parentNode)&&n.nodeType!==u.DOCUMENT_NODE||i.NoModificationAllowedError();break;case"afterbegin":case"beforeend":n=this;break;default:i.SyntaxError()}n instanceof Element2&&(!n.ownerDocument.isHTML||"html"!==n.localName||n.namespaceURI!==s.HTML)||(n=n.ownerDocument.createElementNS(s.HTML,"body"));var l=this.ownerDocument.implementation.mozHTMLParser(this.ownerDocument._address,n);l.parse(t,!0),this._insertAdjacent(e,l._asDocumentFragment())}},children:{get:function(){return this._children||(this._children=new ChildrenCollection(this)),this._children}},attributes:{get:function(){return this._attributes||(this._attributes=new AttributesArray(this)),this._attributes}},firstElementChild:{get:function(){for(var e=this.firstChild;null!==e;e=e.nextSibling)if(e.nodeType===u.ELEMENT_NODE)return e;return null}},lastElementChild:{get:function(){for(var e=this.lastChild;null!==e;e=e.previousSibling)if(e.nodeType===u.ELEMENT_NODE)return e;return null}},childElementCount:{get:function(){return this.children.length}},nextElement:{value:function(e){e||(e=this.ownerDocument.documentElement);var t=this.firstElementChild;if(!t){if(this===e)return null;t=this.nextElementSibling}if(t)return t;for(var n=this.parentElement;n&&n!==e;n=n.parentElement)if(t=n.nextElementSibling)return t;return null}},getElementsByTagName:{value:function(e){var t;return e?(t="*"===e?function(){return!0}:this.isHTML?function(e){var t=i.toASCIILowerCase(e);return t===e?localNameElementFilter(e):function(n){return n.isHTML?n.localName===t:n.localName===e}}(e):localNameElementFilter(e),new m(this,t)):new d}},getElementsByTagNameNS:{value:function(e,t){var n;return n="*"===e&&"*"===t?function(){return!0}:"*"===e?localNameElementFilter(t):"*"===t?function(e){return function(t){return t.namespaceURI===e}}(e):function(e,t){return function(n){return n.namespaceURI===e&&n.localName===t}}(e,t),new m(this,n)}},getElementsByClassName:{value:function(e){return""===(e=String(e).trim())?new d:(e=e.split(/[ \t\r\n\f]+/),new m(this,function(e){return function(t){return e.every((function(e){return t.classList.contains(e)}))}}(e)))}},getElementsByName:{value:function(e){return new m(this,function(e){return function(t){return t.namespaceURI===s.HTML&&t.getAttribute("name")===e}}(String(e)))}},clone:{value:function(){var e;e=this.namespaceURI!==s.HTML||this.prefix||!this.ownerDocument.isHTML?this.ownerDocument.createElementNS(this.namespaceURI,null!==this.prefix?this.prefix+":"+this.localName:this.localName):this.ownerDocument.createElement(this.localName);for(var t=0,n=this._attrKeys.length;t<n;t++){var l=this._attrKeys[t],i=this._attrsByLName[l].cloneNode();i._setOwnerElement(e),e._attrsByLName[l]=i,e._addQName(i)}return e._attrKeys=this._attrKeys.concat(),e}},isEqual:{value:function(e){if(this.localName!==e.localName||this.namespaceURI!==e.namespaceURI||this.prefix!==e.prefix||this._numattrs!==e._numattrs)return!1;for(var t=0,n=this._numattrs;t<n;t++){var l=this._attr(t);if(!e.hasAttributeNS(l.namespaceURI,l.localName))return!1;if(e.getAttributeNS(l.namespaceURI,l.localName)!==l.value)return!1}return!0}},_lookupNamespacePrefix:{value:function(e,t){if(this.namespaceURI&&this.namespaceURI===e&&null!==this.prefix&&t.lookupNamespaceURI(this.prefix)===e)return this.prefix;for(var n=0,l=this._numattrs;n<l;n++){var i=this._attr(n);if("xmlns"===i.prefix&&i.value===e&&t.lookupNamespaceURI(i.localName)===e)return i.localName}var s=this.parentElement;return s?s._lookupNamespacePrefix(e,t):null}},lookupNamespaceURI:{value:function(e){if(""!==e&&void 0!==e||(e=null),null!==this.namespaceURI&&this.prefix===e)return this.namespaceURI;for(var t=0,n=this._numattrs;t<n;t++){var l=this._attr(t);if(l.namespaceURI===s.XMLNS&&("xmlns"===l.prefix&&l.localName===e||null===e&&null===l.prefix&&"xmlns"===l.localName))return l.value||null}var i=this.parentElement;return i?i.lookupNamespaceURI(e):null}},getAttribute:{value:function(e){var t=this.getAttributeNode(e);return t?t.value:null}},getAttributeNS:{value:function(e,t){var n=this.getAttributeNodeNS(e,t);return n?n.value:null}},getAttributeNode:{value:function(e){e=String(e),/[A-Z]/.test(e)&&this.isHTML&&(e=i.toASCIILowerCase(e));var t=this._attrsByQName[e];return t?(Array.isArray(t)&&(t=t[0]),t):null}},getAttributeNodeNS:{value:function(e,t){e=null==e?"":String(e),t=String(t);var n=this._attrsByLName[e+"|"+t];return n||null}},hasAttribute:{value:function(e){return e=String(e),/[A-Z]/.test(e)&&this.isHTML&&(e=i.toASCIILowerCase(e)),void 0!==this._attrsByQName[e]}},hasAttributeNS:{value:function(e,t){var n=(e=null==e?"":String(e))+"|"+(t=String(t));return void 0!==this._attrsByLName[n]}},hasAttributes:{value:function(){return this._numattrs>0}},toggleAttribute:{value:function(e,t){return e=String(e),l.isValidName(e)||i.InvalidCharacterError(),/[A-Z]/.test(e)&&this.isHTML&&(e=i.toASCIILowerCase(e)),void 0===this._attrsByQName[e]?(void 0===t||!0===t)&&(this._setAttribute(e,""),!0):void 0!==t&&!1!==t||(this.removeAttribute(e),!1)}},_setAttribute:{value:function(e,t){var n,l=this._attrsByQName[e];l?Array.isArray(l)&&(l=l[0]):(l=this._newattr(e),n=!0),l.value=t,this._attributes&&(this._attributes[e]=l),n&&this._newattrhook&&this._newattrhook(e,t)}},setAttribute:{value:function(e,t){e=String(e),l.isValidName(e)||i.InvalidCharacterError(),/[A-Z]/.test(e)&&this.isHTML&&(e=i.toASCIILowerCase(e)),this._setAttribute(e,String(t))}},_setAttributeNS:{value:function(e,t,n){var l,i,s=t.indexOf(":");s<0?(l=null,i=t):(l=t.substring(0,s),i=t.substring(s+1)),""!==e&&void 0!==e||(e=null);var o,u=(null===e?"":e)+"|"+i,d=this._attrsByLName[u];d||(d=new Attr(this,i,l,e),o=!0,this._attrsByLName[u]=d,this._attributes&&(this._attributes[this._attrKeys.length]=d),this._attrKeys.push(u),this._addQName(d)),d.value=n,o&&this._newattrhook&&this._newattrhook(t,n)}},setAttributeNS:{value:function(e,t,n){e=null==e||""===e?null:String(e),t=String(t),l.isValidQName(t)||i.InvalidCharacterError();var o=t.indexOf(":"),u=o<0?null:t.substring(0,o);(null!==u&&null===e||"xml"===u&&e!==s.XML||("xmlns"===t||"xmlns"===u)&&e!==s.XMLNS||e===s.XMLNS&&"xmlns"!==t&&"xmlns"!==u)&&i.NamespaceError(),this._setAttributeNS(e,t,String(n))}},setAttributeNode:{value:function(e){if(null!==e.ownerElement&&e.ownerElement!==this)throw new b(b.INUSE_ATTRIBUTE_ERR);var t=null,n=this._attrsByQName[e.name];if(n){if(Array.isArray(n)||(n=[n]),n.some((function(t){return t===e})))return e;if(null!==e.ownerElement)throw new b(b.INUSE_ATTRIBUTE_ERR);n.forEach((function(e){this.removeAttributeNode(e)}),this),t=n[0]}return this.setAttributeNodeNS(e),t}},setAttributeNodeNS:{value:function(e){if(null!==e.ownerElement)throw new b(b.INUSE_ATTRIBUTE_ERR);var t=e.namespaceURI,n=(null===t?"":t)+"|"+e.localName,l=this._attrsByLName[n];return l&&this.removeAttributeNode(l),e._setOwnerElement(this),this._attrsByLName[n]=e,this._attributes&&(this._attributes[this._attrKeys.length]=e),this._attrKeys.push(n),this._addQName(e),this._newattrhook&&this._newattrhook(e.name,e.value),l||null}},removeAttribute:{value:function(e){e=String(e),/[A-Z]/.test(e)&&this.isHTML&&(e=i.toASCIILowerCase(e));var t=this._attrsByQName[e];if(t){Array.isArray(t)?t.length>2?t=t.shift():(this._attrsByQName[e]=t[1],t=t[0]):this._attrsByQName[e]=void 0;var n=t.namespaceURI,l=(null===n?"":n)+"|"+t.localName;this._attrsByLName[l]=void 0;var s=this._attrKeys.indexOf(l);this._attributes&&(Array.prototype.splice.call(this._attributes,s,1),this._attributes[e]=void 0),this._attrKeys.splice(s,1);var o=t.onchange;t._setOwnerElement(null),o&&o.call(t,this,t.localName,t.value,null),this.rooted&&this.ownerDocument.mutateRemoveAttr(t)}}},removeAttributeNS:{value:function(e,t){var n=(e=null==e?"":String(e))+"|"+(t=String(t)),l=this._attrsByLName[n];if(l){this._attrsByLName[n]=void 0;var i=this._attrKeys.indexOf(n);this._attributes&&Array.prototype.splice.call(this._attributes,i,1),this._attrKeys.splice(i,1),this._removeQName(l);var s=l.onchange;l._setOwnerElement(null),s&&s.call(l,this,l.localName,l.value,null),this.rooted&&this.ownerDocument.mutateRemoveAttr(l)}}},removeAttributeNode:{value:function(e){var t=e.namespaceURI,n=(null===t?"":t)+"|"+e.localName;return this._attrsByLName[n]!==e&&i.NotFoundError(),this.removeAttributeNS(t,e.localName),e}},getAttributeNames:{value:function(){var e=this;return this._attrKeys.map((function(t){return e._attrsByLName[t].name}))}},_getattr:{value:function(e){var t=this._attrsByQName[e];return t?t.value:null}},_setattr:{value:function(e,t){var n,l=this._attrsByQName[e];l||(l=this._newattr(e),n=!0),l.value=String(t),this._attributes&&(this._attributes[e]=l),n&&this._newattrhook&&this._newattrhook(e,t)}},_newattr:{value:function(e){var t=new Attr(this,e,null,null),n="|"+e;return this._attrsByQName[e]=t,this._attrsByLName[n]=t,this._attributes&&(this._attributes[this._attrKeys.length]=t),this._attrKeys.push(n),t}},_addQName:{value:function(e){var t=e.name,n=this._attrsByQName[t];n?Array.isArray(n)?n.push(e):this._attrsByQName[t]=[n,e]:this._attrsByQName[t]=e,this._attributes&&(this._attributes[t]=e)}},_removeQName:{value:function(e){var t=e.name,n=this._attrsByQName[t];if(Array.isArray(n)){var l=n.indexOf(e);i.assert(-1!==l),2===n.length?(this._attrsByQName[t]=n[1-l],this._attributes&&(this._attributes[t]=this._attrsByQName[t])):(n.splice(l,1),this._attributes&&this._attributes[t]===e&&(this._attributes[t]=n[0]))}else i.assert(n===e),this._attrsByQName[t]=void 0,this._attributes&&(this._attributes[t]=void 0)}},_numattrs:{get:function(){return this._attrKeys.length}},_attr:{value:function(e){return this._attrsByLName[this._attrKeys[e]]}},id:o.property({name:"id"}),className:o.property({name:"class"}),classList:{get:function(){var e=this;if(this._classList)return this._classList;var t=new V((function(){return e.className||""}),(function(t){e.className=t}));return this._classList=t,t},set:function(e){this.className=e}},matches:{value:function(e){return g.matches(this,e)}},closest:{value:function(e){var t=this;do{if(t.matches&&t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&t.nodeType===u.ELEMENT_NODE);return null}},querySelector:{value:function(e){return g(e,this)[0]}},querySelectorAll:{value:function(e){var t=g(e,this);return t.item?t:new d(t)}}}),Object.defineProperties(Element2.prototype,S),Object.defineProperties(Element2.prototype,L),o.registerChangeHandler(Element2,"id",(function(e,t,n,l){e.rooted&&(n&&e.ownerDocument.delId(n,e),l&&e.ownerDocument.addId(l,e))})),o.registerChangeHandler(Element2,"class",(function(e,t,n,l){e._classList&&e._classList._update()})),Attr.prototype=Object.create(Object.prototype,{ownerElement:{get:function(){return this._ownerElement}},_setOwnerElement:{value:function(e){this._ownerElement=e,null===this.prefix&&null===this.namespaceURI&&e?this.onchange=e._attributeChangeHandlers[this.localName]:this.onchange=null}},name:{get:function(){return this.prefix?this.prefix+":"+this.localName:this.localName}},specified:{get:function(){return!0}},value:{get:function(){return this.data},set:function(e){var t=this.data;(e=void 0===e?"":e+"")!==t&&(this.data=e,this.ownerElement&&(this.onchange&&this.onchange(this.ownerElement,this.localName,t,e),this.ownerElement.rooted&&this.ownerElement.ownerDocument.mutateAttr(this,t)))}},cloneNode:{value:function(e){return new Attr(null,this.localName,this.prefix,this.namespaceURI,this.data)}},nodeType:{get:function(){return u.ATTRIBUTE_NODE}},nodeName:{get:function(){return this.name}},nodeValue:{get:function(){return this.value},set:function(e){this.value=e}},textContent:{get:function(){return this.value},set:function(e){null==e&&(e=""),this.value=e}},innerText:{get:function(){return this.value},set:function(e){null==e&&(e=""),this.value=e}}}),Element2._Attr=Attr,AttributesArray.prototype=Object.create(v.prototype,{length:{get:function(){return this.element._attrKeys.length},set:function(){}},item:{value:function(e){return(e>>>=0)>=this.length?null:this.element._attrsByLName[this.element._attrKeys[e]]}}}),(null==(n=globalThis.Symbol)?void 0:n.iterator)&&(AttributesArray.prototype[globalThis.Symbol.iterator]=function(){var e=0,t=this.length,n=this;return{next:function(){return e<t?{value:n.item(e++)}:{done:!0}}}}),ChildrenCollection.prototype=Object.create(Object.prototype,{length:{get:function(){return this.updateCache(),this.childrenByNumber.length}},item:{value:function(e){return this.updateCache(),this.childrenByNumber[e]||null}},namedItem:{value:function(e){return this.updateCache(),this.childrenByName[e]||null}},namedItems:{get:function(){return this.updateCache(),this.childrenByName}},updateCache:{value:function(){var e=/^(a|applet|area|embed|form|frame|frameset|iframe|img|object)$/;if(this.lastModTime!==this.element.lastModTime){this.lastModTime=this.element.lastModTime;for(var t=this.childrenByNumber&&this.childrenByNumber.length||0,n=0;n<t;n++)this[n]=void 0;this.childrenByNumber=[],this.childrenByName=Object.create(null);for(var l=this.element.firstChild;null!==l;l=l.nextSibling)if(l.nodeType===u.ELEMENT_NODE){this[this.childrenByNumber.length]=l,this.childrenByNumber.push(l);var i=l.getAttribute("id");i&&!this.childrenByName[i]&&(this.childrenByName[i]=l);var o=l.getAttribute("name");o&&this.element.namespaceURI===s.HTML&&e.test(this.element.localName)&&!this.childrenByName[o]&&(this.childrenByName[i]=l)}}}}})}}),Tb=__commonJS({"external/npm/node_modules/domino/lib/Leaf.js"(e,t){t.exports=Leaf;var n=qm(),l=nb(),i=_m(),s=i.HierarchyRequestError,o=i.NotFoundError;function Leaf(){n.call(this)}Leaf.prototype=Object.create(n.prototype,{hasChildNodes:{value:function(){return!1}},firstChild:{value:null},lastChild:{value:null},insertBefore:{value:function(e,t){if(!e.nodeType)throw new TypeError("not a node");s()}},replaceChild:{value:function(e,t){if(!e.nodeType)throw new TypeError("not a node");s()}},removeChild:{value:function(e){if(!e.nodeType)throw new TypeError("not a node");o()}},removeChildren:{value:function(){}},childNodes:{get:function(){return this._childNodes||(this._childNodes=new l),this._childNodes}}})}}),kb=__commonJS({"external/npm/node_modules/domino/lib/CharacterData.js"(e,t){t.exports=CharacterData;var n=Tb(),l=_m(),i=Ib(),s=Sb();function CharacterData(){n.call(this)}CharacterData.prototype=Object.create(n.prototype,{substringData:{value:function(e,t){if(arguments.length<2)throw new TypeError("Not enough arguments");return t>>>=0,((e>>>=0)>this.data.length||e<0||t<0)&&l.IndexSizeError(),this.data.substring(e,e+t)}},appendData:{value:function(e){if(arguments.length<1)throw new TypeError("Not enough arguments");this.data+=String(e)}},insertData:{value:function(e,t){return this.replaceData(e,0,t)}},deleteData:{value:function(e,t){return this.replaceData(e,t,"")}},replaceData:{value:function(e,t,n){var i=this.data,s=i.length;e>>>=0,t>>>=0,n=String(n),(e>s||e<0)&&l.IndexSizeError(),e+t>s&&(t=s-e);var o=i.substring(0,e),u=i.substring(e+t);this.data=o+n+u}},isEqual:{value:function(e){return this._data===e._data}},length:{get:function(){return this.data.length}}}),Object.defineProperties(CharacterData.prototype,i),Object.defineProperties(CharacterData.prototype,s)}}),Cb=__commonJS({"external/npm/node_modules/domino/lib/Text.js"(e,t){t.exports=Text2;var n=_m(),l=qm(),i=kb();function Text2(e,t){i.call(this),this.nodeType=l.TEXT_NODE,this.ownerDocument=e,this._data=t,this._index=void 0}var s={get:function(){return this._data},set:function(e){(e=null==e?"":String(e))!==this._data&&(this._data=e,this.rooted&&this.ownerDocument.mutateValue(this),this.parentNode&&this.parentNode._textchangehook&&this.parentNode._textchangehook(this))}};Text2.prototype=Object.create(i.prototype,{nodeName:{value:"#text"},nodeValue:s,textContent:s,innerText:s,data:{get:s.get,set:function(e){s.set.call(this,null===e?"":String(e))}},splitText:{value:function(e){(e>this._data.length||e<0)&&n.IndexSizeError();var t=this._data.substring(e),l=this.ownerDocument.createTextNode(t);this.data=this.data.substring(0,e);var i=this.parentNode;return null!==i&&i.insertBefore(l,this.nextSibling),l}},wholeText:{get:function(){for(var e=this.textContent,t=this.nextSibling;t&&t.nodeType===l.TEXT_NODE;t=t.nextSibling)e+=t.textContent;return e}},replaceWholeText:{value:n.nyi},clone:{value:function(){return new Text2(this.ownerDocument,this._data)}}})}}),Hb=__commonJS({"external/npm/node_modules/domino/lib/Comment.js"(e,t){t.exports=Comment;var n=qm(),l=kb();function Comment(e,t){l.call(this),this.nodeType=n.COMMENT_NODE,this.ownerDocument=e,this._data=t}var i={get:function(){return this._data},set:function(e){e=null==e?"":String(e),this._data=e,this.rooted&&this.ownerDocument.mutateValue(this)}};Comment.prototype=Object.create(l.prototype,{nodeName:{value:"#comment"},nodeValue:i,textContent:i,innerText:i,data:{get:i.get,set:function(e){i.set.call(this,null===e?"":String(e))}},clone:{value:function(){return new Comment(this.ownerDocument,this._data)}}})}}),Jb=__commonJS({"external/npm/node_modules/domino/lib/DocumentFragment.js"(e,t){t.exports=DocumentFragment2;var n=qm(),l=nb(),i=sb(),s=Kb(),o=Xb(),u=_m();function DocumentFragment2(e){i.call(this),this.nodeType=n.DOCUMENT_FRAGMENT_NODE,this.ownerDocument=e}DocumentFragment2.prototype=Object.create(i.prototype,{nodeName:{value:"#document-fragment"},nodeValue:{get:function(){return null},set:function(){}},textContent:Object.getOwnPropertyDescriptor(s.prototype,"textContent"),innerText:Object.getOwnPropertyDescriptor(s.prototype,"innerText"),querySelector:{value:function(e){var t=this.querySelectorAll(e);return t.length?t[0]:null}},querySelectorAll:{value:function(e){var t=Object.create(this);t.isHTML=!0,t.getElementsByTagName=s.prototype.getElementsByTagName,t.nextElement=Object.getOwnPropertyDescriptor(s.prototype,"firstElementChild").get;var n=o(e,t);return n.item?n:new l(n)}},clone:{value:function(){return new DocumentFragment2(this.ownerDocument)}},isEqual:{value:function(e){return!0}},innerHTML:{get:function(){return this.serialize()},set:u.nyi},outerHTML:{get:function(){return this.serialize()},set:u.nyi}})}}),jb=__commonJS({"external/npm/node_modules/domino/lib/ProcessingInstruction.js"(e,t){t.exports=ProcessingInstruction;var n=qm(),l=kb();function ProcessingInstruction(e,t,i){l.call(this),this.nodeType=n.PROCESSING_INSTRUCTION_NODE,this.ownerDocument=e,this.target=t,this._data=i}var i={get:function(){return this._data},set:function(e){e=null==e?"":String(e),this._data=e,this.rooted&&this.ownerDocument.mutateValue(this)}};ProcessingInstruction.prototype=Object.create(l.prototype,{nodeName:{get:function(){return this.target}},nodeValue:i,textContent:i,innerText:i,data:{get:i.get,set:function(e){i.set.call(this,null===e?"":String(e))}},clone:{value:function(){return new ProcessingInstruction(this.ownerDocument,this.target,this._data)}},isEqual:{value:function(e){return this.target===e.target&&this._data===e._data}}})}}),_b=__commonJS({"external/npm/node_modules/domino/lib/NodeFilter.js"(e,t){var n={FILTER_ACCEPT:1,FILTER_REJECT:2,FILTER_SKIP:3,SHOW_ALL:4294967295,SHOW_ELEMENT:1,SHOW_ATTRIBUTE:2,SHOW_TEXT:4,SHOW_CDATA_SECTION:8,SHOW_ENTITY_REFERENCE:16,SHOW_ENTITY:32,SHOW_PROCESSING_INSTRUCTION:64,SHOW_COMMENT:128,SHOW_DOCUMENT:256,SHOW_DOCUMENT_TYPE:512,SHOW_DOCUMENT_FRAGMENT:1024,SHOW_NOTATION:2048};t.exports=n.constructor=n.prototype=n}}),Db=__commonJS({"external/npm/node_modules/domino/lib/NodeTraversal.js"(e,t){function nextAncestorSibling(e,t){for(e=e.parentNode;null!==e;e=e.parentNode){if(e===t)return null;if(null!==e.nextSibling)return e.nextSibling}return null}function deepLastChild(e){for(;e.lastChild;)e=e.lastChild;return e}t.exports={nextSkippingChildren:function(e,t){if(e===t)return null;if(null!==e.nextSibling)return e.nextSibling;return nextAncestorSibling(e,t)},nextAncestorSibling:nextAncestorSibling,next:function(e,t){var n;if(n=e.firstChild,null!==n)return n;if(e===t)return null;if(n=e.nextSibling,null!==n)return n;return nextAncestorSibling(e,t)},previous:function(e,t){var n;if(n=e.previousSibling,null!==n)return deepLastChild(n);if(n=e.parentNode,n===t)return null;return n},deepLastChild:deepLastChild}}}),$b=__commonJS({"external/npm/node_modules/domino/lib/TreeWalker.js"(e,t){t.exports=TreeWalker;var n=qm(),l=_b(),i=Db(),s=_m(),o={first:"firstChild",last:"lastChild",next:"firstChild",previous:"lastChild"},u={first:"nextSibling",last:"previousSibling",next:"nextSibling",previous:"previousSibling"};function traverseChildren(e,t){var n,i,s,d,h;for(i=e._currentNode[o[t]];null!==i;){if((d=e._internalFilter(i))===l.FILTER_ACCEPT)return e._currentNode=i,i;if(d!==l.FILTER_SKIP||null===(n=i[o[t]]))for(;null!==i;){if(null!==(h=i[u[t]])){i=h;break}if(null===(s=i.parentNode)||s===e.root||s===e._currentNode)return null;i=s}else i=n}return null}function traverseSiblings(e,t){var n,i,s;if((n=e._currentNode)===e.root)return null;for(;;){for(s=n[u[t]];null!==s;){if(n=s,(i=e._internalFilter(n))===l.FILTER_ACCEPT)return e._currentNode=n,n;s=n[o[t]],i!==l.FILTER_REJECT&&null!==s||(s=n[u[t]])}if(null===(n=n.parentNode)||n===e.root)return null;if(e._internalFilter(n)===l.FILTER_ACCEPT)return null}}function TreeWalker(e,t,n){e&&e.nodeType||s.NotSupportedError(),this._root=e,this._whatToShow=Number(t)||0,this._filter=n||null,this._active=!1,this._currentNode=e}Object.defineProperties(TreeWalker.prototype,{root:{get:function(){return this._root}},whatToShow:{get:function(){return this._whatToShow}},filter:{get:function(){return this._filter}},currentNode:{get:function(){return this._currentNode},set:function(e){if(!(e instanceof n))throw new TypeError("Not a Node");this._currentNode=e}},_internalFilter:{value:function(e){var t,n;if(this._active&&s.InvalidStateError(),!(1<<e.nodeType-1&this._whatToShow))return l.FILTER_SKIP;if(null===(n=this._filter))t=l.FILTER_ACCEPT;else{this._active=!0;try{t="function"==typeof n?n(e):n.acceptNode(e)}finally{this._active=!1}}return+t}},parentNode:{value:function(){for(var e=this._currentNode;e!==this.root;){if(null===(e=e.parentNode))return null;if(this._internalFilter(e)===l.FILTER_ACCEPT)return this._currentNode=e,e}return null}},firstChild:{value:function(){return traverseChildren(this,"first")}},lastChild:{value:function(){return traverseChildren(this,"last")}},previousSibling:{value:function(){return traverseSiblings(this,"previous")}},nextSibling:{value:function(){return traverseSiblings(this,"next")}},previousNode:{value:function(){var e,t,n,i;for(e=this._currentNode;e!==this._root;){for(n=e.previousSibling;n;n=e.previousSibling)if(e=n,(t=this._internalFilter(e))!==l.FILTER_REJECT){for(i=e.lastChild;i&&(e=i,(t=this._internalFilter(e))!==l.FILTER_REJECT);i=e.lastChild);if(t===l.FILTER_ACCEPT)return this._currentNode=e,e}if(e===this.root||null===e.parentNode)return null;if(e=e.parentNode,this._internalFilter(e)===l.FILTER_ACCEPT)return this._currentNode=e,e}return null}},nextNode:{value:function(){var e,t,n,s;e=this._currentNode,t=l.FILTER_ACCEPT;e:for(;;){for(n=e.firstChild;n;n=e.firstChild){if(e=n,(t=this._internalFilter(e))===l.FILTER_ACCEPT)return this._currentNode=e,e;if(t===l.FILTER_REJECT)break}for(s=i.nextSkippingChildren(e,this.root);s;s=i.nextSkippingChildren(e,this.root)){if(e=s,(t=this._internalFilter(e))===l.FILTER_ACCEPT)return this._currentNode=e,e;if(t===l.FILTER_SKIP)continue e}return null}}},toString:{value:function(){return"[object TreeWalker]"}}})}}),ep=__commonJS({"external/npm/node_modules/domino/lib/NodeIterator.js"(e,t){t.exports=NodeIterator;var n=_b(),l=Db(),i=_m();function move(e,t,n){return n?l.next(e,t):e===t?null:l.previous(e,null)}function isInclusiveAncestor(e,t){for(;t;t=t.parentNode)if(e===t)return!0;return!1}function traverse(e,t){var l,i;for(l=e._referenceNode,i=e._pointerBeforeReferenceNode;;){if(i===t)i=!i;else if(null===(l=move(l,e._root,t)))return null;if(e._internalFilter(l)===n.FILTER_ACCEPT)break}return e._referenceNode=l,e._pointerBeforeReferenceNode=i,l}function NodeIterator(e,t,n){e&&e.nodeType||i.NotSupportedError(),this._root=e,this._referenceNode=e,this._pointerBeforeReferenceNode=!0,this._whatToShow=Number(t)||0,this._filter=n||null,this._active=!1,e.doc._attachNodeIterator(this)}Object.defineProperties(NodeIterator.prototype,{root:{get:function(){return this._root}},referenceNode:{get:function(){return this._referenceNode}},pointerBeforeReferenceNode:{get:function(){return this._pointerBeforeReferenceNode}},whatToShow:{get:function(){return this._whatToShow}},filter:{get:function(){return this._filter}},_internalFilter:{value:function(e){var t,l;if(this._active&&i.InvalidStateError(),!(1<<e.nodeType-1&this._whatToShow))return n.FILTER_SKIP;if(null===(l=this._filter))t=n.FILTER_ACCEPT;else{this._active=!0;try{t="function"==typeof l?l(e):l.acceptNode(e)}finally{this._active=!1}}return+t}},_preremove:{value:function(e){if(!isInclusiveAncestor(e,this._root)&&isInclusiveAncestor(e,this._referenceNode)){if(this._pointerBeforeReferenceNode){for(var t=e;t.lastChild;)t=t.lastChild;if(t=l.next(t,this.root))return void(this._referenceNode=t);this._pointerBeforeReferenceNode=!1}var n;if(null===e.previousSibling)this._referenceNode=e.parentNode;else for(this._referenceNode=e.previousSibling,n=this._referenceNode.lastChild;n;n=this._referenceNode.lastChild)this._referenceNode=n}}},nextNode:{value:function(){return traverse(this,!0)}},previousNode:{value:function(){return traverse(this,!1)}},detach:{value:function(){}},toString:{value:function(){return"[object NodeIterator]"}}})}}),tp=__commonJS({"external/npm/node_modules/domino/lib/URL.js"(e,t){function URL2(e){if(!e)return Object.create(URL2.prototype);this.url=e.replace(/^[ \t\n\r\f]+|[ \t\n\r\f]+$/g,"");var t=URL2.pattern.exec(this.url);if(t){if(t[2]&&(this.scheme=t[2]),t[4]){var n=t[4].match(URL2.userinfoPattern);if(n&&(this.username=n[1],this.password=n[3],t[4]=t[4].substring(n[0].length)),t[4].match(URL2.portPattern)){var l=t[4].lastIndexOf(":");this.host=t[4].substring(0,l),this.port=t[4].substring(l+1)}else this.host=t[4]}t[5]&&(this.path=t[5]),t[6]&&(this.query=t[7]),t[8]&&(this.fragment=t[9])}}t.exports=URL2,URL2.pattern=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,URL2.userinfoPattern=/^([^@:]*)(:([^@]*))?@/,URL2.portPattern=/:\d+$/,URL2.authorityPattern=/^[^:\/?#]+:\/\//,URL2.hierarchyPattern=/^[^:\/?#]+:\//,URL2.percentEncode=function(e){var t=e.charCodeAt(0);if(t<256)return"%"+t.toString(16);throw Error("can't percent-encode codepoints > 255 yet")},URL2.prototype={constructor:URL2,isAbsolute:function(){return!!this.scheme},isAuthorityBased:function(){return URL2.authorityPattern.test(this.url)},isHierarchical:function(){return URL2.hierarchyPattern.test(this.url)},toString:function(){var e="";return void 0!==this.scheme&&(e+=this.scheme+":"),this.isAbsolute()&&(e+="//",(this.username||this.password)&&(e+=this.username||"",this.password&&(e+=":"+this.password),e+="@"),this.host&&(e+=this.host)),void 0!==this.port&&(e+=":"+this.port),void 0!==this.path&&(e+=this.path),void 0!==this.query&&(e+="?"+this.query),void 0!==this.fragment&&(e+="#"+this.fragment),e},resolve:function(e){var t=this,n=new URL2(e),l=new URL2;return void 0!==n.scheme?(l.scheme=n.scheme,l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=remove_dot_segments(n.path),l.query=n.query):(l.scheme=t.scheme,void 0!==n.host?(l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=remove_dot_segments(n.path),l.query=n.query):(l.username=t.username,l.password=t.password,l.host=t.host,l.port=t.port,n.path?("/"===n.path.charAt(0)?l.path=remove_dot_segments(n.path):(l.path=function(e,n){if(void 0!==t.host&&!t.path)return"/"+n;var l=e.lastIndexOf("/");return-1===l?n:e.substring(0,l+1)+n}(t.path,n.path),l.path=remove_dot_segments(l.path)),l.query=n.query):(l.path=t.path,void 0!==n.query?l.query=n.query:l.query=t.query))),l.fragment=n.fragment,l.toString();function remove_dot_segments(e){if(!e)return e;for(var t="";e.length>0;){if("."===e||".."===e){e="";break}var n=e.substring(0,2),l=e.substring(0,3),i=e.substring(0,4);if("../"===l)e=e.substring(3);else if("./"===n)e=e.substring(2);else if("/./"===l)e="/"+e.substring(3);else if("/."===n&&2===e.length)e="/";else if("/../"===i||"/.."===l&&3===e.length)e="/"+e.substring(4),t=t.replace(/\/?[^\/]*$/,"");else{var s=e.match(/(\/?([^\/]*))/)[0];t+=s,e=e.substring(s.length)}}return t}}}}}),np=__commonJS({"external/npm/node_modules/domino/lib/CustomEvent.js"(e,t){t.exports=CustomEvent;var n=wm();function CustomEvent(e,t){n.call(this,e,t)}CustomEvent.prototype=Object.create(n.prototype,{constructor:{value:CustomEvent}})}}),lp=__commonJS({"external/npm/node_modules/domino/lib/events.js"(e,t){t.exports={Event:wm(),UIEvent:Pm(),MouseEvent:jm(),CustomEvent:np()}}}),ip=__commonJS({"external/npm/node_modules/domino/lib/style_parser.js"(e){function hyphenate(e){return e.replace(/[a-z][A-Z]/g,(e=>e.charAt(0)+"-"+e.charAt(1))).toLowerCase()}Object.defineProperty(e,"__esModule",{value:!0}),e.hyphenate=e.parse=void 0,e.parse=function(e){const t=[];let n=0,l=0,i=0,s=0,o=0,u=null;for(;n<e.length;){switch(e.charCodeAt(n++)){case 40:l++;break;case 41:l--;break;case 39:0===i?i=39:39===i&&92!==e.charCodeAt(n-1)&&(i=0);break;case 34:0===i?i=34:34===i&&92!==e.charCodeAt(n-1)&&(i=0);break;case 58:u||0!==l||0!==i||(u=hyphenate(e.substring(o,n-1).trim()),s=n);break;case 59:if(u&&s>0&&0===l&&0===i){const l=e.substring(s,n-1).trim();t.push(u,l),o=n,s=0,u=null}}}if(u&&s){const n=e.slice(s).trim();t.push(u,n)}return t},e.hyphenate=hyphenate}}),sp=__commonJS({"external/npm/node_modules/domino/lib/CSSStyleDeclaration.js"(e,t){var{parse:n}=ip();function dasherizeProperty(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function CSSStyleDeclaration(e){this._element=e}t.exports=function(e){const t=new CSSStyleDeclaration(e);return new Proxy(t,{get:function(e,t){return t in e?e[t]:e.getPropertyValue(dasherizeProperty(t))},has:function(e,t){return!0},set:function(e,t,n){return t in e?e[t]=n:e.setProperty(dasherizeProperty(t),null!=n?n:void 0),!0}})};var l="!important";function parseStyles(e){const t={property:{},priority:{}};if(!e)return t;const i=n(e);if(i.length<2)return t;for(let e=0;e<i.length;e+=2){const n=i[e];let s=i[e+1];s.endsWith(l)&&(t.priority[n]="important",s=s.slice(0,-10).trim()),t.property[n]=s}return t}var i={};CSSStyleDeclaration.prototype=Object.create(Object.prototype,{_parsed:{get:function(){if(!this._parsedStyles||this.cssText!==this._lastParsedText){var e=this.cssText;this._parsedStyles=parseStyles(e),this._lastParsedText=e,delete this._names}return this._parsedStyles}},_serialize:{value:function(){var e=this._parsed,t="";for(var n in e.property)t&&(t+=" "),t+=n+": "+e.property[n],e.priority[n]&&(t+=" !"+e.priority[n]),t+=";";this.cssText=t,this._lastParsedText=t,delete this._names}},cssText:{get:function(){return this._element.getAttribute("style")},set:function(e){this._element.setAttribute("style",e)}},length:{get:function(){return this._names||(this._names=Object.getOwnPropertyNames(this._parsed.property)),this._names.length}},item:{value:function(e){return this._names||(this._names=Object.getOwnPropertyNames(this._parsed.property)),this._names[e]}},getPropertyValue:{value:function(e){return e=e.toLowerCase(),this._parsed.property[e]||""}},getPropertyPriority:{value:function(e){return e=e.toLowerCase(),this._parsed.priority[e]||""}},setProperty:{value:function(e,t,n){if(e=e.toLowerCase(),null==t&&(t=""),null==n&&(n=""),t!==i&&(t=""+t),""!==(t=t.trim())){if(""===n||n===i||/^important$/i.test(n)){var l=this._parsed;if(t===i){if(!l.property[e])return;""!==n?l.priority[e]="important":delete l.priority[e]}else{if(-1!==t.indexOf(";"))return;var s=parseStyles(e+":"+t);if(0===Object.getOwnPropertyNames(s.property).length)return;if(0!==Object.getOwnPropertyNames(s.priority).length)return;for(var o in s.property)l.property[o]=s.property[o],n!==i&&(""!==n?l.priority[o]="important":l.priority[o]&&delete l.priority[o])}this._serialize()}}else this.removeProperty(e)}},setPropertyValue:{value:function(e,t){return this.setProperty(e,t,i)}},setPropertyPriority:{value:function(e,t){return this.setProperty(e,i,t)}},removeProperty:{value:function(e){e=e.toLowerCase();var t=this._parsed;e in t.property&&(delete t.property[e],delete t.priority[e],this._serialize())}}})}}),op=__commonJS({"external/npm/node_modules/domino/lib/URLUtils.js"(e,t){var n=tp();function URLUtils(){}t.exports=URLUtils,URLUtils.prototype=Object.create(Object.prototype,{_url:{get:function(){return new n(this.href)}},protocol:{get:function(){var e=this._url;return e&&e.scheme?e.scheme+":":":"},set:function(e){var t=this.href,l=new n(t);l.isAbsolute()&&(e=(e=e.replace(/:+$/,"")).replace(/[^-+\.a-zA-Z0-9]/g,n.percentEncode)).length>0&&(l.scheme=e,t=l.toString()),this.href=t}},host:{get:function(){var e=this._url;return e.isAbsolute()&&e.isAuthorityBased()?e.host+(e.port?":"+e.port:""):""},set:function(e){var t=this.href,l=new n(t);l.isAbsolute()&&l.isAuthorityBased()&&(e=e.replace(/[^-+\._~!$&'()*,;:=a-zA-Z0-9]/g,n.percentEncode)).length>0&&(l.host=e,delete l.port,t=l.toString()),this.href=t}},hostname:{get:function(){var e=this._url;return e.isAbsolute()&&e.isAuthorityBased()?e.host:""},set:function(e){var t=this.href,l=new n(t);l.isAbsolute()&&l.isAuthorityBased()&&(e=(e=e.replace(/^\/+/,"")).replace(/[^-+\._~!$&'()*,;:=a-zA-Z0-9]/g,n.percentEncode)).length>0&&(l.host=e,t=l.toString()),this.href=t}},port:{get:function(){var e=this._url;return e.isAbsolute()&&e.isAuthorityBased()&&void 0!==e.port?e.port:""},set:function(e){var t=this.href,l=new n(t);l.isAbsolute()&&l.isAuthorityBased()&&(0===(e=(e=(e=""+e).replace(/[^0-9].*$/,"")).replace(/^0+/,"")).length&&(e="0"),parseInt(e,10)<=65535&&(l.port=e,t=l.toString())),this.href=t}},pathname:{get:function(){var e=this._url;return e.isAbsolute()&&e.isHierarchical()?e.path:""},set:function(e){var t=this.href,l=new n(t);l.isAbsolute()&&l.isHierarchical()&&("/"!==e.charAt(0)&&(e="/"+e),e=e.replace(/[^-+\._~!$&'()*,;:=@\/a-zA-Z0-9]/g,n.percentEncode),l.path=e,t=l.toString()),this.href=t}},search:{get:function(){var e=this._url;return e.isAbsolute()&&e.isHierarchical()&&void 0!==e.query?"?"+e.query:""},set:function(e){var t=this.href,l=new n(t);l.isAbsolute()&&l.isHierarchical()&&("?"===e.charAt(0)&&(e=e.substring(1)),e=e.replace(/[^-+\._~!$&'()*,;:=@\/?a-zA-Z0-9]/g,n.percentEncode),l.query=e,t=l.toString()),this.href=t}},hash:{get:function(){var e=this._url;return null==e||null==e.fragment||""===e.fragment?"":"#"+e.fragment},set:function(e){var t=this.href,l=new n(t);"#"===e.charAt(0)&&(e=e.substring(1)),e=e.replace(/[^-+\._~!$&'()*,;:=@\/?a-zA-Z0-9]/g,n.percentEncode),l.fragment=e,t=l.toString(),this.href=t}},username:{get:function(){return this._url.username||""},set:function(e){var t=this.href,l=new n(t);l.isAbsolute()&&(e=e.replace(/[\x00-\x1F\x7F-\uFFFF "#<>?`\/@\\:]/g,n.percentEncode),l.username=e,t=l.toString()),this.href=t}},password:{get:function(){return this._url.password||""},set:function(e){var t=this.href,l=new n(t);l.isAbsolute()&&(""===e?l.password=null:(e=e.replace(/[\x00-\x1F\x7F-\uFFFF "#<>?`\/@\\]/g,n.percentEncode),l.password=e),t=l.toString()),this.href=t}},origin:{get:function(){var e=this._url;if(null==e)return"";var originForPort=function(t){var n=[e.scheme,e.host,+e.port||t];return n[0]+"://"+n[1]+(n[2]===t?"":":"+n[2])};switch(e.scheme){case"ftp":return originForPort(21);case"gopher":return originForPort(70);case"http":case"ws":return originForPort(80);case"https":case"wss":return originForPort(443);default:return e.scheme+"://"}}}}),URLUtils._inherit=function(e){Object.getOwnPropertyNames(URLUtils.prototype).forEach((function(t){if("constructor"!==t&&"href"!==t){var n=Object.getOwnPropertyDescriptor(URLUtils.prototype,t);Object.defineProperty(e,t,n)}}))}}}),cp=__commonJS({"external/npm/node_modules/domino/lib/defineElement.js"(e,t){var n=cb(),l=Qm().isApiWritable;function EventHandlerBuilder(e,t,n,l){this.body=e,this.document=t,this.form=n,this.element=l}function EventHandlerChangeHandler(e,t,n,l){var i=e.ownerDocument||Object.create(null),s=e.form||Object.create(null);e[t]=new EventHandlerBuilder(l,i,s,e).build()}t.exports=function(e,t,i,s){var o=e.ctor;if(o){var u=e.props||{};if(e.attributes)for(var d in e.attributes){var h=e.attributes[d];("object"!=typeof h||Array.isArray(h))&&(h={type:h}),h.name||(h.name=d.toLowerCase()),u[d]=n.property(h)}u.constructor={value:o,writable:l},o.prototype=Object.create((e.superclass||t).prototype,u),e.events&&function(e,t){var l=e.prototype;t.forEach((function(t){Object.defineProperty(l,"on"+t,{get:function(){return this._getEventHandler(t)},set:function(e){this._setEventHandler(t,e)}}),n.registerChangeHandler(e,"on"+t,EventHandlerChangeHandler)}))}(o,e.events),i[e.name]=o}else o=t;return(e.tags||e.tag&&[e.tag]||[]).forEach((function(e){s[e]=o})),o},EventHandlerBuilder.prototype.build=function(){return()=>{}}}}),ap=__commonJS({"external/npm/node_modules/domino/lib/htmlelts.js"(e){var t=qm(),n=Kb(),l=sp(),i=_m(),s=op(),o=cp(),u=e.elements={},d=Object.create(null);function define(e){return o(e,b,u,d)}function URL2(e){return{get:function(){var t=this._getattr(e);if(null===t)return"";var n=this.doc._resolve(t);return null===n?t:n},set:function(t){this._setattr(e,t)}}}function CORS(e){return{get:function(){var t=this._getattr(e);return null===t?null:"use-credentials"===t.toLowerCase()?"use-credentials":"anonymous"},set:function(t){null==t?this.removeAttribute(e):this._setattr(e,t)}}}e.createElement=function(e,t,n){return new(d[t]||V)(e,t,n)};var h={type:["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],missing:""},m={A:!0,LINK:!0,BUTTON:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0,COMMAND:!0},HTMLFormElement=function(e,t,n){b.call(this,e,t,n),this._form=null},b=e.HTMLElement=define({superclass:n,name:"HTMLElement",ctor:function(e,t,l){n.call(this,e,t,i.NAMESPACE.HTML,l)},props:{dangerouslySetInnerHTML:{set:function(e){this._innerHTML=e}},innerHTML:{get:function(){return this.serialize()},set:function(e){var t=this.ownerDocument.implementation.mozHTMLParser(this.ownerDocument._address,this);t.parse(null===e?"":String(e),!0);for(var n=this instanceof d.template?this.content:this;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(t._asDocumentFragment())}},style:{get:function(){return this._style||(this._style=new l(this)),this._style},set:function(e){null==e&&(e=""),this._setattr("style",String(e))}},blur:{value:function(){}},focus:{value:function(){}},forceSpellCheck:{value:function(){}},click:{value:function(){if(!this._click_in_progress){this._click_in_progress=!0;try{this._pre_click_activation_steps&&this._pre_click_activation_steps();var e=this.ownerDocument.createEvent("MouseEvent");e.initMouseEvent("click",!0,!0,this.ownerDocument.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null),this.dispatchEvent(e)?this._post_click_activation_steps&&this._post_click_activation_steps(e):this._cancelled_activation_steps&&this._cancelled_activation_steps()}finally{this._click_in_progress=!1}}}},submit:{value:i.nyi}},attributes:{title:String,lang:String,dir:{type:["ltr","rtl","auto"],missing:""},draggable:{type:["true","false"],treatNullAsEmptyString:!0},spellcheck:{type:["true","false"],missing:""},enterKeyHint:{type:["enter","done","go","next","previous","search","send"],missing:""},autoCapitalize:{type:["off","on","none","sentences","words","characters"],missing:""},autoFocus:Boolean,accessKey:String,nonce:String,hidden:Boolean,translate:{type:["no","yes"],missing:""},tabIndex:{type:"long",default:function(){return this.tagName in m||this.contentEditable?0:-1}}},events:["abort","canplay","canplaythrough","change","click","contextmenu","cuechange","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","input","invalid","keydown","keypress","keyup","loadeddata","loadedmetadata","loadstart","mousedown","mousemove","mouseout","mouseover","mouseup","mousewheel","pause","play","playing","progress","ratechange","readystatechange","reset","seeked","seeking","select","show","stalled","submit","suspend","timeupdate","volumechange","waiting","blur","error","focus","load","scroll"]}),V=define({name:"HTMLUnknownElement",ctor:function(e,t,n){b.call(this,e,t,n)}}),g={form:{get:function(){return this._form}}};define({tag:"a",name:"HTMLAnchorElement",ctor:function(e,t,n){b.call(this,e,t,n)},props:{_post_click_activation_steps:{value:function(e){this.href&&(this.ownerDocument.defaultView.location=this.href)}}},attributes:{href:URL2,ping:String,download:String,target:String,rel:String,media:String,hreflang:String,type:String,referrerPolicy:h,coords:String,charset:String,name:String,rev:String,shape:String}}),s._inherit(d.a.prototype),define({tag:"area",name:"HTMLAreaElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{alt:String,target:String,download:String,rel:String,media:String,href:URL2,hreflang:String,type:String,shape:String,coords:String,ping:String,referrerPolicy:h,noHref:Boolean}}),s._inherit(d.area.prototype),define({tag:"br",name:"HTMLBRElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{clear:String}}),define({tag:"base",name:"HTMLBaseElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{target:String}}),define({tag:"body",name:"HTMLBodyElement",ctor:function(e,t,n){b.call(this,e,t,n)},events:["afterprint","beforeprint","beforeunload","blur","error","focus","hashchange","load","message","offline","online","pagehide","pageshow","popstate","resize","scroll","storage","unload"],attributes:{text:{type:String,treatNullAsEmptyString:!0},link:{type:String,treatNullAsEmptyString:!0},vLink:{type:String,treatNullAsEmptyString:!0},aLink:{type:String,treatNullAsEmptyString:!0},bgColor:{type:String,treatNullAsEmptyString:!0},background:String}}),define({tag:"button",name:"HTMLButtonElement",ctor:function(e,t,n){HTMLFormElement.call(this,e,t,n)},props:g,attributes:{name:String,value:String,disabled:Boolean,autofocus:Boolean,type:{type:["submit","reset","button","menu"],missing:"submit"},formTarget:String,formAction:URL2,formNoValidate:Boolean,formMethod:{type:["get","post","dialog"],invalid:"get",missing:""},formEnctype:{type:["application/x-www-form-urlencoded","multipart/form-data","text/plain"],invalid:"application/x-www-form-urlencoded",missing:""}}}),define({tag:"dl",name:"HTMLDListElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{compact:Boolean}}),define({tag:"data",name:"HTMLDataElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{value:String}}),define({tag:"datalist",name:"HTMLDataListElement",ctor:function(e,t,n){b.call(this,e,t,n)}}),define({tag:"details",name:"HTMLDetailsElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{open:Boolean}}),define({tag:"div",name:"HTMLDivElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{align:String}}),define({tag:"embed",name:"HTMLEmbedElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{src:URL2,type:String,width:String,height:String,align:String,name:String}}),define({tag:"fieldset",name:"HTMLFieldSetElement",ctor:function(e,t,n){HTMLFormElement.call(this,e,t,n)},props:g,attributes:{disabled:Boolean,name:String}}),define({tag:"form",name:"HTMLFormElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{action:String,autocomplete:{type:["on","off"],missing:"on"},name:String,acceptCharset:{name:"accept-charset"},target:String,noValidate:Boolean,method:{type:["get","post","dialog"],invalid:"get",missing:"get"},enctype:{type:["application/x-www-form-urlencoded","multipart/form-data","text/plain"],invalid:"application/x-www-form-urlencoded",missing:"application/x-www-form-urlencoded"},encoding:{name:"enctype",type:["application/x-www-form-urlencoded","multipart/form-data","text/plain"],invalid:"application/x-www-form-urlencoded",missing:"application/x-www-form-urlencoded"}}}),define({tag:"hr",name:"HTMLHRElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{align:String,color:String,noShade:Boolean,size:String,width:String}}),define({tag:"head",name:"HTMLHeadElement",ctor:function(e,t,n){b.call(this,e,t,n)}}),define({tags:["h1","h2","h3","h4","h5","h6"],name:"HTMLHeadingElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{align:String}}),define({tag:"html",name:"HTMLHtmlElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{xmlns:URL2,version:String}}),define({tag:"iframe",name:"HTMLIFrameElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{src:URL2,srcdoc:String,name:String,width:String,height:String,seamless:Boolean,allow:Boolean,allowFullscreen:Boolean,allowUserMedia:Boolean,allowPaymentRequest:Boolean,referrerPolicy:h,loading:{type:["eager","lazy"],treatNullAsEmptyString:!0},align:String,scrolling:String,frameBorder:String,longDesc:URL2,marginHeight:{type:String,treatNullAsEmptyString:!0},marginWidth:{type:String,treatNullAsEmptyString:!0}}}),define({tag:"img",name:"HTMLImageElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{alt:String,src:URL2,srcset:String,crossOrigin:CORS,useMap:String,isMap:Boolean,sizes:String,height:{type:"unsigned long",default:0},width:{type:"unsigned long",default:0},referrerPolicy:h,loading:{type:["eager","lazy"],missing:""},name:String,lowsrc:URL2,align:String,hspace:{type:"unsigned long",default:0},vspace:{type:"unsigned long",default:0},longDesc:URL2,border:{type:String,treatNullAsEmptyString:!0}}}),define({tag:"input",name:"HTMLInputElement",ctor:function(e,t,n){HTMLFormElement.call(this,e,t,n)},props:{form:g.form,_post_click_activation_steps:{value:function(e){if("checkbox"===this.type)this.checked=!this.checked;else if("radio"===this.type)for(var t=this.form.getElementsByName(this.name),n=t.length-1;n>=0;n--){var l=t[n];l.checked=l===this}}}},attributes:{name:String,disabled:Boolean,autofocus:Boolean,accept:String,alt:String,max:String,min:String,pattern:String,placeholder:String,step:String,dirName:String,defaultValue:{name:"value"},multiple:Boolean,required:Boolean,readOnly:Boolean,checked:Boolean,value:String,src:URL2,defaultChecked:{name:"checked",type:Boolean},size:{type:"unsigned long",default:20,min:1,setmin:1},width:{type:"unsigned long",min:0,setmin:0,default:0},height:{type:"unsigned long",min:0,setmin:0,default:0},minLength:{type:"unsigned long",min:0,setmin:0,default:-1},maxLength:{type:"unsigned long",min:0,setmin:0,default:-1},autocomplete:String,type:{type:["text","hidden","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"],missing:"text"},formTarget:String,formNoValidate:Boolean,formMethod:{type:["get","post"],invalid:"get",missing:""},formEnctype:{type:["application/x-www-form-urlencoded","multipart/form-data","text/plain"],invalid:"application/x-www-form-urlencoded",missing:""},inputMode:{type:["verbatim","latin","latin-name","latin-prose","full-width-latin","kana","kana-name","katakana","numeric","tel","email","url"],missing:""},align:String,useMap:String}}),define({tag:"keygen",name:"HTMLKeygenElement",ctor:function(e,t,n){HTMLFormElement.call(this,e,t,n)},props:g,attributes:{name:String,disabled:Boolean,autofocus:Boolean,challenge:String,keytype:{type:["rsa"],missing:""}}}),define({tag:"li",name:"HTMLLIElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{value:{type:"long",default:0},type:String}}),define({tag:"label",name:"HTMLLabelElement",ctor:function(e,t,n){HTMLFormElement.call(this,e,t,n)},props:g,attributes:{htmlFor:{name:"for",type:String}}}),define({tag:"legend",name:"HTMLLegendElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{align:String}}),define({tag:"link",name:"HTMLLinkElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{href:URL2,rel:String,media:String,hreflang:String,type:String,crossOrigin:CORS,nonce:String,integrity:String,referrerPolicy:h,imageSizes:String,imageSrcset:String,charset:String,rev:String,target:String}}),define({tag:"map",name:"HTMLMapElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{name:String}}),define({tag:"menu",name:"HTMLMenuElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{type:{type:["context","popup","toolbar"],missing:"toolbar"},label:String,compact:Boolean}}),define({tag:"meta",name:"HTMLMetaElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{name:String,content:String,httpEquiv:{name:"http-equiv",type:String},scheme:String}}),define({tag:"meter",name:"HTMLMeterElement",ctor:function(e,t,n){HTMLFormElement.call(this,e,t,n)},props:g}),define({tags:["ins","del"],name:"HTMLModElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{cite:URL2,dateTime:String}}),define({tag:"ol",name:"HTMLOListElement",ctor:function(e,t,n){b.call(this,e,t,n)},props:{_numitems:{get:function(){var e=0;return this.childNodes.forEach((function(n){n.nodeType===t.ELEMENT_NODE&&"LI"===n.tagName&&e++})),e}}},attributes:{type:String,reversed:Boolean,start:{type:"long",default:function(){return this.reversed?this._numitems:1}},compact:Boolean}}),define({tag:"object",name:"HTMLObjectElement",ctor:function(e,t,n){HTMLFormElement.call(this,e,t,n)},props:g,attributes:{data:URL2,type:String,name:String,useMap:String,typeMustMatch:Boolean,width:String,height:String,align:String,archive:String,code:String,declare:Boolean,hspace:{type:"unsigned long",default:0},standby:String,vspace:{type:"unsigned long",default:0},codeBase:URL2,codeType:String,border:{type:String,treatNullAsEmptyString:!0}}}),define({tag:"optgroup",name:"HTMLOptGroupElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{disabled:Boolean,label:String}}),define({tag:"option",name:"HTMLOptionElement",ctor:function(e,t,n){b.call(this,e,t,n)},props:{form:{get:function(){for(var e=this.parentNode;e&&e.nodeType===t.ELEMENT_NODE;){if("select"===e.localName)return e.form;e=e.parentNode}}},value:{get:function(){return this._getattr("value")||this.text},set:function(e){this._setattr("value",e)}},text:{get:function(){return this.textContent.replace(/[ \t\n\f\r]+/g," ").trim()},set:function(e){this.textContent=e}}},attributes:{disabled:Boolean,defaultSelected:{name:"selected",type:Boolean},label:String}}),define({tag:"output",name:"HTMLOutputElement",ctor:function(e,t,n){HTMLFormElement.call(this,e,t,n)},props:g,attributes:{name:String}}),define({tag:"p",name:"HTMLParagraphElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{align:String}}),define({tag:"param",name:"HTMLParamElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{name:String,value:String,type:String,valueType:String}}),define({tags:["pre","listing","xmp"],name:"HTMLPreElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{width:{type:"long",default:0}}}),define({tag:"progress",name:"HTMLProgressElement",ctor:function(e,t,n){HTMLFormElement.call(this,e,t,n)},props:g,attributes:{max:{type:Number,float:!0,default:1,min:0}}}),define({tags:["q","blockquote"],name:"HTMLQuoteElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{cite:URL2}}),define({tag:"script",name:"HTMLScriptElement",ctor:function(e,t,n){b.call(this,e,t,n)},props:{text:{get:function(){for(var e="",n=0,l=this.childNodes.length;n<l;n++){var i=this.childNodes[n];i.nodeType===t.TEXT_NODE&&(e+=i._data)}return e},set:function(e){this.removeChildren(),null!==e&&""!==e&&this.appendChild(this.ownerDocument.createTextNode(e))}}},attributes:{src:URL2,type:String,charset:String,referrerPolicy:h,defer:Boolean,async:Boolean,nomodule:Boolean,crossOrigin:CORS,nonce:String,integrity:String}}),define({tag:"select",name:"HTMLSelectElement",ctor:function(e,t,n){HTMLFormElement.call(this,e,t,n)},props:{form:g.form,options:{get:function(){return this.getElementsByTagName("option")}}},attributes:{autocomplete:String,name:String,disabled:Boolean,autofocus:Boolean,multiple:Boolean,required:Boolean,size:{type:"unsigned long",default:0}}}),define({tag:"span",name:"HTMLSpanElement",ctor:function(e,t,n){b.call(this,e,t,n)}}),define({tag:"style",name:"HTMLStyleElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{media:String,type:String,scoped:Boolean}}),define({tag:"caption",name:"HTMLTableCaptionElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{align:String}}),define({name:"HTMLTableCellElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{colSpan:{type:"unsigned long",default:1},rowSpan:{type:"unsigned long",default:1},scope:{type:["row","col","rowgroup","colgroup"],missing:""},abbr:String,align:String,axis:String,height:String,width:String,ch:{name:"char",type:String},chOff:{name:"charoff",type:String},noWrap:Boolean,vAlign:String,bgColor:{type:String,treatNullAsEmptyString:!0}}}),define({tags:["col","colgroup"],name:"HTMLTableColElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{span:{type:"limited unsigned long with fallback",default:1,min:1},align:String,ch:{name:"char",type:String},chOff:{name:"charoff",type:String},vAlign:String,width:String}}),define({tag:"table",name:"HTMLTableElement",ctor:function(e,t,n){b.call(this,e,t,n)},props:{rows:{get:function(){return this.getElementsByTagName("tr")}}},attributes:{align:String,border:String,frame:String,rules:String,summary:String,width:String,bgColor:{type:String,treatNullAsEmptyString:!0},cellPadding:{type:String,treatNullAsEmptyString:!0},cellSpacing:{type:String,treatNullAsEmptyString:!0}}}),define({tag:"template",name:"HTMLTemplateElement",ctor:function(e,t,n){b.call(this,e,t,n),this._contentFragment=e._templateDoc.createDocumentFragment()},props:{content:{get:function(){return this._contentFragment}},serialize:{value:function(){return this.content.serialize()}}}}),define({tag:"tr",name:"HTMLTableRowElement",ctor:function(e,t,n){b.call(this,e,t,n)},props:{cells:{get:function(){return this.querySelectorAll("td,th")}}},attributes:{align:String,ch:{name:"char",type:String},chOff:{name:"charoff",type:String},vAlign:String,bgColor:{type:String,treatNullAsEmptyString:!0}}}),define({tags:["thead","tfoot","tbody"],name:"HTMLTableSectionElement",ctor:function(e,t,n){b.call(this,e,t,n)},props:{rows:{get:function(){return this.getElementsByTagName("tr")}}},attributes:{align:String,ch:{name:"char",type:String},chOff:{name:"charoff",type:String},vAlign:String}}),define({tag:"textarea",name:"HTMLTextAreaElement",ctor:function(e,t,n){HTMLFormElement.call(this,e,t,n)},props:{form:g.form,type:{get:function(){return"textarea"}},defaultValue:{get:function(){return this.textContent},set:function(e){this.textContent=e}},value:{get:function(){return this.defaultValue},set:function(e){this.defaultValue=e}},textLength:{get:function(){return this.value.length}}},attributes:{autocomplete:String,name:String,disabled:Boolean,autofocus:Boolean,placeholder:String,wrap:String,dirName:String,required:Boolean,readOnly:Boolean,rows:{type:"limited unsigned long with fallback",default:2},cols:{type:"limited unsigned long with fallback",default:20},maxLength:{type:"unsigned long",min:0,setmin:0,default:-1},minLength:{type:"unsigned long",min:0,setmin:0,default:-1},inputMode:{type:["verbatim","latin","latin-name","latin-prose","full-width-latin","kana","kana-name","katakana","numeric","tel","email","url"],missing:""}}}),define({tag:"time",name:"HTMLTimeElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{dateTime:String,pubDate:Boolean}}),define({tag:"title",name:"HTMLTitleElement",ctor:function(e,t,n){b.call(this,e,t,n)},props:{text:{get:function(){return this.textContent}}}}),define({tag:"ul",name:"HTMLUListElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{type:String,compact:Boolean}}),define({name:"HTMLMediaElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{src:URL2,crossOrigin:CORS,preload:{type:["metadata","none","auto",{value:"",alias:"auto"}],missing:"auto"},loop:Boolean,autoplay:Boolean,mediaGroup:String,controls:Boolean,defaultMuted:{name:"muted",type:Boolean}}}),define({name:"HTMLAudioElement",tag:"audio",superclass:u.HTMLMediaElement,ctor:function(e,t,n){u.HTMLMediaElement.call(this,e,t,n)}}),define({name:"HTMLVideoElement",tag:"video",superclass:u.HTMLMediaElement,ctor:function(e,t,n){u.HTMLMediaElement.call(this,e,t,n)},attributes:{poster:URL2,width:{type:"unsigned long",min:0,default:0},height:{type:"unsigned long",min:0,default:0}}}),define({tag:"td",name:"HTMLTableDataCellElement",superclass:u.HTMLTableCellElement,ctor:function(e,t,n){u.HTMLTableCellElement.call(this,e,t,n)}}),define({tag:"th",name:"HTMLTableHeaderCellElement",superclass:u.HTMLTableCellElement,ctor:function(e,t,n){u.HTMLTableCellElement.call(this,e,t,n)}}),define({tag:"frameset",name:"HTMLFrameSetElement",ctor:function(e,t,n){b.call(this,e,t,n)}}),define({tag:"frame",name:"HTMLFrameElement",ctor:function(e,t,n){b.call(this,e,t,n)}}),define({tag:"canvas",name:"HTMLCanvasElement",ctor:function(e,t,n){b.call(this,e,t,n)},props:{getContext:{value:i.nyi},probablySupportsContext:{value:i.nyi},setContext:{value:i.nyi},transferControlToProxy:{value:i.nyi},toDataURL:{value:i.nyi},toBlob:{value:i.nyi}},attributes:{width:{type:"unsigned long",default:300},height:{type:"unsigned long",default:150}}}),define({tag:"dialog",name:"HTMLDialogElement",ctor:function(e,t,n){b.call(this,e,t,n)},props:{show:{value:i.nyi},showModal:{value:i.nyi},close:{value:i.nyi}},attributes:{open:Boolean,returnValue:String}}),define({tag:"menuitem",name:"HTMLMenuItemElement",ctor:function(e,t,n){b.call(this,e,t,n)},props:{_label:{get:function(){var e=this._getattr("label");return null!==e&&""!==e?e:(e=this.textContent).replace(/[ \t\n\f\r]+/g," ").trim()}},label:{get:function(){var e=this._getattr("label");return null!==e?e:this._label},set:function(e){this._setattr("label",e)}}},attributes:{type:{type:["command","checkbox","radio"],missing:"command"},icon:URL2,disabled:Boolean,checked:Boolean,radiogroup:String,default:Boolean}}),define({tag:"source",name:"HTMLSourceElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{srcset:String,sizes:String,media:String,src:URL2,type:String,width:String,height:String}}),define({tag:"track",name:"HTMLTrackElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{src:URL2,srclang:String,label:String,default:Boolean,kind:{type:["subtitles","captions","descriptions","chapters","metadata"],missing:"subtitles",invalid:"metadata"}},props:{NONE:{get:function(){return 0}},LOADING:{get:function(){return 1}},LOADED:{get:function(){return 2}},ERROR:{get:function(){return 3}},readyState:{get:i.nyi},track:{get:i.nyi}}}),define({tag:"font",name:"HTMLFontElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{color:{type:String,treatNullAsEmptyString:!0},face:{type:String},size:{type:String}}}),define({tag:"dir",name:"HTMLDirectoryElement",ctor:function(e,t,n){b.call(this,e,t,n)},attributes:{compact:Boolean}}),define({tags:["abbr","address","article","aside","b","bdi","bdo","cite","content","code","dd","dfn","dt","em","figcaption","figure","footer","header","hgroup","i","kbd","main","mark","nav","noscript","rb","rp","rt","rtc","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr","acronym","basefont","big","center","nobr","noembed","noframes","plaintext","strike","tt"]})}}),rp=__commonJS({"external/npm/node_modules/domino/lib/svg.js"(e){var t=Kb(),n=cp(),l=_m(),i=sp(),s=e.elements={},o=Object.create(null);function define(e){return n(e,u,s,o)}e.createElement=function(e,t,n){return new(o[t]||u)(e,t,n)};var u=define({superclass:t,name:"SVGElement",ctor:function(e,n,i){t.call(this,e,n,l.NAMESPACE.SVG,i)},props:{style:{get:function(){return this._style||(this._style=new i(this)),this._style}}}});define({name:"SVGSVGElement",ctor:function(e,t,n){u.call(this,e,t,n)},tag:"svg",props:{createSVGRect:{value:function(){return e.createElement(this.ownerDocument,"rect",null)}}}}),define({tags:["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"]})}}),up=__commonJS({"external/npm/node_modules/domino/lib/MutationConstants.js"(e,t){t.exports={VALUE:1,ATTR:2,REMOVE_ATTR:3,REMOVE:4,MOVE:5,INSERT:6}}}),dp=__commonJS({"external/npm/node_modules/domino/lib/Document.js"(e,t){t.exports=Document;var n=qm(),l=nb(),i=sb(),s=Kb(),o=Cb(),u=Hb(),d=wm(),h=Jb(),m=jb(),b=bp(),V=$b(),g=ep(),f=_b(),S=tp(),L=Xb(),v=lp(),k=ob(),C=ap(),F=rp(),z=_m(),E=up(),w=z.NAMESPACE,j=Qm().isApiWritable;function Document(e,t){i.call(this),this.nodeType=n.DOCUMENT_NODE,this.isHTML=e,this._address=t||"about:blank",this.readyState="loading",this.implementation=new b(this),this.ownerDocument=null,this._contentType=e?"text/html":"application/xml",this.doctype=null,this.documentElement=null,this._templateDocCache=null,this._nodeIterators=null,this._nid=1,this._nextnid=2,this._nodes=[null,this],this.byId=Object.create(null),this.modclock=0}var _={event:"Event",customevent:"CustomEvent",uievent:"UIEvent",mouseevent:"MouseEvent"},D={events:"event",htmlevents:"event",mouseevents:"mouseevent",mutationevents:"mutationevent",uievents:"uievent"},mirrorAttr=function(e,t,n){return{get:function(){var l=e.call(this);return l?l[t]:n},set:function(n){var l=e.call(this);l&&(l[t]=n)}}};function validateAndExtract(e,t){var n,l,i;return""===e&&(e=null),k.isValidQName(t)||z.InvalidCharacterError(),n=null,l=t,(i=t.indexOf(":"))>=0&&(n=t.substring(0,i),l=t.substring(i+1)),null!==n&&null===e&&z.NamespaceError(),"xml"===n&&e!==w.XML&&z.NamespaceError(),"xmlns"!==n&&"xmlns"!==t||e===w.XMLNS||z.NamespaceError(),e===w.XMLNS&&"xmlns"!==n&&"xmlns"!==t&&z.NamespaceError(),{namespace:e,prefix:n,localName:l}}Document.prototype=Object.create(i.prototype,{_setMutationHandler:{value:function(e){this.mutationHandler=e}},_dispatchRendererEvent:{value:function(e,t,n){var l=this._nodes[e];l&&l._dispatchEvent(new d(t,n),!0)}},nodeName:{value:"#document"},nodeValue:{get:function(){return null},set:function(){}},documentURI:{get:function(){return this._address},set:z.nyi},compatMode:{get:function(){return this._quirks?"BackCompat":"CSS1Compat"}},createTextNode:{value:function(e){return new o(this,String(e))}},createComment:{value:function(e){return new u(this,e)}},createDocumentFragment:{value:function(){return new h(this)}},createProcessingInstruction:{value:function(e,t){return k.isValidName(e)&&-1===t.indexOf("?>")||z.InvalidCharacterError(),new m(this,e,t)}},createAttribute:{value:function(e){return e=String(e),k.isValidName(e)||z.InvalidCharacterError(),this.isHTML&&(e=z.toASCIILowerCase(e)),new s._Attr(null,e,null,null,"")}},createAttributeNS:{value:function(e,t){var n=validateAndExtract(e=null==e||""===e?null:String(e),t=String(t));return new s._Attr(null,n.localName,n.prefix,n.namespace,"")}},createElement:{value:function(e){return e=String(e),k.isValidName(e)||z.InvalidCharacterError(),this.isHTML?(/[A-Z]/.test(e)&&(e=z.toASCIILowerCase(e)),C.createElement(this,e,null)):"application/xhtml+xml"===this.contentType?C.createElement(this,e,null):new s(this,e,null,null)},writable:j},createElementNS:{value:function(e,t){var n=validateAndExtract(e=null==e||""===e?null:String(e),t=String(t));return this._createElementNS(n.localName,n.namespace,n.prefix)},writable:j},_createElementNS:{value:function(e,t,n){return t===w.HTML?C.createElement(this,e,n):t===w.SVG?F.createElement(this,e,n):new s(this,e,t,n)}},createEvent:{value:function(e){e=e.toLowerCase();var t=v[_[D[e]||e]];if(t){var n=new t;return n._initialized=!1,n}z.NotSupportedError()}},createTreeWalker:{value:function(e,t,l){if(!e)throw new TypeError("root argument is required");if(!(e instanceof n))throw new TypeError("root not a node");return t=void 0===t?f.SHOW_ALL:+t,new V(e,t,l=void 0===l?null:l)}},createNodeIterator:{value:function(e,t,l){if(!e)throw new TypeError("root argument is required");if(!(e instanceof n))throw new TypeError("root not a node");return t=void 0===t?f.SHOW_ALL:+t,new g(e,t,l=void 0===l?null:l)}},_attachNodeIterator:{value:function(e){this._nodeIterators||(this._nodeIterators=[]),this._nodeIterators.push(e)}},_detachNodeIterator:{value:function(e){var t=this._nodeIterators.indexOf(e);this._nodeIterators.splice(t,1)}},_preremoveNodeIterators:{value:function(e){this._nodeIterators&&this._nodeIterators.forEach((function(t){t._preremove(e)}))}},_updateDocTypeElement:{value:function(){this.doctype=this.documentElement=null;for(var e=this.firstChild;null!==e;e=e.nextSibling)e.nodeType===n.DOCUMENT_TYPE_NODE?this.doctype=e:e.nodeType===n.ELEMENT_NODE&&(this.documentElement=e)}},insertBefore:{value:function(e,t){return n.prototype.insertBefore.call(this,e,t),this._updateDocTypeElement(),e}},replaceChild:{value:function(e,t){return n.prototype.replaceChild.call(this,e,t),this._updateDocTypeElement(),t}},removeChild:{value:function(e){return n.prototype.removeChild.call(this,e),this._updateDocTypeElement(),e}},getElementById:{value:function(e){var t=this.byId[e];return t?t instanceof MultiId?t.getFirst():t:null}},_hasMultipleElementsWithId:{value:function(e){return this.byId[e]instanceof MultiId}},getElementsByName:{value:s.prototype.getElementsByName},getElementsByTagName:{value:s.prototype.getElementsByTagName},getElementsByTagNameNS:{value:s.prototype.getElementsByTagNameNS},getElementsByClassName:{value:s.prototype.getElementsByClassName},adoptNode:{value:function(e){return e.nodeType===n.DOCUMENT_NODE&&z.NotSupportedError(),e.nodeType===n.ATTRIBUTE_NODE||(e.parentNode&&e.parentNode.removeChild(e),e.ownerDocument!==this&&recursivelySetOwner(e,this)),e}},importNode:{value:function(e,t){return this.adoptNode(e.cloneNode(t))},writable:j},origin:{get:function(){return null}},characterSet:{get:function(){return"UTF-8"}},contentType:{get:function(){return this._contentType}},URL:{get:function(){return this._address}},domain:{get:z.nyi,set:z.nyi},referrer:{get:z.nyi},cookie:{get:z.nyi,set:z.nyi},lastModified:{get:z.nyi},location:{get:function(){return this.defaultView?this.defaultView.location:null},set:z.nyi},_titleElement:{get:function(){return this.getElementsByTagName("title").item(0)||null}},title:{get:function(){var e=this._titleElement;return(e?e.textContent:"").replace(/[ \t\n\r\f]+/g," ").replace(/(^ )|( $)/g,"")},set:function(e){var t=this._titleElement,n=this.head;(t||n)&&(t||(t=this.createElement("title"),n.appendChild(t)),t.textContent=e)}},dir:mirrorAttr((function(){var e=this.documentElement;if(e&&"HTML"===e.tagName)return e}),"dir",""),fgColor:mirrorAttr((function(){return this.body}),"text",""),linkColor:mirrorAttr((function(){return this.body}),"link",""),vlinkColor:mirrorAttr((function(){return this.body}),"vLink",""),alinkColor:mirrorAttr((function(){return this.body}),"aLink",""),bgColor:mirrorAttr((function(){return this.body}),"bgColor",""),charset:{get:function(){return this.characterSet}},inputEncoding:{get:function(){return this.characterSet}},scrollingElement:{get:function(){return this._quirks?this.body:this.documentElement}},body:{get:function(){return namedHTMLChild(this.documentElement,"body")},set:z.nyi},head:{get:function(){return namedHTMLChild(this.documentElement,"head")}},images:{get:z.nyi},embeds:{get:z.nyi},plugins:{get:z.nyi},links:{get:z.nyi},forms:{get:z.nyi},scripts:{get:z.nyi},applets:{get:function(){return[]}},activeElement:{get:function(){return null}},innerHTML:{get:function(){return this.serialize()},set:z.nyi},outerHTML:{get:function(){return this.serialize()},set:z.nyi},write:{value:function(e){if(this.isHTML||z.InvalidStateError(),this._parser){this._parser;var t=arguments.join("");this._parser.parse(t)}}},writeln:{value:function(e){this.write(Array.prototype.join.call(arguments,"")+"\n")}},open:{value:function(){this.documentElement=null}},close:{value:function(){this.readyState="interactive",this._dispatchEvent(new d("readystatechange"),!0),this._dispatchEvent(new d("DOMContentLoaded"),!0),this.readyState="complete",this._dispatchEvent(new d("readystatechange"),!0),this.defaultView&&this.defaultView._dispatchEvent(new d("load"),!0)}},clone:{value:function(){var e=new Document(this.isHTML,this._address);return e._quirks=this._quirks,e._contentType=this._contentType,e}},cloneNode:{value:function(e){var t=n.prototype.cloneNode.call(this,!1);if(e)for(var l=this.firstChild;null!==l;l=l.nextSibling)t._appendChild(t.importNode(l,!0));return t._updateDocTypeElement(),t}},isEqual:{value:function(e){return!0}},mutateValue:{value:function(e){this.mutationHandler&&this.mutationHandler({type:E.VALUE,target:e,data:e.data})}},mutateAttr:{value:function(e,t){this.mutationHandler&&this.mutationHandler({type:E.ATTR,target:e.ownerElement,attr:e})}},mutateRemoveAttr:{value:function(e){this.mutationHandler&&this.mutationHandler({type:E.REMOVE_ATTR,target:e.ownerElement,attr:e})}},mutateRemove:{value:function(e){this.mutationHandler&&this.mutationHandler({type:E.REMOVE,target:e.parentNode,node:e}),recursivelyUproot(e)}},mutateInsert:{value:function(e){recursivelyRoot(e),this.mutationHandler&&this.mutationHandler({type:E.INSERT,target:e.parentNode,node:e})}},mutateMove:{value:function(e){this.mutationHandler&&this.mutationHandler({type:E.MOVE,target:e})}},addId:{value:function(e,t){var n=this.byId[e];n?(n instanceof MultiId||(n=new MultiId(n),this.byId[e]=n),n.add(t)):this.byId[e]=t}},delId:{value:function(e,t){var n=this.byId[e];z.assert(n),n instanceof MultiId?(n.del(t),1===n.length&&(this.byId[e]=n.downgrade())):this.byId[e]=void 0}},_resolve:{value:function(e){return new S(this._documentBaseURL).resolve(e)}},_documentBaseURL:{get:function(){var e=this._address;"about:blank"===e&&(e="/");var t=this.querySelector("base[href]");return t?new S(e).resolve(t.getAttribute("href")):e}},_templateDoc:{get:function(){if(!this._templateDocCache){var e=new Document(this.isHTML,this._address);this._templateDocCache=e._templateDocCache=e}return this._templateDocCache}},querySelector:{value:function(e){return L(e,this)[0]}},querySelectorAll:{value:function(e){var t=L(e,this);return t.item?t:new l(t)}}});function namedHTMLChild(e,t){if(e&&e.isHTML)for(var l=e.firstChild;null!==l;l=l.nextSibling)if(l.nodeType===n.ELEMENT_NODE&&l.localName===t&&l.namespaceURI===w.HTML)return l;return null}function recursivelyRoot(e){if(function(e){if(e._nid=e.ownerDocument._nextnid++,e.ownerDocument._nodes[e._nid]=e,e.nodeType===n.ELEMENT_NODE){var t=e.getAttribute("id");t&&e.ownerDocument.addId(t,e),e._roothook&&e._roothook()}}(e),e.nodeType===n.ELEMENT_NODE)for(var t=e.firstChild;null!==t;t=t.nextSibling)recursivelyRoot(t)}function recursivelyUproot(e){!function(e){if(e.nodeType===n.ELEMENT_NODE){var t=e.getAttribute("id");t&&e.ownerDocument.delId(t,e)}e.ownerDocument._nodes[e._nid]=void 0,e._nid=void 0}(e);for(var t=e.firstChild;null!==t;t=t.nextSibling)recursivelyUproot(t)}function recursivelySetOwner(e,t){e.ownerDocument=t,e._lastModTime=void 0,Object.prototype.hasOwnProperty.call(e,"_tagName")&&(e._tagName=void 0);for(var n=e.firstChild;null!==n;n=n.nextSibling)recursivelySetOwner(n,t)}function MultiId(e){this.nodes=Object.create(null),this.nodes[e._nid]=e,this.length=1,this.firstNode=void 0}["abort","canplay","canplaythrough","change","click","contextmenu","cuechange","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","input","invalid","keydown","keypress","keyup","loadeddata","loadedmetadata","loadstart","mousedown","mousemove","mouseout","mouseover","mouseup","mousewheel","pause","play","playing","progress","ratechange","readystatechange","reset","seeked","seeking","select","show","stalled","submit","suspend","timeupdate","volumechange","waiting","blur","error","focus","load","scroll"].forEach((function(e){Object.defineProperty(Document.prototype,"on"+e,{get:function(){return this._getEventHandler(e)},set:function(t){this._setEventHandler(e,t)}})})),MultiId.prototype.add=function(e){this.nodes[e._nid]||(this.nodes[e._nid]=e,this.length++,this.firstNode=void 0)},MultiId.prototype.del=function(e){this.nodes[e._nid]&&(delete this.nodes[e._nid],this.length--,this.firstNode=void 0)},MultiId.prototype.getFirst=function(){var e;if(!this.firstNode)for(e in this.nodes)(void 0===this.firstNode||this.firstNode.compareDocumentPosition(this.nodes[e])&n.DOCUMENT_POSITION_PRECEDING)&&(this.firstNode=this.nodes[e]);return this.firstNode},MultiId.prototype.downgrade=function(){var e;if(1===this.length)for(e in this.nodes)return this.nodes[e];return this}}}),hp=__commonJS({"external/npm/node_modules/domino/lib/DocumentType.js"(e,t){t.exports=DocumentType;var n=qm(),l=Tb(),i=Ib();function DocumentType(e,t,i,s){l.call(this),this.nodeType=n.DOCUMENT_TYPE_NODE,this.ownerDocument=e||null,this.name=t,this.publicId=i||"",this.systemId=s||""}DocumentType.prototype=Object.create(l.prototype,{nodeName:{get:function(){return this.name}},nodeValue:{get:function(){return null},set:function(){}},clone:{value:function(){return new DocumentType(this.ownerDocument,this.name,this.publicId,this.systemId)}},isEqual:{value:function(e){return this.name===e.name&&this.publicId===e.publicId&&this.systemId===e.systemId}}}),Object.defineProperties(DocumentType.prototype,i)}}),mp=__commonJS({"external/npm/node_modules/domino/lib/HTMLParser.js"(e,t){t.exports=HTMLParser;var n=dp(),l=hp(),i=qm(),s=_m().NAMESPACE,o=ap(),u=o.elements,d=Function.prototype.apply.bind(Array.prototype.push),h=[],m=/^HTML$|^-\/\/W3O\/\/DTD W3 HTML Strict 3\.0\/\/EN\/\/$|^-\/W3C\/DTD HTML 4\.0 Transitional\/EN$|^\+\/\/Silmaril\/\/dtd html Pro v0r11 19970101\/\/|^-\/\/AdvaSoft Ltd\/\/DTD HTML 3\.0 asWedit \+ extensions\/\/|^-\/\/AS\/\/DTD HTML 3\.0 asWedit \+ extensions\/\/|^-\/\/IETF\/\/DTD HTML 2\.0 Level 1\/\/|^-\/\/IETF\/\/DTD HTML 2\.0 Level 2\/\/|^-\/\/IETF\/\/DTD HTML 2\.0 Strict Level 1\/\/|^-\/\/IETF\/\/DTD HTML 2\.0 Strict Level 2\/\/|^-\/\/IETF\/\/DTD HTML 2\.0 Strict\/\/|^-\/\/IETF\/\/DTD HTML 2\.0\/\/|^-\/\/IETF\/\/DTD HTML 2\.1E\/\/|^-\/\/IETF\/\/DTD HTML 3\.0\/\/|^-\/\/IETF\/\/DTD HTML 3\.2 Final\/\/|^-\/\/IETF\/\/DTD HTML 3\.2\/\/|^-\/\/IETF\/\/DTD HTML 3\/\/|^-\/\/IETF\/\/DTD HTML Level 0\/\/|^-\/\/IETF\/\/DTD HTML Level 1\/\/|^-\/\/IETF\/\/DTD HTML Level 2\/\/|^-\/\/IETF\/\/DTD HTML Level 3\/\/|^-\/\/IETF\/\/DTD HTML Strict Level 0\/\/|^-\/\/IETF\/\/DTD HTML Strict Level 1\/\/|^-\/\/IETF\/\/DTD HTML Strict Level 2\/\/|^-\/\/IETF\/\/DTD HTML Strict Level 3\/\/|^-\/\/IETF\/\/DTD HTML Strict\/\/|^-\/\/IETF\/\/DTD HTML\/\/|^-\/\/Metrius\/\/DTD Metrius Presentational\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 2\.0 HTML Strict\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 2\.0 HTML\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 2\.0 Tables\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 3\.0 HTML Strict\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 3\.0 HTML\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 3\.0 Tables\/\/|^-\/\/Netscape Comm\. Corp\.\/\/DTD HTML\/\/|^-\/\/Netscape Comm\. Corp\.\/\/DTD Strict HTML\/\/|^-\/\/O'Reilly and Associates\/\/DTD HTML 2\.0\/\/|^-\/\/O'Reilly and Associates\/\/DTD HTML Extended 1\.0\/\/|^-\/\/O'Reilly and Associates\/\/DTD HTML Extended Relaxed 1\.0\/\/|^-\/\/SoftQuad Software\/\/DTD HoTMetaL PRO 6\.0::19990601::extensions to HTML 4\.0\/\/|^-\/\/SoftQuad\/\/DTD HoTMetaL PRO 4\.0::19971010::extensions to HTML 4\.0\/\/|^-\/\/Spyglass\/\/DTD HTML 2\.0 Extended\/\/|^-\/\/SQ\/\/DTD HTML 2\.0 HoTMetaL \+ extensions\/\/|^-\/\/Sun Microsystems Corp\.\/\/DTD HotJava HTML\/\/|^-\/\/Sun Microsystems Corp\.\/\/DTD HotJava Strict HTML\/\/|^-\/\/W3C\/\/DTD HTML 3 1995-03-24\/\/|^-\/\/W3C\/\/DTD HTML 3\.2 Draft\/\/|^-\/\/W3C\/\/DTD HTML 3\.2 Final\/\/|^-\/\/W3C\/\/DTD HTML 3\.2\/\/|^-\/\/W3C\/\/DTD HTML 3\.2S Draft\/\/|^-\/\/W3C\/\/DTD HTML 4\.0 Frameset\/\/|^-\/\/W3C\/\/DTD HTML 4\.0 Transitional\/\/|^-\/\/W3C\/\/DTD HTML Experimental 19960712\/\/|^-\/\/W3C\/\/DTD HTML Experimental 970421\/\/|^-\/\/W3C\/\/DTD W3 HTML\/\/|^-\/\/W3O\/\/DTD W3 HTML 3\.0\/\/|^-\/\/WebTechs\/\/DTD Mozilla HTML 2\.0\/\/|^-\/\/WebTechs\/\/DTD Mozilla HTML\/\//i,b=/^-\/\/W3C\/\/DTD HTML 4\.01 Frameset\/\/|^-\/\/W3C\/\/DTD HTML 4\.01 Transitional\/\//i,V=/^-\/\/W3C\/\/DTD XHTML 1\.0 Frameset\/\/|^-\/\/W3C\/\/DTD XHTML 1\.0 Transitional\/\//i,g=Object.create(null);g[s.HTML]={__proto__:null,address:!0,applet:!0,area:!0,article:!0,aside:!0,base:!0,basefont:!0,bgsound:!0,blockquote:!0,body:!0,br:!0,button:!0,caption:!0,center:!0,col:!0,colgroup:!0,dd:!0,details:!0,dir:!0,div:!0,dl:!0,dt:!0,embed:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,frame:!0,frameset:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,head:!0,header:!0,hgroup:!0,hr:!0,html:!0,iframe:!0,img:!0,input:!0,li:!0,link:!0,listing:!0,main:!0,marquee:!0,menu:!0,meta:!0,nav:!0,noembed:!0,noframes:!0,noscript:!0,object:!0,ol:!0,p:!0,param:!0,plaintext:!0,pre:!0,script:!0,section:!0,select:!0,source:!0,style:!0,summary:!0,table:!0,tbody:!0,td:!0,template:!0,textarea:!0,tfoot:!0,th:!0,thead:!0,title:!0,tr:!0,track:!0,ul:!0,wbr:!0,xmp:!0},g[s.SVG]={__proto__:null,foreignObject:!0,desc:!0,title:!0},g[s.MATHML]={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0};var f=Object.create(null);f[s.HTML]={__proto__:null,address:!0,div:!0,p:!0};var S=Object.create(null);S[s.HTML]={__proto__:null,dd:!0,dt:!0};var L=Object.create(null);L[s.HTML]={__proto__:null,table:!0,thead:!0,tbody:!0,tfoot:!0,tr:!0};var v=Object.create(null);v[s.HTML]={__proto__:null,dd:!0,dt:!0,li:!0,menuitem:!0,optgroup:!0,option:!0,p:!0,rb:!0,rp:!0,rt:!0,rtc:!0};var k=Object.create(null);k[s.HTML]={__proto__:null,caption:!0,colgroup:!0,dd:!0,dt:!0,li:!0,optgroup:!0,option:!0,p:!0,rb:!0,rp:!0,rt:!0,rtc:!0,tbody:!0,td:!0,tfoot:!0,th:!0,thead:!0,tr:!0};var C=Object.create(null);C[s.HTML]={__proto__:null,table:!0,template:!0,html:!0};var F=Object.create(null);F[s.HTML]={__proto__:null,tbody:!0,tfoot:!0,thead:!0,template:!0,html:!0};var z=Object.create(null);z[s.HTML]={__proto__:null,tr:!0,template:!0,html:!0};var E=Object.create(null);E[s.HTML]={__proto__:null,button:!0,fieldset:!0,input:!0,keygen:!0,object:!0,output:!0,select:!0,textarea:!0,img:!0};var w=Object.create(null);w[s.HTML]={__proto__:null,applet:!0,caption:!0,html:!0,table:!0,td:!0,th:!0,marquee:!0,object:!0,template:!0},w[s.MATHML]={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0},w[s.SVG]={__proto__:null,foreignObject:!0,desc:!0,title:!0};var j=Object.create(w);j[s.HTML]=Object.create(w[s.HTML]),j[s.HTML].ol=!0,j[s.HTML].ul=!0;var _=Object.create(w);_[s.HTML]=Object.create(w[s.HTML]),_[s.HTML].button=!0;var D=Object.create(null);D[s.HTML]={__proto__:null,html:!0,table:!0,template:!0},Object.create(null)[s.HTML]={__proto__:null,optgroup:!0,option:!0};var $=Object.create(null);$[s.MATHML]={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0};var ee=Object.create(null);ee[s.SVG]={__proto__:null,foreignObject:!0,desc:!0,title:!0};var te={__proto__:null,"xlink:actuate":s.XLINK,"xlink:arcrole":s.XLINK,"xlink:href":s.XLINK,"xlink:role":s.XLINK,"xlink:show":s.XLINK,"xlink:title":s.XLINK,"xlink:type":s.XLINK,"xml:base":s.XML,"xml:lang":s.XML,"xml:space":s.XML,xmlns:s.XMLNS,"xmlns:xlink":s.XMLNS},ne={__proto__:null,attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},le={__proto__:null,altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},ie={__proto__:null,0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},se={__proto__:null,AElig:198,"AElig;":198,AMP:38,"AMP;":38,Aacute:193,"Aacute;":193,"Abreve;":258,Acirc:194,"Acirc;":194,"Acy;":1040,"Afr;":[55349,56580],Agrave:192,"Agrave;":192,"Alpha;":913,"Amacr;":256,"And;":10835,"Aogon;":260,"Aopf;":[55349,56632],"ApplyFunction;":8289,Aring:197,"Aring;":197,"Ascr;":[55349,56476],"Assign;":8788,Atilde:195,"Atilde;":195,Auml:196,"Auml;":196,"Backslash;":8726,"Barv;":10983,"Barwed;":8966,"Bcy;":1041,"Because;":8757,"Bernoullis;":8492,"Beta;":914,"Bfr;":[55349,56581],"Bopf;":[55349,56633],"Breve;":728,"Bscr;":8492,"Bumpeq;":8782,"CHcy;":1063,COPY:169,"COPY;":169,"Cacute;":262,"Cap;":8914,"CapitalDifferentialD;":8517,"Cayleys;":8493,"Ccaron;":268,Ccedil:199,"Ccedil;":199,"Ccirc;":264,"Cconint;":8752,"Cdot;":266,"Cedilla;":184,"CenterDot;":183,"Cfr;":8493,"Chi;":935,"CircleDot;":8857,"CircleMinus;":8854,"CirclePlus;":8853,"CircleTimes;":8855,"ClockwiseContourIntegral;":8754,"CloseCurlyDoubleQuote;":8221,"CloseCurlyQuote;":8217,"Colon;":8759,"Colone;":10868,"Congruent;":8801,"Conint;":8751,"ContourIntegral;":8750,"Copf;":8450,"Coproduct;":8720,"CounterClockwiseContourIntegral;":8755,"Cross;":10799,"Cscr;":[55349,56478],"Cup;":8915,"CupCap;":8781,"DD;":8517,"DDotrahd;":10513,"DJcy;":1026,"DScy;":1029,"DZcy;":1039,"Dagger;":8225,"Darr;":8609,"Dashv;":10980,"Dcaron;":270,"Dcy;":1044,"Del;":8711,"Delta;":916,"Dfr;":[55349,56583],"DiacriticalAcute;":180,"DiacriticalDot;":729,"DiacriticalDoubleAcute;":733,"DiacriticalGrave;":96,"DiacriticalTilde;":732,"Diamond;":8900,"DifferentialD;":8518,"Dopf;":[55349,56635],"Dot;":168,"DotDot;":8412,"DotEqual;":8784,"DoubleContourIntegral;":8751,"DoubleDot;":168,"DoubleDownArrow;":8659,"DoubleLeftArrow;":8656,"DoubleLeftRightArrow;":8660,"DoubleLeftTee;":10980,"DoubleLongLeftArrow;":10232,"DoubleLongLeftRightArrow;":10234,"DoubleLongRightArrow;":10233,"DoubleRightArrow;":8658,"DoubleRightTee;":8872,"DoubleUpArrow;":8657,"DoubleUpDownArrow;":8661,"DoubleVerticalBar;":8741,"DownArrow;":8595,"DownArrowBar;":10515,"DownArrowUpArrow;":8693,"DownBreve;":785,"DownLeftRightVector;":10576,"DownLeftTeeVector;":10590,"DownLeftVector;":8637,"DownLeftVectorBar;":10582,"DownRightTeeVector;":10591,"DownRightVector;":8641,"DownRightVectorBar;":10583,"DownTee;":8868,"DownTeeArrow;":8615,"Downarrow;":8659,"Dscr;":[55349,56479],"Dstrok;":272,"ENG;":330,ETH:208,"ETH;":208,Eacute:201,"Eacute;":201,"Ecaron;":282,Ecirc:202,"Ecirc;":202,"Ecy;":1069,"Edot;":278,"Efr;":[55349,56584],Egrave:200,"Egrave;":200,"Element;":8712,"Emacr;":274,"EmptySmallSquare;":9723,"EmptyVerySmallSquare;":9643,"Eogon;":280,"Eopf;":[55349,56636],"Epsilon;":917,"Equal;":10869,"EqualTilde;":8770,"Equilibrium;":8652,"Escr;":8496,"Esim;":10867,"Eta;":919,Euml:203,"Euml;":203,"Exists;":8707,"ExponentialE;":8519,"Fcy;":1060,"Ffr;":[55349,56585],"FilledSmallSquare;":9724,"FilledVerySmallSquare;":9642,"Fopf;":[55349,56637],"ForAll;":8704,"Fouriertrf;":8497,"Fscr;":8497,"GJcy;":1027,GT:62,"GT;":62,"Gamma;":915,"Gammad;":988,"Gbreve;":286,"Gcedil;":290,"Gcirc;":284,"Gcy;":1043,"Gdot;":288,"Gfr;":[55349,56586],"Gg;":8921,"Gopf;":[55349,56638],"GreaterEqual;":8805,"GreaterEqualLess;":8923,"GreaterFullEqual;":8807,"GreaterGreater;":10914,"GreaterLess;":8823,"GreaterSlantEqual;":10878,"GreaterTilde;":8819,"Gscr;":[55349,56482],"Gt;":8811,"HARDcy;":1066,"Hacek;":711,"Hat;":94,"Hcirc;":292,"Hfr;":8460,"HilbertSpace;":8459,"Hopf;":8461,"HorizontalLine;":9472,"Hscr;":8459,"Hstrok;":294,"HumpDownHump;":8782,"HumpEqual;":8783,"IEcy;":1045,"IJlig;":306,"IOcy;":1025,Iacute:205,"Iacute;":205,Icirc:206,"Icirc;":206,"Icy;":1048,"Idot;":304,"Ifr;":8465,Igrave:204,"Igrave;":204,"Im;":8465,"Imacr;":298,"ImaginaryI;":8520,"Implies;":8658,"Int;":8748,"Integral;":8747,"Intersection;":8898,"InvisibleComma;":8291,"InvisibleTimes;":8290,"Iogon;":302,"Iopf;":[55349,56640],"Iota;":921,"Iscr;":8464,"Itilde;":296,"Iukcy;":1030,Iuml:207,"Iuml;":207,"Jcirc;":308,"Jcy;":1049,"Jfr;":[55349,56589],"Jopf;":[55349,56641],"Jscr;":[55349,56485],"Jsercy;":1032,"Jukcy;":1028,"KHcy;":1061,"KJcy;":1036,"Kappa;":922,"Kcedil;":310,"Kcy;":1050,"Kfr;":[55349,56590],"Kopf;":[55349,56642],"Kscr;":[55349,56486],"LJcy;":1033,LT:60,"LT;":60,"Lacute;":313,"Lambda;":923,"Lang;":10218,"Laplacetrf;":8466,"Larr;":8606,"Lcaron;":317,"Lcedil;":315,"Lcy;":1051,"LeftAngleBracket;":10216,"LeftArrow;":8592,"LeftArrowBar;":8676,"LeftArrowRightArrow;":8646,"LeftCeiling;":8968,"LeftDoubleBracket;":10214,"LeftDownTeeVector;":10593,"LeftDownVector;":8643,"LeftDownVectorBar;":10585,"LeftFloor;":8970,"LeftRightArrow;":8596,"LeftRightVector;":10574,"LeftTee;":8867,"LeftTeeArrow;":8612,"LeftTeeVector;":10586,"LeftTriangle;":8882,"LeftTriangleBar;":10703,"LeftTriangleEqual;":8884,"LeftUpDownVector;":10577,"LeftUpTeeVector;":10592,"LeftUpVector;":8639,"LeftUpVectorBar;":10584,"LeftVector;":8636,"LeftVectorBar;":10578,"Leftarrow;":8656,"Leftrightarrow;":8660,"LessEqualGreater;":8922,"LessFullEqual;":8806,"LessGreater;":8822,"LessLess;":10913,"LessSlantEqual;":10877,"LessTilde;":8818,"Lfr;":[55349,56591],"Ll;":8920,"Lleftarrow;":8666,"Lmidot;":319,"LongLeftArrow;":10229,"LongLeftRightArrow;":10231,"LongRightArrow;":10230,"Longleftarrow;":10232,"Longleftrightarrow;":10234,"Longrightarrow;":10233,"Lopf;":[55349,56643],"LowerLeftArrow;":8601,"LowerRightArrow;":8600,"Lscr;":8466,"Lsh;":8624,"Lstrok;":321,"Lt;":8810,"Map;":10501,"Mcy;":1052,"MediumSpace;":8287,"Mellintrf;":8499,"Mfr;":[55349,56592],"MinusPlus;":8723,"Mopf;":[55349,56644],"Mscr;":8499,"Mu;":924,"NJcy;":1034,"Nacute;":323,"Ncaron;":327,"Ncedil;":325,"Ncy;":1053,"NegativeMediumSpace;":8203,"NegativeThickSpace;":8203,"NegativeThinSpace;":8203,"NegativeVeryThinSpace;":8203,"NestedGreaterGreater;":8811,"NestedLessLess;":8810,"NewLine;":10,"Nfr;":[55349,56593],"NoBreak;":8288,"NonBreakingSpace;":160,"Nopf;":8469,"Not;":10988,"NotCongruent;":8802,"NotCupCap;":8813,"NotDoubleVerticalBar;":8742,"NotElement;":8713,"NotEqual;":8800,"NotEqualTilde;":[8770,824],"NotExists;":8708,"NotGreater;":8815,"NotGreaterEqual;":8817,"NotGreaterFullEqual;":[8807,824],"NotGreaterGreater;":[8811,824],"NotGreaterLess;":8825,"NotGreaterSlantEqual;":[10878,824],"NotGreaterTilde;":8821,"NotHumpDownHump;":[8782,824],"NotHumpEqual;":[8783,824],"NotLeftTriangle;":8938,"NotLeftTriangleBar;":[10703,824],"NotLeftTriangleEqual;":8940,"NotLess;":8814,"NotLessEqual;":8816,"NotLessGreater;":8824,"NotLessLess;":[8810,824],"NotLessSlantEqual;":[10877,824],"NotLessTilde;":8820,"NotNestedGreaterGreater;":[10914,824],"NotNestedLessLess;":[10913,824],"NotPrecedes;":8832,"NotPrecedesEqual;":[10927,824],"NotPrecedesSlantEqual;":8928,"NotReverseElement;":8716,"NotRightTriangle;":8939,"NotRightTriangleBar;":[10704,824],"NotRightTriangleEqual;":8941,"NotSquareSubset;":[8847,824],"NotSquareSubsetEqual;":8930,"NotSquareSuperset;":[8848,824],"NotSquareSupersetEqual;":8931,"NotSubset;":[8834,8402],"NotSubsetEqual;":8840,"NotSucceeds;":8833,"NotSucceedsEqual;":[10928,824],"NotSucceedsSlantEqual;":8929,"NotSucceedsTilde;":[8831,824],"NotSuperset;":[8835,8402],"NotSupersetEqual;":8841,"NotTilde;":8769,"NotTildeEqual;":8772,"NotTildeFullEqual;":8775,"NotTildeTilde;":8777,"NotVerticalBar;":8740,"Nscr;":[55349,56489],Ntilde:209,"Ntilde;":209,"Nu;":925,"OElig;":338,Oacute:211,"Oacute;":211,Ocirc:212,"Ocirc;":212,"Ocy;":1054,"Odblac;":336,"Ofr;":[55349,56594],Ograve:210,"Ograve;":210,"Omacr;":332,"Omega;":937,"Omicron;":927,"Oopf;":[55349,56646],"OpenCurlyDoubleQuote;":8220,"OpenCurlyQuote;":8216,"Or;":10836,"Oscr;":[55349,56490],Oslash:216,"Oslash;":216,Otilde:213,"Otilde;":213,"Otimes;":10807,Ouml:214,"Ouml;":214,"OverBar;":8254,"OverBrace;":9182,"OverBracket;":9140,"OverParenthesis;":9180,"PartialD;":8706,"Pcy;":1055,"Pfr;":[55349,56595],"Phi;":934,"Pi;":928,"PlusMinus;":177,"Poincareplane;":8460,"Popf;":8473,"Pr;":10939,"Precedes;":8826,"PrecedesEqual;":10927,"PrecedesSlantEqual;":8828,"PrecedesTilde;":8830,"Prime;":8243,"Product;":8719,"Proportion;":8759,"Proportional;":8733,"Pscr;":[55349,56491],"Psi;":936,QUOT:34,"QUOT;":34,"Qfr;":[55349,56596],"Qopf;":8474,"Qscr;":[55349,56492],"RBarr;":10512,REG:174,"REG;":174,"Racute;":340,"Rang;":10219,"Rarr;":8608,"Rarrtl;":10518,"Rcaron;":344,"Rcedil;":342,"Rcy;":1056,"Re;":8476,"ReverseElement;":8715,"ReverseEquilibrium;":8651,"ReverseUpEquilibrium;":10607,"Rfr;":8476,"Rho;":929,"RightAngleBracket;":10217,"RightArrow;":8594,"RightArrowBar;":8677,"RightArrowLeftArrow;":8644,"RightCeiling;":8969,"RightDoubleBracket;":10215,"RightDownTeeVector;":10589,"RightDownVector;":8642,"RightDownVectorBar;":10581,"RightFloor;":8971,"RightTee;":8866,"RightTeeArrow;":8614,"RightTeeVector;":10587,"RightTriangle;":8883,"RightTriangleBar;":10704,"RightTriangleEqual;":8885,"RightUpDownVector;":10575,"RightUpTeeVector;":10588,"RightUpVector;":8638,"RightUpVectorBar;":10580,"RightVector;":8640,"RightVectorBar;":10579,"Rightarrow;":8658,"Ropf;":8477,"RoundImplies;":10608,"Rrightarrow;":8667,"Rscr;":8475,"Rsh;":8625,"RuleDelayed;":10740,"SHCHcy;":1065,"SHcy;":1064,"SOFTcy;":1068,"Sacute;":346,"Sc;":10940,"Scaron;":352,"Scedil;":350,"Scirc;":348,"Scy;":1057,"Sfr;":[55349,56598],"ShortDownArrow;":8595,"ShortLeftArrow;":8592,"ShortRightArrow;":8594,"ShortUpArrow;":8593,"Sigma;":931,"SmallCircle;":8728,"Sopf;":[55349,56650],"Sqrt;":8730,"Square;":9633,"SquareIntersection;":8851,"SquareSubset;":8847,"SquareSubsetEqual;":8849,"SquareSuperset;":8848,"SquareSupersetEqual;":8850,"SquareUnion;":8852,"Sscr;":[55349,56494],"Star;":8902,"Sub;":8912,"Subset;":8912,"SubsetEqual;":8838,"Succeeds;":8827,"SucceedsEqual;":10928,"SucceedsSlantEqual;":8829,"SucceedsTilde;":8831,"SuchThat;":8715,"Sum;":8721,"Sup;":8913,"Superset;":8835,"SupersetEqual;":8839,"Supset;":8913,THORN:222,"THORN;":222,"TRADE;":8482,"TSHcy;":1035,"TScy;":1062,"Tab;":9,"Tau;":932,"Tcaron;":356,"Tcedil;":354,"Tcy;":1058,"Tfr;":[55349,56599],"Therefore;":8756,"Theta;":920,"ThickSpace;":[8287,8202],"ThinSpace;":8201,"Tilde;":8764,"TildeEqual;":8771,"TildeFullEqual;":8773,"TildeTilde;":8776,"Topf;":[55349,56651],"TripleDot;":8411,"Tscr;":[55349,56495],"Tstrok;":358,Uacute:218,"Uacute;":218,"Uarr;":8607,"Uarrocir;":10569,"Ubrcy;":1038,"Ubreve;":364,Ucirc:219,"Ucirc;":219,"Ucy;":1059,"Udblac;":368,"Ufr;":[55349,56600],Ugrave:217,"Ugrave;":217,"Umacr;":362,"UnderBar;":95,"UnderBrace;":9183,"UnderBracket;":9141,"UnderParenthesis;":9181,"Union;":8899,"UnionPlus;":8846,"Uogon;":370,"Uopf;":[55349,56652],"UpArrow;":8593,"UpArrowBar;":10514,"UpArrowDownArrow;":8645,"UpDownArrow;":8597,"UpEquilibrium;":10606,"UpTee;":8869,"UpTeeArrow;":8613,"Uparrow;":8657,"Updownarrow;":8661,"UpperLeftArrow;":8598,"UpperRightArrow;":8599,"Upsi;":978,"Upsilon;":933,"Uring;":366,"Uscr;":[55349,56496],"Utilde;":360,Uuml:220,"Uuml;":220,"VDash;":8875,"Vbar;":10987,"Vcy;":1042,"Vdash;":8873,"Vdashl;":10982,"Vee;":8897,"Verbar;":8214,"Vert;":8214,"VerticalBar;":8739,"VerticalLine;":124,"VerticalSeparator;":10072,"VerticalTilde;":8768,"VeryThinSpace;":8202,"Vfr;":[55349,56601],"Vopf;":[55349,56653],"Vscr;":[55349,56497],"Vvdash;":8874,"Wcirc;":372,"Wedge;":8896,"Wfr;":[55349,56602],"Wopf;":[55349,56654],"Wscr;":[55349,56498],"Xfr;":[55349,56603],"Xi;":926,"Xopf;":[55349,56655],"Xscr;":[55349,56499],"YAcy;":1071,"YIcy;":1031,"YUcy;":1070,Yacute:221,"Yacute;":221,"Ycirc;":374,"Ycy;":1067,"Yfr;":[55349,56604],"Yopf;":[55349,56656],"Yscr;":[55349,56500],"Yuml;":376,"ZHcy;":1046,"Zacute;":377,"Zcaron;":381,"Zcy;":1047,"Zdot;":379,"ZeroWidthSpace;":8203,"Zeta;":918,"Zfr;":8488,"Zopf;":8484,"Zscr;":[55349,56501],aacute:225,"aacute;":225,"abreve;":259,"ac;":8766,"acE;":[8766,819],"acd;":8767,acirc:226,"acirc;":226,acute:180,"acute;":180,"acy;":1072,aelig:230,"aelig;":230,"af;":8289,"afr;":[55349,56606],agrave:224,"agrave;":224,"alefsym;":8501,"aleph;":8501,"alpha;":945,"amacr;":257,"amalg;":10815,amp:38,"amp;":38,"and;":8743,"andand;":10837,"andd;":10844,"andslope;":10840,"andv;":10842,"ang;":8736,"ange;":10660,"angle;":8736,"angmsd;":8737,"angmsdaa;":10664,"angmsdab;":10665,"angmsdac;":10666,"angmsdad;":10667,"angmsdae;":10668,"angmsdaf;":10669,"angmsdag;":10670,"angmsdah;":10671,"angrt;":8735,"angrtvb;":8894,"angrtvbd;":10653,"angsph;":8738,"angst;":197,"angzarr;":9084,"aogon;":261,"aopf;":[55349,56658],"ap;":8776,"apE;":10864,"apacir;":10863,"ape;":8778,"apid;":8779,"apos;":39,"approx;":8776,"approxeq;":8778,aring:229,"aring;":229,"ascr;":[55349,56502],"ast;":42,"asymp;":8776,"asympeq;":8781,atilde:227,"atilde;":227,auml:228,"auml;":228,"awconint;":8755,"awint;":10769,"bNot;":10989,"backcong;":8780,"backepsilon;":1014,"backprime;":8245,"backsim;":8765,"backsimeq;":8909,"barvee;":8893,"barwed;":8965,"barwedge;":8965,"bbrk;":9141,"bbrktbrk;":9142,"bcong;":8780,"bcy;":1073,"bdquo;":8222,"becaus;":8757,"because;":8757,"bemptyv;":10672,"bepsi;":1014,"bernou;":8492,"beta;":946,"beth;":8502,"between;":8812,"bfr;":[55349,56607],"bigcap;":8898,"bigcirc;":9711,"bigcup;":8899,"bigodot;":10752,"bigoplus;":10753,"bigotimes;":10754,"bigsqcup;":10758,"bigstar;":9733,"bigtriangledown;":9661,"bigtriangleup;":9651,"biguplus;":10756,"bigvee;":8897,"bigwedge;":8896,"bkarow;":10509,"blacklozenge;":10731,"blacksquare;":9642,"blacktriangle;":9652,"blacktriangledown;":9662,"blacktriangleleft;":9666,"blacktriangleright;":9656,"blank;":9251,"blk12;":9618,"blk14;":9617,"blk34;":9619,"block;":9608,"bne;":[61,8421],"bnequiv;":[8801,8421],"bnot;":8976,"bopf;":[55349,56659],"bot;":8869,"bottom;":8869,"bowtie;":8904,"boxDL;":9559,"boxDR;":9556,"boxDl;":9558,"boxDr;":9555,"boxH;":9552,"boxHD;":9574,"boxHU;":9577,"boxHd;":9572,"boxHu;":9575,"boxUL;":9565,"boxUR;":9562,"boxUl;":9564,"boxUr;":9561,"boxV;":9553,"boxVH;":9580,"boxVL;":9571,"boxVR;":9568,"boxVh;":9579,"boxVl;":9570,"boxVr;":9567,"boxbox;":10697,"boxdL;":9557,"boxdR;":9554,"boxdl;":9488,"boxdr;":9484,"boxh;":9472,"boxhD;":9573,"boxhU;":9576,"boxhd;":9516,"boxhu;":9524,"boxminus;":8863,"boxplus;":8862,"boxtimes;":8864,"boxuL;":9563,"boxuR;":9560,"boxul;":9496,"boxur;":9492,"boxv;":9474,"boxvH;":9578,"boxvL;":9569,"boxvR;":9566,"boxvh;":9532,"boxvl;":9508,"boxvr;":9500,"bprime;":8245,"breve;":728,brvbar:166,"brvbar;":166,"bscr;":[55349,56503],"bsemi;":8271,"bsim;":8765,"bsime;":8909,"bsol;":92,"bsolb;":10693,"bsolhsub;":10184,"bull;":8226,"bullet;":8226,"bump;":8782,"bumpE;":10926,"bumpe;":8783,"bumpeq;":8783,"cacute;":263,"cap;":8745,"capand;":10820,"capbrcup;":10825,"capcap;":10827,"capcup;":10823,"capdot;":10816,"caps;":[8745,65024],"caret;":8257,"caron;":711,"ccaps;":10829,"ccaron;":269,ccedil:231,"ccedil;":231,"ccirc;":265,"ccups;":10828,"ccupssm;":10832,"cdot;":267,cedil:184,"cedil;":184,"cemptyv;":10674,cent:162,"cent;":162,"centerdot;":183,"cfr;":[55349,56608],"chcy;":1095,"check;":10003,"checkmark;":10003,"chi;":967,"cir;":9675,"cirE;":10691,"circ;":710,"circeq;":8791,"circlearrowleft;":8634,"circlearrowright;":8635,"circledR;":174,"circledS;":9416,"circledast;":8859,"circledcirc;":8858,"circleddash;":8861,"cire;":8791,"cirfnint;":10768,"cirmid;":10991,"cirscir;":10690,"clubs;":9827,"clubsuit;":9827,"colon;":58,"colone;":8788,"coloneq;":8788,"comma;":44,"commat;":64,"comp;":8705,"compfn;":8728,"complement;":8705,"complexes;":8450,"cong;":8773,"congdot;":10861,"conint;":8750,"copf;":[55349,56660],"coprod;":8720,copy:169,"copy;":169,"copysr;":8471,"crarr;":8629,"cross;":10007,"cscr;":[55349,56504],"csub;":10959,"csube;":10961,"csup;":10960,"csupe;":10962,"ctdot;":8943,"cudarrl;":10552,"cudarrr;":10549,"cuepr;":8926,"cuesc;":8927,"cularr;":8630,"cularrp;":10557,"cup;":8746,"cupbrcap;":10824,"cupcap;":10822,"cupcup;":10826,"cupdot;":8845,"cupor;":10821,"cups;":[8746,65024],"curarr;":8631,"curarrm;":10556,"curlyeqprec;":8926,"curlyeqsucc;":8927,"curlyvee;":8910,"curlywedge;":8911,curren:164,"curren;":164,"curvearrowleft;":8630,"curvearrowright;":8631,"cuvee;":8910,"cuwed;":8911,"cwconint;":8754,"cwint;":8753,"cylcty;":9005,"dArr;":8659,"dHar;":10597,"dagger;":8224,"daleth;":8504,"darr;":8595,"dash;":8208,"dashv;":8867,"dbkarow;":10511,"dblac;":733,"dcaron;":271,"dcy;":1076,"dd;":8518,"ddagger;":8225,"ddarr;":8650,"ddotseq;":10871,deg:176,"deg;":176,"delta;":948,"demptyv;":10673,"dfisht;":10623,"dfr;":[55349,56609],"dharl;":8643,"dharr;":8642,"diam;":8900,"diamond;":8900,"diamondsuit;":9830,"diams;":9830,"die;":168,"digamma;":989,"disin;":8946,"div;":247,divide:247,"divide;":247,"divideontimes;":8903,"divonx;":8903,"djcy;":1106,"dlcorn;":8990,"dlcrop;":8973,"dollar;":36,"dopf;":[55349,56661],"dot;":729,"doteq;":8784,"doteqdot;":8785,"dotminus;":8760,"dotplus;":8724,"dotsquare;":8865,"doublebarwedge;":8966,"downarrow;":8595,"downdownarrows;":8650,"downharpoonleft;":8643,"downharpoonright;":8642,"drbkarow;":10512,"drcorn;":8991,"drcrop;":8972,"dscr;":[55349,56505],"dscy;":1109,"dsol;":10742,"dstrok;":273,"dtdot;":8945,"dtri;":9663,"dtrif;":9662,"duarr;":8693,"duhar;":10607,"dwangle;":10662,"dzcy;":1119,"dzigrarr;":10239,"eDDot;":10871,"eDot;":8785,eacute:233,"eacute;":233,"easter;":10862,"ecaron;":283,"ecir;":8790,ecirc:234,"ecirc;":234,"ecolon;":8789,"ecy;":1101,"edot;":279,"ee;":8519,"efDot;":8786,"efr;":[55349,56610],"eg;":10906,egrave:232,"egrave;":232,"egs;":10902,"egsdot;":10904,"el;":10905,"elinters;":9191,"ell;":8467,"els;":10901,"elsdot;":10903,"emacr;":275,"empty;":8709,"emptyset;":8709,"emptyv;":8709,"emsp13;":8196,"emsp14;":8197,"emsp;":8195,"eng;":331,"ensp;":8194,"eogon;":281,"eopf;":[55349,56662],"epar;":8917,"eparsl;":10723,"eplus;":10865,"epsi;":949,"epsilon;":949,"epsiv;":1013,"eqcirc;":8790,"eqcolon;":8789,"eqsim;":8770,"eqslantgtr;":10902,"eqslantless;":10901,"equals;":61,"equest;":8799,"equiv;":8801,"equivDD;":10872,"eqvparsl;":10725,"erDot;":8787,"erarr;":10609,"escr;":8495,"esdot;":8784,"esim;":8770,"eta;":951,eth:240,"eth;":240,euml:235,"euml;":235,"euro;":8364,"excl;":33,"exist;":8707,"expectation;":8496,"exponentiale;":8519,"fallingdotseq;":8786,"fcy;":1092,"female;":9792,"ffilig;":64259,"fflig;":64256,"ffllig;":64260,"ffr;":[55349,56611],"filig;":64257,"fjlig;":[102,106],"flat;":9837,"fllig;":64258,"fltns;":9649,"fnof;":402,"fopf;":[55349,56663],"forall;":8704,"fork;":8916,"forkv;":10969,"fpartint;":10765,frac12:189,"frac12;":189,"frac13;":8531,frac14:188,"frac14;":188,"frac15;":8533,"frac16;":8537,"frac18;":8539,"frac23;":8532,"frac25;":8534,frac34:190,"frac34;":190,"frac35;":8535,"frac38;":8540,"frac45;":8536,"frac56;":8538,"frac58;":8541,"frac78;":8542,"frasl;":8260,"frown;":8994,"fscr;":[55349,56507],"gE;":8807,"gEl;":10892,"gacute;":501,"gamma;":947,"gammad;":989,"gap;":10886,"gbreve;":287,"gcirc;":285,"gcy;":1075,"gdot;":289,"ge;":8805,"gel;":8923,"geq;":8805,"geqq;":8807,"geqslant;":10878,"ges;":10878,"gescc;":10921,"gesdot;":10880,"gesdoto;":10882,"gesdotol;":10884,"gesl;":[8923,65024],"gesles;":10900,"gfr;":[55349,56612],"gg;":8811,"ggg;":8921,"gimel;":8503,"gjcy;":1107,"gl;":8823,"glE;":10898,"gla;":10917,"glj;":10916,"gnE;":8809,"gnap;":10890,"gnapprox;":10890,"gne;":10888,"gneq;":10888,"gneqq;":8809,"gnsim;":8935,"gopf;":[55349,56664],"grave;":96,"gscr;":8458,"gsim;":8819,"gsime;":10894,"gsiml;":10896,gt:62,"gt;":62,"gtcc;":10919,"gtcir;":10874,"gtdot;":8919,"gtlPar;":10645,"gtquest;":10876,"gtrapprox;":10886,"gtrarr;":10616,"gtrdot;":8919,"gtreqless;":8923,"gtreqqless;":10892,"gtrless;":8823,"gtrsim;":8819,"gvertneqq;":[8809,65024],"gvnE;":[8809,65024],"hArr;":8660,"hairsp;":8202,"half;":189,"hamilt;":8459,"hardcy;":1098,"harr;":8596,"harrcir;":10568,"harrw;":8621,"hbar;":8463,"hcirc;":293,"hearts;":9829,"heartsuit;":9829,"hellip;":8230,"hercon;":8889,"hfr;":[55349,56613],"hksearow;":10533,"hkswarow;":10534,"hoarr;":8703,"homtht;":8763,"hookleftarrow;":8617,"hookrightarrow;":8618,"hopf;":[55349,56665],"horbar;":8213,"hscr;":[55349,56509],"hslash;":8463,"hstrok;":295,"hybull;":8259,"hyphen;":8208,iacute:237,"iacute;":237,"ic;":8291,icirc:238,"icirc;":238,"icy;":1080,"iecy;":1077,iexcl:161,"iexcl;":161,"iff;":8660,"ifr;":[55349,56614],igrave:236,"igrave;":236,"ii;":8520,"iiiint;":10764,"iiint;":8749,"iinfin;":10716,"iiota;":8489,"ijlig;":307,"imacr;":299,"image;":8465,"imagline;":8464,"imagpart;":8465,"imath;":305,"imof;":8887,"imped;":437,"in;":8712,"incare;":8453,"infin;":8734,"infintie;":10717,"inodot;":305,"int;":8747,"intcal;":8890,"integers;":8484,"intercal;":8890,"intlarhk;":10775,"intprod;":10812,"iocy;":1105,"iogon;":303,"iopf;":[55349,56666],"iota;":953,"iprod;":10812,iquest:191,"iquest;":191,"iscr;":[55349,56510],"isin;":8712,"isinE;":8953,"isindot;":8949,"isins;":8948,"isinsv;":8947,"isinv;":8712,"it;":8290,"itilde;":297,"iukcy;":1110,iuml:239,"iuml;":239,"jcirc;":309,"jcy;":1081,"jfr;":[55349,56615],"jmath;":567,"jopf;":[55349,56667],"jscr;":[55349,56511],"jsercy;":1112,"jukcy;":1108,"kappa;":954,"kappav;":1008,"kcedil;":311,"kcy;":1082,"kfr;":[55349,56616],"kgreen;":312,"khcy;":1093,"kjcy;":1116,"kopf;":[55349,56668],"kscr;":[55349,56512],"lAarr;":8666,"lArr;":8656,"lAtail;":10523,"lBarr;":10510,"lE;":8806,"lEg;":10891,"lHar;":10594,"lacute;":314,"laemptyv;":10676,"lagran;":8466,"lambda;":955,"lang;":10216,"langd;":10641,"langle;":10216,"lap;":10885,laquo:171,"laquo;":171,"larr;":8592,"larrb;":8676,"larrbfs;":10527,"larrfs;":10525,"larrhk;":8617,"larrlp;":8619,"larrpl;":10553,"larrsim;":10611,"larrtl;":8610,"lat;":10923,"latail;":10521,"late;":10925,"lates;":[10925,65024],"lbarr;":10508,"lbbrk;":10098,"lbrace;":123,"lbrack;":91,"lbrke;":10635,"lbrksld;":10639,"lbrkslu;":10637,"lcaron;":318,"lcedil;":316,"lceil;":8968,"lcub;":123,"lcy;":1083,"ldca;":10550,"ldquo;":8220,"ldquor;":8222,"ldrdhar;":10599,"ldrushar;":10571,"ldsh;":8626,"le;":8804,"leftarrow;":8592,"leftarrowtail;":8610,"leftharpoondown;":8637,"leftharpoonup;":8636,"leftleftarrows;":8647,"leftrightarrow;":8596,"leftrightarrows;":8646,"leftrightharpoons;":8651,"leftrightsquigarrow;":8621,"leftthreetimes;":8907,"leg;":8922,"leq;":8804,"leqq;":8806,"leqslant;":10877,"les;":10877,"lescc;":10920,"lesdot;":10879,"lesdoto;":10881,"lesdotor;":10883,"lesg;":[8922,65024],"lesges;":10899,"lessapprox;":10885,"lessdot;":8918,"lesseqgtr;":8922,"lesseqqgtr;":10891,"lessgtr;":8822,"lesssim;":8818,"lfisht;":10620,"lfloor;":8970,"lfr;":[55349,56617],"lg;":8822,"lgE;":10897,"lhard;":8637,"lharu;":8636,"lharul;":10602,"lhblk;":9604,"ljcy;":1113,"ll;":8810,"llarr;":8647,"llcorner;":8990,"llhard;":10603,"lltri;":9722,"lmidot;":320,"lmoust;":9136,"lmoustache;":9136,"lnE;":8808,"lnap;":10889,"lnapprox;":10889,"lne;":10887,"lneq;":10887,"lneqq;":8808,"lnsim;":8934,"loang;":10220,"loarr;":8701,"lobrk;":10214,"longleftarrow;":10229,"longleftrightarrow;":10231,"longmapsto;":10236,"longrightarrow;":10230,"looparrowleft;":8619,"looparrowright;":8620,"lopar;":10629,"lopf;":[55349,56669],"loplus;":10797,"lotimes;":10804,"lowast;":8727,"lowbar;":95,"loz;":9674,"lozenge;":9674,"lozf;":10731,"lpar;":40,"lparlt;":10643,"lrarr;":8646,"lrcorner;":8991,"lrhar;":8651,"lrhard;":10605,"lrm;":8206,"lrtri;":8895,"lsaquo;":8249,"lscr;":[55349,56513],"lsh;":8624,"lsim;":8818,"lsime;":10893,"lsimg;":10895,"lsqb;":91,"lsquo;":8216,"lsquor;":8218,"lstrok;":322,lt:60,"lt;":60,"ltcc;":10918,"ltcir;":10873,"ltdot;":8918,"lthree;":8907,"ltimes;":8905,"ltlarr;":10614,"ltquest;":10875,"ltrPar;":10646,"ltri;":9667,"ltrie;":8884,"ltrif;":9666,"lurdshar;":10570,"luruhar;":10598,"lvertneqq;":[8808,65024],"lvnE;":[8808,65024],"mDDot;":8762,macr:175,"macr;":175,"male;":9794,"malt;":10016,"maltese;":10016,"map;":8614,"mapsto;":8614,"mapstodown;":8615,"mapstoleft;":8612,"mapstoup;":8613,"marker;":9646,"mcomma;":10793,"mcy;":1084,"mdash;":8212,"measuredangle;":8737,"mfr;":[55349,56618],"mho;":8487,micro:181,"micro;":181,"mid;":8739,"midast;":42,"midcir;":10992,middot:183,"middot;":183,"minus;":8722,"minusb;":8863,"minusd;":8760,"minusdu;":10794,"mlcp;":10971,"mldr;":8230,"mnplus;":8723,"models;":8871,"mopf;":[55349,56670],"mp;":8723,"mscr;":[55349,56514],"mstpos;":8766,"mu;":956,"multimap;":8888,"mumap;":8888,"nGg;":[8921,824],"nGt;":[8811,8402],"nGtv;":[8811,824],"nLeftarrow;":8653,"nLeftrightarrow;":8654,"nLl;":[8920,824],"nLt;":[8810,8402],"nLtv;":[8810,824],"nRightarrow;":8655,"nVDash;":8879,"nVdash;":8878,"nabla;":8711,"nacute;":324,"nang;":[8736,8402],"nap;":8777,"napE;":[10864,824],"napid;":[8779,824],"napos;":329,"napprox;":8777,"natur;":9838,"natural;":9838,"naturals;":8469,nbsp:160,"nbsp;":160,"nbump;":[8782,824],"nbumpe;":[8783,824],"ncap;":10819,"ncaron;":328,"ncedil;":326,"ncong;":8775,"ncongdot;":[10861,824],"ncup;":10818,"ncy;":1085,"ndash;":8211,"ne;":8800,"neArr;":8663,"nearhk;":10532,"nearr;":8599,"nearrow;":8599,"nedot;":[8784,824],"nequiv;":8802,"nesear;":10536,"nesim;":[8770,824],"nexist;":8708,"nexists;":8708,"nfr;":[55349,56619],"ngE;":[8807,824],"nge;":8817,"ngeq;":8817,"ngeqq;":[8807,824],"ngeqslant;":[10878,824],"nges;":[10878,824],"ngsim;":8821,"ngt;":8815,"ngtr;":8815,"nhArr;":8654,"nharr;":8622,"nhpar;":10994,"ni;":8715,"nis;":8956,"nisd;":8954,"niv;":8715,"njcy;":1114,"nlArr;":8653,"nlE;":[8806,824],"nlarr;":8602,"nldr;":8229,"nle;":8816,"nleftarrow;":8602,"nleftrightarrow;":8622,"nleq;":8816,"nleqq;":[8806,824],"nleqslant;":[10877,824],"nles;":[10877,824],"nless;":8814,"nlsim;":8820,"nlt;":8814,"nltri;":8938,"nltrie;":8940,"nmid;":8740,"nopf;":[55349,56671],not:172,"not;":172,"notin;":8713,"notinE;":[8953,824],"notindot;":[8949,824],"notinva;":8713,"notinvb;":8951,"notinvc;":8950,"notni;":8716,"notniva;":8716,"notnivb;":8958,"notnivc;":8957,"npar;":8742,"nparallel;":8742,"nparsl;":[11005,8421],"npart;":[8706,824],"npolint;":10772,"npr;":8832,"nprcue;":8928,"npre;":[10927,824],"nprec;":8832,"npreceq;":[10927,824],"nrArr;":8655,"nrarr;":8603,"nrarrc;":[10547,824],"nrarrw;":[8605,824],"nrightarrow;":8603,"nrtri;":8939,"nrtrie;":8941,"nsc;":8833,"nsccue;":8929,"nsce;":[10928,824],"nscr;":[55349,56515],"nshortmid;":8740,"nshortparallel;":8742,"nsim;":8769,"nsime;":8772,"nsimeq;":8772,"nsmid;":8740,"nspar;":8742,"nsqsube;":8930,"nsqsupe;":8931,"nsub;":8836,"nsubE;":[10949,824],"nsube;":8840,"nsubset;":[8834,8402],"nsubseteq;":8840,"nsubseteqq;":[10949,824],"nsucc;":8833,"nsucceq;":[10928,824],"nsup;":8837,"nsupE;":[10950,824],"nsupe;":8841,"nsupset;":[8835,8402],"nsupseteq;":8841,"nsupseteqq;":[10950,824],"ntgl;":8825,ntilde:241,"ntilde;":241,"ntlg;":8824,"ntriangleleft;":8938,"ntrianglelefteq;":8940,"ntriangleright;":8939,"ntrianglerighteq;":8941,"nu;":957,"num;":35,"numero;":8470,"numsp;":8199,"nvDash;":8877,"nvHarr;":10500,"nvap;":[8781,8402],"nvdash;":8876,"nvge;":[8805,8402],"nvgt;":[62,8402],"nvinfin;":10718,"nvlArr;":10498,"nvle;":[8804,8402],"nvlt;":[60,8402],"nvltrie;":[8884,8402],"nvrArr;":10499,"nvrtrie;":[8885,8402],"nvsim;":[8764,8402],"nwArr;":8662,"nwarhk;":10531,"nwarr;":8598,"nwarrow;":8598,"nwnear;":10535,"oS;":9416,oacute:243,"oacute;":243,"oast;":8859,"ocir;":8858,ocirc:244,"ocirc;":244,"ocy;":1086,"odash;":8861,"odblac;":337,"odiv;":10808,"odot;":8857,"odsold;":10684,"oelig;":339,"ofcir;":10687,"ofr;":[55349,56620],"ogon;":731,ograve:242,"ograve;":242,"ogt;":10689,"ohbar;":10677,"ohm;":937,"oint;":8750,"olarr;":8634,"olcir;":10686,"olcross;":10683,"oline;":8254,"olt;":10688,"omacr;":333,"omega;":969,"omicron;":959,"omid;":10678,"ominus;":8854,"oopf;":[55349,56672],"opar;":10679,"operp;":10681,"oplus;":8853,"or;":8744,"orarr;":8635,"ord;":10845,"order;":8500,"orderof;":8500,ordf:170,"ordf;":170,ordm:186,"ordm;":186,"origof;":8886,"oror;":10838,"orslope;":10839,"orv;":10843,"oscr;":8500,oslash:248,"oslash;":248,"osol;":8856,otilde:245,"otilde;":245,"otimes;":8855,"otimesas;":10806,ouml:246,"ouml;":246,"ovbar;":9021,"par;":8741,para:182,"para;":182,"parallel;":8741,"parsim;":10995,"parsl;":11005,"part;":8706,"pcy;":1087,"percnt;":37,"period;":46,"permil;":8240,"perp;":8869,"pertenk;":8241,"pfr;":[55349,56621],"phi;":966,"phiv;":981,"phmmat;":8499,"phone;":9742,"pi;":960,"pitchfork;":8916,"piv;":982,"planck;":8463,"planckh;":8462,"plankv;":8463,"plus;":43,"plusacir;":10787,"plusb;":8862,"pluscir;":10786,"plusdo;":8724,"plusdu;":10789,"pluse;":10866,plusmn:177,"plusmn;":177,"plussim;":10790,"plustwo;":10791,"pm;":177,"pointint;":10773,"popf;":[55349,56673],pound:163,"pound;":163,"pr;":8826,"prE;":10931,"prap;":10935,"prcue;":8828,"pre;":10927,"prec;":8826,"precapprox;":10935,"preccurlyeq;":8828,"preceq;":10927,"precnapprox;":10937,"precneqq;":10933,"precnsim;":8936,"precsim;":8830,"prime;":8242,"primes;":8473,"prnE;":10933,"prnap;":10937,"prnsim;":8936,"prod;":8719,"profalar;":9006,"profline;":8978,"profsurf;":8979,"prop;":8733,"propto;":8733,"prsim;":8830,"prurel;":8880,"pscr;":[55349,56517],"psi;":968,"puncsp;":8200,"qfr;":[55349,56622],"qint;":10764,"qopf;":[55349,56674],"qprime;":8279,"qscr;":[55349,56518],"quaternions;":8461,"quatint;":10774,"quest;":63,"questeq;":8799,quot:34,"quot;":34,"rAarr;":8667,"rArr;":8658,"rAtail;":10524,"rBarr;":10511,"rHar;":10596,"race;":[8765,817],"racute;":341,"radic;":8730,"raemptyv;":10675,"rang;":10217,"rangd;":10642,"range;":10661,"rangle;":10217,raquo:187,"raquo;":187,"rarr;":8594,"rarrap;":10613,"rarrb;":8677,"rarrbfs;":10528,"rarrc;":10547,"rarrfs;":10526,"rarrhk;":8618,"rarrlp;":8620,"rarrpl;":10565,"rarrsim;":10612,"rarrtl;":8611,"rarrw;":8605,"ratail;":10522,"ratio;":8758,"rationals;":8474,"rbarr;":10509,"rbbrk;":10099,"rbrace;":125,"rbrack;":93,"rbrke;":10636,"rbrksld;":10638,"rbrkslu;":10640,"rcaron;":345,"rcedil;":343,"rceil;":8969,"rcub;":125,"rcy;":1088,"rdca;":10551,"rdldhar;":10601,"rdquo;":8221,"rdquor;":8221,"rdsh;":8627,"real;":8476,"realine;":8475,"realpart;":8476,"reals;":8477,"rect;":9645,reg:174,"reg;":174,"rfisht;":10621,"rfloor;":8971,"rfr;":[55349,56623],"rhard;":8641,"rharu;":8640,"rharul;":10604,"rho;":961,"rhov;":1009,"rightarrow;":8594,"rightarrowtail;":8611,"rightharpoondown;":8641,"rightharpoonup;":8640,"rightleftarrows;":8644,"rightleftharpoons;":8652,"rightrightarrows;":8649,"rightsquigarrow;":8605,"rightthreetimes;":8908,"ring;":730,"risingdotseq;":8787,"rlarr;":8644,"rlhar;":8652,"rlm;":8207,"rmoust;":9137,"rmoustache;":9137,"rnmid;":10990,"roang;":10221,"roarr;":8702,"robrk;":10215,"ropar;":10630,"ropf;":[55349,56675],"roplus;":10798,"rotimes;":10805,"rpar;":41,"rpargt;":10644,"rppolint;":10770,"rrarr;":8649,"rsaquo;":8250,"rscr;":[55349,56519],"rsh;":8625,"rsqb;":93,"rsquo;":8217,"rsquor;":8217,"rthree;":8908,"rtimes;":8906,"rtri;":9657,"rtrie;":8885,"rtrif;":9656,"rtriltri;":10702,"ruluhar;":10600,"rx;":8478,"sacute;":347,"sbquo;":8218,"sc;":8827,"scE;":10932,"scap;":10936,"scaron;":353,"sccue;":8829,"sce;":10928,"scedil;":351,"scirc;":349,"scnE;":10934,"scnap;":10938,"scnsim;":8937,"scpolint;":10771,"scsim;":8831,"scy;":1089,"sdot;":8901,"sdotb;":8865,"sdote;":10854,"seArr;":8664,"searhk;":10533,"searr;":8600,"searrow;":8600,sect:167,"sect;":167,"semi;":59,"seswar;":10537,"setminus;":8726,"setmn;":8726,"sext;":10038,"sfr;":[55349,56624],"sfrown;":8994,"sharp;":9839,"shchcy;":1097,"shcy;":1096,"shortmid;":8739,"shortparallel;":8741,shy:173,"shy;":173,"sigma;":963,"sigmaf;":962,"sigmav;":962,"sim;":8764,"simdot;":10858,"sime;":8771,"simeq;":8771,"simg;":10910,"simgE;":10912,"siml;":10909,"simlE;":10911,"simne;":8774,"simplus;":10788,"simrarr;":10610,"slarr;":8592,"smallsetminus;":8726,"smashp;":10803,"smeparsl;":10724,"smid;":8739,"smile;":8995,"smt;":10922,"smte;":10924,"smtes;":[10924,65024],"softcy;":1100,"sol;":47,"solb;":10692,"solbar;":9023,"sopf;":[55349,56676],"spades;":9824,"spadesuit;":9824,"spar;":8741,"sqcap;":8851,"sqcaps;":[8851,65024],"sqcup;":8852,"sqcups;":[8852,65024],"sqsub;":8847,"sqsube;":8849,"sqsubset;":8847,"sqsubseteq;":8849,"sqsup;":8848,"sqsupe;":8850,"sqsupset;":8848,"sqsupseteq;":8850,"squ;":9633,"square;":9633,"squarf;":9642,"squf;":9642,"srarr;":8594,"sscr;":[55349,56520],"ssetmn;":8726,"ssmile;":8995,"sstarf;":8902,"star;":9734,"starf;":9733,"straightepsilon;":1013,"straightphi;":981,"strns;":175,"sub;":8834,"subE;":10949,"subdot;":10941,"sube;":8838,"subedot;":10947,"submult;":10945,"subnE;":10955,"subne;":8842,"subplus;":10943,"subrarr;":10617,"subset;":8834,"subseteq;":8838,"subseteqq;":10949,"subsetneq;":8842,"subsetneqq;":10955,"subsim;":10951,"subsub;":10965,"subsup;":10963,"succ;":8827,"succapprox;":10936,"succcurlyeq;":8829,"succeq;":10928,"succnapprox;":10938,"succneqq;":10934,"succnsim;":8937,"succsim;":8831,"sum;":8721,"sung;":9834,sup1:185,"sup1;":185,sup2:178,"sup2;":178,sup3:179,"sup3;":179,"sup;":8835,"supE;":10950,"supdot;":10942,"supdsub;":10968,"supe;":8839,"supedot;":10948,"suphsol;":10185,"suphsub;":10967,"suplarr;":10619,"supmult;":10946,"supnE;":10956,"supne;":8843,"supplus;":10944,"supset;":8835,"supseteq;":8839,"supseteqq;":10950,"supsetneq;":8843,"supsetneqq;":10956,"supsim;":10952,"supsub;":10964,"supsup;":10966,"swArr;":8665,"swarhk;":10534,"swarr;":8601,"swarrow;":8601,"swnwar;":10538,szlig:223,"szlig;":223,"target;":8982,"tau;":964,"tbrk;":9140,"tcaron;":357,"tcedil;":355,"tcy;":1090,"tdot;":8411,"telrec;":8981,"tfr;":[55349,56625],"there4;":8756,"therefore;":8756,"theta;":952,"thetasym;":977,"thetav;":977,"thickapprox;":8776,"thicksim;":8764,"thinsp;":8201,"thkap;":8776,"thksim;":8764,thorn:254,"thorn;":254,"tilde;":732,times:215,"times;":215,"timesb;":8864,"timesbar;":10801,"timesd;":10800,"tint;":8749,"toea;":10536,"top;":8868,"topbot;":9014,"topcir;":10993,"topf;":[55349,56677],"topfork;":10970,"tosa;":10537,"tprime;":8244,"trade;":8482,"triangle;":9653,"triangledown;":9663,"triangleleft;":9667,"trianglelefteq;":8884,"triangleq;":8796,"triangleright;":9657,"trianglerighteq;":8885,"tridot;":9708,"trie;":8796,"triminus;":10810,"triplus;":10809,"trisb;":10701,"tritime;":10811,"trpezium;":9186,"tscr;":[55349,56521],"tscy;":1094,"tshcy;":1115,"tstrok;":359,"twixt;":8812,"twoheadleftarrow;":8606,"twoheadrightarrow;":8608,"uArr;":8657,"uHar;":10595,uacute:250,"uacute;":250,"uarr;":8593,"ubrcy;":1118,"ubreve;":365,ucirc:251,"ucirc;":251,"ucy;":1091,"udarr;":8645,"udblac;":369,"udhar;":10606,"ufisht;":10622,"ufr;":[55349,56626],ugrave:249,"ugrave;":249,"uharl;":8639,"uharr;":8638,"uhblk;":9600,"ulcorn;":8988,"ulcorner;":8988,"ulcrop;":8975,"ultri;":9720,"umacr;":363,uml:168,"uml;":168,"uogon;":371,"uopf;":[55349,56678],"uparrow;":8593,"updownarrow;":8597,"upharpoonleft;":8639,"upharpoonright;":8638,"uplus;":8846,"upsi;":965,"upsih;":978,"upsilon;":965,"upuparrows;":8648,"urcorn;":8989,"urcorner;":8989,"urcrop;":8974,"uring;":367,"urtri;":9721,"uscr;":[55349,56522],"utdot;":8944,"utilde;":361,"utri;":9653,"utrif;":9652,"uuarr;":8648,uuml:252,"uuml;":252,"uwangle;":10663,"vArr;":8661,"vBar;":10984,"vBarv;":10985,"vDash;":8872,"vangrt;":10652,"varepsilon;":1013,"varkappa;":1008,"varnothing;":8709,"varphi;":981,"varpi;":982,"varpropto;":8733,"varr;":8597,"varrho;":1009,"varsigma;":962,"varsubsetneq;":[8842,65024],"varsubsetneqq;":[10955,65024],"varsupsetneq;":[8843,65024],"varsupsetneqq;":[10956,65024],"vartheta;":977,"vartriangleleft;":8882,"vartriangleright;":8883,"vcy;":1074,"vdash;":8866,"vee;":8744,"veebar;":8891,"veeeq;":8794,"vellip;":8942,"verbar;":124,"vert;":124,"vfr;":[55349,56627],"vltri;":8882,"vnsub;":[8834,8402],"vnsup;":[8835,8402],"vopf;":[55349,56679],"vprop;":8733,"vrtri;":8883,"vscr;":[55349,56523],"vsubnE;":[10955,65024],"vsubne;":[8842,65024],"vsupnE;":[10956,65024],"vsupne;":[8843,65024],"vzigzag;":10650,"wcirc;":373,"wedbar;":10847,"wedge;":8743,"wedgeq;":8793,"weierp;":8472,"wfr;":[55349,56628],"wopf;":[55349,56680],"wp;":8472,"wr;":8768,"wreath;":8768,"wscr;":[55349,56524],"xcap;":8898,"xcirc;":9711,"xcup;":8899,"xdtri;":9661,"xfr;":[55349,56629],"xhArr;":10234,"xharr;":10231,"xi;":958,"xlArr;":10232,"xlarr;":10229,"xmap;":10236,"xnis;":8955,"xodot;":10752,"xopf;":[55349,56681],"xoplus;":10753,"xotime;":10754,"xrArr;":10233,"xrarr;":10230,"xscr;":[55349,56525],"xsqcup;":10758,"xuplus;":10756,"xutri;":9651,"xvee;":8897,"xwedge;":8896,yacute:253,"yacute;":253,"yacy;":1103,"ycirc;":375,"ycy;":1099,yen:165,"yen;":165,"yfr;":[55349,56630],"yicy;":1111,"yopf;":[55349,56682],"yscr;":[55349,56526],"yucy;":1102,yuml:255,"yuml;":255,"zacute;":378,"zcaron;":382,"zcy;":1079,"zdot;":380,"zeetrf;":8488,"zeta;":950,"zfr;":[55349,56631],"zhcy;":1078,"zigrarr;":8669,"zopf;":[55349,56683],"zscr;":[55349,56527],"zwj;":8205,"zwnj;":8204},oe=/(A(?:Elig;?|MP;?|acute;?|breve;|c(?:irc;?|y;)|fr;|grave;?|lpha;|macr;|nd;|o(?:gon;|pf;)|pplyFunction;|ring;?|s(?:cr;|sign;)|tilde;?|uml;?)|B(?:a(?:ckslash;|r(?:v;|wed;))|cy;|e(?:cause;|rnoullis;|ta;)|fr;|opf;|reve;|scr;|umpeq;)|C(?:Hcy;|OPY;?|a(?:cute;|p(?:;|italDifferentialD;)|yleys;)|c(?:aron;|edil;?|irc;|onint;)|dot;|e(?:dilla;|nterDot;)|fr;|hi;|ircle(?:Dot;|Minus;|Plus;|Times;)|lo(?:ckwiseContourIntegral;|seCurly(?:DoubleQuote;|Quote;))|o(?:lon(?:;|e;)|n(?:gruent;|int;|tourIntegral;)|p(?:f;|roduct;)|unterClockwiseContourIntegral;)|ross;|scr;|up(?:;|Cap;))|D(?:D(?:;|otrahd;)|Jcy;|Scy;|Zcy;|a(?:gger;|rr;|shv;)|c(?:aron;|y;)|el(?:;|ta;)|fr;|i(?:a(?:critical(?:Acute;|Do(?:t;|ubleAcute;)|Grave;|Tilde;)|mond;)|fferentialD;)|o(?:pf;|t(?:;|Dot;|Equal;)|uble(?:ContourIntegral;|Do(?:t;|wnArrow;)|L(?:eft(?:Arrow;|RightArrow;|Tee;)|ong(?:Left(?:Arrow;|RightArrow;)|RightArrow;))|Right(?:Arrow;|Tee;)|Up(?:Arrow;|DownArrow;)|VerticalBar;)|wn(?:Arrow(?:;|Bar;|UpArrow;)|Breve;|Left(?:RightVector;|TeeVector;|Vector(?:;|Bar;))|Right(?:TeeVector;|Vector(?:;|Bar;))|Tee(?:;|Arrow;)|arrow;))|s(?:cr;|trok;))|E(?:NG;|TH;?|acute;?|c(?:aron;|irc;?|y;)|dot;|fr;|grave;?|lement;|m(?:acr;|pty(?:SmallSquare;|VerySmallSquare;))|o(?:gon;|pf;)|psilon;|qu(?:al(?:;|Tilde;)|ilibrium;)|s(?:cr;|im;)|ta;|uml;?|x(?:ists;|ponentialE;))|F(?:cy;|fr;|illed(?:SmallSquare;|VerySmallSquare;)|o(?:pf;|rAll;|uriertrf;)|scr;)|G(?:Jcy;|T;?|amma(?:;|d;)|breve;|c(?:edil;|irc;|y;)|dot;|fr;|g;|opf;|reater(?:Equal(?:;|Less;)|FullEqual;|Greater;|Less;|SlantEqual;|Tilde;)|scr;|t;)|H(?:ARDcy;|a(?:cek;|t;)|circ;|fr;|ilbertSpace;|o(?:pf;|rizontalLine;)|s(?:cr;|trok;)|ump(?:DownHump;|Equal;))|I(?:Ecy;|Jlig;|Ocy;|acute;?|c(?:irc;?|y;)|dot;|fr;|grave;?|m(?:;|a(?:cr;|ginaryI;)|plies;)|n(?:t(?:;|e(?:gral;|rsection;))|visible(?:Comma;|Times;))|o(?:gon;|pf;|ta;)|scr;|tilde;|u(?:kcy;|ml;?))|J(?:c(?:irc;|y;)|fr;|opf;|s(?:cr;|ercy;)|ukcy;)|K(?:Hcy;|Jcy;|appa;|c(?:edil;|y;)|fr;|opf;|scr;)|L(?:Jcy;|T;?|a(?:cute;|mbda;|ng;|placetrf;|rr;)|c(?:aron;|edil;|y;)|e(?:ft(?:A(?:ngleBracket;|rrow(?:;|Bar;|RightArrow;))|Ceiling;|Do(?:ubleBracket;|wn(?:TeeVector;|Vector(?:;|Bar;)))|Floor;|Right(?:Arrow;|Vector;)|T(?:ee(?:;|Arrow;|Vector;)|riangle(?:;|Bar;|Equal;))|Up(?:DownVector;|TeeVector;|Vector(?:;|Bar;))|Vector(?:;|Bar;)|arrow;|rightarrow;)|ss(?:EqualGreater;|FullEqual;|Greater;|Less;|SlantEqual;|Tilde;))|fr;|l(?:;|eftarrow;)|midot;|o(?:ng(?:Left(?:Arrow;|RightArrow;)|RightArrow;|left(?:arrow;|rightarrow;)|rightarrow;)|pf;|wer(?:LeftArrow;|RightArrow;))|s(?:cr;|h;|trok;)|t;)|M(?:ap;|cy;|e(?:diumSpace;|llintrf;)|fr;|inusPlus;|opf;|scr;|u;)|N(?:Jcy;|acute;|c(?:aron;|edil;|y;)|e(?:gative(?:MediumSpace;|Thi(?:ckSpace;|nSpace;)|VeryThinSpace;)|sted(?:GreaterGreater;|LessLess;)|wLine;)|fr;|o(?:Break;|nBreakingSpace;|pf;|t(?:;|C(?:ongruent;|upCap;)|DoubleVerticalBar;|E(?:lement;|qual(?:;|Tilde;)|xists;)|Greater(?:;|Equal;|FullEqual;|Greater;|Less;|SlantEqual;|Tilde;)|Hump(?:DownHump;|Equal;)|Le(?:ftTriangle(?:;|Bar;|Equal;)|ss(?:;|Equal;|Greater;|Less;|SlantEqual;|Tilde;))|Nested(?:GreaterGreater;|LessLess;)|Precedes(?:;|Equal;|SlantEqual;)|R(?:everseElement;|ightTriangle(?:;|Bar;|Equal;))|S(?:quareSu(?:bset(?:;|Equal;)|perset(?:;|Equal;))|u(?:bset(?:;|Equal;)|cceeds(?:;|Equal;|SlantEqual;|Tilde;)|perset(?:;|Equal;)))|Tilde(?:;|Equal;|FullEqual;|Tilde;)|VerticalBar;))|scr;|tilde;?|u;)|O(?:Elig;|acute;?|c(?:irc;?|y;)|dblac;|fr;|grave;?|m(?:acr;|ega;|icron;)|opf;|penCurly(?:DoubleQuote;|Quote;)|r;|s(?:cr;|lash;?)|ti(?:lde;?|mes;)|uml;?|ver(?:B(?:ar;|rac(?:e;|ket;))|Parenthesis;))|P(?:artialD;|cy;|fr;|hi;|i;|lusMinus;|o(?:incareplane;|pf;)|r(?:;|ecedes(?:;|Equal;|SlantEqual;|Tilde;)|ime;|o(?:duct;|portion(?:;|al;)))|s(?:cr;|i;))|Q(?:UOT;?|fr;|opf;|scr;)|R(?:Barr;|EG;?|a(?:cute;|ng;|rr(?:;|tl;))|c(?:aron;|edil;|y;)|e(?:;|verse(?:E(?:lement;|quilibrium;)|UpEquilibrium;))|fr;|ho;|ight(?:A(?:ngleBracket;|rrow(?:;|Bar;|LeftArrow;))|Ceiling;|Do(?:ubleBracket;|wn(?:TeeVector;|Vector(?:;|Bar;)))|Floor;|T(?:ee(?:;|Arrow;|Vector;)|riangle(?:;|Bar;|Equal;))|Up(?:DownVector;|TeeVector;|Vector(?:;|Bar;))|Vector(?:;|Bar;)|arrow;)|o(?:pf;|undImplies;)|rightarrow;|s(?:cr;|h;)|uleDelayed;)|S(?:H(?:CHcy;|cy;)|OFTcy;|acute;|c(?:;|aron;|edil;|irc;|y;)|fr;|hort(?:DownArrow;|LeftArrow;|RightArrow;|UpArrow;)|igma;|mallCircle;|opf;|q(?:rt;|uare(?:;|Intersection;|Su(?:bset(?:;|Equal;)|perset(?:;|Equal;))|Union;))|scr;|tar;|u(?:b(?:;|set(?:;|Equal;))|c(?:ceeds(?:;|Equal;|SlantEqual;|Tilde;)|hThat;)|m;|p(?:;|erset(?:;|Equal;)|set;)))|T(?:HORN;?|RADE;|S(?:Hcy;|cy;)|a(?:b;|u;)|c(?:aron;|edil;|y;)|fr;|h(?:e(?:refore;|ta;)|i(?:ckSpace;|nSpace;))|ilde(?:;|Equal;|FullEqual;|Tilde;)|opf;|ripleDot;|s(?:cr;|trok;))|U(?:a(?:cute;?|rr(?:;|ocir;))|br(?:cy;|eve;)|c(?:irc;?|y;)|dblac;|fr;|grave;?|macr;|n(?:der(?:B(?:ar;|rac(?:e;|ket;))|Parenthesis;)|ion(?:;|Plus;))|o(?:gon;|pf;)|p(?:Arrow(?:;|Bar;|DownArrow;)|DownArrow;|Equilibrium;|Tee(?:;|Arrow;)|arrow;|downarrow;|per(?:LeftArrow;|RightArrow;)|si(?:;|lon;))|ring;|scr;|tilde;|uml;?)|V(?:Dash;|bar;|cy;|dash(?:;|l;)|e(?:e;|r(?:bar;|t(?:;|ical(?:Bar;|Line;|Separator;|Tilde;))|yThinSpace;))|fr;|opf;|scr;|vdash;)|W(?:circ;|edge;|fr;|opf;|scr;)|X(?:fr;|i;|opf;|scr;)|Y(?:Acy;|Icy;|Ucy;|acute;?|c(?:irc;|y;)|fr;|opf;|scr;|uml;)|Z(?:Hcy;|acute;|c(?:aron;|y;)|dot;|e(?:roWidthSpace;|ta;)|fr;|opf;|scr;)|a(?:acute;?|breve;|c(?:;|E;|d;|irc;?|ute;?|y;)|elig;?|f(?:;|r;)|grave;?|l(?:e(?:fsym;|ph;)|pha;)|m(?:a(?:cr;|lg;)|p;?)|n(?:d(?:;|and;|d;|slope;|v;)|g(?:;|e;|le;|msd(?:;|a(?:a;|b;|c;|d;|e;|f;|g;|h;))|rt(?:;|vb(?:;|d;))|s(?:ph;|t;)|zarr;))|o(?:gon;|pf;)|p(?:;|E;|acir;|e;|id;|os;|prox(?:;|eq;))|ring;?|s(?:cr;|t;|ymp(?:;|eq;))|tilde;?|uml;?|w(?:conint;|int;))|b(?:Not;|a(?:ck(?:cong;|epsilon;|prime;|sim(?:;|eq;))|r(?:vee;|wed(?:;|ge;)))|brk(?:;|tbrk;)|c(?:ong;|y;)|dquo;|e(?:caus(?:;|e;)|mptyv;|psi;|rnou;|t(?:a;|h;|ween;))|fr;|ig(?:c(?:ap;|irc;|up;)|o(?:dot;|plus;|times;)|s(?:qcup;|tar;)|triangle(?:down;|up;)|uplus;|vee;|wedge;)|karow;|l(?:a(?:ck(?:lozenge;|square;|triangle(?:;|down;|left;|right;))|nk;)|k(?:1(?:2;|4;)|34;)|ock;)|n(?:e(?:;|quiv;)|ot;)|o(?:pf;|t(?:;|tom;)|wtie;|x(?:D(?:L;|R;|l;|r;)|H(?:;|D;|U;|d;|u;)|U(?:L;|R;|l;|r;)|V(?:;|H;|L;|R;|h;|l;|r;)|box;|d(?:L;|R;|l;|r;)|h(?:;|D;|U;|d;|u;)|minus;|plus;|times;|u(?:L;|R;|l;|r;)|v(?:;|H;|L;|R;|h;|l;|r;)))|prime;|r(?:eve;|vbar;?)|s(?:cr;|emi;|im(?:;|e;)|ol(?:;|b;|hsub;))|u(?:ll(?:;|et;)|mp(?:;|E;|e(?:;|q;))))|c(?:a(?:cute;|p(?:;|and;|brcup;|c(?:ap;|up;)|dot;|s;)|r(?:et;|on;))|c(?:a(?:ps;|ron;)|edil;?|irc;|ups(?:;|sm;))|dot;|e(?:dil;?|mptyv;|nt(?:;|erdot;|))|fr;|h(?:cy;|eck(?:;|mark;)|i;)|ir(?:;|E;|c(?:;|eq;|le(?:arrow(?:left;|right;)|d(?:R;|S;|ast;|circ;|dash;)))|e;|fnint;|mid;|scir;)|lubs(?:;|uit;)|o(?:lon(?:;|e(?:;|q;))|m(?:ma(?:;|t;)|p(?:;|fn;|le(?:ment;|xes;)))|n(?:g(?:;|dot;)|int;)|p(?:f;|rod;|y(?:;|sr;|)))|r(?:arr;|oss;)|s(?:cr;|u(?:b(?:;|e;)|p(?:;|e;)))|tdot;|u(?:darr(?:l;|r;)|e(?:pr;|sc;)|larr(?:;|p;)|p(?:;|brcap;|c(?:ap;|up;)|dot;|or;|s;)|r(?:arr(?:;|m;)|ly(?:eq(?:prec;|succ;)|vee;|wedge;)|ren;?|vearrow(?:left;|right;))|vee;|wed;)|w(?:conint;|int;)|ylcty;)|d(?:Arr;|Har;|a(?:gger;|leth;|rr;|sh(?:;|v;))|b(?:karow;|lac;)|c(?:aron;|y;)|d(?:;|a(?:gger;|rr;)|otseq;)|e(?:g;?|lta;|mptyv;)|f(?:isht;|r;)|har(?:l;|r;)|i(?:am(?:;|ond(?:;|suit;)|s;)|e;|gamma;|sin;|v(?:;|ide(?:;|ontimes;|)|onx;))|jcy;|lc(?:orn;|rop;)|o(?:llar;|pf;|t(?:;|eq(?:;|dot;)|minus;|plus;|square;)|ublebarwedge;|wn(?:arrow;|downarrows;|harpoon(?:left;|right;)))|r(?:bkarow;|c(?:orn;|rop;))|s(?:c(?:r;|y;)|ol;|trok;)|t(?:dot;|ri(?:;|f;))|u(?:arr;|har;)|wangle;|z(?:cy;|igrarr;))|e(?:D(?:Dot;|ot;)|a(?:cute;?|ster;)|c(?:aron;|ir(?:;|c;?)|olon;|y;)|dot;|e;|f(?:Dot;|r;)|g(?:;|rave;?|s(?:;|dot;))|l(?:;|inters;|l;|s(?:;|dot;))|m(?:acr;|pty(?:;|set;|v;)|sp(?:1(?:3;|4;)|;))|n(?:g;|sp;)|o(?:gon;|pf;)|p(?:ar(?:;|sl;)|lus;|si(?:;|lon;|v;))|q(?:c(?:irc;|olon;)|s(?:im;|lant(?:gtr;|less;))|u(?:als;|est;|iv(?:;|DD;))|vparsl;)|r(?:Dot;|arr;)|s(?:cr;|dot;|im;)|t(?:a;|h;?)|u(?:ml;?|ro;)|x(?:cl;|ist;|p(?:ectation;|onentiale;)))|f(?:allingdotseq;|cy;|emale;|f(?:ilig;|l(?:ig;|lig;)|r;)|ilig;|jlig;|l(?:at;|lig;|tns;)|nof;|o(?:pf;|r(?:all;|k(?:;|v;)))|partint;|r(?:a(?:c(?:1(?:2;?|3;|4;?|5;|6;|8;)|2(?:3;|5;)|3(?:4;?|5;|8;)|45;|5(?:6;|8;)|78;)|sl;)|own;)|scr;)|g(?:E(?:;|l;)|a(?:cute;|mma(?:;|d;)|p;)|breve;|c(?:irc;|y;)|dot;|e(?:;|l;|q(?:;|q;|slant;)|s(?:;|cc;|dot(?:;|o(?:;|l;))|l(?:;|es;)))|fr;|g(?:;|g;)|imel;|jcy;|l(?:;|E;|a;|j;)|n(?:E;|ap(?:;|prox;)|e(?:;|q(?:;|q;))|sim;)|opf;|rave;|s(?:cr;|im(?:;|e;|l;))|t(?:;|c(?:c;|ir;)|dot;|lPar;|quest;|r(?:a(?:pprox;|rr;)|dot;|eq(?:less;|qless;)|less;|sim;)|)|v(?:ertneqq;|nE;))|h(?:Arr;|a(?:irsp;|lf;|milt;|r(?:dcy;|r(?:;|cir;|w;)))|bar;|circ;|e(?:arts(?:;|uit;)|llip;|rcon;)|fr;|ks(?:earow;|warow;)|o(?:arr;|mtht;|ok(?:leftarrow;|rightarrow;)|pf;|rbar;)|s(?:cr;|lash;|trok;)|y(?:bull;|phen;))|i(?:acute;?|c(?:;|irc;?|y;)|e(?:cy;|xcl;?)|f(?:f;|r;)|grave;?|i(?:;|i(?:int;|nt;)|nfin;|ota;)|jlig;|m(?:a(?:cr;|g(?:e;|line;|part;)|th;)|of;|ped;)|n(?:;|care;|fin(?:;|tie;)|odot;|t(?:;|cal;|e(?:gers;|rcal;)|larhk;|prod;))|o(?:cy;|gon;|pf;|ta;)|prod;|quest;?|s(?:cr;|in(?:;|E;|dot;|s(?:;|v;)|v;))|t(?:;|ilde;)|u(?:kcy;|ml;?))|j(?:c(?:irc;|y;)|fr;|math;|opf;|s(?:cr;|ercy;)|ukcy;)|k(?:appa(?:;|v;)|c(?:edil;|y;)|fr;|green;|hcy;|jcy;|opf;|scr;)|l(?:A(?:arr;|rr;|tail;)|Barr;|E(?:;|g;)|Har;|a(?:cute;|emptyv;|gran;|mbda;|ng(?:;|d;|le;)|p;|quo;?|rr(?:;|b(?:;|fs;)|fs;|hk;|lp;|pl;|sim;|tl;)|t(?:;|ail;|e(?:;|s;)))|b(?:arr;|brk;|r(?:ac(?:e;|k;)|k(?:e;|sl(?:d;|u;))))|c(?:aron;|e(?:dil;|il;)|ub;|y;)|d(?:ca;|quo(?:;|r;)|r(?:dhar;|ushar;)|sh;)|e(?:;|ft(?:arrow(?:;|tail;)|harpoon(?:down;|up;)|leftarrows;|right(?:arrow(?:;|s;)|harpoons;|squigarrow;)|threetimes;)|g;|q(?:;|q;|slant;)|s(?:;|cc;|dot(?:;|o(?:;|r;))|g(?:;|es;)|s(?:approx;|dot;|eq(?:gtr;|qgtr;)|gtr;|sim;)))|f(?:isht;|loor;|r;)|g(?:;|E;)|h(?:ar(?:d;|u(?:;|l;))|blk;)|jcy;|l(?:;|arr;|corner;|hard;|tri;)|m(?:idot;|oust(?:;|ache;))|n(?:E;|ap(?:;|prox;)|e(?:;|q(?:;|q;))|sim;)|o(?:a(?:ng;|rr;)|brk;|ng(?:left(?:arrow;|rightarrow;)|mapsto;|rightarrow;)|oparrow(?:left;|right;)|p(?:ar;|f;|lus;)|times;|w(?:ast;|bar;)|z(?:;|enge;|f;))|par(?:;|lt;)|r(?:arr;|corner;|har(?:;|d;)|m;|tri;)|s(?:aquo;|cr;|h;|im(?:;|e;|g;)|q(?:b;|uo(?:;|r;))|trok;)|t(?:;|c(?:c;|ir;)|dot;|hree;|imes;|larr;|quest;|r(?:Par;|i(?:;|e;|f;))|)|ur(?:dshar;|uhar;)|v(?:ertneqq;|nE;))|m(?:DDot;|a(?:cr;?|l(?:e;|t(?:;|ese;))|p(?:;|sto(?:;|down;|left;|up;))|rker;)|c(?:omma;|y;)|dash;|easuredangle;|fr;|ho;|i(?:cro;?|d(?:;|ast;|cir;|dot;?)|nus(?:;|b;|d(?:;|u;)))|l(?:cp;|dr;)|nplus;|o(?:dels;|pf;)|p;|s(?:cr;|tpos;)|u(?:;|ltimap;|map;))|n(?:G(?:g;|t(?:;|v;))|L(?:eft(?:arrow;|rightarrow;)|l;|t(?:;|v;))|Rightarrow;|V(?:Dash;|dash;)|a(?:bla;|cute;|ng;|p(?:;|E;|id;|os;|prox;)|tur(?:;|al(?:;|s;)))|b(?:sp;?|ump(?:;|e;))|c(?:a(?:p;|ron;)|edil;|ong(?:;|dot;)|up;|y;)|dash;|e(?:;|Arr;|ar(?:hk;|r(?:;|ow;))|dot;|quiv;|s(?:ear;|im;)|xist(?:;|s;))|fr;|g(?:E;|e(?:;|q(?:;|q;|slant;)|s;)|sim;|t(?:;|r;))|h(?:Arr;|arr;|par;)|i(?:;|s(?:;|d;)|v;)|jcy;|l(?:Arr;|E;|arr;|dr;|e(?:;|ft(?:arrow;|rightarrow;)|q(?:;|q;|slant;)|s(?:;|s;))|sim;|t(?:;|ri(?:;|e;)))|mid;|o(?:pf;|t(?:;|in(?:;|E;|dot;|v(?:a;|b;|c;))|ni(?:;|v(?:a;|b;|c;))|))|p(?:ar(?:;|allel;|sl;|t;)|olint;|r(?:;|cue;|e(?:;|c(?:;|eq;))))|r(?:Arr;|arr(?:;|c;|w;)|ightarrow;|tri(?:;|e;))|s(?:c(?:;|cue;|e;|r;)|hort(?:mid;|parallel;)|im(?:;|e(?:;|q;))|mid;|par;|qsu(?:be;|pe;)|u(?:b(?:;|E;|e;|set(?:;|eq(?:;|q;)))|cc(?:;|eq;)|p(?:;|E;|e;|set(?:;|eq(?:;|q;)))))|t(?:gl;|ilde;?|lg;|riangle(?:left(?:;|eq;)|right(?:;|eq;)))|u(?:;|m(?:;|ero;|sp;))|v(?:Dash;|Harr;|ap;|dash;|g(?:e;|t;)|infin;|l(?:Arr;|e;|t(?:;|rie;))|r(?:Arr;|trie;)|sim;)|w(?:Arr;|ar(?:hk;|r(?:;|ow;))|near;))|o(?:S;|a(?:cute;?|st;)|c(?:ir(?:;|c;?)|y;)|d(?:ash;|blac;|iv;|ot;|sold;)|elig;|f(?:cir;|r;)|g(?:on;|rave;?|t;)|h(?:bar;|m;)|int;|l(?:arr;|c(?:ir;|ross;)|ine;|t;)|m(?:acr;|ega;|i(?:cron;|d;|nus;))|opf;|p(?:ar;|erp;|lus;)|r(?:;|arr;|d(?:;|er(?:;|of;)|f;?|m;?)|igof;|or;|slope;|v;)|s(?:cr;|lash;?|ol;)|ti(?:lde;?|mes(?:;|as;))|uml;?|vbar;)|p(?:ar(?:;|a(?:;|llel;|)|s(?:im;|l;)|t;)|cy;|er(?:cnt;|iod;|mil;|p;|tenk;)|fr;|h(?:i(?:;|v;)|mmat;|one;)|i(?:;|tchfork;|v;)|l(?:an(?:ck(?:;|h;)|kv;)|us(?:;|acir;|b;|cir;|d(?:o;|u;)|e;|mn;?|sim;|two;))|m;|o(?:intint;|pf;|und;?)|r(?:;|E;|ap;|cue;|e(?:;|c(?:;|approx;|curlyeq;|eq;|n(?:approx;|eqq;|sim;)|sim;))|ime(?:;|s;)|n(?:E;|ap;|sim;)|o(?:d;|f(?:alar;|line;|surf;)|p(?:;|to;))|sim;|urel;)|s(?:cr;|i;)|uncsp;)|q(?:fr;|int;|opf;|prime;|scr;|u(?:at(?:ernions;|int;)|est(?:;|eq;)|ot;?))|r(?:A(?:arr;|rr;|tail;)|Barr;|Har;|a(?:c(?:e;|ute;)|dic;|emptyv;|ng(?:;|d;|e;|le;)|quo;?|rr(?:;|ap;|b(?:;|fs;)|c;|fs;|hk;|lp;|pl;|sim;|tl;|w;)|t(?:ail;|io(?:;|nals;)))|b(?:arr;|brk;|r(?:ac(?:e;|k;)|k(?:e;|sl(?:d;|u;))))|c(?:aron;|e(?:dil;|il;)|ub;|y;)|d(?:ca;|ldhar;|quo(?:;|r;)|sh;)|e(?:al(?:;|ine;|part;|s;)|ct;|g;?)|f(?:isht;|loor;|r;)|h(?:ar(?:d;|u(?:;|l;))|o(?:;|v;))|i(?:ght(?:arrow(?:;|tail;)|harpoon(?:down;|up;)|left(?:arrows;|harpoons;)|rightarrows;|squigarrow;|threetimes;)|ng;|singdotseq;)|l(?:arr;|har;|m;)|moust(?:;|ache;)|nmid;|o(?:a(?:ng;|rr;)|brk;|p(?:ar;|f;|lus;)|times;)|p(?:ar(?:;|gt;)|polint;)|rarr;|s(?:aquo;|cr;|h;|q(?:b;|uo(?:;|r;)))|t(?:hree;|imes;|ri(?:;|e;|f;|ltri;))|uluhar;|x;)|s(?:acute;|bquo;|c(?:;|E;|a(?:p;|ron;)|cue;|e(?:;|dil;)|irc;|n(?:E;|ap;|sim;)|polint;|sim;|y;)|dot(?:;|b;|e;)|e(?:Arr;|ar(?:hk;|r(?:;|ow;))|ct;?|mi;|swar;|tm(?:inus;|n;)|xt;)|fr(?:;|own;)|h(?:arp;|c(?:hcy;|y;)|ort(?:mid;|parallel;)|y;?)|i(?:gma(?:;|f;|v;)|m(?:;|dot;|e(?:;|q;)|g(?:;|E;)|l(?:;|E;)|ne;|plus;|rarr;))|larr;|m(?:a(?:llsetminus;|shp;)|eparsl;|i(?:d;|le;)|t(?:;|e(?:;|s;)))|o(?:ftcy;|l(?:;|b(?:;|ar;))|pf;)|pa(?:des(?:;|uit;)|r;)|q(?:c(?:ap(?:;|s;)|up(?:;|s;))|su(?:b(?:;|e;|set(?:;|eq;))|p(?:;|e;|set(?:;|eq;)))|u(?:;|ar(?:e;|f;)|f;))|rarr;|s(?:cr;|etmn;|mile;|tarf;)|t(?:ar(?:;|f;)|r(?:aight(?:epsilon;|phi;)|ns;))|u(?:b(?:;|E;|dot;|e(?:;|dot;)|mult;|n(?:E;|e;)|plus;|rarr;|s(?:et(?:;|eq(?:;|q;)|neq(?:;|q;))|im;|u(?:b;|p;)))|cc(?:;|approx;|curlyeq;|eq;|n(?:approx;|eqq;|sim;)|sim;)|m;|ng;|p(?:1;?|2;?|3;?|;|E;|d(?:ot;|sub;)|e(?:;|dot;)|hs(?:ol;|ub;)|larr;|mult;|n(?:E;|e;)|plus;|s(?:et(?:;|eq(?:;|q;)|neq(?:;|q;))|im;|u(?:b;|p;))))|w(?:Arr;|ar(?:hk;|r(?:;|ow;))|nwar;)|zlig;?)|t(?:a(?:rget;|u;)|brk;|c(?:aron;|edil;|y;)|dot;|elrec;|fr;|h(?:e(?:re(?:4;|fore;)|ta(?:;|sym;|v;))|i(?:ck(?:approx;|sim;)|nsp;)|k(?:ap;|sim;)|orn;?)|i(?:lde;|mes(?:;|b(?:;|ar;)|d;|)|nt;)|o(?:ea;|p(?:;|bot;|cir;|f(?:;|ork;))|sa;)|prime;|r(?:ade;|i(?:angle(?:;|down;|left(?:;|eq;)|q;|right(?:;|eq;))|dot;|e;|minus;|plus;|sb;|time;)|pezium;)|s(?:c(?:r;|y;)|hcy;|trok;)|w(?:ixt;|ohead(?:leftarrow;|rightarrow;)))|u(?:Arr;|Har;|a(?:cute;?|rr;)|br(?:cy;|eve;)|c(?:irc;?|y;)|d(?:arr;|blac;|har;)|f(?:isht;|r;)|grave;?|h(?:ar(?:l;|r;)|blk;)|l(?:c(?:orn(?:;|er;)|rop;)|tri;)|m(?:acr;|l;?)|o(?:gon;|pf;)|p(?:arrow;|downarrow;|harpoon(?:left;|right;)|lus;|si(?:;|h;|lon;)|uparrows;)|r(?:c(?:orn(?:;|er;)|rop;)|ing;|tri;)|scr;|t(?:dot;|ilde;|ri(?:;|f;))|u(?:arr;|ml;?)|wangle;)|v(?:Arr;|Bar(?:;|v;)|Dash;|a(?:ngrt;|r(?:epsilon;|kappa;|nothing;|p(?:hi;|i;|ropto;)|r(?:;|ho;)|s(?:igma;|u(?:bsetneq(?:;|q;)|psetneq(?:;|q;)))|t(?:heta;|riangle(?:left;|right;))))|cy;|dash;|e(?:e(?:;|bar;|eq;)|llip;|r(?:bar;|t;))|fr;|ltri;|nsu(?:b;|p;)|opf;|prop;|rtri;|s(?:cr;|u(?:bn(?:E;|e;)|pn(?:E;|e;)))|zigzag;)|w(?:circ;|e(?:d(?:bar;|ge(?:;|q;))|ierp;)|fr;|opf;|p;|r(?:;|eath;)|scr;)|x(?:c(?:ap;|irc;|up;)|dtri;|fr;|h(?:Arr;|arr;)|i;|l(?:Arr;|arr;)|map;|nis;|o(?:dot;|p(?:f;|lus;)|time;)|r(?:Arr;|arr;)|s(?:cr;|qcup;)|u(?:plus;|tri;)|vee;|wedge;)|y(?:ac(?:ute;?|y;)|c(?:irc;|y;)|en;?|fr;|icy;|opf;|scr;|u(?:cy;|ml;?))|z(?:acute;|c(?:aron;|y;)|dot;|e(?:etrf;|ta;)|fr;|hcy;|igrarr;|opf;|scr;|w(?:j;|nj;)))|[\s\S]/g,ce=/[^\r"&\u0000]+/g,ae=/[^\r'&\u0000]+/g,re=/[^\r\t\n\f &>\u0000]+/g,ue=/[^\r\t\n\f \/>A-Z\u0000]+/g,de=/[^\r\t\n\f \/=>A-Z\u0000]+/g,he=/[^\]\r\u0000\uffff]*/g,me=/[^&<\r\u0000\uffff]*/g,pe=/[^<\r\u0000\uffff]*/g,Ze=/[^\r\u0000\uffff]*/g,ye=/(?:(\/)?([a-z]+)>)|[\s\S]/g,Ge=/(?:([-a-z]+)[ \t\n\f]*=[ \t\n\f]*('[^'&\r\u0000]*'|"[^"&\r\u0000]*"|[^\t\n\r\f "&'\u0000>][^&> \t\n\r\f\u0000]*[ \t\n\f]))|[\s\S]/g,Xe=/[^\x09\x0A\x0C\x0D\x20]/,Ve=/[^\x09\x0A\x0C\x0D\x20]/g,We=/[^\x00\x09\x0A\x0C\x0D\x20]/,Re=/^[\x09\x0A\x0C\x0D\x20]+/,ge=/\x00/g;function buf2str(e){var t=16384;if(e.length<t)return String.fromCharCode.apply(String,e);for(var n="",l=0;l<e.length;l+=t)n+=String.fromCharCode.apply(String,e.slice(l,l+t));return n}function isA(e,t){if("string"==typeof t)return e.namespaceURI===s.HTML&&e.localName===t;var n=t[e.namespaceURI];return n&&n[e.localName]}function isMathmlTextIntegrationPoint(e){return isA(e,$)}function isHTMLIntegrationPoint(e){if(isA(e,ee))return!0;if(e.namespaceURI===s.MATHML&&"annotation-xml"===e.localName){var t=e.getAttribute("encoding");if(t&&(t=t.toLowerCase()),"text/html"===t||"application/xhtml+xml"===t)return!0}return!1}function adjustSVGAttributes(e){for(var t=0,n=e.length;t<n;t++)e[t][0]in ne&&(e[t][0]=ne[e[t][0]])}function adjustMathMLAttributes(e){for(var t=0,n=e.length;t<n;t++)if("definitionurl"===e[t][0]){e[t][0]="definitionURL";break}}function adjustForeignAttributes(e){for(var t=0,n=e.length;t<n;t++)e[t][0]in te&&e[t].push(te[e[t][0]])}function transferAttributes(e,t){for(var n=0,l=e.length;n<l;n++){var i=e[n][0],s=e[n][1];t.hasAttribute(i)||t._setAttribute(i,s)}}function HTMLParser(e,t,v){var k,w,j=null,_=0,D=0,$=!1,ee=!1,te=0,ne=[],Ie="",fe=!0,Se=0,Le=data_state,Ye="",Ke="",xe=[],Ne="",Te="",ve=[],ke=[],Ce=[],He=[],Je=[],Fe=!1,parser=function(e,t,n,i){switch(e){case 1:if(0===(t=t.replace(Re,"")).length)return;break;case 4:return void tt._appendChild(tt.createComment(t));case 5:var s=t,o=n,u=i;return tt.appendChild(new l(tt,s,o,u)),Oe||"html"!==s.toLowerCase()||m.test(o)||u&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===u.toLowerCase()||void 0===u&&b.test(o)?tt._quirks=!0:(V.test(o)||void 0!==u&&b.test(o))&&(tt._limitedQuirks=!0),void(parser=before_html_mode)}tt._quirks=!0,(parser=before_html_mode)(e,t,n,i)},ze=null,Ue=[],Ee=new HTMLParser.ElementStack,Me=new HTMLParser.ActiveFormattingElements,we=void 0!==t,Pe=null,je=null,Be=!0;t&&(Be=t.ownerDocument._scripting_enabled),v&&!1===v.scripting_enabled&&(Be=!1);var Qe,_e,De=!0,Oe=!1,Ae=[],qe=!1,$e=!1,et={document:function(){return tt},_asDocumentFragment:function(){for(var e=tt.createDocumentFragment(),t=tt.firstChild;t.hasChildNodes();)e.appendChild(t.firstChild);return e},pause:function(){Se++},resume:function(){Se--,this.parse("")},parse:function(e,t,n){var l;return Se>0?(Ie+=e,!0):(0===te?(Ie&&(e=Ie+e,Ie=""),t&&(e+="",$=!0),j=e,_=e.length,D=0,fe&&(fe=!1,65279===j.charCodeAt(0)&&(D=1)),te++,l=scanChars(n),Ie=j.substring(D,_),te--):(te++,ne.push(j,_,D),j=e,_=e.length,D=0,scanChars(),l=!1,Ie=j.substring(D,_),D=ne.pop(),_=ne.pop(),j=ne.pop(),Ie&&(j=Ie+j.substring(D),_=j.length,D=0,Ie=""),te--),l)}},tt=new n(!0,e);if(tt._parser=et,tt._scripting_enabled=Be,t){if(t.ownerDocument._quirks&&(tt._quirks=!0),t.ownerDocument._limitedQuirks&&(tt._limitedQuirks=!0),t.namespaceURI===s.HTML)switch(t.localName){case"title":case"textarea":Le=rcdata_state;break;case"style":case"xmp":case"iframe":case"noembed":case"noframes":case"script":case"plaintext":Le=plaintext_state}var nt=tt.createElement("html");tt._appendChild(nt),Ee.push(nt),t instanceof u.HTMLTemplateElement&&Ue.push(in_template_mode),resetInsertionMode();for(var lt=t;null!==lt;lt=lt.parentElement)if(lt instanceof u.HTMLFormElement){je=lt;break}}function scanChars(e){for(var t,n,l,i;D<_;){if(Se>0||e&&e())return!0;switch(typeof Le.lookahead){case"undefined":if(t=j.charCodeAt(D++),ee&&(ee=!1,10===t)){D++;continue}switch(t){case 13:D<_?10===j.charCodeAt(D)&&D++:ee=!0,Le(10);break;case 65535:if($&&D===_){Le(-1);break}default:Le(t)}break;case"number":t=j.charCodeAt(D);var s=Le.lookahead,o=!0;if(s<0&&(o=!1,s=-s),s<_-D)n=o?j.substring(D,D+s):null,i=!1;else{if(!$)return!0;n=o?j.substring(D,_):null,i=!0,65535===t&&D===_-1&&(t=-1)}Le(t,n,i);break;case"string":t=j.charCodeAt(D),l=Le.lookahead;var u=j.indexOf(l,D);if(-1!==u)n=j.substring(D,u+l.length),i=!1;else{if(!$)return!0;n=j.substring(D,_),65535===t&&D===_-1&&(t=-1),i=!0}Le(t,n,i)}}return!1}function addAttribute(e,t){for(var n=0;n<Je.length;n++)if(Je[n][0]===e)return;void 0!==t?Je.push([e,t]):Je.push([e])}function beginEndTagName(){Fe=!0,Ye="",Je.length=0}function beginTempBuf(){xe.length=0}function beginAttrName(){Ne=""}function beginAttrValue(){Te=""}function beginComment(){ve.length=0}function beginDoctype(){ke.length=0,Ce=null,He=null}function beginDoctypePublicId(){Ce=[]}function beginDoctypeSystemId(){He=[]}function forcequirks(){Oe=!0}function appropriateEndTag(e){return Ke===e}function flushText(){if(Ae.length>0){var e=buf2str(Ae);if(Ae.length=0,$e&&($e=!1,"\n"===e[0]&&(e=e.substring(1)),0===e.length))return;it(1,e),qe=!1}$e=!1}function getMatchingChars(e){e.lastIndex=D-1;var t=e.exec(j);if(t&&t.index===D-1)return t=t[0],D+=t.length-1,$&&D===_&&(t=t.slice(0,-1),D--),t;throw new Error("should never happen")}function emitCharsWhile(e){e.lastIndex=D-1;var t=e.exec(j)[0];return!!t&&(function(e){Ae.length>0&&flushText();if($e&&($e=!1,"\n"===e[0]&&(e=e.substring(1)),0===e.length))return;it(1,e)}(t),D+=t.length-1,!0)}function emitTag(){if(Fe)it(3,Ye);else{var e=Ye;Ye="",Ke=e,it(2,e,Je)}}function emitDoctype(){it(5,buf2str(ke),Ce?buf2str(Ce):void 0,He?buf2str(He):void 0)}function emitEOF(){flushText(),parser(-1),tt.modclock=1}var it=et.insertToken=function(e,t,n,l){flushText();var i=Ee.top;i&&i.namespaceURI!==s.HTML?2!==e&&1!==e?insertForeignToken(e,t,n,l):isMathmlTextIntegrationPoint(i)&&(1===e||2===e&&"mglyph"!==t&&"malignmark"!==t)||2===e&&"svg"===t&&i.namespaceURI===s.MATHML&&"annotation-xml"===i.localName||isHTMLIntegrationPoint(i)?(_e=!0,parser(e,t,n,l),_e=!1):insertForeignToken(e,t,n,l):parser(e,t,n,l)};function insertComment(e){var t=Ee.top;st&&isA(t,L)?fosterParent((function(t){return t.createComment(e)})):(t instanceof u.HTMLTemplateElement&&(t=t.content),t._appendChild(t.ownerDocument.createComment(e)))}function insertText(e){var t=Ee.top;if(st&&isA(t,L))fosterParent((function(t){return t.createTextNode(e)}));else{t instanceof u.HTMLTemplateElement&&(t=t.content);var n=t.lastChild;n&&n.nodeType===i.TEXT_NODE?n.appendData(e):t._appendChild(t.ownerDocument.createTextNode(e))}}function createHTMLElt(e,t,n){var l=o.createElement(e,t,null);if(n)for(var i=0,s=n.length;i<s;i++)l._setAttribute(n[i][0],n[i][1]);return l}var st=!1;function insertHTMLElement(e,t){var n=insertElement((function(n){return createHTMLElt(n,e,t)}));return isA(n,E)&&(n._form=je),n}function insertElement(e){var t;return st&&isA(Ee.top,L)?t=fosterParent(e):Ee.top instanceof u.HTMLTemplateElement?(t=e(Ee.top.content.ownerDocument),Ee.top.content._appendChild(t)):(t=e(Ee.top.ownerDocument),Ee.top._appendChild(t)),Ee.push(t),t}function insertForeignElement(e,t,n){return insertElement((function(l){var i=l._createElementNS(e,n,null);if(t)for(var s=0,o=t.length;s<o;s++){var u=t[s];2===u.length?i._setAttribute(u[0],u[1]):i._setAttributeNS(u[2],u[0],u[1])}return i}))}function lastElementOfType(e){for(var t=Ee.elements.length-1;t>=0;t--)if(Ee.elements[t]instanceof e)return t;return-1}function fosterParent(e){var t,n,l,s,o,d;if((l=lastElementOfType(u.HTMLTableElement),(s=lastElementOfType(u.HTMLTemplateElement))>=0&&(l<0||s>l)?t=Ee.elements[s]:l>=0&&((t=Ee.elements[l].parentNode)?n=Ee.elements[l]:t=Ee.elements[l-1]),t||(t=Ee.elements[0]),t instanceof u.HTMLTemplateElement&&(t=t.content),(o=e(t.ownerDocument)).nodeType===i.TEXT_NODE)&&((d=n?n.previousSibling:t.lastChild)&&d.nodeType===i.TEXT_NODE))return d.appendData(o.data),o;return n?t.insertBefore(o,n):t._appendChild(o),o}function resetInsertionMode(){for(var e=!1,n=Ee.elements.length-1;n>=0;n--){var l=Ee.elements[n];if(0===n&&(e=!0,we&&(l=t)),l.namespaceURI===s.HTML){var i=l.localName;switch(i){case"select":for(var o=n;o>0;){var d=Ee.elements[--o];if(d instanceof u.HTMLTemplateElement)break;if(d instanceof u.HTMLTableElement)return void(parser=in_select_in_table_mode)}return void(parser=in_select_mode);case"tr":return void(parser=in_row_mode);case"tbody":case"tfoot":case"thead":return void(parser=in_table_body_mode);case"caption":return void(parser=in_caption_mode);case"colgroup":return void(parser=in_column_group_mode);case"table":return void(parser=in_table_mode);case"template":return void(parser=Ue[Ue.length-1]);case"body":return void(parser=in_body_mode);case"frameset":return void(parser=in_frameset_mode);case"html":return void(parser=null===Pe?before_head_mode:after_head_mode);default:if(!e){if("head"===i)return void(parser=in_head_mode);if("td"===i||"th"===i)return void(parser=in_cell_mode)}}}if(e)return void(parser=in_body_mode)}}function parseRawText(e,t){insertHTMLElement(e,t),Le=rawtext_state,ze=parser,parser=text_mode}function afeclone(e,t){return{elt:createHTMLElt(e,Me.list[t].localName,Me.attrs[t]),attrs:Me.attrs[t]}}function afereconstruct(){if(0!==Me.list.length){var e=Me.list[Me.list.length-1];if(e!==Me.MARKER&&-1===Ee.elements.lastIndexOf(e)){for(var t=Me.list.length-2;t>=0&&(e=Me.list[t])!==Me.MARKER&&-1===Ee.elements.lastIndexOf(e);t--);for(t+=1;t<Me.list.length;t++){var n=insertElement((function(e){return afeclone(e,t).elt}));Me.list[t]=n}}}}var ot={localName:"BM"};function stopParsing(){delete tt._parser,Ee.elements.length=0,tt.defaultView&&tt.defaultView.dispatchEvent(new u.Event("load",{}))}function reconsume(e,t){Le=t,D--}function data_state(e){switch(e){case 38:k=data_state,Le=character_reference_state;break;case 60:if(function(){if(D===_)return!1;ye.lastIndex=D;var e=ye.exec(j);if(!e)throw new Error("should never happen");var t=e[2];return!!t&&(e[1]?(D+=t.length+2,it(3,t)):(D+=t.length+1,Ke=t,it(2,t,h)),!0)}())break;Le=tag_open_state;break;case 0:Ae.push(e),qe=!0;break;case-1:emitEOF();break;default:emitCharsWhile(me)||Ae.push(e)}}function rcdata_state(e){switch(e){case 38:k=rcdata_state,Le=character_reference_state;break;case 60:Le=rcdata_less_than_sign_state;break;case 0:Ae.push(65533),qe=!0;break;case-1:emitEOF();break;default:Ae.push(e)}}function rawtext_state(e){switch(e){case 60:Le=rawtext_less_than_sign_state;break;case 0:Ae.push(65533);break;case-1:emitEOF();break;default:emitCharsWhile(pe)||Ae.push(e)}}function script_data_state(e){switch(e){case 60:Le=script_data_less_than_sign_state;break;case 0:Ae.push(65533);break;case-1:emitEOF();break;default:emitCharsWhile(pe)||Ae.push(e)}}function plaintext_state(e){switch(e){case 0:Ae.push(65533);break;case-1:emitEOF();break;default:emitCharsWhile(Ze)||Ae.push(e)}}function tag_open_state(e){switch(e){case 33:Le=markup_declaration_open_state;break;case 47:Le=end_tag_open_state;break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:Fe=!1,Ye="",Je.length=0,reconsume(0,tag_name_state);break;case 63:reconsume(0,bogus_comment_state);break;default:Ae.push(60),reconsume(0,data_state)}}function end_tag_open_state(e){switch(e){case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:beginEndTagName(),reconsume(0,tag_name_state);break;case 62:Le=data_state;break;case-1:Ae.push(60),Ae.push(47),emitEOF();break;default:reconsume(0,bogus_comment_state)}}function tag_name_state(e){switch(e){case 9:case 10:case 12:case 32:Le=before_attribute_name_state;break;case 47:Le=self_closing_start_tag_state;break;case 62:Le=data_state,emitTag();break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:Ye+=String.fromCharCode(e+32);break;case 0:Ye+=String.fromCharCode(65533);break;case-1:emitEOF();break;default:Ye+=getMatchingChars(ue)}}function rcdata_less_than_sign_state(e){47===e?(beginTempBuf(),Le=rcdata_end_tag_open_state):(Ae.push(60),reconsume(0,rcdata_state))}function rcdata_end_tag_open_state(e){switch(e){case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:beginEndTagName(),reconsume(0,rcdata_end_tag_name_state);break;default:Ae.push(60),Ae.push(47),reconsume(0,rcdata_state)}}function rcdata_end_tag_name_state(e){switch(e){case 9:case 10:case 12:case 32:if(appropriateEndTag(Ye))return void(Le=before_attribute_name_state);break;case 47:if(appropriateEndTag(Ye))return void(Le=self_closing_start_tag_state);break;case 62:if(appropriateEndTag(Ye))return Le=data_state,void emitTag();break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:return Ye+=String.fromCharCode(e+32),void xe.push(e);case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Ye+=String.fromCharCode(e),void xe.push(e)}Ae.push(60),Ae.push(47),d(Ae,xe),reconsume(0,rcdata_state)}function rawtext_less_than_sign_state(e){47===e?(beginTempBuf(),Le=rawtext_end_tag_open_state):(Ae.push(60),reconsume(0,rawtext_state))}function rawtext_end_tag_open_state(e){switch(e){case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:beginEndTagName(),reconsume(0,rawtext_end_tag_name_state);break;default:Ae.push(60),Ae.push(47),reconsume(0,rawtext_state)}}function rawtext_end_tag_name_state(e){switch(e){case 9:case 10:case 12:case 32:if(appropriateEndTag(Ye))return void(Le=before_attribute_name_state);break;case 47:if(appropriateEndTag(Ye))return void(Le=self_closing_start_tag_state);break;case 62:if(appropriateEndTag(Ye))return Le=data_state,void emitTag();break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:return Ye+=String.fromCharCode(e+32),void xe.push(e);case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Ye+=String.fromCharCode(e),void xe.push(e)}Ae.push(60),Ae.push(47),d(Ae,xe),reconsume(0,rawtext_state)}function script_data_less_than_sign_state(e){switch(e){case 47:beginTempBuf(),Le=script_data_end_tag_open_state;break;case 33:Le=script_data_escape_start_state,Ae.push(60),Ae.push(33);break;default:Ae.push(60),reconsume(0,script_data_state)}}function script_data_end_tag_open_state(e){switch(e){case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:beginEndTagName(),reconsume(0,script_data_end_tag_name_state);break;default:Ae.push(60),Ae.push(47),reconsume(0,script_data_state)}}function script_data_end_tag_name_state(e){switch(e){case 9:case 10:case 12:case 32:if(appropriateEndTag(Ye))return void(Le=before_attribute_name_state);break;case 47:if(appropriateEndTag(Ye))return void(Le=self_closing_start_tag_state);break;case 62:if(appropriateEndTag(Ye))return Le=data_state,void emitTag();break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:return Ye+=String.fromCharCode(e+32),void xe.push(e);case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Ye+=String.fromCharCode(e),void xe.push(e)}Ae.push(60),Ae.push(47),d(Ae,xe),reconsume(0,script_data_state)}function script_data_escape_start_state(e){45===e?(Le=script_data_escape_start_dash_state,Ae.push(45)):reconsume(0,script_data_state)}function script_data_escape_start_dash_state(e){45===e?(Le=script_data_escaped_dash_dash_state,Ae.push(45)):reconsume(0,script_data_state)}function script_data_escaped_state(e){switch(e){case 45:Le=script_data_escaped_dash_state,Ae.push(45);break;case 60:Le=script_data_escaped_less_than_sign_state;break;case 0:Ae.push(65533);break;case-1:emitEOF();break;default:Ae.push(e)}}function script_data_escaped_dash_state(e){switch(e){case 45:Le=script_data_escaped_dash_dash_state,Ae.push(45);break;case 60:Le=script_data_escaped_less_than_sign_state;break;case 0:Le=script_data_escaped_state,Ae.push(65533);break;case-1:emitEOF();break;default:Le=script_data_escaped_state,Ae.push(e)}}function script_data_escaped_dash_dash_state(e){switch(e){case 45:Ae.push(45);break;case 60:Le=script_data_escaped_less_than_sign_state;break;case 62:Le=script_data_state,Ae.push(62);break;case 0:Le=script_data_escaped_state,Ae.push(65533);break;case-1:emitEOF();break;default:Le=script_data_escaped_state,Ae.push(e)}}function script_data_escaped_less_than_sign_state(e){switch(e){case 47:beginTempBuf(),Le=script_data_escaped_end_tag_open_state;break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:beginTempBuf(),Ae.push(60),reconsume(0,script_data_double_escape_start_state);break;default:Ae.push(60),reconsume(0,script_data_escaped_state)}}function script_data_escaped_end_tag_open_state(e){switch(e){case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:beginEndTagName(),reconsume(0,script_data_escaped_end_tag_name_state);break;default:Ae.push(60),Ae.push(47),reconsume(0,script_data_escaped_state)}}function script_data_escaped_end_tag_name_state(e){switch(e){case 9:case 10:case 12:case 32:if(appropriateEndTag(Ye))return void(Le=before_attribute_name_state);break;case 47:if(appropriateEndTag(Ye))return void(Le=self_closing_start_tag_state);break;case 62:if(appropriateEndTag(Ye))return Le=data_state,void emitTag();break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:return Ye+=String.fromCharCode(e+32),void xe.push(e);case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Ye+=String.fromCharCode(e),void xe.push(e)}Ae.push(60),Ae.push(47),d(Ae,xe),reconsume(0,script_data_escaped_state)}function script_data_double_escape_start_state(e){switch(e){case 9:case 10:case 12:case 32:case 47:case 62:Le="script"===buf2str(xe)?script_data_double_escaped_state:script_data_escaped_state,Ae.push(e);break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:xe.push(e+32),Ae.push(e);break;case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:xe.push(e),Ae.push(e);break;default:reconsume(0,script_data_escaped_state)}}function script_data_double_escaped_state(e){switch(e){case 45:Le=script_data_double_escaped_dash_state,Ae.push(45);break;case 60:Le=script_data_double_escaped_less_than_sign_state,Ae.push(60);break;case 0:Ae.push(65533);break;case-1:emitEOF();break;default:Ae.push(e)}}function script_data_double_escaped_dash_state(e){switch(e){case 45:Le=script_data_double_escaped_dash_dash_state,Ae.push(45);break;case 60:Le=script_data_double_escaped_less_than_sign_state,Ae.push(60);break;case 0:Le=script_data_double_escaped_state,Ae.push(65533);break;case-1:emitEOF();break;default:Le=script_data_double_escaped_state,Ae.push(e)}}function script_data_double_escaped_dash_dash_state(e){switch(e){case 45:Ae.push(45);break;case 60:Le=script_data_double_escaped_less_than_sign_state,Ae.push(60);break;case 62:Le=script_data_state,Ae.push(62);break;case 0:Le=script_data_double_escaped_state,Ae.push(65533);break;case-1:emitEOF();break;default:Le=script_data_double_escaped_state,Ae.push(e)}}function script_data_double_escaped_less_than_sign_state(e){47===e?(beginTempBuf(),Le=script_data_double_escape_end_state,Ae.push(47)):reconsume(0,script_data_double_escaped_state)}function script_data_double_escape_end_state(e){switch(e){case 9:case 10:case 12:case 32:case 47:case 62:Le="script"===buf2str(xe)?script_data_escaped_state:script_data_double_escaped_state,Ae.push(e);break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:xe.push(e+32),Ae.push(e);break;case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:xe.push(e),Ae.push(e);break;default:reconsume(0,script_data_double_escaped_state)}}function before_attribute_name_state(e){switch(e){case 9:case 10:case 12:case 32:break;case 47:Le=self_closing_start_tag_state;break;case 62:Le=data_state,emitTag();break;case-1:emitEOF();break;case 61:beginAttrName(),Ne+=String.fromCharCode(e),Le=attribute_name_state;break;default:if(function(){Ge.lastIndex=D-1;var e=Ge.exec(j);if(!e)throw new Error("should never happen");var t=e[1];if(!t)return!1;var n=e[2],l=n.length;switch(n[0]){case'"':case"'":n=n.substring(1,l-1),D+=e[0].length-1,Le=after_attribute_value_quoted_state;break;default:Le=before_attribute_name_state,D+=e[0].length-1,n=n.substring(0,l-1)}for(var i=0;i<Je.length;i++)if(Je[i][0]===t)return!0;return Je.push([t,n]),!0}())break;beginAttrName(),reconsume(0,attribute_name_state)}}function attribute_name_state(e){switch(e){case 9:case 10:case 12:case 32:case 47:case 62:case-1:reconsume(0,after_attribute_name_state);break;case 61:Le=before_attribute_value_state;break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:Ne+=String.fromCharCode(e+32);break;case 0:Ne+=String.fromCharCode(65533);break;default:Ne+=getMatchingChars(de)}}function after_attribute_name_state(e){switch(e){case 9:case 10:case 12:case 32:break;case 47:addAttribute(Ne),Le=self_closing_start_tag_state;break;case 61:Le=before_attribute_value_state;break;case 62:Le=data_state,addAttribute(Ne),emitTag();break;case-1:addAttribute(Ne),emitEOF();break;default:addAttribute(Ne),beginAttrName(),reconsume(0,attribute_name_state)}}function before_attribute_value_state(e){switch(e){case 9:case 10:case 12:case 32:break;case 34:beginAttrValue(),Le=attribute_value_double_quoted_state;break;case 39:beginAttrValue(),Le=attribute_value_single_quoted_state;break;default:beginAttrValue(),reconsume(0,attribute_value_unquoted_state)}}function attribute_value_double_quoted_state(e){switch(e){case 34:addAttribute(Ne,Te),Le=after_attribute_value_quoted_state;break;case 38:k=attribute_value_double_quoted_state,Le=character_reference_state;break;case 0:Te+=String.fromCharCode(65533);break;case-1:emitEOF();break;case 10:Te+=String.fromCharCode(e);break;default:Te+=getMatchingChars(ce)}}function attribute_value_single_quoted_state(e){switch(e){case 39:addAttribute(Ne,Te),Le=after_attribute_value_quoted_state;break;case 38:k=attribute_value_single_quoted_state,Le=character_reference_state;break;case 0:Te+=String.fromCharCode(65533);break;case-1:emitEOF();break;case 10:Te+=String.fromCharCode(e);break;default:Te+=getMatchingChars(ae)}}function attribute_value_unquoted_state(e){switch(e){case 9:case 10:case 12:case 32:addAttribute(Ne,Te),Le=before_attribute_name_state;break;case 38:k=attribute_value_unquoted_state,Le=character_reference_state;break;case 62:addAttribute(Ne,Te),Le=data_state,emitTag();break;case 0:Te+=String.fromCharCode(65533);break;case-1:D--,Le=data_state;break;default:Te+=getMatchingChars(re)}}function after_attribute_value_quoted_state(e){switch(e){case 9:case 10:case 12:case 32:Le=before_attribute_name_state;break;case 47:Le=self_closing_start_tag_state;break;case 62:Le=data_state,emitTag();break;case-1:emitEOF();break;default:reconsume(0,before_attribute_name_state)}}function self_closing_start_tag_state(e){switch(e){case 62:Le=data_state,Fe?it(3,Ye,null,!0):it(2,Ye,Je,!0);break;case-1:emitEOF();break;default:reconsume(0,before_attribute_name_state)}}function bogus_comment_state(e,t,n){var l=t.length;D+=n?l-1:l;var i=t.substring(0,l-1);i=(i=(i=i.replace(/\u0000/g,"")).replace(/\u000D\u000A/g,"\n")).replace(/\u000D/g,"\n"),it(4,i),Le=data_state}function markup_declaration_open_state(e,t,n){if("-"===t[0]&&"-"===t[1])return D+=2,beginComment(),void(Le=comment_start_state);"DOCTYPE"===t.toUpperCase()?(D+=7,Le=doctype_state):"[CDATA["===t&&Ee.top&&"http://www.w3.org/1999/xhtml"!==Ee.top.namespaceURI?(D+=7,Le=cdata_section_state):Le=bogus_comment_state}function comment_start_state(e){switch(beginComment(),e){case 45:Le=comment_start_dash_state;break;case 62:Le=data_state,it(4,buf2str(ve));break;default:reconsume(0,comment_state)}}function comment_start_dash_state(e){switch(e){case 45:Le=comment_end_state;break;case 62:Le=data_state,it(4,buf2str(ve));break;case-1:it(4,buf2str(ve)),emitEOF();break;default:ve.push(45),reconsume(0,comment_state)}}function comment_state(e){switch(e){case 60:ve.push(e),Le=comment_less_than_sign_state;break;case 45:Le=comment_end_dash_state;break;case 0:ve.push(65533);break;case-1:it(4,buf2str(ve)),emitEOF();break;default:ve.push(e)}}function comment_less_than_sign_state(e){switch(e){case 33:ve.push(e),Le=comment_less_than_sign_bang_state;break;case 60:ve.push(e);break;default:reconsume(0,comment_state)}}function comment_less_than_sign_bang_state(e){if(45===e)Le=comment_less_than_sign_bang_dash_state;else reconsume(0,comment_state)}function comment_less_than_sign_bang_dash_state(e){if(45===e)Le=comment_less_than_sign_bang_dash_dash_state;else reconsume(0,comment_end_dash_state)}function comment_less_than_sign_bang_dash_dash_state(e){reconsume(0,comment_end_state)}function comment_end_dash_state(e){switch(e){case 45:Le=comment_end_state;break;case-1:it(4,buf2str(ve)),emitEOF();break;default:ve.push(45),reconsume(0,comment_state)}}function comment_end_state(e){switch(e){case 62:Le=data_state,it(4,buf2str(ve));break;case 33:Le=comment_end_bang_state;break;case 45:ve.push(45);break;case-1:it(4,buf2str(ve)),emitEOF();break;default:ve.push(45),ve.push(45),reconsume(0,comment_state)}}function comment_end_bang_state(e){switch(e){case 45:ve.push(45),ve.push(45),ve.push(33),Le=comment_end_dash_state;break;case 62:Le=data_state,it(4,buf2str(ve));break;case-1:it(4,buf2str(ve)),emitEOF();break;default:ve.push(45),ve.push(45),ve.push(33),reconsume(0,comment_state)}}function doctype_state(e){switch(e){case 9:case 10:case 12:case 32:Le=before_doctype_name_state;break;case-1:beginDoctype(),forcequirks(),emitDoctype(),emitEOF();break;default:reconsume(0,before_doctype_name_state)}}function before_doctype_name_state(e){switch(e){case 9:case 10:case 12:case 32:break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:beginDoctype(),ke.push(e+32),Le=doctype_name_state;break;case 0:beginDoctype(),ke.push(65533),Le=doctype_name_state;break;case 62:beginDoctype(),forcequirks(),Le=data_state,emitDoctype();break;case-1:beginDoctype(),forcequirks(),emitDoctype(),emitEOF();break;default:beginDoctype(),ke.push(e),Le=doctype_name_state}}function doctype_name_state(e){switch(e){case 9:case 10:case 12:case 32:Le=after_doctype_name_state;break;case 62:Le=data_state,emitDoctype();break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:ke.push(e+32);break;case 0:ke.push(65533);break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:ke.push(e)}}function after_doctype_name_state(e,t,n){switch(e){case 9:case 10:case 12:case 32:D+=1;break;case 62:Le=data_state,D+=1,emitDoctype();break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:"PUBLIC"===(t=t.toUpperCase())?(D+=6,Le=after_doctype_public_keyword_state):"SYSTEM"===t?(D+=6,Le=after_doctype_system_keyword_state):(forcequirks(),Le=bogus_doctype_state)}}function after_doctype_public_keyword_state(e){switch(e){case 9:case 10:case 12:case 32:Le=before_doctype_public_identifier_state;break;case 34:beginDoctypePublicId(),Le=doctype_public_identifier_double_quoted_state;break;case 39:beginDoctypePublicId(),Le=doctype_public_identifier_single_quoted_state;break;case 62:forcequirks(),Le=data_state,emitDoctype();break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:forcequirks(),Le=bogus_doctype_state}}function before_doctype_public_identifier_state(e){switch(e){case 9:case 10:case 12:case 32:break;case 34:beginDoctypePublicId(),Le=doctype_public_identifier_double_quoted_state;break;case 39:beginDoctypePublicId(),Le=doctype_public_identifier_single_quoted_state;break;case 62:forcequirks(),Le=data_state,emitDoctype();break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:forcequirks(),Le=bogus_doctype_state}}function doctype_public_identifier_double_quoted_state(e){switch(e){case 34:Le=after_doctype_public_identifier_state;break;case 0:Ce.push(65533);break;case 62:forcequirks(),Le=data_state,emitDoctype();break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:Ce.push(e)}}function doctype_public_identifier_single_quoted_state(e){switch(e){case 39:Le=after_doctype_public_identifier_state;break;case 0:Ce.push(65533);break;case 62:forcequirks(),Le=data_state,emitDoctype();break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:Ce.push(e)}}function after_doctype_public_identifier_state(e){switch(e){case 9:case 10:case 12:case 32:Le=between_doctype_public_and_system_identifiers_state;break;case 62:Le=data_state,emitDoctype();break;case 34:beginDoctypeSystemId(),Le=doctype_system_identifier_double_quoted_state;break;case 39:beginDoctypeSystemId(),Le=doctype_system_identifier_single_quoted_state;break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:forcequirks(),Le=bogus_doctype_state}}function between_doctype_public_and_system_identifiers_state(e){switch(e){case 9:case 10:case 12:case 32:break;case 62:Le=data_state,emitDoctype();break;case 34:beginDoctypeSystemId(),Le=doctype_system_identifier_double_quoted_state;break;case 39:beginDoctypeSystemId(),Le=doctype_system_identifier_single_quoted_state;break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:forcequirks(),Le=bogus_doctype_state}}function after_doctype_system_keyword_state(e){switch(e){case 9:case 10:case 12:case 32:Le=before_doctype_system_identifier_state;break;case 34:beginDoctypeSystemId(),Le=doctype_system_identifier_double_quoted_state;break;case 39:beginDoctypeSystemId(),Le=doctype_system_identifier_single_quoted_state;break;case 62:forcequirks(),Le=data_state,emitDoctype();break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:forcequirks(),Le=bogus_doctype_state}}function before_doctype_system_identifier_state(e){switch(e){case 9:case 10:case 12:case 32:break;case 34:beginDoctypeSystemId(),Le=doctype_system_identifier_double_quoted_state;break;case 39:beginDoctypeSystemId(),Le=doctype_system_identifier_single_quoted_state;break;case 62:forcequirks(),Le=data_state,emitDoctype();break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:forcequirks(),Le=bogus_doctype_state}}function doctype_system_identifier_double_quoted_state(e){switch(e){case 34:Le=after_doctype_system_identifier_state;break;case 0:He.push(65533);break;case 62:forcequirks(),Le=data_state,emitDoctype();break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:He.push(e)}}function doctype_system_identifier_single_quoted_state(e){switch(e){case 39:Le=after_doctype_system_identifier_state;break;case 0:He.push(65533);break;case 62:forcequirks(),Le=data_state,emitDoctype();break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:He.push(e)}}function after_doctype_system_identifier_state(e){switch(e){case 9:case 10:case 12:case 32:break;case 62:Le=data_state,emitDoctype();break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:Le=bogus_doctype_state}}function bogus_doctype_state(e){switch(e){case 62:Le=data_state,emitDoctype();break;case-1:emitDoctype(),emitEOF()}}function cdata_section_state(e){switch(e){case 93:Le=cdata_section_bracket_state;break;case-1:emitEOF();break;case 0:qe=!0;default:emitCharsWhile(he)||Ae.push(e)}}function cdata_section_bracket_state(e){if(93===e)Le=cdata_section_end_state;else Ae.push(93),reconsume(0,cdata_section_state)}function cdata_section_end_state(e){switch(e){case 93:Ae.push(93);break;case 62:flushText(),Le=data_state;break;default:Ae.push(93),Ae.push(93),reconsume(0,cdata_section_state)}}function character_reference_state(e){switch(beginTempBuf(),xe.push(38),e){case 9:case 10:case 12:case 32:case 60:case 38:case-1:reconsume(0,character_reference_end_state);break;case 35:xe.push(e),Le=numeric_character_reference_state;break;default:reconsume(0,named_character_reference_state)}}function named_character_reference_state(e){oe.lastIndex=D;var t=oe.exec(j);if(!t)throw new Error("should never happen");var n=t[1];if(n){switch(D+=n.length,d(xe,function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(n)),k){case attribute_value_double_quoted_state:case attribute_value_single_quoted_state:case attribute_value_unquoted_state:if(";"!==n[n.length-1]&&/[=A-Za-z0-9]/.test(j[D]))return void(Le=character_reference_end_state)}beginTempBuf();var l=se[n];"number"==typeof l?xe.push(l):d(xe,l),Le=character_reference_end_state}else Le=character_reference_end_state}function numeric_character_reference_state(e){switch(w=0,e){case 120:case 88:xe.push(e),Le=hexadecimal_character_reference_start_state;break;default:reconsume(0,decimal_character_reference_start_state)}}function hexadecimal_character_reference_start_state(e){switch(e){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 66:case 67:case 68:case 69:case 70:case 97:case 98:case 99:case 100:case 101:case 102:reconsume(0,hexadecimal_character_reference_state);break;default:reconsume(0,character_reference_end_state)}}function decimal_character_reference_start_state(e){switch(e){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:reconsume(0,decimal_character_reference_state);break;default:reconsume(0,character_reference_end_state)}}function hexadecimal_character_reference_state(e){switch(e){case 65:case 66:case 67:case 68:case 69:case 70:w*=16,w+=e-55;break;case 97:case 98:case 99:case 100:case 101:case 102:w*=16,w+=e-87;break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:w*=16,w+=e-48;break;case 59:Le=numeric_character_reference_end_state;break;default:reconsume(0,numeric_character_reference_end_state)}}function decimal_character_reference_state(e){switch(e){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:w*=10,w+=e-48;break;case 59:Le=numeric_character_reference_end_state;break;default:reconsume(0,numeric_character_reference_end_state)}}function numeric_character_reference_end_state(e){w in ie?w=ie[w]:(w>1114111||w>=55296&&w<57344)&&(w=65533),beginTempBuf(),w<=65535?xe.push(w):(w-=65536,xe.push(55296+(w>>10)),xe.push(56320+(1023&w))),reconsume(0,character_reference_end_state)}function character_reference_end_state(e){switch(k){case attribute_value_double_quoted_state:case attribute_value_single_quoted_state:case attribute_value_unquoted_state:Te+=buf2str(xe);break;default:d(Ae,xe)}reconsume(0,k)}function before_html_mode(e,t,n,l){var i;switch(e){case 1:if(0===(t=t.replace(Re,"")).length)return;break;case 5:return;case 4:return void tt._appendChild(tt.createComment(t));case 2:if("html"===t)return i=createHTMLElt(tt,t,n),Ee.push(i),tt.appendChild(i),void(parser=before_head_mode);break;case 3:switch(t){case"html":case"head":case"body":case"br":break;default:return}}i=createHTMLElt(tt,"html",null),Ee.push(i),tt.appendChild(i),(parser=before_head_mode)(e,t,n,l)}function before_head_mode(e,t,n,l){switch(e){case 1:if(0===(t=t.replace(Re,"")).length)return;break;case 5:return;case 4:return void insertComment(t);case 2:switch(t){case"html":return void in_body_mode(e,t,n,l);case"head":var i=insertHTMLElement(t,n);return Pe=i,void(parser=in_head_mode)}break;case 3:switch(t){case"html":case"head":case"body":case"br":break;default:return}}before_head_mode(2,"head",null),parser(e,t,n,l)}function in_head_mode(e,t,n,l){switch(e){case 1:var i=t.match(Re);if(i&&(insertText(i[0]),t=t.substring(i[0].length)),0===t.length)return;break;case 4:return void insertComment(t);case 5:return;case 2:switch(t){case"html":return void in_body_mode(e,t,n,l);case"meta":case"base":case"basefont":case"bgsound":case"link":return insertHTMLElement(t,n),void Ee.pop();case"title":return void function(e,t){insertHTMLElement(e,t),Le=rcdata_state,ze=parser,parser=text_mode}(t,n);case"noscript":if(!Be)return insertHTMLElement(t,n),void(parser=in_head_noscript_mode);case"noframes":case"style":return void parseRawText(t,n);case"script":return insertElement((function(e){var l=createHTMLElt(e,t,n);return l._parser_inserted=!0,l._force_async=!1,we&&(l._already_started=!0),flushText(),l})),Le=script_data_state,ze=parser,void(parser=text_mode);case"template":return insertHTMLElement(t,n),Me.insertMarker(),De=!1,parser=in_template_mode,void Ue.push(parser);case"head":return}break;case 3:switch(t){case"head":return Ee.pop(),void(parser=after_head_mode);case"body":case"html":case"br":break;case"template":if(!Ee.contains("template"))return;return Ee.generateImpliedEndTags(null,"thorough"),Ee.popTag("template"),Me.clearToMarker(),Ue.pop(),void resetInsertionMode();default:return}}in_head_mode(3,"head",null),parser(e,t,n,l)}function in_head_noscript_mode(e,t,n,l){switch(e){case 5:return;case 4:return void in_head_mode(e,t);case 1:var i=t.match(Re);if(i&&(in_head_mode(e,i[0]),t=t.substring(i[0].length)),0===t.length)return;break;case 2:switch(t){case"html":return void in_body_mode(e,t,n,l);case"basefont":case"bgsound":case"link":case"meta":case"noframes":case"style":return void in_head_mode(e,t,n);case"head":case"noscript":return}break;case 3:switch(t){case"noscript":return Ee.pop(),void(parser=in_head_mode);case"br":break;default:return}}in_head_noscript_mode(3,"noscript",null),parser(e,t,n,l)}function after_head_mode(e,t,n,l){switch(e){case 1:var i=t.match(Re);if(i&&(insertText(i[0]),t=t.substring(i[0].length)),0===t.length)return;break;case 4:return void insertComment(t);case 5:return;case 2:switch(t){case"html":return void in_body_mode(e,t,n,l);case"body":return insertHTMLElement(t,n),De=!1,void(parser=in_body_mode);case"frameset":return insertHTMLElement(t,n),void(parser=in_frameset_mode);case"base":case"basefont":case"bgsound":case"link":case"meta":case"noframes":case"script":case"style":case"template":case"title":return Ee.push(Pe),in_head_mode(2,t,n),void Ee.removeElement(Pe);case"head":return}break;case 3:switch(t){case"template":return in_head_mode(e,t,n,l);case"body":case"html":case"br":break;default:return}}after_head_mode(2,"body",null),De=!0,parser(e,t,n,l)}function in_body_mode(e,t,n,l){var i,o,d,h;switch(e){case 1:if(qe&&0===(t=t.replace(ge,"")).length)return;return De&&Xe.test(t)&&(De=!1),afereconstruct(),void insertText(t);case 5:return;case 4:return void insertComment(t);case-1:return Ue.length?in_template_mode(e):void stopParsing();case 2:switch(t){case"html":if(Ee.contains("template"))return;return void transferAttributes(n,Ee.elements[0]);case"base":case"basefont":case"bgsound":case"link":case"meta":case"noframes":case"script":case"style":case"template":case"title":return void in_head_mode(2,t,n);case"body":if(!(i=Ee.elements[1])||!(i instanceof u.HTMLBodyElement)||Ee.contains("template"))return;return De=!1,void transferAttributes(n,i);case"frameset":if(!De)return;if(!((i=Ee.elements[1])&&i instanceof u.HTMLBodyElement))return;for(i.parentNode&&i.parentNode.removeChild(i);!(Ee.top instanceof u.HTMLHtmlElement);)Ee.pop();return insertHTMLElement(t,n),void(parser=in_frameset_mode);case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"nav":case"ol":case"p":case"section":case"summary":case"ul":return Ee.inButtonScope("p")&&in_body_mode(3,"p"),void insertHTMLElement(t,n);case"menu":return Ee.inButtonScope("p")&&in_body_mode(3,"p"),isA(Ee.top,"menuitem")&&Ee.pop(),void insertHTMLElement(t,n);case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return Ee.inButtonScope("p")&&in_body_mode(3,"p"),Ee.top instanceof u.HTMLHeadingElement&&Ee.pop(),void insertHTMLElement(t,n);case"pre":case"listing":return Ee.inButtonScope("p")&&in_body_mode(3,"p"),insertHTMLElement(t,n),$e=!0,void(De=!1);case"form":if(je&&!Ee.contains("template"))return;return Ee.inButtonScope("p")&&in_body_mode(3,"p"),h=insertHTMLElement(t,n),void(Ee.contains("template")||(je=h));case"li":for(De=!1,o=Ee.elements.length-1;o>=0;o--){if((d=Ee.elements[o])instanceof u.HTMLLIElement){in_body_mode(3,"li");break}if(isA(d,g)&&!isA(d,f))break}return Ee.inButtonScope("p")&&in_body_mode(3,"p"),void insertHTMLElement(t,n);case"dd":case"dt":for(De=!1,o=Ee.elements.length-1;o>=0;o--){if(isA(d=Ee.elements[o],S)){in_body_mode(3,d.localName);break}if(isA(d,g)&&!isA(d,f))break}return Ee.inButtonScope("p")&&in_body_mode(3,"p"),void insertHTMLElement(t,n);case"plaintext":return Ee.inButtonScope("p")&&in_body_mode(3,"p"),insertHTMLElement(t,n),void(Le=plaintext_state);case"button":return void(Ee.inScope("button")?(in_body_mode(3,"button"),parser(e,t,n,l)):(afereconstruct(),insertHTMLElement(t,n),De=!1));case"a":var m=Me.findElementByTag("a");m&&(in_body_mode(3,t),Me.remove(m),Ee.removeElement(m));case"b":case"big":case"code":case"em":case"font":case"i":case"s":case"small":case"strike":case"strong":case"tt":case"u":return afereconstruct(),void Me.push(insertHTMLElement(t,n),n);case"nobr":return afereconstruct(),Ee.inScope(t)&&(in_body_mode(3,t),afereconstruct()),void Me.push(insertHTMLElement(t,n),n);case"applet":case"marquee":case"object":return afereconstruct(),insertHTMLElement(t,n),Me.insertMarker(),void(De=!1);case"table":return!tt._quirks&&Ee.inButtonScope("p")&&in_body_mode(3,"p"),insertHTMLElement(t,n),De=!1,void(parser=in_table_mode);case"area":case"br":case"embed":case"img":case"keygen":case"wbr":return afereconstruct(),insertHTMLElement(t,n),Ee.pop(),void(De=!1);case"input":afereconstruct(),h=insertHTMLElement(t,n),Ee.pop();var b=h.getAttribute("type");return void(b&&"hidden"===b.toLowerCase()||(De=!1));case"param":case"source":case"track":return insertHTMLElement(t,n),void Ee.pop();case"hr":return Ee.inButtonScope("p")&&in_body_mode(3,"p"),isA(Ee.top,"menuitem")&&Ee.pop(),insertHTMLElement(t,n),Ee.pop(),void(De=!1);case"image":return void in_body_mode(2,"img",n,l);case"textarea":return insertHTMLElement(t,n),$e=!0,De=!1,Le=rcdata_state,ze=parser,void(parser=text_mode);case"xmp":return Ee.inButtonScope("p")&&in_body_mode(3,"p"),afereconstruct(),De=!1,void parseRawText(t,n);case"iframe":return De=!1,void parseRawText(t,n);case"noembed":return void parseRawText(t,n);case"select":return afereconstruct(),insertHTMLElement(t,n),De=!1,void(parser=parser===in_table_mode||parser===in_caption_mode||parser===in_table_body_mode||parser===in_row_mode||parser===in_cell_mode?in_select_in_table_mode:in_select_mode);case"optgroup":case"option":return Ee.top instanceof u.HTMLOptionElement&&in_body_mode(3,"option"),afereconstruct(),void insertHTMLElement(t,n);case"menuitem":return isA(Ee.top,"menuitem")&&Ee.pop(),afereconstruct(),void insertHTMLElement(t,n);case"rb":case"rtc":return Ee.inScope("ruby")&&Ee.generateImpliedEndTags(),void insertHTMLElement(t,n);case"rp":case"rt":return Ee.inScope("ruby")&&Ee.generateImpliedEndTags("rtc"),void insertHTMLElement(t,n);case"math":return afereconstruct(),adjustMathMLAttributes(n),adjustForeignAttributes(n),insertForeignElement(t,n,s.MATHML),void(l&&Ee.pop());case"svg":return afereconstruct(),adjustSVGAttributes(n),adjustForeignAttributes(n),insertForeignElement(t,n,s.SVG),void(l&&Ee.pop());case"caption":case"col":case"colgroup":case"frame":case"head":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return}return afereconstruct(),void insertHTMLElement(t,n);case 3:switch(t){case"template":return void in_head_mode(3,t,n);case"body":if(!Ee.inScope("body"))return;return void(parser=after_body_mode);case"html":if(!Ee.inScope("body"))return;return void(parser=after_body_mode)(e,t,n);case"address":case"article":case"aside":case"blockquote":case"button":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"listing":case"main":case"menu":case"nav":case"ol":case"pre":case"section":case"summary":case"ul":if(!Ee.inScope(t))return;return Ee.generateImpliedEndTags(),void Ee.popTag(t);case"form":if(Ee.contains("template")){if(!Ee.inScope("form"))return;Ee.generateImpliedEndTags(),Ee.popTag("form")}else{var V=je;if(je=null,!V||!Ee.elementInScope(V))return;Ee.generateImpliedEndTags(),Ee.removeElement(V)}return;case"p":return void(Ee.inButtonScope(t)?(Ee.generateImpliedEndTags(t),Ee.popTag(t)):(in_body_mode(2,t,null),parser(e,t,n,l)));case"li":if(!Ee.inListItemScope(t))return;return Ee.generateImpliedEndTags(t),void Ee.popTag(t);case"dd":case"dt":if(!Ee.inScope(t))return;return Ee.generateImpliedEndTags(t),void Ee.popTag(t);case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":if(!Ee.elementTypeInScope(u.HTMLHeadingElement))return;return Ee.generateImpliedEndTags(),void Ee.popElementType(u.HTMLHeadingElement);case"sarcasm":break;case"a":case"b":case"big":case"code":case"em":case"font":case"i":case"nobr":case"s":case"small":case"strike":case"strong":case"tt":case"u":var v=function(e){if(isA(Ee.top,e)&&-1===Me.indexOf(Ee.top))return Ee.pop(),!0;for(var t=0;t<8;){t++;var n=Me.findElementByTag(e);if(!n)return!1;var l=Ee.elements.lastIndexOf(n);if(-1===l)return Me.remove(n),!0;if(!Ee.elementInScope(n))return!0;for(var i,s=null,o=l+1;o<Ee.elements.length;o++)if(isA(Ee.elements[o],g)){s=Ee.elements[o],i=o;break}if(!s)return Ee.popElement(n),Me.remove(n),!0;var d=Ee.elements[l-1];Me.insertAfter(n,ot);for(var h,m=s,b=s,V=i,f=0;f++,(m=Ee.elements[--V])!==n;)if(h=Me.indexOf(m),f>3&&-1!==h&&(Me.remove(m),h=-1),-1!==h){var S=afeclone(d.ownerDocument,h);Me.replace(m,S.elt,S.attrs),Ee.elements[V]=S.elt,m=S.elt,b===s&&(Me.remove(ot),Me.insertAfter(S.elt,ot)),m._appendChild(b),b=m}else Ee.removeElement(m);st&&isA(d,L)?fosterParent((function(){return b})):d instanceof u.HTMLTemplateElement?d.content._appendChild(b):d._appendChild(b);for(var v=afeclone(s.ownerDocument,Me.indexOf(n));s.hasChildNodes();)v.elt._appendChild(s.firstChild);s._appendChild(v.elt),Me.remove(n),Me.replace(ot,v.elt,v.attrs),Ee.removeElement(n);var k=Ee.elements.lastIndexOf(s);Ee.elements.splice(k+1,0,v.elt)}return!0}(t);if(v)return;break;case"applet":case"marquee":case"object":if(!Ee.inScope(t))return;return Ee.generateImpliedEndTags(),Ee.popTag(t),void Me.clearToMarker();case"br":return void in_body_mode(2,t,null)}for(o=Ee.elements.length-1;o>=0;o--){if(isA(d=Ee.elements[o],t)){Ee.generateImpliedEndTags(t),Ee.popElement(d);break}if(isA(d,g))return}return}}function text_mode(e,t,n,l){switch(e){case 1:return void insertText(t);case-1:return Ee.top instanceof u.HTMLScriptElement&&(Ee.top._already_started=!0),Ee.pop(),void(parser=ze)(e);case 3:return Ee.pop(),void(parser=ze);default:return}}function in_table_mode(e,t,n,l){switch(e){case 1:if(_e)return void in_body_mode(e,t,n,l);if(isA(Ee.top,L))return Qe=[],ze=parser,void(parser=in_table_text_mode)(e,t,n,l);break;case 4:return void insertComment(t);case 5:return;case 2:switch(t){case"caption":return Ee.clearToContext(C),Me.insertMarker(),insertHTMLElement(t,n),void(parser=in_caption_mode);case"colgroup":return Ee.clearToContext(C),insertHTMLElement(t,n),void(parser=in_column_group_mode);case"col":return in_table_mode(2,"colgroup",null),void parser(e,t,n,l);case"tbody":case"tfoot":case"thead":return Ee.clearToContext(C),insertHTMLElement(t,n),void(parser=in_table_body_mode);case"td":case"th":case"tr":return in_table_mode(2,"tbody",null),void parser(e,t,n,l);case"table":if(!Ee.inTableScope(t))return;return in_table_mode(3,t),void parser(e,t,n,l);case"style":case"script":case"template":return void in_head_mode(e,t,n,l);case"input":var i=function(e){for(var t=0,n=e.length;t<n;t++)if("type"===e[t][0])return e[t][1].toLowerCase();return null}(n);if("hidden"!==i)break;return insertHTMLElement(t,n),void Ee.pop();case"form":if(je||Ee.contains("template"))return;return je=insertHTMLElement(t,n),void Ee.popElement(je)}break;case 3:switch(t){case"table":if(!Ee.inTableScope(t))return;return Ee.popTag(t),void resetInsertionMode();case"body":case"caption":case"col":case"colgroup":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return;case"template":return void in_head_mode(e,t,n,l)}break;case-1:return void in_body_mode(e,t,n,l)}st=!0,in_body_mode(e,t,n,l),st=!1}function in_table_text_mode(e,t,n,l){if(1===e){if(qe&&0===(t=t.replace(ge,"")).length)return;Qe.push(t)}else{var i=Qe.join("");Qe.length=0,Xe.test(i)?(st=!0,in_body_mode(1,i),st=!1):insertText(i),(parser=ze)(e,t,n,l)}}function in_caption_mode(e,t,n,l){function end_caption(){return!!Ee.inTableScope("caption")&&(Ee.generateImpliedEndTags(),Ee.popTag("caption"),Me.clearToMarker(),parser=in_table_mode,!0)}switch(e){case 2:switch(t){case"caption":case"col":case"colgroup":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return void(end_caption()&&parser(e,t,n,l))}break;case 3:switch(t){case"caption":return void end_caption();case"table":return void(end_caption()&&parser(e,t,n,l));case"body":case"col":case"colgroup":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return}}in_body_mode(e,t,n,l)}function in_column_group_mode(e,t,n,l){switch(e){case 1:var i=t.match(Re);if(i&&(insertText(i[0]),t=t.substring(i[0].length)),0===t.length)return;break;case 4:return void insertComment(t);case 5:return;case 2:switch(t){case"html":return void in_body_mode(e,t,n,l);case"col":return insertHTMLElement(t,n),void Ee.pop();case"template":return void in_head_mode(e,t,n,l)}break;case 3:switch(t){case"colgroup":if(!isA(Ee.top,"colgroup"))return;return Ee.pop(),void(parser=in_table_mode);case"col":return;case"template":return void in_head_mode(e,t,n,l)}break;case-1:return void in_body_mode(e,t,n,l)}isA(Ee.top,"colgroup")&&(in_column_group_mode(3,"colgroup"),parser(e,t,n,l))}function in_table_body_mode(e,t,n,l){function endsect(){(Ee.inTableScope("tbody")||Ee.inTableScope("thead")||Ee.inTableScope("tfoot"))&&(Ee.clearToContext(F),in_table_body_mode(3,Ee.top.localName,null),parser(e,t,n,l))}switch(e){case 2:switch(t){case"tr":return Ee.clearToContext(F),insertHTMLElement(t,n),void(parser=in_row_mode);case"th":case"td":return in_table_body_mode(2,"tr",null),void parser(e,t,n,l);case"caption":case"col":case"colgroup":case"tbody":case"tfoot":case"thead":return void endsect()}break;case 3:switch(t){case"table":return void endsect();case"tbody":case"tfoot":case"thead":return void(Ee.inTableScope(t)&&(Ee.clearToContext(F),Ee.pop(),parser=in_table_mode));case"body":case"caption":case"col":case"colgroup":case"html":case"td":case"th":case"tr":return}}in_table_mode(e,t,n,l)}function in_row_mode(e,t,n,l){function endrow(){return!!Ee.inTableScope("tr")&&(Ee.clearToContext(z),Ee.pop(),parser=in_table_body_mode,!0)}switch(e){case 2:switch(t){case"th":case"td":return Ee.clearToContext(z),insertHTMLElement(t,n),parser=in_cell_mode,void Me.insertMarker();case"caption":case"col":case"colgroup":case"tbody":case"tfoot":case"thead":case"tr":return void(endrow()&&parser(e,t,n,l))}break;case 3:switch(t){case"tr":return void endrow();case"table":return void(endrow()&&parser(e,t,n,l));case"tbody":case"tfoot":case"thead":return void(Ee.inTableScope(t)&&endrow()&&parser(e,t,n,l));case"body":case"caption":case"col":case"colgroup":case"html":case"td":case"th":return}}in_table_mode(e,t,n,l)}function in_cell_mode(e,t,n,l){switch(e){case 2:switch(t){case"caption":case"col":case"colgroup":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return void(Ee.inTableScope("td")?(in_cell_mode(3,"td"),parser(e,t,n,l)):Ee.inTableScope("th")&&(in_cell_mode(3,"th"),parser(e,t,n,l)))}break;case 3:switch(t){case"td":case"th":if(!Ee.inTableScope(t))return;return Ee.generateImpliedEndTags(),Ee.popTag(t),Me.clearToMarker(),void(parser=in_row_mode);case"body":case"caption":case"col":case"colgroup":case"html":return;case"table":case"tbody":case"tfoot":case"thead":case"tr":if(!Ee.inTableScope(t))return;return in_cell_mode(3,Ee.inTableScope("td")?"td":"th"),void parser(e,t,n,l)}}in_body_mode(e,t,n,l)}function in_select_mode(e,t,n,l){switch(e){case 1:if(qe&&0===(t=t.replace(ge,"")).length)return;return void insertText(t);case 4:return void insertComment(t);case 5:return;case-1:return void in_body_mode(e,t,n,l);case 2:switch(t){case"html":return void in_body_mode(e,t,n,l);case"option":return Ee.top instanceof u.HTMLOptionElement&&in_select_mode(3,t),void insertHTMLElement(t,n);case"optgroup":return Ee.top instanceof u.HTMLOptionElement&&in_select_mode(3,"option"),Ee.top instanceof u.HTMLOptGroupElement&&in_select_mode(3,t),void insertHTMLElement(t,n);case"select":return void in_select_mode(3,t);case"input":case"keygen":case"textarea":if(!Ee.inSelectScope("select"))return;return in_select_mode(3,"select"),void parser(e,t,n,l);case"script":case"template":return void in_head_mode(e,t,n,l)}break;case 3:switch(t){case"optgroup":return Ee.top instanceof u.HTMLOptionElement&&Ee.elements[Ee.elements.length-2]instanceof u.HTMLOptGroupElement&&in_select_mode(3,"option"),void(Ee.top instanceof u.HTMLOptGroupElement&&Ee.pop());case"option":return void(Ee.top instanceof u.HTMLOptionElement&&Ee.pop());case"select":if(!Ee.inSelectScope(t))return;return Ee.popTag(t),void resetInsertionMode();case"template":return void in_head_mode(e,t,n,l)}}}function in_select_in_table_mode(e,t,n,l){switch(t){case"caption":case"table":case"tbody":case"tfoot":case"thead":case"tr":case"td":case"th":switch(e){case 2:return in_select_in_table_mode(3,"select"),void parser(e,t,n,l);case 3:return void(Ee.inTableScope(t)&&(in_select_in_table_mode(3,"select"),parser(e,t,n,l)))}}in_select_mode(e,t,n,l)}function in_template_mode(e,t,n,l){function switchModeAndReprocess(i){parser=i,Ue[Ue.length-1]=parser,parser(e,t,n,l)}switch(e){case 1:case 4:case 5:return void in_body_mode(e,t,n,l);case-1:return void(Ee.contains("template")?(Ee.popTag("template"),Me.clearToMarker(),Ue.pop(),resetInsertionMode(),parser(e,t,n,l)):stopParsing());case 2:switch(t){case"base":case"basefont":case"bgsound":case"link":case"meta":case"noframes":case"script":case"style":case"template":case"title":return void in_head_mode(e,t,n,l);case"caption":case"colgroup":case"tbody":case"tfoot":case"thead":return void switchModeAndReprocess(in_table_mode);case"col":return void switchModeAndReprocess(in_column_group_mode);case"tr":return void switchModeAndReprocess(in_table_body_mode);case"td":case"th":return void switchModeAndReprocess(in_row_mode)}return void switchModeAndReprocess(in_body_mode);case 3:return"template"===t?void in_head_mode(e,t,n,l):void 0}}function after_body_mode(e,t,n,l){switch(e){case 1:if(Xe.test(t))break;return void in_body_mode(e,t);case 4:return void Ee.elements[0]._appendChild(tt.createComment(t));case 5:return;case-1:return void stopParsing();case 2:if("html"===t)return void in_body_mode(e,t,n,l);break;case 3:if("html"===t){if(we)return;return void(parser=after_after_body_mode)}}(parser=in_body_mode)(e,t,n,l)}function in_frameset_mode(e,t,n,l){switch(e){case 1:return void((t=t.replace(Ve,"")).length>0&&insertText(t));case 4:return void insertComment(t);case 5:return;case-1:return void stopParsing();case 2:switch(t){case"html":return void in_body_mode(e,t,n,l);case"frameset":return void insertHTMLElement(t,n);case"frame":return insertHTMLElement(t,n),void Ee.pop();case"noframes":return void in_head_mode(e,t,n,l)}break;case 3:if("frameset"===t){if(we&&Ee.top instanceof u.HTMLHtmlElement)return;return Ee.pop(),void(we||Ee.top instanceof u.HTMLFrameSetElement||(parser=after_frameset_mode))}}}function after_frameset_mode(e,t,n,l){switch(e){case 1:return void((t=t.replace(Ve,"")).length>0&&insertText(t));case 4:return void insertComment(t);case 5:return;case-1:return void stopParsing();case 2:switch(t){case"html":return void in_body_mode(e,t,n,l);case"noframes":return void in_head_mode(e,t,n,l)}break;case 3:if("html"===t)return void(parser=after_after_frameset_mode)}}function after_after_body_mode(e,t,n,l){switch(e){case 1:if(Xe.test(t))break;return void in_body_mode(e,t,n,l);case 4:return void tt._appendChild(tt.createComment(t));case 5:return void in_body_mode(e,t,n,l);case-1:return void stopParsing();case 2:if("html"===t)return void in_body_mode(e,t,n,l)}(parser=in_body_mode)(e,t,n,l)}function after_after_frameset_mode(e,t,n,l){switch(e){case 1:return void((t=t.replace(Ve,"")).length>0&&in_body_mode(e,t,n,l));case 4:return void tt._appendChild(tt.createComment(t));case 5:return void in_body_mode(e,t,n,l);case-1:return void stopParsing();case 2:switch(t){case"html":return void in_body_mode(e,t,n,l);case"noframes":return void in_head_mode(e,t,n,l)}}}function insertForeignToken(e,n,l,i){var o;switch(e){case 1:return De&&We.test(n)&&(De=!1),qe&&(n=n.replace(ge,"")),void insertText(n);case 4:return void insertComment(n);case 5:return;case 2:switch(n){case"font":if(!function(e){for(var t=0,n=e.length;t<n;t++)switch(e[t][0]){case"color":case"face":case"size":return!0}return!1}(l))break;case"b":case"big":case"blockquote":case"body":case"br":case"center":case"code":case"dd":case"div":case"dl":case"dt":case"em":case"embed":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"head":case"hr":case"i":case"img":case"li":case"listing":case"menu":case"meta":case"nobr":case"ol":case"p":case"pre":case"ruby":case"s":case"small":case"span":case"strong":case"strike":case"sub":case"sup":case"table":case"tt":case"u":case"ul":case"var":if(we)break;do{Ee.pop(),o=Ee.top}while(o.namespaceURI!==s.HTML&&!isMathmlTextIntegrationPoint(o)&&!isHTMLIntegrationPoint(o));return void it(e,n,l,i)}return(o=1===Ee.elements.length&&we?t:Ee.top).namespaceURI===s.MATHML?adjustMathMLAttributes(l):o.namespaceURI===s.SVG&&(n=function(e){return e in le?le[e]:e}(n),adjustSVGAttributes(l)),adjustForeignAttributes(l),insertForeignElement(n,l,o.namespaceURI),void(i&&("script"===n&&(o.namespaceURI,s.SVG),Ee.pop()));case 3:if(o=Ee.top,"script"===n&&o.namespaceURI===s.SVG&&"script"===o.localName)Ee.pop();else for(var u=Ee.elements.length-1,d=Ee.elements[u];;){if(d.localName.toLowerCase()===n){Ee.popElement(d);break}if((d=Ee.elements[--u]).namespaceURI===s.HTML){parser(e,n,l,i);break}}return}}return bogus_comment_state.lookahead=">",markup_declaration_open_state.lookahead=7,after_doctype_name_state.lookahead=6,named_character_reference_state.lookahead=-32,et.testTokenizer=function(e,t,n,l){var i=[];switch(t){case"PCDATA state":Le=data_state;break;case"RCDATA state":Le=rcdata_state;break;case"RAWTEXT state":Le=rawtext_state;break;case"PLAINTEXT state":Le=plaintext_state}if(n&&(Ke=n),it=function(e,t,n,l){switch(flushText(),e){case 1:i.length>0&&"Character"===i[i.length-1][0]?i[i.length-1][1]+=t:i.push(["Character",t]);break;case 4:i.push(["Comment",t]);break;case 5:i.push(["DOCTYPE",t,void 0===n?null:n,void 0===l?null:l,!Oe]);break;case 2:for(var s=Object.create(null),o=0;o<n.length;o++){var u=n[o];1===u.length?s[u[0]]="":s[u[0]]=u[1]}var d=["StartTag",t,s];l&&d.push(!0),i.push(d);break;case 3:i.push(["EndTag",t])}},l){for(var s=0;s<e.length;s++)this.parse(e[s]);this.parse("",!0)}else this.parse(e,!0);return i},et}HTMLParser.ElementStack=function(){this.elements=[],this.top=null},HTMLParser.ElementStack.prototype.push=function(e){this.elements.push(e),this.top=e},HTMLParser.ElementStack.prototype.pop=function(e){this.elements.pop(),this.top=this.elements[this.elements.length-1]},HTMLParser.ElementStack.prototype.popTag=function(e){for(var t=this.elements.length-1;t>0;t--){if(isA(this.elements[t],e))break}this.elements.length=t,this.top=this.elements[t-1]},HTMLParser.ElementStack.prototype.popElementType=function(e){for(var t=this.elements.length-1;t>0&&!(this.elements[t]instanceof e);t--);this.elements.length=t,this.top=this.elements[t-1]},HTMLParser.ElementStack.prototype.popElement=function(e){for(var t=this.elements.length-1;t>0&&this.elements[t]!==e;t--);this.elements.length=t,this.top=this.elements[t-1]},HTMLParser.ElementStack.prototype.removeElement=function(e){if(this.top===e)this.pop();else{var t=this.elements.lastIndexOf(e);-1!==t&&this.elements.splice(t,1)}},HTMLParser.ElementStack.prototype.clearToContext=function(e){for(var t=this.elements.length-1;t>0&&!isA(this.elements[t],e);t--);this.elements.length=t+1,this.top=this.elements[t]},HTMLParser.ElementStack.prototype.contains=function(e){return this.inSpecificScope(e,Object.create(null))},HTMLParser.ElementStack.prototype.inSpecificScope=function(e,t){for(var n=this.elements.length-1;n>=0;n--){var l=this.elements[n];if(isA(l,e))return!0;if(isA(l,t))return!1}return!1},HTMLParser.ElementStack.prototype.elementInSpecificScope=function(e,t){for(var n=this.elements.length-1;n>=0;n--){var l=this.elements[n];if(l===e)return!0;if(isA(l,t))return!1}return!1},HTMLParser.ElementStack.prototype.elementTypeInSpecificScope=function(e,t){for(var n=this.elements.length-1;n>=0;n--){var l=this.elements[n];if(l instanceof e)return!0;if(isA(l,t))return!1}return!1},HTMLParser.ElementStack.prototype.inScope=function(e){return this.inSpecificScope(e,w)},HTMLParser.ElementStack.prototype.elementInScope=function(e){return this.elementInSpecificScope(e,w)},HTMLParser.ElementStack.prototype.elementTypeInScope=function(e){return this.elementTypeInSpecificScope(e,w)},HTMLParser.ElementStack.prototype.inButtonScope=function(e){return this.inSpecificScope(e,_)},HTMLParser.ElementStack.prototype.inListItemScope=function(e){return this.inSpecificScope(e,j)},HTMLParser.ElementStack.prototype.inTableScope=function(e){return this.inSpecificScope(e,D)},HTMLParser.ElementStack.prototype.inSelectScope=function(e){for(var t=this.elements.length-1;t>=0;t--){var n=this.elements[t];if(n.namespaceURI!==s.HTML)return!1;var l=n.localName;if(l===e)return!0;if("optgroup"!==l&&"option"!==l)return!1}return!1},HTMLParser.ElementStack.prototype.generateImpliedEndTags=function(e,t){for(var n=t?k:v,l=this.elements.length-1;l>=0;l--){var i=this.elements[l];if(e&&isA(i,e))break;if(!isA(this.elements[l],n))break}this.elements.length=l+1,this.top=this.elements[l]},HTMLParser.ActiveFormattingElements=function(){this.list=[],this.attrs=[]},HTMLParser.ActiveFormattingElements.prototype.MARKER={localName:"|"},HTMLParser.ActiveFormattingElements.prototype.insertMarker=function(){this.list.push(this.MARKER),this.attrs.push(this.MARKER)},HTMLParser.ActiveFormattingElements.prototype.push=function(e,t){for(var n=0,l=this.list.length-1;l>=0&&this.list[l]!==this.MARKER;l--)if(equal(e,this.list[l],this.attrs[l])&&3===++n){this.list.splice(l,1),this.attrs.splice(l,1);break}this.list.push(e);for(var i=[],s=0;s<t.length;s++)i[s]=t[s];function equal(e,t,n){if(e.localName!==t.localName)return!1;if(e._numattrs!==n.length)return!1;for(var l=0,i=n.length;l<i;l++){var s=n[l][0],o=n[l][1];if(!e.hasAttribute(s))return!1;if(e.getAttribute(s)!==o)return!1}return!0}this.attrs.push(i)},HTMLParser.ActiveFormattingElements.prototype.clearToMarker=function(){for(var e=this.list.length-1;e>=0&&this.list[e]!==this.MARKER;e--);e<0&&(e=0),this.list.length=e,this.attrs.length=e},HTMLParser.ActiveFormattingElements.prototype.findElementByTag=function(e){for(var t=this.list.length-1;t>=0;t--){var n=this.list[t];if(n===this.MARKER)break;if(n.localName===e)return n}return null},HTMLParser.ActiveFormattingElements.prototype.indexOf=function(e){return this.list.lastIndexOf(e)},HTMLParser.ActiveFormattingElements.prototype.remove=function(e){var t=this.list.lastIndexOf(e);-1!==t&&(this.list.splice(t,1),this.attrs.splice(t,1))},HTMLParser.ActiveFormattingElements.prototype.replace=function(e,t,n){var l=this.list.lastIndexOf(e);-1!==l&&(this.list[l]=t,this.attrs[l]=n)},HTMLParser.ActiveFormattingElements.prototype.insertAfter=function(e,t){var n=this.list.lastIndexOf(e);-1!==n&&(this.list.splice(n,0,t),this.attrs.splice(n,0,t))}}}),bp=__commonJS({"external/npm/node_modules/domino/lib/DOMImplementation.js"(e,t){t.exports=DOMImplementation;var n=dp(),l=hp(),i=mp(),s=_m(),o=ob();function DOMImplementation(e){this.contextObject=e}var u={xml:{"":!0,"1.0":!0,"2.0":!0},core:{"":!0,"2.0":!0},html:{"":!0,"1.0":!0,"2.0":!0},xhtml:{"":!0,"1.0":!0,"2.0":!0}};DOMImplementation.prototype={hasFeature:function(e,t){var n=u[(e||"").toLowerCase()];return n&&n[t||""]||!1},createDocumentType:function(e,t,n){return o.isValidQName(e)||s.InvalidCharacterError(),new l(this.contextObject,e,t,n)},createDocument:function(e,t,l){var i,o=new n(!1,null);return i=t?o.createElementNS(e,t):null,l&&o.appendChild(l),i&&o.appendChild(i),e===s.NAMESPACE.HTML?o._contentType="application/xhtml+xml":e===s.NAMESPACE.SVG?o._contentType="image/svg+xml":o._contentType="application/xml",o},createHTMLDocument:function(e){var t=new n(!0,null);t.appendChild(new l(t,"html"));var i=t.createElement("html");t.appendChild(i);var s=t.createElement("head");if(i.appendChild(s),void 0!==e){var o=t.createElement("title");s.appendChild(o),o.appendChild(t.createTextNode(e))}return i.appendChild(t.createElement("body")),t.modclock=1,t},mozSetOutputMutationHandler:function(e,t){e.mutationHandler=t},mozGetInputMutationHandler:function(e){s.nyi()},mozHTMLParser:i}}}),pp=__commonJS({"external/npm/node_modules/domino/lib/Location.js"(e,t){var n=tp(),l=op();function Location2(e,t){this._window=e,this._href=t}t.exports=Location2,Location2.prototype=Object.create(l.prototype,{constructor:{value:Location2},href:{get:function(){return this._href},set:function(e){this.assign(e)}},assign:{value:function(e){var t=new n(this._href).resolve(e);this._href=t}},replace:{value:function(e){this.assign(e)}},reload:{value:function(){this.assign(this.href)}},toString:{value:function(){return this.href}}})}}),Zp=__commonJS({"external/npm/node_modules/domino/lib/NavigatorID.js"(e,t){var n=Object.create(null,{appCodeName:{value:"Mozilla"},appName:{value:"Netscape"},appVersion:{value:"4.0"},platform:{value:""},product:{value:"Gecko"},productSub:{value:"20100101"},userAgent:{value:""},vendor:{value:""},vendorSub:{value:""},taintEnabled:{value:function(){return!1}}});t.exports=n}}),yp=__commonJS({"external/npm/node_modules/domino/lib/WindowTimers.js"(e,t){var n={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval};t.exports=n}}),Gp=__commonJS({"external/npm/node_modules/domino/lib/impl.js"(e,t){var n=_m();e=t.exports={CSSStyleDeclaration:sp(),CharacterData:kb(),Comment:Hb(),DOMException:Bm(),DOMImplementation:bp(),DOMTokenList:mb(),Document:dp(),DocumentFragment:Jb(),DocumentType:hp(),Element:Kb(),HTMLParser:mp(),NamedNodeMap:Lb(),Node:qm(),NodeList:nb(),NodeFilter:_b(),ProcessingInstruction:jb(),Text:Cb(),Window:Xp()},n.merge(e,lp()),n.merge(e,ap().elements),n.merge(e,rp().elements)}}),Xp=__commonJS({"external/npm/node_modules/domino/lib/Window.js"(e,t){var n=bp(),l=Dm(),i=pp(),s=_m();function Window(e){this.document=e||new n(null).createHTMLDocument(""),this.document._scripting_enabled=!0,this.document.defaultView=this,this.location=new i(this,this.document._address||"about:blank")}t.exports=Window,Window.prototype=Object.create(l.prototype,{console:{value:console},history:{value:{back:s.nyi,forward:s.nyi,go:s.nyi}},navigator:{value:Zp()},window:{get:function(){return this}},self:{get:function(){return this}},frames:{get:function(){return this}},parent:{get:function(){return this}},top:{get:function(){return this}},length:{value:0},frameElement:{value:null},opener:{value:null},onload:{get:function(){return this._getEventHandler("load")},set:function(e){this._setEventHandler("load",e)}},getComputedStyle:{value:function(e){return e.style}}}),s.expose(yp(),Window),s.expose(Gp(),Window)}}),Vp=__commonJS({"external/npm/node_modules/domino/lib/index.js"(e){var t=bp(),n=mp();Xp();var l=Gp();e.createDOMImplementation=function(){return new t(null)},e.createDocument=function(e,l){if(e||l){var i=new n;return i.parse(e||"",!0),i.document()}return new t(null).createHTMLDocument("")},e.createIncrementalHTMLParser=function(){var e=new n;return{write:function(t){t.length>0&&e.parse(t,!1,(function(){return!0}))},end:function(t){e.parse(t||"",!0,(function(){return!0}))},process:function(t){return e.parse("",!1,t)},document:function(){return e.document()}}},e.createWindow=function(t,n){var i=e.createDocument(t);return void 0!==n&&(i._address=n),new l.Window(i)},e.impl=l}}),Wp=Vp();function parseDocument(e,t="/"){return Wp.createWindow(e,t).document}class DominoAdapter extends BrowserDomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!1}static makeCurrent(){Object.assign(globalThis,Wp.impl),globalThis.KeyboardEvent=Wp.impl.Event,setRootDomAdapter(new DominoAdapter)}createHtmlDocument(){return parseDocument("<html><head><title>fakeTitle</title></head><body></body></html>")}getDefaultDocument(){return DominoAdapter.defaultDoc||(DominoAdapter.defaultDoc=Wp.createDocument()),DominoAdapter.defaultDoc}isElementNode(e){return!!e&&e.nodeType===DominoAdapter.defaultDoc.ELEMENT_NODE}isShadowRoot(e){return e.shadowRoot==e}getGlobalEventTarget(e,t){return"window"===t?e.defaultView:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){return e.documentElement.querySelector("base")?.getAttribute("href")||""}dispatchEvent(e,t){e.dispatchEvent(t);const n=(e.ownerDocument||e).defaultView;n&&n.dispatchEvent(t)}getUserAgent(){return"Fake user agent"}getCookie(e){throw new Error("getCookie has not been implemented")}}let Rp=(()=>{var e;class PlatformState2{constructor(e){this._doc=e}renderToString(){return this._doc.serialize()}getDocument(){return this._doc}}return(e=PlatformState2).fac=function(t){return new(t||e)(inject(ud))},e.prov=defineInjectable({token:e,factory:e.fac}),PlatformState2})();const gp=[{provide:XhrFactory,useClass:(()=>{var e;class ServerXhr2{"loadImpl"(){return __async$1(this,null,(function*(){if(!this.xhrImpl){const{default:e}=yield Promise.resolve().then((function(){return Fy})).then((e=>e.x));this.xhrImpl=e}}))}build(){const e=this.xhrImpl;if(!e)throw new Error("Unexpected state in ServerXhr: XHR implementation is not loaded.");return new e.XMLHttpRequest}}return(e=ServerXhr2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac}),ServerXhr2})()},{provide:bh,useValue:function(e,t){const n=inject(dd),{href:l,protocol:i,hostname:s,port:o}=n;if(!i.startsWith("http"))return t(e);let u=`${i}//${s}`;o&&(u+=`:${o}`);const d=n.getBaseHrefFromDOM()||l,h=new URL(d,u),m=new URL(e.url,h).toString();return t(e.clone({url:m}))},multi:!0}],Ip=new InjectionToken("Server.INITIAL_CONFIG"),fp=new InjectionToken("Server.RENDER_MODULE_HOOK"),Sp="resolve:";function parseUrl(e){let{hostname:t,protocol:n,port:l,pathname:i,search:s,hash:o}=new URL(e,Sp+"//");return n!==Sp&&""===l&&/\:(80|443)/.test(e)&&(l="http:"===n?"80":"443"),n===Sp&&"/"!==e.charAt(0)&&(i=i.slice(1)),{hostname:t,protocol:n===Sp?"":n,port:l,pathname:i,search:s,hash:o}}let Lp=(()=>{var e;class ServerPlatformLocation2{constructor(e,t){this._doc=e,this.href="/",this.hostname="/",this.protocol="/",this.port="/",this.pathname="/",this.search="",this.hash="",this._hashUpdate=new tl;const n=t;if(n){if(n.url){const t=parseUrl(n.url);this.protocol=t.protocol,this.hostname=t.hostname,this.port=t.port,this.pathname=t.pathname,this.search=t.search,this.hash=t.hash,this.href=e.location.href}if(n.useAbsoluteUrl){if(!n.baseUrl)throw new Error('"PlatformConfig.baseUrl" must be set if "useAbsoluteUrl" is true');const e=parseUrl(n.baseUrl);this.protocol=e.protocol,this.hostname=e.hostname,this.port=e.port}}}getBaseHrefFromDOM(){return getDOM().getBaseHref(this._doc)}onPopState(e){return()=>{}}onHashChange(e){const t=this._hashUpdate.subscribe(e);return()=>t.unsubscribe()}get url(){return`${this.pathname}${this.search}${this.hash}`}setHash(e,t){if(this.hash===e)return;this.hash=e;const n=this.url;queueMicrotask((()=>this._hashUpdate.next({type:"hashchange",state:null,oldUrl:t,newUrl:n})))}replaceState(e,t,n){const l=this.url,i=parseUrl(n);this.pathname=i.pathname,this.search=i.search,this.setHash(i.hash,l)}pushState(e,t,n){this.replaceState(e,t,n)}forward(){throw new Error("Not implemented")}back(){throw new Error("Not implemented")}getState(){}}return(e=ServerPlatformLocation2).fac=function(t){return new(t||e)(inject(ud),inject(Ip,8))},e.prov=defineInjectable({token:e,factory:e.fac}),ServerPlatformLocation2})();const Yp=[[{provide:fp,useFactory:function(e,t,n){return()=>{const l=n.toJson();if(n.isEmpty)return;const i=e.createElement("script");i.id=t+"-state",i.setAttribute("type","application/json"),i.textContent=l,e.body.appendChild(i)}},deps:[ud,Ea,or],multi:!0}],[{provide:kh,multi:!0,useClass:(()=>{var e;class ServerEventManagerPlugin2 extends EventManagerPlugin{constructor(e){super(e),this.doc=e}supports(e){return!0}addEventListener(e,t,n){return getDOM().onAndCancel(e,t,n)}}return(e=ServerEventManagerPlugin2).fac=function(t){return new(t||e)(inject(ud))},e.prov=defineInjectable({token:e,factory:e.fac}),ServerEventManagerPlugin2})()}],gp,{provide:zu,useValue:null},{provide:Hu,useValue:null},{provide:ih,useClass:NullViewportScroller}];const Kp=createPlatformFactory(td,"server",[{provide:ud,useFactory:function(e){const t=e.get(Ip,null);let n;n=t&&t.document?"string"==typeof t.document?parseDocument(t.document,t.url):t.document:getDOM().createHtmlDocument();return setDocument(n),n},deps:[Fr]},{provide:Ba,useValue:lh},{provide:ja,useFactory:function(){return()=>{DominoAdapter.makeCurrent()}},multi:!0},{provide:dd,useClass:Lp,deps:[ud,[Rr,Ip]]},{provide:Rp,deps:[ud]},{provide:$u,useValue:!0}]);function appendServerContextInfo(e){let t=function(e){const t=e.replace(/[^a-zA-Z0-9\-]/g,"");return t.length>0?t:xp}(e.injector.get(Np,xp));e.components.forEach((e=>{const n=e.injector.get(pu),l=e.location.nativeElement;l&&n.setAttribute(l,"ng-server-context",t)}))}function _render(e,t){return __async$1(this,null,(function*(){const n=t.injector;yield whenStable(t);const l=e.injector.get(Rp);if(t.injector.get(Ur,!1)){const e=l.getDocument();!function(e){const t=e.createComment(Vr);e.body.firstChild?e.body.insertBefore(t,e.body.firstChild):e.body.append(t)}(e),function(e,t){const n=new SerializedViewCollection,l=new Map,i=e._views;for(const e of i){const i=getLNodeForHydration(e);if(null!==i){const e={serializedViewCollection:n,corruptedTextNodes:l};isLContainer(i)?annotateLContainerForHydration(i,e):annotateComponentLViewForHydration(i,e),insertCorruptedTextNodeMarkers(l,t)}}const s=n.getAll();e.injector.get(or).set(Gr,s)}(t,e)}const i=n.get(fp,null);if(i){const e=[];for(const t of i)try{const n=t();n&&e.push(n)}catch(e){console.warn("Ignoring BEFORE_APP_SERIALIZED Exception: ",e)}if(e.length)for(const t of yield Promise.allSettled(e))"rejected"===t.status&&console.warn("Ignoring BEFORE_APP_SERIALIZED Exception: ",t.reason)}appendServerContextInfo(t);const s=l.renderToString();return yield new Promise((t=>{setTimeout((()=>{e.destroy(),t()}),0)})),s}))}const xp="other",Np=new InjectionToken("SERVER_CONTEXT");function renderApplication(e,t){return __async$1(this,null,(function*(){const n=function(e){const t=e.platformProviders??[];return Kp([{provide:Ip,useValue:{document:e.document,url:e.url}},t])}(t);return _render(n,yield e())}))}const Tp="primary",vp=Symbol("RouteTitle");class ParamsAsMap{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function convertToParamMap(e){return new ParamsAsMap(e)}function defaultUrlMatcher(e,t,n){const l=n.path.split("/");if(l.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||l.length<e.length))return null;const i={};for(let t=0;t<l.length;t++){const n=l[t],s=e[t];if(n.startsWith(":"))i[n.substring(1)]=s;else if(n!==s.path)return null}return{consumed:e.slice(0,l.length),posParams:i}}function shallowEqual(e,t){const n=e?getDataKeys(e):void 0,l=t?getDataKeys(t):void 0;if(!n||!l||n.length!=l.length)return!1;let i;for(let l=0;l<n.length;l++)if(i=n[l],!equalArraysOrString(e[i],t[i]))return!1;return!0}function getDataKeys(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function equalArraysOrString(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),l=[...t].sort();return n.every(((e,t)=>l[t]===e))}return e===t}function last(e){return e.length>0?e[e.length-1]:null}function wrapIntoObservable(e){return isObservable(e)?e:isPromise(e)?from(Promise.resolve(e)):of(e)}const kp={exact:function equalSegmentGroups(e,t,n){if(!equalPath(e.segments,t.segments))return!1;if(!matrixParamsMatch(e.segments,t.segments,n))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(const l in t.children){if(!e.children[l])return!1;if(!equalSegmentGroups(e.children[l],t.children[l],n))return!1}return!0},subset:containsSegmentGroup},Cp={exact:function(e,t){return shallowEqual(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((n=>equalArraysOrString(e[n],t[n])))},ignored:()=>!0};function containsTree(e,t,n){return kp[n.paths](e.root,t.root,n.matrixParams)&&Cp[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function containsSegmentGroup(e,t,n){return containsSegmentGroupHelper(e,t,t.segments,n)}function containsSegmentGroupHelper(e,t,n,l){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!!equalPath(i,n)&&(!t.hasChildren()&&!!matrixParamsMatch(i,n,l))}if(e.segments.length===n.length){if(!equalPath(e.segments,n))return!1;if(!matrixParamsMatch(e.segments,n,l))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!containsSegmentGroup(e.children[n],t.children[n],l))return!1}return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!equalPath(e.segments,i)&&(!!matrixParamsMatch(e.segments,i,l)&&(!!e.children[Tp]&&containsSegmentGroupHelper(e.children[Tp],t,s,l)))}}function matrixParamsMatch(e,t,n){return t.every(((t,l)=>Cp[n](e[l].parameters,t.parameters)))}class UrlTree{constructor(e=new UrlSegmentGroup([],{}),t={},n=null){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap??(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap}toString(){return Jp.serialize(this)}}class UrlSegmentGroup{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach((e=>e.parent=this))}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return serializePaths(this)}}class UrlSegment{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??(this._parameterMap=convertToParamMap(this.parameters)),this._parameterMap}toString(){return serializePath(this)}}function equalPath(e,t){return e.length===t.length&&e.every(((e,n)=>e.path===t[n].path))}let Hp=(()=>{var e;class UrlSerializer2{}return(e=UrlSerializer2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:()=>new DefaultUrlSerializer,providedIn:"root"}),UrlSerializer2})();class DefaultUrlSerializer{parse(e){const t=new UrlParser(e);return new UrlTree(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${serializeSegment(e.root,!0)}`,n=function(e){const t=Object.entries(e).map((([e,t])=>Array.isArray(t)?t.map((t=>`${encodeUriQuery(e)}=${encodeUriQuery(t)}`)).join("&"):`${encodeUriQuery(e)}=${encodeUriQuery(t)}`)).filter((e=>e));return t.length?`?${t.join("&")}`:""}(e.queryParams);var l;return`${t}${n}${"string"==typeof e.fragment?`#${l=e.fragment,encodeURI(l)}`:""}`}}const Jp=new DefaultUrlSerializer;function serializePaths(e){return e.segments.map((e=>serializePath(e))).join("/")}function serializeSegment(e,t){if(!e.hasChildren())return serializePaths(e);if(t){const t=e.children[Tp]?serializeSegment(e.children[Tp],!1):"",n=[];return Object.entries(e.children).forEach((([e,t])=>{e!==Tp&&n.push(`${e}:${serializeSegment(t,!1)}`)})),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return Object.entries(e.children).forEach((([e,l])=>{e===Tp&&(n=n.concat(t(l,e)))})),Object.entries(e.children).forEach((([e,l])=>{e!==Tp&&(n=n.concat(t(l,e)))})),n}(e,((t,n)=>n===Tp?[serializeSegment(e.children[Tp],!1)]:[`${n}:${serializeSegment(t,!1)}`]));return 1===Object.keys(e.children).length&&null!=e.children[Tp]?`${serializePaths(e)}/${t[0]}`:`${serializePaths(e)}/(${t.join("//")})`}}function encodeUriString(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function encodeUriQuery(e){return encodeUriString(e).replace(/%3B/gi,";")}function encodeUriSegment(e){return encodeUriString(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function decode(e){return decodeURIComponent(e)}function decodeQuery(e){return decode(e.replace(/\+/g,"%20"))}function serializePath(e){return`${encodeUriSegment(e.path)}${t=e.parameters,Object.entries(t).map((([e,t])=>`;${encodeUriSegment(e)}=${encodeUriSegment(t)}`)).join("")}`;var t}const Fp=/^[^\/()?;#]+/;function matchSegments(e){const t=e.match(Fp);return t?t[0]:""}const zp=/^[^\/()?;=#]+/;const Up=/^[^=?&#]+/;const Ep=/^[^&#]+/;class UrlParser{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new UrlSegmentGroup([],{}):new UrlSegmentGroup([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Tp]=new UrlSegmentGroup(e,t)),n}parseSegment(){const e=matchSegments(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new RuntimeError(4009,!1);return this.capture(e),new UrlSegment(decode(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function(e){const t=e.match(zp);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=matchSegments(this.remaining);e&&(n=e,this.capture(n))}e[decode(t)]=decode(n)}parseQueryParam(e){const t=function(e){const t=e.match(Up);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Ep);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const l=decodeQuery(t),i=decodeQuery(n);if(e.hasOwnProperty(l)){let t=e[l];Array.isArray(t)||(t=[t],e[l]=t),t.push(i)}else e[l]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=matchSegments(this.remaining),l=this.remaining[n.length];if("/"!==l&&")"!==l&&";"!==l)throw new RuntimeError(4010,!1);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Tp);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[Tp]:new UrlSegmentGroup([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new RuntimeError(4011,!1)}}function createRoot(e){return e.segments.length>0?new UrlSegmentGroup([],{[Tp]:e}):e}function squashSegmentGroup(e){const t={};for(const[n,l]of Object.entries(e.children)){const e=squashSegmentGroup(l);if(n===Tp&&0===e.segments.length&&e.hasChildren())for(const[n,l]of Object.entries(e.children))t[n]=l;else(e.segments.length>0||e.hasChildren())&&(t[n]=e)}return function(e){if(1===e.numberOfChildren&&e.children[Tp]){const t=e.children[Tp];return new UrlSegmentGroup(e.segments.concat(t.segments),t.children)}return e}(new UrlSegmentGroup(e.segments,t))}function isUrlTree(e){return e instanceof UrlTree}function createSegmentGroupFromRoute(e){let t;const n=function createSegmentGroupFromRouteRecursive(n){const l={};for(const e of n.children){const t=createSegmentGroupFromRouteRecursive(e);l[e.outlet]=t}const i=new UrlSegmentGroup(n.url,l);return n===e&&(t=i),i}(e.root),l=createRoot(n);return t??l}function createUrlTreeFromSegmentGroup(e,t,n,l){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return tree(i,i,i,n,l);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Navigation(!0,0,e);let t=0,n=!1;const l=e.reduce(((e,l,i)=>{if("object"==typeof l&&null!=l){if(l.outlets){const t={};return Object.entries(l.outlets).forEach((([e,n])=>{t[e]="string"==typeof n?n.split("/"):n})),[...e,{outlets:t}]}if(l.segmentPath)return[...e,l.segmentPath]}return"string"!=typeof l?[...e,l]:0===i?(l.split("/").forEach(((l,i)=>{0==i&&"."===l||(0==i&&""===l?n=!0:".."===l?t++:""!=l&&e.push(l))})),e):[...e,l]}),[]);return new Navigation(n,t,l)}(t);if(s.toRoot())return tree(i,i,new UrlSegmentGroup([],{}),n,l);const o=function(e,t,n){if(e.isAbsolute)return new Position(t,!0,0);if(!n)return new Position(t,!1,NaN);if(null===n.parent)return new Position(n,!0,0);const l=isMatrixParams(e.commands[0])?0:1,i=n.segments.length-1+l;return function(e,t,n){let l=e,i=t,s=n;for(;s>i;){if(s-=i,l=l.parent,!l)throw new RuntimeError(4005,!1);i=l.segments.length}return new Position(l,!1,i-s)}(n,i,e.numberOfDoubleDots)}(s,i,e),u=o.processChildren?updateSegmentGroupChildren(o.segmentGroup,o.index,s.commands):updateSegmentGroup(o.segmentGroup,o.index,s.commands);return tree(i,o.segmentGroup,u,n,l)}function isMatrixParams(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function isCommandWithOutlets(e){return"object"==typeof e&&null!=e&&e.outlets}function tree(e,t,n,l,i){let s,o={};l&&Object.entries(l).forEach((([e,t])=>{o[e]=Array.isArray(t)?t.map((e=>`${e}`)):`${t}`})),s=e===t?n:replaceSegment(e,t,n);const u=createRoot(squashSegmentGroup(s));return new UrlTree(u,o,i)}function replaceSegment(e,t,n){const l={};return Object.entries(e.children).forEach((([e,i])=>{l[e]=i===t?n:replaceSegment(i,t,n)})),new UrlSegmentGroup(e.segments,l)}class Navigation{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&isMatrixParams(n[0]))throw new RuntimeError(4003,!1);const l=n.find(isCommandWithOutlets);if(l&&l!==last(n))throw new RuntimeError(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Position{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function updateSegmentGroup(e,t,n){if(e??(e=new UrlSegmentGroup([],{})),0===e.segments.length&&e.hasChildren())return updateSegmentGroupChildren(e,t,n);const l=function(e,t,n){let l=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(l>=n.length)return s;const t=e.segments[i],o=n[l];if(isCommandWithOutlets(o))break;const u=`${o}`,d=l<n.length-1?n[l+1]:null;if(i>0&&void 0===u)break;if(u&&d&&"object"==typeof d&&void 0===d.outlets){if(!compare(u,d,t))return s;l+=2}else{if(!compare(u,{},t))return s;l++}i++}return{match:!0,pathIndex:i,commandIndex:l}}(e,t,n),i=n.slice(l.commandIndex);if(l.match&&l.pathIndex<e.segments.length){const t=new UrlSegmentGroup(e.segments.slice(0,l.pathIndex),{});return t.children[Tp]=new UrlSegmentGroup(e.segments.slice(l.pathIndex),e.children),updateSegmentGroupChildren(t,0,i)}return l.match&&0===i.length?new UrlSegmentGroup(e.segments,{}):l.match&&!e.hasChildren()?createNewSegmentGroup(e,t,n):l.match?updateSegmentGroupChildren(e,0,i):createNewSegmentGroup(e,t,n)}function updateSegmentGroupChildren(e,t,n){if(0===n.length)return new UrlSegmentGroup(e.segments,{});{const l=function(e){return isCommandWithOutlets(e[0])?e[0].outlets:{[Tp]:e}}(n),i={};if(Object.keys(l).some((e=>e!==Tp))&&e.children[Tp]&&1===e.numberOfChildren&&0===e.children[Tp].segments.length){const l=updateSegmentGroupChildren(e.children[Tp],t,n);return new UrlSegmentGroup(e.segments,l.children)}return Object.entries(l).forEach((([n,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(i[n]=updateSegmentGroup(e.children[n],t,l))})),Object.entries(e.children).forEach((([e,t])=>{void 0===l[e]&&(i[e]=t)})),new UrlSegmentGroup(e.segments,i)}}function createNewSegmentGroup(e,t,n){const l=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(isCommandWithOutlets(s)){const e=createNewSegmentChildren(s.outlets);return new UrlSegmentGroup(l,e)}if(0===i&&isMatrixParams(n[0])){const s=e.segments[t];l.push(new UrlSegment(s.path,stringify(n[0]))),i++;continue}const o=isCommandWithOutlets(s)?s.outlets[Tp]:`${s}`,u=i<n.length-1?n[i+1]:null;o&&u&&isMatrixParams(u)?(l.push(new UrlSegment(o,stringify(u))),i+=2):(l.push(new UrlSegment(o,{})),i++)}return new UrlSegmentGroup(l,{})}function createNewSegmentChildren(e){const t={};return Object.entries(e).forEach((([e,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[e]=createNewSegmentGroup(new UrlSegmentGroup([],{}),0,n))})),t}function stringify(e){const t={};return Object.entries(e).forEach((([e,n])=>t[e]=`${n}`)),t}function compare(e,t,n){return e==n.path&&shallowEqual(t,n.parameters)}const Mp="imperative";var wp=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(wp||{});class RouterEvent{constructor(e,t){this.id=e,this.url=t}}class NavigationStart extends RouterEvent{constructor(e,t,n="imperative",l=null){super(e,t),this.type=wp.NavigationStart,this.navigationTrigger=n,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class NavigationEnd extends RouterEvent{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n,this.type=wp.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Pp=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Pp||{}),jp=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(jp||{});class NavigationCancel extends RouterEvent{constructor(e,t,n,l){super(e,t),this.reason=n,this.code=l,this.type=wp.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class NavigationSkipped extends RouterEvent{constructor(e,t,n,l){super(e,t),this.reason=n,this.code=l,this.type=wp.NavigationSkipped}}class NavigationError extends RouterEvent{constructor(e,t,n,l){super(e,t),this.error=n,this.target=l,this.type=wp.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class RoutesRecognized extends RouterEvent{constructor(e,t,n,l){super(e,t),this.urlAfterRedirects=n,this.state=l,this.type=wp.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GuardsCheckStart extends RouterEvent{constructor(e,t,n,l){super(e,t),this.urlAfterRedirects=n,this.state=l,this.type=wp.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GuardsCheckEnd extends RouterEvent{constructor(e,t,n,l,i){super(e,t),this.urlAfterRedirects=n,this.state=l,this.shouldActivate=i,this.type=wp.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ResolveStart extends RouterEvent{constructor(e,t,n,l){super(e,t),this.urlAfterRedirects=n,this.state=l,this.type=wp.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ResolveEnd extends RouterEvent{constructor(e,t,n,l){super(e,t),this.urlAfterRedirects=n,this.state=l,this.type=wp.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RouteConfigLoadStart{constructor(e){this.route=e,this.type=wp.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class RouteConfigLoadEnd{constructor(e){this.route=e,this.type=wp.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ChildActivationStart{constructor(e){this.snapshot=e,this.type=wp.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ChildActivationEnd{constructor(e){this.snapshot=e,this.type=wp.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ActivationStart{constructor(e){this.snapshot=e,this.type=wp.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ActivationEnd{constructor(e){this.snapshot=e,this.type=wp.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BeforeActivateRoutes{}class RedirectRequest{constructor(e){this.url=e}}class OutletContext{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Bp,this.attachRef=null}}let Bp=(()=>{var e;class ChildrenOutletContexts2{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new OutletContext,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}return(e=ChildrenOutletContexts2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"root"}),ChildrenOutletContexts2})();class Tree{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=findNode(e,this._root);return t?t.children.map((e=>e.value)):[]}firstChild(e){const t=findNode(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=findPath(e,this._root);if(t.length<2)return[];return t[t.length-2].children.map((e=>e.value)).filter((t=>t!==e))}pathFromRoot(e){return findPath(e,this._root).map((e=>e.value))}}function findNode(e,t){if(e===t.value)return t;for(const n of t.children){const t=findNode(e,n);if(t)return t}return null}function findPath(e,t){if(e===t.value)return[t];for(const n of t.children){const l=findPath(e,n);if(l.length)return l.unshift(t),l}return[]}class TreeNode{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function nodeChildrenAsMap(e){const t={};return e&&e.children.forEach((e=>t[e.value.outlet]=e)),t}class RouterState extends Tree{constructor(e,t){super(e),this.snapshot=t,setRouterState(this,e)}toString(){return this.snapshot.toString()}}function createEmptyState(e){const t=function(e){const t={},n={},l={},i="",s=new ActivatedRouteSnapshot([],t,l,i,n,Tp,e,null,{});return new RouterStateSnapshot("",new TreeNode(s,[]))}(e),n=new ll([new UrlSegment("",{})]),l=new ll({}),i=new ll({}),s=new ll({}),o=new ll(""),u=new ActivatedRoute(n,l,s,o,i,Tp,e,t.root);return u.snapshot=t.root,new RouterState(new TreeNode(u,[]),t)}class ActivatedRoute{constructor(e,t,n,l,i,s,o,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=l,this.dataSubject=i,this.outlet=s,this.component=o,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(map$1((e=>e[vp])))??of(void 0),this.url=e,this.params=t,this.queryParams=n,this.fragment=l,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??(this._paramMap=this.params.pipe(map$1((e=>convertToParamMap(e))))),this._paramMap}get queryParamMap(){return this._queryParamMap??(this._queryParamMap=this.queryParams.pipe(map$1((e=>convertToParamMap(e))))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function getInherited(e,t,n="emptyOnly"){let l;const{routeConfig:i}=e;return l=null===t||"always"!==n&&""!==i?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...i?.data,...e._resolvedData}},i&&hasStaticTitle(i)&&(l.resolve[vp]=i.title),l}class ActivatedRouteSnapshot{get title(){return this.data?.[vp]}constructor(e,t,n,l,i,s,o,u,d){this.url=e,this.params=t,this.queryParams=n,this.fragment=l,this.data=i,this.outlet=s,this.component=o,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??(this._paramMap=convertToParamMap(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap??(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map((e=>e.toString())).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RouterStateSnapshot extends Tree{constructor(e,t){super(t),this.url=e,setRouterState(this,t)}toString(){return serializeNode(this._root)}}function setRouterState(e,t){t.value._routerState=e,t.children.forEach((t=>setRouterState(e,t)))}function serializeNode(e){const t=e.children.length>0?` { ${e.children.map(serializeNode).join(", ")} } `:"";return`${e.value}${t}`}function advanceActivatedRoute(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,shallowEqual(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),shallowEqual(t.params,n.params)||e.paramsSubject.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!shallowEqual(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),shallowEqual(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function equalParamsAndUrlSegments(e,t){const n=shallowEqual(e.params,t.params)&&(l=e.url,i=t.url,equalPath(l,i)&&l.every(((e,t)=>shallowEqual(e.parameters,i[t].parameters))));var l,i;const s=!e.parent!=!t.parent;return n&&!s&&(!e.parent||equalParamsAndUrlSegments(e.parent,t.parent))}function hasStaticTitle(e){return"string"==typeof e.title||null===e.title}let Qp=(()=>{var e;class RouterOutlet2{constructor(){this.activated=null,this._activatedRoute=null,this.name=Tp,this.activateEvents=new Ho,this.deactivateEvents=new Ho,this.attachEvents=new Ho,this.detachEvents=new Ho,this.parentContexts=inject(Bp),this.location=inject(fu),this.changeDetector=inject(Xu),this.environmentInjector=inject(EnvironmentInjector),this.inputBinder=inject(_p,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:t,previousValue:n}=e.name;if(t)return;this.isTrackedInParentContexts(n)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(n)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new RuntimeError(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new RuntimeError(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new RuntimeError(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new RuntimeError(4013,!1);this._activatedRoute=e;const n=this.location,l=e.snapshot.component,i=this.parentContexts.getOrCreateContext(this.name).children,s=new OutletInjector(e,i,n.injector);this.activated=n.createComponent(l,{index:n.length,injector:s,environmentInjector:t??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=RouterOutlet2).fac=function(t){return new(t||e)},e.dir=defineDirective({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[NgOnChangesFeature]}),RouterOutlet2})();class OutletInjector{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===ActivatedRoute?this.route:e===Bp?this.childContexts:this.parent.get(e,t)}}const _p=new InjectionToken("");function createNode(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const l=n.value;l._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map((t=>{for(const l of n.children)if(e.shouldReuseRoute(t.value,l.value.snapshot))return createNode(e,t,l);return createNode(e,t)}))}(e,t,n);return new TreeNode(l,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const l=n.route;return l.value._futureSnapshot=t.value,l.children=t.children.map((t=>createNode(e,t))),l}}const n=(l=t.value,new ActivatedRoute(new ll(l.url),new ll(l.params),new ll(l.queryParams),new ll(l.fragment),new ll(l.data),l.outlet,l.component,l)),i=t.children.map((t=>createNode(e,t)));return new TreeNode(n,i)}var l}const Dp="ngNavigationCancelingError";function redirectingNavigationError(e,t){const{redirectTo:n,navigationBehaviorOptions:l}=isUrlTree(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=navigationCancelingError(!1,Pp.Redirect);return i.url=n,i.navigationBehaviorOptions=l,i}function navigationCancelingError(e,t){const n=new Error(`NavigationCancelingError: ${e||""}`);return n[Dp]=!0,n.cancellationCode=t,n}function isNavigationCancelingError(e){return!!e&&e[Dp]}let Op=(()=>{var e;class EmptyOutletComponent2{}return(e=EmptyOutletComponent2).fac=function(t){return new(t||e)},e.cmp=defineComponent({type:e,selectors:[["ng-component"]],standalone:!0,features:[StandaloneFeature],decls:1,vars:0,template:function(e,t){1&e&&element(0,"router-outlet")},dependencies:[Qp],encapsulation:2}),EmptyOutletComponent2})();function standardizeConfig(e){const t=e.children&&e.children.map(standardizeConfig),n=t?{...e,children:t}:{...e};return n.component||n.loadComponent||!t&&!n.loadChildren||!n.outlet||n.outlet===Tp||(n.component=Op),n}function getOutlet(e){return e.outlet||Tp}function getClosestRouteInjector(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class ActivateRoutes{constructor(e,t,n,l,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=l,this.inputBindingEnabled=i}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),advanceActivatedRoute(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const l=nodeChildrenAsMap(t);e.children.forEach((e=>{const t=e.value.outlet;this.deactivateRoutes(e,l[t],n),delete l[t]})),Object.values(l).forEach((e=>{this.deactivateRouteAndItsChildren(e,n)}))}deactivateRoutes(e,t,n){const l=e.value,i=t?t.value:null;if(l===i)if(l.component){const i=n.getContext(l.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet),l=n&&e.value.component?n.children:t,i=nodeChildrenAsMap(e);for(const e of Object.values(i))this.deactivateRouteAndItsChildren(e,l);if(n&&n.outlet){const t=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),l=n&&e.value.component?n.children:t,i=nodeChildrenAsMap(e);for(const e of Object.values(i))this.deactivateRouteAndItsChildren(e,l);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,t,n){const l=nodeChildrenAsMap(t);e.children.forEach((e=>{this.activateRoutes(e,l[e.value.outlet],n),this.forwardEvent(new ActivationEnd(e.value.snapshot))})),e.children.length&&this.forwardEvent(new ChildActivationEnd(e.value.snapshot))}activateRoutes(e,t,n){const l=e.value,i=t?t.value:null;if(advanceActivatedRoute(l),l===i)if(l.component){const i=n.getOrCreateContext(l.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(l.component){const t=n.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const n=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),t.children.onOutletReAttached(n.contexts),t.attachRef=n.componentRef,t.route=n.route.value,t.outlet&&t.outlet.attach(n.componentRef,n.route.value),advanceActivatedRoute(n.route.value),this.activateChildRoutes(e,null,t.children)}else{const n=getClosestRouteInjector(l.snapshot);t.attachRef=null,t.route=l,t.injector=n,t.outlet&&t.outlet.activateWith(l,t.injector),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}class CanActivate{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class CanDeactivate{constructor(e,t){this.component=e,this.route=t}}function getAllRouteGuards(e,t,n){const l=e._root;return getChildRouteGuards(l,t?t._root:null,n,[l.value])}function getTokenOrFunctionIdentity(e,t){const n=Symbol(),l=t.get(e,n);return l===n?"function"!=typeof e||function(e){return null!==getInjectableDef(e)}(e)?t.get(e):e:l}function getChildRouteGuards(e,t,n,l,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=nodeChildrenAsMap(t);return e.children.forEach((e=>{!function(e,t,n,l,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,u=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const d=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!equalPath(e.url,t.url);case"pathParamsOrQueryParamsChange":return!equalPath(e.url,t.url)||!shallowEqual(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!equalParamsAndUrlSegments(e,t)||!shallowEqual(e.queryParams,t.queryParams);default:return!equalParamsAndUrlSegments(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new CanActivate(l)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?getChildRouteGuards(e,t,u?u.children:null,l,i):getChildRouteGuards(e,t,n,l,i),d&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new CanDeactivate(u.outlet.component,o))}else o&&deactivateRouteAndItsChildren(t,u,i),i.canActivateChecks.push(new CanActivate(l)),s.component?getChildRouteGuards(e,null,u?u.children:null,l,i):getChildRouteGuards(e,null,n,l,i)}(e,s[e.value.outlet],n,l.concat([e.value]),i),delete s[e.value.outlet]})),Object.entries(s).forEach((([e,t])=>deactivateRouteAndItsChildren(t,n.getContext(e),i))),i}function deactivateRouteAndItsChildren(e,t,n){const l=nodeChildrenAsMap(e),i=e.value;Object.entries(l).forEach((([e,l])=>{i.component?deactivateRouteAndItsChildren(l,t?t.children.getContext(e):null,n):deactivateRouteAndItsChildren(l,t,n)})),i.component&&t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new CanDeactivate(t.outlet.component,i)):n.canDeactivateChecks.push(new CanDeactivate(null,i))}function isFunction$1(e){return"function"==typeof e}function isEmptyError(e){return e instanceof bl||"EmptyError"===e?.name}const Ap=Symbol("INITIAL_VALUE");function prioritizedGuardValue(){return switchMap((e=>combineLatest(e.map((e=>e.pipe(take(1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=popScheduler(e);return operate((function(t,l){(n?concat(e,t,n):concat(e,t)).subscribe(l)}))}(Ap))))).pipe(map$1((e=>{for(const t of e)if(!0!==t){if(t===Ap)return Ap;if(!1===t||t instanceof UrlTree)return t}return!0})),filter((e=>e!==Ap)),take(1))))}function checkGuards(e,t){return mergeMap((n=>{const{targetSnapshot:l,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?of({...n,guardsResult:!0}):function(e,t,n,l){return from(e).pipe(mergeMap((e=>function(e,t,n,l,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return of(!0);const o=s.map((s=>{const o=getClosestRouteInjector(t)??i,u=getTokenOrFunctionIdentity(s,o);return wrapIntoObservable(function(e){return e&&isFunction$1(e.canDeactivate)}(u)?u.canDeactivate(e,t,n,l):runInInjectionContext(o,(()=>u(e,t,n,l)))).pipe(first())}));return of(o).pipe(prioritizedGuardValue())}(e.component,e.route,n,t,l))),first((e=>!0!==e),!0))}(o,l,i,e).pipe(mergeMap((n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,l){return from(t).pipe(concatMap((t=>concat(function(e,t){null!==e&&t&&t(new ChildActivationStart(e));return of(!0)}(t.route.parent,l),function(e,t){null!==e&&t&&t(new ActivationStart(e));return of(!0)}(t.route,l),function(e,t,n){const l=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e))).filter((e=>null!==e)),s=i.map((t=>defer((()=>of(t.guards.map((i=>{const s=getClosestRouteInjector(t.node)??n,o=getTokenOrFunctionIdentity(i,s);return wrapIntoObservable(function(e){return e&&isFunction$1(e.canActivateChild)}(o)?o.canActivateChild(l,e):runInInjectionContext(s,(()=>o(l,e)))).pipe(first())}))).pipe(prioritizedGuardValue())))));return of(s).pipe(prioritizedGuardValue())}(e,t.path,n),function(e,t,n){const l=t.routeConfig?t.routeConfig.canActivate:null;if(!l||0===l.length)return of(!0);const i=l.map((l=>defer((()=>{const i=getClosestRouteInjector(t)??n,s=getTokenOrFunctionIdentity(l,i);return wrapIntoObservable(function(e){return e&&isFunction$1(e.canActivate)}(s)?s.canActivate(t,e):runInInjectionContext(i,(()=>s(t,e)))).pipe(first())}))));return of(i).pipe(prioritizedGuardValue())}(e,t.route,n)))),first((e=>!0!==e),!0))}(l,s,e,t):of(n))),map$1((e=>({...n,guardsResult:e}))))}))}function runCanLoadGuards(e,t,n,l){const i=t.canLoad;if(void 0===i||0===i.length)return of(!0);return of(i.map((l=>{const i=getTokenOrFunctionIdentity(l,e);return wrapIntoObservable(function(e){return e&&isFunction$1(e.canLoad)}(i)?i.canLoad(t,n):runInInjectionContext(e,(()=>i(t,n))))}))).pipe(prioritizedGuardValue(),redirectIfUrlTree(l))}function redirectIfUrlTree(e){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return pipeFromArray(e)}(tap((e=>{if(isUrlTree(e))throw redirectingNavigationError(0,e)})),map$1((e=>!0===e)))}function runCanMatchGuards(e,t,n,l){const i=t.canMatch;if(!i||0===i.length)return of(!0);return of(i.map((l=>{const i=getTokenOrFunctionIdentity(l,e);return wrapIntoObservable(function(e){return e&&isFunction$1(e.canMatch)}(i)?i.canMatch(t,n):runInInjectionContext(e,(()=>i(t,n))))}))).pipe(prioritizedGuardValue(),redirectIfUrlTree())}class NoMatch{constructor(e){this.segmentGroup=e||null}}class AbsoluteRedirect extends Error{constructor(e){super(),this.urlTree=e}}function noMatch$1(e){return throwError$2(new NoMatch(e))}class ApplyRedirects{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let n=[],l=t.root;for(;;){if(n=n.concat(l.segments),0===l.numberOfChildren)return of(n);if(l.numberOfChildren>1||!l.children[Tp])return e.redirectTo,throwError$2(new RuntimeError(4e3,!1));l=l.children[Tp]}}applyRedirectCommands(e,t,n){const l=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,n);if(t.startsWith("/"))throw new AbsoluteRedirect(l);return l}applyRedirectCreateUrlTree(e,t,n,l){const i=this.createSegmentGroup(e,t.root,n,l);return new UrlTree(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Object.entries(e).forEach((([e,l])=>{if("string"==typeof l&&l.startsWith(":")){const i=l.substring(1);n[e]=t[i]}else n[e]=l})),n}createSegmentGroup(e,t,n,l){const i=this.createSegments(e,t.segments,n,l);let s={};return Object.entries(t.children).forEach((([t,i])=>{s[t]=this.createSegmentGroup(e,i,n,l)})),new UrlSegmentGroup(i,s)}createSegments(e,t,n,l){return t.map((t=>t.path.startsWith(":")?this.findPosParam(e,t,l):this.findOrReturn(t,n)))}findPosParam(e,t,n){const l=n[t.path.substring(1)];if(!l)throw new RuntimeError(4001,!1);return l}findOrReturn(e,t){let n=0;for(const l of t){if(l.path===e.path)return t.splice(n),l;n++}return e}}const qp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function matchWithChecks(e,t,n,l,i){const s=match(e,t,n);return s.matched?(l=function(e,t){return e.providers&&!e._injector&&(e._injector=createEnvironmentInjector(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,l),runCanMatchGuards(l,t,n).pipe(map$1((e=>!0===e?s:{...qp})))):of(s)}function match(e,t,n){if("**"===t.path)return function(e){return{matched:!0,parameters:e.length>0?last(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...qp}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const l=(t.matcher||defaultUrlMatcher)(n,e,t);if(!l)return{...qp};const i={};Object.entries(l.posParams??{}).forEach((([e,t])=>{i[e]=t.path}));const s=l.consumed.length>0?{...i,...l.consumed[l.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:l.consumed,remainingSegments:n.slice(l.consumed.length),parameters:s,positionalParamSegments:l.posParams??{}}}function split(e,t,n,l){if(n.length>0&&function(e,t,n){return n.some((n=>emptyPathMatch(e,t,n)&&getOutlet(n)!==Tp))}(e,n,l)){const i=new UrlSegmentGroup(t,function(e,t){const n={};n[Tp]=t;for(const t of e)if(""===t.path&&getOutlet(t)!==Tp){const e=new UrlSegmentGroup([],{});n[getOutlet(t)]=e}return n}(l,new UrlSegmentGroup(n,e.children)));return{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((n=>emptyPathMatch(e,t,n)))}(e,n,l)){const t=new UrlSegmentGroup(e.segments,function(e,t,n,l){const i={};for(const s of n)if(emptyPathMatch(e,t,s)&&!l[getOutlet(s)]){const e=new UrlSegmentGroup([],{});i[getOutlet(s)]=e}return{...l,...i}}(e,n,l,e.children));return{segmentGroup:t,slicedSegments:n}}return{segmentGroup:new UrlSegmentGroup(e.segments,e.children),slicedSegments:n}}function emptyPathMatch(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class NoLeftoversInUrl{}class Recognizer{constructor(e,t,n,l,i,s,o){this.injector=e,this.configLoader=t,this.rootComponentType=n,this.config=l,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=o,this.applyRedirects=new ApplyRedirects(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new RuntimeError(4002,`'${e.segmentGroup}'`)}recognize(){const e=split(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(map$1((e=>{const t=new ActivatedRouteSnapshot([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Tp,this.rootComponentType,null,{}),n=new TreeNode(t,e),l=new RouterStateSnapshot("",n),i=function(e,t,n=null,l=null){return createUrlTreeFromSegmentGroup(createSegmentGroupFromRoute(e),t,n,l)}(t,[],this.urlTree.queryParams,this.urlTree.fragment);return i.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(i),this.inheritParamsAndData(l._root,null),{state:l,tree:i}})))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Tp).pipe(catchError((e=>{if(e instanceof AbsoluteRedirect)return this.urlTree=e.urlTree,this.match(e.urlTree.root);if(e instanceof NoMatch)throw this.noMatchError(e);throw e})))}inheritParamsAndData(e,t){const n=e.value,l=getInherited(n,t,this.paramsInheritanceStrategy);n.params=Object.freeze(l.params),n.data=Object.freeze(l.data),e.children.forEach((e=>this.inheritParamsAndData(e,n)))}processSegmentGroup(e,t,n,l){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,t,n):this.processSegment(e,t,n,n.segments,l,!0).pipe(map$1((e=>e instanceof TreeNode?[e]:[])))}processChildren(e,t,n){const l=[];for(const e of Object.keys(n.children))"primary"===e?l.unshift(e):l.push(e);return from(l).pipe(concatMap((l=>{const i=n.children[l],s=function(e,t){const n=e.filter((e=>getOutlet(e)===t));return n.push(...e.filter((e=>getOutlet(e)!==t))),n}(t,l);return this.processSegmentGroup(e,s,i,l)})),scan(((e,t)=>(e.push(...t),e))),defaultIfEmpty(null),function(e,t){var n=arguments.length>=2;return function(l){return l.pipe(e?filter((function(t,n){return e(t,n,l)})):identity,takeLast(1),n?defaultIfEmpty(t):throwIfEmpty((function(){return new bl})))}}(),mergeMap((e=>{if(null===e)return noMatch$1(n);const t=mergeEmptyPathMatches(e);return t.sort(((e,t)=>e.value.outlet===Tp?-1:t.value.outlet===Tp?1:e.value.outlet.localeCompare(t.value.outlet))),of(t)})))}processSegment(e,t,n,l,i,s){return from(t).pipe(concatMap((o=>this.processSegmentAgainstRoute(o._injector??e,t,o,n,l,i,s).pipe(catchError((e=>{if(e instanceof NoMatch)return of(null);throw e}))))),first((e=>!!e)),catchError((e=>{if(isEmptyError(e))return function(e,t,n){return 0===t.length&&!e.children[n]}(n,l,i)?of(new NoLeftoversInUrl):noMatch$1(n);throw e})))}processSegmentAgainstRoute(e,t,n,l,i,s,o){return function(e,t,n,l){return!!(getOutlet(e)===l||l!==Tp&&emptyPathMatch(t,n,e))&&match(t,e,n).matched}(n,l,i,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(e,l,n,i,s):this.allowRedirects&&o?this.expandSegmentAgainstRouteUsingRedirect(e,l,t,n,i,s):noMatch$1(l):noMatch$1(l)}expandSegmentAgainstRouteUsingRedirect(e,t,n,l,i,s){const{matched:o,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=match(t,l,i);if(!o)return noMatch$1(t);l.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const m=this.applyRedirects.applyRedirectCommands(u,l.redirectTo,d);return this.applyRedirects.lineralizeSegments(l,m).pipe(mergeMap((l=>this.processSegment(e,n,t,l.concat(h),s,!1))))}matchSegmentAgainstRoute(e,t,n,l,i){const s=matchWithChecks(t,n,l,e,this.urlSerializer);return"**"===n.path&&(t.children={}),s.pipe(switchMap((s=>s.matched?(e=n._injector??e,this.getChildConfig(e,n,l).pipe(switchMap((({routes:l})=>{const o=n._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=s,m=new ActivatedRouteSnapshot(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function(e){return e.data||{}}(n),getOutlet(n),n.component??n._loadedComponent??null,n,function(e){return e.resolve||{}}(n)),{segmentGroup:b,slicedSegments:V}=split(t,u,d,l);if(0===V.length&&b.hasChildren())return this.processChildren(o,l,b).pipe(map$1((e=>null===e?null:new TreeNode(m,e))));if(0===l.length&&0===V.length)return of(new TreeNode(m,[]));const g=getOutlet(n)===i;return this.processSegment(o,l,b,V,g?Tp:i,!0).pipe(map$1((e=>new TreeNode(m,e instanceof TreeNode?[e]:[]))))})))):noMatch$1(t))))}getChildConfig(e,t,n){return t.children?of({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?of({routes:t._loadedRoutes,injector:t._loadedInjector}):runCanLoadGuards(e,t,n,this.urlSerializer).pipe(mergeMap((n=>n?this.configLoader.loadChildren(e,t).pipe(tap((e=>{t._loadedRoutes=e.routes,t._loadedInjector=e.injector}))):throwError$2(navigationCancelingError(!1,Pp.GuardRejected))))):of({routes:[],injector:e})}}function hasEmptyPathConfig(e){const t=e.value.routeConfig;return t&&""===t.path}function mergeEmptyPathMatches(e){const t=[],n=new Set;for(const l of e){if(!hasEmptyPathConfig(l)){t.push(l);continue}const e=t.find((e=>l.value.routeConfig===e.value.routeConfig));void 0!==e?(e.children.push(...l.children),n.add(e)):t.push(l)}for(const e of n){const n=mergeEmptyPathMatches(e.children);t.push(new TreeNode(e.value,n))}return t.filter((e=>!n.has(e)))}function recognize(e,t,n,l,i,s){return mergeMap((o=>function(e,t,n,l,i,s,o="emptyOnly"){return new Recognizer(e,t,n,l,i,o,s).recognize()}(e,t,n,l,o.extractedUrl,i,s).pipe(map$1((({state:e,tree:t})=>({...o,targetSnapshot:e,urlAfterRedirects:t}))))))}function resolveData(e,t){return mergeMap((n=>{const{targetSnapshot:l,guards:{canActivateChecks:i}}=n;if(!i.length)return of(n);const s=new Set(i.map((e=>e.route))),o=new Set;for(const e of s)if(!o.has(e))for(const t of flattenRouteTree(e))o.add(t);let u=0;return from(o).pipe(concatMap((n=>s.has(n)?function(e,t,n,l){const i=e.routeConfig,s=e._resolve;void 0===i?.title||hasStaticTitle(i)||(s[vp]=i.title);return function(e,t,n,l){const i=getDataKeys(e);if(0===i.length)return of({});const s={};return from(i).pipe(mergeMap((i=>function(e,t,n,l){const i=getClosestRouteInjector(t)??l,s=getTokenOrFunctionIdentity(e,i),o=s.resolve?s.resolve(t,n):runInInjectionContext(i,(()=>s(t,n)));return wrapIntoObservable(o)}(e[i],t,n,l).pipe(first(),tap((e=>{s[i]=e}))))),takeLast(1),(o=s,map$1((function(){return o}))),catchError((e=>isEmptyError(e)?hl:throwError$2(e))));var o}(s,e,t,l).pipe(map$1((t=>(e._resolvedData=t,e.data=getInherited(e,e.parent,n).resolve,null))))}(n,l,e,t):(n.data=getInherited(n,n.parent,e).resolve,of(void 0)))),tap((()=>u++)),takeLast(1),mergeMap((e=>u===o.size?of(n):hl)))}))}function flattenRouteTree(e){const t=e.children.map((e=>flattenRouteTree(e))).flat();return[e,...t]}function switchTap(e){return switchMap((t=>{const n=e(t);return n?from(n).pipe(map$1((()=>t))):of(t)}))}let $p=(()=>{var e;class TitleStrategy2{buildTitle(e){let t,n=e.root;for(;void 0!==n;)t=this.getResolvedTitleForRoute(n)??t,n=n.children.find((e=>e.outlet===Tp));return t}getResolvedTitleForRoute(e){return e.data[vp]}}return(e=TitleStrategy2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:()=>inject(eZ),providedIn:"root"}),TitleStrategy2})(),eZ=(()=>{var e;class DefaultTitleStrategy2 extends $p{constructor(e){super(),this.title=e}updateTitle(e){const t=this.buildTitle(e);void 0!==t&&this.title.setTitle(t)}}return(e=DefaultTitleStrategy2).fac=function(t){return new(t||e)(inject(em))},e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"root"}),DefaultTitleStrategy2})();const tZ=new InjectionToken("",{providedIn:"root",factory:()=>({})}),nZ=new InjectionToken("");let lZ=(()=>{var e;class RouterConfigLoader2{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=inject(Bu)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return of(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const t=wrapIntoObservable(e.loadComponent()).pipe(map$1(maybeUnwrapDefaultExport),tap((t=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=t})),finalize((()=>{this.componentLoaders.delete(e)}))),n=new $n(t,(()=>new tl)).pipe(refCount());return this.componentLoaders.set(e,n),n}loadChildren(e,t){if(this.childrenLoaders.get(t))return this.childrenLoaders.get(t);if(t._loadedRoutes)return of({routes:t._loadedRoutes,injector:t._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(t);const n=function(e,t,n,l){return wrapIntoObservable(e.loadChildren()).pipe(map$1(maybeUnwrapDefaultExport),mergeMap((e=>e instanceof NgModuleFactory$1||Array.isArray(e)?of(e):from(t.compileModuleAsync(e)))),map$1((t=>{let i,s;l&&l(e),Array.isArray(t)?s=t:(i=t.create(n).injector,s=i.get(nZ,[],{optional:!0,self:!0}).flat());return{routes:s.map(standardizeConfig),injector:i}})))}(t,this.compiler,e,this.onLoadEndListener),l=n.pipe(finalize((()=>{this.childrenLoaders.delete(t)}))),i=new $n(l,(()=>new tl)).pipe(refCount());return this.childrenLoaders.set(t,i),i}}return(e=RouterConfigLoader2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"root"}),RouterConfigLoader2})();function maybeUnwrapDefaultExport(e){return(t=e)&&"object"==typeof t&&"default"in t?e.default:e;var t}let iZ=(()=>{var e;class UrlHandlingStrategy2{}return(e=UrlHandlingStrategy2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:()=>inject(sZ),providedIn:"root"}),UrlHandlingStrategy2})(),sZ=(()=>{var e;class DefaultUrlHandlingStrategy2{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}return(e=DefaultUrlHandlingStrategy2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"root"}),DefaultUrlHandlingStrategy2})();const oZ=new InjectionToken("");let cZ=(()=>{var e;class NavigationTransitions2{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new tl,this.transitionAbortSubject=new tl,this.configLoader=inject(lZ),this.environmentInjector=inject(EnvironmentInjector),this.urlSerializer=inject(Hp),this.rootContexts=inject(Bp),this.location=inject(gd),this.inputBindingEnabled=null!==inject(_p,{optional:!0}),this.titleStrategy=inject($p),this.options=inject(tZ,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=inject(iZ),this.createViewTransition=inject(oZ,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>of(void 0),this.rootComponentType=null;this.configLoader.onLoadEndListener=e=>this.events.next(new RouteConfigLoadEnd(e)),this.configLoader.onLoadStartListener=e=>this.events.next(new RouteConfigLoadStart(e))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const t=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:t})}setupNavigations(e,t,n){return this.transitions=new ll({id:0,currentUrlTree:t,currentRawUrl:t,extractedUrl:this.urlHandlingStrategy.extract(t),urlAfterRedirects:this.urlHandlingStrategy.extract(t),rawUrl:t,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Mp,restoredState:null,currentSnapshot:n.snapshot,targetSnapshot:null,currentRouterState:n,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(filter((e=>0!==e.id)),map$1((e=>({...e,extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)}))),switchMap((t=>{this.currentTransition=t;let n=!1,l=!1;return of(t).pipe(tap((e=>{this.currentNavigation={id:e.id,initialUrl:e.rawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}})),switchMap((n=>{const l=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),i=n.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!l&&"reload"!==i){const e="";return this.events.next(new NavigationSkipped(n.id,this.urlSerializer.serialize(n.rawUrl),e,jp.IgnoredSameUrlNavigation)),n.resolve(null),hl}if(this.urlHandlingStrategy.shouldProcessUrl(n.rawUrl))return of(n).pipe(switchMap((e=>{const t=this.transitions?.getValue();return this.events.next(new NavigationStart(e.id,this.urlSerializer.serialize(e.extractedUrl),e.source,e.restoredState)),t!==this.transitions?.getValue()?hl:Promise.resolve(e)})),recognize(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),tap((e=>{t.targetSnapshot=e.targetSnapshot,t.urlAfterRedirects=e.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:e.urlAfterRedirects};const n=new RoutesRecognized(e.id,this.urlSerializer.serialize(e.extractedUrl),this.urlSerializer.serialize(e.urlAfterRedirects),e.targetSnapshot);this.events.next(n)})));if(l&&this.urlHandlingStrategy.shouldProcessUrl(n.currentRawUrl)){const{id:e,extractedUrl:l,source:i,restoredState:s,extras:o}=n,u=new NavigationStart(e,this.urlSerializer.serialize(l),i,s);this.events.next(u);const d=createEmptyState(this.rootComponentType).snapshot;return this.currentTransition=t={...n,targetSnapshot:d,urlAfterRedirects:l,extras:{...o,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=l,of(t)}{const e="";return this.events.next(new NavigationSkipped(n.id,this.urlSerializer.serialize(n.extractedUrl),e,jp.IgnoredByUrlHandlingStrategy)),n.resolve(null),hl}})),tap((e=>{const t=new GuardsCheckStart(e.id,this.urlSerializer.serialize(e.extractedUrl),this.urlSerializer.serialize(e.urlAfterRedirects),e.targetSnapshot);this.events.next(t)})),map$1((e=>(this.currentTransition=t={...e,guards:getAllRouteGuards(e.targetSnapshot,e.currentSnapshot,this.rootContexts)},t))),checkGuards(this.environmentInjector,(e=>this.events.next(e))),tap((e=>{if(t.guardsResult=e.guardsResult,isUrlTree(e.guardsResult))throw redirectingNavigationError(this.urlSerializer,e.guardsResult);const n=new GuardsCheckEnd(e.id,this.urlSerializer.serialize(e.extractedUrl),this.urlSerializer.serialize(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.events.next(n)})),filter((e=>!!e.guardsResult||(this.cancelNavigationTransition(e,"",Pp.GuardRejected),!1))),switchTap((e=>{if(e.guards.canActivateChecks.length)return of(e).pipe(tap((e=>{const t=new ResolveStart(e.id,this.urlSerializer.serialize(e.extractedUrl),this.urlSerializer.serialize(e.urlAfterRedirects),e.targetSnapshot);this.events.next(t)})),switchMap((e=>{let t=!1;return of(e).pipe(resolveData(this.paramsInheritanceStrategy,this.environmentInjector),tap({next:()=>t=!0,complete:()=>{t||this.cancelNavigationTransition(e,"",Pp.NoDataFromResolver)}}))})),tap((e=>{const t=new ResolveEnd(e.id,this.urlSerializer.serialize(e.extractedUrl),this.urlSerializer.serialize(e.urlAfterRedirects),e.targetSnapshot);this.events.next(t)})))})),switchTap((e=>{const loadComponents=e=>{const t=[];e.routeConfig?.loadComponent&&!e.routeConfig._loadedComponent&&t.push(this.configLoader.loadComponent(e.routeConfig).pipe(tap((t=>{e.component=t})),map$1((()=>{}))));for(const n of e.children)t.push(...loadComponents(n));return t};return combineLatest(loadComponents(e.targetSnapshot.root)).pipe(defaultIfEmpty(null),take(1))})),switchTap((()=>this.afterPreactivation())),switchMap((()=>{const{currentSnapshot:e,targetSnapshot:n}=t,l=this.createViewTransition?.(this.environmentInjector,e.root,n.root);return l?from(l).pipe(map$1((()=>t))):of(t)})),map$1((n=>{const l=function(e,t,n){const l=createNode(e,t._root,n?n._root:void 0);return new RouterState(l,t)}(e.routeReuseStrategy,n.targetSnapshot,n.currentRouterState);return this.currentTransition=t={...n,targetRouterState:l},this.currentNavigation.targetRouterState=l,t})),tap((()=>{this.events.next(new BeforeActivateRoutes)})),(i=this.rootContexts,s=e.routeReuseStrategy,o=e=>this.events.next(e),u=this.inputBindingEnabled,map$1((e=>(new ActivateRoutes(s,e.targetRouterState,e.currentRouterState,o,u).activate(i),e)))),take(1),tap({next:e=>{n=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new NavigationEnd(e.id,this.urlSerializer.serialize(e.extractedUrl),this.urlSerializer.serialize(e.urlAfterRedirects))),this.titleStrategy?.updateTitle(e.targetRouterState.snapshot),e.resolve(!0)},complete:()=>{n=!0}}),takeUntil(this.transitionAbortSubject.pipe(tap((e=>{throw e})))),finalize((()=>{if(!n&&!l){const e="";this.cancelNavigationTransition(t,e,Pp.SupersededByNewNavigation)}this.currentTransition?.id===t.id&&(this.currentNavigation=null,this.currentTransition=null)})),catchError((n=>{if(l=!0,isNavigationCancelingError(n))this.events.next(new NavigationCancel(t.id,this.urlSerializer.serialize(t.extractedUrl),n.message,n.cancellationCode)),isNavigationCancelingError(i=n)&&isUrlTree(i.url)?this.events.next(new RedirectRequest(n.url)):t.resolve(!1);else{this.events.next(new NavigationError(t.id,this.urlSerializer.serialize(t.extractedUrl),n,t.targetSnapshot??void 0));try{t.resolve(e.errorHandler(n))}catch(e){this.options.resolveNavigationPromiseOnError?t.resolve(!1):t.reject(e)}}var i;return hl})));var i,s,o,u})))}cancelNavigationTransition(e,t,n){const l=new NavigationCancel(e.id,this.urlSerializer.serialize(e.extractedUrl),t,n);this.events.next(l),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}}return(e=NavigationTransitions2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"root"}),NavigationTransitions2})();let aZ=(()=>{var e;class RouteReuseStrategy2{}return(e=RouteReuseStrategy2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:()=>inject(rZ),providedIn:"root"}),RouteReuseStrategy2})();class BaseRouteReuseStrategy{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let rZ=(()=>{var e;class DefaultRouteReuseStrategy2 extends BaseRouteReuseStrategy{}return(e=DefaultRouteReuseStrategy2).fac=(()=>{let t;return function(n){return(t||(t=getInheritedFactory(e)))(n||e)}})(),e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"root"}),DefaultRouteReuseStrategy2})(),uZ=(()=>{var e;class StateManager2{}return(e=StateManager2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:()=>inject(dZ),providedIn:"root"}),StateManager2})(),dZ=(()=>{var e;class HistoryStateManager2 extends uZ{constructor(){super(...arguments),this.location=inject(gd),this.urlSerializer=inject(Hp),this.options=inject(tZ,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=inject(iZ),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new UrlTree,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=createEmptyState(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe((t=>{"popstate"===t.type&&e(t.url,t.state)}))}handleRouterEvent(e,t){if(e instanceof NavigationStart)this.stateMemento=this.createStateMemento();else if(e instanceof NavigationSkipped)this.rawUrlTree=t.initialUrl;else if(e instanceof RoutesRecognized){if("eager"===this.urlUpdateStrategy&&!t.extras.skipLocationChange){const e=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl);this.setBrowserUrl(e,t)}}else e instanceof BeforeActivateRoutes?(this.currentUrlTree=t.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t))):e instanceof NavigationCancel&&(e.code===Pp.GuardRejected||e.code===Pp.NoDataFromResolver)?this.restoreHistory(t):e instanceof NavigationError?this.restoreHistory(t,!0):e instanceof NavigationEnd&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl){const e=this.browserPageId,l={...t.extras.state,...this.generateNgRouterState(t.id,e)};this.location.replaceState(n,"",l)}else{const e={...t.extras.state,...this.generateNgRouterState(t.id,this.browserPageId+1)};this.location.go(n,"",e)}}restoreHistory(e,t=!1){if("computed"===this.canceledNavigationResolution){const t=this.browserPageId,n=this.currentPageId-t;0!==n?this.location.historyGo(n):this.currentUrlTree===e.finalUrl&&0===n&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"routerPageId":t}:{navigationId:e}}}return(e=HistoryStateManager2).fac=(()=>{let t;return function(n){return(t||(t=getInheritedFactory(e)))(n||e)}})(),e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"root"}),HistoryStateManager2})();var hZ=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(hZ||{});function defaultErrorHandler(e){throw e}const mZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let pZ=(()=>{var e;class Router2{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=inject(Cu),this.stateManager=inject(uZ),this.options=inject(tZ,{optional:!0})||{},this.pendingTasks=inject(Ku),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=inject(cZ),this.urlSerializer=inject(Hp),this.location=inject(gd),this.urlHandlingStrategy=inject(iZ),this._events=new tl,this.errorHandler=this.options.errorHandler||defaultErrorHandler,this.navigated=!1,this.routeReuseStrategy=inject(aZ),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=inject(nZ,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!inject(_p,{optional:!0}),this.eventsSubscription=new En,this.isNgZoneEnabled=inject(NgZone)instanceof NgZone&&NgZone.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe((e=>{try{const n=this.navigationTransitions.currentTransition,l=this.navigationTransitions.currentNavigation;if(null!==n&&null!==l)if(this.stateManager.handleRouterEvent(e,l),e instanceof NavigationCancel&&e.code!==Pp.Redirect&&e.code!==Pp.SupersededByNewNavigation)this.navigated=!0;else if(e instanceof NavigationEnd)this.navigated=!0;else if(e instanceof RedirectRequest){const l=this.urlHandlingStrategy.merge(e.url,n.currentRawUrl),i={info:n.extras.info,skipLocationChange:n.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||(t=n.source,t!==Mp)};this.scheduleNavigation(l,Mp,null,i,{resolve:n.resolve,reject:n.reject,promise:n.promise})}(function(e){return!(e instanceof BeforeActivateRoutes||e instanceof RedirectRequest)})(e)&&this._events.next(e)}catch(e){this.navigationTransitions.transitionAbortSubject.next(e)}var t}));this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener(((e,t)=>{setTimeout((()=>{this.navigateToSyncWithBrowser(e,"popstate",t)}),0)})))}navigateToSyncWithBrowser(e,t,n){const l={replaceUrl:!0},i=n?.navigationId?n:null;if(n){const e={...n};delete e.navigationId,delete e.routerPageId,0!==Object.keys(e).length&&(l.state=e)}const s=this.parseUrl(e);this.scheduleNavigation(s,t,i,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(standardizeConfig),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,t={}){const{relativeTo:n,queryParams:l,fragment:i,queryParamsHandling:s,preserveFragment:o}=t,u=o?this.currentUrlTree.fragment:i;let d,h=null;switch(s){case"merge":h={...this.currentUrlTree.queryParams,...l};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=l||null}null!==h&&(h=this.removeEmptyProps(h));try{d=createSegmentGroupFromRoute(n?n.snapshot:this.routerState.snapshot.root)}catch(t){"string"==typeof e[0]&&e[0].startsWith("/")||(e=[]),d=this.currentUrlTree.root}return createUrlTreeFromSegmentGroup(d,e,h,u??null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=isUrlTree(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(l,Mp,null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){if(null==e[t])throw new RuntimeError(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,t){let n;if(n=!0===t?{...mZ}:!1===t?{...bZ}:t,isUrlTree(e))return containsTree(this.currentUrlTree,e,n);const l=this.parseUrl(e);return containsTree(this.currentUrlTree,l,n)}removeEmptyProps(e){return Object.entries(e).reduce(((e,[t,n])=>(null!=n&&(e[t]=n),e)),{})}scheduleNavigation(e,t,n,l,i){if(this.disposed)return Promise.resolve(!1);let s,o,u;i?(s=i.resolve,o=i.reject,u=i.promise):u=new Promise(((e,t)=>{s=e,o=t}));const d=this.pendingTasks.add();var h;return h=()=>{queueMicrotask((()=>this.pendingTasks.remove(d)))},this.events.pipe(filter((e=>e instanceof NavigationEnd||e instanceof NavigationCancel||e instanceof NavigationError||e instanceof NavigationSkipped)),map$1((e=>e instanceof NavigationEnd||e instanceof NavigationSkipped?hZ.COMPLETE:e instanceof NavigationCancel&&(e.code===Pp.Redirect||e.code===Pp.SupersededByNewNavigation)?hZ.REDIRECTING:hZ.FAILED)),filter((e=>e!==hZ.REDIRECTING)),take(1)).subscribe((()=>{h()})),this.navigationTransitions.handleNavigationRequest({source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:l,resolve:s,reject:o,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch((e=>Promise.reject(e)))}}return(e=Router2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"root"}),Router2})();const ZZ=new InjectionToken("");function provideRouter(e,...t){return makeEnvironmentProviders([{provide:nZ,multi:!0,useValue:e},[],{provide:ActivatedRoute,useFactory:rootRoute,deps:[pZ]},{provide:wu,multi:!0,useFactory:getBootstrapListener},t.map((e=>e.providers))])}function rootRoute(e){return e.routerState.root}function getBootstrapListener(){const e=inject(Fr);return t=>{const n=e.get(ju);if(t!==n.components[0])return;const l=e.get(pZ),i=e.get(yZ);1===e.get(GZ)&&l.initialNavigation(),e.get(XZ,null,Jo.Optional)?.setUpPreloading(),e.get(ZZ,null,Jo.Optional)?.init(),l.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const yZ=new InjectionToken("",{factory:()=>new tl}),GZ=new InjectionToken("",{providedIn:"root",factory:()=>1}),XZ=new InjectionToken("");var VZ={VITE_FIREBASE_CONFIG:'{"apiKey":"AIzaSyC7Tu56_1ry-u9AnZfg_AjiMWvvNmFIPGU","authDomain":"test-projects-19046.firebaseapp.com","projectId":"test-projects-19046","storageBucket":"test-projects-19046.appspot.com","messagingSenderId":"736849418469","appId":"1:736849418469:web:7546f16c5e355b1c6a9c0c","measurementId":"G-FKRCW93P0X"}',VITE_CJS_IGNORE_WARNING:"true",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!0};const WZ=Symbol("@analogjs/router Route Meta Tags Key"),RZ="charset",gZ="http-equiv",IZ="name",fZ="property";function updateMetaTagsOnRouteChange(){const e=inject(pZ),t=inject(qh);e.events.pipe(filter((e=>e instanceof NavigationEnd))).subscribe((()=>{const n=function(e){const t={};let n=e;for(;n;){const e=n.data[WZ]??[];for(const n of e)t[getMetaTagSelector(n)]=n;n=n.firstChild}return t}(e.routerState.snapshot.root);for(const e in n){const l=n[e];t.updateTag(l,e)}}))}function getMetaTagSelector(e){return e.name?`${IZ}="${e.name}"`:e.property?`${fZ}="${e.property}"`:e.httpEquiv?`${gZ}="${e.httpEquiv}"`:RZ}const SZ=Symbol("@analogjs/router Analog Route Metadata Key"),LZ=Object.assign({});function toRouteConfig(e){if(e&&function(e){return!!e.redirectTo}(e))return e;let{meta:t,...n}=e??{};return Array.isArray(t)?n.data={...n.data,[WZ]:t}:"function"==typeof t&&(n.resolve={...n.resolve,[WZ]:t}),n||(n={}),n.resolve={...n.resolve,load:e=>__async$1(this,null,(function*(){const t=e.routeConfig;if(LZ[t[SZ].endpointKey]){const{queryParams:n,fragment:l,params:i,parent:s}=e,o=s?.url.map((e=>e.path)).join("/")||"",u=new URL("",VZ.VITE_ANALOG_PUBLIC_BASE_URL);if(u.pathname=`/api/_analog${t[SZ].endpoint}`,u.search=`${new URLSearchParams(n).toString()}`,u.hash=l??"",Object.keys(i).forEach((e=>{u.pathname=u.pathname.replace(`[${e}]`,i[e])})),u.pathname=u.pathname.replace("**",o),globalThis.$fetch)return globalThis.$fetch(u.pathname);return firstValueFrom(inject(rh).get(`${u.href}`))}return{}}))},n}const YZ="undefined"!=typeof Zone&&!!Zone.root;function toMarkdownModule(e){return()=>__async$1(this,null,(function*(){const createLoader=()=>Promise.all([Promise.resolve().then((function(){return KV})),e()]),[{parseRawContentFile:t,MarkdownRouteComponent:n,ContentRenderer:l},i]=yield YZ?Zone.root.run(createLoader):createLoader(),{content:s,attributes:o}=t(i),{title:u,meta:d}=o;return{default:n,routeMeta:{data:{_analogContent:s},title:u,meta:d,resolve:{renderedAnalogContent:()=>__async$1(this,null,(function*(){return inject(l).render(s)}))}}}}))}const KZ=".server.ts",xZ="src/app";function toSegment(e){return e.replace(/index|\(.*?\)/g,"").replace(/\.|\/+/g,"/").replace(/^\/+|\/+$/g,"")}function toRoutes(e,t){const n=[];for(const l of e){const e=l.children.length>0?toRoutes(l.children,t):void 0;let i,s;if(l.filename){const e=l.filename.endsWith(".md");i=e?toMarkdownModule(t[l.filename]):t[l.filename];const n=l.filename.replace(/\.page\.(ts|analog)$/,KZ),o=(l.filename.replace(/\.page\.(ts|analog)$/,"").replace(/\[\.{3}.+\]/,"**").split(xZ)[1]||"").replace(/\./g,"/").replace(/\/\((.*?)\)$/,"/-$1-");s={endpoint:o,endpointKey:n}}const o=i?{path:l.segment,loadChildren:()=>i().then((t=>[{path:"",component:t.default,...toRouteConfig(t.routeMeta),children:e,[SZ]:s}]))}:{path:l.segment,children:e};n.push(o)}return n}function sortRawRoutes(e){e.sort(((e,t)=>{let n=deprioritizeSegment(e.segment),l=deprioritizeSegment(t.segment);return e.children.length>t.children.length?n=`~${n}`:e.children.length<t.children.length&&(l=`~${l}`),n>l?1:-1}));for(const t of e)sortRawRoutes(t.children)}function deprioritizeSegment(e){return e.replace(":","~~").replace("**","~~~~")}const NZ=function(e){var t,n;const l=Object.keys(e);if(0===l.length)return[];const i=l.reduce(((e,t)=>{const n=function(e){return e.replace(/^\/(.*?)\/routes\/|^\/(.*?)\/pages\/|\/app\/routes\/|(\.page\.(js|ts|analog)$)|(\.(ts|md|analog)$)/g,"").replace(/\[\.{3}.+\]/,"**").replace(/\[([^\]]+)\]/g,":$1")}(t),l=n.split("/"),i=l.length-1,s=l[i],o=l.slice(0,i);return{...e,[i]:{...e[i],[n]:{filename:t,rawSegment:s,ancestorRawSegments:o,segment:toSegment(s),level:i,children:[]}}}}),{}),s=Object.keys(i).map(Number);for(let e=Math.max(...s);e>0;e--){const l=i[e],s=Object.keys(l);for(const o of s){const s=l[o],u=s.ancestorRawSegments.join("/"),d=s.ancestorRawSegments.length-1,h=s.ancestorRawSegments[d];i[t=e-1]||(i[t]={}),(n=i[e-1])[u]||(n[u]={filename:null,rawSegment:h,ancestorRawSegments:s.ancestorRawSegments.slice(0,d),segment:toSegment(h),level:e-1,children:[]}),i[e-1][u].children.push(s)}}const o=i[0],u=Object.keys(o).map((e=>o[e]));return sortRawRoutes(u),toRoutes(u,e)}({...Object.assign({"/src/app/pages/index.page.ts":()=>Promise.resolve().then((function(){return FV}))}),...Object.assign({})});function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function toPropertyKey(e){var t=function(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_typeof(t)?t:String(t)}function _defineProperty(e,t,n){return(t=toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const TZ=new Version("ANGULARFIRE2_VERSION");function getDefaultInstanceOf(e,t,n){if(t){if(1===t.length)return t[0];const e=t.filter((e=>e.app===n));if(1===e.length)return e[0]}return n.container.getProvider(e).getImmediate({optional:!0})}const getAllInstancesOf=(e,t)=>{const n=t?[t]:getApps(),l=[];return n.forEach((t=>{t.container.getProvider(e).instances.forEach((e=>{l.includes(e)||l.push(e)}))})),l};class AppCheckInstances{constructor(){return getAllInstancesOf(vZ)}}const vZ="app-check";function noop(){}class ZoneScheduler{constructor(e,t=dl){_defineProperty(this,"zone",void 0),_defineProperty(this,"delegate",void 0),this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const l=this.zone;return this.delegate.schedule((function(t){l.runGuarded((()=>{e.apply(this,[t])}))}),t,n)}}class BlockUntilFirstOperator{constructor(e){_defineProperty(this,"zone",void 0),_defineProperty(this,"task",null),this.zone=e}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run((()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",noop,{},noop,noop))),t.pipe(tap({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout((()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}),10)}}let kZ=(()=>{var e;class AngularFireSchedulers2{constructor(e){_defineProperty(this,"ngZone",void 0),_defineProperty(this,"outsideAngular",void 0),_defineProperty(this,"insideAngular",void 0),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((()=>new ZoneScheduler(Zone.current))),this.insideAngular=e.run((()=>new ZoneScheduler(Zone.current,rl))),globalThis.AngularFireScheduler||(globalThis.AngularFireScheduler=this)}}return e=AngularFireSchedulers2,_defineProperty(AngularFireSchedulers2,"fac",(function(t){return new(t||e)(inject(NgZone))})),_defineProperty(AngularFireSchedulers2,"prov",defineInjectable({token:e,factory:e.fac,providedIn:"root"})),AngularFireSchedulers2})();function getSchedulers(){const e=globalThis.AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function run(e){return getSchedulers().ngZone.run((()=>e()))}function keepUnstableUntilFirst(e){return(t=getSchedulers(),function(e){return(e=e.lift(new BlockUntilFirstOperator(t.ngZone))).pipe(subscribeOn(t.outsideAngular),observeOn(t.insideAngular))})(e);var t}const zoneWrapFn=(e,t)=>function(){const n=arguments;return t&&setTimeout((()=>{"scheduled"===t.state&&t.invoke()}),10),run((()=>e.apply(undefined,n)))},zoneWrap=(e,t)=>function(){let n;const l=arguments;for(let e=0;e<arguments.length;e++)"function"==typeof l[e]&&(t&&(n||(n=run((()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",noop,{},noop,noop))))),l[e]=zoneWrapFn(l[e],n));const i=function(e){return getSchedulers().ngZone.runOutsideAngular((()=>e()))}((()=>e.apply(this,l)));if(!t){if(i instanceof An){const e=getSchedulers();return i.pipe(subscribeOn(e.outsideAngular),observeOn(e.insideAngular))}return run((()=>i))}return i instanceof An?i.pipe(keepUnstableUntilFirst):i instanceof Promise?run((()=>new Promise(((e,t)=>i.then((t=>run((()=>e(t)))),(e=>run((()=>t(e))))))))):"function"==typeof i&&n?function(){return setTimeout((()=>{n&&"scheduled"===n.state&&n.invoke()}),10),i.apply(this,arguments)}:run((()=>i))};class FirebaseApp{constructor(e){return e}}class FirebaseApps{constructor(){return getApps()}}const CZ=new InjectionToken("angularfire2._apps"),HZ={provide:FirebaseApp,useFactory:function(e){return e&&1===e.length?e[0]:new FirebaseApp(getApp())},deps:[[new Rr,CZ]]},JZ={provide:FirebaseApps,deps:[[new Rr,CZ]]};function firebaseAppFactory(e){return(t,n)=>{const l=t.runOutsideAngular((()=>e(n)));return new FirebaseApp(l)}}let FZ=(()=>{var e;class FirebaseAppModule2{constructor(e){registerVersion("angularfire",TZ.full,"core"),registerVersion("angularfire",TZ.full,"app"),registerVersion("angular",ku.full,e.toString())}}return e=FirebaseAppModule2,_defineProperty(FirebaseAppModule2,"fac",(function(t){return new(t||e)(inject(Ba))})),_defineProperty(FirebaseAppModule2,"mod",defineNgModule({type:e})),_defineProperty(FirebaseAppModule2,"inj",defineInjector({providers:[HZ,JZ]})),FirebaseAppModule2})();const zZ=zoneWrap(initializeApp$1,!0),UZ="auth";class Auth{constructor(e){return e}}class AuthInstances{constructor(){return getAllInstancesOf(UZ)}}const EZ=new InjectionToken("angularfire2.auth-instances");function authInstanceFactory(e){return(t,n)=>{const l=t.runOutsideAngular((()=>e(n)));return new Auth(l)}}const MZ={provide:AuthInstances,deps:[[new Rr,EZ]]},wZ={provide:Auth,useFactory:function(e,t){const n=getDefaultInstanceOf(UZ,e,t);return n&&new Auth(n)},deps:[[new Rr,EZ],FirebaseApp]};let PZ=(()=>{var e;class AuthModule2{constructor(){registerVersion("angularfire",TZ.full,"auth")}}return e=AuthModule2,_defineProperty(AuthModule2,"fac",(function(t){return new(t||e)})),_defineProperty(AuthModule2,"mod",defineNgModule({type:e})),_defineProperty(AuthModule2,"inj",defineInjector({providers:[wZ,MZ]})),AuthModule2})();const jZ=zoneWrap(getAuth$1,!0),BZ=zoneWrap(onIdTokenChanged$1,!0),QZ=zoneWrap(signOut$1,!0);class Firestore{constructor(e){return e}}const _Z="firestore";const DZ=new InjectionToken("angularfire2.firestore-instances");function firestoreInstanceFactory(e){return(t,n)=>{const l=t.runOutsideAngular((()=>e(n)));return new Firestore(l)}}const OZ={provide:class{constructor(){return getAllInstancesOf(_Z)}},deps:[[new Rr,DZ]]},AZ={provide:Firestore,useFactory:function(e,t){const n=getDefaultInstanceOf(_Z,e,t);return n&&new Firestore(n)},deps:[[new Rr,DZ],FirebaseApp]};let qZ=(()=>{var e;class FirestoreModule2{constructor(){registerVersion("angularfire",TZ.full,"fst")}}return e=FirestoreModule2,_defineProperty(FirestoreModule2,"fac",(function(t){return new(t||e)})),_defineProperty(FirestoreModule2,"mod",defineNgModule({type:e})),_defineProperty(FirestoreModule2,"inj",defineInjector({providers:[AZ,OZ]})),FirestoreModule2})();const $Z=zoneWrap(addDoc$1,!0),ey=zoneWrap(collection$1,!0),ty=zoneWrap(deleteDoc$1,!0),ny=zoneWrap(doc$1,!0),ly=zoneWrap(getFirestore$1,!0),iy=zoneWrap(onSnapshot$1,!0),sy=zoneWrap(orderBy$1,!0),oy=zoneWrap(query$1,!0),cy=zoneWrap(serverTimestamp$1,!0),ay=zoneWrap(updateDoc$1,!0),ry=zoneWrap(where$1,!0),uy=JSON.parse('{"apiKey":"AIzaSyC7Tu56_1ry-u9AnZfg_AjiMWvvNmFIPGU","authDomain":"test-projects-19046.firebaseapp.com","projectId":"test-projects-19046","storageBucket":"test-projects-19046.appspot.com","messagingSenderId":"736849418469","appId":"1:736849418469:web:7546f16c5e355b1c6a9c0c","measurementId":"G-FKRCW93P0X"}'),dy={providers:[function(...e){return makeEnvironmentProviders([provideRouter(NZ,...e).providers,{provide:gr,multi:!0,useValue:()=>updateMetaTagsOnRouteChange()}])}(),function(...e){const t=[rh,Gh,Zh,{provide:HttpHandler,useExisting:Zh},{provide:HttpBackend,useExisting:Gh},{provide:mh,useValue:xsrfInterceptorFn,multi:!0},{provide:Xh,useValue:!0},{provide:HttpXsrfTokenExtractor,useClass:Rh}];for(const n of e)t.push(...n.providers);return makeEnvironmentProviders(t)}({"kind":gh.Fetch,"providers":[hh,{provide:HttpBackend,useExisting:hh},{provide:ph,useExisting:hh}]}),function(...e){const t=[],n=new Set,l=n.has(lm.HttpTransferCacheOptions);for(const{"providers":l,"kind":i}of e)n.add(i),l.length&&t.push(l);return makeEnvironmentProviders([[],withDomHydration(),n.has(lm.NoHttpTransferCache)||l?[]:(i={},[{provide:xh,useFactory:()=>(performanceMarkFeature("NgHttpTransferCache"),{isCacheActive:!0,...i})},{provide:bh,useValue:transferCacheInterceptorFn,multi:!0,deps:[or,xh]},{provide:wu,multi:!0,useFactory:()=>{const e=inject(ju),t=inject(xh);return()=>{whenStable(e).then((()=>{t.isCacheActive=!1}))}}}]),t]);var i}(),importProvidersFrom(function(e,...t){return{ngModule:FZ,providers:[{provide:CZ,useFactory:firebaseAppFactory(e),multi:!0,deps:[NgZone,Fr,kZ,...t]}]}}((()=>zZ(uy))),function(e,...t){return{ngModule:qZ,providers:[{provide:DZ,useFactory:firestoreInstanceFactory(e),multi:!0,deps:[NgZone,Fr,kZ,FirebaseApps,[new Rr,AuthInstances],[new Rr,AppCheckInstances],...t]}]}}((()=>ly())),function(e,...t){return{ngModule:PZ,providers:[{provide:EZ,useFactory:authInstanceFactory(e),multi:!0,deps:[NgZone,Fr,kZ,FirebaseApps,[new Rr,AppCheckInstances],...t]}]}}((()=>jZ())))]},hy=function(...e){return e.reduce(((e,t)=>Object.assign(e,t,{providers:[...e.providers,...t.providers]})),{providers:[]})}(dy,{providers:[makeEnvironmentProviders([[...Em],...Yp]),{provide:Np,useValue:"ssr-analog"}]});let my=(()=>{var e;class AppComponent2{}return(e=AppComponent2).fac=function(t){return new(t||e)},e.cmp=defineComponent({type:e,selectors:[["app-root"]],standalone:!0,features:[StandaloneFeature],decls:1,vars:0,template:function(e,t){1&e&&element(0,"router-outlet")},dependencies:[Qp],encapsulation:2}),AppComponent2})();function bootstrap(){return internalCreateApplication({rootComponent:my,...createProvidersConfig(hy)})}const by=je((async e=>await function(e,t){return __async$1(this,null,(function*(){return yield renderApplication(bootstrap,{document:t,url:e})}))}(e.node.req.url,St,(e.node.req,e.node.res)))),py=Object.freeze(Object.defineProperty({__proto__:null,default:by},Symbol.toStringTag,{value:"Module"})),fn=function(){};const Zy=function createMock(e,t={}){fn.prototype.name=e;const n={};return new Proxy(fn,{get:(l,i)=>"caller"===i?null:"__createMock__"===i?createMock:"__unenv__"===i||(i in t?t[i]:n[i]=n[i]||createMock(`${e}.${i.toString()}`)),apply:(t,n,l)=>createMock(`${e}()`),construct:(t,n,l)=>createMock(`[${e}]`),enumerate:()=>[]})}("mock"),yy=Object.freeze(Object.defineProperty({__proto__:null,METHODS:["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PRI","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],STATUS_CODES:{100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a Teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},maxHeaderSize:16384},Symbol.toStringTag,{value:"Module"})),Gy=notImplemented("http.createServer"),Xy=notImplemented("http.request"),Vy=notImplemented("http.get"),Wy=Zy.__createMock__("http.Server"),Ry=Zy.__createMock__("http.OutgoingMessage"),gy=Zy.__createMock__("http.ClientRequest"),Iy=Zy.__createMock__("http.Agent"),fy=new Iy,Sy=notImplemented("http.validateHeaderName"),Ly=notImplemented("http.validateHeaderValue"),Yy=notImplemented("http.setMaxIdleHTTPParsers"),Ky={...yy,IncomingMessage:IncomingMessage,ServerResponse:ServerResponse,createServer:Gy,request:Xy,get:Vy,Server:Wy,OutgoingMessage:Ry,ClientRequest:gy,Agent:Iy,globalAgent:fy,validateHeaderName:Sy,validateHeaderValue:Ly,setMaxIdleHTTPParsers:Yy};const xy=getDefaultExportFromCjs$1(requireProxy()),Ny=globalThis.URL,Ty=globalThis.URLSearchParams,vy={URL:Ny,URLSearchParams:Ty,domainToASCII:function(e){return e},domainToUnicode:function(e){return e},fileURLToPath:function(e){return"string"==typeof e&&(e=new Ny(e)),e.pathname},format:function(e,t){let n;if("string"==typeof e)n=new Ny(e);else{if(!(e instanceof Ny))throw new TypeError("format urlObject is not supported");n=e}return t&&(!1===t.auth&&(n.username="",n.password=""),!1===t.fragment&&(n.hash=""),!1===t.search&&(n.search="")),n.toString()},parse:function(e,t,n){const l=new Ny(e);if(!t&&!n)return l;throw new Error("parseQueryString and slashesDenoteHost are unsupported")},pathToFileURL:function(e){return new Ny(e)},resolve:function(e,t){const n=new Ny(t,new Ny(e,"resolve://"));if("resolve:"===n.protocol){const{pathname:e,search:t,hash:l}=n;return e+t+l}return n.toString()},urlToHttpOptions:function(e){return{protocol:e.protocol,hostname:e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search||"",href:e.href,port:e.port,auth:e.username&&e.username+e.password?":"+e.password:""}}};var ky="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cy={exports:{}};(function(){var e,t,n,l,i,s,o,u,d,h,m;o=function(){class XMLHttpRequestEventTarget2{constructor(){this.onloadstart=null,this.onprogress=null,this.onabort=null,this.onerror=null,this.onload=null,this.ontimeout=null,this.onloadend=null,this._listeners={}}addEventListener(e,t){var n;e=e.toLowerCase(),(n=this._listeners)[e]||(n[e]=[]),this._listeners[e].push(t)}removeEventListener(e,t){var n;e=e.toLowerCase(),this._listeners[e]&&-1!==(n=this._listeners[e].indexOf(t))&&this._listeners[e].splice(n,1)}dispatchEvent(e){var t,n,l,i,s;if(e.currentTarget=e.target=this,t=e.type,s=this._listeners[t])for(n=0,l=s.length;n<l;n++)(i=s[n]).call(this,e);(i=this[`on${t}`])&&i.call(this,e)}}return XMLHttpRequestEventTarget2.prototype.onloadstart=null,XMLHttpRequestEventTarget2.prototype.onprogress=null,XMLHttpRequestEventTarget2.prototype.onabort=null,XMLHttpRequestEventTarget2.prototype.onerror=null,XMLHttpRequestEventTarget2.prototype.onload=null,XMLHttpRequestEventTarget2.prototype.ontimeout=null,XMLHttpRequestEventTarget2.prototype.onloadend=null,XMLHttpRequestEventTarget2}.call(this),d=Ky,h=xy,m=vy,s=function(){class XMLHttpRequest2 extends o{constructor(e){super(),this.onreadystatechange=null,this._anonymous=e&&e.anon,this.readyState=XMLHttpRequest2.UNSENT,this.response=null,this.responseText="",this.responseType="",this.responseURL="",this.status=0,this.statusText="",this.timeout=0,this.upload=new u(this),this._method=null,this._url=null,this._sync=!1,this._headers=null,this._loweredHeaders=null,this._mimeOverride=null,this._request=null,this._response=null,this._responseParts=null,this._responseHeaders=null,this._aborting=null,this._error=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1}open(e,t,n,i,s){var o;if((e=e.toUpperCase())in this._restrictedMethods)throw new l(`HTTP method ${e} is not allowed in XHR`);switch(o=this._parseUrl(t),void 0===n&&(n=!0),this.readyState){case XMLHttpRequest2.UNSENT:case XMLHttpRequest2.OPENED:case XMLHttpRequest2.DONE:case XMLHttpRequest2.HEADERS_RECEIVED:case XMLHttpRequest2.LOADING:}this._method=e,this._url=o,this._sync=!n,this._headers={},this._loweredHeaders={},this._mimeOverride=null,this._setReadyState(XMLHttpRequest2.OPENED),this._request=null,this._response=null,this.status=0,this.statusText="",this._responseParts=[],this._responseHeaders=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1}setRequestHeader(t,n){var l;if(this.readyState!==XMLHttpRequest2.OPENED)throw new e("XHR readyState must be OPENED");l=t.toLowerCase(),this._restrictedHeaders[l]||/^sec\-/.test(l)||/^proxy-/.test(l)?console.warn(`Refused to set unsafe header "${t}"`):(n=n.toString(),l in this._loweredHeaders?(t=this._loweredHeaders[l],this._headers[t]=this._headers[t]+", "+n):(this._loweredHeaders[l]=t,this._headers[t]=n))}send(n){if(this.readyState!==XMLHttpRequest2.OPENED)throw new e("XHR readyState must be OPENED");if(this._request)throw new e("send() already called");switch(this._url.protocol){case"file:":this._sendFile(n);break;case"http:":case"https:":this._sendHttp(n);break;default:throw new t(`Unsupported protocol ${this._url.protocol}`)}}abort(){this._request&&(this._request.abort(),this._setError(),this._dispatchProgress("abort"),this._dispatchProgress("loadend"))}getResponseHeader(e){var t;return this._responseHeaders&&(t=e.toLowerCase())in this._responseHeaders?this._responseHeaders[t]:null}getAllResponseHeaders(){var e,t;return this._responseHeaders?function(){var n,l;for(e in l=[],n=this._responseHeaders)t=n[e],l.push(`${e}: ${t}`);return l}.call(this).join("\r\n"):""}overrideMimeType(t){if(this.readyState===XMLHttpRequest2.LOADING||this.readyState===XMLHttpRequest2.DONE)throw new e("overrideMimeType() not allowed in LOADING or DONE");this._mimeOverride=t.toLowerCase()}nodejsSet(e){var t;if("httpAgent"in e&&(this.nodejsHttpAgent=e.httpAgent),"httpsAgent"in e&&(this.nodejsHttpsAgent=e.httpsAgent),"baseUrl"in e){if(null!==(t=e.baseUrl)&&!m.parse(t,!1,!0).protocol)throw new i("baseUrl must be an absolute URL");this.nodejsBaseUrl=t}}static nodejsSet(e){XMLHttpRequest2.prototype.nodejsSet(e)}_setReadyState(e){var t;this.readyState=e,t=new n("readystatechange"),this.dispatchEvent(t)}_sendFile(){if("GET"!==this._url.method)throw new t("The file protocol only supports GET");throw new Error("Protocol file: not implemented")}_sendHttp(e){if(this._sync)throw new Error("Synchronous XHR processing not implemented");null==e||"GET"!==this._method&&"HEAD"!==this._method?e||(e=""):(console.warn(`Discarding entity body for ${this._method} requests`),e=null),this.upload._setData(e),this._finalizeHeaders(),this._sendHxxpRequest()}_sendHxxpRequest(){var e,t,n;"http:"===this._url.protocol?(t=d,e=this.nodejsHttpAgent):(t=h,e=this.nodejsHttpsAgent),n=t.request({hostname:this._url.hostname,port:this._url.port,path:this._url.path,auth:this._url.auth,method:this._method,headers:this._headers,agent:e}),this._request=n,this.timeout&&n.setTimeout(this.timeout,(()=>this._onHttpTimeout(n))),n.on("response",(e=>this._onHttpResponse(n,e))),n.on("error",(e=>this._onHttpRequestError(n,e))),this.upload._startUpload(n),this._request===n&&this._dispatchProgress("loadstart")}_finalizeHeaders(){var e;this._headers.Connection="keep-alive",this._headers.Host=this._url.host,this._anonymous&&(this._headers.Referer="about:blank"),(e=this._headers)["User-Agent"]||(e["User-Agent"]=this._userAgent),this.upload._finalizeHeaders(this._headers,this._loweredHeaders)}_onHttpResponse(e,t){var n;if(this._request===e){switch(t.statusCode){case 301:case 302:case 303:case 307:case 308:return this._url=this._parseUrl(t.headers.location),this._method="GET","content-type"in this._loweredHeaders&&(delete this._headers[this._loweredHeaders["content-type"]],delete this._loweredHeaders["content-type"]),"Content-Type"in this._headers&&delete this._headers["Content-Type"],delete this._headers["Content-Length"],this.upload._reset(),this._finalizeHeaders(),void this._sendHxxpRequest()}return this._response=t,this._response.on("data",(e=>this._onHttpResponseData(t,e))),this._response.on("end",(()=>this._onHttpResponseEnd(t))),this._response.on("close",(()=>this._onHttpResponseClose(t))),this.responseURL=this._url.href.split("#")[0],this.status=this._response.statusCode,this.statusText=d.STATUS_CODES[this.status],this._parseResponseHeaders(t),(n=this._responseHeaders["content-length"])?(this._totalBytes=parseInt(n),this._lengthComputable=!0):this._lengthComputable=!1,this._setReadyState(XMLHttpRequest2.HEADERS_RECEIVED)}}_onHttpResponseData(e,t){if(this._response===e)return this._responseParts.push(t),this._loadedBytes+=t.length,this.readyState!==XMLHttpRequest2.LOADING&&this._setReadyState(XMLHttpRequest2.LOADING),this._dispatchProgress("progress")}_onHttpResponseEnd(e){if(this._response===e)return this._parseResponse(),this._request=null,this._response=null,this._setReadyState(XMLHttpRequest2.DONE),this._dispatchProgress("load"),this._dispatchProgress("loadend")}_onHttpResponseClose(e){var t;if(this._response===e)return t=this._request,this._setError(),t.abort(),this._setReadyState(XMLHttpRequest2.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}_onHttpTimeout(e){if(this._request===e)return this._setError(),e.abort(),this._setReadyState(XMLHttpRequest2.DONE),this._dispatchProgress("timeout"),this._dispatchProgress("loadend")}_onHttpRequestError(e,t){if(this._request===e)return this._setError(),e.abort(),this._setReadyState(XMLHttpRequest2.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}_dispatchProgress(e){var t;(t=new n(e)).lengthComputable=this._lengthComputable,t.loaded=this._loadedBytes,t.total=this._totalBytes,this.dispatchEvent(t)}_setError(){this._request=null,this._response=null,this._responseHeaders=null,this._responseParts=null}_parseUrl(e){var t,n,l,i,s;return t=null===this.nodejsBaseUrl?e:m.resolve(this.nodejsBaseUrl,e),(s=m.parse(t,!1,!0)).hash=null,!s.auth||null==i&&null==l||(-1===(n=s.auth.indexOf(":"))?i||(i=s.auth):(i||(i=s.substring(0,n)),l||(l=s.substring(n+1)))),(i||l)&&(s.auth=`${i}:${l}`),s}_parseResponseHeaders(e){var t,n,l,i;for(n in this._responseHeaders={},l=e.headers)i=l[n],t=n.toLowerCase(),this._privateHeaders[t]||(null!==this._mimeOverride&&"content-type"===t&&(i=this._mimeOverride),this._responseHeaders[t]=i);null===this._mimeOverride||"content-type"in this._responseHeaders||(this._responseHeaders["content-type"]=this._mimeOverride)}_parseResponse(){var e,t,n,l,i,s;switch(t=E.concat?E.concat(this._responseParts):this._concatBuffers(this._responseParts),this._responseParts=null,this.responseType){case"text":default:this._parseTextResponse(t);break;case"json":this.responseText=null;try{this.response=JSON.parse(t.toString("utf-8"))}catch(e){this.response=null}break;case"buffer":this.responseText=null,this.response=t;break;case"arraybuffer":for(this.responseText=null,e=new ArrayBuffer(t.length),s=new Uint8Array(e),n=l=0,i=t.length;0<=i?l<i:l>i;n=0<=i?++l:--l)s[n]=t[n];this.response=e}}_parseTextResponse(e){try{this.responseText=e.toString(this._parseResponseEncoding())}catch(t){this.responseText=e.toString("binary")}this.response=this.responseText}_parseResponseEncoding(){var e,t;return(e=this._responseHeaders["content-type"])&&(t=/\;\s*charset\=(.*)$/.exec(e))?t[1]:"utf-8"}_concatBuffers(e){var t,n,l,i,s,o,u;if(0===e.length)return E.alloc(0);if(1===e.length)return e[0];for(o=0,n=0,i=e.length;n<i;n++)o+=(t=e[n]).length;for(u=E.alloc(o),o=0,l=0,s=e.length;l<s;l++)(t=e[l]).copy(u,o),o+=t.length;return u}}return XMLHttpRequest2.prototype.onreadystatechange=null,XMLHttpRequest2.prototype.readyState=null,XMLHttpRequest2.prototype.response=null,XMLHttpRequest2.prototype.responseText=null,XMLHttpRequest2.prototype.responseType=null,XMLHttpRequest2.prototype.status=null,XMLHttpRequest2.prototype.timeout=null,XMLHttpRequest2.prototype.upload=null,XMLHttpRequest2.prototype.UNSENT=0,XMLHttpRequest2.UNSENT=0,XMLHttpRequest2.prototype.OPENED=1,XMLHttpRequest2.OPENED=1,XMLHttpRequest2.prototype.HEADERS_RECEIVED=2,XMLHttpRequest2.HEADERS_RECEIVED=2,XMLHttpRequest2.prototype.LOADING=3,XMLHttpRequest2.LOADING=3,XMLHttpRequest2.prototype.DONE=4,XMLHttpRequest2.DONE=4,XMLHttpRequest2.prototype.nodejsHttpAgent=d.globalAgent,XMLHttpRequest2.prototype.nodejsHttpsAgent=h.globalAgent,XMLHttpRequest2.prototype.nodejsBaseUrl=null,XMLHttpRequest2.prototype._restrictedMethods={CONNECT:!0,TRACE:!0,TRACK:!0},XMLHttpRequest2.prototype._restrictedHeaders={"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,via:!0},XMLHttpRequest2.prototype._privateHeaders={"set-cookie":!0,"set-cookie2":!0},XMLHttpRequest2.prototype._userAgent="Mozilla/5.0 ( ) node.js/node v8/v8",XMLHttpRequest2}.call(this),Cy.exports=s,s.XMLHttpRequest=s,l=class extends Error{constructor(){super()}},s.SecurityError=l,e=class extends Error{constructor(){super()}},e=class extends Error{},s.InvalidStateError=e,t=class extends Error{constructor(){super()}},s.SyntaxError=i,i=class extends Error{constructor(){super()}},n=function(){class ProgressEvent2{constructor(e){this.type=e,this.target=null,this.currentTarget=null,this.lengthComputable=!1,this.loaded=0,this.total=0}}return ProgressEvent2.prototype.bubbles=!1,ProgressEvent2.prototype.cancelable=!1,ProgressEvent2.prototype.target=null,ProgressEvent2.prototype.loaded=null,ProgressEvent2.prototype.lengthComputable=null,ProgressEvent2.prototype.total=null,ProgressEvent2}.call(this),s.ProgressEvent=n,u=class extends o{constructor(e){super(),this._request=e,this._reset()}_reset(){this._contentType=null,this._body=null}_setData(e){var t,n,l,i,s,o,u,d;if(null!=e)if("string"==typeof e)0!==e.length&&(this._contentType="text/plain;charset=UTF-8"),this._body=E.from(e,"utf8");else if(E.isBuffer(e))this._body=e;else if(e instanceof ArrayBuffer){for(t=E.alloc(e.byteLength),d=new Uint8Array(e),n=l=0,o=e.byteLength;0<=o?l<o:l>o;n=0<=o?++l:--l)t[n]=d[n];this._body=t}else{if(!(e.buffer&&e.buffer instanceof ArrayBuffer))throw new Error(`Unsupported send() data ${e}`);for(t=E.alloc(e.byteLength),s=e.byteOffset,d=new Uint8Array(e.buffer),n=i=0,u=e.byteLength;0<=u?i<u:i>u;n=0<=u?++i:--i)t[n]=d[n+s];this._body=t}}_finalizeHeaders(e,t){this._contentType&&("content-type"in t||(e["Content-Type"]=this._contentType)),this._body&&(e["Content-Length"]=this._body.length.toString())}_startUpload(e){this._body&&e.write(this._body),e.end()}},s.XMLHttpRequestUpload=u}).call(ky);const Hy=getDefaultExportFromCjs(Cy.exports),Jy=Object.freeze(Object.defineProperty({__proto__:null,default:Hy},Symbol.toStringTag,{value:"Module"})),Fy=Object.freeze(Object.defineProperty({__proto__:null,x:Jy},Symbol.toStringTag,{value:"Module"}));var zy={exports:{}},Uy={},Ey={},My={};function isNothing(e){return null==e}function YAMLException$4(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}My.isNothing=isNothing,My.isObject=function(e){return"object"==typeof e&&null!==e},My.toArray=function(e){return Array.isArray(e)?e:isNothing(e)?[]:[e]},My.repeat=function(e,t){var n,l="";for(n=0;n<t;n+=1)l+=e;return l},My.isNegativeZero=function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},My.extend=function(e,t){var n,l,i,s;if(t)for(n=0,l=(s=Object.keys(t)).length;n<l;n+=1)e[i=s[n]]=t[i];return e},YAMLException$4.prototype=Object.create(Error.prototype),YAMLException$4.prototype.constructor=YAMLException$4,YAMLException$4.prototype.toString=function(e){var t=this.name+": ";return t+=this.reason||"(unknown reason)",!e&&this.mark&&(t+=" "+this.mark.toString()),t};var wy=YAMLException$4,Py=My;function Mark$1(e,t,n,l,i){this.name=e,this.buffer=t,this.position=n,this.line=l,this.column=i}Mark$1.prototype.getSnippet=function(e,t){var n,l,i,s,o;if(!this.buffer)return null;for(e=e||4,t=t||75,n="",l=this.position;l>0&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(l-1));)if(l-=1,this.position-l>t/2-1){n=" ... ",l+=5;break}for(i="",s=this.position;s<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(s));)if((s+=1)-this.position>t/2-1){i=" ... ",s-=5;break}return o=this.buffer.slice(l,s),Py.repeat(" ",e)+n+o+i+"\n"+Py.repeat(" ",e+this.position-l+n.length)+"^"},Mark$1.prototype.toString=function(e){var t,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet())&&(n+=":\n"+t),n};var jy=Mark$1,By=wy,Qy=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],_y=["scalar","sequence","mapping"];var type=function(e,t){if(t=t||{},Object.keys(t).forEach((function(t){if(-1===Qy.indexOf(t))throw new By('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach((function(n){e[n].forEach((function(e){t[String(e)]=n}))})),t}(t.styleAliases||null),-1===_y.indexOf(this.kind))throw new By('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')},Dy=My,Oy=wy,Ay=type;function compileList(e,t,n){var l=[];return e.include.forEach((function(e){n=compileList(e,t,n)})),e[t].forEach((function(e){n.forEach((function(t,n){t.tag===e.tag&&t.kind===e.kind&&l.push(n)})),n.push(e)})),n.filter((function(e,t){return-1===l.indexOf(t)}))}function Schema$5(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach((function(e){if(e.loadKind&&"scalar"!==e.loadKind)throw new Oy("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")})),this.compiledImplicit=compileList(this,"implicit",[]),this.compiledExplicit=compileList(this,"explicit",[]),this.compiledTypeMap=function(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{}};function collectType(e){n[e.kind][e.tag]=n.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(collectType);return n}(this.compiledImplicit,this.compiledExplicit)}Schema$5.DEFAULT=null,Schema$5.create=function(){var e,t;switch(arguments.length){case 1:e=Schema$5.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new Oy("Wrong number of arguments for Schema.create function")}if(e=Dy.toArray(e),t=Dy.toArray(t),!e.every((function(e){return e instanceof Schema$5})))throw new Oy("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every((function(e){return e instanceof Ay})))throw new Oy("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new Schema$5({include:e,explicit:t})};var qy=Schema$5,$y=new qy({explicit:[new type("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),new type("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),new type("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})]});var eG=new type("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"});var tG=new type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"}),nG=My;function isOctCode(e){return 48<=e&&e<=55}function isDecCode(e){return 48<=e&&e<=57}var lG=new type("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,l=e.length,i=0,s=!1;if(!l)return!1;if("-"!==(t=e[i])&&"+"!==t||(t=e[++i]),"0"===t){if(i+1===l)return!0;if("b"===(t=e[++i])){for(i++;i<l;i++)if("_"!==(t=e[i])){if("0"!==t&&"1"!==t)return!1;s=!0}return s&&"_"!==t}if("x"===t){for(i++;i<l;i++)if("_"!==(t=e[i])){if(!(48<=(n=e.charCodeAt(i))&&n<=57||65<=n&&n<=70||97<=n&&n<=102))return!1;s=!0}return s&&"_"!==t}for(;i<l;i++)if("_"!==(t=e[i])){if(!isOctCode(e.charCodeAt(i)))return!1;s=!0}return s&&"_"!==t}if("_"===t)return!1;for(;i<l;i++)if("_"!==(t=e[i])){if(":"===t)break;if(!isDecCode(e.charCodeAt(i)))return!1;s=!0}return!(!s||"_"===t)&&(":"!==t||/^(:[0-5]?[0-9])+$/.test(e.slice(i)))},construct:function(e){var t,n,l=e,i=1,s=[];return-1!==l.indexOf("_")&&(l=l.replace(/_/g,"")),"-"!==(t=l[0])&&"+"!==t||("-"===t&&(i=-1),t=(l=l.slice(1))[0]),"0"===l?0:"0"===t?"b"===l[1]?i*parseInt(l.slice(2),2):"x"===l[1]?i*parseInt(l,16):i*parseInt(l,8):-1!==l.indexOf(":")?(l.split(":").forEach((function(e){s.unshift(parseInt(e,10))})),l=0,n=1,s.forEach((function(e){l+=e*n,n*=60})),i*l):i*parseInt(l,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!nG.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),iG=My,sG=type,oG=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var cG=/^[-+]?[0-9]+e/;var aG=new sG("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!oG.test(e)||"_"===e[e.length-1])},construct:function(e){var t,n,l,i;return n="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,i=[],"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:t.indexOf(":")>=0?(t.split(":").forEach((function(e){i.unshift(parseFloat(e,10))})),t=0,l=1,i.forEach((function(e){t+=e*l,l*=60})),n*t):n*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||iG.isNegativeZero(e))},represent:function(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(iG.isNegativeZero(e))return"-0.0";return n=e.toString(10),cG.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"}),rG=new qy({include:[$y],implicit:[eG,tG,lG,aG]}),uG=new qy({include:[rG]}),dG=type,hG=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),mG=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");var bG=new dG("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==hG.exec(e)||null!==mG.exec(e))},construct:function(e){var t,n,l,i,s,o,u,d,h=0,m=null;if(null===(t=hG.exec(e))&&(t=mG.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],l=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,l,i));if(s=+t[4],o=+t[5],u=+t[6],t[7]){for(h=t[7].slice(0,3);h.length<3;)h+="0";h=+h}return t[9]&&(m=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(m=-m)),d=new Date(Date.UTC(n,l,i,s,o,u,h)),m&&d.setTime(d.getTime()-m),d},instanceOf:Date,represent:function(e){return e.toISOString()}});var pG,ZG=new type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}});function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}try{pG=commonjsRequire("buffer").Buffer}catch(e){}var yG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";var GG=new type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,l=0,i=e.length,s=yG;for(n=0;n<i;n++)if(!((t=s.indexOf(e.charAt(n)))>64)){if(t<0)return!1;l+=6}return l%8==0},construct:function(e){var t,n,l=e.replace(/[\r\n=]/g,""),i=l.length,s=yG,o=0,u=[];for(t=0;t<i;t++)t%4==0&&t&&(u.push(o>>16&255),u.push(o>>8&255),u.push(255&o)),o=o<<6|s.indexOf(l.charAt(t));return 0===(n=i%4*6)?(u.push(o>>16&255),u.push(o>>8&255),u.push(255&o)):18===n?(u.push(o>>10&255),u.push(o>>2&255)):12===n&&u.push(o>>4&255),pG?pG.from?pG.from(u):new pG(u):u},predicate:function(e){return pG&&pG.isBuffer(e)},represent:function(e){var t,n,l="",i=0,s=e.length,o=yG;for(t=0;t<s;t++)t%3==0&&t&&(l+=o[i>>18&63],l+=o[i>>12&63],l+=o[i>>6&63],l+=o[63&i]),i=(i<<8)+e[t];return 0===(n=s%3)?(l+=o[i>>18&63],l+=o[i>>12&63],l+=o[i>>6&63],l+=o[63&i]):2===n?(l+=o[i>>10&63],l+=o[i>>4&63],l+=o[i<<2&63],l+=o[64]):1===n&&(l+=o[i>>2&63],l+=o[i<<4&63],l+=o[64],l+=o[64]),l}}),XG=type,VG=Object.prototype.hasOwnProperty,WG=Object.prototype.toString;var RG=new XG("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,l,i,s,o=[],u=e;for(t=0,n=u.length;t<n;t+=1){if(l=u[t],s=!1,"[object Object]"!==WG.call(l))return!1;for(i in l)if(VG.call(l,i)){if(s)return!1;s=!0}if(!s)return!1;if(-1!==o.indexOf(i))return!1;o.push(i)}return!0},construct:function(e){return null!==e?e:[]}}),gG=type,IG=Object.prototype.toString;var fG=new gG("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,l,i,s,o=e;for(s=new Array(o.length),t=0,n=o.length;t<n;t+=1){if(l=o[t],"[object Object]"!==IG.call(l))return!1;if(1!==(i=Object.keys(l)).length)return!1;s[t]=[i[0],l[i[0]]]}return!0},construct:function(e){if(null===e)return[];var t,n,l,i,s,o=e;for(s=new Array(o.length),t=0,n=o.length;t<n;t+=1)l=o[t],i=Object.keys(l),s[t]=[i[0],l[i[0]]];return s}}),SG=type,LG=Object.prototype.hasOwnProperty;var YG=new qy({include:[uG],implicit:[bG,ZG],explicit:[GG,RG,fG,new SG("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,n=e;for(t in n)if(LG.call(n,t)&&null!==n[t])return!1;return!0},construct:function(e){return null!==e?e:{}}})]});var KG=new type("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(e){return void 0===e},represent:function(){return""}});var xG,NG=new type("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(e){if(null===e)return!1;if(0===e.length)return!1;var t=e,n=/\/([gim]*)$/.exec(e),l="";if("/"===t[0]){if(n&&(l=n[1]),l.length>3)return!1;if("/"!==t[t.length-l.length-1])return!1}return!0},construct:function(e){var t=e,n=/\/([gim]*)$/.exec(e),l="";return"/"===t[0]&&(n&&(l=n[1]),t=t.slice(1,t.length-l.length-1)),new RegExp(t,l)},predicate:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},represent:function(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}});try{xG=commonjsRequire("esprima")}catch(e){}var TG=new type("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(e){if(null===e)return!1;try{var t="("+e+")",n=xG.parse(t,{range:!0});return"Program"===n.type&&1===n.body.length&&"ExpressionStatement"===n.body[0].type&&("ArrowFunctionExpression"===n.body[0].expression.type||"FunctionExpression"===n.body[0].expression.type)}catch(e){return!1}},construct:function(e){var t,n="("+e+")",l=xG.parse(n,{range:!0}),i=[];if("Program"!==l.type||1!==l.body.length||"ExpressionStatement"!==l.body[0].type||"ArrowFunctionExpression"!==l.body[0].expression.type&&"FunctionExpression"!==l.body[0].expression.type)throw new Error("Failed to resolve function");return l.body[0].expression.params.forEach((function(e){i.push(e.name)})),t=l.body[0].expression.body.range,"BlockStatement"===l.body[0].expression.body.type?new Function(i,n.slice(t[0]+1,t[1]-1)):new Function(i,"return "+n.slice(t[0],t[1]))},predicate:function(e){return"[object Function]"===Object.prototype.toString.call(e)},represent:function(e){return e.toString()}}),vG=qy,kG=vG.DEFAULT=new vG({include:[YG],explicit:[KG,NG,TG]}),CG=My,HG=wy,JG=jy,FG=YG,zG=kG,UG=Object.prototype.hasOwnProperty,EG=1,MG=2,wG=3,PG=4,jG=1,BG=2,QG=3,_G=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,DG=/[\x85\u2028\u2029]/,OG=/[,\[\]\{\}]/,AG=/^(?:!|!!|![a-z\-]+!)$/i,qG=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(e){return Object.prototype.toString.call(e)}function is_EOL(e){return 10===e||13===e}function is_WHITE_SPACE(e){return 9===e||32===e}function is_WS_OR_EOL(e){return 9===e||32===e||10===e||13===e}function is_FLOW_INDICATOR(e){return 44===e||91===e||93===e||123===e||125===e}function fromHexCode(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function simpleEscapeSequence(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?"":76===e?"\u2028":80===e?"\u2029":""}function charFromCodepoint(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var $G=new Array(256),eX=new Array(256),tX=0;tX<256;tX++)$G[tX]=simpleEscapeSequence(tX)?1:0,eX[tX]=simpleEscapeSequence(tX);function State$1(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||zG,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function generateError(e,t){return new HG(t,new JG(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function throwError(e,t){throw generateError(e,t)}function throwWarning(e,t){e.onWarning&&e.onWarning.call(null,generateError(e,t))}var nX={YAML:function(e,t,n){var l,i,s;null!==e.version&&throwError(e,"duplication of %YAML directive"),1!==n.length&&throwError(e,"YAML directive accepts exactly one argument"),null===(l=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&throwError(e,"ill-formed argument of the YAML directive"),i=parseInt(l[1],10),s=parseInt(l[2],10),1!==i&&throwError(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=s<2,1!==s&&2!==s&&throwWarning(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var l,i;2!==n.length&&throwError(e,"TAG directive accepts exactly two arguments"),l=n[0],i=n[1],AG.test(l)||throwError(e,"ill-formed tag handle (first argument) of the TAG directive"),UG.call(e.tagMap,l)&&throwError(e,'there is a previously declared suffix for "'+l+'" tag handle'),qG.test(i)||throwError(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[l]=i}};function captureSegment(e,t,n,l){var i,s,o,u;if(t<n){if(u=e.input.slice(t,n),l)for(i=0,s=u.length;i<s;i+=1)9===(o=u.charCodeAt(i))||32<=o&&o<=1114111||throwError(e,"expected valid JSON character");else _G.test(u)&&throwError(e,"the stream contains non-printable characters");e.result+=u}}function mergeMappings(e,t,n,l){var i,s,o,u;for(CG.isObject(n)||throwError(e,"cannot merge mappings; the provided source object is unacceptable"),o=0,u=(i=Object.keys(n)).length;o<u;o+=1)s=i[o],UG.call(t,s)||(t[s]=n[s],l[s]=!0)}function storeMappingPair(e,t,n,l,i,s,o,u){var d,h;if(Array.isArray(i))for(d=0,h=(i=Array.prototype.slice.call(i)).length;d<h;d+=1)Array.isArray(i[d])&&throwError(e,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===_class(i[d])&&(i[d]="[object Object]");if("object"==typeof i&&"[object Object]"===_class(i)&&(i="[object Object]"),i=String(i),null===t&&(t={}),"tag:yaml.org,2002:merge"===l)if(Array.isArray(s))for(d=0,h=s.length;d<h;d+=1)mergeMappings(e,t,s[d],n);else mergeMappings(e,t,s,n);else e.json||UG.call(n,i)||!UG.call(t,i)||(e.line=o||e.line,e.position=u||e.position,throwError(e,"duplicated mapping key")),t[i]=s,delete n[i];return t}function readLineBreak(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):throwError(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function skipSeparationSpace(e,t,n){for(var l=0,i=e.input.charCodeAt(e.position);0!==i;){for(;is_WHITE_SPACE(i);)i=e.input.charCodeAt(++e.position);if(t&&35===i)do{i=e.input.charCodeAt(++e.position)}while(10!==i&&13!==i&&0!==i);if(!is_EOL(i))break;for(readLineBreak(e),i=e.input.charCodeAt(e.position),l++,e.lineIndent=0;32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position)}return-1!==n&&0!==l&&e.lineIndent<n&&throwWarning(e,"deficient indentation"),l}function testDocumentSeparator(e){var t,n=e.position;return!(45!==(t=e.input.charCodeAt(n))&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,0!==(t=e.input.charCodeAt(n))&&!is_WS_OR_EOL(t)))}function writeFoldedLines(e,t){1===t?e.result+=" ":t>1&&(e.result+=CG.repeat("\n",t-1))}function readBlockSequence(e,t){var n,l,i=e.tag,s=e.anchor,o=[],u=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=o),l=e.input.charCodeAt(e.position);0!==l&&45===l&&is_WS_OR_EOL(e.input.charCodeAt(e.position+1));)if(u=!0,e.position++,skipSeparationSpace(e,!0,-1)&&e.lineIndent<=t)o.push(null),l=e.input.charCodeAt(e.position);else if(n=e.line,composeNode(e,t,wG,!1,!0),o.push(e.result),skipSeparationSpace(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==l)throwError(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!u&&(e.tag=i,e.anchor=s,e.kind="sequence",e.result=o,!0)}function readTagProperty(e){var t,n,l,i,s=!1,o=!1;if(33!==(i=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&throwError(e,"duplication of a tag property"),60===(i=e.input.charCodeAt(++e.position))?(s=!0,i=e.input.charCodeAt(++e.position)):33===i?(o=!0,n="!!",i=e.input.charCodeAt(++e.position)):n="!",t=e.position,s){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&62!==i);e.position<e.length?(l=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):throwError(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!is_WS_OR_EOL(i);)33===i&&(o?throwError(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),AG.test(n)||throwError(e,"named tag handle cannot contain such characters"),o=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);l=e.input.slice(t,e.position),OG.test(l)&&throwError(e,"tag suffix cannot contain flow indicator characters")}return l&&!qG.test(l)&&throwError(e,"tag name cannot contain such characters: "+l),s?e.tag=l:UG.call(e.tagMap,n)?e.tag=e.tagMap[n]+l:"!"===n?e.tag="!"+l:"!!"===n?e.tag="tag:yaml.org,2002:"+l:throwError(e,'undeclared tag handle "'+n+'"'),!0}function readAnchorProperty(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&throwError(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!is_WS_OR_EOL(n)&&!is_FLOW_INDICATOR(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&throwError(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function composeNode(e,t,n,l,i){var s,o,u,d,h,m,b,V,g=1,f=!1,S=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=u=PG===n||wG===n,l&&skipSeparationSpace(e,!0,-1)&&(f=!0,e.lineIndent>t?g=1:e.lineIndent===t?g=0:e.lineIndent<t&&(g=-1)),1===g)for(;readTagProperty(e)||readAnchorProperty(e);)skipSeparationSpace(e,!0,-1)?(f=!0,u=s,e.lineIndent>t?g=1:e.lineIndent===t?g=0:e.lineIndent<t&&(g=-1)):u=!1;if(u&&(u=f||i),1!==g&&PG!==n||(b=EG===n||MG===n?t:t+1,V=e.position-e.lineStart,1===g?u&&(readBlockSequence(e,V)||function(e,t,n){var l,i,s,o,u,d=e.tag,h=e.anchor,m={},b={},V=null,g=null,f=null,S=!1,L=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=m),u=e.input.charCodeAt(e.position);0!==u;){if(l=e.input.charCodeAt(e.position+1),s=e.line,o=e.position,63!==u&&58!==u||!is_WS_OR_EOL(l)){if(!composeNode(e,n,MG,!1,!0))break;if(e.line===s){for(u=e.input.charCodeAt(e.position);is_WHITE_SPACE(u);)u=e.input.charCodeAt(++e.position);if(58===u)is_WS_OR_EOL(u=e.input.charCodeAt(++e.position))||throwError(e,"a whitespace character is expected after the key-value separator within a block mapping"),S&&(storeMappingPair(e,m,b,V,g,null),V=g=f=null),L=!0,S=!1,i=!1,V=e.tag,g=e.result;else{if(!L)return e.tag=d,e.anchor=h,!0;throwError(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!L)return e.tag=d,e.anchor=h,!0;throwError(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===u?(S&&(storeMappingPair(e,m,b,V,g,null),V=g=f=null),L=!0,S=!0,i=!0):S?(S=!1,i=!0):throwError(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,u=l;if((e.line===s||e.lineIndent>t)&&(composeNode(e,t,PG,!0,i)&&(S?g=e.result:f=e.result),S||(storeMappingPair(e,m,b,V,g,f,s,o),V=g=f=null),skipSeparationSpace(e,!0,-1),u=e.input.charCodeAt(e.position)),e.lineIndent>t&&0!==u)throwError(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return S&&storeMappingPair(e,m,b,V,g,null),L&&(e.tag=d,e.anchor=h,e.kind="mapping",e.result=m),L}(e,V,b))||function(e,t){var n,l,i,s,o,u,d,h,m,b,V=!0,g=e.tag,f=e.anchor,S={};if(91===(b=e.input.charCodeAt(e.position)))i=93,u=!1,l=[];else{if(123!==b)return!1;i=125,u=!0,l={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=l),b=e.input.charCodeAt(++e.position);0!==b;){if(skipSeparationSpace(e,!0,t),(b=e.input.charCodeAt(e.position))===i)return e.position++,e.tag=g,e.anchor=f,e.kind=u?"mapping":"sequence",e.result=l,!0;V||throwError(e,"missed comma between flow collection entries"),m=null,s=o=!1,63===b&&is_WS_OR_EOL(e.input.charCodeAt(e.position+1))&&(s=o=!0,e.position++,skipSeparationSpace(e,!0,t)),n=e.line,composeNode(e,t,EG,!1,!0),h=e.tag,d=e.result,skipSeparationSpace(e,!0,t),b=e.input.charCodeAt(e.position),!o&&e.line!==n||58!==b||(s=!0,b=e.input.charCodeAt(++e.position),skipSeparationSpace(e,!0,t),composeNode(e,t,EG,!1,!0),m=e.result),u?storeMappingPair(e,l,S,h,d,m):s?l.push(storeMappingPair(e,null,S,h,d,m)):l.push(d),skipSeparationSpace(e,!0,t),44===(b=e.input.charCodeAt(e.position))?(V=!0,b=e.input.charCodeAt(++e.position)):V=!1}throwError(e,"unexpected end of the stream within a flow collection")}(e,b)?S=!0:(o&&function(e,t){var n,l,i,s,o,u=jG,d=!1,h=!1,m=t,b=0,V=!1;if(124===(s=e.input.charCodeAt(e.position)))l=!1;else{if(62!==s)return!1;l=!0}for(e.kind="scalar",e.result="";0!==s;)if(43===(s=e.input.charCodeAt(++e.position))||45===s)jG===u?u=43===s?QG:BG:throwError(e,"repeat of a chomping mode identifier");else{if(!((i=48<=(o=s)&&o<=57?o-48:-1)>=0))break;0===i?throwError(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):h?throwError(e,"repeat of an indentation width identifier"):(m=t+i-1,h=!0)}if(is_WHITE_SPACE(s)){do{s=e.input.charCodeAt(++e.position)}while(is_WHITE_SPACE(s));if(35===s)do{s=e.input.charCodeAt(++e.position)}while(!is_EOL(s)&&0!==s)}for(;0!==s;){for(readLineBreak(e),e.lineIndent=0,s=e.input.charCodeAt(e.position);(!h||e.lineIndent<m)&&32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position);if(!h&&e.lineIndent>m&&(m=e.lineIndent),is_EOL(s))b++;else{if(e.lineIndent<m){u===QG?e.result+=CG.repeat("\n",d?1+b:b):u===jG&&d&&(e.result+="\n");break}for(l?is_WHITE_SPACE(s)?(V=!0,e.result+=CG.repeat("\n",d?1+b:b)):V?(V=!1,e.result+=CG.repeat("\n",b+1)):0===b?d&&(e.result+=" "):e.result+=CG.repeat("\n",b):e.result+=CG.repeat("\n",d?1+b:b),d=!0,h=!0,b=0,n=e.position;!is_EOL(s)&&0!==s;)s=e.input.charCodeAt(++e.position);captureSegment(e,n,e.position,!1)}}return!0}(e,b)||function(e,t){var n,l,i;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,l=i=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(captureSegment(e,l,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;l=e.position,e.position++,i=e.position}else is_EOL(n)?(captureSegment(e,l,i,!0),writeFoldedLines(e,skipSeparationSpace(e,!1,t)),l=i=e.position):e.position===e.lineStart&&testDocumentSeparator(e)?throwError(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);throwError(e,"unexpected end of the stream within a single quoted scalar")}(e,b)||function(e,t){var n,l,i,s,o,u,d;if(34!==(u=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=l=e.position;0!==(u=e.input.charCodeAt(e.position));){if(34===u)return captureSegment(e,n,e.position,!0),e.position++,!0;if(92===u){if(captureSegment(e,n,e.position,!0),is_EOL(u=e.input.charCodeAt(++e.position)))skipSeparationSpace(e,!1,t);else if(u<256&&$G[u])e.result+=eX[u],e.position++;else if((o=120===(d=u)?2:117===d?4:85===d?8:0)>0){for(i=o,s=0;i>0;i--)(o=fromHexCode(u=e.input.charCodeAt(++e.position)))>=0?s=(s<<4)+o:throwError(e,"expected hexadecimal character");e.result+=charFromCodepoint(s),e.position++}else throwError(e,"unknown escape sequence");n=l=e.position}else is_EOL(u)?(captureSegment(e,n,l,!0),writeFoldedLines(e,skipSeparationSpace(e,!1,t)),n=l=e.position):e.position===e.lineStart&&testDocumentSeparator(e)?throwError(e,"unexpected end of the document within a double quoted scalar"):(e.position++,l=e.position)}throwError(e,"unexpected end of the stream within a double quoted scalar")}(e,b)?S=!0:!function(e){var t,n,l;if(42!==(l=e.input.charCodeAt(e.position)))return!1;for(l=e.input.charCodeAt(++e.position),t=e.position;0!==l&&!is_WS_OR_EOL(l)&&!is_FLOW_INDICATOR(l);)l=e.input.charCodeAt(++e.position);return e.position===t&&throwError(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),UG.call(e.anchorMap,n)||throwError(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],skipSeparationSpace(e,!0,-1),!0}(e)?function(e,t,n){var l,i,s,o,u,d,h,m,b=e.kind,V=e.result;if(is_WS_OR_EOL(m=e.input.charCodeAt(e.position))||is_FLOW_INDICATOR(m)||35===m||38===m||42===m||33===m||124===m||62===m||39===m||34===m||37===m||64===m||96===m)return!1;if((63===m||45===m)&&(is_WS_OR_EOL(l=e.input.charCodeAt(e.position+1))||n&&is_FLOW_INDICATOR(l)))return!1;for(e.kind="scalar",e.result="",i=s=e.position,o=!1;0!==m;){if(58===m){if(is_WS_OR_EOL(l=e.input.charCodeAt(e.position+1))||n&&is_FLOW_INDICATOR(l))break}else if(35===m){if(is_WS_OR_EOL(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&testDocumentSeparator(e)||n&&is_FLOW_INDICATOR(m))break;if(is_EOL(m)){if(u=e.line,d=e.lineStart,h=e.lineIndent,skipSeparationSpace(e,!1,-1),e.lineIndent>=t){o=!0,m=e.input.charCodeAt(e.position);continue}e.position=s,e.line=u,e.lineStart=d,e.lineIndent=h;break}}o&&(captureSegment(e,i,s,!1),writeFoldedLines(e,e.line-u),i=s=e.position,o=!1),is_WHITE_SPACE(m)||(s=e.position+1),m=e.input.charCodeAt(++e.position)}return captureSegment(e,i,s,!1),!!e.result||(e.kind=b,e.result=V,!1)}(e,b,EG===n)&&(S=!0,null===e.tag&&(e.tag="?")):(S=!0,null===e.tag&&null===e.anchor||throwError(e,"alias node should not have any properties")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===g&&(S=u&&readBlockSequence(e,V))),null!==e.tag&&"!"!==e.tag)if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&throwError(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,h=e.implicitTypes.length;d<h;d+=1)if((m=e.implicitTypes[d]).resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else UG.call(e.typeMap[e.kind||"fallback"],e.tag)?(m=e.typeMap[e.kind||"fallback"][e.tag],null!==e.result&&m.kind!==e.kind&&throwError(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result)?(e.result=m.construct(e.result),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):throwError(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):throwError(e,"unknown tag !<"+e.tag+">");return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||S}function readDocument(e){var t,n,l,i,s=e.position,o=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};0!==(i=e.input.charCodeAt(e.position))&&(skipSeparationSpace(e,!0,-1),i=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==i));){for(o=!0,i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!is_WS_OR_EOL(i);)i=e.input.charCodeAt(++e.position);for(l=[],(n=e.input.slice(t,e.position)).length<1&&throwError(e,"directive name must not be less than one character in length");0!==i;){for(;is_WHITE_SPACE(i);)i=e.input.charCodeAt(++e.position);if(35===i){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&!is_EOL(i));break}if(is_EOL(i))break;for(t=e.position;0!==i&&!is_WS_OR_EOL(i);)i=e.input.charCodeAt(++e.position);l.push(e.input.slice(t,e.position))}0!==i&&readLineBreak(e),UG.call(nX,n)?nX[n](e,n,l):throwWarning(e,'unknown document directive "'+n+'"')}skipSeparationSpace(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,skipSeparationSpace(e,!0,-1)):o&&throwError(e,"directives end mark is expected"),composeNode(e,e.lineIndent-1,PG,!1,!0),skipSeparationSpace(e,!0,-1),e.checkLineBreaks&&DG.test(e.input.slice(s,e.position))&&throwWarning(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&testDocumentSeparator(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,skipSeparationSpace(e,!0,-1)):e.position<e.length-1&&throwError(e,"end of the stream or a document separator is expected")}function loadDocuments(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new State$1(e,t),l=e.indexOf("\0");for(-1!==l&&(n.position=l,throwError(n,"null byte is not allowed in input")),n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)readDocument(n);return n.documents}function loadAll(e,t,n){null!==t&&"object"==typeof t&&void 0===n&&(n=t,t=null);var l=loadDocuments(e,n);if("function"!=typeof t)return l;for(var i=0,s=l.length;i<s;i+=1)t(l[i])}function load(e,t){var n=loadDocuments(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new HG("expected a single document in the stream, but found more")}}Ey.loadAll=loadAll,Ey.load=load,Ey.safeLoadAll=function(e,t,n){return"object"==typeof t&&null!==t&&void 0===n&&(n=t,t=null),loadAll(e,t,CG.extend({schema:FG},n))},Ey.safeLoad=function(e,t){return load(e,CG.extend({schema:FG},t))};var lX={},iX=My,sX=wy,oX=kG,cX=YG,aX=Object.prototype.toString,rX=Object.prototype.hasOwnProperty,uX=9,dX=10,hX=13,mX=32,bX=33,pX=34,ZX=35,yX=37,GX=38,XX=39,VX=42,WX=44,RX=45,gX=58,IX=61,fX=62,SX=63,LX=64,YX=91,KX=93,xX=96,NX=123,TX=124,vX=125,kX={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},CX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function encodeHex(e){var t,n,l;if(t=e.toString(16).toUpperCase(),e<=255)n="x",l=2;else if(e<=65535)n="u",l=4;else{if(!(e<=4294967295))throw new sX("code point within a string may not be greater than 0xFFFFFFFF");n="U",l=8}return"\\"+n+iX.repeat("0",l-t.length)+t}function State(e){this.schema=e.schema||oX,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=iX.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var n,l,i,s,o,u,d;if(null===t)return{};for(n={},i=0,s=(l=Object.keys(t)).length;i<s;i+=1)o=l[i],u=String(t[o]),"!!"===o.slice(0,2)&&(o="tag:yaml.org,2002:"+o.slice(2)),(d=e.compiledTypeMap.fallback[o])&&rX.call(d.styleAliases,u)&&(u=d.styleAliases[u]),n[o]=u;return n}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function indentString(e,t){for(var n,l=iX.repeat(" ",t),i=0,s=-1,o="",u=e.length;i<u;)-1===(s=e.indexOf("\n",i))?(n=e.slice(i),i=u):(n=e.slice(i,s+1),i=s+1),n.length&&"\n"!==n&&(o+=l),o+=n;return o}function generateNextLine(e,t){return"\n"+iX.repeat(" ",e.indent*t)}function isWhitespace(e){return e===mX||e===uX}function isPrintable(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&65279!==e||65536<=e&&e<=1114111}function isPlainSafe(e,t){return isPrintable(e)&&65279!==e&&e!==WX&&e!==YX&&e!==KX&&e!==NX&&e!==vX&&e!==gX&&(e!==ZX||t&&function(e){return isPrintable(e)&&!isWhitespace(e)&&65279!==e&&e!==hX&&e!==dX}(t))}function needIndentIndicator(e){return/^\n* /.test(e)}var HX=1,JX=2,FX=3,zX=4,UX=5;function chooseScalarStyle(e,t,n,l,i){var s,o,u,d,h=!1,m=!1,b=-1!==l,V=-1,g=isPrintable(d=e.charCodeAt(0))&&65279!==d&&!isWhitespace(d)&&d!==RX&&d!==SX&&d!==gX&&d!==WX&&d!==YX&&d!==KX&&d!==NX&&d!==vX&&d!==ZX&&d!==GX&&d!==VX&&d!==bX&&d!==TX&&d!==IX&&d!==fX&&d!==XX&&d!==pX&&d!==yX&&d!==LX&&d!==xX&&!isWhitespace(e.charCodeAt(e.length-1));if(t)for(s=0;s<e.length;s++){if(!isPrintable(o=e.charCodeAt(s)))return UX;u=s>0?e.charCodeAt(s-1):null,g=g&&isPlainSafe(o,u)}else{for(s=0;s<e.length;s++){if((o=e.charCodeAt(s))===dX)h=!0,b&&(m=m||s-V-1>l&&" "!==e[V+1],V=s);else if(!isPrintable(o))return UX;u=s>0?e.charCodeAt(s-1):null,g=g&&isPlainSafe(o,u)}m=m||b&&s-V-1>l&&" "!==e[V+1]}return h||m?n>9&&needIndentIndicator(e)?UX:m?zX:FX:g&&!i(e)?HX:JX}function writeScalar(e,t,n,l){e.dump=function(){if(0===t.length)return"''";if(!e.noCompatMode&&-1!==CX.indexOf(t))return"'"+t+"'";var i=e.indent*Math.max(1,n),s=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i),o=l||e.flowLevel>-1&&n>=e.flowLevel;switch(chooseScalarStyle(t,o,e.indent,s,(function(t){return function(e,t){var n,l;for(n=0,l=e.implicitTypes.length;n<l;n+=1)if(e.implicitTypes[n].resolve(t))return!0;return!1}(e,t)}))){case HX:return t;case JX:return"'"+t.replace(/'/g,"''")+"'";case FX:return"|"+blockHeader(t,e.indent)+dropEndingNewline(indentString(t,i));case zX:return">"+blockHeader(t,e.indent)+dropEndingNewline(indentString(function(e,t){var n,l,i=/(\n+)([^\n]*)/g,s=(u=e.indexOf("\n"),u=-1!==u?u:e.length,i.lastIndex=u,foldLine(e.slice(0,u),t)),o="\n"===e[0]||" "===e[0];var u;for(;l=i.exec(e);){var d=l[1],h=l[2];n=" "===h[0],s+=d+(o||n||""===h?"":"\n")+foldLine(h,t),o=n}return s}(t,s),i));case UX:return'"'+function(e){for(var t,n,l,i="",s=0;s<e.length;s++)(t=e.charCodeAt(s))>=55296&&t<=56319&&(n=e.charCodeAt(s+1))>=56320&&n<=57343?(i+=encodeHex(1024*(t-55296)+n-56320+65536),s++):i+=!(l=kX[t])&&isPrintable(t)?e[s]:l||encodeHex(t);return i}(t)+'"';default:throw new sX("impossible error: invalid scalar style")}}()}function blockHeader(e,t){var n=needIndentIndicator(e)?String(t):"",l="\n"===e[e.length-1];return n+(l&&("\n"===e[e.length-2]||"\n"===e)?"+":l?"":"-")+"\n"}function dropEndingNewline(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function foldLine(e,t){if(""===e||" "===e[0])return e;for(var n,l,i=/ [^ ]/g,s=0,o=0,u=0,d="";n=i.exec(e);)(u=n.index)-s>t&&(l=o>s?o:u,d+="\n"+e.slice(s,l),s=l+1),o=u;return d+="\n",e.length-s>t&&o>s?d+=e.slice(s,o)+"\n"+e.slice(o+1):d+=e.slice(s),d.slice(1)}function detectType(e,t,n){var l,i,s,o,u,d;for(s=0,o=(i=n?e.explicitTypes:e.implicitTypes).length;s<o;s+=1)if(((u=i[s]).instanceOf||u.predicate)&&(!u.instanceOf||"object"==typeof t&&t instanceof u.instanceOf)&&(!u.predicate||u.predicate(t))){if(e.tag=n?u.tag:"?",u.represent){if(d=e.styleMap[u.tag]||u.defaultStyle,"[object Function]"===aX.call(u.represent))l=u.represent(t,d);else{if(!rX.call(u.represent,d))throw new sX("!<"+u.tag+'> tag resolver accepts not "'+d+'" style');l=u.represent[d](t,d)}e.dump=l}return!0}return!1}function writeNode(e,t,n,l,i,s){e.tag=null,e.dump=n,detectType(e,n,!1)||detectType(e,n,!0);var o=aX.call(e.dump);l&&(l=e.flowLevel<0||e.flowLevel>t);var u,d,h="[object Object]"===o||"[object Array]"===o;if(h&&(d=-1!==(u=e.duplicates.indexOf(n))),(null!==e.tag&&"?"!==e.tag||d||2!==e.indent&&t>0)&&(i=!1),d&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(h&&d&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),"[object Object]"===o)l&&0!==Object.keys(e.dump).length?(!function(e,t,n,l){var i,s,o,u,d,h,m="",b=e.tag,V=Object.keys(n);if(!0===e.sortKeys)V.sort();else if("function"==typeof e.sortKeys)V.sort(e.sortKeys);else if(e.sortKeys)throw new sX("sortKeys must be a boolean or a function");for(i=0,s=V.length;i<s;i+=1)h="",l&&0===i||(h+=generateNextLine(e,t)),u=n[o=V[i]],writeNode(e,t+1,o,!0,!0,!0)&&((d=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&dX===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,d&&(h+=generateNextLine(e,t)),writeNode(e,t+1,u,!0,d)&&(e.dump&&dX===e.dump.charCodeAt(0)?h+=":":h+=": ",m+=h+=e.dump));e.tag=b,e.dump=m||"{}"}(e,t,e.dump,i),d&&(e.dump="&ref_"+u+e.dump)):(!function(e,t,n){var l,i,s,o,u,d="",h=e.tag,m=Object.keys(n);for(l=0,i=m.length;l<i;l+=1)u="",0!==l&&(u+=", "),e.condenseFlow&&(u+='"'),o=n[s=m[l]],writeNode(e,t,s,!1,!1)&&(e.dump.length>1024&&(u+="? "),u+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),writeNode(e,t,o,!1,!1)&&(d+=u+=e.dump));e.tag=h,e.dump="{"+d+"}"}(e,t,e.dump),d&&(e.dump="&ref_"+u+" "+e.dump));else if("[object Array]"===o){var m=e.noArrayIndent&&t>0?t-1:t;l&&0!==e.dump.length?(!function(e,t,n,l){var i,s,o="",u=e.tag;for(i=0,s=n.length;i<s;i+=1)writeNode(e,t+1,n[i],!0,!0)&&(l&&0===i||(o+=generateNextLine(e,t)),e.dump&&dX===e.dump.charCodeAt(0)?o+="-":o+="- ",o+=e.dump);e.tag=u,e.dump=o||"[]"}(e,m,e.dump,i),d&&(e.dump="&ref_"+u+e.dump)):(!function(e,t,n){var l,i,s="",o=e.tag;for(l=0,i=n.length;l<i;l+=1)writeNode(e,t,n[l],!1,!1)&&(0!==l&&(s+=","+(e.condenseFlow?"":" ")),s+=e.dump);e.tag=o,e.dump="["+s+"]"}(e,m,e.dump),d&&(e.dump="&ref_"+u+" "+e.dump))}else{if("[object String]"!==o){if(e.skipInvalid)return!1;throw new sX("unacceptable kind of an object to dump "+o)}"?"!==e.tag&&writeScalar(e,e.dump,t,s)}null!==e.tag&&"?"!==e.tag&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function getDuplicateReferences(e,t){var n,l,i=[],s=[];for(inspectNode(e,i,s),n=0,l=s.length;n<l;n+=1)t.duplicates.push(i[s[n]]);t.usedDuplicates=new Array(l)}function inspectNode(e,t,n){var l,i,s;if(null!==e&&"object"==typeof e)if(-1!==(i=t.indexOf(e)))-1===n.indexOf(i)&&n.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)inspectNode(e[i],t,n);else for(i=0,s=(l=Object.keys(e)).length;i<s;i+=1)inspectNode(e[l[i]],t,n)}function dump(e,t){var n=new State(t=t||{});return n.noRefs||getDuplicateReferences(e,n),writeNode(n,0,e,!0,!0)?n.dump+"\n":""}lX.dump=dump,lX.safeDump=function(e,t){return dump(e,iX.extend({schema:cX},t))};var EX=Ey,MX=lX;function deprecated(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}Uy.Type=type,Uy.Schema=qy,Uy.FAILSAFE_SCHEMA=$y,Uy.JSON_SCHEMA=rG,Uy.CORE_SCHEMA=uG,Uy.DEFAULT_SAFE_SCHEMA=YG,Uy.DEFAULT_FULL_SCHEMA=kG,Uy.load=EX.load,Uy.loadAll=EX.loadAll,Uy.safeLoad=EX.safeLoad,Uy.safeLoadAll=EX.safeLoadAll,Uy.dump=MX.dump,Uy.safeDump=MX.safeDump,Uy.YAMLException=wy,Uy.MINIMAL_SCHEMA=$y,Uy.SAFE_SCHEMA=YG,Uy.DEFAULT_SCHEMA=kG,Uy.scan=deprecated("scan"),Uy.parse=deprecated("parse"),Uy.compose=deprecated("compose"),Uy.addConstructor=deprecated("addConstructor");var wX=Uy,PX=void 0!==b?b.platform:"",jX=new RegExp("^(\\ufeff?(= yaml =|---)$([\\s\\S]*?)^(?:\\2|\\.\\.\\.)\\s*$"+("win32"===PX?"\\r?":"")+"(?:\\n)?)","m");zy.exports=function(e,t){e=e||"";var n={allowUnsafe:!1};(t=t instanceof Object?{...n,...t}:n).allowUnsafe=Boolean(t.allowUnsafe);var l=e.split(/(\r?\n)/);return l[0]&&/= yaml =|---/.test(l[0])?function(e,t){var n=jX.exec(e);if(!n)return{attributes:{},body:e,bodyBegin:1};var l=t?wX.load:wX.safeLoad,i=n[n.length-1].replace(/^\s+|\s+$/g,""),s=l(i)||{},o=e.replace(n[0],""),u=function(e,t){var n=1,l=t.indexOf("\n"),i=e.index+e[0].length;for(;-1!==l;){if(l>=i)return n;n++,l=t.indexOf("\n",l+1)}return n}(n,e);return{attributes:s,body:o,bodyBegin:u,frontmatter:i}}(e,t.allowUnsafe):{attributes:{},body:e,bodyBegin:1}},zy.exports.test=function(e){return e=e||"",jX.test(e)};const BX=getDefaultExportFromCjs$1(zy.exports),QX=/[\0-\x1F!-,\.\/:-@\[-\^`\{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482\u0530\u0557\u0558\u055A-\u055F\u0589-\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05CF\u05EB-\u05EE\u05F3-\u060F\u061B-\u061F\u066A-\u066D\u06D4\u06DD\u06DE\u06E9\u06FD\u06FE\u0700-\u070F\u074B\u074C\u07B2-\u07BF\u07F6-\u07F9\u07FB\u07FC\u07FE\u07FF\u082E-\u083F\u085C-\u085F\u086B-\u089F\u08B5\u08C8-\u08D2\u08E2\u0964\u0965\u0970\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09F2-\u09FB\u09FD\u09FF\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF0-\u0AF8\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B54\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B70\u0B72-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BF0-\u0BFF\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5B-\u0C5F\u0C64\u0C65\u0C70-\u0C7F\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0CFF\u0D0D\u0D11\u0D45\u0D49\u0D4F-\u0D53\u0D58-\u0D5E\u0D64\u0D65\u0D70-\u0D79\u0D80\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DE5\u0DF0\u0DF1\u0DF4-\u0E00\u0E3B-\u0E3F\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F17\u0F1A-\u0F1F\u0F2A-\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F48\u0F6D-\u0F70\u0F85\u0F98\u0FBD-\u0FC5\u0FC7-\u0FFF\u104A-\u104F\u109E\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u1360-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u170D\u1715-\u171F\u1735-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17D4-\u17D6\u17D8-\u17DB\u17DE\u17DF\u17EA-\u180A\u180E\u180F\u181A-\u181F\u1879-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191F\u192C-\u192F\u193C-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DA-\u19FF\u1A1C-\u1A1F\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1AAF\u1AC1-\u1AFF\u1B4C-\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BF4-\u1BFF\u1C38-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C89-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CCF\u1CD3\u1CFB-\u1CFF\u1DFA\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u203E\u2041-\u2053\u2055-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u20CF\u20F1-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u215F\u2189-\u24B5\u24EA-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E00-\u2E2E\u2E30-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u3040\u3097\u3098\u309B\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u319F\u31C0-\u31EF\u3200-\u33FF\u4DC0-\u4DFF\u9FFD-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA673\uA67E\uA6F2-\uA716\uA720\uA721\uA789\uA78A\uA7C0\uA7C1\uA7CB-\uA7F4\uA828-\uA82B\uA82D-\uA83F\uA874-\uA87F\uA8C6-\uA8CF\uA8DA-\uA8DF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA954-\uA95F\uA97D-\uA97F\uA9C1-\uA9CE\uA9DA-\uA9DF\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAAC3-\uAADA\uAADE\uAADF\uAAF0\uAAF1\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABEB\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFDFF\uFE10-\uFE1F\uFE30-\uFE32\uFE35-\uFE4C\uFE50-\uFE6F\uFE75\uFEFD-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF3E\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDD3F\uDD75-\uDDFC\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEE1-\uDEFF\uDF20-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE40-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE7-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCFF\uDD28-\uDD2F\uDD3A-\uDE7F\uDEAA\uDEAD-\uDEAF\uDEB2-\uDEFF\uDF1D-\uDF26\uDF28-\uDF2F\uDF51-\uDFAF\uDFC5-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC47-\uDC65\uDC70-\uDC7E\uDCBB-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD40-\uDD43\uDD48-\uDD4F\uDD74\uDD75\uDD77-\uDD7F\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDFF\uDE12\uDE38-\uDE3D\uDE3F-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC4B-\uDC4F\uDC5A-\uDC5D\uDC62-\uDC7F\uDCC6\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDC1-\uDDD7\uDDDE-\uDDFF\uDE41-\uDE43\uDE45-\uDE4F\uDE5A-\uDE7F\uDEB9-\uDEBF\uDECA-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF3A-\uDFFF]|\uD806[\uDC3B-\uDC9F\uDCEA-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD44-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE2\uDDE5-\uDDFF\uDE3F-\uDE46\uDE48-\uDE4F\uDE9A-\uDE9C\uDE9E-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC37\uDC41-\uDC4F\uDC5A-\uDC71\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF7-\uDFAF\uDFB1-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD824-\uD82B\uD82D\uD82E\uD830-\uD833\uD837\uD839\uD83D\uD83F\uD87B-\uD87D\uD87F\uD885-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDECF\uDEEE\uDEEF\uDEF5-\uDEFF\uDF37-\uDF3F\uDF44-\uDF4F\uDF5A-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE80-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE2\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82C[\uDD1F-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDC9C\uDC9F-\uDFFF]|\uD834[\uDC00-\uDD64\uDD6A-\uDD6C\uDD73-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDE41\uDE45-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD4F-\uDEBF\uDEFA-\uDFFF]|\uD83A[\uDCC5-\uDCCF\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83C[\uDC00-\uDD2F\uDD4A-\uDD4F\uDD6A-\uDD6F\uDD8A-\uDFFF]|\uD83E[\uDC00-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEDE-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]/g,_X=Object.hasOwnProperty;class BananaSlug{constructor(){this.occurrences,this.reset()}slug(e,t){const n=this;let l=function(e,t){if("string"!=typeof e)return"";t||(e=e.toLowerCase());return e.replace(QX,"").replace(/ /g,"-")}(e,!0===t);const i=l;for(;_X.call(n.occurrences,l);)n.occurrences[i]++,l=i+"-"+n.occurrences[i];return n.occurrences[l]=0,l}reset(){this.occurrences=Object.create(null)}}let DX,OX=[];function getDefaults(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let AX={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};function changeDefaults(e){AX=e}const qX=/[&<>"']/,$X=new RegExp(qX.source,"g"),eV=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,tV=new RegExp(eV.source,"g"),nV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement$1=e=>nV[e];function escape$1(e,t){if(t){if(qX.test(e))return e.replace($X,getEscapeReplacement$1)}else if(eV.test(e))return e.replace(tV,getEscapeReplacement$1);return e}const lV=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function unescape$1(e){return e.replace(lV,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const iV=/(^|[^\[])\^/g;function edit(e,t){e="string"==typeof e?e:e.source,t=t||"";const n={replace:(t,l)=>(l=(l=l.source||l).replace(iV,"$1"),e=e.replace(t,l),n),getRegex:()=>new RegExp(e,t)};return n}const sV=/[^\w:]/g,oV=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function cleanUrl(e,t,n){if(e){let e;try{e=decodeURIComponent(unescape$1(n)).replace(sV,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!oV.test(n)&&(n=function(e,t){cV[" "+e]||(aV.test(e)?cV[" "+e]=e+"/":cV[" "+e]=rtrim(e,"/",!0));e=cV[" "+e];const n=-1===e.indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(rV,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(uV,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}const cV={},aV=/^[^:]+:\/*[^/]*$/,rV=/^([^:]+:)[\s\S]*$/,uV=/^([^:]+:\/*[^/]*)[\s\S]*$/;const dV={exec:function(){}};function splitCells(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let l=!1,i=t;for(;--i>=0&&"\\"===n[i];)l=!l;return l?"|":" |"})),l=n.split(/ \|/);let i=0;if(l[0].trim()||l.shift(),l.length>0&&!l[l.length-1].trim()&&l.pop(),l.length>t)l.splice(t);else for(;l.length<t;)l.push("");for(;i<l.length;i++)l[i]=l[i].trim().replace(/\\\|/g,"|");return l}function rtrim(e,t,n){const l=e.length;if(0===l)return"";let i=0;for(;i<l;){const s=e.charAt(l-i-1);if(s!==t||n){if(s===t||!n)break;i++}else i++}return e.slice(0,l-i)}function outputLink(e,t,n,l){const i=t.href,s=t.title?escape$1(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){l.state.inLink=!0;const e={type:"link",raw:n,href:i,title:s,text:o,tokens:l.inlineTokens(o)};return l.state.inLink=!1,e}return{type:"image",raw:n,href:i,title:s,text:escape$1(o)}}class Tokenizer{constructor(e){this.options=e||AX}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:rtrim(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const l=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=l.length?e.slice(l.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=rtrim(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,""),n=this.lexer.state.top;this.lexer.state.top=!0;const l=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:l,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,l,i,s,o,u,d,h,m,b,V,g,f=t[1].trim();const S=f.length>1,L={type:"list",raw:"",ordered:S,start:S?+f.slice(0,-1):"",loose:!1,items:[]};f=S?`\\d{1,9}\\${f.slice(-1)}`:`\\${f}`,this.options.pedantic&&(f=S?f:"[*+-]");const v=new RegExp(`^( {0,3}${f})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(g=!1,t=v.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),h=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),m=e.split("\n",1)[0],this.options.pedantic?(s=2,V=h.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,V=h.slice(s),s+=t[1].length),u=!1,!h&&/^ *$/.test(m)&&(n+=m+"\n",e=e.substring(m.length+1),g=!0),!g){const t=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),l=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),i=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),o=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(b=e.split("\n",1)[0],m=b,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!i.test(m))&&!o.test(m)&&!t.test(m)&&!l.test(e);){if(m.search(/[^ ]/)>=s||!m.trim())V+="\n"+m.slice(s);else{if(u)break;if(h.search(/[^ ]/)>=4)break;if(i.test(h))break;if(o.test(h))break;if(l.test(h))break;V+="\n"+m}u||m.trim()||(u=!0),n+=b+"\n",e=e.substring(b.length+1),h=m.slice(s)}}L.loose||(d?L.loose=!0:/\n *\n *$/.test(n)&&(d=!0)),this.options.gfm&&(l=/^\[[ xX]\] /.exec(V),l&&(i="[ ] "!==l[0],V=V.replace(/^\[[ xX]\] +/,""))),L.items.push({type:"list_item",raw:n,task:!!l,checked:i,loose:!1,text:V}),L.raw+=n}L.items[L.items.length-1].raw=n.trimRight(),L.items[L.items.length-1].text=V.trimRight(),L.raw=L.raw.trimRight();const k=L.items.length;for(o=0;o<k;o++)if(this.lexer.state.top=!1,L.items[o].tokens=this.lexer.blockTokens(L.items[o].text,[]),!L.loose){const e=L.items[o].tokens.filter((e=>"space"===e.type)),t=e.length>0&&e.some((e=>/\n.*\n/.test(e.raw)));L.loose=t}if(L.loose)for(o=0;o<k;o++)L.items[o].loose=!0;return L}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",block:!0,raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const n=this.options.sanitizer?this.options.sanitizer(t[0]):escape$1(t[0]);e.type="paragraph",e.text=n,e.tokens=this.lexer.inline(n)}return e}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",l=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:l}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:splitCells(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,l,i,s,o=e.align.length;for(n=0;n<o;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(o=e.rows.length,n=0;n<o;n++)e.rows[n]=splitCells(e.rows[n],e.header.length).map((e=>({text:e})));for(o=e.header.length,l=0;l<o;l++)e.header[l].tokens=this.lexer.inline(e.header[l].text);for(o=e.rows.length,l=0;l<o;l++)for(s=e.rows[l],i=0;i<s.length;i++)s[i].tokens=this.lexer.inline(s[i].text);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:escape$1(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):escape$1(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=rtrim(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let l=0,i=0;for(;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])l++;else if(e[i]===t[1]&&(l--,l<0))return i;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],l="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],l=e[3])}else l=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),outputLink(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:l?l.replace(this.rules.inline._escapes,"$1"):l},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return outputLink(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let l=this.rules.inline.emStrong.lDelim.exec(e);if(!l)return;if(l[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(l[1]||l[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const n=l[0].length-1;let i,s,o=n,u=0;const d="*"===l[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(d.lastIndex=0,t=t.slice(-1*e.length+n);null!=(l=d.exec(t));){if(i=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!i)continue;if(s=i.length,l[3]||l[4]){o+=s;continue}if((l[5]||l[6])&&n%3&&!((n+s)%3)){u+=s;continue}if(o-=s,o>0)continue;s=Math.min(s,s+o+u);const t=e.slice(0,n+l.index+s+1);if(Math.min(n,s)%2){const e=t.slice(1,-1);return{type:"em",raw:t,text:e,tokens:this.lexer.inlineTokens(e)}}const d=t.slice(2,-2);return{type:"strong",raw:t,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),l=/^ /.test(e)&&/ $/.test(e);return n&&l&&(e=e.substring(1,e.length-1)),e=escape$1(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,l;return"@"===n[2]?(e=escape$1(this.options.mangle?t(n[1]):n[1]),l="mailto:"+e):(e=escape$1(n[1]),l=e),{type:"link",raw:n[0],text:e,href:l,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,l;if("@"===n[2])e=escape$1(this.options.mangle?t(n[0]):n[0]),l="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=escape$1(n[0]),l="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:e,href:l,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):escape$1(n[0]):n[0]:escape$1(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}const hV={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:dV,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};hV.def=edit(hV.def).replace("label",hV._label).replace("title",hV._title).getRegex(),hV.bullet=/(?:[*+-]|\d{1,9}[.)])/,hV.listItemStart=edit(/^( *)(bull) */).replace("bull",hV.bullet).getRegex(),hV.list=edit(hV.list).replace(/bull/g,hV.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+hV.def.source+")").getRegex(),hV._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",hV._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,hV.html=edit(hV.html,"i").replace("comment",hV._comment).replace("tag",hV._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),hV.lheading=edit(hV.lheading).replace(/bull/g,hV.bullet).getRegex(),hV.paragraph=edit(hV._paragraph).replace("hr",hV.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hV._tag).getRegex(),hV.blockquote=edit(hV.blockquote).replace("paragraph",hV.paragraph).getRegex(),hV.normal={...hV},hV.gfm={...hV.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},hV.gfm.table=edit(hV.gfm.table).replace("hr",hV.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hV._tag).getRegex(),hV.gfm.paragraph=edit(hV._paragraph).replace("hr",hV.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",hV.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hV._tag).getRegex(),hV.pedantic={...hV.normal,html:edit("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",hV._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:dV,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(hV.normal._paragraph).replace("hr",hV.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",hV.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const mV={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:dV,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:dV,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};function smartypants(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function mangle(e){let t,n,l="";const i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),l+="&#"+n+";";return l}mV._punctuation="\\p{P}$+<=>`^|~",mV.punctuation=edit(mV.punctuation,"u").replace(/punctuation/g,mV._punctuation).getRegex(),mV.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,mV.anyPunctuation=/\\[punct]/g,mV._escapes=/\\([punct])/g,mV._comment=edit(hV._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),mV.emStrong.lDelim=edit(mV.emStrong.lDelim,"u").replace(/punct/g,mV._punctuation).getRegex(),mV.emStrong.rDelimAst=edit(mV.emStrong.rDelimAst,"gu").replace(/punct/g,mV._punctuation).getRegex(),mV.emStrong.rDelimUnd=edit(mV.emStrong.rDelimUnd,"gu").replace(/punct/g,mV._punctuation).getRegex(),mV.anyPunctuation=edit(mV.anyPunctuation,"gu").replace(/punct/g,mV._punctuation).getRegex(),mV._escapes=edit(mV._escapes,"gu").replace(/punct/g,mV._punctuation).getRegex(),mV._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,mV._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,mV.autolink=edit(mV.autolink).replace("scheme",mV._scheme).replace("email",mV._email).getRegex(),mV._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,mV.tag=edit(mV.tag).replace("comment",mV._comment).replace("attribute",mV._attribute).getRegex(),mV._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,mV._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,mV._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,mV.link=edit(mV.link).replace("label",mV._label).replace("href",mV._href).replace("title",mV._title).getRegex(),mV.reflink=edit(mV.reflink).replace("label",mV._label).replace("ref",hV._label).getRegex(),mV.nolink=edit(mV.nolink).replace("ref",hV._label).getRegex(),mV.reflinkSearch=edit(mV.reflinkSearch,"g").replace("reflink",mV.reflink).replace("nolink",mV.nolink).getRegex(),mV.normal={...mV},mV.pedantic={...mV.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",mV._label).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",mV._label).getRegex()},mV.gfm={...mV.normal,escape:edit(mV.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},mV.gfm.url=edit(mV.gfm.url,"i").replace("email",mV.gfm._extended_email).getRegex(),mV.breaks={...mV.gfm,br:edit(mV.br).replace("{2,}","*").getRegex(),text:edit(mV.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class Lexer{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||AX,this.options.tokenizer=this.options.tokenizer||new Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:hV.normal,inline:mV.normal};this.options.pedantic?(t.block=hV.pedantic,t.inline=mV.pedantic):this.options.gfm&&(t.block=hV.gfm,this.options.breaks?t.inline=mV.breaks:t.inline=mV.gfm),this.tokenizer.rules=t}static get rules(){return{block:hV,inline:mV}}static lex(e,t){return new Lexer(t).lex(e)}static lexInline(e,t){return new Lexer(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,l,i,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((l=>!!(n=l.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),l=t[t.length-1],!l||"paragraph"!==l.type&&"text"!==l.type?t.push(n):(l.raw+="\n"+n.raw,l.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=l.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),l=t[t.length-1],!l||"paragraph"!==l.type&&"text"!==l.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(l.raw+="\n"+n.raw,l.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=l.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(i=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let l;this.options.extensions.startBlock.forEach((function(e){l=e.call({lexer:this},n),"number"==typeof l&&l>=0&&(t=Math.min(t,l))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i)))l=t[t.length-1],s&&"paragraph"===l.type?(l.raw+="\n"+n.raw,l.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=l.text):t.push(n),s=i.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),l=t[t.length-1],l&&"text"===l.type?(l.raw+="\n"+n.raw,l.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=l.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,l,i,s,o,u,d=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(d));)e.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(d=d.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(d));)d=d.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.anyPunctuation.exec(d));)d=d.slice(0,s.index)+"++"+d.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(o||(u=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((l=>!!(n=l.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),l=t[t.length-1],l&&"text"===n.type&&"text"===l.type?(l.raw+=n.raw,l.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),l=t[t.length-1],l&&"text"===n.type&&"text"===l.type?(l.raw+=n.raw,l.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,d,u))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,mangle))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,mangle))){if(i=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let l;this.options.extensions.startInline.forEach((function(e){l=e.call({lexer:this},n),"number"==typeof l&&l>=0&&(t=Math.min(t,l))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(i,smartypants))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(u=n.raw.slice(-1)),o=!0,l=t[t.length-1],l&&"text"===l.type?(l.raw+=n.raw,l.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class Renderer{constructor(e){this.options=e||AX}code(e,t,n){const l=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,l);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",l?'<pre><code class="'+this.options.langPrefix+escape$1(l)+'">'+(n?e:escape$1(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:escape$1(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,n,l){if(this.options.headerIds){return`<h${t} id="${this.options.headerPrefix+l.slug(n)}">${e}</h${t}>\n`}return`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const l=t?"ol":"ul";return"<"+l+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+l+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(null===(e=cleanUrl(this.options.sanitize,this.options.baseUrl,e)))return n;let l='<a href="'+e+'"';return t&&(l+=' title="'+t+'"'),l+=">"+n+"</a>",l}image(e,t,n){if(null===(e=cleanUrl(this.options.sanitize,this.options.baseUrl,e)))return n;let l=`<img src="${e}" alt="${n}"`;return t&&(l+=` title="${t}"`),l+=this.options.xhtml?"/>":">",l}text(e){return e}}class TextRenderer{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class Slugger{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,l=0;if(this.seen.hasOwnProperty(n)){l=this.seen[e];do{l++,n=e+"-"+l}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=l,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class Parser{constructor(e){this.options=e||AX,this.options.renderer=this.options.renderer||new Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new TextRenderer,this.slugger=new Slugger}static parse(e,t){return new Parser(t).parse(e)}static parseInline(e,t){return new Parser(t).parseInline(e)}parse(e,t=!0){let n,l,i,s,o,u,d,h,m,b,V,g,f,S,L,v,k,C,F,z="";const E=e.length;for(n=0;n<E;n++)if(b=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[b.type]&&(F=this.options.extensions.renderers[b.type].call({parser:this},b),!1!==F||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(b.type)))z+=F||"";else switch(b.type){case"space":continue;case"hr":z+=this.renderer.hr();continue;case"heading":z+=this.renderer.heading(this.parseInline(b.tokens),b.depth,unescape$1(this.parseInline(b.tokens,this.textRenderer)),this.slugger);continue;case"code":z+=this.renderer.code(b.text,b.lang,b.escaped);continue;case"table":for(h="",d="",s=b.header.length,l=0;l<s;l++)d+=this.renderer.tablecell(this.parseInline(b.header[l].tokens),{header:!0,align:b.align[l]});for(h+=this.renderer.tablerow(d),m="",s=b.rows.length,l=0;l<s;l++){for(u=b.rows[l],d="",o=u.length,i=0;i<o;i++)d+=this.renderer.tablecell(this.parseInline(u[i].tokens),{header:!1,align:b.align[i]});m+=this.renderer.tablerow(d)}z+=this.renderer.table(h,m);continue;case"blockquote":m=this.parse(b.tokens),z+=this.renderer.blockquote(m);continue;case"list":for(V=b.ordered,g=b.start,f=b.loose,s=b.items.length,m="",l=0;l<s;l++)L=b.items[l],v=L.checked,k=L.task,S="",L.task&&(C=this.renderer.checkbox(v),f?L.tokens.length>0&&"paragraph"===L.tokens[0].type?(L.tokens[0].text=C+" "+L.tokens[0].text,L.tokens[0].tokens&&L.tokens[0].tokens.length>0&&"text"===L.tokens[0].tokens[0].type&&(L.tokens[0].tokens[0].text=C+" "+L.tokens[0].tokens[0].text)):L.tokens.unshift({type:"text",text:C}):S+=C),S+=this.parse(L.tokens,f),m+=this.renderer.listitem(S,k,v);z+=this.renderer.list(m,V,g);continue;case"html":z+=this.renderer.html(b.text,b.block);continue;case"paragraph":z+=this.renderer.paragraph(this.parseInline(b.tokens));continue;case"text":for(m=b.tokens?this.parseInline(b.tokens):b.text;n+1<E&&"text"===e[n+1].type;)b=e[++n],m+="\n"+(b.tokens?this.parseInline(b.tokens):b.text);z+=t?this.renderer.paragraph(m):m;continue;default:{const e='Token with "'+b.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return z}parseInline(e,t){t=t||this.renderer;let n,l,i,s="";const o=e.length;for(n=0;n<o;n++)if(l=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type]&&(i=this.options.extensions.renderers[l.type].call({parser:this},l),!1!==i||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)))s+=i||"";else switch(l.type){case"escape":case"text":s+=t.text(l.text);break;case"html":s+=t.html(l.text);break;case"link":s+=t.link(l.href,l.title,this.parseInline(l.tokens,t));break;case"image":s+=t.image(l.href,l.title,l.text);break;case"strong":s+=t.strong(this.parseInline(l.tokens,t));break;case"em":s+=t.em(this.parseInline(l.tokens,t));break;case"codespan":s+=t.codespan(l.text);break;case"br":s+=t.br();break;case"del":s+=t.del(this.parseInline(l.tokens,t));break;default:{const e='Token with "'+l.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return s}}class Hooks{constructor(e){this.options=e||AX}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}const bV=new class{defaults={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};options=this.setOptions;parse=this.#e(Lexer.lex,Parser.parse);parseInline=this.#e(Lexer.lexInline,Parser.parseInline);Parser=Parser;parser=Parser.parse;Renderer=Renderer;TextRenderer=TextRenderer;Lexer=Lexer;lexer=Lexer.lex;Tokenizer=Tokenizer;Slugger=Slugger;Hooks=Hooks;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const l of e)switch(n=n.concat(t.call(this,l)),l.type){case"table":for(const e of l.header)n=n.concat(this.walkTokens(e.tokens,t));for(const e of l.rows)for(const l of e)n=n.concat(this.walkTokens(l.tokens,t));break;case"list":n=n.concat(this.walkTokens(l.items,t));break;default:this.defaults.extensions&&this.defaults.extensions.childTokens&&this.defaults.extensions.childTokens[l.type]?this.defaults.extensions.childTokens[l.type].forEach((e=>{n=n.concat(this.walkTokens(l[e],t))})):l.tokens&&(n=n.concat(this.walkTokens(l.tokens,t)))}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let l=e.renderer.apply(this,t);return!1===l&&(l=n.apply(this,t)),l}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");t[e.level]?t[e.level].unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new Renderer(this.defaults);for(const n in e.renderer){const l=t[n];t[n]=(...i)=>{let s=e.renderer[n].apply(t,i);return!1===s&&(s=l.apply(t,i)),s}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new Tokenizer(this.defaults);for(const n in e.tokenizer){const l=t[n];t[n]=(...i)=>{let s=e.tokenizer[n].apply(t,i);return!1===s&&(s=l.apply(t,i)),s}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new Hooks;for(const n in e.hooks){const l=t[n];Hooks.passThroughHooks.has(n)?t[n]=i=>{if(this.defaults.async)return Promise.resolve(e.hooks[n].call(t,i)).then((e=>l.call(t,e)));const s=e.hooks[n].call(t,i);return l.call(t,s)}:t[n]=(...i)=>{let s=e.hooks[n].apply(t,i);return!1===s&&(s=l.apply(t,i)),s}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens;n.walkTokens=function(n){let l=[];return l.push(e.walkTokens.call(this,n)),t&&(l=l.concat(t.call(this,n))),l}}this.defaults={...this.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}#e(e,t){return(n,l,i)=>{"function"==typeof l&&(i=l,l=null);const s={...l};l={...this.defaults,...s};const o=this.#t(l.silent,l.async,i);if(null==n)return o(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(function(e,t){e&&!e.silent&&(t&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(e.sanitize||e.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(e.highlight||"language-"!==e.langPrefix)&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),e.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),e.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),e.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),e.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(e.headerIds||e.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}(l,i),l.hooks&&(l.hooks.options=l),i){const s=l.highlight;let u;try{l.hooks&&(n=l.hooks.preprocess(n)),u=e(n,l)}catch(e){return o(e)}const done=e=>{let n;if(!e)try{l.walkTokens&&this.walkTokens(u,l.walkTokens),n=t(u,l),l.hooks&&(n=l.hooks.postprocess(n))}catch(t){e=t}return l.highlight=s,e?o(e):i(null,n)};if(!s||s.length<3)return done();if(delete l.highlight,!u.length)return done();let d=0;return this.walkTokens(u,(e=>{"code"===e.type&&(d++,setTimeout((()=>{s(e.text,e.lang,((t,n)=>{if(t)return done(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),d--,0===d&&done()}))}),0))})),void(0===d&&done())}if(l.async)return Promise.resolve(l.hooks?l.hooks.preprocess(n):n).then((t=>e(t,l))).then((e=>l.walkTokens?Promise.all(this.walkTokens(e,l.walkTokens)).then((()=>e)):e)).then((e=>t(e,l))).then((e=>l.hooks?l.hooks.postprocess(e):e)).catch(o);try{l.hooks&&(n=l.hooks.preprocess(n));const i=e(n,l);l.walkTokens&&this.walkTokens(i,l.walkTokens);let s=t(i,l);return l.hooks&&(s=l.hooks.postprocess(s)),s}catch(e){return o(e)}}}#t(e,t,n){return l=>{if(l.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+escape$1(l.message+"",!0)+"</pre>";return t?Promise.resolve(e):n?void n(null,e):e}if(t)return Promise.reject(l);if(!n)throw l;n(l)}}}(AX);function marked(e,t,n){return bV.parse(e,t,n)}function getLang(e){return(e||"").match(/\S*/)[0]}function updateToken(e){return t=>{"string"==typeof t&&t!==e.text&&(e.escaped=!0,e.text=t)}}marked.options=marked.setOptions=function(e){return bV.setOptions(e),marked.defaults=bV.defaults,changeDefaults(marked.defaults),marked},marked.getDefaults=getDefaults,marked.defaults=AX,marked.use=function(...e){return bV.use(...e),marked.defaults=bV.defaults,changeDefaults(marked.defaults),marked},marked.walkTokens=function(e,t){return bV.walkTokens(e,t)},marked.parseInline=bV.parseInline,marked.Parser=Parser,marked.parser=Parser.parse,marked.Renderer=Renderer,marked.TextRenderer=TextRenderer,marked.Lexer=Lexer,marked.lexer=Lexer.lex,marked.Tokenizer=Tokenizer,marked.Slugger=Slugger,marked.Hooks=Hooks,marked.parse=marked,marked.options,marked.setOptions,marked.use,marked.walkTokens,marked.parseInline;const pV=/[&<>"']/,ZV=new RegExp(pV.source,"g"),yV=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,GV=new RegExp(yV.source,"g"),XV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=e=>XV[e];function escape(e,t){if(t){if(pV.test(e))return e.replace(ZV,getEscapeReplacement)}else if(yV.test(e))return e.replace(GV,getEscapeReplacement);return e}var __async=(e,t,n)=>new Promise(((l,i)=>{var fulfilled=e=>{try{step(n.next(e))}catch(e){i(e)}},rejected=e=>{try{step(n.throw(e))}catch(e){i(e)}},step=e=>e.done?l(e.value):Promise.resolve(e.value).then(fulfilled,rejected);step((n=n.apply(e,t)).next())}));function _classPrivateFieldInitSpec(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function _assertClassBrand(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}let VV=(()=>{var e;class AnchorNavigationDirective2{constructor(){this.document=inject(ud),this.location=inject(gd),this.router=inject(pZ)}handleNavigation(e){if(e instanceof HTMLAnchorElement&&function(e,t){return e.host===t.location.host&&e.protocol===t.location.protocol}(e,this.document)&&(!(t=e).target||"_self"===t.target)&&!function(e){return null!==e.getAttribute("download")}(e)){const{pathname:t,search:n,hash:l}=e,i=this.location.normalize(`${t}${n}${l}`);return this.router.navigateByUrl(i),!1}var t;return!0}}return(e=AnchorNavigationDirective2).fac=function(t){return new(t||e)},e.dir=defineDirective({type:e,selectors:[["","analogAnchorNavigation",""]],hostBindings:function(e,t){1&e&&listener("click",(function(e){return t.handleNavigation(e.target)}))},standalone:!0}),AnchorNavigationDirective2})();function getSlug(e){const t=e.match(/^(\\|\/)(.+(\\|\/))*(.+)\.(.+)$/);return t?.length?t[4]:""}const WV=new InjectionToken("@analogjs/content Content Files List",{providedIn:"root",factory(){const e=Object.assign({});return Object.keys(e).map((t=>{const n=e[t],l=n.slug;return{filename:t,attributes:n,slug:l?encodeURI(l):encodeURI(getSlug(t))}}))}}),RV=new InjectionToken("@analogjs/content Content Files",{providedIn:"root",factory(){const e=Object.assign({}),t=inject(WV),n={};t.forEach((e=>{const t=e.filename.split("/"),l=t.slice(0,t.length-1).join("/");n[e.filename]=`${l}/${e.slug}.md`}));const l={};return Object.entries(e).forEach((e=>{const t=e[0],i=e[1],s=n[t];void 0!==s&&(l[s]=i)})),l}});function parseRawContentFile(e){const{body:t,attributes:n}=BX(e);return{content:t,attributes:n}}function getContentFile(e,t,n,l){const i=`/src/content/${t}${n}.md`,s=e[i];return s?new An((e=>{(function(e){return __async(this,null,(function*(){isObservable(e)&&(e=firstValueFrom(e));const t=Zone.current.scheduleMacroTask(`AnalogContentResolve-${Math.random()}`,(()=>{}),{},(()=>{}));return e.then((e=>(t.invoke(),e)))}))})(s()).then((t=>{e.next(t)}))})).pipe(map$1((e=>{const{content:t,attributes:l}=parseRawContentFile(e);return{filename:i,slug:n,attributes:l,content:t}}))):of({filename:i,attributes:{},slug:"",content:l})}let gV=(()=>{var e;class ContentRenderer2{render(e){return __async(this,null,(function*(){return e}))}getContentHeadings(){return[]}enhance(){}}return(e=ContentRenderer2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac}),ContentRenderer2})();"undefined"!=typeof Prism&&(Prism.languages.angular=Prism.languages.extend("markup",{keyword:/(?:@if|@for|@switch|@defer|@loading|@error|@placeholder|prefetch)\b/,operator:/\b(?:on|when)\b/,number:{pattern:/\b(minimum|after)\s+\d+(?:s|ms|)/gi,lookbehind:!0},builtin:{pattern:/\b(?:viewport|timer|minimum|after|hover|idle|immediate|interaction)/},function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/}),Prism.languages.ng=Prism.languages.angular);let IV=(()=>{var e;class MarkedSetupService2{constructor(){const e=new marked.Renderer;e.code=(e,t)=>{if("mermaid"===t)return'<pre class="mermaid">'+e+"</pre>";if(!t)return"<pre><code>"+e+"</code></pre>";const n=t.startsWith("diff")&&Prism.languages.diff?`language-${t} diff-highlight`:`language-${t.replace("diff-","")}`;return`<pre class="${n}"><code class="${n}">${e}</code></pre>`},marked.use(function({prefix:e=""}={}){return{headerIds:!1,hooks:{preprocess:e=>(OX=[],DX=new BananaSlug,e)},renderer:{heading(t,n,l){l=l.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"");const i=`${e}${DX.slug(l)}`,s={level:n,text:t,id:i};return OX.push(s),`<h${n} id="${i}">${t}</h${n}>\n`}}}}(),function(e){if("function"==typeof e&&(e={highlight:e}),!e||"function"!=typeof e.highlight)throw new Error("Must provide highlight function");return"string"!=typeof e.langPrefix&&(e.langPrefix="language-"),{async:!!e.async,walkTokens(t){if("code"!==t.type)return;const n=getLang(t.lang);if(e.async)return Promise.resolve(e.highlight(t.text,n,t.lang||"")).then(updateToken(t));const l=e.highlight(t.text,n,t.lang||"");if(l instanceof Promise)throw new Error("markedHighlight is not set to async but the highlight function is async. Set the async option to true on markedHighlight to await the async highlight function.");updateToken(t)(l)},renderer:{code(t,n,l){const i=getLang(n),s=i?` class="${e.langPrefix}${escape(i)}"`:"";return t=t.replace(/\n$/,""),`<pre><code${s}>${l?t:escape(t,!0)}\n</code></pre>`}}}}({async:!0,highlight:(e,t)=>{let n=t?.startsWith("diff-");return t=n?t.replace("diff-",""):t||"typescript",n&&!Prism.languages.diff&&(n=!1,console.warn("Notice:\n    ---------------------------------------------------------------------------------------\n    The `diff` language and plugin are not available in the provided setup.\n    To enable it, add the following imports your `main.ts`:\n      import 'prismjs/components/prism-diff';\n      import 'prismjs/plugins/diff-highlight/prism-diff-highlight';\n    ---------------------------------------------------------------------------------------\n            ")),Prism.languages[t]?Prism.highlight(e,n?Prism.languages.diff:Prism.languages[t],t):("mermaid"!==t&&console.warn(`Notice:\n    ---------------------------------------------------------------------------------------\n    The requested language '${t}' is not available in the provided setup.\n    To enable it, add the following import your \`main.ts\`:\n      import 'prismjs/components/prism-${t}';\n    ---------------------------------------------------------------------------------------\n              `),e)}}),{renderer:e,pedantic:!1,gfm:!0,breaks:!1,sanitize:!1,smartypants:!1,xhtml:!1,mangle:!1}),this.marked=marked}getMarkedInstance(){return this.marked}}return(e=MarkedSetupService2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac}),MarkedSetupService2})(),fV=(()=>{var e,t=new WeakMap;class MarkdownContentRendererService2{constructor(){_classPrivateFieldInitSpec(this,t,void 0),this.platformId=inject(Ba),function(e,t,n){e.set(_assertClassBrand(e,t),n)}(t,this,inject(IV,{self:!0}))}render(e){return __async(this,null,(function*(){return function(e,t){return e.get(_assertClassBrand(e,t))}(t,this).getMarkedInstance().parse(e)}))}getContentHeadings(){return OX}enhance(){}}return(e=MarkdownContentRendererService2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac}),MarkdownContentRendererService2})();const SV=new InjectionToken("mermaid_import");let LV=(()=>{var e;class AnalogMarkdownRouteComponent2{constructor(){this.sanitizer=inject(tm),this.route=inject(ActivatedRoute),this.contentRenderer=inject(gV),this.content=this.sanitizer.bypassSecurityTrustHtml(this.route.snapshot.data.renderedAnalogContent),this.classes="analog-markdown-route"}ngAfterViewChecked(){this.contentRenderer.enhance()}}return(e=AnalogMarkdownRouteComponent2).fac=function(t){return new(t||e)},e.cmp=defineComponent({type:e,selectors:[["analog-markdown-route"]],inputs:{classes:"classes"},standalone:!0,features:[HostDirectivesFeature([VV]),StandaloneFeature],decls:1,vars:3,consts:[[3,"innerHTML"]],template:function(e,t){1&e&&element(0,"div",0),2&e&&(classMap(t.classes),property("innerHTML",t.content,sanitizeHtml))},encapsulation:2}),AnalogMarkdownRouteComponent2})(),YV=(()=>{var e;class AnalogMarkdownComponent2{constructor(){this.sanitizer=inject(tm),this.route=inject(ActivatedRoute),this.zone=inject(NgZone),this.platformId=inject(Ba),this.mermaidImport=inject(SV,{optional:!0}),this.content$=of(""),this.classes="analog-markdown",this.contentRenderer=inject(gV),isPlatformBrowser(this.platformId)&&this.mermaidImport&&this.loadMermaid(this.mermaidImport)}ngOnInit(){this.updateContent()}ngOnChanges(){this.updateContent()}updateContent(){this.content$=this.route.data.pipe(map$1((e=>this.content??e._analogContent)),mergeMap((e=>this.renderContent(e))),map$1((e=>this.sanitizer.bypassSecurityTrustHtml(e))),catchError((e=>of(`There was an error ${e}`))))}renderContent(e){return __async(this,null,(function*(){return this.contentRenderer.render(e)}))}ngAfterViewChecked(){this.contentRenderer.enhance(),this.zone.runOutsideAngular((()=>this.mermaid?.default.run()))}loadMermaid(e){this.zone.runOutsideAngular((()=>from(e).pipe(function(e){e||(assertInInjectionContext(),e=inject(Vu));const t=new An((t=>e.onDestroy(t.next.bind(t))));return e=>e.pipe(takeUntil(t))}()).subscribe((e=>{this.mermaid=e,this.mermaid.default.initialize({startOnLoad:!1}),this.mermaid?.default.run()}))))}}return(e=AnalogMarkdownComponent2).fac=function(t){return new(t||e)},e.cmp=defineComponent({type:e,selectors:[["analog-markdown"]],inputs:{content:"content",classes:"classes"},standalone:!0,features:[HostDirectivesFeature([VV]),NgOnChangesFeature,StandaloneFeature],decls:2,vars:5,consts:[[3,"innerHTML"]],template:function(e,t){1&e&&(element(0,"div",0),function(e,t){const n=getTView();let l;const i=e+ua;n.firstCreatePass?(l=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const l=t[n];if(e===l.name)return l}}(t,n.pipeRegistry),n.data[i]=l,l.onDestroy&&(n.destroyHooks??(n.destroyHooks=[])).push(i,l.onDestroy)):l=n.data[i];const s=l.factory||(l.factory=getFactoryDef(l.type)),o=setInjectImplementation(directiveInject);try{const e=setIncludeViewProviders(!1),t=s();return setIncludeViewProviders(e),function(e,t,n,l){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=l}(n,getLView(),i,t),t}finally{setInjectImplementation(o)}}(1,"async")),2&e&&(classMap(t.classes),property("innerHTML",pipeBind1(1,3,t.content$),sanitizeHtml))},dependencies:[eh],encapsulation:2}),AnalogMarkdownComponent2})();const KV=Object.freeze(Object.defineProperty({__proto__:null,AnchorNavigationDirective:VV,ContentRenderer:gV,MarkdownComponent:YV,MarkdownContentRendererService:fV,MarkdownRouteComponent:LV,MarkedSetupService:IV,injectContent:function(e="slug",t="No Content Found"){const n=inject(RV);if("string"==typeof e||"param"in e){const l="string"==typeof e?"":`${e.subdirectory}/`,i=inject(ActivatedRoute),s="string"==typeof e?e:e.param;return i.paramMap.pipe(map$1((e=>e.get(s))),switchMap((e=>e?getContentFile(n,l,e,t):of({filename:"",slug:"",attributes:{},content:t}))))}return getContentFile(n,"",e.customFilename,t)},injectContentFiles:function(e){const t=inject(WV);if(e){return t.filter(e)}return t},parseRawContentFile:parseRawContentFile,provideContent:function(...e){return[...e,IV]},withMarkdownRenderer:function(e){return[{provide:gV,useFactory:()=>new fV,deps:[IV]},e?.loadMermaid?[{provide:SV,useFactory:e.loadMermaid}]:[]]}},Symbol.toStringTag,{value:"Module"}));let xV=(()=>{var e;class UserService2{constructor(){this.auth=null,this.user$=signal({loading:!0,data:null}),effect((()=>(this.user$().loading=!0,this.auth?BZ(this.auth,(e=>{if(this.user$().loading=!1,!e)return void(this.user$().data=null);const{photoURL:t,uid:n,displayName:l,email:i}=e,s={photoURL:t,uid:n,displayName:l,email:i};this.user$().data=s})):(this.user$().loading=!1,void(this.user$().data=null)))))}login(){this.auth}logout(){this.auth&&QZ(this.auth)}}return(e=UserService2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"root"}),UserService2})();let NV=(()=>{var e;class TodosService2{constructor(){this.db=ly(),this.user=inject(xV).user$,this.todos=signal({data:[],loading:!0}),this.addTodo=(e,t)=>{if(e.preventDefault(),!t)throw"No UID!";const n=e.target,l=new FormData(n),{task:i}=Object.fromEntries(l);"string"==typeof i&&(n.reset(),$Z(ey(this.db,"todos"),{uid:t,text:i,complete:!1,created:cy()}))},this.updateTodo=(e,t)=>{ay(ny(this.db,"todos",e),{complete:t})},this.deleteTodo=e=>{ty(ny(this.db,"todos",e))},effect((()=>{const e=this.user().data;return e?iy(oy(ey(this.db,"todos"),ry("uid","==",e.uid),sy("created")),(e=>{this.todos().loading=!1;const t=(e=>e.empty?[]:e.docs.map((e=>{const t=e.data();return{...t,created:new Date(t.created?.toMillis()),id:e.id}})))(e);this.todos().data=t})):(this.todos().loading=!1,void(this.todos().data=[]))}))}}return(e=TodosService2).fac=function(t){return new(t||e)},e.prov=defineInjectable({token:e,factory:e.fac,providedIn:"root"}),TodosService2})();function TodoItemComponent_Conditional_4_Template(e,t){if(1&e){const e=getCurrentView();elementStart(0,"button",2),listener("click",(function(){restoreView(e);const t=nextContext();return resetView(t.ts.updateTodo(t.todo.id,!t.todo.complete))})),text(1,"  "),elementEnd()}}function TodoItemComponent_Conditional_5_Template(e,t){if(1&e){const e=getCurrentView();elementStart(0,"button",2),listener("click",(function(){restoreView(e);const t=nextContext();return resetView(t.ts.updateTodo(t.todo.id,!t.todo.complete))})),text(1,"  "),elementEnd()}}let TV=(()=>{var e;class TodoItemComponent2{constructor(){this.ts=inject(NV)}}return(e=TodoItemComponent2).fac=function(t){return new(t||e)},e.cmp=defineComponent({type:e,selectors:[["app-todo-item"]],inputs:{todo:"todo"},standalone:!0,features:[StandaloneFeature],decls:8,vars:5,consts:[[3,"ngClass"],["type","button"],["type","button",3,"click"]],template:function(e,t){1&e&&(elementStart(0,"span",0),text(1),elementEnd(),elementStart(2,"span",0),text(3),elementEnd(),template(4,TodoItemComponent_Conditional_4_Template,2,0,"button",1)(5,TodoItemComponent_Conditional_5_Template,2,0),elementStart(6,"button",2),listener("click",(function(){return t.ts.deleteTodo(t.todo.id)})),text(7,"  "),elementEnd()),2&e&&(property("ngClass",t.todo.complete?"line-through text-green-700":""),advance(),textInterpolate(t.todo.text),advance(),property("ngClass",t.todo.complete?"line-through text-green-700":""),advance(),textInterpolate(t.todo.id),advance(),conditional(4,t.todo.complete?4:5))},dependencies:[th,Ud],encapsulation:2}),TodoItemComponent2})(),vV=(()=>{var e;class TodoFormComponent2{constructor(){this.ts=inject(NV),this.user=inject(xV).user$}}return(e=TodoFormComponent2).fac=function(t){return new(t||e)},e.cmp=defineComponent({type:e,selectors:[["app-todo-form"]],standalone:!0,features:[StandaloneFeature],decls:4,vars:0,consts:[[1,"flex","gap-3","items-center","justify-center","mt-5",3,"submit"],["name","task",1,"border","p-2"],["type","submit",1,"border","p-2","rounded-md","text-white","bg-sky-700"]],template:function(e,t){1&e&&(elementStart(0,"form",0),listener("submit",(function(e){return t.ts.addTodo(e,null==t.user().data?null:t.user().data.uid)})),element(1,"input",1),elementStart(2,"button",2),text(3," Add Task "),elementEnd()())},encapsulation:2}),TodoFormComponent2})();const _forTrack0=(e,t)=>t.id;function TodosComponent_For_3_Template(e,t){if(1&e&&element(0,"app-todo-item",1),2&e){property("todo",t.$implicit)}}function TodosComponent_ForEmpty_4_Template(e,t){1&e&&(elementStart(0,"p")(1,"b"),text(2,"Add your first todo item!"),elementEnd()())}let kV=(()=>{var e;class TodosComponent2{constructor(){this.todos=inject(NV).todos}}return(e=TodosComponent2).fac=function(t){return new(t||e)},e.cmp=defineComponent({type:e,selectors:[["app-todos"]],standalone:!0,features:[StandaloneFeature],decls:6,vars:1,consts:[[1,"grid","grid-cols-[auto,auto,auto,auto]","gap-3","justify-items-start"],[1,"contents",3,"todo"],["class","contents",3,"todo"]],template:function(e,t){1&e&&(elementStart(0,"div")(1,"div",0),function(e,t,n,l,i,s,o,u,d,h,m,b,V){performanceMarkFeature("NgControlFlow");const g=void 0!==d,f=getLView(),S=u?o.bind(f[Mc][Ic]):o,L=new RepeaterMetadata(g,S);f[ua+e]=L,template(e+1,t,n,l,i,s),g&&template(e+2,d,h,m,b,V)}(2,TodosComponent_For_3_Template,1,1,"app-todo-item",2,_forTrack0,!1,TodosComponent_ForEmpty_4_Template,3,0,"p"),elementEnd(),element(5,"app-todo-form"),elementEnd()),2&e&&(advance(2),repeater(t.todos().data))},dependencies:[TV,vV],encapsulation:2}),TodosComponent2})(),CV=(()=>{var e;class ProfileComponent2{constructor(){this.us=inject(xV)}}return(e=ProfileComponent2).fac=function(t){return new(t||e)},e.cmp=defineComponent({type:e,selectors:[["app-profile"]],standalone:!0,features:[StandaloneFeature],decls:9,vars:3,consts:[[1,"flex","flex-col","gap-3","items-center"],[1,"font-bold"],["width","100","height","100","alt","user avatar",3,"src"],["type","button",1,"border","p-2","rounded-md","text-white","bg-lime-600",3,"click"]],template:function(e,t){1&e&&(elementStart(0,"div",0)(1,"h3",1),text(2),elementEnd(),element(3,"img",2),elementStart(4,"p"),text(5),elementEnd(),elementStart(6,"button",3),listener("click",(function(){return t.us.logout()})),text(7," Logout "),elementEnd(),element(8,"app-todos"),elementEnd()),2&e&&(advance(2),textInterpolate1("Hi ",null==t.us.user$().data?null:t.us.user$().data.displayName,"!"),advance(),property("src",null==t.us.user$().data?null:t.us.user$().data.photoURL,sanitizeUrl),advance(2),textInterpolate1("Your userID is ",null==t.us.user$().data?null:t.us.user$().data.uid,""))},dependencies:[kV],encapsulation:2}),ProfileComponent2})();function IndexComponent_Conditional_3_Template(e,t){1&e&&(elementStart(0,"p"),text(1,"Loading..."),elementEnd())}function IndexComponent_Conditional_4_Template(e,t){1&e&&element(0,"app-profile")}function IndexComponent_Conditional_5_Template(e,t){if(1&e){const e=getCurrentView();elementStart(0,"button",2),listener("click",(function(){restoreView(e);return resetView(nextContext().us.login())})),text(1," Signin with Google "),elementEnd()}}let HV=(()=>{var e;class IndexComponent2{constructor(){this.us=inject(xV)}}return(e=IndexComponent2).fac=function(t){return new(t||e)},e.cmp=defineComponent({type:e,selectors:[["app-index"]],standalone:!0,features:[StandaloneFeature],decls:6,vars:1,consts:[[1,"text-center"],[1,"text-3xl","font-semibold","my-3"],["type","button",1,"border","p-2","rounded-md","text-white","bg-red-600",3,"click"]],template:function(e,t){1&e&&(elementStart(0,"div",0)(1,"h1",1),text(2,"Angular Firebase Todo App"),elementEnd(),template(3,IndexComponent_Conditional_3_Template,2,0,"p")(4,IndexComponent_Conditional_4_Template,1,0)(5,IndexComponent_Conditional_5_Template,2,0),elementEnd()),2&e&&(advance(3),conditional(3,t.us.user$().loading?3:t.us.user$().data?4:5))},dependencies:[CV],encapsulation:2}),IndexComponent2})(),JV=(()=>{var e;class HomeComponent2{}return(e=HomeComponent2).fac=function(t){return new(t||e)},e.cmp=defineComponent({type:e,selectors:[["app-home"]],standalone:!0,features:[StandaloneFeature],decls:1,vars:0,template:function(e,t){1&e&&element(0,"app-index")},dependencies:[HV],encapsulation:2}),HomeComponent2})();const FV=Object.freeze(Object.defineProperty({__proto__:null,default:JV},Symbol.toStringTag,{value:"Module"}));export{netlifyEdge as default};
//# sourceMappingURL=server.js.map
