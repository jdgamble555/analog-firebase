var DA=Object.getPrototypeOf;var PA=Reflect.get;var Ir=(t,e,n)=>PA(DA(t),n,e);var g=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();(function(t){const e=t.performance;function n(ve){e&&e.mark&&e.mark(ve)}function r(ve,x){e&&e.measure&&e.measure(ve,x)}n("Zone");const i=t.__Zone_symbol_prefix||"__zone_symbol__";function s(ve){return i+ve}const o=t[s("forceDuplicateZoneCheck")]===!0;if(t.Zone){if(o||typeof t.Zone.__symbol__!="function")throw new Error("Zone already loaded.");return t.Zone}let a=(()=>{var ve;class x{static assertZonePatched(){if(t.Promise!==en.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let p=x.current;for(;p.parent;)p=p.parent;return p}static get current(){return ke.zone}static get currentTask(){return Ht}static __load_patch(p,L,Z=!1){if(en.hasOwnProperty(p)){if(!Z&&o)throw Error("Already loaded patch: "+p)}else if(!t["__Zone_disable_"+p]){const me="Zone:"+p;n(me),en[p]=L(t,x,Ve),r(me,me)}}get parent(){return this._parent}get name(){return this._name}constructor(p,L){this._parent=p,this._name=L?L.name||"unnamed":"<root>",this._properties=L&&L.properties||{},this._zoneDelegate=new u(this,this._parent&&this._parent._zoneDelegate,L)}get(p){const L=this.getZoneWith(p);if(L)return L._properties[p]}getZoneWith(p){let L=this;for(;L;){if(L._properties.hasOwnProperty(p))return L;L=L._parent}return null}fork(p){if(!p)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,p)}wrap(p,L){if(typeof p!="function")throw new Error("Expecting function got: "+p);const Z=this._zoneDelegate.intercept(this,p,L),me=this;return function(){return me.runGuarded(Z,this,arguments,L)}}run(p,L,Z,me){ke={parent:ke,zone:this};try{return this._zoneDelegate.invoke(this,p,L,Z,me)}finally{ke=ke.parent}}runGuarded(p,L=null,Z,me){ke={parent:ke,zone:this};try{try{return this._zoneDelegate.invoke(this,p,L,Z,me)}catch(A){if(this._zoneDelegate.handleError(this,A))throw A}}finally{ke=ke.parent}}runTask(p,L,Z){if(p.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(p.zone||V).name+"; Execution: "+this.name+")");if(p.state===U&&(p.type===vt||p.type===K))return;const me=p.state!=O;me&&p._transitionTo(O,B),p.runCount++;const A=Ht;Ht=p,ke={parent:ke,zone:this};try{p.type==K&&p.data&&!p.data.isPeriodic&&(p.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,p,L,Z)}catch(R){if(this._zoneDelegate.handleError(this,R))throw R}}finally{p.state!==U&&p.state!==N&&(p.type==vt||p.data&&p.data.isPeriodic?me&&p._transitionTo(B,O):(p.runCount=0,this._updateTaskCount(p,-1),me&&p._transitionTo(U,O,U))),ke=ke.parent,Ht=A}}scheduleTask(p){if(p.zone&&p.zone!==this){let Z=this;for(;Z;){if(Z===p.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${p.zone.name}`);Z=Z.parent}}p._transitionTo(H,U);const L=[];p._zoneDelegates=L,p._zone=this;try{p=this._zoneDelegate.scheduleTask(this,p)}catch(Z){throw p._transitionTo(N,H,U),this._zoneDelegate.handleError(this,Z),Z}return p._zoneDelegates===L&&this._updateTaskCount(p,1),p.state==H&&p._transitionTo(B,H),p}scheduleMicroTask(p,L,Z,me){return this.scheduleTask(new l(de,p,L,Z,me,void 0))}scheduleMacroTask(p,L,Z,me,A){return this.scheduleTask(new l(K,p,L,Z,me,A))}scheduleEventTask(p,L,Z,me,A){return this.scheduleTask(new l(vt,p,L,Z,me,A))}cancelTask(p){if(p.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(p.zone||V).name+"; Execution: "+this.name+")");if(!(p.state!==B&&p.state!==O)){p._transitionTo(fe,B,O);try{this._zoneDelegate.cancelTask(this,p)}catch(L){throw p._transitionTo(N,fe),this._zoneDelegate.handleError(this,L),L}return this._updateTaskCount(p,-1),p._transitionTo(U,fe),p.runCount=0,p}}_updateTaskCount(p,L){const Z=p._zoneDelegates;L==-1&&(p._zoneDelegates=null);for(let me=0;me<Z.length;me++)Z[me]._updateTaskCount(p.type,L)}}return ve=x,ve.__symbol__=s,x})();const c={name:"",onHasTask:(ve,x,E,p)=>ve.hasTask(E,p),onScheduleTask:(ve,x,E,p)=>ve.scheduleTask(E,p),onInvokeTask:(ve,x,E,p,L,Z)=>ve.invokeTask(E,p,L,Z),onCancelTask:(ve,x,E,p)=>ve.cancelTask(E,p)};class u{constructor(x,E,p){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=x,this._parentDelegate=E,this._forkZS=p&&(p&&p.onFork?p:E._forkZS),this._forkDlgt=p&&(p.onFork?E:E._forkDlgt),this._forkCurrZone=p&&(p.onFork?this.zone:E._forkCurrZone),this._interceptZS=p&&(p.onIntercept?p:E._interceptZS),this._interceptDlgt=p&&(p.onIntercept?E:E._interceptDlgt),this._interceptCurrZone=p&&(p.onIntercept?this.zone:E._interceptCurrZone),this._invokeZS=p&&(p.onInvoke?p:E._invokeZS),this._invokeDlgt=p&&(p.onInvoke?E:E._invokeDlgt),this._invokeCurrZone=p&&(p.onInvoke?this.zone:E._invokeCurrZone),this._handleErrorZS=p&&(p.onHandleError?p:E._handleErrorZS),this._handleErrorDlgt=p&&(p.onHandleError?E:E._handleErrorDlgt),this._handleErrorCurrZone=p&&(p.onHandleError?this.zone:E._handleErrorCurrZone),this._scheduleTaskZS=p&&(p.onScheduleTask?p:E._scheduleTaskZS),this._scheduleTaskDlgt=p&&(p.onScheduleTask?E:E._scheduleTaskDlgt),this._scheduleTaskCurrZone=p&&(p.onScheduleTask?this.zone:E._scheduleTaskCurrZone),this._invokeTaskZS=p&&(p.onInvokeTask?p:E._invokeTaskZS),this._invokeTaskDlgt=p&&(p.onInvokeTask?E:E._invokeTaskDlgt),this._invokeTaskCurrZone=p&&(p.onInvokeTask?this.zone:E._invokeTaskCurrZone),this._cancelTaskZS=p&&(p.onCancelTask?p:E._cancelTaskZS),this._cancelTaskDlgt=p&&(p.onCancelTask?E:E._cancelTaskDlgt),this._cancelTaskCurrZone=p&&(p.onCancelTask?this.zone:E._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const L=p&&p.onHasTask,Z=E&&E._hasTaskZS;(L||Z)&&(this._hasTaskZS=L?p:c,this._hasTaskDlgt=E,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=x,p.onScheduleTask||(this._scheduleTaskZS=c,this._scheduleTaskDlgt=E,this._scheduleTaskCurrZone=this.zone),p.onInvokeTask||(this._invokeTaskZS=c,this._invokeTaskDlgt=E,this._invokeTaskCurrZone=this.zone),p.onCancelTask||(this._cancelTaskZS=c,this._cancelTaskDlgt=E,this._cancelTaskCurrZone=this.zone))}fork(x,E){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,x,E):new a(x,E)}intercept(x,E,p){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,x,E,p):E}invoke(x,E,p,L,Z){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,x,E,p,L,Z):E.apply(p,L)}handleError(x,E){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,x,E):!0}scheduleTask(x,E){let p=E;if(this._scheduleTaskZS)this._hasTaskZS&&p._zoneDelegates.push(this._hasTaskDlgtOwner),p=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,x,E),p||(p=E);else if(E.scheduleFn)E.scheduleFn(E);else if(E.type==de)C(E);else throw new Error("Task is missing scheduleFn.");return p}invokeTask(x,E,p,L){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,x,E,p,L):E.callback.apply(p,L)}cancelTask(x,E){let p;if(this._cancelTaskZS)p=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,x,E);else{if(!E.cancelFn)throw Error("Task is not cancelable");p=E.cancelFn(E)}return p}hasTask(x,E){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,x,E)}catch(p){this.handleError(x,p)}}_updateTaskCount(x,E){const p=this._taskCounts,L=p[x],Z=p[x]=L+E;if(Z<0)throw new Error("More tasks executed then were scheduled.");if(L==0||Z==0){const me={microTask:p.microTask>0,macroTask:p.macroTask>0,eventTask:p.eventTask>0,change:x};this.hasTask(this.zone,me)}}}class l{constructor(x,E,p,L,Z,me){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=x,this.source=E,this.data=L,this.scheduleFn=Z,this.cancelFn=me,!p)throw new Error("callback is not defined");this.callback=p;const A=this;x===vt&&L&&L.useG?this.invoke=l.invokeTask:this.invoke=function(){return l.invokeTask.call(t,A,this,arguments)}}static invokeTask(x,E,p){x||(x=this),Tt++;try{return x.runCount++,x.zone.runTask(x,E,p)}finally{Tt==1&&S(),Tt--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(U,H)}_transitionTo(x,E,p){if(this._state===E||this._state===p)this._state=x,x==U&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${x}', expecting state '${E}'${p?" or '"+p+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const h=s("setTimeout"),d=s("Promise"),f=s("then");let m=[],y=!1,_;function T(ve){if(_||t[d]&&(_=t[d].resolve(0)),_){let x=_[f];x||(x=_.then),x.call(_,ve)}else t[h](ve,0)}function C(ve){Tt===0&&m.length===0&&T(S),ve&&m.push(ve)}function S(){if(!y){for(y=!0;m.length;){const ve=m;m=[];for(let x=0;x<ve.length;x++){const E=ve[x];try{E.zone.runTask(E,null,null)}catch(p){Ve.onUnhandledError(p)}}}Ve.microtaskDrainDone(),y=!1}}const V={name:"NO ZONE"},U="notScheduled",H="scheduling",B="scheduled",O="running",fe="canceling",N="unknown",de="microTask",K="macroTask",vt="eventTask",en={},Ve={symbol:s,currentZoneFrame:()=>ke,onUnhandledError:Oe,microtaskDrainDone:Oe,scheduleMicroTask:C,showUncaughtError:()=>!a[s("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:Oe,patchMethod:()=>Oe,bindArguments:()=>[],patchThen:()=>Oe,patchMacroTask:()=>Oe,patchEventPrototype:()=>Oe,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>Oe,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>Oe,wrapWithCurrentZone:()=>Oe,filterProperties:()=>[],attachOriginToPatched:()=>Oe,_redefineProperty:()=>Oe,patchCallbacks:()=>Oe,nativeScheduleMicroTask:T};let ke={parent:null,zone:new a(null,null)},Ht=null,Tt=0;function Oe(){}return r("Zone","Zone"),t.Zone=a})(globalThis);const Ws=Object.getOwnPropertyDescriptor,Ud=Object.defineProperty,jd=Object.getPrototypeOf,MA=Object.create,NA=Array.prototype.slice,$d="addEventListener",Bd="removeEventListener",dl=Zone.__symbol__($d),fl=Zone.__symbol__(Bd),Tn="true",Sn="false",Gs=Zone.__symbol__("");function Hd(t,e){return Zone.current.wrap(t,e)}function qd(t,e,n,r,i){return Zone.current.scheduleMacroTask(t,e,n,r,i)}const Ee=Zone.__symbol__,Gc=typeof window<"u",ts=Gc?window:void 0,We=Gc&&ts||globalThis,kA="removeAttribute";function zd(t,e){for(let n=t.length-1;n>=0;n--)typeof t[n]=="function"&&(t[n]=Hd(t[n],e+"_"+n));return t}function OA(t,e){const n=t.constructor.name;for(let r=0;r<e.length;r++){const i=e[r],s=t[i];if(s){const o=Ws(t,i);if(!Mv(o))continue;t[i]=(a=>{const c=function(){return a.apply(this,zd(arguments,n+"."+i))};return Cn(c,a),c})(s)}}}function Mv(t){return t?t.writable===!1?!1:!(typeof t.get=="function"&&typeof t.set>"u"):!0}const Nv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Kc=!("nw"in We)&&typeof We.process<"u"&&{}.toString.call(We.process)==="[object process]",Wd=!Kc&&!Nv&&!!(Gc&&ts.HTMLElement),kv=typeof We.process<"u"&&{}.toString.call(We.process)==="[object process]"&&!Nv&&!!(Gc&&ts.HTMLElement),sc={},Lg=function(t){if(t=t||We.event,!t)return;let e=sc[t.type];e||(e=sc[t.type]=Ee("ON_PROPERTY"+t.type));const n=this||t.target||We,r=n[e];let i;if(Wd&&n===ts&&t.type==="error"){const s=t;i=r&&r.call(this,s.message,s.filename,s.lineno,s.colno,s.error),i===!0&&t.preventDefault()}else i=r&&r.apply(this,arguments),i!=null&&!i&&t.preventDefault();return i};function Vg(t,e,n){let r=Ws(t,e);if(!r&&n&&Ws(n,e)&&(r={enumerable:!0,configurable:!0}),!r||!r.configurable)return;const i=Ee("on"+e+"patched");if(t.hasOwnProperty(i)&&t[i])return;delete r.writable,delete r.value;const s=r.get,o=r.set,a=e.slice(2);let c=sc[a];c||(c=sc[a]=Ee("ON_PROPERTY"+a)),r.set=function(u){let l=this;if(!l&&t===We&&(l=We),!l)return;typeof l[c]=="function"&&l.removeEventListener(a,Lg),o&&o.call(l,null),l[c]=u,typeof u=="function"&&l.addEventListener(a,Lg,!1)},r.get=function(){let u=this;if(!u&&t===We&&(u=We),!u)return null;const l=u[c];if(l)return l;if(s){let h=s.call(this);if(h)return r.set.call(this,h),typeof u[kA]=="function"&&u.removeAttribute(e),h}return null},Ud(t,e,r),t[i]=!0}function Ov(t,e,n){if(e)for(let r=0;r<e.length;r++)Vg(t,"on"+e[r],n);else{const r=[];for(const i in t)i.slice(0,2)=="on"&&r.push(i);for(let i=0;i<r.length;i++)Vg(t,r[i],n)}}const qt=Ee("originalInstance");function Ks(t){const e=We[t];if(!e)return;We[Ee(t)]=e,We[t]=function(){const i=zd(arguments,t);switch(i.length){case 0:this[qt]=new e;break;case 1:this[qt]=new e(i[0]);break;case 2:this[qt]=new e(i[0],i[1]);break;case 3:this[qt]=new e(i[0],i[1],i[2]);break;case 4:this[qt]=new e(i[0],i[1],i[2],i[3]);break;default:throw new Error("Arg list too long.")}},Cn(We[t],e);const n=new e(function(){});let r;for(r in n)t==="XMLHttpRequest"&&r==="responseBlob"||function(i){typeof n[i]=="function"?We[t].prototype[i]=function(){return this[qt][i].apply(this[qt],arguments)}:Ud(We[t].prototype,i,{set:function(s){typeof s=="function"?(this[qt][i]=Hd(s,t+"."+i),Cn(this[qt][i],s)):this[qt][i]=s},get:function(){return this[qt][i]}})}(r);for(r in e)r!=="prototype"&&e.hasOwnProperty(r)&&(We[t][r]=e[r])}function Mn(t,e,n){let r=t;for(;r&&!r.hasOwnProperty(e);)r=jd(r);!r&&t[e]&&(r=t);const i=Ee(e);let s=null;if(r&&(!(s=r[i])||!r.hasOwnProperty(i))){s=r[i]=r[e];const o=r&&Ws(r,e);if(Mv(o)){const a=n(s,i,e);r[e]=function(){return a(this,arguments)},Cn(r[e],s)}}return s}function xA(t,e,n){let r=null;function i(s){const o=s.data;return o.args[o.cbIdx]=function(){s.invoke.apply(this,arguments)},r.apply(o.target,o.args),s}r=Mn(t,e,s=>function(o,a){const c=n(o,a);return c.cbIdx>=0&&typeof a[c.cbIdx]=="function"?qd(c.name,a[c.cbIdx],c,i):s.apply(o,a)})}function Cn(t,e){t[Ee("OriginalDelegate")]=e}let Fg=!1,pl=!1;function LA(){try{const t=ts.navigator.userAgent;if(t.indexOf("MSIE ")!==-1||t.indexOf("Trident/")!==-1)return!0}catch{}return!1}function VA(){if(Fg)return pl;Fg=!0;try{const t=ts.navigator.userAgent;(t.indexOf("MSIE ")!==-1||t.indexOf("Trident/")!==-1||t.indexOf("Edge/")!==-1)&&(pl=!0)}catch{}return pl}Zone.__load_patch("ZoneAwarePromise",(t,e,n)=>{const r=Object.getOwnPropertyDescriptor,i=Object.defineProperty;function s(A){if(A&&A.toString===Object.prototype.toString){const R=A.constructor&&A.constructor.name;return(R||"")+": "+JSON.stringify(A)}return A?A.toString():Object.prototype.toString.call(A)}const o=n.symbol,a=[],c=t[o("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,u=o("Promise"),l=o("then"),h="__creationTrace__";n.onUnhandledError=A=>{if(n.showUncaughtError()){const R=A&&A.rejection;R?console.error("Unhandled Promise rejection:",R instanceof Error?R.message:R,"; Zone:",A.zone.name,"; Task:",A.task&&A.task.source,"; Value:",R,R instanceof Error?R.stack:void 0):console.error(A)}},n.microtaskDrainDone=()=>{for(;a.length;){const A=a.shift();try{A.zone.runGuarded(()=>{throw A.throwOriginal?A.rejection:A})}catch(R){f(R)}}};const d=o("unhandledPromiseRejectionHandler");function f(A){n.onUnhandledError(A);try{const R=e[d];typeof R=="function"&&R.call(this,A)}catch{}}function m(A){return A&&A.then}function y(A){return A}function _(A){return E.reject(A)}const T=o("state"),C=o("value"),S=o("finally"),V=o("parentPromiseValue"),U=o("parentPromiseState"),H="Promise.then",B=null,O=!0,fe=!1,N=0;function de(A,R){return v=>{try{Ve(A,R,v)}catch(D){Ve(A,!1,D)}}}const K=function(){let A=!1;return function(v){return function(){A||(A=!0,v.apply(null,arguments))}}},vt="Promise resolved with itself",en=o("currentTaskTrace");function Ve(A,R,v){const D=K();if(A===v)throw new TypeError(vt);if(A[T]===B){let $=null;try{(typeof v=="object"||typeof v=="function")&&($=v&&v.then)}catch(X){return D(()=>{Ve(A,!1,X)})(),A}if(R!==fe&&v instanceof E&&v.hasOwnProperty(T)&&v.hasOwnProperty(C)&&v[T]!==B)Ht(v),Ve(A,v[T],v[C]);else if(R!==fe&&typeof $=="function")try{$.call(v,D(de(A,R)),D(de(A,!1)))}catch(X){D(()=>{Ve(A,!1,X)})()}else{A[T]=R;const X=A[C];if(A[C]=v,A[S]===S&&R===O&&(A[T]=A[U],A[C]=A[V]),R===fe&&v instanceof Error){const F=e.currentTask&&e.currentTask.data&&e.currentTask.data[h];F&&i(v,en,{configurable:!0,enumerable:!1,writable:!0,value:F})}for(let F=0;F<X.length;)Tt(A,X[F++],X[F++],X[F++],X[F++]);if(X.length==0&&R==fe){A[T]=N;let F=v;try{throw new Error("Uncaught (in promise): "+s(v)+(v&&v.stack?`
`+v.stack:""))}catch(oe){F=oe}c&&(F.throwOriginal=!0),F.rejection=v,F.promise=A,F.zone=e.current,F.task=e.currentTask,a.push(F),n.scheduleMicroTask()}}}return A}const ke=o("rejectionHandledHandler");function Ht(A){if(A[T]===N){try{const R=e[ke];R&&typeof R=="function"&&R.call(this,{rejection:A[C],promise:A})}catch{}A[T]=fe;for(let R=0;R<a.length;R++)A===a[R].promise&&a.splice(R,1)}}function Tt(A,R,v,D,$){Ht(A);const X=A[T],F=X?typeof D=="function"?D:y:typeof $=="function"?$:_;R.scheduleMicroTask(H,()=>{try{const oe=A[C],ae=!!v&&S===v[S];ae&&(v[V]=oe,v[U]=X);const ce=R.run(F,void 0,ae&&F!==_&&F!==y?[]:[oe]);Ve(v,!0,ce)}catch(oe){Ve(v,!1,oe)}},v)}const Oe="function ZoneAwarePromise() { [native code] }",ve=function(){},x=t.AggregateError;class E{static toString(){return Oe}static resolve(R){return R instanceof E?R:Ve(new this(null),O,R)}static reject(R){return Ve(new this(null),fe,R)}static withResolvers(){const R={};return R.promise=new E((v,D)=>{R.resolve=v,R.reject=D}),R}static any(R){if(!R||typeof R[Symbol.iterator]!="function")return Promise.reject(new x([],"All promises were rejected"));const v=[];let D=0;try{for(let F of R)D++,v.push(E.resolve(F))}catch{return Promise.reject(new x([],"All promises were rejected"))}if(D===0)return Promise.reject(new x([],"All promises were rejected"));let $=!1;const X=[];return new E((F,oe)=>{for(let ae=0;ae<v.length;ae++)v[ae].then(ce=>{$||($=!0,F(ce))},ce=>{X.push(ce),D--,D===0&&($=!0,oe(new x(X,"All promises were rejected")))})})}static race(R){let v,D,$=new this((oe,ae)=>{v=oe,D=ae});function X(oe){v(oe)}function F(oe){D(oe)}for(let oe of R)m(oe)||(oe=this.resolve(oe)),oe.then(X,F);return $}static all(R){return E.allWithCallback(R)}static allSettled(R){return(this&&this.prototype instanceof E?this:E).allWithCallback(R,{thenCallback:D=>({status:"fulfilled",value:D}),errorCallback:D=>({status:"rejected",reason:D})})}static allWithCallback(R,v){let D,$,X=new this((ce,Se)=>{D=ce,$=Se}),F=2,oe=0;const ae=[];for(let ce of R){m(ce)||(ce=this.resolve(ce));const Se=oe;try{ce.then(Ce=>{ae[Se]=v?v.thenCallback(Ce):Ce,F--,F===0&&D(ae)},Ce=>{v?(ae[Se]=v.errorCallback(Ce),F--,F===0&&D(ae)):$(Ce)})}catch(Ce){$(Ce)}F++,oe++}return F-=2,F===0&&D(ae),X}constructor(R){const v=this;if(!(v instanceof E))throw new Error("Must be an instanceof Promise.");v[T]=B,v[C]=[];try{const D=K();R&&R(D(de(v,O)),D(de(v,fe)))}catch(D){Ve(v,!1,D)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return E}then(R,v){let D=this.constructor?.[Symbol.species];(!D||typeof D!="function")&&(D=this.constructor||E);const $=new D(ve),X=e.current;return this[T]==B?this[C].push(X,$,R,v):Tt(this,X,$,R,v),$}catch(R){return this.then(null,R)}finally(R){let v=this.constructor?.[Symbol.species];(!v||typeof v!="function")&&(v=E);const D=new v(ve);D[S]=S;const $=e.current;return this[T]==B?this[C].push($,D,R,R):Tt(this,$,D,R,R),D}}E.resolve=E.resolve,E.reject=E.reject,E.race=E.race,E.all=E.all;const p=t[u]=t.Promise;t.Promise=E;const L=o("thenPatched");function Z(A){const R=A.prototype,v=r(R,"then");if(v&&(v.writable===!1||!v.configurable))return;const D=R.then;R[l]=D,A.prototype.then=function($,X){return new E((oe,ae)=>{D.call(this,oe,ae)}).then($,X)},A[L]=!0}n.patchThen=Z;function me(A){return function(R,v){let D=A.apply(R,v);if(D instanceof E)return D;let $=D.constructor;return $[L]||Z($),D}}return p&&(Z(p),Mn(t,"fetch",A=>me(A))),Promise[e.__symbol__("uncaughtPromiseErrors")]=a,E});Zone.__load_patch("toString",t=>{const e=Function.prototype.toString,n=Ee("OriginalDelegate"),r=Ee("Promise"),i=Ee("Error"),s=function(){if(typeof this=="function"){const u=this[n];if(u)return typeof u=="function"?e.call(u):Object.prototype.toString.call(u);if(this===Promise){const l=t[r];if(l)return e.call(l)}if(this===Error){const l=t[i];if(l)return e.call(l)}}return e.call(this)};s[n]=e,Function.prototype.toString=s;const o=Object.prototype.toString,a="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?a:o.call(this)}});let di=!1;if(typeof window<"u")try{const t=Object.defineProperty({},"passive",{get:function(){di=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch{di=!1}const FA={useG:!0},xt={},xv={},Lv=new RegExp("^"+Gs+"(\\w+)(true|false)$"),Vv=Ee("propagationStopped");function Fv(t,e){const n=(e?e(t):t)+Sn,r=(e?e(t):t)+Tn,i=Gs+n,s=Gs+r;xt[t]={},xt[t][Sn]=i,xt[t][Tn]=s}function UA(t,e,n,r){const i=r&&r.add||$d,s=r&&r.rm||Bd,o=r&&r.listeners||"eventListeners",a=r&&r.rmAll||"removeAllListeners",c=Ee(i),u="."+i+":",l="prependListener",h="."+l+":",d=function(C,S,V){if(C.isRemoved)return;const U=C.callback;typeof U=="object"&&U.handleEvent&&(C.callback=O=>U.handleEvent(O),C.originalDelegate=U);let H;try{C.invoke(C,S,[V])}catch(O){H=O}const B=C.options;if(B&&typeof B=="object"&&B.once){const O=C.originalDelegate?C.originalDelegate:C.callback;S[s].call(S,V.type,O,B)}return H};function f(C,S,V){if(S=S||t.event,!S)return;const U=C||S.target||t,H=U[xt[S.type][V?Tn:Sn]];if(H){const B=[];if(H.length===1){const O=d(H[0],U,S);O&&B.push(O)}else{const O=H.slice();for(let fe=0;fe<O.length&&!(S&&S[Vv]===!0);fe++){const N=d(O[fe],U,S);N&&B.push(N)}}if(B.length===1)throw B[0];for(let O=0;O<B.length;O++){const fe=B[O];e.nativeScheduleMicroTask(()=>{throw fe})}}}const m=function(C){return f(this,C,!1)},y=function(C){return f(this,C,!0)};function _(C,S){if(!C)return!1;let V=!0;S&&S.useG!==void 0&&(V=S.useG);const U=S&&S.vh;let H=!0;S&&S.chkDup!==void 0&&(H=S.chkDup);let B=!1;S&&S.rt!==void 0&&(B=S.rt);let O=C;for(;O&&!O.hasOwnProperty(i);)O=jd(O);if(!O&&C[i]&&(O=C),!O||O[c])return!1;const fe=S&&S.eventNameToString,N={},de=O[c]=O[i],K=O[Ee(s)]=O[s],vt=O[Ee(o)]=O[o],en=O[Ee(a)]=O[a];let Ve;S&&S.prepend&&(Ve=O[Ee(S.prepend)]=O[S.prepend]);function ke(v,D){return!di&&typeof v=="object"&&v?!!v.capture:!di||!D?v:typeof v=="boolean"?{capture:v,passive:!0}:v?typeof v=="object"&&v.passive!==!1?{...v,passive:!0}:v:{passive:!0}}const Ht=function(v){if(!N.isExisting)return de.call(N.target,N.eventName,N.capture?y:m,N.options)},Tt=function(v){if(!v.isRemoved){const D=xt[v.eventName];let $;D&&($=D[v.capture?Tn:Sn]);const X=$&&v.target[$];if(X){for(let F=0;F<X.length;F++)if(X[F]===v){X.splice(F,1),v.isRemoved=!0,X.length===0&&(v.allRemoved=!0,v.target[$]=null);break}}}if(v.allRemoved)return K.call(v.target,v.eventName,v.capture?y:m,v.options)},Oe=function(v){return de.call(N.target,N.eventName,v.invoke,N.options)},ve=function(v){return Ve.call(N.target,N.eventName,v.invoke,N.options)},x=function(v){return K.call(v.target,v.eventName,v.invoke,v.options)},E=V?Ht:Oe,p=V?Tt:x,L=function(v,D){const $=typeof D;return $==="function"&&v.callback===D||$==="object"&&v.originalDelegate===D},Z=S&&S.diff?S.diff:L,me=Zone[Ee("UNPATCHED_EVENTS")],A=t[Ee("PASSIVE_EVENTS")],R=function(v,D,$,X,F=!1,oe=!1){return function(){const ae=this||t;let ce=arguments[0];S&&S.transferEventName&&(ce=S.transferEventName(ce));let Se=arguments[1];if(!Se)return v.apply(this,arguments);if(Kc&&ce==="uncaughtException")return v.apply(this,arguments);let Ce=!1;if(typeof Se!="function"){if(!Se.handleEvent)return v.apply(this,arguments);Ce=!0}if(U&&!U(v,Se,ae,arguments))return;const Qn=di&&!!A&&A.indexOf(ce)!==-1,_t=ke(arguments[2],Qn),ms=_t&&typeof _t=="object"&&_t.signal&&typeof _t.signal=="object"?_t.signal:void 0;if(ms?.aborted)return;if(me){for(let wr=0;wr<me.length;wr++)if(ce===me[wr])return Qn?v.call(ae,ce,Se,_t):v.apply(this,arguments)}const ll=_t?typeof _t=="boolean"?!0:_t.capture:!1,Mg=_t&&typeof _t=="object"?_t.once:!1,bA=Zone.current;let hl=xt[ce];hl||(Fv(ce,fe),hl=xt[ce]);const Ng=hl[ll?Tn:Sn];let oi=ae[Ng],kg=!1;if(oi){if(kg=!0,H){for(let wr=0;wr<oi.length;wr++)if(Z(oi[wr],Se))return}}else oi=ae[Ng]=[];let ma;const Og=ae.constructor.name,xg=xv[Og];xg&&(ma=xg[ce]),ma||(ma=Og+D+(fe?fe(ce):ce)),N.options=_t,Mg&&(N.options.once=!1),N.target=ae,N.capture=ll,N.eventName=ce,N.isExisting=kg;const ys=V?FA:void 0;ys&&(ys.taskData=N),ms&&(N.options.signal=void 0);const tn=bA.scheduleEventTask(ma,Se,ys,$,X);if(ms&&(N.options.signal=ms,v.call(ms,"abort",()=>{tn.zone.cancelTask(tn)},{once:!0})),N.target=null,ys&&(ys.taskData=null),Mg&&(_t.once=!0),!di&&typeof tn.options=="boolean"||(tn.options=_t),tn.target=ae,tn.capture=ll,tn.eventName=ce,Ce&&(tn.originalDelegate=Se),oe?oi.unshift(tn):oi.push(tn),F)return ae}};return O[i]=R(de,u,E,p,B),Ve&&(O[l]=R(Ve,h,ve,p,B,!0)),O[s]=function(){const v=this||t;let D=arguments[0];S&&S.transferEventName&&(D=S.transferEventName(D));const $=arguments[2],X=$?typeof $=="boolean"?!0:$.capture:!1,F=arguments[1];if(!F)return K.apply(this,arguments);if(U&&!U(K,F,v,arguments))return;const oe=xt[D];let ae;oe&&(ae=oe[X?Tn:Sn]);const ce=ae&&v[ae];if(ce)for(let Se=0;Se<ce.length;Se++){const Ce=ce[Se];if(Z(Ce,F)){if(ce.splice(Se,1),Ce.isRemoved=!0,ce.length===0&&(Ce.allRemoved=!0,v[ae]=null,typeof D=="string")){const Qn=Gs+"ON_PROPERTY"+D;v[Qn]=null}return Ce.zone.cancelTask(Ce),B?v:void 0}}return K.apply(this,arguments)},O[o]=function(){const v=this||t;let D=arguments[0];S&&S.transferEventName&&(D=S.transferEventName(D));const $=[],X=Uv(v,fe?fe(D):D);for(let F=0;F<X.length;F++){const oe=X[F];let ae=oe.originalDelegate?oe.originalDelegate:oe.callback;$.push(ae)}return $},O[a]=function(){const v=this||t;let D=arguments[0];if(D){S&&S.transferEventName&&(D=S.transferEventName(D));const $=xt[D];if($){const X=$[Sn],F=$[Tn],oe=v[X],ae=v[F];if(oe){const ce=oe.slice();for(let Se=0;Se<ce.length;Se++){const Ce=ce[Se];let Qn=Ce.originalDelegate?Ce.originalDelegate:Ce.callback;this[s].call(this,D,Qn,Ce.options)}}if(ae){const ce=ae.slice();for(let Se=0;Se<ce.length;Se++){const Ce=ce[Se];let Qn=Ce.originalDelegate?Ce.originalDelegate:Ce.callback;this[s].call(this,D,Qn,Ce.options)}}}}else{const $=Object.keys(v);for(let X=0;X<$.length;X++){const F=$[X],oe=Lv.exec(F);let ae=oe&&oe[1];ae&&ae!=="removeListener"&&this[a].call(this,ae)}this[a].call(this,"removeListener")}if(B)return this},Cn(O[i],de),Cn(O[s],K),en&&Cn(O[a],en),vt&&Cn(O[o],vt),!0}let T=[];for(let C=0;C<n.length;C++)T[C]=_(n[C],r);return T}function Uv(t,e){if(!e){const s=[];for(let o in t){const a=Lv.exec(o);let c=a&&a[1];if(c&&(!e||c===e)){const u=t[o];if(u)for(let l=0;l<u.length;l++)s.push(u[l])}}return s}let n=xt[e];n||(Fv(e),n=xt[e]);const r=t[n[Sn]],i=t[n[Tn]];return r?i?r.concat(i):r.slice():i?i.slice():[]}function jA(t,e){const n=t.Event;n&&n.prototype&&e.patchMethod(n.prototype,"stopImmediatePropagation",r=>function(i,s){i[Vv]=!0,r&&r.apply(i,s)})}function $A(t,e,n,r,i){const s=Zone.__symbol__(r);if(e[s])return;const o=e[s]=e[r];e[r]=function(a,c,u){return c&&c.prototype&&i.forEach(function(l){const h=`${n}.${r}::`+l,d=c.prototype;try{if(d.hasOwnProperty(l)){const f=t.ObjectGetOwnPropertyDescriptor(d,l);f&&f.value?(f.value=t.wrapWithCurrentZone(f.value,h),t._redefineProperty(c.prototype,l,f)):d[l]&&(d[l]=t.wrapWithCurrentZone(d[l],h))}else d[l]&&(d[l]=t.wrapWithCurrentZone(d[l],h))}catch{}}),o.call(e,a,c,u)},t.attachOriginToPatched(e[r],o)}function jv(t,e,n){if(!n||n.length===0)return e;const r=n.filter(s=>s.target===t);if(!r||r.length===0)return e;const i=r[0].ignoreProperties;return e.filter(s=>i.indexOf(s)===-1)}function Ug(t,e,n,r){if(!t)return;const i=jv(t,e,n);Ov(t,i,r)}function ah(t){return Object.getOwnPropertyNames(t).filter(e=>e.startsWith("on")&&e.length>2).map(e=>e.substring(2))}function BA(t,e){if(Kc&&!kv||Zone[t.symbol("patchEvents")])return;const n=e.__Zone_ignore_on_properties;let r=[];if(Wd){const i=window;r=r.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const s=LA()?[{target:i,ignoreProperties:["error"]}]:[];Ug(i,ah(i),n&&n.concat(s),jd(i))}r=r.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let i=0;i<r.length;i++){const s=e[r[i]];s&&s.prototype&&Ug(s.prototype,ah(s.prototype),n)}}Zone.__load_patch("util",(t,e,n)=>{const r=ah(t);n.patchOnProperties=Ov,n.patchMethod=Mn,n.bindArguments=zd,n.patchMacroTask=xA;const i=e.__symbol__("BLACK_LISTED_EVENTS"),s=e.__symbol__("UNPATCHED_EVENTS");t[s]&&(t[i]=t[s]),t[i]&&(e[i]=e[s]=t[i]),n.patchEventPrototype=jA,n.patchEventTarget=UA,n.isIEOrEdge=VA,n.ObjectDefineProperty=Ud,n.ObjectGetOwnPropertyDescriptor=Ws,n.ObjectCreate=MA,n.ArraySlice=NA,n.patchClass=Ks,n.wrapWithCurrentZone=Hd,n.filterProperties=jv,n.attachOriginToPatched=Cn,n._redefineProperty=Object.defineProperty,n.patchCallbacks=$A,n.getGlobalObjects=()=>({globalSources:xv,zoneSymbolEventNames:xt,eventNames:r,isBrowser:Wd,isMix:kv,isNode:Kc,TRUE_STR:Tn,FALSE_STR:Sn,ZONE_SYMBOL_PREFIX:Gs,ADD_EVENT_LISTENER_STR:$d,REMOVE_EVENT_LISTENER_STR:Bd})});function HA(t,e){e.patchMethod(t,"queueMicrotask",n=>function(r,i){Zone.current.scheduleMicroTask("queueMicrotask",i[0])})}const ya=Ee("zoneTask");function _i(t,e,n,r){let i=null,s=null;e+=r,n+=r;const o={};function a(u){const l=u.data;return l.args[0]=function(){return u.invoke.apply(this,arguments)},l.handleId=i.apply(t,l.args),u}function c(u){return s.call(t,u.data.handleId)}i=Mn(t,e,u=>function(l,h){if(typeof h[0]=="function"){const d={isPeriodic:r==="Interval",delay:r==="Timeout"||r==="Interval"?h[1]||0:void 0,args:h},f=h[0];h[0]=function(){try{return f.apply(this,arguments)}finally{d.isPeriodic||(typeof d.handleId=="number"?delete o[d.handleId]:d.handleId&&(d.handleId[ya]=null))}};const m=qd(e,h[0],d,a,c);if(!m)return m;const y=m.data.handleId;return typeof y=="number"?o[y]=m:y&&(y[ya]=m),y&&y.ref&&y.unref&&typeof y.ref=="function"&&typeof y.unref=="function"&&(m.ref=y.ref.bind(y),m.unref=y.unref.bind(y)),typeof y=="number"||y?y:m}else return u.apply(t,h)}),s=Mn(t,n,u=>function(l,h){const d=h[0];let f;typeof d=="number"?f=o[d]:(f=d&&d[ya],f||(f=d)),f&&typeof f.type=="string"?f.state!=="notScheduled"&&(f.cancelFn&&f.data.isPeriodic||f.runCount===0)&&(typeof d=="number"?delete o[d]:d&&(d[ya]=null),f.zone.cancelTask(f)):u.apply(t,h)})}function qA(t,e){const{isBrowser:n,isMix:r}=e.getGlobalObjects();if(!n&&!r||!t.customElements||!("customElements"in t))return;const i=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];e.patchCallbacks(e,t.customElements,"customElements","define",i)}function zA(t,e){if(Zone[e.symbol("patchEventTarget")])return;const{eventNames:n,zoneSymbolEventNames:r,TRUE_STR:i,FALSE_STR:s,ZONE_SYMBOL_PREFIX:o}=e.getGlobalObjects();for(let c=0;c<n.length;c++){const u=n[c],l=u+s,h=u+i,d=o+l,f=o+h;r[u]={},r[u][s]=d,r[u][i]=f}const a=t.EventTarget;if(!(!a||!a.prototype))return e.patchEventTarget(t,e,[a&&a.prototype]),!0}function WA(t,e){e.patchEventPrototype(t,e)}Zone.__load_patch("legacy",t=>{const e=t[Zone.__symbol__("legacyPatch")];e&&e()});Zone.__load_patch("timers",t=>{const e="set",n="clear";_i(t,e,n,"Timeout"),_i(t,e,n,"Interval"),_i(t,e,n,"Immediate")});Zone.__load_patch("requestAnimationFrame",t=>{_i(t,"request","cancel","AnimationFrame"),_i(t,"mozRequest","mozCancel","AnimationFrame"),_i(t,"webkitRequest","webkitCancel","AnimationFrame")});Zone.__load_patch("blocking",(t,e)=>{const n=["alert","prompt","confirm"];for(let r=0;r<n.length;r++){const i=n[r];Mn(t,i,(s,o,a)=>function(c,u){return e.current.run(s,t,u,a)})}});Zone.__load_patch("EventTarget",(t,e,n)=>{WA(t,n),zA(t,n);const r=t.XMLHttpRequestEventTarget;r&&r.prototype&&n.patchEventTarget(t,n,[r.prototype])});Zone.__load_patch("MutationObserver",(t,e,n)=>{Ks("MutationObserver"),Ks("WebKitMutationObserver")});Zone.__load_patch("IntersectionObserver",(t,e,n)=>{Ks("IntersectionObserver")});Zone.__load_patch("FileReader",(t,e,n)=>{Ks("FileReader")});Zone.__load_patch("on_property",(t,e,n)=>{BA(n,t)});Zone.__load_patch("customElements",(t,e,n)=>{qA(t,n)});Zone.__load_patch("XHR",(t,e)=>{c(t);const n=Ee("xhrTask"),r=Ee("xhrSync"),i=Ee("xhrListener"),s=Ee("xhrScheduled"),o=Ee("xhrURL"),a=Ee("xhrErrorBeforeScheduled");function c(u){const l=u.XMLHttpRequest;if(!l)return;const h=l.prototype;function d(N){return N[n]}let f=h[dl],m=h[fl];if(!f){const N=u.XMLHttpRequestEventTarget;if(N){const de=N.prototype;f=de[dl],m=de[fl]}}const y="readystatechange",_="scheduled";function T(N){const de=N.data,K=de.target;K[s]=!1,K[a]=!1;const vt=K[i];f||(f=K[dl],m=K[fl]),vt&&m.call(K,y,vt);const en=K[i]=()=>{if(K.readyState===K.DONE)if(!de.aborted&&K[s]&&N.state===_){const ke=K[e.__symbol__("loadfalse")];if(K.status!==0&&ke&&ke.length>0){const Ht=N.invoke;N.invoke=function(){const Tt=K[e.__symbol__("loadfalse")];for(let Oe=0;Oe<Tt.length;Oe++)Tt[Oe]===N&&Tt.splice(Oe,1);!de.aborted&&N.state===_&&Ht.call(N)},ke.push(N)}else N.invoke()}else!de.aborted&&K[s]===!1&&(K[a]=!0)};return f.call(K,y,en),K[n]||(K[n]=N),O.apply(K,de.args),K[s]=!0,N}function C(){}function S(N){const de=N.data;return de.aborted=!0,fe.apply(de.target,de.args)}const V=Mn(h,"open",()=>function(N,de){return N[r]=de[2]==!1,N[o]=de[1],V.apply(N,de)}),U="XMLHttpRequest.send",H=Ee("fetchTaskAborting"),B=Ee("fetchTaskScheduling"),O=Mn(h,"send",()=>function(N,de){if(e.current[B]===!0||N[r])return O.apply(N,de);{const K={target:N,url:N[o],isPeriodic:!1,args:de,aborted:!1},vt=qd(U,C,K,T,S);N&&N[a]===!0&&!K.aborted&&vt.state===_&&vt.invoke()}}),fe=Mn(h,"abort",()=>function(N,de){const K=d(N);if(K&&typeof K.type=="string"){if(K.cancelFn==null||K.data&&K.data.aborted)return;K.zone.cancelTask(K)}else if(e.current[H]===!0)return fe.apply(N,de)})}});Zone.__load_patch("geolocation",t=>{t.navigator&&t.navigator.geolocation&&OA(t.navigator.geolocation,["getCurrentPosition","watchPosition"])});Zone.__load_patch("PromiseRejectionEvent",(t,e)=>{function n(r){return function(i){Uv(t,r).forEach(o=>{const a=t.PromiseRejectionEvent;if(a){const c=new a(r,{promise:i.promise,reason:i.rejection});o.invoke(c)}})}}t.PromiseRejectionEvent&&(e[Ee("unhandledPromiseRejectionHandler")]=n("unhandledrejection"),e[Ee("rejectionHandledHandler")]=n("rejectionhandled"))});Zone.__load_patch("queueMicrotask",(t,e,n)=>{HA(t,n)});function GA(t,e){return Object.is(t,e)}let He=null,Ps=!1,Va=1;const Ni=Symbol("SIGNAL");function Ke(t){const e=He;return He=t,e}function KA(){return Ps}const Gd={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function QA(t){if(Ps)throw new Error("");if(He===null)return;He.consumerOnSignalRead(t);const e=He.nextProducerIndex++;if(ki(He),e<He.producerNode.length&&He.producerNode[e]!==t&&Qs(He)){const n=He.producerNode[e];Qc(n,He.producerIndexOfThis[e])}He.producerNode[e]!==t&&(He.producerNode[e]=t,He.producerIndexOfThis[e]=Qs(He)?Gv(t,He,e):0),He.producerLastReadVersion[e]=t.version}function ZA(){Va++}function XA(t){if(!(Qs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Va)){if(!t.producerMustRecompute(t)&&!Kd(t)){t.dirty=!1,t.lastCleanEpoch=Va;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Va}}function $v(t){if(t.liveConsumerNode===void 0)return;const e=Ps;Ps=!0;try{for(const n of t.liveConsumerNode)n.dirty||Hv(n)}finally{Ps=e}}function Bv(){return He?.consumerAllowSignalWrites!==!1}function Hv(t){t.dirty=!0,$v(t),t.consumerMarkedDirty?.(t)}function qv(t){return t&&(t.nextProducerIndex=0),Ke(t)}function zv(t,e){if(Ke(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Qs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Qc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Kd(t){ki(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(XA(n),r!==n.version))return!0}return!1}function Wv(t){if(ki(t),Qs(t))for(let e=0;e<t.producerNode.length;e++)Qc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Gv(t,e,n){if(Kv(t),ki(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Gv(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Qc(t,e){if(Kv(t),ki(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Qc(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ki(i),i.producerIndexOfThis[r]=e}}function Qs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ki(t){t.producerNode??(t.producerNode=[]),t.producerIndexOfThis??(t.producerIndexOfThis=[]),t.producerLastReadVersion??(t.producerLastReadVersion=[])}function Kv(t){t.liveConsumerNode??(t.liveConsumerNode=[]),t.liveConsumerIndexOfThis??(t.liveConsumerIndexOfThis=[])}function YA(){throw new Error}let Qv=YA;function Zv(){Qv()}function JA(t){Qv=t}function eR(t){const e=Object.create(nR);e.value=t;const n=()=>(QA(e),e.value);return n[Ni]=e,n}function Xv(t,e){Bv()||Zv(),t.equal(t.value,e)||(t.value=e,rR(t))}function tR(t,e){Bv()||Zv(),Xv(t,e(t.value))}const nR={...Gd,equal:GA,value:void 0};function rR(t){t.version++,ZA(),$v(t)}function iR(t,e,n){const r=Object.create(sR);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=c=>{r.cleanupFn=c};function s(c){return c.fn===null&&c.schedule===null}function o(c){s(c)||(Wv(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=ch)}const a=()=>{if(r.fn===null)return;if(KA())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!Kd(r))return;r.hasRun=!0;const c=qv(r);try{r.cleanupFn(),r.cleanupFn=ch,r.fn(i)}finally{zv(r,c)}};return r.ref={notify:()=>Hv(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>o(r),[Ni]:r},r.ref}const ch=()=>{},sR={...Gd,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:ch};var uh=function(t,e){return uh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},uh(t,e)};function $t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");uh(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Qd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function oR(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(h){o(h)}}function c(l){try{u(r.throw(l))}catch(h){o(h)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Yv(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Lr(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zs(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Xs(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Ei(t){return this instanceof Ei?(this.v=t,this):new Ei(t)}function aR(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(f){return new Promise(function(m,y){s.push([d,f,m,y])>1||a(d,f)})})}function a(d,f){try{c(r[d](f))}catch(m){h(s[0][3],m)}}function c(d){d.value instanceof Ei?Promise.resolve(d.value.v).then(u,l):h(s[0][2],d)}function u(d){a("next",d)}function l(d){a("throw",d)}function h(d,f){d(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function cR(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Lr=="function"?Lr(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function De(t){return typeof t=="function"}function Zd(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var gl=Zd(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function oc(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var pn=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Lr(o),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(y){e={error:y}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var l=this.initialTeardown;if(De(l))try{l()}catch(y){s=y instanceof gl?y.errors:[y]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var d=Lr(h),f=d.next();!f.done;f=d.next()){var m=f.value;try{jg(m)}catch(y){s=s??[],y instanceof gl?s=Xs(Xs([],Zs(s)),Zs(y.errors)):s.push(y)}}}catch(y){r={error:y}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(s)throw new gl(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)jg(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&oc(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&oc(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),Jv=pn.EMPTY;function e_(t){return t instanceof pn||t&&"closed"in t&&De(t.remove)&&De(t.add)&&De(t.unsubscribe)}function jg(t){De(t)?t():t.unsubscribe()}var t_={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},n_={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Xs([t,e],Zs(n)))},clearTimeout:function(t){var e=n_.delegate;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function r_(t){n_.setTimeout(function(){throw t})}function lh(){}function Fa(t){t()}var Xd=function(t){$t(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,e_(n)&&n.add(r)):r.destination=dR,r}return e.create=function(n,r,i){return new ac(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(pn),uR=Function.prototype.bind;function ml(t,e){return uR.call(t,e)}var lR=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){va(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){va(r)}else va(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){va(n)}},t}(),ac=function(t){$t(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(De(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&t_.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&ml(n.next,a),error:n.error&&ml(n.error,a),complete:n.complete&&ml(n.complete,a)}):o=n}return s.destination=new lR(o),s}return e}(Xd);function va(t){r_(t)}function hR(t){throw t}var dR={closed:!0,next:lh,error:hR,complete:lh},Yd=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Zr(t){return t}function fR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i_(t)}function i_(t){return t.length===0?Zr:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var Le=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=gR(e)?e:new ac(e,n,r);return Fa(function(){var o=i,a=o.operator,c=o.source;s.add(a?a.call(s,c):c?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=$g(n),new n(function(i,s){var o=new ac({next:function(a){try{e(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[Yd]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return i_(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=$g(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function $g(t){var e;return(e=t??t_.Promise)!==null&&e!==void 0?e:Promise}function pR(t){return t&&De(t.next)&&De(t.error)&&De(t.complete)}function gR(t){return t&&t instanceof Xd||pR(t)&&e_(t)}function s_(t){return De(t?.lift)}function at(t){return function(e){if(s_(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Qe(t,e,n,r,i){return new mR(t,e,n,r,i)}var mR=function(t){$t(e,t);function e(n,r,i,s,o,a){var c=t.call(this,n)||this;return c.onFinalize=o,c.shouldUnsubscribe=a,c._next=r?function(u){try{r(u)}catch(l){n.error(l)}}:t.prototype._next,c._error=s?function(u){try{s(u)}catch(l){n.error(l)}finally{this.unsubscribe()}}:t.prototype._error,c._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,c}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(Xd);function hh(){return at(function(t,e){var n=null;t._refCount++;var r=Qe(e,void 0,void 0,void 0,function(){if(!t||t._refCount<=0||0<--t._refCount){n=null;return}var i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Bg=function(t){$t(e,t);function e(n,r){var i=t.call(this)||this;return i.source=n,i.subjectFactory=r,i._subject=null,i._refCount=0,i._connection=null,s_(n)&&(i.lift=n.lift),i}return e.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},e.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n?.unsubscribe()},e.prototype.connect=function(){var n=this,r=this._connection;if(!r){r=this._connection=new pn;var i=this.getSubject();r.add(this.source.subscribe(Qe(i,void 0,function(){n._teardown(),i.complete()},function(s){n._teardown(),i.error(s)},function(){return n._teardown()}))),r.closed&&(this._connection=null,r=pn.EMPTY)}return r},e.prototype.refCount=function(){return hh()(this)},e}(Le),yR=Zd(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),On=function(t){$t(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new Hg(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new yR},e.prototype.next=function(n){var r=this;Fa(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Lr(r.currentObservers),a=o.next();!a.done;a=o.next()){var c=a.value;c.next(n)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;Fa(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;Fa(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?Jv:(this.currentObservers=null,a.push(n),new pn(function(){r.currentObservers=null,oc(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new Le;return n.source=this,n},e.create=function(n,r){return new Hg(n,r)},e}(Le),Hg=function(t){$t(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:Jv},e}(On),Lt=function(t){$t(e,t);function e(n){var r=t.call(this)||this;return r._value=n,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},e.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,s=n._value;if(r)throw i;return this._throwIfClosed(),s},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}(On),vR={now:function(){return Date.now()},delegate:void 0},_R=function(t){$t(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(pn),dh={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,Xs([t,e],Zs(n)))},clearInterval:function(t){var e=dh.delegate;return(e?.clearInterval||clearInterval)(t)},delegate:void 0},o_=function(t){$t(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),dh.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&dh.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,s;try{this.work(n)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,oc(s,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(_R),qg=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=vR.now,t}(),a_=function(t){$t(e,t);function e(n,r){r===void 0&&(r=qg.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(qg),ER=new a_(o_),wR=function(t){$t(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return e.prototype.schedule=function(n,r){return r===void 0&&(r=0),r>0?t.prototype.schedule.call(this,n,r):(this.delay=r,this.state=n,this.scheduler.flush(this),this)},e.prototype.execute=function(n,r){return r>0||this.closed?t.prototype.execute.call(this,n,r):this._execute(n,r)},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?t.prototype.requestAsyncId.call(this,n,r,i):(n.flush(this),0)},e}(o_),IR=function(t){$t(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(a_),TR=new IR(wR),Jn=new Le(function(t){return t.complete()});function SR(t){return t&&De(t.schedule)}function c_(t){return t[t.length-1]}function CR(t){return De(c_(t))?t.pop():void 0}function Zc(t){return SR(c_(t))?t.pop():void 0}var u_=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function l_(t){return De(t?.then)}function h_(t){return De(t[Yd])}function d_(t){return Symbol.asyncIterator&&De(t?.[Symbol.asyncIterator])}function f_(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function AR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var p_=AR();function g_(t){return De(t?.[p_])}function m_(t){return aR(this,arguments,function(){var n,r,i,s;return Yv(this,function(o){switch(o.label){case 0:n=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Ei(n.read())];case 3:return r=o.sent(),i=r.value,s=r.done,s?[4,Ei(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Ei(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function y_(t){return De(t?.getReader)}function qn(t){if(t instanceof Le)return t;if(t!=null){if(h_(t))return RR(t);if(u_(t))return bR(t);if(l_(t))return DR(t);if(d_(t))return v_(t);if(g_(t))return PR(t);if(y_(t))return MR(t)}throw f_(t)}function RR(t){return new Le(function(e){var n=t[Yd]();if(De(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function bR(t){return new Le(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function DR(t){return new Le(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,r_)})}function PR(t){return new Le(function(e){var n,r;try{for(var i=Lr(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function v_(t){return new Le(function(e){NR(t,e).catch(function(n){return e.error(n)})})}function MR(t){return v_(m_(t))}function NR(t,e){var n,r,i,s;return oR(this,void 0,void 0,function(){var o,a;return Yv(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=cR(t),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Nn(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Xc(t,e){return e===void 0&&(e=0),at(function(n,r){n.subscribe(Qe(r,function(i){return Nn(r,t,function(){return r.next(i)},e)},function(){return Nn(r,t,function(){return r.complete()},e)},function(i){return Nn(r,t,function(){return r.error(i)},e)}))})}function Yc(t,e){return e===void 0&&(e=0),at(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function kR(t,e){return qn(t).pipe(Yc(e),Xc(e))}function OR(t,e){return qn(t).pipe(Yc(e),Xc(e))}function xR(t,e){return new Le(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function LR(t,e){return new Le(function(n){var r;return Nn(n,e,function(){r=t[p_](),Nn(n,e,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(a){n.error(a);return}o?n.complete():n.next(s)},0,!0)}),function(){return De(r?.return)&&r.return()}})}function __(t,e){if(!t)throw new Error("Iterable cannot be null");return new Le(function(n){Nn(n,e,function(){var r=t[Symbol.asyncIterator]();Nn(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function VR(t,e){return __(m_(t),e)}function FR(t,e){if(t!=null){if(h_(t))return kR(t,e);if(u_(t))return xR(t,e);if(l_(t))return OR(t,e);if(d_(t))return __(t,e);if(g_(t))return LR(t,e);if(y_(t))return VR(t,e)}throw f_(t)}function It(t,e){return e?FR(t,e):qn(t)}function ee(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Zc(t);return It(t,n)}function Jc(t,e){var n=De(t)?t:function(){return t},r=function(i){return i.error(n())};return new Le(e?function(i){return e.schedule(r,0,i)}:r)}function UR(t){return!!t&&(t instanceof Le||De(t.lift)&&De(t.subscribe))}var Vo=Zd(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function jR(t,e){var n=typeof e=="object";return new Promise(function(r,i){var s=new ac({next:function(o){r(o),s.unsubscribe()},error:i,complete:function(){n?r(e.defaultValue):i(new Vo)}});t.subscribe(s)})}function ye(t,e){return at(function(n,r){var i=0;n.subscribe(Qe(r,function(s){r.next(t.call(e,s,i++))}))})}var $R=Array.isArray;function BR(t,e){return $R(e)?t.apply(void 0,Xs([],Zs(e))):t(e)}function HR(t){return ye(function(e){return BR(t,e)})}var qR=Array.isArray,zR=Object.getPrototypeOf,WR=Object.prototype,GR=Object.keys;function KR(t){if(t.length===1){var e=t[0];if(qR(e))return{args:e,keys:null};if(QR(e)){var n=GR(e);return{args:n.map(function(r){return e[r]}),keys:n}}}return{args:t,keys:null}}function QR(t){return t&&typeof t=="object"&&zR(t)===WR}function ZR(t,e){return t.reduce(function(n,r,i){return n[r]=e[i],n},{})}function E_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Zc(t),r=CR(t),i=KR(t),s=i.args,o=i.keys;if(s.length===0)return It([],n);var a=new Le(XR(s,n,o?function(c){return ZR(o,c)}:Zr));return r?a.pipe(HR(r)):a}function XR(t,e,n){return n===void 0&&(n=Zr),function(r){zg(e,function(){for(var i=t.length,s=new Array(i),o=i,a=i,c=function(l){zg(e,function(){var h=It(t[l],e),d=!1;h.subscribe(Qe(r,function(f){s[l]=f,d||(d=!0,a--),a||r.next(n(s.slice()))},function(){--o||r.complete()}))},r)},u=0;u<i;u++)c(u)},r)}}function zg(t,e,n){t?Nn(n,t,e):e()}function YR(t,e,n,r,i,s,o,a){var c=[],u=0,l=0,h=!1,d=function(){h&&!c.length&&!u&&e.complete()},f=function(y){return u<r?m(y):c.push(y)},m=function(y){s&&e.next(y),u++;var _=!1;qn(n(y,l++)).subscribe(Qe(e,function(T){i?.(T),s?f(T):e.next(T)},function(){_=!0},void 0,function(){if(_)try{u--;for(var T=function(){var C=c.shift();o?Nn(e,o,function(){return m(C)}):m(C)};c.length&&u<r;)T();d()}catch(C){e.error(C)}}))};return t.subscribe(Qe(e,f,function(){h=!0,d()})),function(){a?.()}}function wt(t,e,n){return n===void 0&&(n=1/0),De(e)?wt(function(r,i){return ye(function(s,o){return e(r,s,i,o)})(qn(t(r,i)))},n):(typeof e=="number"&&(n=e),at(function(r,i){return YR(r,i,t,n)}))}function JR(t){return t===void 0&&(t=1/0),wt(Zr,t)}function eb(){return JR(1)}function fh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return eb()(It(t,Zc(t)))}function w_(t){return new Le(function(e){qn(t()).subscribe(e)})}function xn(t,e){return at(function(n,r){var i=0;n.subscribe(Qe(r,function(s){return t.call(e,s,i++)&&r.next(s)}))})}function wi(t){return at(function(e,n){var r=null,i=!1,s;r=e.subscribe(Qe(n,void 0,void 0,function(o){s=qn(t(o,wi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function tb(t,e,n,r,i){return function(s,o){var a=n,c=e,u=0;s.subscribe(Qe(o,function(l){var h=u++;c=a?t(c,l,h):(a=!0,l),r&&o.next(c)},i&&function(){a&&o.next(c),o.complete()}))}}function Ys(t,e){return De(e)?wt(t,e,1):wt(t,1)}function eu(t){return at(function(e,n){var r=!1;e.subscribe(Qe(n,function(i){r=!0,n.next(i)},function(){r||n.next(t),n.complete()}))})}function Oi(t){return t<=0?function(){return Jn}:at(function(e,n){var r=0;e.subscribe(Qe(n,function(i){++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function nb(t){return ye(function(){return t})}function I_(t){return t===void 0&&(t=rb),at(function(e,n){var r=!1;e.subscribe(Qe(n,function(i){r=!0,n.next(i)},function(){return r?n.complete():n.error(t())}))})}function rb(){return new Vo}function cc(t){return at(function(e,n){try{e.subscribe(n)}finally{n.add(t)}})}function fr(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?xn(function(i,s){return t(i,s,r)}):Zr,Oi(1),n?eu(e):I_(function(){return new Vo}))}}function Jd(t){return t<=0?function(){return Jn}:at(function(e,n){var r=[];e.subscribe(Qe(n,function(i){r.push(i),t<r.length&&r.shift()},function(){var i,s;try{for(var o=Lr(r),a=o.next();!a.done;a=o.next()){var c=a.value;n.next(c)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}n.complete()},void 0,function(){r=null}))})}function ib(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?xn(function(i,s){return t(i,s,r)}):Zr,Jd(1),n?eu(e):I_(function(){return new Vo}))}}function sb(t,e){return at(tb(t,e,arguments.length>=2,!0))}function ob(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Zc(t);return at(function(r,i){(n?fh(t,r,n):fh(t,r)).subscribe(i)})}function nn(t,e){return at(function(n,r){var i=null,s=0,o=!1,a=function(){return o&&!i&&r.complete()};n.subscribe(Qe(r,function(c){i?.unsubscribe();var u=0,l=s++;qn(t(c,l)).subscribe(i=Qe(r,function(h){return r.next(e?e(c,h,l,u++):h)},function(){i=null,a()}))},function(){o=!0,a()}))})}function ab(t){return at(function(e,n){qn(t).subscribe(Qe(n,function(){return n.complete()},lh)),!n.closed&&e.subscribe(n)})}function qe(t,e,n){var r=De(t)||e||n?{next:t,error:e,complete:n}:t;return r?at(function(i,s){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var a=!0;i.subscribe(Qe(s,function(c){var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},function(){var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},function(c){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},function(){var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Zr}const T_="https://g.co/ng/security#xss";class W extends Error{constructor(e,n){super(cb(e,n)),this.code=e}}function cb(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}class ub extends On{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=yl(s),i&&(i=yl(i)),o&&(o=yl(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof pn&&e.add(a),a}}function yl(t){return e=>{setTimeout(t,void 0,e)}}const An=ub;var ue=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ue||{});function Ft(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ft).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(e==null)return""+e;const n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function ph(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var S_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(S_||{}),Rn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Rn||{});function Fo(t){return{toString:t}.toString()}const Ua=globalThis;const ur={},At=[];function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}const lb=Te({ɵcmp:Te}),hb=Te({ɵdir:Te}),db=Te({ɵpipe:Te}),fb=Te({ɵmod:Te}),uc=Te({ɵfac:Te}),Ms=Te({__NG_ELEMENT_ID__:Te}),Wg=Te({__NG_ENV_ID__:Te});var Vr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Vr||{});function C_(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function gh(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if(typeof i=="number"){if(i!==0)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];gb(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function pb(t){return t===3||t===4||t===6}function gb(t){return t.charCodeAt(0)===64}function ef(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Gg(t,n,i,null,e[++r]):Gg(t,n,i,null,null))}}return t}function Gg(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){const a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}const A_="ng-template";function mb(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){const o=t[r++];if(n&&s==="class"&&C_(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function R_(t){return t.type===4&&t.value!==A_}function yb(t,e,n){const r=t.type===4&&!n?A_:t.value;return e===r}function vb(t,e,n){let r=4;const i=t.attrs||[],s=wb(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if(typeof c=="number"){if(!o&&!zt(r)&&!zt(c))return!1;if(o&&zt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!yb(t,c,n)||c===""&&e.length===1){if(zt(r))return!1;o=!0}}else{const u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!mb(t.attrs,u,n)){if(zt(r))return!1;o=!0}continue}const l=r&8?"class":c,h=_b(l,i,R_(t),n);if(h===-1){if(zt(r))return!1;o=!0;continue}if(u!==""){let d;h>s?d="":d=i[h+1].toLowerCase();const f=r&8?d:null;if(f&&C_(f,u,0)!==-1||r&2&&u!==d){if(zt(r))return!1;o=!0}}}}return zt(r)||o}function zt(t){return(t&1)===0}function _b(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return Ib(e,t)}function Eb(t,e,n=!1){for(let r=0;r<e.length;r++)if(vb(t,e[r],n))return!0;return!1}function wb(t){for(let e=0;e<t.length;e++){const n=t[e];if(pb(n))return e}return t.length}function Ib(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Kg(t,e){return t?":not("+e.trim()+")":e}function Tb(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!zt(o)&&(e+=Kg(s,i),i=""),r=o,s=s||!zt(r);n++}return i!==""&&(e+=Kg(s,i)),e}function Sb(t){return t.map(Tb).join(",")}function Cb(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!zt(i))break;i=s}r++}return{attrs:e,classes:n}}function b_(t){return Fo(()=>{const e=N_(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===S_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Rn.Emulated,styles:t.styles||At,_:null,schemas:t.schemas||null,tView:null,id:""};k_(n);const r=t.dependencies;return n.directiveDefs=Zg(r,!1),n.pipeDefs=Zg(r,!0),n.id=Pb(n),n})}function Ab(t){return Fr(t)||tf(t)}function Rb(t){return t!==null}function tu(t){return Fo(()=>({type:t.type,bootstrap:t.bootstrap||At,declarations:t.declarations||At,imports:t.imports||At,exports:t.exports||At,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Qg(t,e){if(t==null)return ur;const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];let s,o,a=Vr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Vr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function D_(t){return Fo(()=>{const e=N_(t);return k_(e),e})}function bb(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Fr(t){return t[lb]||null}function tf(t){return t[hb]||null}function P_(t){return t[db]||null}function Db(t){const e=Fr(t)||tf(t)||P_(t);return e!==null?e.standalone:!1}function M_(t,e){const n=t[fb]||null;if(!n&&e===!0)throw new Error(`Type ${Ft(t)} does not have 'ɵmod' property.`);return n}function N_(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ur,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||At,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Qg(t.inputs,e),outputs:Qg(t.outputs),debugInfo:null}}function k_(t){t.features?.forEach(e=>e(t))}function Zg(t,e){if(!t)return null;const n=e?P_:Ab;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Rb)}function Pb(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}const Mt=0,ie=1,G=2,st=3,Kt=4,Jt=5,Ln=6,Js=7,dt=8,xi=9,Vn=10,Ze=11,eo=12,Xg=13,ns=14,Nt=15,nu=16,fi=17,Li=18,ru=19,O_=20,tr=21,Ii=22,Ur=23,Xe=25,x_=1,to=6,Fn=7,lc=8,hc=9,ft=10;var nf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(nf||{});function kn(t){return Array.isArray(t)&&typeof t[x_]=="object"}function _n(t){return Array.isArray(t)&&t[x_]===!0}function L_(t){return(t.flags&4)!==0}function Uo(t){return t.componentOffset>-1}function rf(t){return(t.flags&1)===1}function jo(t){return!!t.template}function V_(t){return(t[G]&512)!==0}const Mb="svg",Nb="math";function Zt(t){for(;Array.isArray(t);)t=t[Mt];return t}function F_(t,e){return Zt(e[t])}function Bt(t,e){return Zt(e[t.index])}function sf(t,e){return t.data[e]}function kb(t,e){return t[e]}function pr(t,e){const n=e[t];return kn(n)?n:n[Mt]}function of(t){return(t[G]&128)===128}function Ob(t){return _n(t[st])}function dc(t,e){return e==null?null:t[e]}function U_(t){t[fi]=0}function xb(t){t[G]&1024||(t[G]|=1024,of(t)&&iu(t))}function Lb(t,e){for(;t>0;)e=e[ns],t--;return e}function af(t){return!!(t[G]&9216||t[Ur]?.dirty)}function mh(t){af(t)?iu(t):t[G]&64&&t[Vn].changeDetectionScheduler?.notify()}function iu(t){t[Vn].changeDetectionScheduler?.notify();let e=no(t);for(;e!==null&&!(e[G]&8192||(e[G]|=8192,!of(e)));)e=no(e)}function j_(t,e){if((t[G]&256)===256)throw new W(911,!1);t[tr]===null&&(t[tr]=[]),t[tr].push(e)}function Vb(t,e){if(t[tr]===null)return;const n=t[tr].indexOf(e);n!==-1&&t[tr].splice(n,1)}function no(t){const e=t[st];return _n(e)?e[st]:e}const le={lFrame:W_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Fb(){return le.lFrame.elementDepthCount}function Ub(){le.lFrame.elementDepthCount++}function jb(){le.lFrame.elementDepthCount--}function su(){return le.skipHydrationRootTNode!==null}function $b(t){return le.skipHydrationRootTNode===t}function Bb(t){le.skipHydrationRootTNode=t}function Hb(){le.skipHydrationRootTNode=null}function Pe(){return le.lFrame.lView}function zn(){return le.lFrame.tView}function iH(t){return le.lFrame.contextLView=t,t[dt]}function sH(t){return le.lFrame.contextLView=null,t}function En(){let t=$_();for(;t!==null&&t.type===64;)t=t.parent;return t}function $_(){return le.lFrame.currentTNode}function qb(){const t=le.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function $o(t,e){const n=le.lFrame;n.currentTNode=t,n.isParent=e}function B_(){return le.lFrame.isParent}function zb(){le.lFrame.isParent=!1}function Wb(){const t=le.lFrame;let e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Gb(t){return le.lFrame.bindingIndex=t}function ou(){return le.lFrame.bindingIndex++}function Kb(t){const e=le.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Qb(){return le.lFrame.inI18n}function Zb(t,e){const n=le.lFrame;n.bindingIndex=n.bindingRootIndex=t,yh(e)}function Xb(){return le.lFrame.currentDirectiveIndex}function yh(t){le.lFrame.currentDirectiveIndex=t}function Yb(t){const e=le.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function H_(t){le.lFrame.currentQueryIndex=t}function Jb(t){const e=t[ie];return e.type===2?e.declTNode:e.type===1?t[Jt]:null}function q_(t,e,n){if(n&ue.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ue.Host);)if(i=Jb(s),i===null||(s=s[ns],i.type&10))break;if(i===null)return!1;e=i,t=s}const r=le.lFrame=z_();return r.currentTNode=e,r.lView=t,!0}function cf(t){const e=z_(),n=t[ie];le.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function z_(){const t=le.lFrame,e=t===null?null:t.child;return e===null?W_(t):e}function W_(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function G_(){const t=le.lFrame;return le.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const K_=G_;function uf(){const t=G_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function eD(t){return(le.lFrame.contextLView=Lb(t,le.lFrame.contextLView))[dt]}function Xr(){return le.lFrame.selectedIndex}function jr(t){le.lFrame.selectedIndex=t}function tD(){const t=le.lFrame;return sf(t.tView,t.selectedIndex)}function Q_(){return le.lFrame.currentNamespace}let Z_=!0;function lf(){return Z_}function rs(t){Z_=t}function nD(){return hf(En(),Pe())}function hf(t,e){return new X_(Bt(t,e))}let X_=(()=>{var t;class e{constructor(r){this.nativeElement=r}}return t=e,t.__NG_ELEMENT_ID__=nD,e})();function df(t,e){t.forEach(n=>Array.isArray(n)?df(n,e):e(n))}function Y_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function rD(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){const s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function ff(t,e,n){let r=Bo(t,e);return r>=0?t[r|1]=n:(r=~r,rD(t,r,e,n)),r}function vl(t,e){const n=Bo(t,e);if(n>=0)return t[n|1]}function Bo(t,e){return iD(t,e,1)}function iD(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}const sD="ngSkipHydration",oD="ngskiphydration";function J_(t){const e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){const r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===oD)return!0}return!1}function eE(t){return t.hasAttribute(sD)}function pc(t){return(t.flags&128)===128}function aD(t){if(pc(t))return!0;let e=t.parent;for(;e;){if(pc(t)||J_(e))return!0;e=e.parent}return!1}let vh;function cD(t){vh=t}function Ho(){if(vh!==void 0)return vh;if(typeof document<"u")return document;throw new W(210,!1)}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function au(t){return{providers:t.providers||[],imports:t.imports||[]}}function cu(t){return Yg(t,tE)||Yg(t,nE)}function uD(t){return cu(t)!==null}function Yg(t,e){return t.hasOwnProperty(e)?t[e]:null}function lD(t){const e=t&&(t[tE]||t[nE]);return e||null}function Jg(t){return t&&(t.hasOwnProperty(em)||t.hasOwnProperty(hD))?t[em]:null}const tE=Te({ɵprov:Te}),em=Te({ɵinj:Te}),nE=Te({ngInjectableDef:Te}),hD=Te({ngInjectorDef:Te});class se{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.ɵprov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.ɵprov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const pf=new se("",{providedIn:"root",factory:()=>dD}),dD="ng",rE=new se(""),gr=new se("",{providedIn:"platform",factory:()=>"unknown"}),iE=new se("",{providedIn:"root",factory:()=>Ho().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});const fD=Te({__forward_ref__:Te});function sE(t){return t.__forward_ref__=sE,t.toString=function(){return Ft(this())},t}function Rt(t){return oE(t)?t():t}function oE(t){return typeof t=="function"&&t.hasOwnProperty(fD)&&t.__forward_ref__===sE}function aE(t){return t&&!!t.ɵproviders}function uu(t){return typeof t=="string"?t:t==null?"":String(t)}function pD(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():uu(t)}function gD(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new W(-200,t)}function gf(t,e){throw new W(-201,!1)}let _h;function cE(){return _h}function St(t){const e=_h;return _h=t,e}function uE(t,e,n){const r=cu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ue.Optional)return null;if(e!==void 0)return e;gf(t,"Injector")}const mD={},ro=mD,Eh="__NG_DI_FLAG__",gc="ngTempTokenPath",yD="ngTokenPath",vD=/\n/gm,_D="ɵ",tm="__source";let Ti;function ED(){return Ti}function Xn(t){const e=Ti;return Ti=t,e}function wD(t,e=ue.Default){if(Ti===void 0)throw new W(-203,!1);return Ti===null?uE(t,void 0,e):Ti.get(t,e&ue.Optional?null:void 0,e)}function te(t,e=ue.Default){return(cE()||wD)(Rt(t),e)}function b(t,e=ue.Default){return te(t,lu(e))}function lu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function wh(t){const e=[];for(let n=0;n<t.length;n++){const r=Rt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new W(900,!1);let i,s=ue.Default;for(let o=0;o<r.length;o++){const a=r[o],c=TD(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(te(i,s))}else e.push(te(r))}return e}function ID(t,e){return t[Eh]=e,t.prototype[Eh]=e,t}function TD(t){return t[Eh]}function SD(t,e,n,r){const i=t[gc];throw e[tm]&&i.unshift(e[tm]),t.message=CD(`
`+t.message,i,n,r),t[yD]=i,t[gc]=null,t}function CD(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==_D?t.slice(2):t;let i=Ft(e);if(Array.isArray(e))i=e.map(Ft).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ft(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(vD,`
  `)}`}function AD(){const t=new qo;return b(gr)==="browser"&&(t.store=RD(Ho(),b(pf))),t}let qo=(()=>{var t;class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(const r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t=e,t.ɵprov=q({token:t,providedIn:"root",factory:AD}),e})();function RD(t,e){const n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}const lE="h",hE="b";var Ih=function(t){return t.FirstChild="f",t.NextSibling="n",t}(Ih||{});const bD="t",dE="c",fE="x",mc="r",DD="i",PD="n",MD="d",ND="__nghData__",pE=ND,_l="ngh",kD="nghm";let gE=()=>null;function OD(t,e,n=!1){let r=t.getAttribute(_l);if(r==null)return null;const[i,s]=r.split("|");if(r=n?s:i,!r)return null;const o=s?`|${s}`:"",a=n?i:o;let c={};if(r!==""){const l=e.get(qo,null,{optional:!0});l!==null&&(c=l.get(pE,[])[Number(r)])}const u={data:c,firstChild:t.firstChild??null};return n&&(u.firstChild=t,yf(u,0,t.nextSibling)),a?t.setAttribute(_l,a):t.removeAttribute(_l),u}function xD(){gE=OD}function mf(t,e,n=!1){return gE(t,e,n)}function LD(t){let e=t._lView;return e[ie].type===2?null:(V_(e)&&(e=e[Xe]),e)}function VD(t){return t.textContent?.replace(/\s/gm,"")}function FD(t){const e=Ho(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){const o=VD(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let r;const i=[];for(;r=n.nextNode();)i.push(r);for(const s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function yf(t,e,n){t.segmentHeads??(t.segmentHeads={}),t.segmentHeads[e]=n}function Th(t,e){return t.segmentHeads?.[e]??null}function mE(t,e){return t.data[dE]?.[e]??null}function yE(t,e){const n=mE(t,e)??[];let r=0;for(let i of n)r+=i[mc]*(i[fE]??1);return r}function hu(t,e){if(typeof t.disconnectedNodes>"u"){const n=t.data[MD];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}const _a="__parameters__";function UD(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}function jD(t,e,n){return Fo(()=>{const r=UD(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,u,l){const h=c.hasOwnProperty(_a)?c[_a]:Object.defineProperty(c,_a,{value:[]})[_a];for(;h.length<=l;)h.push(null);return(h[l]=h[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const Un=ID(jD("Optional"),8);function $r(t,e){const n=t.hasOwnProperty(uc);return n?t[uc]:null}const Vi=new se(""),vE=new se("",-1),_E=new se("");class EE{get(e,n=ro){if(n===ro){const r=new Error(`NullInjectorError: No provider for ${Ft(e)}!`);throw r.name="NullInjectorError",r}return n}}function is(t){return{ɵproviders:t}}function wE(...t){return{ɵproviders:IE(!0,t),ɵfromNgModule:!0}}function IE(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return df(e,o=>{const a=o;Sh(a,s,[],r)&&(i||(i=[]),i.push(a))}),i!==void 0&&TE(i,s),n}function TE(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];vf(i,s=>{e(s,r)})}}function Sh(t,e,n,r){if(t=Rt(t),!t)return!1;let i=null,s=Jg(t);const o=!s&&Fr(t);if(!s&&!o){const c=t.ngModule;if(s=Jg(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(const u of c)Sh(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{df(s.imports,l=>{Sh(l,e,n,r)&&(u||(u=[]),u.push(l))})}finally{}u!==void 0&&TE(u,e)}if(!a){const u=$r(i)||(()=>new i);e({provide:i,useFactory:u,deps:At},i),e({provide:_E,useValue:i,multi:!0},i),e({provide:Vi,useValue:()=>te(i),multi:!0},i)}const c=s.providers;if(c!=null&&!a){const u=t;vf(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function vf(t,e){for(let n of t)aE(n)&&(n=n.ɵproviders),Array.isArray(n)?vf(n,e):e(n)}const $D=Te({provide:String,useValue:Te});function SE(t){return t!==null&&typeof t=="object"&&$D in t}function BD(t){return!!(t&&t.useExisting)}function HD(t){return!!(t&&t.useFactory)}function Ch(t){return typeof t=="function"}const _f=new se(""),ja={},qD={};let El;function Ef(){return El===void 0&&(El=new EE),El}class jn{}class wf extends jn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rh(e,o=>this.processProvider(o)),this.records.set(vE,pi(void 0,this)),i.has("environment")&&this.records.set(jn,pi(void 0,this));const s=this.records.get(_f);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(_E,At,ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Xn(this),r=St(void 0);let i;try{return e()}finally{Xn(n),St(r)}}get(e,n=ro,r=ue.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Wg))return e[Wg](this);r=lu(r);let i;const s=Xn(this),o=St(void 0);try{if(!(r&ue.SkipSelf)){let c=this.records.get(e);if(c===void 0){const u=ZD(e)&&cu(e);u&&this.injectableDefInScope(u)?c=pi(Ah(e),ja):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}const a=r&ue.Self?Ef():this.parent;return n=r&ue.Optional&&n===ro?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[gc]=a[gc]||[]).unshift(Ft(e)),s)throw a;return SD(a,e,"R3InjectorError",this.source)}else throw a}finally{St(o),Xn(s)}}resolveInjectorInitializers(){const e=Xn(this),n=St(void 0);let r;try{const i=this.get(Vi,At,ue.Self);for(const s of i)s()}finally{Xn(e),St(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ft(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(e){e=Rt(e);let n=Ch(e)?e:Rt(e&&e.provide);const r=WD(e);if(!Ch(e)&&e.multi===!0){let i=this.records.get(n);i||(i=pi(void 0,ja,!0),i.factory=()=>wh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===ja&&(n.value=qD,n.value=n.factory()),typeof n.value=="object"&&n.value&&QD(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Rt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}}function Ah(t){const e=cu(t),n=e!==null?e.factory:$r(t);if(n!==null)return n;if(t instanceof se)throw new W(204,!1);if(t instanceof Function)return zD(t);throw new W(204,!1)}function zD(t){if(t.length>0)throw new W(204,!1);const n=lD(t);return n!==null?()=>n.factory(t):()=>new t}function WD(t){if(SE(t))return pi(void 0,t.useValue);{const e=GD(t);return pi(e,ja)}}function GD(t,e,n){let r;if(Ch(t)){const i=Rt(t);return $r(i)||Ah(i)}else if(SE(t))r=()=>Rt(t.useValue);else if(HD(t))r=()=>t.useFactory(...wh(t.deps||[]));else if(BD(t))r=()=>te(Rt(t.useExisting));else{const i=Rt(t&&(t.useClass||t.provide));if(KD(t))r=()=>new i(...wh(t.deps));else return $r(i)||Ah(i)}return r}function pi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function KD(t){return!!t.deps}function QD(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ZD(t){return typeof t=="function"||typeof t=="object"&&t instanceof se}function Rh(t,e){for(const n of t)Array.isArray(n)?Rh(n,e):n&&aE(n)?Rh(n.ɵproviders,e):e(n)}function Yr(t,e){t instanceof wf&&t.assertNotDestroyed();let n;const r=Xn(t),i=St(void 0);try{return e()}finally{Xn(r),St(i)}}function XD(t){if(!cE()&&!ED())throw new W(-203,!1)}function YD(t){return typeof t=="function"}class JD{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function CE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function AE(){return RE}function RE(t){return t.type.prototype.ngOnChanges&&(t.setInput=t0),e0}AE.ngInherit=!0;function e0(){const t=DE(this),e=t?.current;if(e){const n=t.previous;if(n===ur)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function t0(t,e,n,r,i){const s=this.declaredInputs[r],o=DE(t)||n0(t,{previous:ur,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new JD(u&&u.currentValue,n,c===ur),CE(t,e,i,n)}const bE="__ngSimpleChanges__";function DE(t){return t[bE]||null}function n0(t,e){return t[bE]=e}let nm=null;const sn=function(t,e,n){nm?.(t,e,n)};function r0(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=RE(e);(n.preOrderHooks??(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,s))}function If(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks??(t.contentHooks=[])).push(n,a),(t.contentCheckHooks??(t.contentCheckHooks=[])).push(n,a)),c&&(t.viewHooks??(t.viewHooks=[])).push(-n,c),u&&((t.viewHooks??(t.viewHooks=[])).push(n,u),(t.viewCheckHooks??(t.viewCheckHooks=[])).push(n,u)),l!=null&&(t.destroyHooks??(t.destroyHooks=[])).push(n,l)}}function $a(t,e,n){PE(t,e,3,n)}function Ba(t,e,n,r){(t[G]&3)===n&&PE(t,e,n,r)}function wl(t,e){let n=t[G];(n&3)===e&&(n&=16383,n+=1,t[G]=n)}function PE(t,e,n,r){const i=r!==void 0?t[fi]&65535:0,s=r??-1,o=e.length-1;let a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[fi]+=65536),(a<s||s==-1)&&(i0(t,n,e,c),t[fi]=(t[fi]&4294901760)+c+2),c++}function rm(t,e){sn(4,t,e);const n=Ke(null);try{e.call(t)}finally{Ke(n),sn(5,t,e)}}function i0(t,e,n,r){const i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[G]>>14<t[fi]>>16&&(t[G]&3)===e&&(t[G]+=16384,rm(a,s)):rm(a,s)}const Si=-1;class Tf{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function s0(t){return t instanceof Tf}function o0(t){return(t.flags&8)!==0}function a0(t){return(t.flags&16)!==0}function ME(t){return t!==Si}function yc(t){return t&32767}function c0(t){return t>>16}function vc(t,e){let n=c0(t),r=e;for(;n>0;)r=r[ns],n--;return r}let bh=!0;function _c(t){const e=bh;return bh=t,e}const u0=256,NE=u0-1,kE=5;let l0=0;const on={};function h0(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ms)&&(r=n[Ms]),r==null&&(r=n[Ms]=l0++);const i=r&NE,s=1<<i;e.data[t+(i>>kE)]|=s}function OE(t,e){const n=xE(t,e);if(n!==-1)return n;const r=e[ie];r.firstCreatePass&&(t.injectorIndex=e.length,Il(r.data,t),Il(e,null),Il(r.blueprint,null));const i=Sf(t,e),s=t.injectorIndex;if(ME(i)){const o=yc(i),a=vc(i,e),c=a[ie].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Il(t,e){t.push(0,0,0,0,0,0,0,0,e)}function xE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Sf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=$E(i),r===null)return Si;if(n++,i=i[ns],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Si}function d0(t,e,n){h0(t,e,n)}function LE(t,e,n){if(n&ue.Optional||t!==void 0)return t;gf(e,"NodeInjector")}function VE(t,e,n,r){if(n&ue.Optional&&r===void 0&&(r=null),!(n&(ue.Self|ue.Host))){const i=t[xi],s=St(void 0);try{return i?i.get(e,r,n&ue.Optional):uE(e,r,n&ue.Optional)}finally{St(s)}}return LE(r,e,n)}function FE(t,e,n,r=ue.Default,i){if(t!==null){if(e[G]&2048&&!(r&ue.Self)){const o=y0(t,e,n,r,on);if(o!==on)return o}const s=UE(t,e,n,r,on);if(s!==on)return s}return VE(e,n,r,i)}function UE(t,e,n,r,i){const s=g0(n);if(typeof s=="function"){if(!q_(e,t,r))return r&ue.Host?LE(i,n,r):VE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ue.Optional))gf(n);else return o}finally{K_()}}else if(typeof s=="number"){let o=null,a=xE(t,e),c=Si,u=r&ue.Host?e[Nt][Jt]:null;for((a===-1||r&ue.SkipSelf)&&(c=a===-1?Sf(t,e):e[a+8],c===Si||!sm(r,!1)?a=-1:(o=e[ie],a=yc(c),e=vc(c,e)));a!==-1;){const l=e[ie];if(im(s,a,l.data)){const h=f0(a,e,n,o,r,u);if(h!==on)return h}c=e[a+8],c!==Si&&sm(r,e[ie].data[a+8]===u)&&im(s,a,e)?(o=l,a=yc(c),e=vc(c,e)):a=-1}}return i}function f0(t,e,n,r,i,s){const o=e[ie],a=o.data[t+8],c=r==null?Uo(a)&&bh:r!=o&&(a.type&3)!==0,u=i&ue.Host&&s===a,l=p0(a,o,n,c,u);return l!==null?io(e,o,l,a):on}function p0(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,h=r?a:a+l,d=i?a+l:u;for(let f=h;f<d;f++){const m=o[f];if(f<c&&n===m||f>=c&&m.type===n)return f}if(i){const f=o[c];if(f&&jo(f)&&f.type===n)return c}return null}function io(t,e,n,r){let i=t[n];const s=e.data;if(s0(i)){const o=i;o.resolving&&gD(pD(s[n]));const a=_c(o.canSeeViewProviders);o.resolving=!0;let c;const u=o.injectImpl?St(o.injectImpl):null,l=q_(t,r,ue.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&r0(n,s[n],e)}finally{u!==null&&St(u),_c(a),o.resolving=!1,K_()}}return i}function g0(t){if(typeof t=="string")return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ms)?t[Ms]:void 0;return typeof e=="number"?e>=0?e&NE:m0:e}function im(t,e,n){const r=1<<t;return!!(n[e+(t>>kE)]&r)}function sm(t,e){return!(t&ue.Self)&&!(t&ue.Host&&e)}class Ns{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return FE(this._tNode,this._lView,e,lu(r),n)}}function m0(){return new Ns(En(),Pe())}function jE(t){return Fo(()=>{const e=t.prototype.constructor,n=e[uc]||Dh(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[uc]||Dh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Dh(t){return oE(t)?()=>{const e=Dh(Rt(t));return e&&e()}:$r(t)}function y0(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[G]&2048&&!(o[G]&512);){const a=UE(s,o,n,r|ue.Self,on);if(a!==on)return a;let c=s.parent;if(!c){const u=o[O_];if(u){const l=u.get(n,on,r);if(l!==on)return l}c=$E(o),o=o[ns]}s=c}return i}function $E(t){const e=t[ie],n=e.type;return n===2?e.declTNode:n===1?t[Jt]:null}function om(t,e=null,n=null,r){const i=BE(t,e,n,r);return i.resolveInjectorInitializers(),i}function BE(t,e=null,n=null,r,i=new Set){const s=[n||At,wE(t)];return r=r||(typeof t=="object"?void 0:Ft(t)),new wf(s,e||Ef(),r||null,i)}let Wn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return om({name:""},i,r,"");{const s=r.name??"";return om({name:s},r.parent,r.providers,s)}}}return t=e,t.THROW_IF_NOT_FOUND=ro,t.NULL=new EE,t.ɵprov=q({token:t,providedIn:"any",factory:()=>te(vE)}),t.__NG_ELEMENT_ID__=-1,e})();const v0="ngOriginalError";function Tl(t){return t[v0]}class Jr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Tl(e);for(;n&&Tl(n);)n=Tl(n);return n||null}}const HE=new se("",{providedIn:"root",factory:()=>b(Jr).handleError.bind(void 0)}),Ea=new se(""),qE=!1,zE=new se("",{providedIn:"root",factory:()=>qE});class ei{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${T_})`}}class _0 extends ei{getTypeName(){return"HTML"}}class E0 extends ei{getTypeName(){return"Style"}}class w0 extends ei{getTypeName(){return"Script"}}class I0 extends ei{getTypeName(){return"URL"}}class T0 extends ei{getTypeName(){return"ResourceURL"}}function Yn(t){return t instanceof ei?t.changingThisBreaksApplicationSecurity:t}function Cr(t,e){const n=S0(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${T_})`)}return n===e}function S0(t){return t instanceof ei&&t.getTypeName()||null}function C0(t){return new _0(t)}function A0(t){return new E0(t)}function R0(t){return new w0(t)}function b0(t){return new I0(t)}function D0(t){return new T0(t)}function P0(t){const e=new N0(t);return k0()?new M0(e):e}class M0{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=new window.DOMParser().parseFromString(e,"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class N0{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=e,n}}function k0(){try{return!!new window.DOMParser().parseFromString("","text/html")}catch{return!1}}const O0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Cf(t){return t=String(t),t.match(O0)?t:"unsafe:"+t}function Gn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function zo(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const WE=Gn("area,br,col,hr,img,wbr"),GE=Gn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),KE=Gn("rp,rt"),x0=zo(KE,GE),L0=zo(GE,Gn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),V0=zo(KE,Gn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),am=zo(WE,L0,V0,x0),QE=Gn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),F0=Gn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),U0=Gn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),j0=zo(QE,F0,U0),$0=Gn("script,style,template");class B0{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!am.hasOwnProperty(n))return this.sanitizedSomething=!0,!$0.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!j0.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;QE[a]&&(c=Cf(c)),this.buf.push(" ",o,'="',cm(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();am.hasOwnProperty(n)&&!WE.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(cm(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const H0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,q0=/([^\#-~ |!])/g;function cm(t){return t.replace(/&/g,"&amp;").replace(H0,function(e){const n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(q0,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wa;function ZE(t,e){let n=null;try{wa=wa||P0(t);let r=e?String(e):"";n=wa.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=wa.getInertBodyElement(r)}while(r!==s);const a=new B0().sanitizeChildren(um(n)||n);return a}finally{if(n){const r=um(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function um(t){return"content"in t&&z0(t)?t.content:null}function z0(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var In=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(In||{});function oH(t){const e=XE();return e?e.sanitize(In.HTML,t)||"":Cr(t,"HTML")?Yn(t):ZE(Ho(),uu(t))}function aH(t){const e=XE();return e?e.sanitize(In.URL,t)||"":Cr(t,"URL")?Yn(t):Cf(uu(t))}function XE(){const t=Pe();return t&&t[Vn].sanitizer}const YE=new Map;let W0=0;function G0(){return W0++}function K0(t){YE.set(t[ru],t)}function Q0(t){YE.delete(t[ru])}const lm="__ngContext__";function Br(t,e){kn(e)?(t[lm]=e[ru],K0(e)):t[lm]=e}function Z0(t){return t.ownerDocument.body}function JE(t){return t instanceof Function?t():t}function Ia(t){return(t??b(Wn)).get(gr)==="browser"}var Rr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Rr||{});let X0;function Af(t,e){return X0(t,e)}function gi(t,e,n,r,i){if(r!=null){let s,o=!1;_n(r)?s=r:kn(r)&&(o=!0,r=r[Mt]);const a=Zt(r);t===0&&n!==null?i==null?rw(e,n,a):Ec(e,n,a,i||null,!0):t===1&&n!==null?Ec(e,n,a,i||null,!0):t===2?sw(e,a,o):t===3&&e.destroyNode(a),s!=null&&pP(e,t,s,n,i)}}function ew(t,e){return t.createText(e)}function Y0(t,e,n){t.setValue(e,n)}function Rf(t,e,n){return t.createElement(e,n)}function J0(t,e){tw(t,e),e[Mt]=null,e[Jt]=null}function eP(t,e,n,r,i,s){r[Mt]=i,r[Jt]=e,fu(t,r,n,1,i,s)}function tw(t,e){fu(t,e,e[Ze],2,null,null)}function tP(t){let e=t[eo];if(!e)return Sl(t[ie],t);for(;e;){let n=null;if(kn(e))n=e[eo];else{const r=e[ft];r&&(n=r)}if(!n){for(;e&&!e[Kt]&&e!==t;)kn(e)&&Sl(e[ie],e),e=e[st];e===null&&(e=t),kn(e)&&Sl(e[ie],e),n=e&&e[Kt]}e=n}}function nP(t,e,n,r){const i=ft+r,s=n.length;r>0&&(n[i-1][Kt]=e),r<s-ft?(e[Kt]=n[i],Y_(n,ft+r,e)):(n.push(e),e[Kt]=null),e[st]=n;const o=e[nu];o!==null&&n!==o&&rP(o,e);const a=e[Li];a!==null&&a.insertView(t),mh(e),e[G]|=128}function rP(t,e){const n=t[hc],i=e[st][st][Nt];e[Nt]!==i&&(t[G]|=nf.HasTransplantedViews),n===null?t[hc]=[e]:n.push(e)}function nw(t,e){const n=t[hc],r=n.indexOf(e);n.splice(r,1)}function so(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const i=r[nu];i!==null&&i!==t&&nw(i,r),e>0&&(t[n-1][Kt]=r[Kt]);const s=fc(t,ft+e);J0(r[ie],r);const o=s[Li];o!==null&&o.detachView(s[ie]),r[st]=null,r[Kt]=null,r[G]&=-129}return r}function du(t,e){if(!(e[G]&256)){const n=e[Ze];n.destroyNode&&fu(t,e,n,3,null,null),tP(e)}}function Sl(t,e){if(!(e[G]&256)){e[G]&=-129,e[G]|=256,e[Ur]&&Wv(e[Ur]),sP(t,e),iP(t,e),e[ie].type===1&&e[Ze].destroy();const n=e[nu];if(n!==null&&_n(e[st])){n!==e[st]&&nw(n,e);const r=e[Li];r!==null&&r.detachView(t)}Q0(e)}}function iP(t,e){const n=t.cleanup,r=e[Js];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{const o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Js]=null);const i=e[tr];if(i!==null){e[tr]=null;for(let s=0;s<i.length;s++){const o=i[s];o()}}}function sP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Tf)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];sn(4,a,c);try{c.call(a)}finally{sn(5,a,c)}}else{sn(4,i,s);try{s.call(i)}finally{sn(5,i,s)}}}}}function oP(t,e,n){return aP(t,e.parent,n)}function aP(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Mt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Rn.None||s===Rn.Emulated)return null}return Bt(r,n)}}function Ec(t,e,n,r,i){t.insertBefore(e,n,r,i)}function rw(t,e,n){t.appendChild(e,n)}function hm(t,e,n,r,i){r!==null?Ec(t,e,n,r,i):rw(t,e,n)}function cP(t,e,n,r){t.removeChild(e,n,r)}function bf(t,e){return t.parentNode(e)}function uP(t,e){return t.nextSibling(e)}function lP(t,e,n){return dP(t,e,n)}function hP(t,e,n){return t.type&40?Bt(t,n):null}let dP=hP;function Df(t,e,n,r){const i=oP(t,r,e),s=e[Ze],o=r.parent||e[Jt],a=lP(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)hm(s,i,n[c],a,!1);else hm(s,i,n,a,!1)}function Ha(t,e){if(e!==null){const n=e.type;if(n&3)return Bt(e,t);if(n&4)return Ph(-1,t[e.index]);if(n&8){const r=e.child;if(r!==null)return Ha(t,r);{const i=t[e.index];return _n(i)?Ph(-1,i):Zt(i)}}else{if(n&32)return Af(e,t)()||Zt(t[e.index]);{const r=iw(t,e);if(r!==null){if(Array.isArray(r))return r[0];const i=no(t[Nt]);return Ha(i,r)}else return Ha(t,e.next)}}}return null}function iw(t,e){if(e!==null){const r=t[Nt][Jt],i=e.projection;return r.projection[i]}return null}function Ph(t,e){const n=ft+t+1;if(n<e.length){const r=e[n],i=r[ie].firstChild;if(i!==null)return Ha(r,i)}return e[Fn]}function sw(t,e,n){const r=bf(t,e);r&&cP(t,r,e,n)}function ow(t){t.textContent=""}function Pf(t,e,n,r,i,s,o){for(;n!=null;){const a=r[n.index],c=n.type;if(o&&e===0&&(a&&Br(Zt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Pf(t,e,n.child,r,i,s,!1),gi(e,t,i,a,s);else if(c&32){const u=Af(n,r);let l;for(;l=u();)gi(e,t,i,l,s);gi(e,t,i,a,s)}else c&16?fP(t,e,r,n,i,s):gi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function fu(t,e,n,r,i,s){Pf(n,r,t.firstChild,e,i,s,!1)}function fP(t,e,n,r,i,s){const o=n[Nt],c=o[Jt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){const l=c[u];gi(e,t,i,l,s)}else{let u=c;const l=o[st];pc(r)&&(u.flags|=128),Pf(t,e,u,l,i,s,!0)}}function pP(t,e,n,r,i){const s=n[Fn],o=Zt(n);s!==o&&gi(e,t,r,s,i);for(let a=ft;a<n.length;a++){const c=n[a];fu(c[ie],c,t,e,r,s)}}function gP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Rr.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Rr.Important),t.setStyle(n,r,i,s))}}function mP(t,e,n){t.setAttribute(e,"style",n)}function aw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function cw(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&gh(t,e,r),i!==null&&aw(t,e,i),s!==null&&mP(t,e,s)}const mr={};function cH(t=1){uw(zn(),Pe(),Xr()+t,!1)}function uw(t,e,n,r){if(!r)if((e[G]&3)===3){const s=t.preOrderCheckHooks;s!==null&&$a(e,s,n)}else{const s=t.preOrderHooks;s!==null&&Ba(e,s,0,n)}jr(n)}function oo(t,e=ue.Default){const n=Pe();if(n===null)return te(t,e);const r=En();return FE(r,n,Rt(t),e)}function lw(t,e,n,r,i,s){const o=Ke(null);try{let a=null;i&Vr.SignalBased&&(a=e[r][Ni]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Vr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):CE(e,a,r,s)}finally{Ke(o)}}function yP(t,e){const n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)jr(~i);else{const s=i,o=n[++r],a=n[++r];Zb(o,s);const c=e[s];a(2,c)}}}finally{jr(-1)}}function pu(t,e,n,r,i,s,o,a,c,u,l){const h=e.blueprint.slice();return h[Mt]=i,h[G]=r|4|128|8|64,(u!==null||t&&t[G]&2048)&&(h[G]|=2048),U_(h),h[st]=h[ns]=t,h[dt]=n,h[Vn]=o||t&&t[Vn],h[Ze]=a||t&&t[Ze],h[xi]=c||t&&t[xi]||null,h[Jt]=s,h[ru]=G0(),h[Ln]=l,h[O_]=u,h[Nt]=e.type==2?t[Nt]:h,h}function gu(t,e,n,r,i){let s=t.data[e];if(s===null)s=vP(t,e,n,r,i),Qb()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;const o=qb();s.injectorIndex=o===null?-1:o.injectorIndex}return $o(s,!0),s}function vP(t,e,n,r,i){const s=$_(),o=B_(),a=o?s:s&&s.parent,c=t.data[e]=SP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function hw(t,e,n,r){if(n===0)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function dw(t,e,n,r,i){const s=Xr(),o=r&2;try{jr(-1),o&&e.length>Xe&&uw(t,e,Xe,!1),sn(o?2:0,i),n(r,i)}finally{jr(s),sn(o?3:1,i)}}function fw(t,e,n){if(L_(e)){const r=Ke(null);try{const i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){const a=t.data[o];if(a.contentQueries){const c=n[o];a.contentQueries(1,c,o)}}}finally{Ke(r)}}}function pw(t,e,n){MP(t,e,n,Bt(n,e)),(n.flags&64)===64&&Ew(t,e,n)}function gw(t,e,n=Bt){const r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function mw(t){const e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Mf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Mf(t,e,n,r,i,s,o,a,c,u,l){const h=Xe+r,d=h+i,f=_P(h,d),m=typeof u=="function"?u():u;return f[ie]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:l}}function _P(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:mr);return n}function EP(t,e,n,r){const s=r.get(zE,qE)||n===Rn.ShadowDom,o=t.selectRootElement(e,s);return wP(o),o}function wP(t){yw(t)}let yw=()=>null;function IP(t){eE(t)?ow(t):FD(t)}function TP(){yw=IP}function SP(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return su()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function dm(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;const o=e[s];if(o===void 0)continue;r??(r={});let a,c=Vr.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?fm(r,n,u,a,c):fm(r,n,u,a)}return r}function fm(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function CP(t,e,n){const r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,u=null;for(let l=r;l<i;l++){const h=s[l],d=n?n.get(h):null,f=d?d.inputs:null,m=d?d.outputs:null;c=dm(0,h.inputs,l,c,f),u=dm(1,h.outputs,l,u,m);const y=c!==null&&o!==null&&!R_(e)?jP(c,l,o):null;a.push(y)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function AP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function RP(t,e,n,r,i,s,o,a){const c=Bt(e,n);let u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Nf(t,n,l,r,i),Uo(e)&&bP(n,e.index)):e.type&3?(r=AP(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function bP(t,e){const n=pr(e,t);n[G]&16||(n[G]|=64)}function vw(t,e,n,r){{const i=r===null?null:{"":-1},s=kP(t,n);let o,a;s===null?o=a=null:[o,a]=s,o!==null&&_w(t,e,n,o,i,a),i&&OP(n,r,i)}n.mergedAttrs=ef(n.mergedAttrs,n.attrs)}function _w(t,e,n,r,i,s){for(let u=0;u<r.length;u++)d0(OE(n,e),t,r[u].type);LP(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=hw(t,e,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];n.mergedAttrs=ef(n.mergedAttrs,l.hostAttrs),VP(t,n,e,c,l),xP(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);const h=l.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}CP(t,n,s)}function DP(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);const a=~e.index;PP(o)!=a&&o.push(a),o.push(n,r,s)}}function PP(t){let e=t.length;for(;e>0;){const n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function MP(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Uo(n)&&FP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||OE(n,e),Br(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],u=io(e,t,a,n);if(Br(u,e),o!==null&&UP(e,a-i,u,c,n,o),jo(c)){const l=pr(n.index,e);l[dt]=io(e,t,a,n)}}}function Ew(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Xb();try{jr(s);for(let a=r;a<i;a++){const c=t.data[a],u=e[a];yh(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&NP(c,u)}}finally{jr(-1),yh(o)}}function NP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function kP(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Eb(e,o.selectors,!1))if(r||(r=[]),jo(o))if(o.findHostDirectiveDefs!==null){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);const c=a.length;Mh(t,e,c)}else r.unshift(o),Mh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Mh(t,e,n){e.componentOffset=n,(t.components??(t.components=[])).push(e.index)}function OP(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(s==null)throw new W(-301,!1);r.push(e[i],s)}}}function xP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;jo(e)&&(n[""]=t)}}function LP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function VP(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=$r(i.type,!0)),o=new Tf(s,jo(i),oo);t.blueprint[r]=o,n[r]=o,DP(t,e,r,hw(t,n,i.hostVars,mr),i)}function FP(t,e,n){const r=Bt(e,t),i=mw(n),s=t[Vn].rendererFactory;let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=mu(t,pu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function UP(t,e,n,r,i,s){const o=s[e];if(o!==null)for(let a=0;a<o.length;){const c=o[a++],u=o[a++],l=o[a++],h=o[a++];lw(r,n,c,u,l,h)}}function jP(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function ww(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Iw(t,e){const n=t.contentQueries;if(n!==null){const r=Ke(null);try{for(let i=0;i<n.length;i+=2){const s=n[i],o=n[i+1];if(o!==-1){const a=t.data[o];H_(s),a.contentQueries(2,e[o],o)}}}finally{Ke(r)}}}function mu(t,e){return t[eo]?t[Xg][Kt]=e:t[eo]=e,t[Xg]=e,e}function Nh(t,e,n){H_(0);const r=Ke(null);try{e(t,n)}finally{Ke(r)}}function $P(t){return t[Js]||(t[Js]=[])}function BP(t){return t.cleanup||(t.cleanup=[])}function Tw(t,e){const n=t[xi],r=n?n.get(Jr,null):null;r&&r.handleError(e)}function Nf(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];lw(l,u,r,a,c,i)}}function HP(t,e,n){const r=F_(e,t);Y0(t[Ze],r,n)}function qP(t,e){const n=pr(e,t),r=n[ie];zP(r,n);const i=n[Mt];i!==null&&n[Ln]===null&&(n[Ln]=mf(i,n[xi])),kf(r,n,n[dt])}function zP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function kf(t,e,n){cf(e);try{const r=t.viewQuery;r!==null&&Nh(1,r,n);const i=t.template;i!==null&&dw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Li]?.finishViewCreation(t),t.staticContentQueries&&Iw(t,e),t.staticViewQueries&&Nh(2,t.viewQuery,n);const s=t.components;s!==null&&WP(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[G]&=-5,uf()}}function WP(t,e){for(let n=0;n<e.length;n++)qP(t,e[n])}function Of(t,e,n,r){const i=e.tView,o=t[G]&4096?4096:16,a=pu(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[nu]=c;const u=t[Li];return u!==null&&(a[Li]=u.createEmbeddedView(i)),kf(i,a,n),a}function Sw(t,e){const n=ft+e;if(n<t.length)return t[n]}function ao(t,e){return!e||e.firstChild===null||pc(t)}function yu(t,e,n,r=!0){const i=e[ie];if(nP(i,e,t,n),r){const o=Ph(n,t),a=e[Ze],c=bf(a,t[Fn]);c!==null&&eP(i,t[Jt],a,e,c,o)}const s=e[Ln];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Cw(t,e){const n=so(t,e);return n!==void 0&&du(n[ie],n),n}function wc(t,e,n,r,i=!1){for(;n!==null;){const s=e[n.index];s!==null&&r.push(Zt(s)),_n(s)&&GP(s,r);const o=n.type;if(o&8)wc(t,e,n.child,r);else if(o&32){const a=Af(n,e);let c;for(;c=a();)r.push(c)}else if(o&16){const a=iw(e,n);if(Array.isArray(a))r.push(...a);else{const c=no(e[Nt]);wc(c[ie],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function GP(t,e){for(let n=ft;n<t.length;n++){const r=t[n],i=r[ie].firstChild;i!==null&&wc(r[ie],r,i,e)}t[Fn]!==t[Mt]&&e.push(t[Fn])}let Aw=[];function KP(t){return t[Ur]??QP(t)}function QP(t){const e=Aw.pop()??Object.create(XP);return e.lView=t,e}function ZP(t){t.lView[Ur]!==t&&(t.lView=null,Aw.push(t))}const XP={...Gd,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{iu(t.lView)},consumerOnSignalRead(){this.lView[Ur]=this}};function Rw(t){return Dw(t[eo])}function bw(t){return Dw(t[Kt])}function Dw(t){for(;t!==null&&!_n(t);)t=t[Kt];return t}const Pw=100;function Mw(t,e=!0,n=0){const r=t[Vn],i=r.rendererFactory,s=!1;s||i.begin?.();try{YP(t,n)}catch(o){throw e&&Tw(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function YP(t,e){kh(t,e);let n=0;for(;af(t);){if(n===Pw)throw new W(103,!1);n++,kh(t,1)}}function JP(t,e,n,r){const i=e[G];if((i&256)===256)return;const s=!1;!s&&e[Vn].inlineEffectRunner?.flush(),cf(e);let o=null,a=null;!s&&eM(t)&&(a=KP(e),o=qv(a));try{U_(e),Gb(t.bindingStartIndex),n!==null&&dw(t,e,n,2,r);const c=(i&3)===3;if(!s)if(c){const h=t.preOrderCheckHooks;h!==null&&$a(e,h,null)}else{const h=t.preOrderHooks;h!==null&&Ba(e,h,0,null),wl(e,0)}if(tM(e),Nw(e,0),t.contentQueries!==null&&Iw(t,e),!s)if(c){const h=t.contentCheckHooks;h!==null&&$a(e,h)}else{const h=t.contentHooks;h!==null&&Ba(e,h,1),wl(e,1)}yP(t,e);const u=t.components;u!==null&&Ow(e,u,0);const l=t.viewQuery;if(l!==null&&Nh(2,l,r),!s)if(c){const h=t.viewCheckHooks;h!==null&&$a(e,h)}else{const h=t.viewHooks;h!==null&&Ba(e,h,2),wl(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Ii]){for(const h of e[Ii])h();e[Ii]=null}s||(e[G]&=-73)}catch(c){throw iu(e),c}finally{a!==null&&(zv(a,o),ZP(a)),uf()}}function eM(t){return t.type!==2}function Nw(t,e){for(let n=Rw(t);n!==null;n=bw(n))for(let r=ft;r<n.length;r++){const i=n[r];kw(i,e)}}function tM(t){for(let e=Rw(t);e!==null;e=bw(e)){if(!(e[G]&nf.HasTransplantedViews))continue;const n=e[hc];for(let r=0;r<n.length;r++){const i=n[r],s=i[st];xb(i)}}}function nM(t,e,n){const r=pr(e,t);kw(r,n)}function kw(t,e){of(t)&&kh(t,e)}function kh(t,e){const r=t[ie],i=t[G],s=t[Ur];let o=!!(e===0&&i&16);if(o||(o=!!(i&64&&e===0)),o||(o=!!(i&1024)),o||(o=!!(s?.dirty&&Kd(s))),s&&(s.dirty=!1),t[G]&=-9217,o)JP(r,t,r.template,t[dt]);else if(i&8192){Nw(t,1);const a=r.components;a!==null&&Ow(t,a,1)}}function Ow(t,e,n){for(let r=0;r<e.length;r++)nM(t,e[r],n)}function xf(t){for(t[Vn].changeDetectionScheduler?.notify();t;){t[G]|=64;const e=no(t);if(V_(t)&&!e)return t;t=e}return null}class Ic{get rootNodes(){const e=this._lView,n=e[ie];return wc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[dt]}set context(e){this._lView[dt]=e}get destroyed(){return(this._lView[G]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[st];if(_n(e)){const n=e[lc],r=n?n.indexOf(this):-1;r>-1&&(so(e,r),fc(n,r))}this._attachedToViewContainer=!1}du(this._lView[ie],this._lView)}onDestroy(e){j_(this._lView,e)}markForCheck(){xf(this._cdRefInjectingView||this._lView)}detach(){this._lView[G]&=-129}reattach(){mh(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,Mw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,tw(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=e,mh(this._lView)}}function xw(t){const e=t[to]??[],r=t[st][Ze];for(const i of e)rM(i,r);t[to]=At}function rM(t,e){let n=0,r=t.firstChild;if(r){const i=t.data[mc];for(;n<i;){const s=r.nextSibling;sw(e,r,!1),r=s,n++}}}function Lw(t){xw(t);for(let e=ft;e<t.length;e++)Tc(t[e])}function Tc(t){const e=t[ie];for(let n=Xe;n<e.bindingStartIndex;n++)if(_n(t[n])){const r=t[n];Lw(r)}else kn(t[n])&&Tc(t[n])}function iM(t){const e=t._views;for(const n of e){const r=LD(n);if(r!==null&&r[Mt]!==null)if(kn(r))Tc(r);else{const i=r[Mt];Tc(i),Lw(r)}}}const sM=new RegExp(`^(\\d+)*(${hE}|${lE})*(.*)`);function oM(t){const e=t.match(sM),[n,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(const[c,u,l]of s.matchAll(/(f|n)(\d*)/g)){const h=parseInt(l,10)||1;a.push(u,h)}return[o,...a]}function aM(t){return!t.prev&&t.parent?.type===8}function Cl(t){return t.index-Xe}function Lf(t,e,n,r){let i=null;const s=Cl(r),o=t.data[PD];if(o?.[s])i=uM(o[s],n);else if(e.firstChild===r)i=t.firstChild;else{const a=r.prev===null,c=r.prev??r.parent;if(aM(r)){const u=Cl(r.parent);i=Th(t,u)}else{let u=Bt(c,n);if(a)i=u.firstChild;else{const l=Cl(c),h=Th(t,l);if(c.type===2&&h){const f=yE(t,l)+1;i=Vf(f,h)}else i=u.nextSibling}}}return i}function Vf(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function cM(t,e){let n=t;for(let r=0;r<e.length;r+=2){const i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case Ih.FirstChild:n=n.firstChild;break;case Ih.NextSibling:n=n.nextSibling;break}}return n}function uM(t,e){const[n,...r]=oM(t);let i;if(n===lE)i=e[Nt][Mt];else if(n===hE)i=Z0(e[Nt][Mt]);else{const s=Number(n);i=Zt(e[s+Xe])}return cM(i,r)}function lM(t,e){const n=[];for(const r of e)for(let i=0;i<(r[fE]??1);i++){const s={data:r,firstChild:null};r[mc]>0&&(s.firstChild=t,t=Vf(r[mc],t)),n.push(s)}return[t,n]}let Vw=()=>null;function hM(t,e){const n=t[to];return!e||n===null||n.length===0?null:n[0].data[DD]===e?n.shift():(xw(t),null)}function dM(){Vw=hM}function co(t,e){return Vw(t,e)}class fM{}class pM{}class Fw{}function gM(t){const e=Error(`No component factory found for ${Ft(t)}.`);return e[mM]=t,e}const mM="ngComponent";class yM{resolveComponentFactory(e){throw gM(e)}}let vu=(()=>{var t;class e{}return t=e,t.NULL=new yM,e})();class Uw{}let vM=(()=>{var t;class e{constructor(){this.destroyNode=null}}return t=e,t.__NG_ELEMENT_ID__=()=>_M(),e})();function _M(){const t=Pe(),e=En(),n=pr(e.index,t);return(kn(n)?n:t)[Ze]}let EM=(()=>{var t;class e{}return t=e,t.ɵprov=q({token:t,providedIn:"root",factory:()=>null}),e})();const Al={};const pm=new Set;function ti(t){pm.has(t)||(pm.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function uH(t,e){ti("NgSignals");const n=eR(t),r=n[Ni];return e?.equal&&(r.equal=e.equal),n.set=i=>Xv(r,i),n.update=i=>tR(r,i),n.asReadonly=wM.bind(n),n}function wM(){const t=this[Ni];if(t.readonlyFn===void 0){const e=()=>this();e[Ni]=t,t.readonlyFn=e}return t.readonlyFn}function gm(t){const e=Ke(null);try{return t()}finally{Ke(e)}}let Ff=(()=>{var t;class e{}return t=e,t.__NG_ELEMENT_ID__=IM,e})();function IM(t){return TM(En(),Pe(),(t&16)===16)}function TM(t,e,n){if(Uo(t)&&!n){const r=pr(t.index,e);return new Ic(r,r)}else if(t.type&47){const r=e[Nt];return new Ic(r,e)}return null}let jw=(()=>{var t;class e{}return t=e,t.__NG_ELEMENT_ID__=CM,t.__NG_ENV_ID__=n=>n,e})();class SM extends jw{constructor(e){super(),this._lView=e}onDestroy(e){return j_(this._lView,e),()=>Vb(this._lView,e)}}function CM(){return new SM(Pe())}const AM=new se("",{providedIn:"root",factory:()=>b(RM)});let RM=(()=>{var t;class e{}return t=e,t.ɵprov=q({token:t,providedIn:"root",factory:()=>new bM}),e})();class bM{constructor(){this.hasQueuedFlush=!1,this.queuedEffectCount=0,this.queues=new Map}scheduleEffect(e){this.enqueue(e),this.hasQueuedFlush||(queueMicrotask(()=>this.flush()),this.hasQueuedFlush=!1)}enqueue(e){const n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(const[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(const n of e)e.delete(n),this.queuedEffectCount--,n.run()}}class DM{constructor(e,n,r,i,s,o){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=s,this.watcher=iR(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(Jr,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function PM(t,e){var o;ti("NgSignals"),!e?.injector&&XD(PM);const n=e?.injector??b(Wn),r=e?.manualCleanup!==!0?n.get(jw):null,i=new DM(n.get(AM),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),s=n.get(Ff,null,{optional:!0});return!s||!(s._lView[G]&8)?i.watcher.notify():((o=s._lView)[Ii]??(o[Ii]=[])).push(i.watcher.notify),i}function mm(...t){}function MM(){const t=typeof Ua.requestAnimationFrame=="function";let e=Ua[t?"requestAnimationFrame":"setTimeout"],n=Ua[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}class Me{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new An(!1),this.onMicrotaskEmpty=new An(!1),this.onStable=new An(!1),this.onError=new An(!1),typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=MM().nativeRequestAnimationFrame,OM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!Me.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(Me.isInAngularZone())throw new W(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,NM,mm,mm);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const NM={};function Uf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function kM(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ua,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Oh(t),t.isCheckStableRunning=!0,Uf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Oh(t))}function OM(t){const e=()=>{kM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(xM(a))return n.invokeTask(i,s,o,a);try{return ym(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),vm(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return ym(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),vm(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Oh(t),Uf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Oh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ym(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function vm(t){t._nesting--,Uf(t)}function xM(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}let $w=(()=>{var t;class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}}return t=e,t.ɵprov=q({token:t,providedIn:"root",factory:()=>new t}),e})();function xh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){const a=e[o];if(typeof a=="number")s=a;else if(s==1)i=ph(i,a);else if(s==2){const c=a,u=e[++o];r=ph(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}class Bw extends vu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Fr(e);return new jf(n,this.ngModule)}}function _m(t){const e=[];for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function LM(t){const e=t.toLowerCase();return e==="svg"?Mb:e==="math"?Nb:null}class VM{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=lu(r);const i=this.injector.get(e,Al,r);return i!==Al||n===Al?i:this.parentInjector.get(e,n,r)}}class jf extends Fw{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=_m(e.inputs);if(n!==null)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return _m(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Sb(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof jn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new VM(e,s):e,a=o.get(Uw,null);if(a===null)throw new W(407,!1);const c=o.get(EM,null),u=o.get($w,null),l=o.get(fM,null),h={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:l},d=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",m=r?EP(d,r,this.componentDef.encapsulation,o):Rf(d,f,LM(f));let y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let _=null;m!==null&&(_=mf(m,o,!0));const T=Mf(0,null,null,1,0,null,null,null,null,null,null),C=pu(null,T,null,y,null,null,h,d,o,null,_);cf(C);let S,V;try{const U=this.componentDef;let H,B=null;U.findHostDirectiveDefs?(H=[],B=new Map,U.findHostDirectiveDefs(U,H,B),H.push(U)):H=[U];const O=UM(C,m),fe=jM(O,m,U,H,C,h,d);V=sf(T,Xe),m&&HM(d,U,m,r),n!==void 0&&qM(V,this.ngContentSelectors,n),S=BM(fe,U,H,B,C,[zM]),kf(T,C,null)}finally{uf()}return new FM(this.componentType,S,hf(V,C),C,V)}}class FM extends pM{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ic(i,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(r!==null&&(i=r[e])){if(this.previousInputValues??(this.previousInputValues=new Map),this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Nf(s[ie],s,i,e,n),this.previousInputValues.set(e,n);const o=pr(this._tNode.index,s);xf(o)}}get injector(){return new Ns(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function UM(t,e){const n=t[ie],r=Xe;return t[r]=e,gu(n,r,2,"#host",null)}function jM(t,e,n,r,i,s,o){const a=i[ie];$M(r,t,e,o);let c=null;e!==null&&(c=mf(e,i[xi]));const u=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const h=pu(i,mw(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Mh(a,t,r.length-1),mu(i,h),i[t.index]=h}function $M(t,e,n,r){for(const i of t)e.mergedAttrs=ef(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(xh(e,e.mergedAttrs,!0),n!==null&&cw(r,n,e))}function BM(t,e,n,r,i,s){const o=En(),a=i[ie],c=Bt(o,i);_w(a,i,o,n,null,r);for(let l=0;l<n.length;l++){const h=o.directiveStart+l,d=io(i,a,h,o);Br(d,i)}Ew(a,i,o),c&&Br(c,i);const u=io(i,a,o.directiveStart+o.componentOffset,o);if(t[dt]=i[dt]=u,s!==null)for(const l of s)l(u,e);return fw(a,o,i),u}function HM(t,e,n,r){if(r)gh(t,n,["ng-version","17.2.3"]);else{const{attrs:i,classes:s}=Cb(e.selectors[0]);i&&gh(t,n,i),s&&s.length>0&&aw(t,n,s.join(" "))}}function qM(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(s!=null?Array.from(s):null)}}function zM(){const t=En();If(Pe()[ie],t)}let Hw=(()=>{var t;class e{}return t=e,t.__NG_ELEMENT_ID__=WM,e})();function WM(){const t=En();return KM(t,Pe())}const GM=Hw,qw=class extends GM{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return hf(this._hostTNode,this._hostLView)}get injector(){return new Ns(this._hostTNode,this._hostLView)}get parentInjector(){const e=Sf(this._hostTNode,this._hostLView);if(ME(e)){const n=vc(e,this._hostLView),r=yc(e),i=n[ie].data[r+8];return new Ns(i,n)}else return new Ns(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Em(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);const o=co(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,ao(this._hostTNode,o)),a}createComponent(e,n,r,i,s){const o=e&&!YD(e);let a;if(o)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const c=o?e:new jf(Fr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){const y=(o?u:this.parentInjector).get(jn,null);y&&(s=y)}const l=Fr(c.componentType??{}),h=co(this._lContainer,l?.id??null),d=h?.firstChild??null,f=c.create(u,i,d,s);return this.insertImpl(f.hostView,a,ao(this._hostTNode,h)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(Ob(i)){const a=this.indexOf(e);if(a!==-1)this.detach(a);else{const c=i[st],u=new qw(c,c[Jt],c[st]);u.detach(u.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;return yu(o,i,s,r),e.attachToViewContainerRef(),Y_(Rl(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Em(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=so(this._lContainer,n);r&&(fc(Rl(this._lContainer),n),du(r[ie],r))}detach(e){const n=this._adjustIndex(e,-1),r=so(this._lContainer,n);return r&&fc(Rl(this._lContainer),n)!=null?new Ic(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Em(t){return t[lc]}function Rl(t){return t[lc]||(t[lc]=[])}function KM(t,e){let n;const r=e[t.index];return _n(r)?n=r:(n=ww(r,e,null,t),e[t.index]=n,mu(e,n)),zw(n,e,t,r),new qw(n,t,e)}function QM(t,e){const n=t[Ze],r=n.createComment(""),i=Bt(e,t),s=bf(n,i);return Ec(n,s,r,uP(n,i),!1),r}let zw=Ww,$f=()=>!1;function ZM(t,e,n){return $f(t,e,n)}function Ww(t,e,n,r){if(t[Fn])return;let i;n.type&8?i=Zt(r):i=QM(e,n),t[Fn]=i}function XM(t,e,n){if(t[Fn]&&t[to])return!0;const r=n[Ln],i=e.index-Xe;if(!r||aD(e)||hu(r,i))return!1;const o=Th(r,i),a=r.data[dE]?.[i],[c,u]=lM(o,a);return t[Fn]=c,t[to]=u,!0}function YM(t,e,n,r){$f(t,n,e)||Ww(t,e,n,r)}function JM(){zw=YM,$f=XM}function hH(t){const e=n=>{const r=(Array.isArray(t)?t:t()).map(i=>typeof i=="function"?{directive:Rt(i),inputs:ur,outputs:ur}:{directive:Rt(i.directive),inputs:wm(i.inputs),outputs:wm(i.outputs)});n.hostDirectives===null?(n.findHostDirectiveDefs=Gw,n.hostDirectives=r):n.hostDirectives.unshift(...r)};return e.ngInherit=!0,e}function Gw(t,e,n){if(t.hostDirectives!==null)for(const r of t.hostDirectives){const i=tf(r.directive);eN(i.declaredInputs,r.inputs),Gw(i,e,n),n.set(i,r),e.push(i)}}function wm(t){if(t===void 0||t.length===0)return ur;const e={};for(let n=0;n<t.length;n+=2)e[t[n]]=t[n+1];return e}function eN(t,e){for(const n in e)if(e.hasOwnProperty(n)){const r=e[n],i=t[n];t[r]=i}}class uo{}class Kw{}class tN extends uo{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bw(this);const i=M_(e);this._bootstrapComponents=JE(i.bootstrap),this._r3Injector=BE(e,n,[{provide:uo,useValue:this},{provide:vu,useValue:this.componentFactoryResolver},...r],Ft(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class nN extends Kw{constructor(e){super(),this.moduleType=e}create(e){return new tN(this.moduleType,e,[])}}class Qw extends uo{constructor(e){super(),this.componentFactoryResolver=new Bw(this),this.instance=null;const n=new wf([...e.providers,{provide:uo,useValue:this},{provide:vu,useValue:this.componentFactoryResolver}],e.parent||Ef(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Zw(t,e,n=null){return new Qw({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let _u=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Lt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:t.ɵfac,providedIn:"root"}),e})();function rN(t,e,n){return t[e]=n}function ss(t,e,n){const r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function iN(t,e,n,r,i,s,o,a,c){const u=e.consts,l=gu(e,t,4,o||null,dc(u,a));vw(e,n,l,dc(u,c)),If(e,l);const h=l.tView=Mf(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}function Lh(t,e,n,r,i,s,o,a){const c=Pe(),u=zn(),l=t+Xe,h=u.firstCreatePass?iN(l,u,c,e,n,r,i,s,o):u.data[l];$o(h,!1);const d=Xw(u,c,h,t);lf()&&Df(u,c,d,h),Br(d,c);const f=ww(d,c,d,h);return c[l]=f,mu(c,f),ZM(f,h,c),rf(h)&&pw(u,c,h),o!=null&&gw(c,h,a),Lh}let Xw=Yw;function Yw(t,e,n,r){return rs(!0),e[Ze].createComment("")}function sN(t,e,n,r){const i=e[Ln],s=!i||su()||hu(i,r);if(rs(s),s)return Yw(t,e);const o=i.data[bD]?.[r]??null;o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o);const a=Lf(i,t,e,n);yf(i,r,a);const c=yE(i,r);return Vf(c,a)}function oN(){Xw=sN}function aN(t,e,n,r){return ss(t,ou(),n)?e+uu(n)+r:mr}function Ta(t,e){return t<<17|e<<2}function Hr(t){return t>>17&32767}function cN(t){return(t&2)==2}function uN(t,e){return t&131071|e<<17}function Vh(t){return t|2}function Fi(t){return(t&131068)>>2}function bl(t,e){return t&-131069|e<<2}function lN(t){return(t&1)===1}function Fh(t){return t|1}function hN(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Hr(o),c=Fi(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){const h=n;l=h[1],(l===null||Bo(h,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){const d=Hr(t[a+1]);t[r+1]=Ta(d,a),d!==0&&(t[d+1]=bl(t[d+1],r)),t[a+1]=uN(t[a+1],r)}else t[r+1]=Ta(a,0),a!==0&&(t[a+1]=bl(t[a+1],r)),a=r;else t[r+1]=Ta(c,0),a===0?a=r:t[c+1]=bl(t[c+1],r),c=r;u&&(t[r+1]=Vh(t[r+1])),Im(t,l,r,!0),Im(t,l,r,!1),dN(e,l,t,r,s),o=Ta(a,c),s?e.classBindings=o:e.styleBindings=o}function dN(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Bo(s,e)>=0&&(n[r+1]=Fh(n[r+1]))}function Im(t,e,n,r){const i=t[n+1],s=e===null;let o=r?Hr(i):Fi(i),a=!1;for(;o!==0&&(a===!1||s);){const c=t[o],u=t[o+1];fN(c,e)&&(a=!0,t[o+1]=r?Fh(u):Vh(u)),o=r?Hr(u):Fi(u)}a&&(t[n+1]=r?Vh(i):Fh(i))}function fN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Bo(t,e)>=0:!1}const Gt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pN(t){return t.substring(Gt.key,Gt.keyEnd)}function gN(t){return mN(t),Jw(t,eI(t,0,Gt.textEnd))}function Jw(t,e){const n=Gt.textEnd;return n===e?-1:(e=Gt.keyEnd=yN(t,Gt.key=e,n),eI(t,e,n))}function mN(t){Gt.key=0,Gt.keyEnd=0,Gt.value=0,Gt.valueEnd=0,Gt.textEnd=t.length}function eI(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function yN(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function vN(t,e,n){const r=Pe(),i=ou();if(ss(r,i,e)){const s=zn(),o=tD();RP(s,o,r,t,e,r[Ze],n,!1)}return vN}function Uh(t,e,n,r,i){const s=e.inputs,o=i?"class":"style";Nf(t,n,s[o],o,r)}function dH(t){EN(RN,_N,t,!0)}function _N(t,e){for(let n=gN(e);n>=0;n=Jw(e,n))ff(t,pN(e),!0)}function EN(t,e,n,r){const i=zn(),s=Kb(2);i.firstUpdatePass&&wN(i,null,s,r);const o=Pe();if(n!==mr&&ss(o,s,n)){const a=i.data[Xr()];if(nI(a,r)&&!tI(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=ph(c,n||"")),Uh(i,a,o,n,r)}else bN(i,a,o,o[Ze],o[s+1],o[s+1]=AN(t,e,n),r,s)}}function tI(t,e){return e>=t.expandoStartIndex}function wN(t,e,n,r){const i=t.data;if(i[n+1]===null){const s=i[Xr()],o=tI(t,n);nI(s,r)&&e===null&&!o&&(e=!1),e=IN(i,s,e,r),hN(i,s,e,n,o,r)}}function IN(t,e,n,r){const i=Yb(t);let s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Dl(null,t,e,n,r),n=lo(n,e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Dl(i,t,e,n,r),s===null){let c=TN(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Dl(null,t,e,c[1],r),c=lo(c,e.attrs,r),SN(t,e,r,c))}else s=CN(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function TN(t,e,n){const r=n?e.classBindings:e.styleBindings;if(Fi(r)!==0)return t[Hr(r)]}function SN(t,e,n,r){const i=n?e.classBindings:e.styleBindings;t[Hr(i)]=r}function CN(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){const o=t[s].hostAttrs;r=lo(r,o,n)}return lo(r,e.attrs,n)}function Dl(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=lo(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function lo(t,e,n){const r=n?1:2;let i=-1;if(e!==null)for(let s=0;s<e.length;s++){const o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ff(t,o,n?!0:e[++s]))}return t===void 0?null:t}function AN(t,e,n){if(n==null||n==="")return At;const r=[],i=Yn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function RN(t,e,n){const r=String(e);r!==""&&!r.includes(" ")&&ff(t,r,n)}function bN(t,e,n,r,i,s,o,a){i===mr&&(i=At);let c=0,u=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;l!==null||h!==null;){const d=c<i.length?i[c+1]:void 0,f=u<s.length?s[u+1]:void 0;let m=null,y;l===h?(c+=2,u+=2,d!==f&&(m=h,y=f)):h===null||l!==null&&l<h?(c+=2,m=l):(u+=2,m=h,y=f),m!==null&&DN(t,e,n,r,m,y,o,a),l=c<i.length?i[c]:null,h=u<s.length?s[u]:null}}function DN(t,e,n,r,i,s,o,a){if(!(e.type&3))return;const c=t.data,u=c[a+1],l=lN(u)?Tm(c,e,n,i,Fi(u),o):void 0;if(!Sc(l)){Sc(s)||cN(u)&&(s=Tm(c,null,n,i,a,o));const h=F_(Xr(),n);gP(r,o,h,i,s)}}function Tm(t,e,n,r,i,s){const o=e===null;let a;for(;i>0;){const c=t[i],u=Array.isArray(c),l=u?c[1]:c,h=l===null;let d=n[i+1];d===mr&&(d=h?At:void 0);let f=h?vl(d,r):l===r?d:void 0;if(u&&!Sc(f)&&(f=vl(c,r)),Sc(f)&&(a=f,o))return a;const m=t[i+1];i=o?Hr(m):Fi(m)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=vl(c,r))}return a}function Sc(t){return t!==void 0}function nI(t,e){return(t.flags&(e?8:16))!==0}class PN{destroy(e){}updateValue(e,n){}swap(e,n){const r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){const o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}}function Pl(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function MN(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){const c=t.at(s),u=e[s],l=Pl(s,c,s,u,n);if(l!==0){l<0&&t.updateValue(s,u),s++;continue}const h=t.at(o),d=e[a],f=Pl(o,h,a,d,n);if(f!==0){f<0&&t.updateValue(o,d),o--,a--;continue}const m=n(s,c),y=n(o,h),_=n(s,u);if(Object.is(_,y)){const T=n(a,d);Object.is(T,m)?(t.swap(s,o),t.updateValue(o,d),a--,o--):t.move(o,s),t.updateValue(s,u),s++;continue}if(r??(r=new Am),i??(i=Cm(t,s,o,n)),jh(t,r,s,_))t.updateValue(s,u),s++,o++;else if(i.has(_))r.set(m,t.detach(s)),o--;else{const T=t.create(s,e[s]);t.attach(s,T),s++,o++}}for(;s<=a;)Sm(t,r,n,s,e[s]),s++}else if(e!=null){const a=e[Symbol.iterator]();let c=a.next();for(;!c.done&&s<=o;){const u=t.at(s),l=c.value,h=Pl(s,u,s,l,n);if(h!==0)h<0&&t.updateValue(s,l),s++,c=a.next();else{r??(r=new Am),i??(i=Cm(t,s,o,n));const d=n(s,l);if(jh(t,r,s,d))t.updateValue(s,l),s++,o++,c=a.next();else if(!i.has(d))t.attach(s,t.create(s,l)),s++,o++,c=a.next();else{const f=n(s,u);r.set(f,t.detach(s)),o--}}}for(;!c.done;)Sm(t,r,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function jh(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function Sm(t,e,n,r,i){if(jh(t,e,r,n(r,i)))t.updateValue(r,i);else{const s=t.create(r,i);t.attach(r,s)}}function Cm(t,e,n,r){const i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}class Am{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;const n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);const i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){const i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}}function fH(t,e,n){ti("NgControlFlow");const r=Pe(),i=ou(),s=$h(r,Xe+t),o=0;if(ss(r,i,e)){const a=Ke(null);try{if(Cw(s,o),e!==-1){const c=Bh(r[ie],Xe+e),u=co(s,c.tView.ssrId),l=Of(r,c,n,{dehydratedView:u});yu(s,l,o,ao(c,u))}}finally{Ke(a)}}else{const a=Sw(s,o);a!==void 0&&(a[dt]=n)}}class NN{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ft}}class kN{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}}function pH(t,e,n,r,i,s,o,a,c,u,l,h,d){ti("NgControlFlow");const f=c!==void 0,m=Pe(),y=a?o.bind(m[Nt][dt]):o,_=new kN(f,y);m[Xe+t]=_,Lh(t+1,e,n,r,i,s),f&&Lh(t+2,c,u,l,h,d)}class ON extends PN{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ft}at(e){return this.getLView(e)[dt].$implicit}attach(e,n){const r=n[Ln];this.needsIndexUpdate||(this.needsIndexUpdate=e!==this.length),yu(this.lContainer,n,e,ao(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||(this.needsIndexUpdate=e!==this.length-1),xN(this.lContainer,e)}create(e,n){const r=co(this.lContainer,this.templateTNode.tView.ssrId);return Of(this.hostLView,this.templateTNode,new NN(this.lContainer,n,e),{dehydratedView:r})}destroy(e){du(e[ie],e)}updateValue(e,n){this.getLView(e)[dt].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[dt].$index=e}getLView(e){return LN(this.lContainer,e)}}function gH(t){const e=Ke(null),n=Xr();try{const r=Pe(),i=r[ie],s=r[n];if(s.liveCollection===void 0){const a=n+1,c=$h(r,a),u=Bh(i,a);s.liveCollection=new ON(c,r,u)}else s.liveCollection.reset();const o=s.liveCollection;if(MN(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){const a=ou(),c=o.length===0;if(ss(r,a,c)){const u=n+2,l=$h(r,u);if(c){const h=Bh(i,u),d=co(l,h.tView.ssrId),f=Of(r,h,void 0,{dehydratedView:d});yu(l,f,0,ao(h,d))}else Cw(l,0)}}}finally{Ke(e)}}function $h(t,e){return t[e]}function xN(t,e){return so(t,e)}function LN(t,e){return Sw(t,e)}function Bh(t,e){return sf(t,e)}function VN(t,e,n,r,i,s){const o=e.consts,a=dc(o,i),c=gu(e,t,2,r,a);return vw(e,n,c,dc(o,s)),c.attrs!==null&&xh(c,c.attrs,!1),c.mergedAttrs!==null&&xh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function rI(t,e,n,r){const i=Pe(),s=zn(),o=Xe+t,a=i[Ze],c=s.firstCreatePass?VN(o,s,i,e,n,r):s.data[o],u=sI(s,i,c,a,e,t);i[o]=u;const l=rf(c);return $o(c,!0),cw(a,u,c),(c.flags&32)!==32&&lf()&&Df(s,i,u,c),Fb()===0&&Br(u,i),Ub(),l&&(pw(s,i,c),fw(s,c,i)),r!==null&&gw(i,c),rI}function iI(){let t=En();B_()?zb():(t=t.parent,$o(t,!1));const e=t;$b(e)&&Hb(),jb();const n=zn();return n.firstCreatePass&&(If(n,t),L_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&o0(e)&&Uh(n,e,Pe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&a0(e)&&Uh(n,e,Pe(),e.stylesWithoutHost,!1),iI}function Bf(t,e,n,r){return rI(t,e,n,r),iI(),Bf}let sI=(t,e,n,r,i,s)=>(rs(!0),Rf(r,i,Q_()));function FN(t,e,n,r,i,s){const o=e[Ln],a=!o||su()||hu(o,s);if(rs(a),a)return Rf(r,i,Q_());const c=Lf(o,t,e,n);return mE(o,s)&&yf(o,s,c.nextSibling),o&&(J_(n)||eE(c))&&Uo(n)&&(Bb(n),ow(c)),c}function UN(){sI=FN}function mH(){return Pe()}const Hh="en-US";function jN(t){typeof t=="string"&&t.toLowerCase().replace(/_/g,"-")}function $N(t,e,n,r){const i=Pe(),s=zn(),o=En();return HN(s,i,i[Ze],o,t,e,r),$N}function BN(t,e,n,r){const i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Js],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function HN(t,e,n,r,i,s,o){const a=rf(r),u=t.firstCreatePass&&BP(t),l=e[dt],h=$P(e);let d=!0;if(r.type&3||o){const y=Bt(r,e),_=o?o(y):y,T=h.length,C=o?V=>o(Zt(V[r.index])):r.index;let S=null;if(!o&&a&&(S=BN(t,e,i,r.index)),S!==null){const V=S.__ngLastListenerFn__||S;V.__ngNextListenerFn__=s,S.__ngLastListenerFn__=s,d=!1}else{s=bm(r,e,l,s,!1);const V=n.listen(_,i,s);h.push(s,V),u&&u.push(i,C,T,T+1)}}else s=bm(r,e,l,s,!1);const f=r.outputs;let m;if(d&&f!==null&&(m=f[i])){const y=m.length;if(y)for(let _=0;_<y;_+=2){const T=m[_],C=m[_+1],U=e[T][C].subscribe(s),H=h.length;if(h.push(s,U),u){const B=typeof U=="function"?H+1:-(H+1);u.push(i,r.index,H,B)}}}}function Rm(t,e,n,r){try{return sn(6,e,n),n(r)!==!1}catch(i){return Tw(t,i),!1}finally{sn(7,e,n)}}function bm(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=t.componentOffset>-1?pr(t.index,e):e;xf(a);let c=Rm(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=Rm(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function yH(t=1){return eD(t)}function qN(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function vH(t,e=""){const n=Pe(),r=zn(),i=t+Xe,s=r.firstCreatePass?gu(r,i,1,e,null):r.data[i],o=oI(r,n,s,e,t);n[i]=o,lf()&&Df(r,n,o,s),$o(s,!1)}let oI=(t,e,n,r,i)=>(rs(!0),ew(e[Ze],r));function zN(t,e,n,r,i){const s=e[Ln],o=!s||su()||hu(s,i);return rs(o),o?ew(e[Ze],r):Lf(s,t,e,n)}function WN(){oI=zN}function GN(t){return aI("",t,""),GN}function aI(t,e,n){const r=Pe(),i=aN(r,t,e,n);return i!==mr&&HP(r,Xr(),i),aI}let KN=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=IE(!1,r.type),s=i.length>0?Zw([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}}return t=e,t.ɵprov=q({token:t,providedIn:"environment",factory:()=>new t(te(jn))}),e})();function cI(t){ti("NgStandalone"),t.getStandaloneInjector=e=>e.get(KN).getOrCreateStandaloneInjector(t)}function QN(t,e){const n=t[e];return n===mr?void 0:n}function ZN(t,e,n,r,i,s){const o=e+n;return ss(t,o,i)?rN(t,o+1,s?r.call(s,i):r(i)):QN(t,o+1)}function _H(t,e){const n=zn();let r;const i=t+Xe;n.firstCreatePass?(r=XN(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=$r(r.type,!0));let o;const a=St(oo);try{const c=_c(!1),u=s();return _c(c),qN(n,Pe(),i,u),u}finally{St(a)}}function XN(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}function EH(t,e,n){const r=t+Xe,i=Pe(),s=kb(i,r);return YN(i,r)?ZN(i,Wb(),e,s.transform,n,s):s.transform(n)}function YN(t,e){return t[ie].data[e].pure}class uI{constructor(e){this.full=e;const n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const JN=new uI("17.2.3");let ek=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:t.ɵfac,providedIn:"platform"}),e})();const tk=new se("");function Eu(t){return!!t&&typeof t.then=="function"}function lI(t){return!!t&&typeof t.subscribe=="function"}const nk=new se("");let hI=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=b(nk,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(Eu(o))r.push(o);else if(lI(o)){const a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:t.ɵfac,providedIn:"root"}),e})();const wu=new se("");function rk(){JA(()=>{throw new W(600,!1)})}function ik(t){return t.isBoundToModule}function sk(t,e,n){try{const r=n();return Eu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}let Wo=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=b(HE),this.afterRenderEffectManager=b($w),this.componentTypes=[],this.components=[],this.isStable=b(_u).hasPendingTasks.pipe(ye(r=>!r)),this._injector=b(jn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof Fw;if(!this._injector.get(hI).done){const f=!s&&Db(r),m=!1;throw new W(405,m)}let a;s?a=r:a=this._injector.get(vu).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=ik(a)?void 0:this._injector.get(uo),u=i||a.selector,l=a.create(Wn.NULL,[],u,c),h=l.location.nativeElement,d=l.injector.get(tk,null);return d?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Ml(this.components,l),d?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new W(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let r=0;const i=this.afterRenderEffectManager;for(;;){if(r===Pw)throw new W(103,!1);const s=r===0;for(let{_lView:o,notifyErrorHandler:a}of this._views)!s&&!Nl(o)||this.detectChangesInView(o,a,s);if(r++,i.executeInternalCallbacks(),!this._views.some(({_lView:o})=>Nl(o))&&(i.execute(),!this._views.some(({_lView:o})=>Nl(o))))break}}detectChangesInView(r,i,s){let o;s?(o=0,r[G]|=1024):r[G]&64?o=0:o=1,Mw(r,i,o)}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Ml(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(wu,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ml(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new W(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:t.ɵfac,providedIn:"root"}),e})();function Ml(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Sa;function dI(t){Sa??(Sa=new WeakMap);const e=Sa.get(t);if(e)return e;const n=t.isStable.pipe(fr(r=>r)).toPromise().then(()=>{});return Sa.set(t,n),t.onDestroy(()=>Sa?.delete(t)),n}function Nl(t){return af(t)}class ok{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let ak=(()=>{var t;class e{compileModuleSync(r){return new nN(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),s=M_(r),o=JE(s.declarations).reduce((a,c)=>{const u=Fr(c);return u&&a.push(new jf(u)),a},[]);return new ok(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:t.ɵfac,providedIn:"root"}),e})(),ck=(()=>{var t;class e{constructor(){this.zone=b(Me),this.applicationRef=b(Wo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:t.ɵfac,providedIn:"root"}),e})();function uk(t){return[{provide:Me,useFactory:t},{provide:Vi,multi:!0,useFactory:()=>{const e=b(ck,{optional:!0});return()=>e.initialize()}},{provide:Vi,multi:!0,useFactory:()=>{const e=b(fk);return()=>{e.initialize()}}},{provide:HE,useFactory:lk}]}function lk(){const t=b(Me),e=b(Jr);return n=>t.runOutsideAngular(()=>e.handleError(n))}function hk(t){const e=uk(()=>new Me(dk(t)));return is([[],e])}function dk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let fk=(()=>{var t;class e{constructor(){this.subscription=new pn,this.initialized=!1,this.zone=b(Me),this.pendingTasks=b(_u)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Me.assertInAngularZone(),r??(r=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:t.ɵfac,providedIn:"root"}),e})();function pk(){return typeof $localize<"u"&&$localize.locale||Hh}const fI=new se("",{providedIn:"root",factory:()=>b(fI,ue.Optional|ue.SkipSelf)||pk()}),pI=new se("");let qa=null;function gk(t=[],e){return Wn.create({name:e,providers:[{provide:_f,useValue:"platform"},{provide:pI,useValue:new Set([()=>qa=null])},...t]})}function mk(t=[]){if(qa)return qa;const e=gk(t);return qa=e,rk(),yk(e),e}function yk(t){t.get(rE,null)?.forEach(n=>n())}function wH(){return!1}function vk(t){try{const{rootComponent:e,appProviders:n,platformProviders:r}=t,i=mk(r),s=[hk(),...n||[]],a=new Qw({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Me);return c.run(()=>{a.resolveInjectorInitializers();const u=a.get(Jr,null);let l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});const h=()=>a.destroy(),d=i.get(pI);return d.add(h),a.onDestroy(()=>{l.unsubscribe(),d.delete(h)}),sk(u,c,()=>{const f=a.get(hI);return f.runInitializers(),f.donePromise.then(()=>{const m=a.get(fI,Hh);jN(m||Hh);const y=a.get(Wo);return e!==void 0&&y.bootstrap(e),y})})})}catch(e){return Promise.reject(e)}}let Dm=!1;function _k(){Dm||(Dm=!0,xD(),UN(),WN(),oN(),JM(),dM(),TP())}function Ek(t,e){return dI(t)}function wk(){return is([{provide:Ea,useFactory:()=>{let t=!0;return Ia()&&(t=!!b(qo,{optional:!0})?.get(pE,null)),t&&ti("NgHydration"),t}},{provide:Vi,useValue:()=>{Ia()&&b(Ea)&&(Ik(),_k())},multi:!0},{provide:zE,useFactory:()=>Ia()&&b(Ea)},{provide:wu,useFactory:()=>{if(Ia()&&b(Ea)){const t=b(Wo),e=b(Wn);return()=>{Ek(t,e).then(()=>{Me.assertInAngularZone(),iM(t)})}}return()=>{}},multi:!0}])}function Ik(){const t=Ho();let e;for(const n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===kD){e=n;break}if(!e)throw new W(-507,!1)}let gI=null;function Ci(){return gI}function Tk(t){gI??(gI=t)}class Sk{}const kt=new se("");let mI=(()=>{var t;class e{historyGo(r){throw new Error("")}}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:()=>b(Ck),providedIn:"platform"}),e})(),Ck=(()=>{var t;class e extends mI{constructor(){super(),this._doc=b(kt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ci().getBaseHref(this._doc)}onPopState(r){const i=Ci().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Ci().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:()=>new t,providedIn:"platform"}),e})();function yI(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Pm(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function br(t){return t&&t[0]!=="?"?"?"+t:t}let Hf=(()=>{var t;class e{historyGo(r){throw new Error("")}}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:()=>b(Rk),providedIn:"root"}),e})();const Ak=new se("");let Rk=(()=>{var t;class e extends Hf{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??b(kt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return yI(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+br(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+br(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+br(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return t=e,t.ɵfac=function(r){return new(r||t)(te(mI),te(Ak,8))},t.ɵprov=q({token:t,factory:t.ɵfac,providedIn:"root"}),e})(),Iu=(()=>{var t;class e{constructor(r){this._subject=new An,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=Pk(Pm(Mm(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+br(i))}normalize(r){return e.stripTrailingSlash(Dk(this._basePath,Mm(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+br(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+br(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return t=e,t.normalizeQueryParams=br,t.joinWithSlash=yI,t.stripTrailingSlash=Pm,t.ɵfac=function(r){return new(r||t)(te(Hf))},t.ɵprov=q({token:t,factory:()=>bk(),providedIn:"root"}),e})();function bk(){return new Iu(te(Hf))}function Dk(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Mm(t){return t.replace(/\/index.html$/,"")}function Pk(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}function vI(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const kl=/\s+/,Nm=[];let IH=(()=>{var t;class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=Nm,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(kl):Nm}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(kl):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(r!=null)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(kl).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return t=e,t.ɵfac=function(r){return new(r||t)(oo(X_),oo(vM))},t.ɵdir=D_({type:t,selectors:[["","ngClass",""]],inputs:{klass:[Vr.None,"class","klass"],ngClass:"ngClass"},standalone:!0}),e})();function Mk(t,e){return new W(2100,!1)}class Nk{createSubscription(e,n){return gm(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){gm(()=>e.unsubscribe())}}class kk{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const Ok=new kk,xk=new Nk;let TH=(()=>{var t;class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Eu(r))return Ok;if(lI(r))return xk;throw Mk(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}}return t=e,t.ɵfac=function(r){return new(r||t)(oo(Ff,16))},t.ɵpipe=bb({name:"async",type:t,pure:!1,standalone:!0}),e})(),SH=(()=>{var t;class e{}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵmod=tu({type:t}),t.ɵinj=au({}),e})();const _I="browser",Lk="server";function CH(t){return t===_I}function EI(t){return t===Lk}class wI{}class qf{}class zf{}class Ut{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ut?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Ut;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ut?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);const i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class Vk{encodeKey(e){return km(e)}encodeValue(e){return km(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function Fk(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}const Uk=/%(\d[a-f0-9])/gi,jk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function km(t){return encodeURIComponent(t).replace(Uk,(e,n)=>jk[n]??e)}function Ca(t){return`${t}`}class nr{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Vk,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Fk(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(Ca):[Ca(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){const n=new nr({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Ca(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[];const i=r.indexOf(Ca(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}}class $k{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Bk(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Om(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function xm(t){return typeof Blob<"u"&&t instanceof Blob}function Lm(t){return typeof FormData<"u"&&t instanceof FormData}function Hk(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}class ks{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(Bk(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??(this.headers=new Ut),this.context??(this.context=new $k),!this.params)this.params=new nr,this.urlWithParams=n;else{const o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{const a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:Om(this.body)||xm(this.body)||Lm(this.body)||Hk(this.body)||typeof this.body=="string"?this.body:this.body instanceof nr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Lm(this.body)?null:xm(this.body)?this.body.type||null:Om(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof nr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const l=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((h,d)=>h.set(d,e.setHeaders[d]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((h,d)=>h.set(d,e.setParams[d]),u)),new ks(n,r,s,{params:u,headers:c,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var rr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(rr||{});class Wf{constructor(e,n=ho.Ok,r="OK"){this.headers=e.headers||new Ut,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Tu extends Wf{constructor(e={}){super(e),this.type=rr.ResponseHeader}clone(e={}){return new Tu({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class qr extends Wf{constructor(e={}){super(e),this.type=rr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new qr({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class mi extends Wf{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}var ho=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(ho||{});function Ol(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}let II=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof ks)o=r;else{let u;s.headers instanceof Ut?u=s.headers:u=new Ut(s.headers);let l;s.params&&(s.params instanceof nr?l=s.params:l=new nr({fromObject:s.params})),o=new ks(r,i,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}const a=ee(o).pipe(Ys(u=>this.handler.handle(u)));if(r instanceof ks||s.observe==="events")return a;const c=a.pipe(xn(u=>u instanceof qr));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(ye(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(ye(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(ye(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(ye(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new nr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Ol(s,i))}post(r,i,s={}){return this.request("POST",r,Ol(s,i))}put(r,i,s={}){return this.request("PUT",r,Ol(s,i))}}return t=e,t.ɵfac=function(r){return new(r||t)(te(qf))},t.ɵprov=q({token:t,factory:t.ɵfac}),e})();const qk=/^\)\]\}',?\n/,zk="X-Request-URL";function Vm(t){if(t.url)return t.url;const e=zk.toLocaleLowerCase();return t.headers.get(e)}let xl=(()=>{var t;class e{constructor(){this.fetchImpl=b(Wk,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=b(Me)}handle(r){return new Le(i=>{const s=new AbortController;return this.doRequest(r,s.signal,i).then(qh,o=>i.error(new mi({error:o}))),()=>s.abort()})}doRequest(r,i,s){return g(this,null,function*(){const o=this.createRequestInit(r);let a;try{const m=this.fetchImpl(r.urlWithParams,{signal:i,...o});Gk(m),s.next({type:rr.Sent}),a=yield m}catch(m){s.error(new mi({error:m,status:m.status??0,statusText:m.statusText,url:r.urlWithParams,headers:m.headers}));return}const c=new Ut(a.headers),u=a.statusText,l=Vm(a)??r.urlWithParams;let h=a.status,d=null;if(r.reportProgress&&s.next(new Tu({headers:c,status:h,statusText:u,url:l})),a.body){const m=a.headers.get("content-length"),y=[],_=a.body.getReader();let T=0,C,S;const V=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>g(this,null,function*(){for(;;){const{done:H,value:B}=yield _.read();if(H)break;if(y.push(B),T+=B.length,r.reportProgress){S=r.responseType==="text"?(S??"")+(C??(C=new TextDecoder)).decode(B,{stream:!0}):void 0;const O=()=>s.next({type:rr.DownloadProgress,total:m?+m:void 0,loaded:T,partialText:S});V?V.run(O):O()}}}));const U=this.concatChunks(y,T);try{const H=a.headers.get("Content-Type")??"";d=this.parseBody(r,U,H)}catch(H){s.error(new mi({error:H,headers:new Ut(a.headers),status:a.status,statusText:a.statusText,url:Vm(a)??r.urlWithParams}));return}}h===0&&(h=d?ho.Ok:0),h>=200&&h<300?(s.next(new qr({body:d,headers:c,status:h,statusText:u,url:l})),s.complete()):s.error(new mi({error:d,headers:c,status:h,statusText:u,url:l}))})}parseBody(r,i,s){switch(r.responseType){case"json":const o=new TextDecoder().decode(i).replace(qk,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:s});case"arraybuffer":return i.buffer}}createRequestInit(r){const i={},s=r.withCredentials?"include":void 0;if(r.headers.forEach((o,a)=>i[o]=a.join(",")),i.Accept??(i.Accept="application/json, text/plain, */*"),!i["Content-Type"]){const o=r.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:s}}concatChunks(r,i){const s=new Uint8Array(i);let o=0;for(const a of r)s.set(a,o),o+=a.length;return s}}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:t.ɵfac}),e})();class Wk{}function qh(){}function Gk(t){t.then(qh,qh)}function Kk(t,e){return e(t)}function Qk(t,e,n){return(r,i)=>Yr(n,()=>e(r,s=>t(s,i)))}const TI=new se(""),SI=new se(""),CI=new se("");let Fm=(()=>{var t;class e extends qf{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=b(_u);const s=b(CI,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){const s=Array.from(new Set([...this.injector.get(TI),...this.injector.get(SI,[])]));this.chain=s.reduceRight((o,a)=>Qk(o,a,this.injector),Kk)}const i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(cc(()=>this.pendingTasks.remove(i)))}}return t=e,t.ɵfac=function(r){return new(r||t)(te(zf),te(jn))},t.ɵprov=q({token:t,factory:t.ɵfac}),e})();const Zk=/^\)\]\}',?\n/;function Xk(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}let Um=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new W(-2800,!1);const i=this.xhrFactory;return(i.ɵloadImpl?It(i.ɵloadImpl()):ee(null)).pipe(nn(()=>new Le(o=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((_,T)=>a.setRequestHeader(_,T.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const _=r.detectContentTypeHeader();_!==null&&a.setRequestHeader("Content-Type",_)}if(r.responseType){const _=r.responseType.toLowerCase();a.responseType=_!=="json"?_:"text"}const c=r.serializeBody();let u=null;const l=()=>{if(u!==null)return u;const _=a.statusText||"OK",T=new Ut(a.getAllResponseHeaders()),C=Xk(a)||r.url;return u=new Tu({headers:T,status:a.status,statusText:_,url:C}),u},h=()=>{let{headers:_,status:T,statusText:C,url:S}=l(),V=null;T!==ho.NoContent&&(V=typeof a.response>"u"?a.responseText:a.response),T===0&&(T=V?ho.Ok:0);let U=T>=200&&T<300;if(r.responseType==="json"&&typeof V=="string"){const H=V;V=V.replace(Zk,"");try{V=V!==""?JSON.parse(V):null}catch(B){V=H,U&&(U=!1,V={error:B,text:V})}}U?(o.next(new qr({body:V,headers:_,status:T,statusText:C,url:S||void 0})),o.complete()):o.error(new mi({error:V,headers:_,status:T,statusText:C,url:S||void 0}))},d=_=>{const{url:T}=l(),C=new mi({error:_,status:a.status||0,statusText:a.statusText||"Unknown Error",url:T||void 0});o.error(C)};let f=!1;const m=_=>{f||(o.next(l()),f=!0);let T={type:rr.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(T.total=_.total),r.responseType==="text"&&a.responseText&&(T.partialText=a.responseText),o.next(T)},y=_=>{let T={type:rr.UploadProgress,loaded:_.loaded};_.lengthComputable&&(T.total=_.total),o.next(T)};return a.addEventListener("load",h),a.addEventListener("error",d),a.addEventListener("timeout",d),a.addEventListener("abort",d),r.reportProgress&&(a.addEventListener("progress",m),c!==null&&a.upload&&a.upload.addEventListener("progress",y)),a.send(c),o.next({type:rr.Sent}),()=>{a.removeEventListener("error",d),a.removeEventListener("abort",d),a.removeEventListener("load",h),a.removeEventListener("timeout",d),r.reportProgress&&(a.removeEventListener("progress",m),c!==null&&a.upload&&a.upload.removeEventListener("progress",y)),a.readyState!==a.DONE&&a.abort()}})))}}return t=e,t.ɵfac=function(r){return new(r||t)(te(wI))},t.ɵprov=q({token:t,factory:t.ɵfac}),e})();const AI=new se(""),Yk="XSRF-TOKEN",Jk=new se("",{providedIn:"root",factory:()=>Yk}),eO="X-XSRF-TOKEN",tO=new se("",{providedIn:"root",factory:()=>eO});class RI{}let nO=(()=>{var t;class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=vI(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return t=e,t.ɵfac=function(r){return new(r||t)(te(kt),te(gr),te(Jk))},t.ɵprov=q({token:t,factory:t.ɵfac}),e})();function rO(t,e){const n=t.url.toLowerCase();if(!b(AI)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=b(RI).getToken(),i=b(tO);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var bI=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(bI||{});function iO(t,e){return{ɵkind:t,ɵproviders:e}}function sO(...t){const e=[II,Um,Fm,{provide:qf,useExisting:Fm},{provide:zf,useExisting:Um},{provide:TI,useValue:rO,multi:!0},{provide:AI,useValue:!0},{provide:RI,useClass:nO}];for(const n of t)e.push(...n.ɵproviders);return is(e)}function oO(){return iO(bI.Fetch,[xl,{provide:zf,useExisting:xl},{provide:CI,useExisting:xl}])}const jm="b",$m="h",Bm="s",Hm="st",qm="u",zm="rt",za=new se(""),aO=["GET","HEAD"];function cO(t,e){const{isCacheActive:n,...r}=b(za),{transferCache:i,method:s}=t;if(!n||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!aO.includes(s)||i===!1||r.filter?.(t)===!1)return e(t);const o=b(qo),a=lO(t),c=o.get(a,null);let u=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(u=i.includeHeaders),c){const{[jm]:l,[zm]:h,[$m]:d,[Bm]:f,[Hm]:m,[qm]:y}=c;let _=l;switch(h){case"arraybuffer":_=new TextEncoder().encode(l).buffer;break;case"blob":_=new Blob([l]);break}let T=new Ut(d);return ee(new qr({body:_,headers:T,status:f,statusText:m,url:y}))}return e(t).pipe(qe(l=>{l instanceof qr&&o.set(a,{[jm]:l.body,[$m]:uO(l.headers,u),[Bm]:l.status,[Hm]:l.statusText,[qm]:l.url||"",[zm]:t.responseType})}))}function uO(t,e){if(!e)return{};const n={};for(const r of e){const i=t.getAll(r);i!==null&&(n[r]=i)}return n}function lO(t){const{params:e,method:n,responseType:r,url:i,body:s}=t,o=e.keys().sort().map(l=>`${l}=${e.getAll(l)}`).join("&"),c=[n,r,i,typeof s=="string"?s:"",o].join("|"),u=hO(c);return u}function hO(t){let e=0;for(const n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function dO(t){return[{provide:za,useFactory:()=>(ti("NgHttpTransferCache"),{isCacheActive:!0,...t})},{provide:SI,useValue:cO,multi:!0,deps:[qo,za]},{provide:wu,multi:!0,useFactory:()=>{const e=b(Wo),n=b(za);return()=>{dI(e).then(()=>{n.isCacheActive=!1})}}}]}class fO extends Sk{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Gf extends fO{static makeCurrent(){Tk(new Gf)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){const n=pO();return n==null?null:gO(n)}resetBaseElement(){ws=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return vI(document.cookie,e)}}let ws=null;function pO(){return ws=ws||document.querySelector("base"),ws?ws.getAttribute("href"):null}function gO(t){return new URL(t,document.baseURI).pathname}let mO=(()=>{var t;class e{build(){return new XMLHttpRequest}}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:t.ɵfac}),e})();const zh=new se("");let DI=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new W(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return t=e,t.ɵfac=function(r){return new(r||t)(te(zh),te(Me))},t.ɵprov=q({token:t,factory:t.ɵfac}),e})();class PI{constructor(e){this._doc=e}}const Ll="ng-app-id";let MI=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=EI(o),this.resetHostNodes()}addStyles(r){for(const i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${Ll}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Ll),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Ll,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return t=e,t.ɵfac=function(r){return new(r||t)(te(kt),te(pf),te(iE,8),te(gr))},t.ɵprov=q({token:t,factory:t.ɵfac}),e})();const Vl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Kf=/%COMP%/g,NI="%COMP%",yO=`_nghost-${NI}`,vO=`_ngcontent-${NI}`,_O=!0,EO=new se("",{providedIn:"root",factory:()=>_O});function wO(t){return vO.replace(Kf,t)}function IO(t){return yO.replace(Kf,t)}function kI(t,e){return e.map(n=>n.replace(Kf,t))}let Wm=(()=>{var t;class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=EI(c),this.defaultRenderer=new Qf(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Rn.ShadowDom&&(i={...i,encapsulation:Rn.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof Km?s.applyToHost(r):s instanceof Wh&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Rn.Emulated:o=new Km(u,l,i,this.appId,h,a,c,d);break;case Rn.ShadowDom:return new TO(u,l,r,i,a,c,this.nonce,d);default:o=new Wh(u,l,i,h,a,c,d);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return t=e,t.ɵfac=function(r){return new(r||t)(te(DI),te(MI),te(pf),te(EO),te(kt),te(gr),te(Me),te(iE))},t.ɵprov=q({token:t,factory:t.ɵfac}),e})();class Qf{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Vl[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Gm(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Gm(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new W(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Vl[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Vl[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Rr.DashCase|Rr.Important)?e.style.setProperty(n,r,i&Rr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Rr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ci().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}}function Gm(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}class TO extends Qf{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=kI(i.id,i.styles);for(const l of u){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=l,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Wh extends Qf{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?kI(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Km extends Wh{constructor(e,n,r,i,s,o,a,c){const u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=wO(u),this.hostAttr=IO(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let SO=(()=>{var t;class e extends PI{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return t=e,t.ɵfac=function(r){return new(r||t)(te(kt))},t.ɵprov=q({token:t,factory:t.ɵfac}),e})();const Qm=["alt","control","meta","shift"],CO={"\b":"Backspace","	":"Tab","":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},AO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let RO=(()=>{var t;class e extends PI{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ci().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;const o=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),Qm.forEach(l=>{const h=i.indexOf(l);h>-1&&(i.splice(h,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;const u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=CO[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Qm.forEach(a=>{if(a!==s){const c=AO[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}}return t=e,t.ɵfac=function(r){return new(r||t)(te(kt))},t.ɵprov=q({token:t,factory:t.ɵfac}),e})();function bO(t,e){return vk({rootComponent:t,...DO(e)})}function DO(t){return{appProviders:[...OO,...t?.providers??[]],platformProviders:kO}}function PO(){Gf.makeCurrent()}function MO(){return new Jr}function NO(){return cD(document),document}const kO=[{provide:gr,useValue:_I},{provide:rE,useValue:PO,multi:!0},{provide:kt,useFactory:NO,deps:[]}];const OO=[{provide:_f,useValue:"root"},{provide:Jr,useFactory:MO,deps:[]},{provide:zh,useClass:SO,multi:!0,deps:[kt,Me,gr]},{provide:zh,useClass:RO,multi:!0,deps:[kt]},Wm,MI,DI,{provide:Uw,useExisting:Wm},{provide:wI,useClass:mO,deps:[]},[]];let xO=(()=>{var t;class e{constructor(r){this._doc=r,this._dom=Ci()}addTag(r,i=!1){return r?this._getOrCreateElement(r,i):null}addTags(r,i=!1){return r?r.reduce((s,o)=>(o&&s.push(this._getOrCreateElement(o,i)),s),[]):[]}getTag(r){return r&&this._doc.querySelector(`meta[${r}]`)||null}getTags(r){if(!r)return[];const i=this._doc.querySelectorAll(`meta[${r}]`);return i?[].slice.call(i):[]}updateTag(r,i){if(!r)return null;i=i||this._parseSelector(r);const s=this.getTag(i);return s?this._setMetaElementAttributes(r,s):this._getOrCreateElement(r,!0)}removeTag(r){this.removeTagElement(this.getTag(r))}removeTagElement(r){r&&this._dom.remove(r)}_getOrCreateElement(r,i=!1){if(!i){const a=this._parseSelector(r),c=this.getTags(a).filter(u=>this._containsAttributes(r,u))[0];if(c!==void 0)return c}const s=this._dom.createElement("meta");return this._setMetaElementAttributes(r,s),this._doc.getElementsByTagName("head")[0].appendChild(s),s}_setMetaElementAttributes(r,i){return Object.keys(r).forEach(s=>i.setAttribute(this._getMetaKeyMap(s),r[s])),i}_parseSelector(r){const i=r.name?"name":"property";return`${i}="${r[i]}"`}_containsAttributes(r,i){return Object.keys(r).every(s=>i.getAttribute(this._getMetaKeyMap(s))===r[s])}_getMetaKeyMap(r){return LO[r]||r}}return t=e,t.ɵfac=function(r){return new(r||t)(te(kt))},t.ɵprov=q({token:t,factory:t.ɵfac,providedIn:"root"}),e})();const LO={httpEquiv:"http-equiv"};let VO=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return t=e,t.ɵfac=function(r){return new(r||t)(te(kt))},t.ɵprov=q({token:t,factory:t.ɵfac,providedIn:"root"}),e})(),FO=(()=>{var t;class e{}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=te(UO),i},providedIn:"root"}),e})(),UO=(()=>{var t;class e extends FO{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case In.NONE:return i;case In.HTML:return Cr(i,"HTML")?Yn(i):ZE(this._doc,String(i)).toString();case In.STYLE:return Cr(i,"Style")?Yn(i):i;case In.SCRIPT:if(Cr(i,"Script"))return Yn(i);throw new W(5200,!1);case In.URL:return Cr(i,"URL")?Yn(i):Cf(String(i));case In.RESOURCE_URL:if(Cr(i,"ResourceURL"))return Yn(i);throw new W(5201,!1);default:throw new W(5202,!1)}}bypassSecurityTrustHtml(r){return C0(r)}bypassSecurityTrustStyle(r){return A0(r)}bypassSecurityTrustScript(r){return R0(r)}bypassSecurityTrustUrl(r){return b0(r)}bypassSecurityTrustResourceUrl(r){return D0(r)}}return t=e,t.ɵfac=function(r){return new(r||t)(te(kt))},t.ɵprov=q({token:t,factory:t.ɵfac,providedIn:"root"}),e})();var Gh=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t}(Gh||{});function jO(...t){const e=[],n=new Set,r=n.has(Gh.HttpTransferCacheOptions);for(const{ɵproviders:i,ɵkind:s}of t)n.add(s),i.length&&e.push(i);return is([[],wk(),n.has(Gh.NoHttpTransferCache)||r?[]:dO({}),e])}const re="primary",Go=Symbol("RouteTitle");class $O{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ui(t){return new $O(t)}function BO(t,e,n){const r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function HO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!un(t[n],e[n]))return!1;return!0}function un(t,e){const n=t?Kh(t):void 0,r=e?Kh(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!OI(t[i],e[i]))return!1;return!0}function Kh(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function OI(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function xI(t){return t.length>0?t[t.length-1]:null}function yr(t){return UR(t)?t:Eu(t)?It(Promise.resolve(t)):ee(t)}const qO={exact:VI,subset:FI},LI={exact:zO,subset:WO,ignored:()=>!0};function Zm(t,e,n){return qO[n.paths](t.root,e.root,n.matrixParams)&&LI[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function zO(t,e){return un(t,e)}function VI(t,e,n){if(!kr(t.segments,e.segments)||!Wa(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!VI(t.children[r],e.children[r],n))return!1;return!0}function WO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>OI(t[n],e[n]))}function FI(t,e,n){return UI(t,e,e.segments,n)}function UI(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!kr(i,n)||e.hasChildren()||!Wa(i,n,r))}else if(t.segments.length===n.length){if(!kr(t.segments,n)||!Wa(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!FI(t.children[i],e.children[i],r))return!1;return!0}else{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!kr(t.segments,i)||!Wa(t.segments,i,r)||!t.children[re]?!1:UI(t.children[re],e,s,r)}}function Wa(t,e,n){return e.every((r,i)=>LI[n](t[i].parameters,r.parameters))}class os{constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??(this._queryParamMap=Ui(this.queryParams)),this._queryParamMap}toString(){return QO.serialize(this)}}class Ie{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ga(this)}}class Os{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??(this._parameterMap=Ui(this.parameters)),this._parameterMap}toString(){return BI(this)}}function GO(t,e){return kr(t,e)&&t.every((n,r)=>un(n.parameters,e[r].parameters))}function kr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function KO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}let Zf=(()=>{var t;class e{}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:()=>new jI,providedIn:"root"}),e})();class jI{parse(e){const n=new ox(e);return new os(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Is(e.root,!0)}`,r=YO(e.queryParams),i=typeof e.fragment=="string"?`#${ZO(e.fragment)}`:"";return`${n}${r}${i}`}}const QO=new jI;function Ga(t){return t.segments.map(e=>BI(e)).join("/")}function Is(t,e){if(!t.hasChildren())return Ga(t);if(e){const n=t.children[re]?Is(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==re&&r.push(`${i}:${Is(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{const n=KO(t,(r,i)=>i===re?[Is(t.children[re],!1)]:[`${i}:${Is(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${Ga(t)}/${n[0]}`:`${Ga(t)}/(${n.join("//")})`}}function $I(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Aa(t){return $I(t).replace(/%3B/gi,";")}function ZO(t){return encodeURI(t)}function Qh(t){return $I(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ka(t){return decodeURIComponent(t)}function Xm(t){return Ka(t.replace(/\+/g,"%20"))}function BI(t){return`${Qh(t.path)}${XO(t.parameters)}`}function XO(t){return Object.entries(t).map(([e,n])=>`;${Qh(e)}=${Qh(n)}`).join("")}function YO(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Aa(n)}=${Aa(i)}`).join("&"):`${Aa(n)}=${Aa(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}const JO=/^[^\/()?;#]+/;function Fl(t){const e=t.match(JO);return e?e[0]:""}const ex=/^[^\/()?;=#]+/;function tx(t){const e=t.match(ex);return e?e[0]:""}const nx=/^[^=?&#]+/;function rx(t){const e=t.match(nx);return e?e[0]:""}const ix=/^[^&#]+/;function sx(t){const e=t.match(ix);return e?e[0]:""}class ox{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new Ie(e,n)),r}parseSegment(){const e=Fl(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new W(4009,!1);return this.capture(e),new Os(Ka(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=tx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Fl(this.remaining);i&&(r=i,this.capture(r))}e[Ka(n)]=Ka(r)}parseQueryParam(e){const n=rx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=sx(this.remaining);o&&(r=o,this.capture(r))}const i=Xm(n),s=Xm(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Fl(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new W(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);const o=this.parseChildren();n[s]=Object.keys(o).length===1?o[re]:new Ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new W(4011,!1)}}function HI(t){return t.segments.length>0?new Ie([],{[re]:t}):t}function qI(t){const e={};for(const[r,i]of Object.entries(t.children)){const s=qI(i);if(r===re&&s.segments.length===0&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}const n=new Ie(t.segments,e);return ax(n)}function ax(t){if(t.numberOfChildren===1&&t.children[re]){const e=t.children[re];return new Ie(t.segments.concat(e.segments),e.children)}return t}function ji(t){return t instanceof os}function cx(t,e,n=null,r=null){const i=zI(t);return WI(i,e,n,r)}function zI(t){let e;function n(s){const o={};for(const c of s.children){const u=n(c);o[c.outlet]=u}const a=new Ie(s.url,o);return s===t&&(e=a),a}const r=n(t.root),i=HI(r);return e??i}function WI(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Ul(i,i,i,n,r);const s=ux(e);if(s.toRoot())return Ul(i,i,new Ie([],{}),n,r);const o=lx(s,i,t),a=o.processChildren?xs(o.segmentGroup,o.index,s.commands):KI(o.segmentGroup,o.index,s.commands);return Ul(i,o.segmentGroup,a,n,r)}function Cc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function fo(t){return typeof t=="object"&&t!=null&&t.outlets}function Ul(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=GI(t,e,n);const a=HI(qI(o));return new os(a,s,i)}function GI(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=GI(s,e,n)}),new Ie(t.segments,r)}class Ym{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Cc(r[0]))throw new W(4003,!1);const i=r.find(fo);if(i&&i!==xI(r))throw new W(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}}function ux(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ym(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Ym(n,e,r)}class Qa{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function lx(t,e,n){if(t.isAbsolute)return new Qa(e,!0,0);if(!n)return new Qa(e,!1,NaN);if(n.parent===null)return new Qa(n,!0,0);const r=Cc(t.commands[0])?0:1,i=n.segments.length-1+r;return hx(n,i,t.numberOfDoubleDots)}function hx(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new W(4005,!1);i=r.segments.length}return new Qa(r,!1,i-s)}function dx(t){return fo(t[0])?t[0].outlets:{[re]:t}}function KI(t,e,n){if(t??(t=new Ie([],{})),t.segments.length===0&&t.hasChildren())return xs(t,e,n);const r=fx(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Ie(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new Ie(t.segments.slice(r.pathIndex),t.children),xs(s,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?Zh(t,e,n):r.match?xs(t,0,i):Zh(t,e,n)}function xs(t,e,n){if(n.length===0)return new Ie(t.segments,{});{const r=dx(n),i={};if(Object.keys(r).some(s=>s!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){const s=xs(t.children[re],e,n);return new Ie(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=KI(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ie(t.segments,i)}}function fx(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(fo(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!ey(c,u,o))return s;r+=2}else{if(!ey(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Zh(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(fo(s)){const c=px(s.outlets);return new Ie(r,c)}if(i===0&&Cc(n[0])){const c=t.segments[e];r.push(new Os(c.path,Jm(n[0]))),i++;continue}const o=fo(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Cc(a)?(r.push(new Os(o,Jm(a))),i+=2):(r.push(new Os(o,{})),i++)}return new Ie(r,{})}function px(t){const e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Zh(new Ie([],{}),0,r))}),e}function Jm(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ey(t,e,n){return t==n.path&&un(e,n.parameters)}const Ls="imperative";var ct=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ct||{});class wn{constructor(e,n){this.id=e,this.url=n}}class Xh extends wn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ct.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $i extends wn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ct.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var jt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(jt||{}),Yh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Yh||{});class Bi extends wn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ct.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class po extends wn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ct.NavigationSkipped}}class Xf extends wn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ct.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class QI extends wn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gx extends wn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mx extends wn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=ct.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yx extends wn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vx extends wn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _x{constructor(e){this.route=e,this.type=ct.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ex{constructor(e){this.route=e,this.type=ct.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wx{constructor(e){this.snapshot=e,this.type=ct.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ix{constructor(e){this.snapshot=e,this.type=ct.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tx{constructor(e){this.snapshot=e,this.type=ct.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sx{constructor(e){this.snapshot=e,this.type=ct.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yf{}class Jf{constructor(e){this.url=e}}class Cx{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Su,this.attachRef=null}}let Su=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Cx,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:t.ɵfac,providedIn:"root"}),e})();class ZI{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Jh(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Jh(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=ed(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ed(e,this._root).map(n=>n.value)}}function Jh(t,e){if(t===e.value)return e;for(const n of e.children){const r=Jh(t,n);if(r)return r}return null}function ed(t,e){if(t===e.value)return[e];for(const n of e.children){const r=ed(t,n);if(r.length)return r.unshift(e),r}return[]}class Wt{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function yi(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class XI extends ZI{constructor(e,n){super(e),this.snapshot=n,tp(this,e)}toString(){return this.snapshot.toString()}}function YI(t){const e=Ax(t),n=new Lt([new Os("",{})]),r=new Lt({}),i=new Lt({}),s=new Lt({}),o=new Lt(""),a=new Cu(n,r,s,o,i,re,t,e.root);return a.snapshot=e.root,new XI(new Wt(a,[]),e)}function Ax(t){const e={},n={},r={},i="",s=new td([],e,r,i,n,re,t,null,{});return new JI("",new Wt(s,[]))}class Cu{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ye(u=>u[Go]))??ee(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??(this._paramMap=this.params.pipe(ye(e=>Ui(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap??(this._queryParamMap=this.queryParams.pipe(ye(e=>Ui(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ep(t,e,n="emptyOnly"){let r;const{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...i?.data,...t._resolvedData}}:r={params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}},i&&tT(i)&&(r.resolve[Go]=i.title),r}class td{get title(){return this.data?.[Go]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??(this._paramMap=Ui(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap??(this._queryParamMap=Ui(this.queryParams)),this._queryParamMap}toString(){const e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}}class JI extends ZI{constructor(e,n){super(n),this.url=e,tp(this,n)}toString(){return eT(this._root)}}function tp(t,e){e.value._routerState=t,e.children.forEach(n=>tp(t,n))}function eT(t){const e=t.children.length>0?` { ${t.children.map(eT).join(", ")} } `:"";return`${t.value}${e}`}function jl(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,un(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),un(e.params,n.params)||t.paramsSubject.next(n.params),HO(e.url,n.url)||t.urlSubject.next(n.url),un(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function nd(t,e){const n=un(t.params,e.params)&&GO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||nd(t.parent,e.parent))}function tT(t){return typeof t.title=="string"||t.title===null}let nT=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new An,this.deactivateEvents=new An,this.attachEvents=new An,this.detachEvents=new An,this.parentContexts=b(Su),this.location=b(Hw),this.changeDetector=b(Ff),this.environmentInjector=b(jn),this.inputBinder=b(np,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new W(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Rx(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵdir=D_({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[AE]}),e})();class Rx{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Cu?this.route:e===Su?this.childContexts:this.parent.get(e,n)}}const np=new se("");function bx(t,e,n){const r=go(t,e._root,n?n._root:void 0);return new XI(r,e)}function go(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=Dx(t,e,n);return new Wt(r,i)}else{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(s!==null){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>go(t,a)),o}}const r=Px(e.value),i=e.children.map(s=>go(t,s));return new Wt(r,i)}}function Dx(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return go(t,r,i);return go(t,r)})}function Px(t){return new Cu(new Lt(t.url),new Lt(t.params),new Lt(t.queryParams),new Lt(t.fragment),new Lt(t.data),t.outlet,t.component,t)}const rT="ngNavigationCancelingError";function iT(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ji(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=sT(!1,jt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function sT(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[rT]=!0,n.cancellationCode=e,n}function Mx(t){return oT(t)&&ji(t.url)}function oT(t){return!!t&&t[rT]}let Nx=(()=>{var t;class e{}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵcmp=b_({type:t,selectors:[["ng-component"]],standalone:!0,features:[cI],decls:1,vars:0,template:function(r,i){r&1&&Bf(0,"router-outlet")},dependencies:[nT],encapsulation:2}),e})();function kx(t,e){return t.providers&&!t._injector&&(t._injector=Zw(t.providers,e,`Route: ${t.path}`)),t._injector??e}function rp(t){const e=t.children&&t.children.map(rp),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=Nx),n}function gn(t){return t.outlet||re}function Ox(t,e){const n=t.filter(r=>gn(r)===e);return n.push(...t.filter(r=>gn(r)!==e)),n}function Ko(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}const xx=(t,e,n,r)=>ye(i=>(new Lx(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i));class Lx{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),jl(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=yi(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=yi(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=yi(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=yi(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Sx(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Ix(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(jl(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),jl(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Ko(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class ty{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Za{constructor(e,n){this.component=e,this.route=n}}function Vx(t,e,n){const r=t._root,i=e?e._root:null;return Ts(r,i,n,[r.value])}function Fx(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function as(t,e){const n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!uD(t)?t:e.get(t):r}function Ts(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=yi(e);return t.children.forEach(o=>{Ux(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Vs(a,n.getContext(o),i)),i}function Ux(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=jx(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new ty(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ts(t,e,a?a.children:null,r,i):Ts(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Za(a.outlet.component,o))}else o&&Vs(e,a,i),i.canActivateChecks.push(new ty(r)),s.component?Ts(t,null,a?a.children:null,r,i):Ts(t,null,n,r,i);return i}function jx(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!kr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!kr(t.url,e.url)||!un(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nd(t,e)||!un(t.queryParams,e.queryParams);case"paramsChange":default:return!nd(t,e)}}function Vs(t,e,n){const r=yi(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Vs(o,e.children.getContext(s),n):Vs(o,null,n):Vs(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Za(e.outlet.component,i)):n.canDeactivateChecks.push(new Za(null,i)):n.canDeactivateChecks.push(new Za(null,i))}function Qo(t){return typeof t=="function"}function $x(t){return typeof t=="boolean"}function Bx(t){return t&&Qo(t.canLoad)}function Hx(t){return t&&Qo(t.canActivate)}function qx(t){return t&&Qo(t.canActivateChild)}function zx(t){return t&&Qo(t.canDeactivate)}function Wx(t){return t&&Qo(t.canMatch)}function aT(t){return t instanceof Vo||t?.name==="EmptyError"}const Ra=Symbol("INITIAL_VALUE");function Hi(){return nn(t=>E_(t.map(e=>e.pipe(Oi(1),ob(Ra)))).pipe(ye(e=>{for(const n of e)if(n!==!0){if(n===Ra)return Ra;if(n===!1||n instanceof os)return n}return!0}),xn(e=>e!==Ra),Oi(1)))}function Gx(t,e){return wt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?ee({...n,guardsResult:!0}):Kx(o,r,i,t).pipe(wt(a=>a&&$x(a)?Qx(r,s,t,e):ee(a)),ye(a=>({...n,guardsResult:a})))})}function Kx(t,e,n,r){return It(t).pipe(wt(i=>eL(i.component,i.route,n,e,r)),fr(i=>i!==!0,!0))}function Qx(t,e,n,r){return It(e).pipe(Ys(i=>fh(Xx(i.route.parent,r),Zx(i.route,r),Jx(t,i.path,n),Yx(t,i.route,n))),fr(i=>i!==!0,!0))}function Zx(t,e){return t!==null&&e&&e(new Tx(t)),ee(!0)}function Xx(t,e){return t!==null&&e&&e(new wx(t)),ee(!0)}function Yx(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ee(!0);const i=r.map(s=>w_(()=>{const o=Ko(e)??n,a=as(s,o),c=Hx(a)?a.canActivate(e,t):Yr(o,()=>a(e,t));return yr(c).pipe(fr())}));return ee(i).pipe(Hi())}function Jx(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Fx(o)).filter(o=>o!==null).map(o=>w_(()=>{const a=o.guards.map(c=>{const u=Ko(o.node)??n,l=as(c,u),h=qx(l)?l.canActivateChild(r,t):Yr(u,()=>l(r,t));return yr(h).pipe(fr())});return ee(a).pipe(Hi())}));return ee(s).pipe(Hi())}function eL(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ee(!0);const o=s.map(a=>{const c=Ko(e)??i,u=as(a,c),l=zx(u)?u.canDeactivate(t,e,n,r):Yr(c,()=>u(t,e,n,r));return yr(l).pipe(fr())});return ee(o).pipe(Hi())}function tL(t,e,n,r){const i=e.canLoad;if(i===void 0||i.length===0)return ee(!0);const s=i.map(o=>{const a=as(o,t),c=Bx(a)?a.canLoad(e,n):Yr(t,()=>a(e,n));return yr(c)});return ee(s).pipe(Hi(),cT(r))}function cT(t){return fR(qe(e=>{if(ji(e))throw iT(t,e)}),ye(e=>e===!0))}function nL(t,e,n,r){const i=e.canMatch;if(!i||i.length===0)return ee(!0);const s=i.map(o=>{const a=as(o,t),c=Wx(a)?a.canMatch(e,n):Yr(t,()=>a(e,n));return yr(c)});return ee(s).pipe(Hi(),cT(r))}class rd{constructor(e){this.segmentGroup=e||null}}class uT extends Error{constructor(e){super(),this.urlTree=e}}function ai(t){return Jc(new rd(t))}function rL(t){return Jc(new W(4e3,!1))}function iL(t){return Jc(sT(!1,jt.GuardRejected))}class sL{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ee(r);if(i.numberOfChildren>1||!i.children[re])return rL(e.redirectTo);i=i.children[re]}}applyRedirectCommands(e,n,r){const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new uT(i);return i}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new os(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new W(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const id={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oL(t,e,n,r,i){const s=ip(t,e,n);return s.matched?(r=kx(e,r),nL(r,e,n,i).pipe(ye(o=>o===!0?s:{...id}))):ee(s)}function ip(t,e,n){if(e.path==="**")return aL(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?{...id}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||BO)(n,t,e);if(!i)return{...id};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function aL(t){return{matched:!0,parameters:t.length>0?xI(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ny(t,e,n,r){return n.length>0&&lL(t,n,r)?{segmentGroup:new Ie(e,uL(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&hL(t,n,r)?{segmentGroup:new Ie(t.segments,cL(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function cL(t,e,n,r){const i={};for(const s of n)if(Au(t,e,s)&&!r[gn(s)]){const o=new Ie([],{});i[gn(s)]=o}return{...r,...i}}function uL(t,e){const n={};n[re]=e;for(const r of t)if(r.path===""&&gn(r)!==re){const i=new Ie([],{});n[gn(r)]=i}return n}function lL(t,e,n){return n.some(r=>Au(t,e,r)&&gn(r)!==re)}function hL(t,e,n){return n.some(r=>Au(t,e,r))}function Au(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function dL(t,e,n,r){return gn(t)!==r&&(r===re||!Au(e,n,t))?!1:ip(e,t,n).matched}function fL(t,e,n){return e.length===0&&!t.children[n]}class pL{}function gL(t,e,n,r,i,s,o="emptyOnly"){return new yL(t,e,n,r,i,o,s).recognize()}const mL=31;class yL{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new sL(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new W(4002,`'${e.segmentGroup}'`)}recognize(){const e=ny(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ye(n=>{const r=new td([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},re,this.rootComponentType,null,{}),i=new Wt(r,n),s=new JI("",i),o=cx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,re).pipe(wi(r=>{if(r instanceof uT)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof rd?this.noMatchError(r):r}))}inheritParamsAndData(e,n){const r=e.value,i=ep(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ye(s=>s instanceof Wt?[s]:[]))}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return It(i).pipe(Ys(s=>{const o=r.children[s],a=Ox(n,s);return this.processSegmentGroup(e,a,o,s)}),sb((s,o)=>(s.push(...o),s)),eu(null),ib(),wt(s=>{if(s===null)return ai(r);const o=lT(s);return vL(o),ee(o)}))}processSegment(e,n,r,i,s,o){return It(n).pipe(Ys(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(wi(c=>{if(c instanceof rd)return ee(null);throw c}))),fr(a=>!!a),wi(a=>{if(aT(a))return fL(r,i,s)?ee(new pL):ai(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return dL(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ai(i):ai(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=ip(n,i,s);if(!a)return ai(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mL&&(this.allowRedirects=!1));const h=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,h).pipe(wt(d=>this.processSegment(e,r,n,d.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){const o=oL(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(nn(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(nn(({routes:c})=>{const u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:h,parameters:d}=a,f=new td(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,EL(r),gn(r),r.component??r._loadedComponent??null,r,wL(r)),{segmentGroup:m,slicedSegments:y}=ny(n,l,h,c);if(y.length===0&&m.hasChildren())return this.processChildren(u,c,m).pipe(ye(T=>T===null?null:new Wt(f,T)));if(c.length===0&&y.length===0)return ee(new Wt(f,[]));const _=gn(r)===s;return this.processSegment(u,c,m,y,_?re:s,!0).pipe(ye(T=>new Wt(f,T instanceof Wt?[T]:[])))}))):ai(n)))}getChildConfig(e,n,r){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):tL(e,n,r,this.urlSerializer).pipe(wt(i=>i?this.configLoader.loadChildren(e,n).pipe(qe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):iL(n))):ee({routes:[],injector:e})}}function vL(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function _L(t){const e=t.value.routeConfig;return e&&e.path===""}function lT(t){const e=[],n=new Set;for(const r of t){if(!_L(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=lT(r.children);e.push(new Wt(r.value,i))}return e.filter(r=>!n.has(r))}function EL(t){return t.data||{}}function wL(t){return t.resolve||{}}function IL(t,e,n,r,i,s){return wt(o=>gL(t,e,n,r,o.extractedUrl,i,s).pipe(ye(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}function TL(t,e){return wt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);const s=new Set(i.map(c=>c.route)),o=new Set;for(const c of s)if(!o.has(c))for(const u of hT(c))o.add(u);let a=0;return It(o).pipe(Ys(c=>s.has(c)?SL(c,r,t,e):(c.data=ep(c,c.parent,t).resolve,ee(void 0))),qe(()=>a++),Jd(1),wt(c=>a===o.size?ee(n):Jn))})}function hT(t){const e=t.children.map(n=>hT(n)).flat();return[t,...e]}function SL(t,e,n,r){const i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!tT(i)&&(s[Go]=i.title),CL(s,t,e,r).pipe(ye(o=>(t._resolvedData=o,t.data=ep(t,t.parent,n).resolve,null)))}function CL(t,e,n,r){const i=Kh(t);if(i.length===0)return ee({});const s={};return It(i).pipe(wt(o=>AL(t[o],e,n,r).pipe(fr(),qe(a=>{s[o]=a}))),Jd(1),nb(s),wi(o=>aT(o)?Jn:Jc(o)))}function AL(t,e,n,r){const i=Ko(e)??r,s=as(t,i),o=s.resolve?s.resolve(e,n):Yr(i,()=>s(e,n));return yr(o)}function $l(t){return nn(e=>{const n=t(e);return n?It(n).pipe(ye(()=>e)):ee(e)})}let dT=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===re);return i}getResolvedTitleForRoute(r){return r.data[Go]}}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:()=>b(RL),providedIn:"root"}),e})(),RL=(()=>{var t;class e extends dT{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}}return t=e,t.ɵfac=function(r){return new(r||t)(te(VO))},t.ɵprov=q({token:t,factory:t.ɵfac,providedIn:"root"}),e})();const sp=new se("",{providedIn:"root",factory:()=>({})}),op=new se("");let bL=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=b(ak)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ee(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=yr(r.loadComponent()).pipe(ye(fT),qe(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),cc(()=>{this.componentLoaders.delete(r)})),s=new Bg(i,()=>new On).pipe(hh());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ee({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=DL(i,this.compiler,r,this.onLoadEndListener).pipe(cc(()=>{this.childrenLoaders.delete(i)})),a=new Bg(o,()=>new On).pipe(hh());return this.childrenLoaders.set(i,a),a}}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:t.ɵfac,providedIn:"root"}),e})();function DL(t,e,n,r){return yr(t.loadChildren()).pipe(ye(fT),wt(i=>i instanceof Kw||Array.isArray(i)?ee(i):It(e.compileModuleAsync(i))),ye(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(op,[],{optional:!0,self:!0}).flat()),{routes:o.map(rp),injector:s}}))}function PL(t){return t&&typeof t=="object"&&"default"in t}function fT(t){return PL(t)?t.default:t}let ap=(()=>{var t;class e{}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:()=>b(ML),providedIn:"root"}),e})(),ML=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:t.ɵfac,providedIn:"root"}),e})();const NL=new se("");let kL=(()=>{var t;class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new On,this.transitionAbortSubject=new On,this.configLoader=b(bL),this.environmentInjector=b(jn),this.urlSerializer=b(Zf),this.rootContexts=b(Su),this.location=b(Iu),this.inputBindingEnabled=b(np,{optional:!0})!==null,this.titleStrategy=b(dT),this.options=b(sp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=b(ap),this.createViewTransition=b(NL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null;const r=s=>this.events.next(new _x(s)),i=s=>this.events.next(new Ex(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new Lt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ls,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xn(o=>o.id!==0),ye(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),nn(o=>{this.currentTransition=o;let a=!1,c=!1;return ee(o).pipe(qe(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),nn(u=>{const l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&h!=="reload"){const d="";return this.events.next(new po(u.id,this.urlSerializer.serialize(u.rawUrl),d,Yh.IgnoredSameUrlNavigation)),u.resolve(null),Jn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ee(u).pipe(nn(d=>{const f=this.transitions?.getValue();return this.events.next(new Xh(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?Jn:Promise.resolve(d)}),IL(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),qe(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const f=new QI(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:d,extractedUrl:f,source:m,restoredState:y,extras:_}=u,T=new Xh(d,this.urlSerializer.serialize(f),m,y);this.events.next(T);const C=YI(this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:C,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=f,ee(o)}else{const d="";return this.events.next(new po(u.id,this.urlSerializer.serialize(u.extractedUrl),d,Yh.IgnoredByUrlHandlingStrategy)),u.resolve(null),Jn}}),qe(u=>{const l=new gx(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ye(u=>(this.currentTransition=o={...u,guards:Vx(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),Gx(this.environmentInjector,u=>this.events.next(u)),qe(u=>{if(o.guardsResult=u.guardsResult,ji(u.guardsResult))throw iT(this.urlSerializer,u.guardsResult);const l=new mx(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),xn(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",jt.GuardRejected),!1)),$l(u=>{if(u.guards.canActivateChecks.length)return ee(u).pipe(qe(l=>{const h=new yx(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),nn(l=>{let h=!1;return ee(l).pipe(TL(this.paramsInheritanceStrategy,this.environmentInjector),qe({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",jt.NoDataFromResolver)}}))}),qe(l=>{const h=new vx(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),$l(u=>{const l=h=>{const d=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(h.routeConfig).pipe(qe(f=>{h.component=f}),ye(()=>{})));for(const f of h.children)d.push(...l(f));return d};return E_(l(u.targetSnapshot.root)).pipe(eu(null),Oi(1))}),$l(()=>this.afterPreactivation()),nn(()=>{const{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?It(h).pipe(ye(()=>o)):ee(o)}),ye(u=>{const l=bx(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:l},this.currentNavigation.targetRouterState=l,o}),qe(()=>{this.events.next(new Yf)}),xx(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Oi(1),qe({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $i(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),ab(this.transitionAbortSubject.pipe(qe(u=>{throw u}))),cc(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",jt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),wi(u=>{if(c=!0,oT(u))this.events.next(new Bi(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),Mx(u)?this.events.next(new Jf(u.url)):o.resolve(!1);else{this.events.next(new Xf(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return Jn}))}))}cancelNavigationTransition(r,i,s){const o=new Bi(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:t.ɵfac,providedIn:"root"}),e})();function OL(t){return t!==Ls}let xL=(()=>{var t;class e{}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:()=>b(VL),providedIn:"root"}),e})();class LL{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let VL=(()=>{var t;class e extends LL{}return t=e,t.ɵfac=(()=>{let n;return function(i){return(n||(n=jE(t)))(i||t)}})(),t.ɵprov=q({token:t,factory:t.ɵfac,providedIn:"root"}),e})(),pT=(()=>{var t;class e{}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:()=>b(FL),providedIn:"root"}),e})(),FL=(()=>{var t;class e extends pT{constructor(){super(...arguments),this.location=b(Iu),this.urlSerializer=b(Zf),this.options=b(sp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=b(ap),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new os,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=YI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.ɵrouterPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Xh)this.stateMemento=this.createStateMemento();else if(r instanceof po)this.rawUrlTree=i.initialUrl;else if(r instanceof QI){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Yf?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Bi&&(r.code===jt.GuardRejected||r.code===jt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Xf?this.restoreHistory(i,!0):r instanceof $i&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const o=this.browserPageId,a={...i.extras.state,...this.generateNgRouterState(i.id,o)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){const s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,ɵrouterPageId:i}:{navigationId:r}}}return t=e,t.ɵfac=(()=>{let n;return function(i){return(n||(n=jE(t)))(i||t)}})(),t.ɵprov=q({token:t,factory:t.ɵfac,providedIn:"root"}),e})();var Ss=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ss||{});function UL(t,e){t.events.pipe(xn(n=>n instanceof $i||n instanceof Bi||n instanceof Xf||n instanceof po),ye(n=>n instanceof $i||n instanceof po?Ss.COMPLETE:(n instanceof Bi?n.code===jt.Redirect||n.code===jt.SupersededByNewNavigation:!1)?Ss.REDIRECTING:Ss.FAILED),xn(n=>n!==Ss.REDIRECTING),Oi(1)).subscribe(()=>{e()})}function jL(t){throw t}const $L={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cp=(()=>{var t;class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=b(ek),this.stateManager=b(pT),this.options=b(sp,{optional:!0})||{},this.pendingTasks=b(_u),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=b(kL),this.urlSerializer=b(Zf),this.location=b(Iu),this.urlHandlingStrategy=b(ap),this._events=new On,this.errorHandler=this.options.errorHandler||jL,this.navigated=!1,this.routeReuseStrategy=b(xL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=b(op,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!b(np,{optional:!0}),this.eventsSubscription=new pn,this.isNgZoneEnabled=b(Me)instanceof Me&&Me.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Bi&&i.code!==jt.Redirect&&i.code!==jt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof $i)this.navigated=!0;else if(i instanceof Jf){const a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||OL(s.source)};this.scheduleNavigation(a,Ls,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}qL(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ls,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const u={...s};delete u.navigationId,delete u.ɵrouterPageId,Object.keys(u).length!==0&&(o.state=u)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(rp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a;let h=null;switch(c){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let d;try{const f=s?s.snapshot:this.routerState.snapshot.root;d=zI(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),d=this.currentUrlTree.root}return WI(d,r,h,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=ji(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Ls,null,i)}navigate(r,i={skipLocationChange:!1}){return HL(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s={...$L}:i===!1?s={...BL}:s=i,ji(r))return Zm(this.currentUrlTree,r,s);const o=this.parseUrl(r);return Zm(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((d,f)=>{c=d,u=f});const h=this.pendingTasks.add();return UL(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵprov=q({token:t,factory:t.ɵfac,providedIn:"root"}),e})();function HL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new W(4008,!1)}function qL(t){return!(t instanceof Yf)&&!(t instanceof Jf)}const zL=new se("");function WL(t,...e){return is([{provide:op,multi:!0,useValue:t},[],{provide:Cu,useFactory:GL,deps:[cp]},{provide:wu,multi:!0,useFactory:KL},e.map(n=>n.ɵproviders)])}function GL(t){return t.routerState.root}function KL(){const t=b(Wn);return e=>{const n=t.get(Wo);if(e!==n.components[0])return;const r=t.get(cp),i=t.get(QL);t.get(ZL)===1&&r.initialNavigation(),t.get(XL,null,ue.Optional)?.setUpPreloading(),t.get(zL,null,ue.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const QL=new se("",{factory:()=>new On}),ZL=new se("",{providedIn:"root",factory:()=>1}),XL=new se("");let YL=(()=>{var t;class e{}return t=e,t.ɵfac=function(r){return new(r||t)},t.ɵcmp=b_({type:t,selectors:[["app-root"]],standalone:!0,features:[cI],decls:1,vars:0,template:function(r,i){r&1&&Bf(0,"router-outlet")},dependencies:[nT],encapsulation:2}),e})();const JL="modulepreload",e1=function(t){return"/"+t},ry={},gT=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");i=Promise.all(n.map(o=>{if(o=e1(o),o in ry)return;ry[o]=!0;const a=o.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(!!r)for(let h=s.length-1;h>=0;h--){const d=s[h];if(d.href===o&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const l=document.createElement("link");if(l.rel=a?"stylesheet":JL,a||(l.as="script",l.crossOrigin=""),l.href=o,document.head.appendChild(l),a)return new Promise((h,d)=>{l.addEventListener("load",h),l.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var t1={VITE_FIREBASE_CONFIG:'{"apiKey":"AIzaSyC7Tu56_1ry-u9AnZfg_AjiMWvvNmFIPGU","authDomain":"test-projects-19046.firebaseapp.com","projectId":"test-projects-19046","storageBucket":"test-projects-19046.appspot.com","messagingSenderId":"736849418469","appId":"1:736849418469:web:7546f16c5e355b1c6a9c0c","measurementId":"G-FKRCW93P0X"}',VITE_CJS_IGNORE_WARNING:"true",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const sd=Symbol("@analogjs/router Route Meta Tags Key"),n1="charset",r1="http-equiv",i1="name",s1="property";function o1(){const t=b(cp),e=b(xO);t.events.pipe(xn(n=>n instanceof $i)).subscribe(()=>{const n=a1(t.routerState.snapshot.root);for(const r in n){const i=n[r];e.updateTag(i,r)}})}function a1(t){const e={};let n=t;for(;n;){const r=n.data[sd]??[];for(const i of r)e[c1(i)]=i;n=n.firstChild}return e}function c1(t){return t.name?`${i1}="${t.name}"`:t.property?`${s1}="${t.property}"`:t.httpEquiv?`${r1}="${t.httpEquiv}"`:n1}const od=Symbol("@analogjs/router Analog Route Metadata Key"),u1=Object.assign({});function l1(t){if(t&&h1(t))return t;let{meta:e,...n}=t??{};return Array.isArray(e)?n.data={...n.data,[sd]:e}:typeof e=="function"&&(n.resolve={...n.resolve,[sd]:e}),n||(n={}),n.resolve={...n.resolve,load:r=>g(this,null,function*(){const i=r.routeConfig;if(u1[i[od].endpointKey]){const{queryParams:s,fragment:o,params:a,parent:c}=r,u=c?.url.map(d=>d.path).join("/")||"",l=new URL("",t1.VITE_ANALOG_PUBLIC_BASE_URL);if(l.pathname=`/api/_analog${i[od].endpoint}`,l.search=`${new URLSearchParams(s).toString()}`,l.hash=o??"",Object.keys(a).forEach(d=>{l.pathname=l.pathname.replace(`[${d}]`,a[d])}),l.pathname=l.pathname.replace("**",u),globalThis.$fetch)return globalThis.$fetch(l.pathname);const h=b(II);return jR(h.get(`${l.href}`))}return{}})},n}function h1(t){return!!t.redirectTo}const d1=typeof Zone<"u"&&!!Zone.root;function f1(t){return()=>g(this,null,function*(){const e=()=>Promise.all([gT(()=>import("./analogjs-content-Cnm5KQCW.js"),__vite__mapDeps([])),t()]),[{parseRawContentFile:n,MarkdownRouteComponent:r,ContentRenderer:i},s]=yield d1?Zone.root.run(e):e(),{content:o,attributes:a}=n(s),{title:c,meta:u}=a;return{default:r,routeMeta:{data:{_analogContent:o},title:c,meta:u,resolve:{renderedAnalogContent:()=>g(this,null,function*(){return b(i).render(o)})}}}})}const p1=".server.ts",g1="src/app",m1=Object.assign({"/src/app/pages/index.page.ts":()=>gT(()=>import("./index.page-xm-UjLEh.js"),__vite__mapDeps([]))}),y1=Object.assign({});function v1(t){var a,c;const e=Object.keys(t);if(e.length===0)return[];const n=e.reduce((u,l)=>{const h=_1(l),d=h.split("/"),f=d.length-1,m=d[f],y=d.slice(0,f);return{...u,[f]:{...u[f],[h]:{filename:l,rawSegment:m,ancestorRawSegments:y,segment:iy(m),level:f,children:[]}}}},{}),r=Object.keys(n).map(Number),i=Math.max(...r);for(let u=i;u>0;u--){const l=n[u],h=Object.keys(l);for(const d of h){const f=l[d],m=f.ancestorRawSegments.join("/"),y=f.ancestorRawSegments.length-1,_=f.ancestorRawSegments[y];n[a=u-1]||(n[a]={}),(c=n[u-1])[m]||(c[m]={filename:null,rawSegment:_,ancestorRawSegments:f.ancestorRawSegments.slice(0,y),segment:iy(_),level:u-1,children:[]}),n[u-1][m].children.push(f)}}const s=n[0],o=Object.keys(s).map(u=>s[u]);return yT(o),mT(o,t)}function _1(t){return t.replace(/^\/(.*?)\/routes\/|^\/(.*?)\/pages\/|\/app\/routes\/|(\.page\.(js|ts|analog)$)|(\.(ts|md|analog)$)/g,"").replace(/\[\.{3}.+\]/,"**").replace(/\[([^\]]+)\]/g,":$1")}function iy(t){return t.replace(/index|\(.*?\)/g,"").replace(/\.|\/+/g,"/").replace(/^\/+|\/+$/g,"")}function mT(t,e){const n=[];for(const r of t){const i=r.children.length>0?mT(r.children,e):void 0;let s,o;if(r.filename){s=r.filename.endsWith(".md")?f1(e[r.filename]):e[r.filename];const u=r.filename.replace(/\.page\.(ts|analog)$/,p1);o={endpoint:(r.filename.replace(/\.page\.(ts|analog)$/,"").replace(/\[\.{3}.+\]/,"**").split(g1)[1]||"").replace(/\./g,"/").replace(/\/\((.*?)\)$/,"/-$1-"),endpointKey:u}}const a=s?{path:r.segment,loadChildren:()=>s().then(c=>[{path:"",component:c.default,...l1(c.routeMeta),children:i,[od]:o}])}:{path:r.segment,children:i};n.push(a)}return n}function yT(t){t.sort((e,n)=>{let r=sy(e.segment),i=sy(n.segment);return e.children.length>n.children.length?r=`~${r}`:e.children.length<n.children.length&&(i=`~${i}`),r>i?1:-1});for(const e of t)yT(e.children)}function sy(t){return t.replace(":","~~").replace("**","~~~~")}const E1=v1({...m1,...y1});function w1(...t){return is([WL(E1,...t).ɵproviders,{provide:Vi,multi:!0,useValue:()=>o1()}])}function mo(t){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mo(t)}function I1(t,e){if(mo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T1(t){var e=I1(t,"string");return mo(e)=="symbol"?e:String(e)}function Ge(t,e,n){return e=T1(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oy={};const vT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},S1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},_T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(d=64)),r.push(n[l],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):S1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new C1;const d=s<<2|a>>4;if(r.push(d),u!==64){const f=a<<4&240|u>>2;if(r.push(f),h!==64){const m=u<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class C1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A1=function(t){const e=vT(t);return _T.encodeByteArray(e,!0)},Ac=function(t){return A1(t).replace(/\./g,"")},ET=function(t){try{return _T.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function R1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const b1=()=>R1().__FIREBASE_DEFAULTS__,D1=()=>{if(typeof process>"u"||typeof oy>"u")return;const t=oy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},P1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ET(t[1]);return e&&JSON.parse(e)},Ru=()=>{try{return b1()||D1()||P1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wT=t=>{var e,n;return(n=(e=Ru())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},M1=t=>{const e=wT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},IT=()=>{var t;return(t=Ru())===null||t===void 0?void 0:t.config},TT=t=>{var e;return(e=Ru())===null||e===void 0?void 0:e[`_${t}`]};class N1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function k1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ac(JSON.stringify(n)),Ac(JSON.stringify(o)),""].join(".")}function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function x1(){var t;const e=(t=Ru())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function L1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function V1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F1(){const t=$e();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function U1(){return!x1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ST(){try{return typeof indexedDB=="object"}catch{return!1}}function j1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}const $1="FirebaseError";class Kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$1,Object.setPrototypeOf(this,Kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zo.prototype.create)}}class Zo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?B1(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Kn(i,a,r)}}function B1(t,e){return t.replace(H1,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const H1=/\{\$([^}]+)}/g;function q1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ay(s)&&ay(o)){if(!Rc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ay(t){return t!==null&&typeof t=="object"}function Xo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function z1(t,e){const n=new W1(t,e);return n.subscribe.bind(n)}class W1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");G1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Bl),i.error===void 0&&(i.error=Bl),i.complete===void 0&&(i.complete=Bl);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G1(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bl(){}function ot(t){return t&&t._delegate?t._delegate:t}class zr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Tr="[DEFAULT]";class K1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new N1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z1(e))try{this.getOrInitializeService({instanceIdentifier:Tr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Tr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return g(this,null,function*(){const e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Tr){return this.instances.has(e)}getOptions(e=Tr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Tr){return this.component?this.component.multipleInstances?e:Tr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q1(t){return t===Tr?void 0:t}function Z1(t){return t.instantiationMode==="EAGER"}class X1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new K1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ge=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ge||{});const Y1={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},J1=ge.INFO,eV={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},tV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=eV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class up{constructor(e){this.name=e,this._logLevel=J1,this._logHandler=tV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const nV=(t,e)=>e.some(n=>t instanceof n);let cy,uy;function rV(){return cy||(cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iV(){return uy||(uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CT=new WeakMap,ad=new WeakMap,AT=new WeakMap,Hl=new WeakMap,lp=new WeakMap;function sV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ir(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CT.set(n,t)}).catch(()=>{}),lp.set(e,t),e}function oV(t){if(ad.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ad.set(t,e)}let cd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ad.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ir(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aV(t){cd=t(cd)}function cV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ql(this),e,...n);return AT.set(r,e.sort?e.sort():[e]),ir(r)}:iV().includes(t)?function(...e){return t.apply(ql(this),e),ir(CT.get(this))}:function(...e){return ir(t.apply(ql(this),e))}}function uV(t){return typeof t=="function"?cV(t):(t instanceof IDBTransaction&&oV(t),nV(t,rV())?new Proxy(t,cd):t)}function ir(t){if(t instanceof IDBRequest)return sV(t);if(Hl.has(t))return Hl.get(t);const e=uV(t);return e!==t&&(Hl.set(t,e),lp.set(e,t)),e}const ql=t=>lp.get(t);function lV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ir(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ir(o.result),c.oldVersion,c.newVersion,ir(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const hV=["get","getKey","getAll","getAllKeys","count"],dV=["put","add","delete","clear"],zl=new Map;function ly(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zl.get(e))return zl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hV.includes(n)))return;const s=function(o,...a){return g(this,null,function*(){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return zl.set(e,s),s}aV(t=>({...t,get:(e,n,r)=>ly(e,n)||t.get(e,n,r),has:(e,n)=>!!ly(e,n)||t.has(e,n)}));class fV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pV(t){const e=t.getComponent();return e?.type==="VERSION"}const ud="@firebase/app",hy="0.9.28";const Wr=new up("@firebase/app"),gV="@firebase/app-compat",mV="@firebase/analytics-compat",yV="@firebase/analytics",vV="@firebase/app-check-compat",_V="@firebase/app-check",EV="@firebase/auth",wV="@firebase/auth-compat",IV="@firebase/database",TV="@firebase/database-compat",SV="@firebase/functions",CV="@firebase/functions-compat",AV="@firebase/installations",RV="@firebase/installations-compat",bV="@firebase/messaging",DV="@firebase/messaging-compat",PV="@firebase/performance",MV="@firebase/performance-compat",NV="@firebase/remote-config",kV="@firebase/remote-config-compat",OV="@firebase/storage",xV="@firebase/storage-compat",LV="@firebase/firestore",VV="@firebase/firestore-compat",FV="firebase",UV="10.8.1";const ld="[DEFAULT]",jV={[ud]:"fire-core",[gV]:"fire-core-compat",[yV]:"fire-analytics",[mV]:"fire-analytics-compat",[_V]:"fire-app-check",[vV]:"fire-app-check-compat",[EV]:"fire-auth",[wV]:"fire-auth-compat",[IV]:"fire-rtdb",[TV]:"fire-rtdb-compat",[SV]:"fire-fn",[CV]:"fire-fn-compat",[AV]:"fire-iid",[RV]:"fire-iid-compat",[bV]:"fire-fcm",[DV]:"fire-fcm-compat",[PV]:"fire-perf",[MV]:"fire-perf-compat",[NV]:"fire-rc",[kV]:"fire-rc-compat",[OV]:"fire-gcs",[xV]:"fire-gcs-compat",[LV]:"fire-fst",[VV]:"fire-fst-compat","fire-js":"fire-js",[FV]:"fire-js-all"};const yo=new Map,hd=new Map;function $V(t,e){try{t.container.addComponent(e)}catch(n){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qi(t){const e=t.name;if(hd.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;hd.set(e,t);for(const n of yo.values())$V(n,t);return!0}function hp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const BV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},sr=new Zo("app","Firebase",BV);class HV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}const cs=UV;function RT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ld,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw sr.create("bad-app-name",{appName:String(i)});if(n||(n=IT()),!n)throw sr.create("no-options");const s=yo.get(i);if(s){if(Rc(n,s.options)&&Rc(r,s.config))return s;throw sr.create("duplicate-app",{appName:i})}const o=new X1(i);for(const c of hd.values())o.addComponent(c);const a=new HV(n,r,o);return yo.set(i,a),a}function dp(t=ld){const e=yo.get(t);if(!e&&t===ld&&IT())return RT();if(!e)throw sr.create("no-app",{appName:t});return e}function bT(){return Array.from(yo.values())}function Pt(t,e,n){var r;let i=(r=jV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(a.join(" "));return}qi(new zr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const qV="firebase-heartbeat-database",zV=1,vo="firebase-heartbeat-store";let Wl=null;function DT(){return Wl||(Wl=lV(qV,zV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vo)}catch(n){console.warn(n)}}}}).catch(t=>{throw sr.create("idb-open",{originalErrorMessage:t.message})})),Wl}function WV(t){return g(this,null,function*(){try{const n=(yield DT()).transaction(vo),r=yield n.objectStore(vo).get(PT(t));return yield n.done,r}catch(e){if(e instanceof Kn)Wr.warn(e.message);else{const n=sr.create("idb-get",{originalErrorMessage:e?.message});Wr.warn(n.message)}}})}function dy(t,e){return g(this,null,function*(){try{const r=(yield DT()).transaction(vo,"readwrite");yield r.objectStore(vo).put(e,PT(t)),yield r.done}catch(n){if(n instanceof Kn)Wr.warn(n.message);else{const r=sr.create("idb-set",{originalErrorMessage:n?.message});Wr.warn(r.message)}}})}function PT(t){return`${t.name}!${t.options.appId}`}const GV=1024,KV=30*24*60*60*1e3;class QV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return g(this,null,function*(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fy();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=KV}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return g(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fy(),{heartbeatsToSend:r,unsentEntries:i}=ZV(this._heartbeatsCache.heartbeats),s=Ac(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}}function fy(){return new Date().toISOString().substring(0,10)}function ZV(t,e=GV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),py(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),py(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class XV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(this,null,function*(){return ST()?j1().then(()=>!0).catch(()=>!1):!1})}read(){return g(this,null,function*(){if(yield this._canUseIndexedDBPromise){const n=yield WV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){const i=yield this.read();return dy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){const i=yield this.read();return dy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}}function py(t){return Ac(JSON.stringify({version:2,heartbeats:t})).length}function YV(t){qi(new zr("platform-logger",e=>new fV(e),"PRIVATE")),qi(new zr("heartbeat",e=>new QV(e),"PRIVATE")),Pt(ud,hy,t),Pt(ud,hy,"esm2017"),Pt("fire-js","")}YV("");var JV="firebase",eF="10.8.1";Pt(JV,eF,"app");const bc=new uI("ANGULARFIRE2_VERSION");function MT(t,e,n){if(e){if(e.length===1)return e[0];const s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const fp=(t,e)=>{const n=e?[e]:bT(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class NT{constructor(){return fp(tF)}}const tF="app-check";function Ai(){}class gy{constructor(e,n=TR){Ge(this,"zone",void 0),Ge(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}}class nF{constructor(e){Ge(this,"zone",void 0),Ge(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ai,{},Ai,Ai)),n.pipe(qe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}}let pp=(()=>{var t;class e{constructor(r){Ge(this,"ngZone",void 0),Ge(this,"outsideAngular",void 0),Ge(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new gy(Zone.current)),this.insideAngular=r.run(()=>new gy(Zone.current,ER)),globalThis.ɵAngularFireScheduler||(globalThis.ɵAngularFireScheduler=this)}}return t=e,Ge(e,"ɵfac",function(r){return new(r||t)(te(Me))}),Ge(e,"ɵprov",q({token:t,factory:t.ɵfac,providedIn:"root"})),e})();function bu(){const t=globalThis.ɵAngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function rF(t){return bu().ngZone.runOutsideAngular(()=>t())}function Sr(t){return bu().ngZone.run(()=>t())}function iF(t){return sF(bu())(t)}function sF(t){return function(n){return n=n.lift(new nF(t.ngZone)),n.pipe(Yc(t.outsideAngular),Xc(t.insideAngular))}}const oF=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Sr(()=>t.apply(void 0,r))},yt=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||(n=Sr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ai,{},Ai,Ai)))),r[s]=oF(r[s],n));const i=rF(()=>t.apply(this,r));if(!e)if(i instanceof Le){const s=bu();return i.pipe(Yc(s.outsideAngular),Xc(s.insideAngular))}else return Sr(()=>i);return i instanceof Le?i.pipe(iF):i instanceof Promise?Sr(()=>new Promise((s,o)=>i.then(a=>Sr(()=>s(a)),a=>Sr(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Sr(()=>i)};class Yo{constructor(e){return e}}class gp{constructor(){return bT()}}function aF(t){return t&&t.length===1?t[0]:new Yo(dp())}const mp=new se("angularfire2._apps"),cF={provide:Yo,useFactory:aF,deps:[[new Un,mp]]},uF={provide:gp,deps:[[new Un,mp]]};function lF(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Yo(r)}}let hF=(()=>{var t;class e{constructor(r){Pt("angularfire",bc.full,"core"),Pt("angularfire",bc.full,"app"),Pt("angular",JN.full,r.toString())}}return t=e,Ge(e,"ɵfac",function(r){return new(r||t)(te(gr))}),Ge(e,"ɵmod",tu({type:t})),Ge(e,"ɵinj",au({providers:[cF,uF]})),e})();function dF(t,...e){return{ngModule:hF,providers:[{provide:mp,useFactory:lF(t),multi:!0,deps:[Me,Wn,pp,...e]}]}}const fF=yt(RT,!0);function kT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pF=kT,OT=new Zo("auth","Firebase",kT());const Dc=new up("@firebase/auth");function gF(t,...e){Dc.logLevel<=ge.WARN&&Dc.warn(`Auth (${cs}): ${t}`,...e)}function Xa(t,...e){Dc.logLevel<=ge.ERROR&&Dc.error(`Auth (${cs}): ${t}`,...e)}function mn(t,...e){throw yp(t,...e)}function ln(t,...e){return yp(t,...e)}function xT(t,e,n){const r=Object.assign(Object.assign({},pF()),{[e]:n});return new Zo("auth","Firebase",r).create(e,{appName:t.name})}function mF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&mn(t,"argument-error"),xT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OT.create(t,...e)}function J(t,e,...n){if(!t)throw yp(e,...n)}function bn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xa(e),new Error(e)}function $n(t,e){t||bn(e)}function dd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yF(){return my()==="http:"||my()==="https:"}function my(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function vF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yF()||L1()||"connection"in navigator)?navigator.onLine:!0}function _F(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Jo{constructor(e,n){this.shortDelay=e,this.longDelay=n,$n(n>e,"Short delay should be less than long delay!"),this.isMobile=O1()||V1()}get(){return vF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vp(t,e){$n(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class LT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const EF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const wF=new Jo(3e4,6e4);function _p(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function us(s,o,a,c){return g(this,arguments,function*(t,e,n,r,i={}){return VT(t,i,()=>g(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});const h=Xo(Object.assign({key:t.config.apiKey},l)).slice(1),d=yield t._getAdditionalHeaders();return d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),LT.fetch()(FT(t,t.config.apiHost,n,h),Object.assign({method:e,headers:d,referrerPolicy:"no-referrer"},u))}))})}function VT(t,e,n){return g(this,null,function*(){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},EF),e);try{const i=new TF(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw ba(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ba(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ba(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ba(t,"user-disabled",o);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw xT(t,l,u);mn(t,l)}}catch(i){if(i instanceof Kn)throw i;mn(t,"network-request-failed",{message:String(i)})}})}function IF(s,o,a,c){return g(this,arguments,function*(t,e,n,r,i={}){const u=yield us(t,e,n,r,i);return"mfaPendingCredential"in u&&mn(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function FT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?vp(t.config,i):`${t.config.apiScheme}://${i}`}class TF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ln(this.auth,"network-request-failed")),wF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ba(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ln(t,e,r);return i.customData._tokenResponse=n,i}function SF(t,e){return g(this,null,function*(){return us(t,"POST","/v1/accounts:delete",e)})}function CF(t,e){return g(this,null,function*(){return us(t,"POST","/v1/accounts:lookup",e)})}function Fs(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function AF(t,e=!1){return g(this,null,function*(){const n=ot(t),r=yield n.getIdToken(e),i=Ep(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Fs(Gl(i.auth_time)),issuedAtTime:Fs(Gl(i.iat)),expirationTime:Fs(Gl(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Gl(t){return Number(t)*1e3}function Ep(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xa("JWT malformed, contained fewer than 3 sections"),null;try{const i=ET(n);return i?JSON.parse(i):(Xa("Failed to decode base64 JWT payload"),null)}catch(i){return Xa("Caught error parsing JWT payload as JSON",i?.toString()),null}}function RF(t){const e=Ep(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function _o(t,e,n=!1){return g(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Kn&&bF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function bF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class DF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(()=>g(this,null,function*(){yield this.iteration()}),n)}iteration(){return g(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}}class UT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fs(this.lastLoginAt),this.creationTime=Fs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pc(t){return g(this,null,function*(){var e;const n=t.auth,r=yield t.getIdToken(),i=yield _o(t,CF(n,{idToken:r}));J(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?NF(s.providerUserInfo):[],a=MF(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new UT(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,h)})}function PF(t){return g(this,null,function*(){const e=ot(t);yield Pc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function MF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function NF(t){return t.map(e=>{var{providerId:n}=e,r=Qd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function kF(t,e){return g(this,null,function*(){const n=yield VT(t,{},()=>g(this,null,function*(){const r=Xo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=FT(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",LT.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function OF(t,e){return g(this,null,function*(){return us(t,"POST","/v2/accounts:revokeToken",_p(t,e))})}class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return g(this,null,function*(){return J(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return g(this,null,function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield kF(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Eo;return r&&(J(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(J(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return bn("not implemented")}}function Zn(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Or{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Qd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new UT(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return g(this,null,function*(){const n=yield _o(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return AF(this,e)}reload(){return PF(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return g(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Pc(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return g(this,null,function*(){const e=yield this.getIdToken();return yield _o(this,SF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,C=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:S,emailVerified:V,isAnonymous:U,providerData:H,stsTokenManager:B}=n;J(S&&B,e,"internal-error");const O=Eo.fromJSON(this.name,B);J(typeof S=="string",e,"internal-error"),Zn(h,e.name),Zn(d,e.name),J(typeof V=="boolean",e,"internal-error"),J(typeof U=="boolean",e,"internal-error"),Zn(f,e.name),Zn(m,e.name),Zn(y,e.name),Zn(_,e.name),Zn(T,e.name),Zn(C,e.name);const fe=new Or({uid:S,auth:e,email:d,emailVerified:V,displayName:h,isAnonymous:U,photoURL:m,phoneNumber:f,tenantId:y,stsTokenManager:O,createdAt:T,lastLoginAt:C});return H&&Array.isArray(H)&&(fe.providerData=H.map(N=>Object.assign({},N))),_&&(fe._redirectEventId=_),fe}static _fromIdTokenResponse(e,n,r=!1){return g(this,null,function*(){const i=new Eo;i.updateFromServerResponse(n);const s=new Or({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Pc(s),s})}}const yy=new Map;function Dn(t){$n(t instanceof Function,"Expected a class definition");let e=yy.get(t);return e?($n(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yy.set(t,e),e)}let xF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(this,null,function*(){return!0})}_set(n,r){return g(this,null,function*(){this.storage[n]=r})}_get(n){return g(this,null,function*(){const r=this.storage[n];return r===void 0?null:r})}_remove(n){return g(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();const vy=xF;function Ya(t,e,n){return`firebase:${t}:${e}:${n}`}class Ri{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ya(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ya("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return g(this,null,function*(){const e=yield this.persistence._get(this.fullUserKey);return e?Or._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return g(this,null,function*(){if(this.persistence===e)return;const n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(this,null,function*(){if(!n.length)return new Ri(Dn(vy),e,r);const i=(yield Promise.all(n.map(u=>g(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u);let s=i[0]||Dn(vy);const o=Ya(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=yield u._get(o);if(l){const h=Or._fromJSON(e,l);u!==s&&(a=h),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Ri(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>g(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new Ri(s,e,r))})}}function _y(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qT(e))return"Blackberry";if(zT(e))return"Webos";if(wp(e))return"Safari";if((e.includes("chrome/")||$T(e))&&!e.includes("edge/"))return"Chrome";if(HT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function jT(t=$e()){return/firefox\//i.test(t)}function wp(t=$e()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $T(t=$e()){return/crios\//i.test(t)}function BT(t=$e()){return/iemobile/i.test(t)}function HT(t=$e()){return/android/i.test(t)}function qT(t=$e()){return/blackberry/i.test(t)}function zT(t=$e()){return/webos/i.test(t)}function Du(t=$e()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function LF(t=$e()){var e;return Du(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function VF(){return F1()&&document.documentMode===10}function WT(t=$e()){return Du(t)||HT(t)||zT(t)||qT(t)||/windows phone/i.test(t)||BT(t)}function FF(){try{return!!(window&&window!==window.top)}catch{return!1}}function GT(t,e=[]){let n;switch(t){case"Browser":n=_y($e());break;case"Worker":n=`${_y($e())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cs}/${r}`}class UF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return g(this,null,function*(){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}}function jF(n){return g(this,arguments,function*(t,e={}){return us(t,"GET","/v2/passwordPolicy",_p(t,e))})}const $F=6;class BF{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:$F,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class HF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ey(this),this.idTokenSubscription=new Ey(this),this.beforeStateQueue=new UF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dn(n)),this._initializationPromise=this.queue(()=>g(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Ri.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return g(this,null,function*(){if(this._deleted)return;const e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return g(this,null,function*(){var n;const r=yield this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return g(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return g(this,null,function*(){try{yield Pc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=_F()}_delete(){return g(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return g(this,null,function*(){const n=e?ot(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return g(this,null,function*(){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>g(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return g(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>g(this,null,function*(){yield this.assertedPersistence.setPersistence(Dn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return g(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return g(this,null,function*(){const e=yield jF(this),n=new BF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return g(this,null,function*(){if(this.currentUser){const n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield OF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return g(this,null,function*(){const r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return g(this,null,function*(){if(!this.redirectPersistenceManager){const n=e&&Dn(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=yield Ri.create(this,[Dn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return g(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>g(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return g(this,null,function*(){if(e===this.currentUser)return this.queue(()=>g(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return g(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return g(this,null,function*(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);const i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return g(this,null,function*(){var e;const n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&gF(`Error while retrieving App Check token: ${n.error}`),n?.token})}}function Pu(t){return ot(t)}class Ey{constructor(e){this.auth=e,this.observer=null,this.addObserver=z1(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ip={loadJS(){return g(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qF(t){Ip=t}function zF(t){return Ip.loadJS(t)}function WF(){return Ip.gapiScript}function GF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function KF(t,e){const n=hp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Rc(s,e??{}))return i;mn(i,"already-initialized")}return n.initialize({options:e})}function QF(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Dn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ZF(t,e,n){const r=Pu(t);J(r._canInitEmulator,r,"emulator-config-failed"),J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=KT(e),{host:o,port:a}=XF(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||YF()}function KT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XF(t){const e=KT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:wy(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:wy(o)}}}function wy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class QT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bn("not implemented")}_getIdTokenResponse(e){return bn("not implemented")}_linkToIdToken(e,n){return bn("not implemented")}_getReauthenticationResolver(e){return bn("not implemented")}}function bi(t,e){return g(this,null,function*(){return IF(t,"POST","/v1/accounts:signInWithIdp",_p(t,e))})}const JF="http://localhost";class Mc extends QT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Mc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Qd(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Mc(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return bi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bi(e,n)}buildRequest(){const e={requestUri:JF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xo(n)}return e}}class Tp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ZT extends Tp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let AH=(()=>{class t extends ZT{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Mc._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();class zi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(this,null,function*(){const s=yield Or._fromIdTokenResponse(e,r,i),o=Iy(r);return new zi({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return g(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);const i=Iy(r);return new zi({user:e,providerId:i,_tokenResponse:r,operationType:n})})}}function Iy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Nc extends Kn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Nc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Nc(e,n,r,i)}}function XT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Nc._fromErrorAndOperation(t,s,e,r):s})}function eU(t,e,n=!1){return g(this,null,function*(){const r=yield _o(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return zi._forOperation(t,"link",r)})}function tU(t,e,n=!1){return g(this,null,function*(){const{auth:r}=t,i="reauthenticate";try{const s=yield _o(t,XT(r,i,e,t),n);J(s.idToken,r,"internal-error");const o=Ep(s.idToken);J(o,r,"internal-error");const{sub:a}=o;return J(t.uid===a,r,"user-mismatch"),zi._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&mn(r,"user-mismatch"),s}})}function nU(t,e,n=!1){return g(this,null,function*(){const r="signIn",i=yield XT(t,r,e),s=yield zi._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function YT(t,e,n,r){return ot(t).onIdTokenChanged(e,n,r)}function rU(t,e,n){return ot(t).beforeAuthStateChanged(e,n)}function iU(t){return ot(t).signOut()}const kc="__sak";class JT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kc,"1"),this.storage.removeItem(kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}function sU(){const t=$e();return wp(t)||Du(t)}const oU=1e3,aU=10;let cU=(()=>{class t extends JT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=sU()&&FF(),this.fallbackToPolling=WT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);VF()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,aU):s()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},oU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return g(this,null,function*(){yield Ir(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return g(this,null,function*(){const r=yield Ir(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return g(this,null,function*(){yield Ir(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})();const uU=cU;let lU=(()=>{class t extends JT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();const eS=lU;function hU(t){return Promise.all(t.map(e=>g(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}let dU=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return g(this,null,function*(){const r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(a).map(l=>g(this,null,function*(){return l(r.origin,o)})),u=yield hU(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Sp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class fU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return g(this,null,function*(){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=Sp("",20);i.port1.start();const l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}}function hn(){return window}function pU(t){hn().location.href=t}function tS(){return typeof hn().WorkerGlobalScope<"u"&&typeof hn().importScripts=="function"}function gU(){return g(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function mU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yU(){return tS()?self:null}const nS="firebaseLocalStorageDb",vU=1,Oc="firebaseLocalStorage",rS="fbase_key";class ea{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mu(t,e){return t.transaction([Oc],e?"readwrite":"readonly").objectStore(Oc)}function _U(){const t=indexedDB.deleteDatabase(nS);return new ea(t).toPromise()}function fd(){const t=indexedDB.open(nS,vU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Oc,{keyPath:rS})}catch(i){n(i)}}),t.addEventListener("success",()=>g(this,null,function*(){const r=t.result;r.objectStoreNames.contains(Oc)?e(r):(r.close(),yield _U(),e(yield fd()))}))})}function Ty(t,e,n){return g(this,null,function*(){const r=Mu(t,!0).put({[rS]:e,value:n});return new ea(r).toPromise()})}function EU(t,e){return g(this,null,function*(){const n=Mu(t,!1).get(e),r=yield new ea(n).toPromise();return r===void 0?null:r.value})}function Sy(t,e){const n=Mu(t,!0).delete(e);return new ea(n).toPromise()}const wU=800,IU=3;let TU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return g(this,null,function*(){return this.db?this.db:(this.db=yield fd(),this.db)})}_withRetries(n){return g(this,null,function*(){let r=0;for(;;)try{const i=yield this._openDb();return yield n(i)}catch(i){if(r++>IU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return g(this,null,function*(){return tS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return g(this,null,function*(){this.receiver=dU._getInstance(yU()),this.receiver._subscribe("keyChanged",(n,r)=>g(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>g(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return g(this,null,function*(){var n,r;if(this.activeServiceWorker=yield gU(),!this.activeServiceWorker)return;this.sender=new fU(this.activeServiceWorker);const i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return g(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||mU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return g(this,null,function*(){try{if(!indexedDB)return!1;const n=yield fd();return yield Ty(n,kc,"1"),yield Sy(n,kc),!0}catch{}return!1})}_withPendingWrite(n){return g(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(i=>Ty(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return g(this,null,function*(){const r=yield this._withRetries(i=>EU(i,n));return this.localCache[n]=r,r})}_remove(n){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(r=>Sy(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return g(this,null,function*(){const n=yield this._withRetries(s=>{const o=Mu(s,!1).getAll();return new ea(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];const r=[],i=new Set;if(n.length!==0)for(const{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>g(this,null,function*(){return this._poll()}),wU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})();const SU=TU;new Jo(3e4,6e4);function iS(t,e){return e?Dn(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Cp extends QT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function CU(t){return nU(t.auth,new Cp(t),t.bypassAuthState)}function AU(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),tU(n,new Cp(t),t.bypassAuthState)}function RU(t){return g(this,null,function*(){const{auth:e,user:n}=t;return J(n,e,"internal-error"),eU(n,new Cp(t),t.bypassAuthState)})}class sS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>g(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return g(this,null,function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CU;case"linkViaPopup":case"linkViaRedirect":return RU;case"reauthViaPopup":case"reauthViaRedirect":return AU;default:mn(this.auth,"internal-error")}}resolve(e){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bU=new Jo(2e3,1e4);function DU(t,e,n){return g(this,null,function*(){const r=Pu(t);mF(t,e,Tp);const i=iS(r,n);return new PU(r,"signInViaPopup",e,i).executeNotNull()})}let PU=(()=>{class t extends sS{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return g(this,null,function*(){const n=yield this.execute();return J(n,this.auth,"internal-error"),n})}onExecution(){return g(this,null,function*(){$n(this.filter.length===1,"Popup operations only handle one event");const n=Sp();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,bU.get())};n()}}t.currentPopupAction=null;return t})();const MU="pendingRedirect",Ja=new Map;class Us extends sS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return g(this,null,function*(){let e=Ja.get(this.auth._key());if(!e){try{const r=(yield NU(this.resolver,this.auth))?yield Ir(Us.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ja.set(this.auth._key(),e)}return this.bypassAuthState||Ja.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return g(this,null,function*(){if(e.type==="signInViaRedirect")return Ir(Us.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ir(Us.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return g(this,null,function*(){})}cleanUp(){}}function NU(t,e){return g(this,null,function*(){const n=xU(e),r=OU(t);if(!(yield r._isAvailable()))return!1;const i=(yield r._get(n))==="true";return yield r._remove(n),i})}function kU(t,e){Ja.set(t._key(),e)}function OU(t){return Dn(t._redirectPersistence)}function xU(t){return Ya(MU,t.config.apiKey,t.name)}function LU(t,e,n=!1){return g(this,null,function*(){const r=Pu(t),i=iS(r,e),o=yield new Us(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}const VU=10*60*1e3;class FU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!oS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ln(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VU&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cy(e))}saveEventToCache(e){this.cachedEventUids.add(Cy(e)),this.lastProcessedEventTime=Date.now()}}function Cy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function UU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oS(t);default:return!1}}function jU(n){return g(this,arguments,function*(t,e={}){return us(t,"GET","/v1/projects",e)})}const $U=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BU=/^https?/;function HU(t){return g(this,null,function*(){if(t.config.emulator)return;const{authorizedDomains:e}=yield jU(t);for(const n of e)try{if(qU(n))return}catch{}mn(t,"unauthorized-domain")})}function qU(t){const e=dd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!BU.test(n))return!1;if($U.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const zU=new Jo(3e4,6e4);function Ay(){const t=hn().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WU(t){return new Promise((e,n)=>{var r,i,s;function o(){Ay(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ay(),n(ln(t,"network-request-failed"))},timeout:zU.get()})}if(!((i=(r=hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=hn().gapi)===null||s===void 0)&&s.load)o();else{const a=GF("iframefcb");return hn()[a]=()=>{gapi.load?o():n(ln(t,"network-request-failed"))},zF(`${WF()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw ec=null,e})}let ec=null;function GU(t){return ec=ec||WU(t),ec}const KU=new Jo(5e3,15e3),QU="__/auth/iframe",ZU="emulator/auth/iframe",XU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JU(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vp(e,ZU):`https://${t.config.authDomain}/${QU}`,r={apiKey:e.apiKey,appName:t.name,v:cs},i=YU.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Xo(r).slice(1)}`}function ej(t){return g(this,null,function*(){const e=yield GU(t),n=hn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:JU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XU,dontclear:!0},r=>new Promise((i,s)=>g(this,null,function*(){yield r.restyle({setHideOnLeave:!1});const o=ln(t,"network-request-failed"),a=hn().setTimeout(()=>{s(o)},KU.get());function c(){hn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}const tj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nj=500,rj=600,ij="_blank",sj="http://localhost";class Ry{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oj(t,e,n,r=nj,i=rj){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},tj),{width:r.toString(),height:i.toString(),top:s,left:o}),u=$e().toLowerCase();n&&(a=$T(u)?ij:n),jT(u)&&(e=e||sj,c.scrollbars="yes");const l=Object.entries(c).reduce((d,[f,m])=>`${d}${f}=${m},`,"");if(LF(u)&&a!=="_self")return aj(e||"",a),new Ry(null);const h=window.open(e||"",a,l);J(h,t,"popup-blocked");try{h.focus()}catch{}return new Ry(h)}function aj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const cj="__/auth/handler",uj="emulator/auth/handler",lj=encodeURIComponent("fac");function by(t,e,n,r,i,s){return g(this,null,function*(){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:cs,eventId:i};if(e instanceof Tp){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",q1(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,h]of Object.entries(s||{}))o[l]=h}if(e instanceof ZT){const l=e.getScopes().filter(h=>h!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];const c=yield t._getAppCheckToken(),u=c?`#${lj}=${encodeURIComponent(c)}`:"";return`${hj(t)}?${Xo(a).slice(1)}${u}`})}function hj({config:t}){return t.emulator?vp(t,uj):`https://${t.authDomain}/${cj}`}const Kl="webStorageSupport";class dj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eS,this._completeRedirectFn=LU,this._overrideRedirectResult=kU}_openPopup(e,n,r,i){return g(this,null,function*(){var s;$n((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=yield by(e,n,r,dd(),i);return oj(e,o,Sp())})}_openRedirect(e,n,r,i){return g(this,null,function*(){yield this._originValidation(e);const s=yield by(e,n,r,dd(),i);return pU(s),new Promise(()=>{})})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):($n(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return g(this,null,function*(){const n=yield ej(e),r=new FU(e);return n.register("authEvent",i=>(J(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kl,{type:Kl},i=>{var s;const o=(s=i?.[0])===null||s===void 0?void 0:s[Kl];o!==void 0&&n(!!o),mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WT()||wp()||Du()}}const fj=dj;var Dy="@firebase/auth",Py="1.6.1";class pj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return g(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mj(t){qi(new zr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GT(t)},u=new HF(r,i,s,c);return QF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qi(new zr("auth-internal",e=>{const n=Pu(e.getProvider("auth").getImmediate());return(r=>new pj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pt(Dy,Py,gj(t)),Pt(Dy,Py,"esm2017")}const yj=5*60,vj=TT("authIdTokenMaxAge")||yj;let My=null;const _j=t=>e=>g(void 0,null,function*(){const n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vj)return;const i=n?.token;My!==i&&(My=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ej(t=dp()){const e=hp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=KF(t,{popupRedirectResolver:fj,persistence:[SU,uU,eS]}),r=TT("authTokenSyncURL");if(r){const s=_j(r);rU(n,s,()=>s(n.currentUser)),YT(n,o=>s(o))}const i=wT("auth");return i&&ZF(n,`http://${i}`),n}function wj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}qF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ln("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",wj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mj("Browser");const aS="auth";class Ap{constructor(e){return e}}class cS{constructor(){return fp(aS)}}const Rp=new se("angularfire2.auth-instances");function Ij(t,e){const n=MT(aS,t,e);return n&&new Ap(n)}function Tj(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ap(r)}}const Sj={provide:cS,deps:[[new Un,Rp]]},Cj={provide:Ap,useFactory:Ij,deps:[[new Un,Rp],Yo]};let Aj=(()=>{var t;class e{constructor(){Pt("angularfire",bc.full,"auth")}}return t=e,Ge(e,"ɵfac",function(r){return new(r||t)}),Ge(e,"ɵmod",tu({type:t})),Ge(e,"ɵinj",au({providers:[Cj,Sj]})),e})();function Rj(t,...e){return{ngModule:Aj,providers:[{provide:Rp,useFactory:Tj(t),multi:!0,deps:[Me,Wn,pp,gp,[new Un,NT],...e]}]}}const bj=yt(Ej,!0),RH=yt(YT,!0),bH=yt(DU,!0),DH=yt(iU,!0);var Dj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M,bp=bp||{},Q=Dj||self;function Nu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ta(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Pj(t){return Object.prototype.hasOwnProperty.call(t,Ql)&&t[Ql]||(t[Ql]=++Mj)}var Ql="closure_uid_"+(1e9*Math.random()>>>0),Mj=0;function Nj(t,e,n){return t.call.apply(t.bind,arguments)}function kj(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function pt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?pt=Nj:pt=kj,pt.apply(null,arguments)}function Da(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Je(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function vr(){this.s=this.s,this.o=this.o}var Oj=0;vr.prototype.s=!1;vr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Oj!=0)&&Pj(this)};vr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Dp(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ny(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Nu(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function gt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}gt.prototype.h=function(){this.defaultPrevented=!0};var xj=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Q.addEventListener("test",n,e),Q.removeEventListener("test",n,e)}catch{}return t}();function wo(t){return/^[\s\xa0]*$/.test(t)}function ku(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function rn(t){return ku().indexOf(t)!=-1}function Pp(t){return Pp[" "](t),t}Pp[" "]=function(){};function Lj(t,e){var n=b2;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Vj=rn("Opera"),Wi=rn("Trident")||rn("MSIE"),lS=rn("Edge"),pd=lS||Wi,hS=rn("Gecko")&&!(ku().toLowerCase().indexOf("webkit")!=-1&&!rn("Edge"))&&!(rn("Trident")||rn("MSIE"))&&!rn("Edge"),Fj=ku().toLowerCase().indexOf("webkit")!=-1&&!rn("Edge");function dS(){var t=Q.document;return t?t.documentMode:void 0}var gd;e:{var Zl="",Xl=function(){var t=ku();if(hS)return/rv:([^\);]+)(\)|;)/.exec(t);if(lS)return/Edge\/([\d\.]+)/.exec(t);if(Wi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Fj)return/WebKit\/(\S+)/.exec(t);if(Vj)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Xl&&(Zl=Xl?Xl[1]:""),Wi){var Yl=dS();if(Yl!=null&&Yl>parseFloat(Zl)){gd=String(Yl);break e}}gd=Zl}var md;if(Q.document&&Wi){var ky=dS();md=ky||parseInt(gd,10)||void 0}else md=void 0;var Uj=md;function Io(t,e){if(gt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(hS){e:{try{Pp(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:jj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Io.$.h.call(this)}}Je(Io,gt);var jj={2:"touch",3:"pen",4:"mouse"};Io.prototype.h=function(){Io.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var na="closure_listenable_"+(1e6*Math.random()|0),$j=0;function Bj(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++$j,this.fa=this.ia=!1}function Ou(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Mp(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Hj(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function fS(t){const e={};for(const n in t)e[n]=t[n];return e}const Oy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pS(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Oy.length;s++)n=Oy[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function xu(t){this.src=t,this.g={},this.h=0}xu.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=vd(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Bj(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function yd(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=uS(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ou(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function vd(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Np="closure_lm_"+(1e6*Math.random()|0),Jl={};function gS(t,e,n,r,i){if(r&&r.once)return yS(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)gS(t,e[s],n,r,i);return null}return n=xp(n),t&&t[na]?t.O(e,n,ta(r)?!!r.capture:!!r,i):mS(t,e,n,!1,r,i)}function mS(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ta(i)?!!i.capture:!!i,a=Op(t);if(a||(t[Np]=a=new xu(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=qj(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)xj||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_S(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function qj(){function t(n){return e.call(t.src,t.listener,n)}const e=zj;return t}function yS(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)yS(t,e[s],n,r,i);return null}return n=xp(n),t&&t[na]?t.P(e,n,ta(r)?!!r.capture:!!r,i):mS(t,e,n,!0,r,i)}function vS(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)vS(t,e[s],n,r,i);else r=ta(r)?!!r.capture:!!r,n=xp(n),t&&t[na]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=vd(s,n,r,i),-1<n&&(Ou(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Op(t))&&(e=t.g[e.toString()],t=-1,e&&(t=vd(e,n,r,i)),(n=-1<t?e[t]:null)&&kp(n))}function kp(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[na])yd(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_S(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Op(e))?(yd(n,t),n.h==0&&(n.src=null,e[Np]=null)):Ou(t)}}}function _S(t){return t in Jl?Jl[t]:Jl[t]="on"+t}function zj(t,e){if(t.fa)t=!0;else{e=new Io(e,this);var n=t.listener,r=t.la||t.src;t.ia&&kp(t),t=n.call(r,e)}return t}function Op(t){return t=t[Np],t instanceof xu?t:null}var eh="__closure_events_fn_"+(1e9*Math.random()>>>0);function xp(t){return typeof t=="function"?t:(t[eh]||(t[eh]=function(e){return t.handleEvent(e)}),t[eh])}function Ye(){vr.call(this),this.i=new xu(this),this.S=this,this.J=null}Je(Ye,vr);Ye.prototype[na]=!0;Ye.prototype.removeEventListener=function(t,e,n,r){vS(this,t,e,n,r)};function rt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new gt(e,t);else if(e instanceof gt)e.target=e.target||t;else{var i=e;e=new gt(r,t),pS(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Pa(o,r,!0,e)&&i}if(o=e.g=t,i=Pa(o,r,!0,e)&&i,i=Pa(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Pa(o,r,!1,e)&&i}Ye.prototype.N=function(){if(Ye.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ou(n[r]);delete t.g[e],t.h--}}this.J=null};Ye.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ye.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Pa(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&yd(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Lp=Q.JSON.stringify;class Wj{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Gj(){var t=Vp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Kj{constructor(){this.h=this.g=null}add(e,n){const r=ES.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var ES=new Wj(()=>new Qj,t=>t.reset());class Qj{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Zj(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Xj(t){Q.setTimeout(()=>{throw t},0)}let To,So=!1,Vp=new Kj,wS=()=>{const t=Q.Promise.resolve(void 0);To=()=>{t.then(Yj)}};var Yj=()=>{for(var t;t=Gj();){try{t.h.call(t.g)}catch(n){Xj(n)}var e=ES;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}So=!1};function Lu(t,e){Ye.call(this),this.h=t||1,this.g=e||Q,this.j=pt(this.qb,this),this.l=Date.now()}Je(Lu,Ye);M=Lu.prototype;M.ga=!1;M.T=null;M.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rt(this,"tick"),this.ga&&(Fp(this),this.start()))}};M.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Fp(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}M.N=function(){Lu.$.N.call(this),Fp(this),delete this.g};function Up(t,e,n){if(typeof t=="function")n&&(t=pt(t,n));else if(t&&typeof t.handleEvent=="function")t=pt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function IS(t){t.g=Up(()=>{t.g=null,t.i&&(t.i=!1,IS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Jj extends vr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:IS(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Co(t){vr.call(this),this.h=t,this.g={}}Je(Co,vr);var xy=[];function TS(t,e,n,r){Array.isArray(n)||(n&&(xy[0]=n.toString()),n=xy);for(var i=0;i<n.length;i++){var s=gS(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function SS(t){Mp(t.g,function(e,n){this.g.hasOwnProperty(n)&&kp(e)},t),t.g={}}Co.prototype.N=function(){Co.$.N.call(this),SS(this)};Co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Vu(){this.g=!0}Vu.prototype.Ea=function(){this.g=!1};function e2(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&h[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function t2(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function vi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+r2(t,n)+(r?" "+r:"")})}function n2(t,e){t.info(function(){return"TIMEOUT: "+e})}Vu.prototype.info=function(){};function r2(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Lp(n)}catch{return e}}var ni={},Ly=null;function Fu(){return Ly=Ly||new Ye}ni.Ta="serverreachability";function CS(t){gt.call(this,ni.Ta,t)}Je(CS,gt);function Ao(t){const e=Fu();rt(e,new CS(e))}ni.STAT_EVENT="statevent";function AS(t,e){gt.call(this,ni.STAT_EVENT,t),this.stat=e}Je(AS,gt);function Et(t){const e=Fu();rt(e,new AS(e,t))}ni.Ua="timingevent";function RS(t,e){gt.call(this,ni.Ua,t),this.size=e}Je(RS,gt);function ra(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}var Uu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jp(){}jp.prototype.h=null;function Vy(t){return t.h||(t.h=t.i())}function DS(){}var ia={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $p(){gt.call(this,"d")}Je($p,gt);function Bp(){gt.call(this,"c")}Je(Bp,gt);var _d;function ju(){}Je(ju,jp);ju.prototype.g=function(){return new XMLHttpRequest};ju.prototype.i=function(){return{}};_d=new ju;function sa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Co(this),this.P=i2,t=pd?125:void 0,this.V=new Lu(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new PS}function PS(){this.i=null,this.g="",this.h=!1}var i2=45e3,MS={},Ed={};M=sa.prototype;M.setTimeout=function(t){this.P=t};function wd(t,e,n){t.L=1,t.A=Bu(Bn(e)),t.u=n,t.S=!0,NS(t,null)}function NS(t,e){t.G=Date.now(),oa(t),t.B=Bn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),jS(n.i,"t",r),t.o=0,n=t.l.J,t.h=new PS,t.g=aC(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Jj(pt(t.Pa,t,t.g),t.O)),TS(t.U,t.g,"readystatechange",t.nb),e=t.I?fS(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ao(),e2(t.j,t.v,t.B,t.m,t.W,t.u)}M.nb=function(t){t=t.target;const e=this.M;e&&an(t)==3?e.l():this.Pa(t)};M.Pa=function(t){try{if(t==this.g)e:{const l=an(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>l)&&(l!=3||pd||this.g&&(this.h.h||this.g.ja()||$y(this.g)))){this.J||l!=4||e==7||(e==8||0>=h?Ao(3):Ao(2)),$u(this);var n=this.g.da();this.ca=n;t:if(kS(this)){var r=$y(this.g);t="";var i=r.length,s=an(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dr(this),js(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,t2(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wo(a)){var u=a;break t}}u=null}if(n=u)vi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Id(this,n);else{this.i=!1,this.s=3,Et(12),Dr(this),js(this);break e}}this.S?(OS(this,l,o),pd&&this.i&&l==3&&(TS(this.U,this.V,"tick",this.mb),this.V.start())):(vi(this.j,this.m,o,null),Id(this,o)),l==4&&Dr(this),this.i&&!this.J&&(l==4?rC(this.l,this):(this.i=!1,oa(this)))}else C2(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),Dr(this),js(this)}}}catch{}finally{}};function kS(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function OS(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=s2(t,n),i==Ed){e==4&&(t.s=4,Et(14),r=!1),vi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==MS){t.s=4,Et(15),vi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else vi(t.j,t.m,i,null),Id(t,i);kS(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Et(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kp(e),e.M=!0,Et(11))):(vi(t.j,t.m,n,"[Invalid Chunked Response]"),Dr(t),js(t))}M.mb=function(){if(this.g){var t=an(this.g),e=this.g.ja();this.o<e.length&&($u(this),OS(this,t,e),this.i&&t!=4&&oa(this))}};function s2(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Ed:(n=Number(e.substring(n,r)),isNaN(n)?MS:(r+=1,r+n>e.length?Ed:(e=e.slice(r,r+n),t.o=r+n,e)))}M.cancel=function(){this.J=!0,Dr(this)};function oa(t){t.Y=Date.now()+t.P,xS(t,t.P)}function xS(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ra(pt(t.lb,t),e)}function $u(t){t.C&&(Q.clearTimeout(t.C),t.C=null)}M.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(n2(this.j,this.B),this.L!=2&&(Ao(),Et(17)),Dr(this),this.s=2,js(this)):xS(this,this.Y-t)};function js(t){t.l.H==0||t.J||rC(t.l,t)}function Dr(t){$u(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Fp(t.V),SS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Id(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Td(n.i,t))){if(!t.K&&Td(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Vc(n),Wu(n);else break e;Gp(n),Et(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ra(pt(n.ib,n),6e3));if(1>=HS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Pr(n,11)}else if((t.K||n.g==t)&&Vc(n),!wo(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Hp(s,s.h),s.h=null))}if(r.F){const y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Re(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=oC(r,r.J?r.pa:null,r.Y),o.K){qS(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&($u(a),oa(a)),r.g=o}else tC(r);0<n.j.length&&Gu(n)}else u[0]!="stop"&&u[0]!="close"||Pr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Pr(n,7):Wp(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ao(4)}catch{}}function o2(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Nu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function a2(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Nu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function LS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Nu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=a2(t),r=o2(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var VS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function c2(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function xr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof xr){this.h=t.h,xc(this,t.j),this.s=t.s,this.g=t.g,Lc(this,t.m),this.l=t.l;var e=t.i,n=new Ro;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Fy(this,n),this.o=t.o}else t&&(e=String(t).match(VS))?(this.h=!1,xc(this,e[1]||"",!0),this.s=Cs(e[2]||""),this.g=Cs(e[3]||"",!0),Lc(this,e[4]),this.l=Cs(e[5]||"",!0),Fy(this,e[6]||"",!0),this.o=Cs(e[7]||"")):(this.h=!1,this.i=new Ro(null,this.h))}xr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(As(e,Uy,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(As(e,Uy,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(As(n,n.charAt(0)=="/"?h2:l2,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",As(n,f2)),t.join("")};function Bn(t){return new xr(t)}function xc(t,e,n){t.j=n?Cs(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Lc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Fy(t,e,n){e instanceof Ro?(t.i=e,p2(t.i,t.h)):(n||(e=As(e,d2)),t.i=new Ro(e,t.h))}function Re(t,e,n){t.i.set(e,n)}function Bu(t){return Re(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Cs(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function As(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,u2),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function u2(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Uy=/[#\/\?@]/g,l2=/[#\?:]/g,h2=/[#\?]/g,d2=/[#\?@]/g,f2=/#/g;function Ro(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function _r(t){t.g||(t.g=new Map,t.h=0,t.i&&c2(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}M=Ro.prototype;M.add=function(t,e){_r(this),this.i=null,t=ls(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function FS(t,e){_r(t),e=ls(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function US(t,e){return _r(t),e=ls(t,e),t.g.has(e)}M.forEach=function(t,e){_r(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};M.ta=function(){_r(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};M.Z=function(t){_r(this);let e=[];if(typeof t=="string")US(this,t)&&(e=e.concat(this.g.get(ls(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};M.set=function(t,e){return _r(this),this.i=null,t=ls(this,t),US(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};M.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function jS(t,e,n){FS(t,e),0<n.length&&(t.i=null,t.g.set(ls(t,e),Dp(n)),t.h+=n.length)}M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ls(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function p2(t,e){e&&!t.j&&(_r(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(FS(this,r),jS(this,i,n))},t)),t.j=e}var g2=class{constructor(t,e){this.g=t,this.map=e}};function $S(t){this.l=t||m2,Q.PerformanceNavigationTiming?(t=Q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var m2=10;function BS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function HS(t){return t.h?1:t.g?t.g.size:0}function Td(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Hp(t,e){t.g?t.g.add(e):t.h=e}function qS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}$S.prototype.cancel=function(){if(this.i=zS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function zS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Dp(t.i)}var y2=class{stringify(t){return Q.JSON.stringify(t,void 0)}parse(t){return Q.JSON.parse(t,void 0)}};function v2(){this.g=new y2}function _2(t,e,n){const r=n||"";try{LS(t,function(i,s){let o=i;ta(i)&&(o=Lp(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function E2(t,e){const n=new Vu;if(Q.Image){const r=new Image;r.onload=Da(Ma,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Da(Ma,n,r,"TestLoadImage: error",!1,e),r.onabort=Da(Ma,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Da(Ma,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ma(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Hu(t){this.l=t.ec||null,this.j=t.ob||!1}Je(Hu,jp);Hu.prototype.g=function(){return new qu(this.l,this.j)};Hu.prototype.i=function(t){return function(){return t}}({});function qu(t,e){Ye.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=qp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Je(qu,Ye);var qp=0;M=qu.prototype;M.open=function(t,e){if(this.readyState!=qp)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,bo(this)};M.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,aa(this)),this.readyState=qp};M.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,bo(this)),this.g&&(this.readyState=3,bo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;WS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function WS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}M.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?aa(this):bo(this),this.readyState==3&&WS(this)}};M.Za=function(t){this.g&&(this.response=this.responseText=t,aa(this))};M.Ya=function(t){this.g&&(this.response=t,aa(this))};M.ka=function(){this.g&&aa(this)};function aa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,bo(t)}M.setRequestHeader=function(t,e){this.v.append(t,e)};M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function bo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(qu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var w2=Q.JSON.parse;function xe(t){Ye.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=GS,this.L=this.M=!1}Je(xe,Ye);var GS="",I2=/^https?$/i,T2=["POST","PUT"];M=xe.prototype;M.Oa=function(t){this.M=t};M.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_d.g(),this.C=this.u?Vy(this.u):Vy(_d),this.g.onreadystatechange=pt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){jy(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Q.FormData&&t instanceof Q.FormData,!(0<=uS(T2,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ZS(this),0<this.B&&((this.L=S2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pt(this.ua,this)):this.A=Up(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){jy(this,s)}};function S2(t){return Wi&&typeof t.timeout=="number"&&t.ontimeout!==void 0}M.ua=function(){typeof bp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rt(this,"timeout"),this.abort(8))};function jy(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,KS(t),zu(t)}function KS(t){t.F||(t.F=!0,rt(t,"complete"),rt(t,"error"))}M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,rt(this,"complete"),rt(this,"abort"),zu(this))};M.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zu(this,!0)),xe.$.N.call(this)};M.La=function(){this.s||(this.G||this.v||this.l?QS(this):this.kb())};M.kb=function(){QS(this)};function QS(t){if(t.h&&typeof bp<"u"&&(!t.C[1]||an(t)!=4||t.da()!=2)){if(t.v&&an(t)==4)Up(t.La,0,t);else if(rt(t,"readystatechange"),an(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(VS)[1]||null;!i&&Q.self&&Q.self.location&&(i=Q.self.location.protocol.slice(0,-1)),r=!I2.test(i?i.toLowerCase():"")}n=r}if(n)rt(t,"complete"),rt(t,"success");else{t.m=6;try{var s=2<an(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",KS(t)}}finally{zu(t)}}}}function zu(t,e){if(t.g){ZS(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||rt(t,"ready");try{n.onreadystatechange=r}catch{}}}function ZS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}M.isActive=function(){return!!this.g};function an(t){return t.g?t.g.readyState:0}M.da=function(){try{return 2<an(this)?this.g.status:-1}catch{return-1}};M.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};M.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),w2(e)}};function $y(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case GS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function C2(t){const e={};t=(t.g&&2<=an(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(wo(t[r]))continue;var n=Zj(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}Hj(e,function(r){return r.join(", ")})}M.Ia=function(){return this.m};M.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function XS(t){let e="";return Mp(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function zp(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=XS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Re(t,e,n))}function vs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function YS(t){this.Ga=0,this.j=[],this.l=new Vu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=vs("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=vs("baseRetryDelayMs",5e3,t),this.hb=vs("retryDelaySeedMs",1e4,t),this.eb=vs("forwardChannelMaxRetries",2,t),this.xa=vs("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new $S(t&&t.concurrentRequestLimit),this.Ja=new v2,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}M=YS.prototype;M.ra=8;M.H=1;function Wp(t){if(JS(t),t.H==3){var e=t.W++,n=Bn(t.I);if(Re(n,"SID",t.K),Re(n,"RID",e),Re(n,"TYPE","terminate"),ca(t,n),e=new sa(t,t.l,e),e.L=2,e.A=Bu(Bn(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Q.Image&&(new Image().src=e.A,n=!0),n||(e.g=aC(e.l,null),e.g.ha(e.A)),e.G=Date.now(),oa(e)}sC(t)}function Wu(t){t.g&&(Kp(t),t.g.cancel(),t.g=null)}function JS(t){Wu(t),t.u&&(Q.clearTimeout(t.u),t.u=null),Vc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Q.clearTimeout(t.m),t.m=null)}function Gu(t){if(!BS(t.i)&&!t.m){t.m=!0;var e=t.Na;To||wS(),So||(To(),So=!0),Vp.add(e,t),t.C=0}}function A2(t,e){return HS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ra(pt(t.Na,t,e),iC(t,t.C)),t.C++,!0)}M.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new sa(this,this.l,t);let s=this.s;if(this.U&&(s?(s=fS(s),pS(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=eC(this,i,e),n=Bn(this.I),Re(n,"RID",t),Re(n,"CVER",22),this.F&&Re(n,"X-HTTP-Session-Id",this.F),ca(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(XS(s)))+"&"+e:this.o&&zp(n,this.o,s)),Hp(this.i,i),this.bb&&Re(n,"TYPE","init"),this.P?(Re(n,"$req",e),Re(n,"SID","null"),i.aa=!0,wd(i,n,null)):wd(i,n,e),this.H=2}}else this.H==3&&(t?By(this,t):this.j.length==0||BS(this.i)||By(this))};function By(t,e){var n;e?n=e.m:n=t.W++;const r=Bn(t.I);Re(r,"SID",t.K),Re(r,"RID",n),Re(r,"AID",t.V),ca(t,r),t.o&&t.s&&zp(r,t.o,t.s),n=new sa(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=eC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Hp(t.i,n),wd(n,r,e)}function ca(t,e){t.na&&Mp(t.na,function(n,r){Re(e,r,n)}),t.h&&LS({},function(n,r){Re(e,r,n)})}function eC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?pt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g;const l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{_2(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function tC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;To||wS(),So||(To(),So=!0),Vp.add(e,t),t.A=0}}function Gp(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ra(pt(t.Ma,t),iC(t,t.A)),t.A++,!0)}M.Ma=function(){if(this.u=null,nC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ra(pt(this.jb,this),t)}};M.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Et(10),Wu(this),nC(this))};function Kp(t){t.B!=null&&(Q.clearTimeout(t.B),t.B=null)}function nC(t){t.g=new sa(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Bn(t.wa);Re(e,"RID","rpc"),Re(e,"SID",t.K),Re(e,"AID",t.V),Re(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Re(e,"TO",t.qa),Re(e,"TYPE","xmlhttp"),ca(t,e),t.o&&t.s&&zp(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Bu(Bn(e)),n.u=null,n.S=!0,NS(n,t)}M.ib=function(){this.v!=null&&(this.v=null,Wu(this),Gp(this),Et(19))};function Vc(t){t.v!=null&&(Q.clearTimeout(t.v),t.v=null)}function rC(t,e){var n=null;if(t.g==e){Vc(t),Kp(t),t.g=null;var r=2}else if(Td(t.i,e))n=e.F,qS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Fu(),rt(r,new RS(r,n)),Gu(t)}else tC(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&A2(t,e)||r==2&&Gp(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Pr(t,5);break;case 4:Pr(t,10);break;case 3:Pr(t,6);break;default:Pr(t,2)}}}function iC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Pr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=pt(t.pb,t);n||(n=new xr("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||xc(n,"https"),Bu(n)),E2(n.toString(),r)}else Et(2);t.H=0,t.h&&t.h.za(e),sC(t),JS(t)}M.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Et(2)):(this.l.info("Failed to ping google.com"),Et(1))};function sC(t){if(t.H=0,t.ma=[],t.h){const e=zS(t.i);(e.length!=0||t.j.length!=0)&&(Ny(t.ma,e),Ny(t.ma,t.j),t.i.i.length=0,Dp(t.j),t.j.length=0),t.h.ya()}}function oC(t,e,n){var r=n instanceof xr?Bn(n):new xr(n);if(r.g!="")e&&(r.g=e+"."+r.g),Lc(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new xr(null);r&&xc(s,r),e&&(s.g=e),i&&Lc(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Re(r,n,e),Re(r,"VER",t.ra),ca(t,r),r}function aC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new xe(new Hu({ob:n})):new xe(t.va),e.Oa(t.J),e}M.isActive=function(){return!!this.h&&this.h.isActive(this)};function cC(){}M=cC.prototype;M.Ba=function(){};M.Aa=function(){};M.za=function(){};M.ya=function(){};M.isActive=function(){return!0};M.Va=function(){};function Fc(){if(Wi&&!(10<=Number(Uj)))throw Error("Environmental error: no available transport.")}Fc.prototype.g=function(t,e){return new Ot(t,e)};function Ot(t,e){Ye.call(this),this.g=new YS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!wo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new hs(this)}Je(Ot,Ye);Ot.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Et(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=oC(t,null,t.Y),Gu(t)};Ot.prototype.close=function(){Wp(this.g)};Ot.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Lp(t),t=n);e.j.push(new g2(e.fb++,t)),e.H==3&&Gu(e)};Ot.prototype.N=function(){this.g.h=null,delete this.j,Wp(this.g),delete this.g,Ot.$.N.call(this)};function uC(t){$p.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Je(uC,$p);function lC(){Bp.call(this),this.status=1}Je(lC,Bp);function hs(t){this.g=t}Je(hs,cC);hs.prototype.Ba=function(){rt(this.g,"a")};hs.prototype.Aa=function(t){rt(this.g,new uC(t))};hs.prototype.za=function(t){rt(this.g,new lC)};hs.prototype.ya=function(){rt(this.g,"b")};function R2(){this.blockSize=-1}function Xt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Je(Xt,R2);Xt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function th(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Xt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)th(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){th(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){th(this,r),i=0;break}}this.h=i,this.i+=e};Xt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function we(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var b2={};function Qp(t){return-128<=t&&128>t?Lj(t,function(e){return new we([e|0],0>e?-1:0)}):new we([t|0],0>t?-1:0)}function cn(t){if(isNaN(t)||!isFinite(t))return Di;if(0>t)return tt(cn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Sd;return new we(e,0)}function hC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return tt(hC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=cn(Math.pow(e,8)),r=Di,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=cn(Math.pow(e,s)),r=r.R(s).add(cn(o))):(r=r.R(n),r=r.add(cn(o)))}return r}var Sd=4294967296,Di=Qp(0),Cd=Qp(1),Hy=Qp(16777216);M=we.prototype;M.ea=function(){if(Vt(this))return-tt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Sd+r)*e,e*=Sd}return t};M.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Pn(this))return"0";if(Vt(this))return"-"+tt(this).toString(t);for(var e=cn(Math.pow(t,6)),n=this,r="";;){var i=jc(n,e).g;n=Uc(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Pn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};M.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Pn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Vt(t){return t.h==-1}M.X=function(t){return t=Uc(this,t),Vt(t)?-1:Pn(t)?0:1};function tt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new we(n,~t.h).add(Cd)}M.abs=function(){return Vt(this)?tt(this):this};M.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new we(n,n[n.length-1]&-2147483648?-1:0)};function Uc(t,e){return t.add(tt(e))}M.R=function(t){if(Pn(this)||Pn(t))return Di;if(Vt(this))return Vt(t)?tt(this).R(tt(t)):tt(tt(this).R(t));if(Vt(t))return tt(this.R(tt(t)));if(0>this.X(Hy)&&0>t.X(Hy))return cn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Na(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Na(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Na(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Na(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new we(n,0)};function Na(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function _s(t,e){this.g=t,this.h=e}function jc(t,e){if(Pn(e))throw Error("division by zero");if(Pn(t))return new _s(Di,Di);if(Vt(t))return e=jc(tt(t),e),new _s(tt(e.g),tt(e.h));if(Vt(e))return e=jc(t,tt(e)),new _s(tt(e.g),e.h);if(30<t.g.length){if(Vt(t)||Vt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Cd,r=e;0>=r.X(t);)n=qy(n),r=qy(r);var i=ci(n,1),s=ci(r,1);for(r=ci(r,2),n=ci(n,2);!Pn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ci(r,1),n=ci(n,1)}return e=Uc(t,i.R(e)),new _s(i,e)}for(i=Di;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=cn(n),o=s.R(e);Vt(o)||0<o.X(t);)n-=r,s=cn(n),o=s.R(e);Pn(s)&&(s=Cd),i=i.add(s),t=Uc(t,o)}return new _s(i,t)}M.gb=function(t){return jc(this,t).h};M.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new we(n,this.h&t.h)};M.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new we(n,this.h|t.h)};M.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new we(n,this.h^t.h)};function qy(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new we(n,t.h)}function ci(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new we(i,t.h)}Fc.prototype.createWebChannel=Fc.prototype.g;Ot.prototype.send=Ot.prototype.u;Ot.prototype.open=Ot.prototype.m;Ot.prototype.close=Ot.prototype.close;Uu.NO_ERROR=0;Uu.TIMEOUT=8;Uu.HTTP_ERROR=6;bS.COMPLETE="complete";DS.EventType=ia;ia.OPEN="a";ia.CLOSE="b";ia.ERROR="c";ia.MESSAGE="d";Ye.prototype.listen=Ye.prototype.O;xe.prototype.listenOnce=xe.prototype.P;xe.prototype.getLastError=xe.prototype.Sa;xe.prototype.getLastErrorCode=xe.prototype.Ia;xe.prototype.getStatus=xe.prototype.da;xe.prototype.getResponseJson=xe.prototype.Wa;xe.prototype.getResponseText=xe.prototype.ja;xe.prototype.send=xe.prototype.ha;xe.prototype.setWithCredentials=xe.prototype.Oa;Xt.prototype.digest=Xt.prototype.l;Xt.prototype.reset=Xt.prototype.reset;Xt.prototype.update=Xt.prototype.j;we.prototype.add=we.prototype.add;we.prototype.multiply=we.prototype.R;we.prototype.modulo=we.prototype.gb;we.prototype.compare=we.prototype.X;we.prototype.toNumber=we.prototype.ea;we.prototype.toString=we.prototype.toString;we.prototype.getBits=we.prototype.D;we.fromNumber=cn;we.fromString=hC;var D2=function(){return new Fc},P2=function(){return Fu()},nh=Uu,M2=bS,N2=ni,zy={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ka=DS,k2=xe,O2=Xt,Pi=we;const Wy="@firebase/firestore";class lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");let ds="10.8.1";const Gr=new up("@firebase/firestore");function Es(){return Gr.logLevel}function P(t,...e){if(Gr.logLevel<=ge.DEBUG){const n=e.map(Zp);Gr.debug(`Firestore (${ds}): ${t}`,...n)}}function yn(t,...e){if(Gr.logLevel<=ge.ERROR){const n=e.map(Zp);Gr.error(`Firestore (${ds}): ${t}`,...n)}}function Gi(t,...e){if(Gr.logLevel<=ge.WARN){const n=e.map(Zp);Gr.warn(`Firestore (${ds}): ${t}`,...n)}}function Zp(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function z(t="Unexpected state"){const e=`FIRESTORE (${ds}) INTERNAL ASSERTION FAILED: `+t;throw yn(e),new Error(e)}function Ae(t,e){t||z()}function ne(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class k extends Kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class dC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(lt.UNAUTHENTICATED))}shutdown(){}}class L2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class V2{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new or;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new or,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(()=>g(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{P("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(P("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new or)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(P("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new dC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new lt(e)}}class F2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class U2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new F2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&P("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,P("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{P("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):P("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new j2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function B2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class fC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=B2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function Ki(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Be{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new k(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new k(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new k(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new k(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Be(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new Be(0,0))}static max(){return new Y(new Be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Do{constructor(e,n,r){n===void 0?n=0:n>e.length&&z(),r===void 0?r=e.length-n:r>e.length-n&&z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Do.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Do?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class be extends Do{construct(e,n,r){return new be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new k(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new be(n)}static emptyPath(){return new be([])}}const H2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nt extends Do{construct(e,n,r){return new nt(e,n,r)}static isValidIdentifier(e){return H2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new nt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new k(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new k(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new k(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new k(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nt(n)}static emptyPath(){return new nt([])}}class j{constructor(e){this.path=e}static fromPath(e){return new j(be.fromString(e))}static fromName(e){return new j(be.fromString(e).popFirst(5))}static empty(){return new j(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new j(new be(e.slice()))}}function q2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new lr(i,j.empty(),e)}function z2(t){return new lr(t.readTime,t.key,-1)}class lr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new lr(Y.min(),j.empty(),-1)}static max(){return new lr(Y.max(),j.empty(),-1)}}function W2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=j.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}const G2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ua(t){return g(this,null,function*(){if(t.code!==w.FAILED_PRECONDITION||t.message!==G2)throw t;P("LocalStore","Unexpectedly lost primary lease")})}class I{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new I((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof I?n:I.resolve(n)}catch(n){return I.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):I.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):I.reject(n)}static resolve(e){return new I((n,r)=>{n(e)})}static reject(e){return new I((n,r)=>{r(e)})}static waitFor(e){return new I((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=I.resolve(!1);for(const r of e)n=n.next(i=>i?I.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new I((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new I((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}class Xp{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new or,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new $s(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Yp(r.target.error);this.V.reject(new $s(e,i))}}static open(e,n,r,i){try{return new Xp(n,e.transaction(i,r))}catch(s){throw new $s(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(P("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Z2(n)}}class Mr{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Mr.S($e())===12.2&&yn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return P("SimpleDb","Removing database:",e),Ar(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!ST())return!1;if(Mr.C())return!0;const e=$e(),n=Mr.S(e),r=0<n&&n<10,i=Mr.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return g(this,null,function*(){return this.db||(P("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new $s(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new k(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new k(w.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new $s(e,o))},i.onupgradeneeded=s=>{P("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{P("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return g(this,null,function*(){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=yield this.O(e);const a=Xp.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),I.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){const c=a,u=c.name!=="FirebaseError"&&o<3;if(P("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}}class Q2{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ar(this.k.delete())}}class $s extends k{constructor(e,n){super(w.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function la(t){return t.name==="IndexedDbTransactionError"}class Z2{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(P("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(P("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ar(r)}add(e){return P("SimpleDb","ADD",this.store.name,e,e),Ar(this.store.add(e))}get(e){return Ar(this.store.get(e)).next(n=>(n===void 0&&(n=null),P("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return P("SimpleDb","DELETE",this.store.name,e),Ar(this.store.delete(e))}count(){return P("SimpleDb","COUNT",this.store.name),Ar(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new I((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new I((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){P("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new I((r,i)=>{n.onerror=s=>{const o=Yp(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new I((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const c=new Q2(a),u=n(a.primaryKey,a.value,c);if(u instanceof I){const l=u.catch(h=>(c.done(),I.reject(h)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>I.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ar(t){return new I((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Yp(r.target.error);n(i)}})}let Gy=!1;function Yp(t){const e=Mr.S($e());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new k("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Gy||(Gy=!0,setTimeout(()=>{throw r},0)),r}}return t}let pC=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Ku(t){return t==null}function $c(t){return t===0&&1/t==-1/0}function X2(t){return typeof t=="number"&&Number.isInteger(t)&&!$c(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ky(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ri(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ne{constructor(e,n){this.comparator=e,this.root=n||et.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,et.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oa(this.root,e,this.comparator,!0)}}class Oa{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class et{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??et.RED,this.left=i??et.EMPTY,this.right=s??et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new et(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return et.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();const e=this.left.check();if(e!==this.right.check())throw z();return e+(this.isRed()?0:1)}}et.EMPTY=null,et.RED=!0,et.BLACK=!1;et.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(e,n,r,i,s){return this}insert(e,n,r){return new et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class it{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qy(this.data.getIterator())}getIteratorFrom(e){return new Qy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class Qy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dt{constructor(e){this.fields=e,e.sort(nt.comparator)}static empty(){return new Dt([])}unionWith(e){let n=new it(nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ki(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class mC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new mC("Invalid base64 string: "+s):s}}(e);return new mt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mt.EMPTY_BYTE_STRING=new mt("");const Y2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(t){if(Ae(!!t),typeof t=="string"){let e=0;const n=Y2.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Kr(t){return typeof t=="string"?mt.fromBase64String(t):mt.fromUint8Array(t)}function Jp(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function eg(t){const e=t.mapValue.fields.__previous_value__;return Jp(e)?eg(e):e}function Po(t){const e=hr(t.mapValue.fields.__local_write_time__.timestampValue);return new Be(e.seconds,e.nanos)}class J2{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class Mo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Mo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Mo&&e.projectId===this.projectId&&e.database===this.database}}const xa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jp(t)?4:e$(t)?9007199254740991:10:z()}function vn(t,e){if(t===e)return!0;const n=Qr(t);if(n!==Qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Po(t).isEqual(Po(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=hr(i.timestampValue),a=hr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Kr(i.bytesValue).isEqual(Kr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ue(i.geoPointValue.latitude)===Ue(s.geoPointValue.latitude)&&Ue(i.geoPointValue.longitude)===Ue(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ue(i.integerValue)===Ue(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ue(i.doubleValue),a=Ue(s.doubleValue);return o===a?$c(o)===$c(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ki(t.arrayValue.values||[],e.arrayValue.values||[],vn);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Ky(o)!==Ky(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!vn(o[c],a[c])))return!1;return!0}(t,e);default:return z()}}function No(t,e){return(t.values||[]).find(n=>vn(n,e))!==void 0}function Qi(t,e){if(t===e)return 0;const n=Qr(t),r=Qr(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ue(s.integerValue||s.doubleValue),c=Ue(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Zy(t.timestampValue,e.timestampValue);case 4:return Zy(Po(t),Po(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Kr(s),c=Kr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const l=_e(a[u],c[u]);if(l!==0)return l}return _e(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=_e(Ue(s.latitude),Ue(o.latitude));return a!==0?a:_e(Ue(s.longitude),Ue(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){const l=Qi(a[u],c[u]);if(l)return l}return _e(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===xa.mapValue&&o===xa.mapValue)return 0;if(s===xa.mapValue)return 1;if(o===xa.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let h=0;h<c.length&&h<l.length;++h){const d=_e(c[h],l[h]);if(d!==0)return d;const f=Qi(a[c[h]],u[l[h]]);if(f!==0)return f}return _e(c.length,l.length)}(t.mapValue,e.mapValue);default:throw z()}}function Zy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=hr(t),r=hr(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function Zi(t){return Ad(t)}function Ad(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=hr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Kr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return j.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ad(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ad(n.fields[o])}`;return i+"}"}(t.mapValue):z()}function Xy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rd(t){return!!t&&"integerValue"in t}function tg(t){return!!t&&"arrayValue"in t}function Yy(t){return!!t&&"nullValue"in t}function Jy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tc(t){return!!t&&"mapValue"in t}function Bs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ri(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function e$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class Ct{constructor(e){this.value=e}static empty(){return new Ct({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bs(n)}setAll(e){let n=nt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Bs(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());tc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];tc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ri(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ct(Bs(this.value))}}function yC(t){const e=[];return ri(t.fields,(n,r)=>{const i=new nt([n]);if(tc(r)){const s=yC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Dt(e)}class ht{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ht(e,0,Y.min(),Y.min(),Y.min(),Ct.empty(),0)}static newFoundDocument(e,n,r,i){return new ht(e,1,n,Y.min(),r,i,0)}static newNoDocument(e,n){return new ht(e,2,n,Y.min(),Y.min(),Ct.empty(),0)}static newUnknownDocument(e,n){return new ht(e,3,n,Y.min(),Y.min(),Ct.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ct.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ct.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bc{constructor(e,n){this.position=e,this.inclusive=n}}function ev(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=j.comparator(j.fromName(o.referenceValue),n.key):r=Qi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function tv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vn(t.position[n],e.position[n]))return!1;return!0}class ko{constructor(e,n="asc"){this.field=e,this.dir=n}}function t$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class vC{}class je extends vC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new r$(e,n,r):n==="array-contains"?new o$(e,r):n==="in"?new a$(e,r):n==="not-in"?new c$(e,r):n==="array-contains-any"?new u$(e,r):new je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new i$(e,r):new s$(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qi(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(Qi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yt extends vC{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Yt(e,n)}matches(e){return _C(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function _C(t){return t.op==="and"}function EC(t){return n$(t)&&_C(t)}function n$(t){for(const e of t.filters)if(e instanceof Yt)return!1;return!0}function bd(t){if(t instanceof je)return t.field.canonicalString()+t.op.toString()+Zi(t.value);if(EC(t))return t.filters.map(e=>bd(e)).join(",");{const e=t.filters.map(n=>bd(n)).join(",");return`${t.op}(${e})`}}function wC(t,e){return t instanceof je?function(r,i){return i instanceof je&&r.op===i.op&&r.field.isEqual(i.field)&&vn(r.value,i.value)}(t,e):t instanceof Yt?function(r,i){return i instanceof Yt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&wC(o,i.filters[a]),!0):!1}(t,e):void z()}function IC(t){return t instanceof je?function(n){return`${n.field.canonicalString()} ${n.op} ${Zi(n.value)}`}(t):t instanceof Yt?function(n){return n.op.toString()+" {"+n.getFilters().map(IC).join(" ,")+"}"}(t):"Filter"}class r$ extends je{constructor(e,n,r){super(e,n,r),this.key=j.fromName(r.referenceValue)}matches(e){const n=j.comparator(e.key,this.key);return this.matchesComparison(n)}}class i$ extends je{constructor(e,n){super(e,"in",n),this.keys=TC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class s$ extends je{constructor(e,n){super(e,"not-in",n),this.keys=TC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>j.fromName(r.referenceValue))}class o$ extends je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tg(n)&&No(n.arrayValue,this.value)}}class a$ extends je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&No(this.value.arrayValue,n)}}class c$ extends je{constructor(e,n){super(e,"not-in",n)}matches(e){if(No(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!No(this.value.arrayValue,n)}}class u$ extends je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>No(this.value.arrayValue,r))}}class l${constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function nv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new l$(t,e,n,r,i,s,o)}function ng(t){const e=ne(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>bd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ku(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zi(r)).join(",")),e.ce=n}return e.ce}function rg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!t$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tv(t.startAt,e.startAt)&&tv(t.endAt,e.endAt)}function Dd(t){return j.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class fs{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function h$(t,e,n,r,i,s,o,a){return new fs(t,e,n,r,i,s,o,a)}function ig(t){return new fs(t)}function rv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SC(t){return t.collectionGroup!==null}function Hs(t){const e=ne(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new it(nt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new ko(s,r))}),n.has(nt.keyField().canonicalString())||e.le.push(new ko(nt.keyField(),r))}return e.le}function dn(t){const e=ne(t);return e.he||(e.he=d$(e,Hs(t))),e.he}function d$(t,e){if(t.limitType==="F")return nv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ko(i.field,s)});const n=t.endAt?new Bc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bc(t.startAt.position,t.startAt.inclusive):null;return nv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pd(t,e){const n=t.filters.concat([e]);return new fs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Md(t,e,n){return new fs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qu(t,e){return rg(dn(t),dn(e))&&t.limitType===e.limitType}function CC(t){return`${ng(dn(t))}|lt:${t.limitType}`}function ui(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>IC(i)).join(", ")}]`),Ku(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Zi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Zi(i)).join(",")),`Target(${r})`}(dn(t))}; limitType=${t.limitType})`}function Zu(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):j.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Hs(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const u=ev(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Hs(r),i)||r.endAt&&!function(o,a,c){const u=ev(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Hs(r),i))}(t,e)}function f$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AC(t){return(e,n)=>{let r=!1;for(const i of Hs(t)){const s=p$(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function p$(t,e,n){const r=t.field.isKeyField()?j.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Qi(c,u):z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return z()}}class ps{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ri(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return gC(this.inner)}size(){return this.innerSize}}const g$=new Ne(j.comparator);function Hn(){return g$}const RC=new Ne(j.comparator);function Rs(...t){let e=RC;for(const n of t)e=e.insert(n.key,n);return e}function bC(t){let e=RC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Nr(){return qs()}function DC(){return qs()}function qs(){return new ps(t=>t.toString(),(t,e)=>t.isEqual(e))}const m$=new Ne(j.comparator),y$=new it(j.comparator);function he(...t){let e=y$;for(const n of t)e=e.add(n);return e}const v$=new it(_e);function _$(){return v$}function PC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function MC(t){return{integerValue:""+t}}function E$(t,e){return X2(e)?MC(e):PC(t,e)}class Xu{constructor(){this._=void 0}}function w$(t,e,n){return t instanceof Oo?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Jp(s)&&(s=eg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof xo?kC(t,e):t instanceof Lo?OC(t,e):function(i,s){const o=NC(i,s),a=iv(o)+iv(i.Ie);return Rd(o)&&Rd(i.Ie)?MC(a):PC(i.serializer,a)}(t,e)}function I$(t,e,n){return t instanceof xo?kC(t,e):t instanceof Lo?OC(t,e):n}function NC(t,e){return t instanceof Hc?function(r){return Rd(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Oo extends Xu{}class xo extends Xu{constructor(e){super(),this.elements=e}}function kC(t,e){const n=xC(e);for(const r of t.elements)n.some(i=>vn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Lo extends Xu{constructor(e){super(),this.elements=e}}function OC(t,e){let n=xC(e);for(const r of t.elements)n=n.filter(i=>!vn(i,r));return{arrayValue:{values:n}}}class Hc extends Xu{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function iv(t){return Ue(t.integerValue||t.doubleValue)}function xC(t){return tg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class T${constructor(e,n){this.field=e,this.transform=n}}function S$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xo&&i instanceof xo||r instanceof Lo&&i instanceof Lo?Ki(r.elements,i.elements,vn):r instanceof Hc&&i instanceof Hc?vn(r.Ie,i.Ie):r instanceof Oo&&i instanceof Oo}(t.transform,e.transform)}class C${constructor(e,n){this.version=e,this.transformResults=n}}class Qt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qt}static exists(e){return new Qt(void 0,e)}static updateTime(e){return new Qt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yu{}function LC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sg(t.key,Qt.none()):new ha(t.key,t.data,Qt.none());{const n=t.data,r=Ct.empty();let i=new it(nt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Er(t.key,r,new Dt(i.toArray()),Qt.none())}}function A$(t,e,n){t instanceof ha?function(i,s,o){const a=i.value.clone(),c=ov(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Er?function(i,s,o){if(!nc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=ov(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(VC(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function zs(t,e,n,r){return t instanceof ha?function(s,o,a,c){if(!nc(s.precondition,o))return a;const u=s.value.clone(),l=av(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Er?function(s,o,a,c){if(!nc(s.precondition,o))return a;const u=av(s.fieldTransforms,c,o),l=o.data;return l.setAll(VC(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return nc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function R$(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=NC(r.transform,i||null);s!=null&&(n===null&&(n=Ct.empty()),n.set(r.field,s))}return n||null}function sv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ki(r,i,(s,o)=>S$(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ha extends Yu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Er extends Yu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function VC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ov(t,e,n){const r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,I$(o,a,n[i]))}return r}function av(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,w$(s,o,e))}return r}class sg extends Yu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class b$ extends Yu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class D${constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&A$(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=LC(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&Ki(this.mutations,e.mutations,(n,r)=>sv(n,r))&&Ki(this.baseMutations,e.baseMutations,(n,r)=>sv(n,r))}}class og{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=function(){return m$}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new og(e,n,r,i)}}class P${constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class M${constructor(e,n){this.count=e,this.unchangedNames=n}}var Fe,pe;function N$(t){switch(t){default:return z();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function FC(t){if(t===void 0)return yn("GRPC error has no .code"),w.UNKNOWN;switch(t){case Fe.OK:return w.OK;case Fe.CANCELLED:return w.CANCELLED;case Fe.UNKNOWN:return w.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return w.INTERNAL;case Fe.UNAVAILABLE:return w.UNAVAILABLE;case Fe.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Fe.NOT_FOUND:return w.NOT_FOUND;case Fe.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Fe.ABORTED:return w.ABORTED;case Fe.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Fe.DATA_LOSS:return w.DATA_LOSS;default:return z()}}(pe=Fe||(Fe={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";function k$(){return new TextEncoder}const O$=new Pi([4294967295,4294967295],0);function cv(t){const e=k$().encode(t),n=new O2;return n.update(e),new Uint8Array(n.digest())}function uv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Pi([n,r],0),new Pi([i,s],0)]}class ag{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bs(`Invalid padding: ${n}`);if(r<0)throw new bs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bs(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Pi.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Pi.fromNumber(r)));return i.compare(O$)===1&&(i=new Pi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=cv(e),[r,i]=uv(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ag(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=cv(e),[r,i]=uv(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ju{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,da.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ju(Y.min(),i,new Ne(_e),Hn(),he())}}class da{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new da(r,n,he(),he(),he())}}class rc{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class UC{constructor(e,n){this.targetId=e,this.fe=n}}class jC{constructor(e,n,r=mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class lv{constructor(){this.ge=0,this.pe=dv(),this.ye=mt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=he(),n=he(),r=he();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:z()}}),new da(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=dv()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ae(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class x${constructor(e){this.Le=e,this.ke=new Map,this.qe=Hn(),this.Qe=hv(),this.Ke=new Ne(_e)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Dd(s))if(r===0){const o=new j(s.path);this.We(n,o,ht.newNoDocument(o,Y.min()))}else Ae(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Kr(r).toUint8Array()}catch(c){if(c instanceof mC)return Gi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new ag(o,i,s)}catch(c){return Gi(c instanceof bs?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Dd(a.target)){const c=new j(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,ht.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=he();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Ju(e,n,this.Ke,this.qe,r);return this.qe=Hn(),this.Qe=hv(),this.Ke=new Ne(_e),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new lv,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new it(_e),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||P("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new lv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function hv(){return new Ne(j.comparator)}function dv(){return new Ne(j.comparator)}const L$={asc:"ASCENDING",desc:"DESCENDING"},V$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F$={and:"AND",or:"OR"};class U${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Nd(t,e){return t.useProto3Json||Ku(e)?e:{value:e}}function qc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $C(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function j$(t,e){return qc(t,e.toTimestamp())}function fn(t){return Ae(!!t),Y.fromTimestamp(function(n){const r=hr(n);return new Be(r.seconds,r.nanos)}(t))}function cg(t,e){return kd(t,e).canonicalString()}function kd(t,e){const n=function(i){return new be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function BC(t){const e=be.fromString(t);return Ae(GC(e)),e}function Od(t,e){return cg(t.databaseId,e.path)}function rh(t,e){const n=BC(e);if(n.get(1)!==t.databaseId.projectId)throw new k(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new k(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new j(qC(n))}function HC(t,e){return cg(t.databaseId,e)}function $$(t){const e=BC(t);return e.length===4?be.emptyPath():qC(e)}function xd(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qC(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fv(t,e,n){return{name:Od(t,e),fields:n.value.mapValue.fields}}function B$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(Ae(l===void 0||typeof l=="string"),mt.fromBase64String(l||"")):(Ae(l===void 0||l instanceof Uint8Array),mt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=u.code===void 0?w.UNKNOWN:FC(u.code);return new k(l,u.message||"")}(o);n=new jC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=rh(t,r.document.name),s=fn(r.document.updateTime),o=r.document.createTime?fn(r.document.createTime):Y.min(),a=new Ct({mapValue:{fields:r.document.fields}}),c=ht.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new rc(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=rh(t,r.document),s=r.readTime?fn(r.readTime):Y.min(),o=ht.newNoDocument(i,s),a=r.removedTargetIds||[];n=new rc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=rh(t,r.document),s=r.removedTargetIds||[];n=new rc([],s,i,null)}else{if(!("filter"in e))return z();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new M$(i,s),a=r.targetId;n=new UC(a,o)}}return n}function H$(t,e){let n;if(e instanceof ha)n={update:fv(t,e.key,e.value)};else if(e instanceof sg)n={delete:Od(t,e.key)};else if(e instanceof Er)n={update:fv(t,e.key,e.data),updateMask:Y$(e.fieldMask)};else{if(!(e instanceof b$))return z();n={verify:Od(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Oo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Lo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Hc)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:j$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:z()}(t,e.precondition)),n}function q$(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?fn(i.updateTime):fn(s);return o.isEqual(Y.min())&&(o=fn(s)),new C$(o,i.transformResults||[])}(n,e))):[]}function z$(t,e){return{documents:[HC(t,e.path)]}}function W$(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HC(t,i);const s=function(u){if(u.length!==0)return WC(Yt.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(l=>function(d){return{field:li(d.field),direction:Q$(d.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Nd(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function G$(t){let e=$$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ae(r===1);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(h){const d=zC(h);return d instanceof Yt&&EC(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(m){return new ko(hi(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,Ku(d)?null:d}(n.limit));let c=null;n.startAt&&(c=function(h){const d=!!h.before,f=h.values||[];return new Bc(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,f=h.values||[];return new Bc(f,d)}(n.endAt)),h$(e,i,o,s,a,"F",c,u)}function K$(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hi(n.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=hi(n.unaryFilter.field);return je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=hi(n.unaryFilter.field);return je.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hi(n.unaryFilter.field);return je.create(o,"!=",{nullValue:"NULL_VALUE"});default:return z()}}(t):t.fieldFilter!==void 0?function(n){return je.create(hi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yt.create(n.compositeFilter.filters.map(r=>zC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return z()}}(n.compositeFilter.op))}(t):z()}function Q$(t){return L$[t]}function Z$(t){return V$[t]}function X$(t){return F$[t]}function li(t){return{fieldPath:t.canonicalString()}}function hi(t){return nt.fromServerFormat(t.fieldPath)}function WC(t){return t instanceof je?function(n){if(n.op==="=="){if(Jy(n.value))return{unaryFilter:{field:li(n.field),op:"IS_NAN"}};if(Yy(n.value))return{unaryFilter:{field:li(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jy(n.value))return{unaryFilter:{field:li(n.field),op:"IS_NOT_NAN"}};if(Yy(n.value))return{unaryFilter:{field:li(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:li(n.field),op:Z$(n.op),value:n.value}}}(t):t instanceof Yt?function(n){const r=n.getFilters().map(i=>WC(i));return r.length===1?r[0]:{compositeFilter:{op:X$(n.op),filters:r}}}(t):z()}function Y$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function GC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class er{constructor(e,n,r,i,s=Y.min(),o=Y.min(),a=mt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class J${constructor(e){this.ct=e}}function eB(t){const e=G$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Md(e,e.limit,"L"):e}class tB{constructor(){this._n=new nB}addToCollectionParentIndex(e,n){return this._n.add(n),I.resolve()}getCollectionParents(e,n){return I.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return I.resolve()}deleteFieldIndex(e,n){return I.resolve()}deleteAllFieldIndexes(e){return I.resolve()}createTargetIndexes(e,n){return I.resolve()}getDocumentsMatchingTarget(e,n){return I.resolve(null)}getIndexType(e,n){return I.resolve(0)}getFieldIndexes(e,n){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,n){return I.resolve(lr.min())}getMinOffsetFromCollectionGroup(e,n){return I.resolve(lr.min())}updateCollectionGroup(e,n,r){return I.resolve()}updateIndexEntries(e,n){return I.resolve()}}class nB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new it(be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(be.comparator)).toArray()}}class Xi{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Xi(0)}static Bn(){return new Xi(-1)}}class rB{constructor(){this.changes=new ps(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?I.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class iB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class sB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&zs(r.mutation,i,Dt.empty(),Be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,n,r=he()){const i=Nr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Rs();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Nr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,he()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Hn();const o=qs(),a=function(){return qs()}();return n.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Er)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),zs(l.mutation,u,l.mutation.getFieldMask(),Be.now())):o.set(u.key,Dt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var h;return a.set(u,new iB(l,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=qs();let i=new Ne((o,a)=>o-a),s=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let l=r.get(c)||Dt.empty();l=a.applyToLocalView(u,l),r.set(c,l);const h=(i.get(a.batchId)||he()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,h=DC();l.forEach(d=>{if(!s.has(d)){const f=LC(n.get(d),r.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return I.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return j.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):I.resolve(Nr());let a=-1,c=s;return o.next(u=>I.forEach(u,(l,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(l)?I.resolve():this.remoteDocumentCache.getEntry(e,l).next(d=>{c=c.insert(l,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,he())).next(l=>({batchId:a,changes:bC(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new j(n)).next(r=>{let i=Rs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Rs();return this.indexManager.getCollectionParents(e,s).next(a=>I.forEach(a,c=>{const u=function(h,d){return new fs(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const l=u.getKey();o.get(l)===null&&(o=o.insert(l,ht.newInvalidDocument(l)))});let a=Rs();return o.forEach((c,u)=>{const l=s.get(c);l!==void 0&&zs(l.mutation,u,Dt.empty(),Be.now()),Zu(n,u)&&(a=a.insert(c,u))}),a})}}class oB{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return I.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fn(i.createTime)}}(n)),I.resolve()}getNamedQuery(e,n){return I.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:eB(i.bundledQuery),readTime:fn(i.readTime)}}(n)),I.resolve()}}class aB{constructor(){this.overlays=new Ne(j.comparator),this.hr=new Map}getOverlay(e,n){return I.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Nr();return I.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),I.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),I.resolve()}getOverlaysForCollection(e,n,r){const i=Nr(),s=n.length+1,o=new j(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return I.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ne((u,l)=>u-l);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Nr(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=Nr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return I.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new P$(n,r));let s=this.hr.get(n);s===void 0&&(s=he(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}class ug{constructor(){this.Pr=new it(ze.Ir),this.Tr=new it(ze.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new ze(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new ze(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new j(new be([])),r=new ze(n,e),i=new ze(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new j(new be([])),r=new ze(n,e),i=new ze(n,e+1);let s=he();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ze(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ze{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return j.comparator(e.key,n.key)||_e(e.pr,n.pr)}static Er(e,n){return _e(e.pr,n.pr)||j.comparator(e.key,n.key)}}class cB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new it(ze.Ir)}checkEmpty(e){return I.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new D$(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new ze(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(e,n){return I.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return I.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ze(n,0),i=new ze(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(_e);return n.forEach(i=>{const s=new ze(i,0),o=new ze(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),I.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;j.isDocumentKey(s)||(s=s.child(""));const o=new ze(new j(s),0);let a=new it(_e);return this.wr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),I.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return I.forEach(n.mutations,i=>{const s=new ze(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new ze(n,0),i=this.wr.firstAfterOrEqual(r);return I.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,I.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class uB{constructor(e){this.vr=e,this.docs=function(){return new Ne(j.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return I.resolve(r?r.document.mutableCopy():ht.newInvalidDocument(n))}getEntries(e,n){let r=Hn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ht.newInvalidDocument(i))}),I.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Hn();const o=n.path,a=new j(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||W2(z2(l),r)<=0||(i.has(l.key)||Zu(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return I.resolve(s)}getAllFromCollectionGroup(e,n,r,i){z()}Fr(e,n){return I.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lB(this)}getSize(e){return I.resolve(this.size)}}class lB extends rB{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),I.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class hB{constructor(e){this.persistence=e,this.Mr=new ps(n=>ng(n),rg),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ug,this.targetCount=0,this.Br=Xi.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),I.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Xi(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,I.resolve()}updateTargetData(e,n){return this.qn(n),I.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),I.waitFor(s).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return I.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),I.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),I.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),I.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return I.resolve(r)}containsKey(e,n){return I.resolve(this.Nr.containsKey(n))}}class dB{constructor(e,n){this.Lr={},this.overlays={},this.kr=new pC(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new hB(this),this.indexManager=new tB,this.remoteDocumentCache=function(i){return new uB(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new J$(n),this.$r=new oB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new cB(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){P("MemoryPersistence","Starting transaction:",e);const i=new fB(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return I.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class fB extends K2{constructor(e){super(),this.currentSequenceNumber=e}}class lg{constructor(e){this.persistence=e,this.zr=new ug,this.jr=null}static Hr(e){return new lg(e)}get Jr(){if(this.jr)return this.jr;throw z()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),I.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),I.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Jr,r=>{const i=j.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Y.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return I.or([()=>I.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class hg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=he(),i=he();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new hg(e,n.fromCache,r,i)}}class pB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class gB{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return U1()?8:Mr.v($e())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new pB;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Es()<=ge.DEBUG&&P("QueryEngine","SDK will not create cache indexes for query:",ui(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),I.resolve()):(Es()<=ge.DEBUG&&P("QueryEngine","Query:",ui(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Es()<=ge.DEBUG&&P("QueryEngine","The SDK decides to create cache indexes for query:",ui(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dn(n))):I.resolve())}ji(e,n){if(rv(n))return I.resolve(null);let r=dn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Md(n,null,"F"),r=dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=he(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,Md(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return rv(n)||i.isEqual(Y.min())?I.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?I.resolve(null):(Es()<=ge.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ui(n)),this.es(e,o,n,q2(i,-1)).next(a=>a))})}Zi(e,n){let r=new it(AC(e));return n.forEach((i,s)=>{Zu(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Es()<=ge.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",ui(n)),this.zi.getDocumentsMatchingQuery(e,n,lr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class mB{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ne(_e),this.rs=new ps(s=>ng(s),rg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sB(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function yB(t,e,n,r){return new mB(t,e,n,r)}function KC(t,e){return g(this,null,function*(){const n=ne(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=he();for(const u of i){o.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of s){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function vB(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){const h=u.batch,d=h.keys();let f=I.resolve();return d.forEach(m=>{f=f.next(()=>l.getEntry(c,m)).next(y=>{const _=u.docVersions.get(m);Ae(_!==null),y.version.compareTo(_)<0&&(h.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),l.addEntry(y)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=he();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function QC(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function _B(t,e){const n=ne(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((l,h)=>{const d=i.get(h);if(!d)return;a.push(n.Qr.removeMatchingKeys(s,l.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,l.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(mt.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(h,f),function(y,_,T){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(d,f,l)&&a.push(n.Qr.updateTargetData(s,f))});let c=Hn(),u=he();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(EB(s,o,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(Y.min())){const l=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return I.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function EB(t,e,n){let r=he(),i=he();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Hn();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Y.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):P("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function wB(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function IB(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,I.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new er(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function Ld(t,e,n){return g(this,null,function*(){const r=ne(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!la(o))throw o;P("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function pv(t,e,n){const r=ne(t);let i=Y.min(),s=he();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){const h=ne(c),d=h.rs.get(l);return d!==void 0?I.resolve(h.ns.get(d)):h.Qr.getTargetData(u,l)}(r,o,dn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Y.min(),n?s:he())).next(a=>(TB(r,f$(e),a),{documents:a,hs:s})))}function TB(t,e,n){let r=t.ss.get(e)||Y.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class gv{constructor(){this.activeTargetIds=_$()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SB{constructor(){this.no=new gv,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new gv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class CB{io(e){}shutdown(){}}class mv{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){P("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){P("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let La=null;function ih(){return La===null?La=function(){return 268435456+Math.round(2147483648*Math.random())}():La++,"0x"+La.toString(16)}const AB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RB{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const ut="WebChannelConnection";class bB extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=ih(),c=this.bo(n,r.toUriEncodedString());P("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,c,u,i).then(l=>(P("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Gi("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ds}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=AB[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=ih();return new Promise((o,a)=>{const c=new k2;c.setWithCredentials(!0),c.listenOnce(M2.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case nh.NO_ERROR:const l=c.getResponseJson();P(ut,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case nh.TIMEOUT:P(ut,`RPC '${e}' ${s} timed out`),a(new k(w.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const h=c.getStatus();if(P(ut,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d?.error;if(f&&f.status&&f.message){const m=function(_){const T=_.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(T)>=0?T:w.UNKNOWN}(f.status);a(new k(m,f.message))}else a(new k(w.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new k(w.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{P(ut,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);P(ut,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=ih(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=D2(),a=P2(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const l=s.join("");P(ut,`Creating RPC '${e}' stream ${i}: ${l}`,c);const h=o.createWebChannel(l,c);let d=!1,f=!1;const m=new RB({lo:_=>{f?P(ut,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(d||(P(ut,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),P(ut,`RPC '${e}' stream ${i} sending:`,_),h.send(_))},ho:()=>h.close()}),y=(_,T,C)=>{_.listen(T,S=>{try{C(S)}catch(V){setTimeout(()=>{throw V},0)}})};return y(h,ka.EventType.OPEN,()=>{f||P(ut,`RPC '${e}' stream ${i} transport opened.`)}),y(h,ka.EventType.CLOSE,()=>{f||(f=!0,P(ut,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),y(h,ka.EventType.ERROR,_=>{f||(f=!0,Gi(ut,`RPC '${e}' stream ${i} transport errored:`,_),m.Vo(new k(w.UNAVAILABLE,"The operation could not be completed")))}),y(h,ka.EventType.MESSAGE,_=>{var T;if(!f){const C=_.data[0];Ae(!!C);const S=C,V=S.error||((T=S[0])===null||T===void 0?void 0:T.error);if(V){P(ut,`RPC '${e}' stream ${i} received error:`,V);const U=V.status;let H=function(fe){const N=Fe[fe];if(N!==void 0)return FC(N)}(U),B=V.message;H===void 0&&(H=w.INTERNAL,B="Unknown error status: "+U+" with message "+V.message),f=!0,m.Vo(new k(H,B)),h.close()}else P(ut,`RPC '${e}' stream ${i} received:`,C),m.mo(C)}}),y(a,N2.STAT_EVENT,_=>{_.stat===zy.PROXY?P(ut,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===zy.NOPROXY&&P(ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}function sh(){return typeof document<"u"?document:null}function el(t){return new U$(t,!0)}class ZC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&P("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class XC{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new ZC(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return g(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return g(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return g(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(yn(n.toString()),yn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===w.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new k(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>g(this,null,function*(){this.state=0,this.start()}))}__(e){return P("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(P("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DB extends XC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=B$(this.serializer,e),r=function(s){if(!("targetChange"in s))return Y.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Y.min():o.readTime?fn(o.readTime):Y.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=xd(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=Dd(c)?{documents:z$(s,c)}:{query:W$(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=$C(s,o.resumeToken);const u=Nd(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Y.min())>0){a.readTime=qc(s,o.snapshotVersion.toTimestamp());const u=Nd(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=K$(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=xd(this.serializer),n.removeTarget=e,this.t_(n)}}class PB extends XC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=q$(e.writeResults,e.commitTime),r=fn(e.commitTime);return this.listener.T_(r,n)}return Ae(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=xd(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>H$(this.serializer,r))};this.t_(n)}}class MB extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new k(w.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,kd(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new k(w.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,kd(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new k(w.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class NB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(yn(n),this.g_=!1):P("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}class kB{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>g(this,null,function*(){ii(this)&&(P("RemoteStore","Restarting streams for network reachability change."),yield function(c){return g(this,null,function*(){const u=ne(c);u.v_.add(4),yield fa(u),u.x_.set("Unknown"),u.v_.delete(4),yield tl(u)})}(this))}))}),this.x_=new NB(r,i)}}function tl(t){return g(this,null,function*(){if(ii(t))for(const e of t.F_)yield e(!0)})}function fa(t){return g(this,null,function*(){for(const e of t.F_)yield e(!1)})}function YC(t,e){const n=ne(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),pg(n)?fg(n):gs(n).Jo()&&dg(n,e))}function JC(t,e){const n=ne(t),r=gs(n);n.C_.delete(e),r.Jo()&&eA(n,e),n.C_.size===0&&(r.Jo()?r.Xo():ii(n)&&n.x_.set("Unknown"))}function dg(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gs(t).c_(e)}function eA(t,e){t.O_.Oe(e),gs(t).l_(e)}function fg(t){t.O_=new x$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),gs(t).start(),t.x_.p_()}function pg(t){return ii(t)&&!gs(t).Ho()&&t.C_.size>0}function ii(t){return ne(t).v_.size===0}function tA(t){t.O_=void 0}function OB(t){return g(this,null,function*(){t.C_.forEach((e,n)=>{dg(t,e)})})}function xB(t,e){return g(this,null,function*(){tA(t),pg(t)?(t.x_.S_(e),fg(t)):t.x_.set("Unknown")})}function LB(t,e,n){return g(this,null,function*(){if(t.x_.set("Online"),e instanceof jC&&e.state===2&&e.cause)try{yield function(i,s){return g(this,null,function*(){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){P("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield zc(t,r)}else if(e instanceof rc?t.O_.$e(e):e instanceof UC?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Y.min()))try{const r=yield QC(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const l=s.C_.get(u);l&&s.C_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const l=s.C_.get(c);if(!l)return;s.C_.set(c,l.withResumeToken(mt.EMPTY_BYTE_STRING,l.snapshotVersion)),eA(s,c);const h=new er(l.target,c,u,l.sequenceNumber);dg(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){P("RemoteStore","Failed to raise snapshot:",r),yield zc(t,r)}})}function zc(t,e,n){return g(this,null,function*(){if(!la(e))throw e;t.v_.add(1),yield fa(t),t.x_.set("Offline"),n||(n=()=>QC(t.localStore)),t.asyncQueue.enqueueRetryable(()=>g(this,null,function*(){P("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield tl(t)}))})}function nA(t,e){return e().catch(n=>zc(t,n,e))}function nl(t){return g(this,null,function*(){const e=ne(t),n=dr(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;VB(e);)try{const i=yield wB(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,FB(e,i)}catch(i){yield zc(e,i)}rA(e)&&iA(e)})}function VB(t){return ii(t)&&t.D_.length<10}function FB(t,e){t.D_.push(e);const n=dr(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function rA(t){return ii(t)&&!dr(t).Ho()&&t.D_.length>0}function iA(t){dr(t).start()}function UB(t){return g(this,null,function*(){dr(t).d_()})}function jB(t){return g(this,null,function*(){const e=dr(t);for(const n of t.D_)e.I_(n.mutations)})}function $B(t,e,n){return g(this,null,function*(){const r=t.D_.shift(),i=og.from(r,e,n);yield nA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield nl(t)})}function BB(t,e){return g(this,null,function*(){e&&dr(t).P_&&(yield function(r,i){return g(this,null,function*(){if(function(o){return N$(o)&&o!==w.ABORTED}(i.code)){const s=r.D_.shift();dr(r).Zo(),yield nA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield nl(r)}})}(t,e)),rA(t)&&iA(t)})}function yv(t,e){return g(this,null,function*(){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),P("RemoteStore","RemoteStore received new credentials");const r=ii(n);n.v_.add(3),yield fa(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield tl(n)})}function HB(t,e){return g(this,null,function*(){const n=ne(t);e?(n.v_.delete(2),yield tl(n)):e||(n.v_.add(2),yield fa(n),n.x_.set("Unknown"))})}function gs(t){return t.N_||(t.N_=function(n,r,i){const s=ne(n);return s.R_(),new DB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:OB.bind(null,t),To:xB.bind(null,t),u_:LB.bind(null,t)}),t.F_.push(e=>g(this,null,function*(){e?(t.N_.Zo(),pg(t)?fg(t):t.x_.set("Unknown")):(yield t.N_.stop(),tA(t))}))),t.N_}function dr(t){return t.B_||(t.B_=function(n,r,i){const s=ne(n);return s.R_(),new PB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:UB.bind(null,t),To:BB.bind(null,t),E_:jB.bind(null,t),T_:$B.bind(null,t)}),t.F_.push(e=>g(this,null,function*(){e?(t.B_.Zo(),yield nl(t)):(yield t.B_.stop(),t.D_.length>0&&(P("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}class gg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new gg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new k(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mg(t,e){if(yn("AsyncQueue",`${e}: ${t}`),la(t))return new k(w.UNAVAILABLE,`${e}: ${t}`);throw t}class Mi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||j.comparator(n.key,r.key):(n,r)=>j.comparator(n.key,r.key),this.keyedMap=Rs(),this.sortedSet=new Ne(this.comparator)}static emptySet(e){return new Mi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class vv{constructor(){this.L_=new Ne(j.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):z():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Yi{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Yi(e,n,Mi.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class qB{constructor(){this.q_=void 0,this.Q_=[]}}class zB{constructor(){this.queries=new ps(e=>CC(e),Qu),this.onlineState="Unknown",this.K_=new Set}}function WB(t,e){return g(this,null,function*(){const n=ne(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new qB),i)try{s.q_=yield n.onListen(r)}catch(o){const a=mg(o,`Initialization of query '${ui(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&yg(n)})}function GB(t,e){return g(this,null,function*(){const n=ne(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function KB(t,e){const n=ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&yg(n)}function QB(t,e,n){const r=ne(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function yg(t){t.K_.forEach(e=>{e.next()})}class ZB{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Yi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Yi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class sA{constructor(e){this.key=e}}class oA{constructor(e){this.key=e}}class XB{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=he(),this.mutatedKeys=he(),this.ua=AC(e),this.ca=new Mi(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new vv,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,h)=>{const d=i.get(l),f=Zu(this.query,h)?h:null,m=!!d&&this.mutatedKeys.has(d.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;d&&f?d.data.isEqual(f.data)?m!==y&&(r.track({type:3,doc:f}),_=!0):this.Ia(d,f)||(r.track({type:2,doc:f}),_=!0,(c&&this.ua(f,c)>0||u&&this.ua(f,u)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),_=!0):d&&!f&&(r.track({type:1,doc:d}),_=!0,(c||u)&&(a=!0)),_&&(f?(o=o.add(f),s=y?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((l,h)=>function(f,m){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return y(f)-y(m)}(l.type,h.type)||this.ua(l.doc,h.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],c=this.aa.size===0&&this.current&&!i?1:0,u=c!==this._a;return this._a=c,o.length!==0||u?{snapshot:new Yi(this.query,e.ca,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new vv,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=he(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new oA(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new sA(r))}),n}Ra(e){this.oa=e.hs,this.aa=he();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Yi.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class YB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JB{constructor(e){this.key=e,this.ma=!1}}class e4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new ps(a=>CC(a),Qu),this.pa=new Map,this.ya=new Set,this.wa=new Ne(j.comparator),this.Sa=new Map,this.ba=new ug,this.Da={},this.Ca=new Map,this.va=Xi.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}function t4(t,e){return g(this,null,function*(){const n=h4(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=yield IB(n.localStore,dn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield n4(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&YC(n.remoteStore,o)}return i})}function n4(t,e,n,r,i){return g(this,null,function*(){t.Ma=(h,d,f)=>function(y,_,T,C){return g(this,null,function*(){let S=_.view.ha(T);S.Xi&&(S=yield pv(y.localStore,_.query,!1).then(({documents:B})=>_.view.ha(B,S)));const V=C&&C.targetChanges.get(_.targetId),U=C&&C.targetMismatches.get(_.targetId)!=null,H=_.view.applyChanges(S,y.isPrimaryClient,V,U);return Ev(y,_.targetId,H.da),H.snapshot})}(t,h,d,f);const s=yield pv(t.localStore,e,!0),o=new XB(e,s.hs),a=o.ha(s.documents),c=da.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);Ev(t,n,u.da);const l=new YB(e,n,o);return t.ga.set(e,l),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot})}function r4(t,e){return g(this,null,function*(){const n=ne(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Qu(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ld(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),JC(n.remoteStore,r.targetId),Vd(n,r.targetId)}).catch(ua))):(Vd(n,r.targetId),yield Ld(n.localStore,r.targetId,!0))})}function i4(t,e,n){return g(this,null,function*(){const r=d4(t);try{const i=yield function(o,a){const c=ne(o),u=Be.now(),l=a.reduce((f,m)=>f.add(m.key),he());let h,d;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=Hn(),y=he();return c.os.getEntries(f,l).next(_=>{m=_,m.forEach((T,C)=>{C.isValidDocument()||(y=y.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,m)).next(_=>{h=_;const T=[];for(const C of a){const S=R$(C,h.get(C.key).overlayedDocument);S!=null&&T.push(new Er(C.key,S,yC(S.value.mapValue),Qt.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,T,a)}).next(_=>{d=_;const T=_.applyToLocalDocumentSet(h,y);return c.documentOverlayCache.saveOverlays(f,_.batchId,T)})}).then(()=>({batchId:d.batchId,changes:bC(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Da[o.currentUser.toKey()];u||(u=new Ne(_e)),u=u.insert(a,c),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),yield pa(r,i.changes),yield nl(r.remoteStore)}catch(i){const s=mg(i,"Failed to persist write");n.reject(s)}})}function aA(t,e){return g(this,null,function*(){const n=ne(t);try{const r=yield _B(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?Ae(o.ma):i.removedDocuments.size>0&&(Ae(o.ma),o.ma=!1))}),yield pa(n,r,e)}catch(r){yield ua(r)}})}function _v(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=ne(o);c.onlineState=a;let u=!1;c.queries.forEach((l,h)=>{for(const d of h.Q_)d.U_(a)&&(u=!0)}),u&&yg(c)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function s4(t,e,n){return g(this,null,function*(){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Ne(j.comparator);o=o.insert(s,ht.newNoDocument(s,Y.min()));const a=he().add(s),c=new Ju(Y.min(),new Map,new Ne(_e),o,a);yield aA(r,c),r.wa=r.wa.remove(s),r.Sa.delete(e),vg(r)}else yield Ld(r.localStore,e,!1).then(()=>Vd(r,e,n)).catch(ua)})}function o4(t,e){return g(this,null,function*(){const n=ne(t),r=e.batch.batchId;try{const i=yield vB(n.localStore,e);uA(n,r,null),cA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield pa(n,i)}catch(i){yield ua(i)}})}function a4(t,e,n){return g(this,null,function*(){const r=ne(t);try{const i=yield function(o,a){const c=ne(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ae(h!==null),l=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);uA(r,e,n),cA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield pa(r,i)}catch(i){yield ua(i)}})}function cA(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function uA(t,e,n){const r=ne(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Vd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||lA(t,r)})}function lA(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(JC(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),vg(t))}function Ev(t,e,n){for(const r of n)r instanceof sA?(t.ba.addReference(r.key,e),c4(t,r)):r instanceof oA?(P("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||lA(t,r.key)):z()}function c4(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(P("SyncEngine","New document in limbo: "+n),t.ya.add(r),vg(t))}function vg(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new j(be.fromString(e)),r=t.va.next();t.Sa.set(r,new JB(n)),t.wa=t.wa.insert(n,r),YC(t.remoteStore,new er(dn(ig(n.path)),r,"TargetPurposeLimboResolution",pC._e))}}function pa(t,e,n){return g(this,null,function*(){const r=ne(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,c)=>{o.push(r.Ma(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const l=hg.Ki(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.fa.u_(i),yield function(c,u){return g(this,null,function*(){const l=ne(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>I.forEach(u,d=>I.forEach(d.qi,f=>l.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>I.forEach(d.Qi,f=>l.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!la(h))throw h;P("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const f=l.ns.get(d),m=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(m);l.ns=l.ns.insert(d,y)}}})}(r.localStore,s))})}function u4(t,e){return g(this,null,function*(){const n=ne(t);if(!n.currentUser.isEqual(e)){P("SyncEngine","User change. New user:",e.toKey());const r=yield KC(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(c=>{c.reject(new k(w.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield pa(n,r.us)}})}function l4(t,e){const n=ne(t),r=n.Sa.get(e);if(r&&r.ma)return he().add(r.key);{let i=he();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function h4(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s4.bind(null,e),e.fa.u_=KB.bind(null,e.eventManager),e.fa.xa=QB.bind(null,e.eventManager),e}function d4(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a4.bind(null,e),e}class wv{constructor(){this.synchronizeTabs=!1}initialize(e){return g(this,null,function*(){this.serializer=el(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return yB(this.persistence,new gB,e.initialUser,this.serializer)}createPersistence(e){return new dB(lg.Hr,this.serializer)}createSharedClientState(e){return new SB}terminate(){return g(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}class f4{initialize(e,n){return g(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_v(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=u4.bind(null,this.syncEngine),yield HB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new zB}()}createDatastore(e){const n=el(e.databaseInfo.databaseId),r=function(s){return new bB(s)}(e.databaseInfo);return function(s,o,a,c){return new MB(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new kB(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_v(this.syncEngine,n,0),function(){return mv.D()?new mv:new CB}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){const h=new e4(i,s,o,a,c,u);return l&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return g(this,null,function*(){var e;yield function(r){return g(this,null,function*(){const i=ne(r);P("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield fa(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}}class p4{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):yn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class g4{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lt.UNAUTHENTICATED,this.clientId=fC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>g(this,null,function*(){P("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(P("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new k(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>g(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=mg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function oh(t,e){return g(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),P("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>g(this,null,function*(){r.isEqual(i)||(yield KC(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Iv(t,e){return g(this,null,function*(){t.asyncQueue.verifyOperationInProgress();const n=yield y4(t);P("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>yv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>yv(e.remoteStore,i)),t._onlineComponents=e})}function m4(t){return t.name==="FirebaseError"?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function y4(t){return g(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){P("FirestoreClient","Using user provided OfflineComponentProvider");try{yield oh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!m4(n))throw n;Gi("Error using user provided cache. Falling back to memory cache: "+n),yield oh(t,new wv)}}else P("FirestoreClient","Using default OfflineComponentProvider"),yield oh(t,new wv);return t._offlineComponents})}function hA(t){return g(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(P("FirestoreClient","Using user provided OnlineComponentProvider"),yield Iv(t,t._uninitializedComponentsProvider._online)):(P("FirestoreClient","Using default OnlineComponentProvider"),yield Iv(t,new f4))),t._onlineComponents})}function v4(t){return hA(t).then(e=>e.syncEngine)}function Tv(t){return g(this,null,function*(){const e=yield hA(t),n=e.eventManager;return n.onListen=t4.bind(null,e.syncEngine),n.onUnlisten=r4.bind(null,e.syncEngine),n})}function dA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Sv=new Map;function fA(t,e,n){if(!n)throw new k(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _4(t,e,n,r){if(e===!0&&r===!0)throw new k(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Cv(t){if(!j.isDocumentKey(t))throw new k(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Av(t){if(j.isDocumentKey(t))throw new k(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":z()}function ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new k(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rl(t);throw new k(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Rv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new k(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new k(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new k(w.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new k(w.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new k(w.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class il{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new k(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new k(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new x2;switch(r.type){case"firstParty":return new U2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new k(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Sv.get(n);r&&(P("ComponentProvider","Removing Datastore"),Sv.delete(n),r.terminate())}(this),Promise.resolve()}}function E4(t,e,n,r={}){var i;const s=(t=ar(t,il))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Gi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=lt.MOCK_USER;else{a=k1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new k(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new lt(u)}t._authCredentials=new L2(new dC(a,c))}}class si{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new si(this.firestore,e,this._query)}}class bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}}class cr extends si{constructor(e,n,r){super(e,n,ig(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new j(e))}withConverter(e){return new cr(this.firestore,e,this._path)}}function w4(t,e,...n){if(t=ot(t),fA("collection","path",e),t instanceof il){const r=be.fromString(e,...n);return Av(r),new cr(t,null,r)}{if(!(t instanceof bt||t instanceof cr))throw new k(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return Av(r),new cr(t.firestore,null,r)}}function pA(t,e,...n){if(t=ot(t),arguments.length===1&&(e=fC.newId()),fA("doc","path",e),t instanceof il){const r=be.fromString(e,...n);return Cv(r),new bt(t,null,new j(r))}{if(!(t instanceof bt||t instanceof cr))throw new k(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return Cv(r),new bt(t.firestore,t instanceof cr?t.converter:null,new j(r))}}class I4{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new ZC(this,"async_queue_retry"),this._u=()=>{const n=sh();n&&P("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=sh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=sh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new or;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return g(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!la(e))throw e;P("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw yn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=gg.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&z()}verifyOperationInProgress(){}hu(){return g(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function bv(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}let Ji=class extends il{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new I4}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||mA(this),this._firestoreClient.terminate()}};function T4(t,e){const n=typeof t=="object"?t:dp(),r=typeof t=="string"?t:e||"(default)",i=hp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=M1("firestore");s&&E4(i,...s)}return i}function gA(t){return t._firestoreClient||mA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function mA(t){var e,n,r;const i=t._freezeSettings(),s=function(a,c,u,l){return new J2(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,dA(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new g4(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new es(mt.fromBase64String(e))}catch(n){throw new k(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new es(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new k(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ol{constructor(e){this._methodName=e}}class _g{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new k(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new k(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}const S4=/^__.*__$/;class C4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Er(e,this.data,this.fieldMask,n,this.fieldTransforms):new ha(e,this.data,n,this.fieldTransforms)}}class yA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Er(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}class Eg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Eg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Wc(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(vA(this.du)&&S4.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class A4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||el(e)}Su(e,n,r,i=!1){return new Eg({du:e,methodName:n,wu:r,path:nt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wg(t){const e=t._freezeSettings(),n=el(t._databaseId);return new A4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function R4(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);Tg("Data must be an object, but it was:",o,r);const a=_A(r,o);let c,u;if(s.merge)c=new Dt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const h of s.mergeFields){const d=Fd(e,h,n);if(!o.contains(d))throw new k(w.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);wA(l,d)||l.push(d)}c=new Dt(l),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new C4(new Ct(a),c,u)}class al extends ol{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof al}}class Ig extends ol{_toFieldTransform(e){return new T$(e.path,new Oo)}isEqual(e){return e instanceof Ig}}function b4(t,e,n,r){const i=t.Su(1,e,n);Tg("Data must be an object, but it was:",i,r);const s=[],o=Ct.empty();ri(r,(c,u)=>{const l=Sg(e,c,n);u=ot(u);const h=i.fu(l);if(u instanceof al)s.push(l);else{const d=ga(u,h);d!=null&&(s.push(l),o.set(l,d))}});const a=new Dt(s);return new yA(o,a,i.fieldTransforms)}function D4(t,e,n,r,i,s){const o=t.Su(1,e,n),a=[Fd(e,r,n)],c=[i];if(s.length%2!=0)throw new k(w.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Fd(e,s[d])),c.push(s[d+1]);const u=[],l=Ct.empty();for(let d=a.length-1;d>=0;--d)if(!wA(u,a[d])){const f=a[d];let m=c[d];m=ot(m);const y=o.fu(f);if(m instanceof al)u.push(f);else{const _=ga(m,y);_!=null&&(u.push(f),l.set(f,_))}}const h=new Dt(u);return new yA(l,h,o.fieldTransforms)}function P4(t,e,n,r=!1){return ga(n,t.Su(r?4:3,e))}function ga(t,e){if(EA(t=ot(t)))return Tg("Unsupported field value:",e,t),_A(t,e);if(t instanceof ol)return function(r,i){if(!vA(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=ga(a,i.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return E$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Be.fromDate(r);return{timestampValue:qc(i.serializer,s)}}if(r instanceof Be){const s=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qc(i.serializer,s)}}if(r instanceof _g)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof es)return{bytesValue:$C(i.serializer,r._byteString)};if(r instanceof bt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:cg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${rl(r)}`)}(t,e)}function _A(t,e){const n={};return gC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ri(t,(r,i)=>{const s=ga(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function EA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof _g||t instanceof es||t instanceof bt||t instanceof ol)}function Tg(t,e,n){if(!EA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=rl(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function Fd(t,e,n){if((e=ot(e))instanceof sl)return e._internalPath;if(typeof e=="string")return Sg(t,e);throw Wc("Field path arguments must be of type string or ",t,!1,void 0,n)}const M4=new RegExp("[~\\*/\\[\\]]");function Sg(t,e,n){if(e.search(M4)>=0)throw Wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sl(...e.split("."))._internalPath}catch{throw Wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new k(w.INVALID_ARGUMENT,a+t+c)}function wA(t,e){return t.some(n=>n.isEqual(e))}class IA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N4 extends IA{data(){return super.data()}}function cl(t,e){return typeof e=="string"?Sg(t,e):e instanceof sl?e._internalPath:e._delegate._internalPath}function k4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new k(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cg{}class TA extends Cg{}function O4(t,e,...n){let r=[];e instanceof Cg&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof Ag).length,a=s.filter(c=>c instanceof ul).length;if(o>1||o>0&&a>0)throw new k(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ul extends TA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ul(e,n,r)}_apply(e){const n=this._parse(e);return SA(e._query,n),new si(e.firestore,e.converter,Pd(e._query,n))}_parse(e){const n=wg(e.firestore);return function(s,o,a,c,u,l,h){let d;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new k(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){Pv(h,l);const f=[];for(const m of h)f.push(Dv(c,s,m));d={arrayValue:{values:f}}}else d=Dv(c,s,h)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||Pv(h,l),d=P4(a,o,h,l==="in"||l==="not-in");return je.create(u,l,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function x4(t,e,n){const r=e,i=cl("where",t);return ul._create(i,r,n)}class Ag extends Cg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ag(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Yt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)SA(o,c),o=Pd(o,c)}(e._query,n),new si(e.firestore,e.converter,Pd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rg extends TA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Rg(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new k(w.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new k(w.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ko(s,o)}(e._query,this._field,this._direction);return new si(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new fs(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function L4(t,e="asc"){const n=e,r=cl("orderBy",t);return Rg._create(r,n)}function Dv(t,e,n){if(typeof(n=ot(n))=="string"){if(n==="")throw new k(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SC(e)&&n.indexOf("/")!==-1)throw new k(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(be.fromString(n));if(!j.isDocumentKey(r))throw new k(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xy(t,new j(r))}if(n instanceof bt)return Xy(t,n._key);throw new k(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rl(n)}.`)}function Pv(t,e){if(!Array.isArray(t)||t.length===0)throw new k(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SA(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new k(w.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new k(w.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class V4{convertValue(e,n="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ri(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new _g(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=eg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Po(e));default:return null}}convertTimestamp(e){const n=hr(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=be.fromString(e);Ae(GC(r));const i=new Mo(r.get(1),r.get(3)),s=new j(r.popFirst(5));return i.isEqual(n)||yn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function F4(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ds{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class CA extends IA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ic extends CA{data(e={}){return super.data(e)}}class U4{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ds(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ic(this._firestore,this._userDataWriter,r.key,r,new Ds(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new k(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const c=new ic(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ds(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const c=new ic(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ds(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:j4(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function j4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}class AA extends V4{constructor(e){super(),this.firestore=e}convertBytes(e){return new es(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function $4(t,e,n,...r){t=ar(t,bt);const i=ar(t.firestore,Ji),s=wg(i);let o;return o=typeof(e=ot(e))=="string"||e instanceof sl?D4(s,"updateDoc",t._key,e,n,r):b4(s,"updateDoc",t._key,e),bg(i,[o.toMutation(t._key,Qt.exists(!0))])}function B4(t){return bg(ar(t.firestore,Ji),[new sg(t._key,Qt.none())])}function H4(t,e){const n=ar(t.firestore,Ji),r=pA(t),i=F4(t.converter,e);return bg(n,[R4(wg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Qt.exists(!1))]).then(()=>r)}function q4(t,...e){var n,r,i;t=ot(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||bv(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(bv(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let c,u,l;if(t instanceof bt)u=ar(t.firestore,Ji),l=ig(t._key.path),c={next:h=>{e[o]&&e[o](z4(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=ar(t,si);u=ar(h.firestore,Ji),l=h._query;const d=new AA(u);c={next:f=>{e[o]&&e[o](new U4(u,d,h,f))},error:e[o+1],complete:e[o+2]},k4(t._query)}return function(d,f,m,y){const _=new p4(y),T=new ZB(f,_,m);return d.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return WB(yield Tv(d),T)})),()=>{_.La(),d.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return GB(yield Tv(d),T)}))}}(gA(u),l,a,c)}function bg(t,e){return function(r,i){const s=new or;return r.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return i4(yield v4(r),i,s)})),s.promise}(gA(t),e)}function z4(t,e,n){const r=n.docs.get(e._key),i=new AA(t);return new CA(t,i,e._key,r,new Ds(n.hasPendingWrites,n.fromCache),e.converter)}function W4(){return new Ig("serverTimestamp")}(function(e,n=!0){(function(i){ds=i})(cs),qi(new zr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ji(new V2(r.getProvider("auth-internal")),new $2(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new k(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Pt(Wy,"4.4.3",e),Pt(Wy,"4.4.3","esm2017")})();class Dg{constructor(e){return e}}const RA="firestore";class G4{constructor(){return fp(RA)}}const Pg=new se("angularfire2.firestore-instances");function K4(t,e){const n=MT(RA,t,e);return n&&new Dg(n)}function Q4(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Dg(r)}}const Z4={provide:G4,deps:[[new Un,Pg]]},X4={provide:Dg,useFactory:K4,deps:[[new Un,Pg],Yo]};let Y4=(()=>{var t;class e{constructor(){Pt("angularfire",bc.full,"fst")}}return t=e,Ge(e,"ɵfac",function(r){return new(r||t)}),Ge(e,"ɵmod",tu({type:t})),Ge(e,"ɵinj",au({providers:[X4,Z4]})),e})();function J4(t,...e){return{ngModule:Y4,providers:[{provide:Pg,useFactory:Q4(t),multi:!0,deps:[Me,Wn,pp,gp,[new Un,cS],[new Un,NT],...e]}]}}const OH=yt(H4,!0),xH=yt(w4,!0),LH=yt(B4,!0),VH=yt(pA,!0),eH=yt(T4,!0),FH=yt(q4,!0),UH=yt(L4,!0),jH=yt(O4,!0),$H=yt(W4,!0),BH=yt($4,!0),HH=yt(x4,!0),tH=JSON.parse('{"apiKey":"AIzaSyC7Tu56_1ry-u9AnZfg_AjiMWvvNmFIPGU","authDomain":"test-projects-19046.firebaseapp.com","projectId":"test-projects-19046","storageBucket":"test-projects-19046.appspot.com","messagingSenderId":"736849418469","appId":"1:736849418469:web:7546f16c5e355b1c6a9c0c","measurementId":"G-FKRCW93P0X"}'),nH={providers:[w1(),sO(oO()),jO(),wE(dF(()=>fF(tH)),J4(()=>eH()),Rj(()=>bj()))]};bO(YL,nH);export{rI as $,Cu as A,uH as B,PM as C,jw as D,DH as E,RH as F,AH as G,wH as H,se as I,bH as J,eH as K,Iu as L,OH as M,Me as N,Le as O,gr as P,xH as Q,cp as R,$H as S,BH as T,VH as U,LH as V,FH as W,jH as X,HH as Y,UH as Z,Ge as _,XD as a,vH as a0,iI as a1,Lh as a2,cH as a3,GN as a4,fH as a5,SH as a6,IH as a7,mH as a8,iH as a9,yH as aa,sH as ab,pH as ac,gH as ad,aI as ae,aH as af,q as b,b_ as c,hH as d,cI as e,Bf as f,dH as g,vN as h,b as i,AE as j,_H as k,EH as l,ye as m,TH as n,kt as o,$N as p,ee as q,FO as r,nn as s,ab as t,CH as u,wt as v,wi as w,It as x,oH as y,Ap as z,D_ as ɵ};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
